'use strict';var _0x5b7fe4=_0x4fd9;(function(_0x182a8e,_0xcee0f3){var _0x678a56=_0x4fd9,_0x5517ea=_0x182a8e();while(!![]){try{var _0x11852c=-parseInt(_0x678a56(0x105))/0x1+parseInt(_0x678a56(0x17b))/0x2+parseInt(_0x678a56(0x10d))/0x3+parseInt(_0x678a56(0x174))/0x4+parseInt(_0x678a56(0x15e))/0x5+parseInt(_0x678a56(0x16d))/0x6*(parseInt(_0x678a56(0x163))/0x7)+-parseInt(_0x678a56(0x127))/0x8;if(_0x11852c===_0xcee0f3)break;else _0x5517ea['push'](_0x5517ea['shift']());}catch(_0x7e9491){_0x5517ea['push'](_0x5517ea['shift']());}}}(_0x18f7,0x76f15));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x1d74e5){var _0x7b18a9=_0x4fd9;return document[_0x7b18a9(0x158)](_0x1d74e5);}var canvas=id('canvas'),sheet=id(_0x5b7fe4(0xee)),c=canvas[_0x5b7fe4(0x120)]('2d');c[_0x5b7fe4(0x130)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x5b7fe4(0xfb)]=function(){addLevel();};function clearMap(){var _0x2c106a=_0x5b7fe4;map=[],mapObject[_0x2c106a(0x123)]=[],mapObject[_0x2c106a(0x143)]=[],mapObject[_0x2c106a(0xf2)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x35e42b=_0x5b7fe4;let _0x5accbd=document[_0x35e42b(0x121)](_0x35e42b(0x129));for(let _0x1e3153=_0x5accbd[_0x35e42b(0x13c)]-0x1;_0x1e3153>=0x0;_0x1e3153--){_0x5accbd[_0x1e3153][_0x35e42b(0x170)]['removeChild'](_0x5accbd[_0x1e3153]);}}id(_0x5b7fe4(0x15b))[_0x5b7fe4(0xfb)]=saveImage;function saveImage(){var _0x22e78b=_0x5b7fe4;canvas['toBlob'](_0x49fb86=>navigator[_0x22e78b(0x107)][_0x22e78b(0x16b)]([new ClipboardItem({'image/png':_0x49fb86})]));}function addButton(){var _0xbb32c4=_0x5b7fe4,_0x367394=(function(){var _0x3d100b=!![];return function(_0x151b3c,_0x1717f4){var _0x27a1a2=_0x3d100b?function(){var _0x1fbdb0=_0x4fd9;if(_0x1717f4){var _0x313e38=_0x1717f4[_0x1fbdb0(0x125)](_0x151b3c,arguments);return _0x1717f4=null,_0x313e38;}}:function(){};return _0x3d100b=![],_0x27a1a2;};}()),_0x20eaa3=_0x367394(this,function(){var _0x16d4de=_0x4fd9,_0x5289ae;try{var _0x1510bd=Function('return\x20(function()\x20'+_0x16d4de(0x157)+');');_0x5289ae=_0x1510bd();}catch(_0x2ba1ab){_0x5289ae=window;}var _0x6750ae=new RegExp('[PFQkzGvRvjANQxFqKpmTYHHyPJWCLSLNAEAWTVWQVFCZVqwWxVFGzGwxZKTvUGJmACDVUP]','g'),_0x3f8e9e='PFsQkaanztGovRnavjnANdrQe.gxFithqub.Kpiom;TlocalYHhHostyPJWCLSLNAEAWTVWQVFCZVqwWxVFGzGwxZKTvUGJmACDVUP'[_0x16d4de(0x178)](_0x6750ae,'')[_0x16d4de(0x167)](';'),_0x43542d,_0x3f4839,_0x1cc4de,_0x3a32b5,_0x1cfeec=function(_0xd4ea8,_0x31e803,_0x11a4d5){var _0x2e28f6=_0x16d4de;if(_0xd4ea8[_0x2e28f6(0x13c)]!=_0x31e803)return![];for(var _0x519872=0x0;_0x519872<_0x31e803;_0x519872++){for(var _0x33aa7e=0x0;_0x33aa7e<_0x11a4d5['length'];_0x33aa7e+=0x2){if(_0x519872==_0x11a4d5[_0x33aa7e]&&_0xd4ea8['charCodeAt'](_0x519872)!=_0x11a4d5[_0x33aa7e+0x1])return![];}}return!![];},_0x5691da=function(_0x4d3c50,_0x721c76,_0x27574a){return _0x1cfeec(_0x721c76,_0x27574a,_0x4d3c50);},_0x1d8304=function(_0x455cfa,_0x23d9a1,_0x222d15){return _0x5691da(_0x23d9a1,_0x455cfa,_0x222d15);},_0x27d0fa=function(_0x3ac931,_0x31ccdb,_0x488738){return _0x1d8304(_0x31ccdb,_0x488738,_0x3ac931);};for(var _0x4333df in _0x5289ae){if(_0x1cfeec(_0x4333df,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x43542d=_0x4333df;break;}}for(var _0x1cc365 in _0x5289ae[_0x43542d]){if(_0x27d0fa(0x6,_0x1cc365,[0x5,0x6e,0x0,0x64])){_0x3f4839=_0x1cc365;break;}}for(var _0x229954 in _0x5289ae[_0x43542d]){if(_0x1d8304(_0x229954,[0x7,0x6e,0x0,0x6c],0x8)){_0x1cc4de=_0x229954;break;}}if(!('~'>_0x3f4839))for(var _0x40fb89 in _0x5289ae[_0x43542d][_0x1cc4de]){if(_0x5691da([0x7,0x65,0x0,0x68],_0x40fb89,0x8)){_0x3a32b5=_0x40fb89;break;}}if(!_0x43542d||!_0x5289ae[_0x43542d])return;var _0x3ddcee=_0x5289ae[_0x43542d][_0x3f4839],_0x32d9c9=!!_0x5289ae[_0x43542d][_0x1cc4de]&&_0x5289ae[_0x43542d][_0x1cc4de][_0x3a32b5],_0x49d993=_0x3ddcee||_0x32d9c9;if(!_0x49d993)return;var _0x5902a8=![];for(var _0x434db9=0x0;_0x434db9<_0x3f8e9e[_0x16d4de(0x13c)];_0x434db9++){var _0x3f4839=_0x3f8e9e[_0x434db9],_0x39503b=_0x3f4839[0x0]===String[_0x16d4de(0x12a)](0x2e)?_0x3f4839[_0x16d4de(0x183)](0x1):_0x3f4839,_0x58b41e=_0x49d993['length']-_0x39503b[_0x16d4de(0x13c)],_0x59fdd7=_0x49d993['indexOf'](_0x39503b,_0x58b41e),_0x17af4a=_0x59fdd7!==-0x1&&_0x59fdd7===_0x58b41e;_0x17af4a&&((_0x49d993[_0x16d4de(0x13c)]==_0x3f4839[_0x16d4de(0x13c)]||_0x3f4839['indexOf']('.')===0x0)&&(_0x5902a8=!![]));}if(!_0x5902a8){var _0x48d456=new RegExp('[wSYLASPfExTpTifNAMIRTGrxCviw]','g'),_0xc7eaf2=_0x16d4de(0x151)['replace'](_0x48d456,'');_0x5289ae[_0x43542d][_0x1cc4de]=_0xc7eaf2;}});_0x20eaa3();var _0x425663=document[_0xbb32c4(0x15d)]('button');_0x425663[_0xbb32c4(0x12c)]=levels[_0xbb32c4(0x13c)],_0x425663['innerHTML']=levels[_0xbb32c4(0x13c)],_0x425663[_0xbb32c4(0x100)]+=_0xbb32c4(0xf0),_0x425663[_0xbb32c4(0x17d)]=function(_0x41f18a){var _0x15e2e9=_0xbb32c4;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0x15e2e9(0x12c)],safeEval(JSON['parse'](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0xbb32c4(0x179))[_0xbb32c4(0x13a)](_0x425663),highlightCurrentLevel();}function addLevel(){madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels['splice'](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON['parse'](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id('mapSizeW')['value'],cellQuantityH=id('mapSizeH')[_0x5b7fe4(0xff)],cellSize=0x10,fileName=_0x5b7fe4(0x172),interactiveTile=0x0;canvas[_0x5b7fe4(0x115)]=cellQuantityW*cellSize,canvas[_0x5b7fe4(0x156)]=cellQuantityH*cellSize,id(_0x5b7fe4(0x12d))[_0x5b7fe4(0xfb)]=function(){var _0x51a775=_0x5b7fe4;cellQuantityW=id(_0x51a775(0x109))[_0x51a775(0xff)],changeMapSize();},id(_0x5b7fe4(0x14e))[_0x5b7fe4(0xfb)]=function(){var _0x476e82=_0x5b7fe4;cellQuantityH=id('mapSizeH')[_0x476e82(0xff)],changeMapSize();},window[_0x5b7fe4(0xf3)]=function(){var _0x5798d4=_0x5b7fe4;for(let _0x4640c2=0x0;_0x4640c2<tiles[_0x5798d4(0x13c)];_0x4640c2++){var _0x442d36=document['createElement'](_0x5798d4(0x137));_0x442d36['id']=_0x5798d4(0x137)+_0x4640c2,_0x442d36[_0x5798d4(0x115)]=0x20,_0x442d36['height']=0x20,_0x442d36['number']=_0x4640c2,_0x442d36[_0x5798d4(0x120)]('2d')['imageSmoothingEnabled']=![];_0x4640c2===0x0&&(_0x442d36[_0x5798d4(0x100)]+=_0x5798d4(0xfc));_0x442d36['className']+=_0x5798d4(0x136),_0x442d36['getContext']('2d')['drawImage'](sheet,tiles[_0x4640c2][0x0]*0x10,tiles[_0x4640c2][0x1]*0x10,0x10,0x10,0x0,0x0,_0x442d36[_0x5798d4(0x115)],_0x442d36[_0x5798d4(0x156)]);var _0x56d057=document[_0x5798d4(0x162)](_0x5798d4(0x108))[0x0];id(_0x5798d4(0xfe))[_0x5798d4(0x13a)](_0x442d36),id(_0x5798d4(0x137)+_0x4640c2)[_0x5798d4(0xfb)]=function(){var _0x4afaa4=_0x5798d4;selectedType=this[_0x4afaa4(0x12c)];for(let _0x4247d6=0x0;_0x4247d6<tiles['length'];_0x4247d6++){id(_0x4afaa4(0x137)+_0x4247d6)[_0x4afaa4(0x101)][_0x4afaa4(0x133)](_0x4afaa4(0x169));}this['className']+=_0x4afaa4(0xfc);};}loop();},id('test')[_0x5b7fe4(0xfb)]=function(){var _0x3cbd0c=_0x5b7fe4;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x5e5027=0x0;_0x5e5027<levels[_0x3cbd0c(0x13c)];_0x5e5027++){levelsArray['push'](JSON[_0x3cbd0c(0x15a)](levels[_0x5e5027]));}var _0xa6dbd=window[_0x3cbd0c(0x186)](_0x3cbd0c(0x10e));},id(_0x5b7fe4(0xf1))[_0x5b7fe4(0xfb)]=function(){var _0x591d30=_0x5b7fe4;interactiveTile?(interactiveTile=0x0,id('interactive')[_0x591d30(0x135)][_0x591d30(0x10a)]='white',id(_0x591d30(0xf1))[_0x591d30(0x135)][_0x591d30(0x17a)]=_0x591d30(0xed)):(interactiveTile=0x1,id(_0x591d30(0xf1))['style'][_0x591d30(0x10a)]=_0x591d30(0xed),id(_0x591d30(0xf1))[_0x591d30(0x135)][_0x591d30(0x17a)]=_0x591d30(0x10f));};var hitBoxToggle=![];id(_0x5b7fe4(0x184))['onclick']=function(){var _0xac65ba=_0x5b7fe4;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0xac65ba(0x184))[_0xac65ba(0xf7)]=_0xac65ba(0x11c);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id('toggle')[_0xac65ba(0xf7)]=_0xac65ba(0x122);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0xac65ba(0x184))[_0xac65ba(0xf7)]='drawing:\x20camera');}};function _0x18f7(){var _0x587f13=['display','getContext','getElementsByClassName','drawing:\x20hitboxes','map','clientY','apply','pageYOffset','10179464SoOGyP','none','levels','fromCharCode','image','number','mapSizeBtnW','mousedown','name','imageSmoothingEnabled','all-scroll','top','remove','offsetLeft','style','\x20tile','canvas','download','URL','appendChild','#002200','length','href','sort','pointer','Discard\x20changes?','pageXOffset','beginPath','camBoxes','add','preventDefault','click','moveMap','block','yRDiff','webkitURL','#5b6ee1','innerWidth','spawn','mapSizeBtnH','contextmenu','zoomOut','abowutSYLASPfEx:bTpTlaifNnAMIkRTGrxCviw','mapSizeH','mousemove','lineWidth','xRDiff','height','{}.constructor(\x22return\x20this\x22)(\x20)','getElementById','keyCode','parse','saveButton','exportText','createElement','250870rDKCYr','zoomIn','rect','strokeStyle','getElementsByTagName','91WXnkzz','#000000','cursor','zoomer','split','stroke','selected','msSaveBlob','write','change','331614dMpBfO','downloadBtn','push','parentNode','files','mapCode','file','831340wFnXbf','cont','which','msSaveOrOpenBlob','replace','cont3','color','1311874EwsYlz','type\x20of\x20camera','onmousedown','document','contains','lineTo','drawImage','exportBox','slice','toggle','addEventListener','open','items','#0000cc','closePath','black','sheet','indexOf','\x20levels','interactive','spawnPoint','onload','object','importing...','onmouseup','innerHTML','clientX','innerHeight','info','onclick','\x20selected','onbeforeunload','cont2','value','className','classList','#ffffff','fillRect','stringify','644827VngpEi','left','clipboard','body','mapSizeW','backgroundColor','function','speed','2316018ZOPQjo','MapTester/index.html','white','globalAlpha','keyup','x:\x20','type','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','width','paste','fillStyle','offsetTop','removeChild','crosshair','clipboardData','drawing:\x20displayed','text','result'];_0x18f7=function(){return _0x587f13;};return _0x18f7();}var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x43e423=_0x5b7fe4;c['clearRect'](0x0,0x0,canvas[_0x43e423(0x115)],canvas['height']),pastedImage&&c[_0x43e423(0x181)](pastedImage,0x0,0x0,pastedImage['width'],pastedImage[_0x43e423(0x156)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x33fd8b=_0x5b7fe4;if(hitBoxToggle==0x1)c['strokeStyle']='#ff0000';else c[_0x33fd8b(0x161)]=_0x33fd8b(0x102);c[_0x33fd8b(0x142)](),c['rect'](square['x'],square['y'],square['w'],square['h']),c[_0x33fd8b(0xec)](),c[_0x33fd8b(0x168)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x5b7fe4(0x175))),dragElement(id(_0x5b7fe4(0xfe))),dragElement(id(_0x5b7fe4(0x179)));function dragElement(_0x3728f9){var _0x1fd74b=_0x5b7fe4,_0x3a3879=0x0,_0x1b5734=0x0,_0x22b57a=0x0,_0x490509=0x0;_0x3728f9[_0x1fd74b(0x17d)]=_0x546d1c;function _0x546d1c(_0x4ef4e5){var _0x58b18b=_0x1fd74b;_0x4ef4e5=_0x4ef4e5||window['event'],_0x22b57a=_0x4ef4e5[_0x58b18b(0xf8)],_0x490509=_0x4ef4e5[_0x58b18b(0x124)],document[_0x58b18b(0xf6)]=_0x2d77ea,document['onmousemove']=_0x4db8c6;}function _0x4db8c6(_0x5c7dbe){var _0x4d82ae=_0x1fd74b;_0x5c7dbe=_0x5c7dbe||window['event'],_0x5c7dbe[_0x4d82ae(0x145)](),_0x3a3879=_0x22b57a-_0x5c7dbe[_0x4d82ae(0xf8)],_0x1b5734=_0x490509-_0x5c7dbe[_0x4d82ae(0x124)],_0x22b57a=_0x5c7dbe['clientX'],_0x490509=_0x5c7dbe[_0x4d82ae(0x124)],_0x3728f9['style'][_0x4d82ae(0x132)]=_0x3728f9['offsetTop']-_0x1b5734+'px',_0x3728f9[_0x4d82ae(0x135)][_0x4d82ae(0x106)]=_0x3728f9[_0x4d82ae(0x134)]-_0x3a3879+'px';}function _0x2d77ea(){var _0x884efe=_0x1fd74b;document[_0x884efe(0xf6)]=null,document['onmousemove']=null;}}var mapCode='';id('exportMap')[_0x5b7fe4(0xfb)]=function(){var _0xfd3437=_0x5b7fe4;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0xa19348=0x0;_0xa19348<levels[_0xfd3437(0x13c)];_0xa19348++){levelsArray[_0xfd3437(0x16f)](JSON['parse'](levels[_0xa19348]));}id(_0xfd3437(0x182))[_0xfd3437(0x135)]['display']='block',id(_0xfd3437(0x15c))[_0xfd3437(0xf7)]=JSON[_0xfd3437(0x104)](levelsArray);};function newMapExport(){var _0xbd4e21=_0x5b7fe4;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0xbd4e21(0x104)](mapObject);};id('closeBtn')['onclick']=function(){var _0x14f96b=_0x5b7fe4;id(_0x14f96b(0x182))['style'][_0x14f96b(0x11f)]='none';},id(_0x5b7fe4(0x16e))[_0x5b7fe4(0xfb)]=function(){var _0x56bc90=_0x5b7fe4;download('map.json',JSON[_0x56bc90(0x104)](levelsArray));},id('file')['onchange']=function(){var _0x1d841d=_0x5b7fe4;console['log'](_0x1d841d(0xf5));let _0x3cb92d=id(_0x1d841d(0x173))['files'][0x0];fileName=id(_0x1d841d(0x173))[_0x1d841d(0x171)][0x0][_0x1d841d(0x12f)][_0x1d841d(0x167)]('.')[0x0];let _0x44a8d9=new FileReader();_0x44a8d9['onload']=function(_0x3e5864){var _0x579c39=_0x1d841d;let _0x2f641b=_0x44a8d9[_0x579c39(0x11e)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x579c39(0x15a)](_0x2f641b);for(let _0x2ae088=0x0;_0x2ae088<levelsArray[_0x579c39(0x13c)];_0x2ae088++){addButton(),levels[_0x2ae088]=JSON[_0x579c39(0x104)](levelsArray[_0x2ae088]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x44a8d9['readAsText'](_0x3cb92d);};function safeEval(_0x384f5a){var _0xea28c3=_0x5b7fe4;typeof _0x384f5a===_0xea28c3(0xf4)&&_0x384f5a!==null&&(map=_0x384f5a[_0xea28c3(0x123)],spawnPoint=_0x384f5a[_0xea28c3(0xf2)],camBoxes=_0x384f5a[_0xea28c3(0x143)]);}var baseWidth=id('mapSizeW')[_0x5b7fe4(0xff)],baseHeight=id(_0x5b7fe4(0x152))[_0x5b7fe4(0xff)];function resizeMap(){var _0x10b703=_0x5b7fe4;let _0x8a9dfa=0x0,_0x3af3bd=0x0;for(let _0x467538=0x0;_0x467538<map['length'];_0x467538++){map[_0x467538]['x']+map[_0x467538]['w']>_0x8a9dfa&&(_0x8a9dfa=map[_0x467538]['x']+map[_0x467538]['w']),map[_0x467538]['y']+map[_0x467538]['h']>_0x3af3bd&&(_0x3af3bd=map[_0x467538]['y']+map[_0x467538]['h']);}_0x3af3bd<baseHeight&&(_0x3af3bd=baseHeight),_0x8a9dfa<baseWidth&&(_0x8a9dfa=baseWidth),cellQuantityW=_0x8a9dfa,id(_0x10b703(0x109))[_0x10b703(0xff)]=_0x8a9dfa,cellQuantityH=_0x3af3bd,id(_0x10b703(0x152))[_0x10b703(0xff)]=_0x3af3bd,changeMapSize();}function highlightCurrentLevel(){var _0x24e973=_0x5b7fe4;let _0x45478c=document[_0x24e973(0x121)](_0x24e973(0x129));for(let _0x30efdb=0x0;_0x30efdb<_0x45478c[_0x24e973(0x13c)];_0x30efdb++){if(_0x45478c[_0x30efdb][_0x24e973(0x12c)]==currentLevel)!_0x45478c[_0x30efdb][_0x24e973(0x101)][_0x24e973(0x17f)](_0x24e973(0x169))&&_0x45478c[_0x30efdb][_0x24e973(0x101)][_0x24e973(0x144)](_0x24e973(0x169));else _0x45478c[_0x30efdb][_0x24e973(0x101)][_0x24e973(0x17f)](_0x24e973(0x169))&&_0x45478c[_0x30efdb][_0x24e973(0x101)][_0x24e973(0x133)](_0x24e973(0x169));}}function cameraMove(){var _0x52b009=_0x5b7fe4;camera['L']&&(sX-=camera[_0x52b009(0x10c)]);camera['R']&&(sX+=camera[_0x52b009(0x10c)]);camera['T']&&(sY-=camera[_0x52b009(0x10c)]);camera['B']&&(sY+=camera[_0x52b009(0x10c)]);sX<0x0&&(sX=0x0);sX>canvas[_0x52b009(0x115)]-window[_0x52b009(0x14c)]&&(sX=canvas[_0x52b009(0x115)]-window[_0x52b009(0x14c)]);sY<0x0&&(sY=0x0);sY>canvas[_0x52b009(0x156)]-window[_0x52b009(0xf9)]&&(sY=canvas['height']-window['innerHeight']);if(camera['zoomOut'])id(_0x52b009(0x166))[_0x52b009(0xff)]--,zoomChange();else camera[_0x52b009(0x15f)]&&(id(_0x52b009(0x166))[_0x52b009(0xff)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x19c940=_0x5b7fe4;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x19c940(0x15f)]||camera[_0x19c940(0x150)])&&cameraMove();c['globalAlpha']=0x1;for(let _0xa03b93=0x0;_0xa03b93<map[_0x19c940(0x13c)];_0xa03b93++){if(map[_0xa03b93][_0x19c940(0x113)]>0x33)for(let _0x1ed1ec=0x0;_0x1ed1ec<map[_0xa03b93]['h'];_0x1ed1ec++){for(let _0x567d8c=0x0;_0x567d8c<map[_0xa03b93]['w'];_0x567d8c++){c[_0x19c940(0x181)](id('sheet'),tiles[map[_0xa03b93]['type']][0x0]*0x10,tiles[map[_0xa03b93][_0x19c940(0x113)]][0x1]*0x10,0x10,0x10,(map[_0xa03b93]['x']+_0x567d8c)*cellSize,(map[_0xa03b93]['y']+_0x1ed1ec)*cellSize,cellSize,cellSize);}}}for(let _0x17f659=0x0;_0x17f659<map[_0x19c940(0x13c)];_0x17f659++){if(map[_0x17f659][_0x19c940(0x113)]<=0x33)for(let _0x4fafe9=0x0;_0x4fafe9<map[_0x17f659]['h'];_0x4fafe9++){for(let _0x337300=0x0;_0x337300<map[_0x17f659]['w'];_0x337300++){c[_0x19c940(0x181)](id(_0x19c940(0xee)),tiles[map[_0x17f659][_0x19c940(0x113)]][0x0]*0x10,tiles[map[_0x17f659][_0x19c940(0x113)]][0x1]*0x10,0x10,0x10,(map[_0x17f659]['x']+_0x337300)*cellSize,(map[_0x17f659]['y']+_0x4fafe9)*cellSize,cellSize,cellSize);}}}for(let _0x399b39=0x0;_0x399b39<hitBoxes[_0x19c940(0x13c)];_0x399b39++){c[_0x19c940(0x117)]=_0x19c940(0x164),c[_0x19c940(0x103)](hitBoxes[_0x399b39]['x']*cellSize,hitBoxes[_0x399b39]['y']*cellSize,hitBoxes[_0x399b39]['w']*cellSize,hitBoxes[_0x399b39]['h']*cellSize);}c[_0x19c940(0x110)]=0x1;for(let _0x37802b=0x0;_0x37802b<camBoxes[_0x19c940(0x13c)];_0x37802b++){c[_0x19c940(0x161)]=_0x19c940(0x13b),c['beginPath'](),c[_0x19c940(0x160)](camBoxes[_0x37802b]['x']*cellSize,camBoxes[_0x37802b]['y']*cellSize,camBoxes[_0x37802b]['w']*cellSize,camBoxes[_0x37802b]['h']*cellSize),c['closePath'](),c['stroke']();}c['fillStyle']=_0x19c940(0x14b),c[_0x19c940(0x103)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x1a0ee5=_0x5b7fe4;c[_0x1a0ee5(0x154)]=0.1,c['strokeStyle']=_0x1a0ee5(0x102);for(let _0x129c95=0x0;_0x129c95<canvas[_0x1a0ee5(0x115)];_0x129c95+=cellSize){c[_0x1a0ee5(0x142)](),c['moveTo'](_0x129c95,0x0),c['lineTo'](_0x129c95,canvas[_0x1a0ee5(0x156)]),c[_0x1a0ee5(0xec)](),c[_0x1a0ee5(0x168)]();}for(let _0x21480d=0x0;_0x21480d<canvas[_0x1a0ee5(0x156)];_0x21480d+=cellSize){c[_0x1a0ee5(0x142)](),c['moveTo'](0x0,_0x21480d),c[_0x1a0ee5(0x180)](canvas[_0x1a0ee5(0x115)],_0x21480d),c[_0x1a0ee5(0xec)](),c[_0x1a0ee5(0x168)]();}c['lineWidth']=0x1;}var definingSpawnpoint=![];id(_0x5b7fe4(0x14d))['onclick']=function(){var _0x574020=_0x5b7fe4;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x574020(0x14d))[_0x574020(0x135)][_0x574020(0x17a)]='#000000',id('canvas')[_0x574020(0x135)][_0x574020(0x165)]=_0x574020(0x11a),canvas[_0x574020(0xfb)]=null;return;}definingSpawnpoint=!![],id(_0x574020(0x14d))['style'][_0x574020(0x17a)]=_0x574020(0xeb),id(_0x574020(0x137))[_0x574020(0x135)][_0x574020(0x165)]=_0x574020(0x13f),canvas['onclick']=()=>{var _0x4115dc=_0x574020;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id('spawn')['style']['color']=_0x4115dc(0x164),id(_0x4115dc(0x137))['style'][_0x4115dc(0x165)]=_0x4115dc(0x11a),canvas[_0x4115dc(0xfb)]=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id('moveMap')[_0x5b7fe4(0xfb)]=function(){var _0x3deec9=_0x5b7fe4;if(movingMap){movingMap=![],id(_0x3deec9(0x147))[_0x3deec9(0x135)]['color']='#000000',id(_0x3deec9(0x137))[_0x3deec9(0x135)][_0x3deec9(0x165)]='crosshair';return;}movingMap=!![],id(_0x3deec9(0x147))[_0x3deec9(0x135)][_0x3deec9(0x17a)]=_0x3deec9(0xeb),id('canvas')[_0x3deec9(0x135)][_0x3deec9(0x165)]=_0x3deec9(0x131),canvas[_0x3deec9(0x185)](_0x3deec9(0x153),function(){var _0x413d74=_0x3deec9;if(!movingMap||!mouseDown)return;let _0x4eaae0=square['w']/cellSize-movingVariables[_0x413d74(0x155)],_0x11c2d5=square['h']/cellSize-movingVariables[_0x413d74(0x149)];(_0x4eaae0!==0x0||_0x11c2d5!==0x0)&&(moveEverything(_0x4eaae0,_0x11c2d5),movingVariables[_0x413d74(0x155)]+=_0x4eaae0,movingVariables[_0x413d74(0x149)]+=_0x11c2d5);}),canvas['addEventListener']('mouseup',function(){var _0x290c82=_0x3deec9;if(!movingMap)return;movingVariables[_0x290c82(0x155)]=0x0,movingVariables[_0x290c82(0x149)]=0x0;});};function moveEverything(_0x32d672,_0x16c850){var _0xab148e=_0x5b7fe4;if(_0x32d672==0x0&&_0x16c850==0x0)return;for(let _0x5f8bed=0x0;_0x5f8bed<map['length'];_0x5f8bed++){map[_0x5f8bed]['x']+=_0x32d672,map[_0x5f8bed]['y']+=_0x16c850;}for(let _0x2fbb01=0x0;_0x2fbb01<hitBoxes[_0xab148e(0x13c)];_0x2fbb01++){hitBoxes[_0x2fbb01]['x']+=_0x32d672,hitBoxes[_0x2fbb01]['y']+=_0x16c850;}for(let _0x51e18f=0x0;_0x51e18f<camBoxes[_0xab148e(0x13c)];_0x51e18f++){camBoxes[_0x51e18f]['x']+=_0x32d672,camBoxes[_0x51e18f]['y']+=_0x16c850;}spawnPoint['x']+=_0x32d672,spawnPoint['y']+=_0x16c850;}function infoText(){var _0x1ffd5f=_0x5b7fe4,_0x4d2fd8=square['x']/cellSize,_0x3d9e7d=square['y']/cellSize;_0x4d2fd8>-0x1&&_0x4d2fd8<0x1&&(_0x4d2fd8=0x0),_0x3d9e7d>-0x1&&_0x3d9e7d<0x1&&(_0x3d9e7d=0x0),id(_0x1ffd5f(0xfa))['innerHTML']=_0x1ffd5f(0x112)+_0x4d2fd8+',\x20y:\x20'+_0x3d9e7d+'<br>\x20w:\x20'+square['w']/cellSize+',\x20h:\x20'+square['h']/cellSize;}var mouseDown=![];canvas['addEventListener'](_0x5b7fe4(0x12e),function(_0x3eca0f){var _0x13bece=_0x5b7fe4;mouseDown=!![];var _0x5d4327=window[_0x13bece(0x141)]-canvas[_0x13bece(0x134)],_0x5d777c=window['pageYOffset']-canvas[_0x13bece(0x118)];id(_0x13bece(0xfa))['style'][_0x13bece(0x11f)]=_0x13bece(0x148),id(_0x13bece(0xfa))[_0x13bece(0x135)]['left']=_0x3eca0f['clientX']+0x1e+'px',id(_0x13bece(0xfa))[_0x13bece(0x135)][_0x13bece(0x132)]=_0x3eca0f[_0x13bece(0x124)]-0x1e+'px',square['x']=round(_0x3eca0f[_0x13bece(0xf8)]+_0x5d4327)*cellSize,square['y']=round(_0x3eca0f[_0x13bece(0x124)]+_0x5d777c)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas['addEventListener'](_0x5b7fe4(0x153),function(_0x3d37a3){var _0x164c70=_0x5b7fe4,_0x39f894=window[_0x164c70(0x141)]-canvas['offsetLeft'],_0x4cc9b0=window[_0x164c70(0x126)]-canvas[_0x164c70(0x118)];mouseDown&&(id(_0x164c70(0xfa))[_0x164c70(0x135)][_0x164c70(0x11f)]=_0x164c70(0x148),id(_0x164c70(0xfa))[_0x164c70(0x135)]['left']=_0x3d37a3[_0x164c70(0xf8)]+0x1e+'px',id(_0x164c70(0xfa))['style'][_0x164c70(0x132)]=_0x3d37a3[_0x164c70(0x124)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x3d37a3[_0x164c70(0xf8)]+_0x39f894-square['x'])*cellSize,square['h']=round(_0x3d37a3['clientY']+_0x4cc9b0-square['y'])*cellSize);}),canvas[_0x5b7fe4(0x185)]('mouseup',function(_0x367d76){var _0x4733a8=_0x5b7fe4;id('info')[_0x4733a8(0x135)][_0x4733a8(0x11f)]=_0x4733a8(0x128),mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x367d76[_0x4733a8(0x176)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x23e762=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');hitBoxes[hitBoxes[_0x4733a8(0x13c)]-0x1]['text']=_0x23e762;}}else{if(hitBoxToggle==0x0){map[_0x4733a8(0x16f)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x23e762=prompt(_0x4733a8(0x114),'');map[map[_0x4733a8(0x13c)]-0x1][_0x4733a8(0x11d)]=_0x23e762;}}else{if(hitBoxToggle==0x2){var _0x179ca4=parseInt(prompt(_0x4733a8(0x17c),''));camBoxes[_0x4733a8(0x16f)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x179ca4});}}}}}),id(_0x5b7fe4(0x166))['addEventListener'](_0x5b7fe4(0x16c),zoomChange),id('deleteLvl')[_0x5b7fe4(0x185)](_0x5b7fe4(0x146),deleteLevel);function deleteLevel(){var _0x4ac5e7=_0x5b7fe4;madeChanges=!![];if(levels['length']==0x1){clearMap();return;}removeButton(),levels['splice'](currentLevel,0x1),clearMap(),currentLevel=levels[_0x4ac5e7(0x13c)]-0x1,safeEval(JSON[_0x4ac5e7(0x15a)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x11be33=_0x5b7fe4;let _0x5238d8={'number':0x0},_0x132306=document[_0x11be33(0x121)](_0x11be33(0x129));for(let _0x55dfcb=0x0;_0x55dfcb<_0x132306[_0x11be33(0x13c)];_0x55dfcb++){_0x132306[_0x55dfcb]['number']>=_0x5238d8['number']&&(_0x5238d8=_0x132306[_0x55dfcb]);}_0x5238d8[_0x11be33(0x170)][_0x11be33(0x119)](_0x5238d8);}function _0x4fd9(_0x5c205c,_0x126bbe){var _0x55c7f1=_0x18f7();return _0x4fd9=function(_0x18e49e,_0x1e63c0){_0x18e49e=_0x18e49e-0xeb;var _0x4cf458=_0x55c7f1[_0x18e49e];return _0x4cf458;},_0x4fd9(_0x5c205c,_0x126bbe);}function zoomChange(){var _0x2e30d7=_0x5b7fe4;cellSize=parseInt(id('zoomer')[_0x2e30d7(0xff)]),changeMapSize();}function changeMapSize(){var _0xb3a0e4=_0x5b7fe4;canvas[_0xb3a0e4(0x115)]=cellQuantityW*cellSize,canvas['height']=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x8bf841){var _0x30ecd3=parseInt(_0x8bf841),_0x12750c=_0x30ecd3%cellSize;if(_0x12750c!==0x0){if(_0x12750c>cellSize/0x2)_0x30ecd3=_0x30ecd3-_0x12750c+cellSize;else _0x30ecd3=_0x30ecd3-_0x12750c;}return _0x30ecd3/cellSize>0x0&&_0x30ecd3/cellSize<0x1?0x0:_0x30ecd3/cellSize;}function enableBeforeUnload(){window['onbeforeunload']=function(_0x99e04){var _0x1b829a=_0x4fd9;if(madeChanges)return _0x1b829a(0x140);};}function disableBeforeUnload(){var _0x184239=_0x5b7fe4;window[_0x184239(0xfd)]=null;}enableBeforeUnload(),document[_0x5b7fe4(0x185)](_0x5b7fe4(0x14f),function(_0x522764){var _0x9ed065=_0x5b7fe4;madeChanges=!![];var _0x13c835=window[_0x9ed065(0x141)]-canvas['offsetLeft'],_0x2b95d7=window['pageYOffset']-canvas[_0x9ed065(0x118)];_0x522764['preventDefault']();var _0xe2f2aa=_0x522764[_0x9ed065(0xf8)]+_0x13c835,_0x310cbd=_0x522764[_0x9ed065(0x124)]+_0x2b95d7;removeElements(map,_0xe2f2aa,_0x310cbd),removeElements(hitBoxes,_0xe2f2aa,_0x310cbd),removeElements(camBoxes,_0xe2f2aa,_0x310cbd);});function removeElements(_0x2a320f,_0x257a62,_0x1175ae){var _0x1beaa1=_0x5b7fe4,_0x55417d=[];for(let _0x4e259b=0x0;_0x4e259b<_0x2a320f['length'];_0x4e259b++){_0x257a62>_0x2a320f[_0x4e259b]['x']*cellSize&&_0x257a62<_0x2a320f[_0x4e259b]['x']*cellSize+_0x2a320f[_0x4e259b]['w']*cellSize&&(_0x1175ae>_0x2a320f[_0x4e259b]['y']*cellSize&&_0x1175ae<_0x2a320f[_0x4e259b]['y']*cellSize+_0x2a320f[_0x4e259b]['h']*cellSize&&_0x55417d[_0x1beaa1(0x16f)](_0x4e259b));}_0x55417d[_0x1beaa1(0x13e)](function(_0x36d440,_0x3fe1bc){return _0x3fe1bc-_0x36d440;});for(let _0x2fe933=0x0;_0x2fe933<_0x55417d[_0x1beaa1(0x13c)];_0x2fe933++){_0x2a320f['splice'](_0x55417d[_0x2fe933],0x1);}}function download(_0x237744,_0x21b2b7){var _0x382a1b=_0x5b7fe4;madeChanges=![];var _0x15988e=new Blob([_0x21b2b7],{'type':'text/csv'});if(window['navigator'][_0x382a1b(0x177)])window['navigator'][_0x382a1b(0x16a)](_0x15988e,_0x237744);else{var _0x5675ea=window[_0x382a1b(0x17e)][_0x382a1b(0x15d)]('a');_0x5675ea[_0x382a1b(0x13d)]=window[_0x382a1b(0x139)]['createObjectURL'](_0x15988e),_0x5675ea[_0x382a1b(0x138)]=_0x237744,document[_0x382a1b(0x108)]['appendChild'](_0x5675ea),_0x5675ea['click'](),document[_0x382a1b(0x108)][_0x382a1b(0x119)](_0x5675ea);}}window[_0x5b7fe4(0x185)]('keydown',function(_0x22ecc3){var _0x209ea5=_0x5b7fe4,_0x3802b7=_0x22ecc3[_0x209ea5(0x159)];switch(_0x3802b7){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera['zoomIn']=!![];break;case 0x51:camera[_0x209ea5(0x150)]=!![];break;}}),window[_0x5b7fe4(0x185)](_0x5b7fe4(0x111),function(_0x192a3e){var _0xffcee2=_0x5b7fe4,_0x2a301e=_0x192a3e[_0xffcee2(0x159)];switch(_0x2a301e){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0xffcee2(0x15f)]=![];break;case 0x51:camera[_0xffcee2(0x150)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x484ac9,_0x316f83){var _0x4241af=_0x5b7fe4;_0x484ac9[_0x4241af(0x11b)]==![]&&(typeof _0x316f83==_0x4241af(0x10b)&&_0x316f83(undefined));;var _0x5ad81b=_0x484ac9[_0x4241af(0x11b)][_0x4241af(0x187)];_0x5ad81b==undefined&&(typeof _0x316f83==_0x4241af(0x10b)&&_0x316f83(undefined));;for(var _0xa56c59=0x0;_0xa56c59<_0x5ad81b[_0x4241af(0x13c)];_0xa56c59++){if(_0x5ad81b[_0xa56c59][_0x4241af(0x113)][_0x4241af(0xef)](_0x4241af(0x12b))==-0x1)continue;var _0x159550=_0x5ad81b[_0xa56c59]['getAsFile']();typeof _0x316f83==_0x4241af(0x10b)&&_0x316f83(_0x159550);}}window['addEventListener'](_0x5b7fe4(0x116),function(_0x4ff7b1){retrieveImageFromClipboardAsBlob(_0x4ff7b1,function(_0x4e4d53){var _0x11e52d=_0x4fd9;if(_0x4e4d53){var _0x4b5113=new Image();_0x4b5113[_0x11e52d(0xf3)]=function(){var _0x458a22=_0x11e52d;pastedImage=_0x4b5113,id(_0x458a22(0x109))['value']=pastedImage[_0x458a22(0x115)]/cellSize,cellQuantityW=pastedImage[_0x458a22(0x115)]/cellSize,id(_0x458a22(0x152))['value']=pastedImage['height']/cellSize,cellQuantityH=pastedImage[_0x458a22(0x156)]/cellSize,changeMapSize();};var _0x50d054=window[_0x11e52d(0x139)]||window[_0x11e52d(0x14a)];_0x4b5113['src']=_0x50d054['createObjectURL'](_0x4e4d53);}});},![]);