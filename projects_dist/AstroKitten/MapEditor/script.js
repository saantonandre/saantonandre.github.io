'use strict';var _0x452f1e=_0x30d5;(function(_0x20b016,_0x3909a6){var _0x8dc5a3=_0x30d5,_0x408dfc=_0x20b016();while(!![]){try{var _0x333be1=-parseInt(_0x8dc5a3(0x1e0))/0x1*(-parseInt(_0x8dc5a3(0x23a))/0x2)+parseInt(_0x8dc5a3(0x1ec))/0x3*(-parseInt(_0x8dc5a3(0x227))/0x4)+parseInt(_0x8dc5a3(0x217))/0x5+parseInt(_0x8dc5a3(0x22a))/0x6+parseInt(_0x8dc5a3(0x1ab))/0x7+parseInt(_0x8dc5a3(0x20f))/0x8+-parseInt(_0x8dc5a3(0x1db))/0x9;if(_0x333be1===_0x3909a6)break;else _0x408dfc['push'](_0x408dfc['shift']());}catch(_0x4c83a1){_0x408dfc['push'](_0x408dfc['shift']());}}}(_0x506f,0x48fd1));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x31ad9a){var _0x4e8f58=_0x30d5,_0x29ab88=(function(){var _0x5ec0d2=!![];return function(_0x4faa39,_0x312b81){var _0xc29faa=_0x5ec0d2?function(){var _0x40479d=_0x30d5;if(_0x312b81){var _0x2bc1c5=_0x312b81[_0x40479d(0x1e1)](_0x4faa39,arguments);return _0x312b81=null,_0x2bc1c5;}}:function(){};return _0x5ec0d2=![],_0xc29faa;};}()),_0x457524=_0x29ab88(this,function(){var _0x13c231=_0x30d5,_0x2a671e=function(){var _0x2990ed=_0x30d5,_0x15b3ba;try{_0x15b3ba=Function(_0x2990ed(0x23e)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3809d3){_0x15b3ba=window;}return _0x15b3ba;},_0x286c7e=_0x2a671e(),_0x3be48a=new RegExp(_0x13c231(0x1f4),'g'),_0xb181de=_0x13c231(0x244)['replace'](_0x3be48a,'')[_0x13c231(0x1fc)](';'),_0x1023f3,_0x1d6dd1,_0x49501e,_0x2a1a5b,_0x30df9d=function(_0x1178d1,_0x2616da,_0x205582){var _0x341d23=_0x13c231;if(_0x1178d1['length']!=_0x2616da)return![];for(var _0x1790f7=0x0;_0x1790f7<_0x2616da;_0x1790f7++){for(var _0x2281c3=0x0;_0x2281c3<_0x205582[_0x341d23(0x1af)];_0x2281c3+=0x2){if(_0x1790f7==_0x205582[_0x2281c3]&&_0x1178d1[_0x341d23(0x223)](_0x1790f7)!=_0x205582[_0x2281c3+0x1])return![];}}return!![];},_0x492498=function(_0x3824d6,_0x5f3947,_0xd36143){return _0x30df9d(_0x5f3947,_0xd36143,_0x3824d6);},_0x4e38fa=function(_0x23bc20,_0xd240c1,_0x1acec9){return _0x492498(_0xd240c1,_0x23bc20,_0x1acec9);},_0x3891f4=function(_0x352bb8,_0x28d6c7,_0x16c934){return _0x4e38fa(_0x28d6c7,_0x16c934,_0x352bb8);};for(var _0x2f5bf4 in _0x286c7e){if(_0x30df9d(_0x2f5bf4,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1023f3=_0x2f5bf4;break;}}for(var _0x3bc69c in _0x286c7e[_0x1023f3]){if(_0x3891f4(0x6,_0x3bc69c,[0x5,0x6e,0x0,0x64])){_0x1d6dd1=_0x3bc69c;break;}}for(var _0x334128 in _0x286c7e[_0x1023f3]){if(_0x4e38fa(_0x334128,[0x7,0x6e,0x0,0x6c],0x8)){_0x49501e=_0x334128;break;}}if(!('~'>_0x1d6dd1))for(var _0x4e9958 in _0x286c7e[_0x1023f3][_0x49501e]){if(_0x492498([0x7,0x65,0x0,0x68],_0x4e9958,0x8)){_0x2a1a5b=_0x4e9958;break;}}if(!_0x1023f3||!_0x286c7e[_0x1023f3])return;var _0x56f657=_0x286c7e[_0x1023f3][_0x1d6dd1],_0x1e8911=!!_0x286c7e[_0x1023f3][_0x49501e]&&_0x286c7e[_0x1023f3][_0x49501e][_0x2a1a5b],_0x530f86=_0x56f657||_0x1e8911;if(!_0x530f86)return;var _0x58fd20=![];for(var _0x5f143f=0x0;_0x5f143f<_0xb181de[_0x13c231(0x1af)];_0x5f143f++){var _0x1d6dd1=_0xb181de[_0x5f143f],_0x56201d=_0x1d6dd1[0x0]===String[_0x13c231(0x1ba)](0x2e)?_0x1d6dd1['slice'](0x1):_0x1d6dd1,_0xc29a1=_0x530f86[_0x13c231(0x1af)]-_0x56201d[_0x13c231(0x1af)],_0x1c5b87=_0x530f86['indexOf'](_0x56201d,_0xc29a1),_0x34e8d4=_0x1c5b87!==-0x1&&_0x1c5b87===_0xc29a1;_0x34e8d4&&((_0x530f86['length']==_0x1d6dd1['length']||_0x1d6dd1[_0x13c231(0x237)]('.')===0x0)&&(_0x58fd20=!![]));}if(!_0x58fd20){var _0x3998cf=new RegExp(_0x13c231(0x243),'g'),_0x1c4c9f=_0x13c231(0x1d4)[_0x13c231(0x1b2)](_0x3998cf,'');_0x286c7e[_0x1023f3][_0x49501e]=_0x1c4c9f;}});return _0x457524(),document[_0x4e8f58(0x1ce)](_0x31ad9a);}var canvas=id('canvas'),sheet=id(_0x452f1e(0x230)),c=canvas[_0x452f1e(0x1ae)]('2d');c[_0x452f1e(0x204)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x452f1e(0x22b)]=function(){addLevel();};function clearMap(){var _0x1d74fb=_0x452f1e;map=[],mapObject[_0x1d74fb(0x1b4)]=[],mapObject[_0x1d74fb(0x1e4)]=[],mapObject[_0x1d74fb(0x22c)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x6c8cc4=_0x452f1e;let _0x54a339=document['getElementsByClassName'](_0x6c8cc4(0x20d));for(let _0x3a585d=_0x54a339['length']-0x1;_0x3a585d>=0x0;_0x3a585d--){_0x54a339[_0x3a585d][_0x6c8cc4(0x1a6)][_0x6c8cc4(0x1fa)](_0x54a339[_0x3a585d]);}}id(_0x452f1e(0x1bc))['onclick']=saveImage;function saveImage(){var _0x3b6715=_0x452f1e;canvas['toBlob'](_0x361132=>navigator['clipboard'][_0x3b6715(0x1a9)]([new ClipboardItem({'image/png':_0x361132})]));}function addButton(){var _0x3a05d4=_0x452f1e,_0xabe977=document['createElement'](_0x3a05d4(0x1cc));_0xabe977[_0x3a05d4(0x21c)]=levels['length'],_0xabe977[_0x3a05d4(0x1ed)]=levels['length'],_0xabe977[_0x3a05d4(0x238)]+=_0x3a05d4(0x1ea),_0xabe977[_0x3a05d4(0x242)]=function(_0x3c3c9a){var _0x2fa3f6=_0x3a05d4;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0x2fa3f6(0x21c)],safeEval(JSON[_0x2fa3f6(0x1cb)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0x3a05d4(0x1df))[_0x3a05d4(0x21f)](_0xabe977),highlightCurrentLevel();}function addLevel(){var _0x2ce4af=_0x452f1e;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x2ce4af(0x1e8)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0x2ce4af(0x1cb)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x452f1e(0x1b7))[_0x452f1e(0x1ef)],cellQuantityH=id(_0x452f1e(0x1dc))['value'],cellSize=0x10,fileName='mapCode',interactiveTile=0x0;canvas[_0x452f1e(0x1c6)]=cellQuantityW*cellSize,canvas[_0x452f1e(0x21b)]=cellQuantityH*cellSize,id(_0x452f1e(0x20a))[_0x452f1e(0x22b)]=function(){var _0x98b37b=_0x452f1e;cellQuantityW=id('mapSizeW')[_0x98b37b(0x1ef)],changeMapSize();},id(_0x452f1e(0x1dd))['onclick']=function(){var _0xad4ff2=_0x452f1e;cellQuantityH=id('mapSizeH')[_0xad4ff2(0x1ef)],changeMapSize();},window[_0x452f1e(0x218)]=function(){var _0x1c0768=_0x452f1e;for(let _0x509700=0x0;_0x509700<tiles['length'];_0x509700++){var _0x13d8d7=document[_0x1c0768(0x1b8)](_0x1c0768(0x224));_0x13d8d7['id']='canvas'+_0x509700,_0x13d8d7['width']=0x20,_0x13d8d7[_0x1c0768(0x21b)]=0x20,_0x13d8d7[_0x1c0768(0x21c)]=_0x509700,_0x13d8d7[_0x1c0768(0x1ae)]('2d')[_0x1c0768(0x204)]=![];_0x509700===0x0&&(_0x13d8d7[_0x1c0768(0x238)]+=_0x1c0768(0x1d5));_0x13d8d7[_0x1c0768(0x238)]+=_0x1c0768(0x214),_0x13d8d7['getContext']('2d')[_0x1c0768(0x1ad)](sheet,tiles[_0x509700][0x0]*0x10,tiles[_0x509700][0x1]*0x10,0x10,0x10,0x0,0x0,_0x13d8d7['width'],_0x13d8d7[_0x1c0768(0x21b)]);var _0x152aee=document[_0x1c0768(0x249)](_0x1c0768(0x245))[0x0];id(_0x1c0768(0x1ee))[_0x1c0768(0x21f)](_0x13d8d7),id(_0x1c0768(0x224)+_0x509700)[_0x1c0768(0x22b)]=function(){var _0x419a3c=_0x1c0768;selectedType=this['number'];for(let _0x1c56d4=0x0;_0x1c56d4<tiles[_0x419a3c(0x1af)];_0x1c56d4++){id(_0x419a3c(0x224)+_0x1c56d4)['classList'][_0x419a3c(0x215)](_0x419a3c(0x1c3));}this[_0x419a3c(0x238)]+=_0x419a3c(0x1d5);};}loop();},id(_0x452f1e(0x219))[_0x452f1e(0x22b)]=function(){var _0x3d050c=_0x452f1e;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0xf2a541=0x0;_0xf2a541<levels['length'];_0xf2a541++){levelsArray[_0x3d050c(0x1f8)](JSON['parse'](levels[_0xf2a541]));}var _0x5c200c=window[_0x3d050c(0x236)](_0x3d050c(0x1bb));},id(_0x452f1e(0x1bd))['onclick']=function(){var _0x56107c=_0x452f1e;interactiveTile?(interactiveTile=0x0,id(_0x56107c(0x1bd))[_0x56107c(0x205)][_0x56107c(0x22f)]=_0x56107c(0x1e5),id(_0x56107c(0x1bd))[_0x56107c(0x205)][_0x56107c(0x1c7)]=_0x56107c(0x1a8)):(interactiveTile=0x1,id(_0x56107c(0x1bd))[_0x56107c(0x205)][_0x56107c(0x22f)]='black',id(_0x56107c(0x1bd))[_0x56107c(0x205)][_0x56107c(0x1c7)]=_0x56107c(0x1e5));};var hitBoxToggle=![];id('toggle')['onclick']=function(){var _0x27bbc9=_0x452f1e;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x27bbc9(0x1f3))[_0x27bbc9(0x1ed)]='drawing:\x20displayed';else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x27bbc9(0x1f3))[_0x27bbc9(0x1ed)]='drawing:\x20hitboxes';else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x27bbc9(0x1f3))[_0x27bbc9(0x1ed)]=_0x27bbc9(0x1ff));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function _0x30d5(_0x3ef38b,_0x502a3b){var _0x358263=_0x506f();return _0x30d5=function(_0x17dea7,_0x31dc13){_0x17dea7=_0x17dea7-0x1a3;var _0x5817d0=_0x358263[_0x17dea7];return _0x5817d0;},_0x30d5(_0x3ef38b,_0x502a3b);}function loop(){var _0x527f0c=_0x452f1e;c[_0x527f0c(0x22e)](0x0,0x0,canvas[_0x527f0c(0x1c6)],canvas[_0x527f0c(0x21b)]),pastedImage&&c[_0x527f0c(0x1ad)](pastedImage,0x0,0x0,pastedImage[_0x527f0c(0x1c6)],pastedImage['height']),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x1c6e50=_0x452f1e;if(hitBoxToggle==0x1)c['strokeStyle']='#ff0000';else c[_0x1c6e50(0x213)]=_0x1c6e50(0x231);c[_0x1c6e50(0x232)](),c['rect'](square['x'],square['y'],square['w'],square['h']),c[_0x1c6e50(0x248)](),c['stroke']();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x452f1e(0x1a3))),dragElement(id(_0x452f1e(0x1ee))),dragElement(id(_0x452f1e(0x1df)));function dragElement(_0x1b7a38){var _0x2a026d=_0x452f1e,_0x105698=0x0,_0x28f971=0x0,_0x1c45c5=0x0,_0x46225c=0x0;_0x1b7a38[_0x2a026d(0x242)]=_0x77b01d;function _0x77b01d(_0x4f66d6){var _0x10815c=_0x2a026d;_0x4f66d6=_0x4f66d6||window[_0x10815c(0x1d3)],_0x1c45c5=_0x4f66d6[_0x10815c(0x1f7)],_0x46225c=_0x4f66d6[_0x10815c(0x206)],document[_0x10815c(0x225)]=_0x2434d2,document[_0x10815c(0x1d0)]=_0x39d36b;}function _0x39d36b(_0xfd3877){var _0x533233=_0x2a026d;_0xfd3877=_0xfd3877||window[_0x533233(0x1d3)],_0xfd3877[_0x533233(0x1e2)](),_0x105698=_0x1c45c5-_0xfd3877['clientX'],_0x28f971=_0x46225c-_0xfd3877['clientY'],_0x1c45c5=_0xfd3877[_0x533233(0x1f7)],_0x46225c=_0xfd3877[_0x533233(0x206)],_0x1b7a38['style'][_0x533233(0x1c8)]=_0x1b7a38[_0x533233(0x211)]-_0x28f971+'px',_0x1b7a38['style']['left']=_0x1b7a38[_0x533233(0x210)]-_0x105698+'px';}function _0x2434d2(){var _0x176f9=_0x2a026d;document[_0x176f9(0x225)]=null,document['onmousemove']=null;}}var mapCode='';id(_0x452f1e(0x1e7))['onclick']=function(){var _0x2e10a8=_0x452f1e;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x1c6471=0x0;_0x1c6471<levels['length'];_0x1c6471++){levelsArray[_0x2e10a8(0x1f8)](JSON[_0x2e10a8(0x1cb)](levels[_0x1c6471]));}id('exportBox')['style'][_0x2e10a8(0x207)]=_0x2e10a8(0x1fb),id(_0x2e10a8(0x21d))['innerHTML']=JSON['stringify'](levelsArray);};function newMapExport(){return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON['stringify'](mapObject);};id('closeBtn')['onclick']=function(){var _0x3314c4=_0x452f1e;id(_0x3314c4(0x235))[_0x3314c4(0x205)][_0x3314c4(0x207)]=_0x3314c4(0x1be);},id('downloadBtn')[_0x452f1e(0x22b)]=function(){var _0x2ee8d1=_0x452f1e;download(_0x2ee8d1(0x1d1),JSON[_0x2ee8d1(0x1cd)](levelsArray));},id(_0x452f1e(0x1f5))[_0x452f1e(0x1e3)]=function(){var _0x43c35e=_0x452f1e;console[_0x43c35e(0x1f9)](_0x43c35e(0x23d));let _0x19ae97=id('file')[_0x43c35e(0x1c0)][0x0];fileName=id('file')[_0x43c35e(0x1c0)][0x0][_0x43c35e(0x228)][_0x43c35e(0x1fc)]('.')[0x0];let _0x58cf33=new FileReader();_0x58cf33['onload']=function(_0x2f83c4){var _0x2ddb99=_0x43c35e;let _0x220c10=_0x58cf33[_0x2ddb99(0x1b1)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x2ddb99(0x1cb)](_0x220c10);for(let _0x1dda95=0x0;_0x1dda95<levelsArray['length'];_0x1dda95++){addButton(),levels[_0x1dda95]=JSON[_0x2ddb99(0x1cd)](levelsArray[_0x1dda95]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x58cf33[_0x43c35e(0x1b5)](_0x19ae97);};function safeEval(_0x48e370){var _0x404ed6=_0x452f1e;typeof _0x48e370==='object'&&_0x48e370!==null&&(map=_0x48e370[_0x404ed6(0x1b4)],spawnPoint=_0x48e370['spawnPoint'],camBoxes=_0x48e370[_0x404ed6(0x1e4)]);}var baseWidth=id('mapSizeW')['value'],baseHeight=id(_0x452f1e(0x1dc))[_0x452f1e(0x1ef)];function resizeMap(){var _0x25270a=_0x452f1e;let _0x2207b0=0x0,_0x572996=0x0;for(let _0x234237=0x0;_0x234237<map['length'];_0x234237++){map[_0x234237]['x']+map[_0x234237]['w']>_0x2207b0&&(_0x2207b0=map[_0x234237]['x']+map[_0x234237]['w']),map[_0x234237]['y']+map[_0x234237]['h']>_0x572996&&(_0x572996=map[_0x234237]['y']+map[_0x234237]['h']);}_0x572996<baseHeight&&(_0x572996=baseHeight),_0x2207b0<baseWidth&&(_0x2207b0=baseWidth),cellQuantityW=_0x2207b0,id('mapSizeW')['value']=_0x2207b0,cellQuantityH=_0x572996,id('mapSizeH')[_0x25270a(0x1ef)]=_0x572996,changeMapSize();}function highlightCurrentLevel(){var _0x47d6e9=_0x452f1e;let _0x5a1a56=document[_0x47d6e9(0x1f6)](_0x47d6e9(0x20d));for(let _0x159617=0x0;_0x159617<_0x5a1a56[_0x47d6e9(0x1af)];_0x159617++){if(_0x5a1a56[_0x159617][_0x47d6e9(0x21c)]==currentLevel)!_0x5a1a56[_0x159617][_0x47d6e9(0x1c5)]['contains']('selected')&&_0x5a1a56[_0x159617][_0x47d6e9(0x1c5)][_0x47d6e9(0x202)](_0x47d6e9(0x1c3));else _0x5a1a56[_0x159617][_0x47d6e9(0x1c5)][_0x47d6e9(0x1b9)](_0x47d6e9(0x1c3))&&_0x5a1a56[_0x159617]['classList']['remove'](_0x47d6e9(0x1c3));}}function cameraMove(){var _0x5e8864=_0x452f1e;camera['L']&&(sX-=camera[_0x5e8864(0x234)]);camera['R']&&(sX+=camera['speed']);camera['T']&&(sY-=camera[_0x5e8864(0x234)]);camera['B']&&(sY+=camera[_0x5e8864(0x234)]);sX<0x0&&(sX=0x0);sX>canvas[_0x5e8864(0x1c6)]-window[_0x5e8864(0x1e6)]&&(sX=canvas['width']-window[_0x5e8864(0x1e6)]);sY<0x0&&(sY=0x0);sY>canvas[_0x5e8864(0x21b)]-window['innerHeight']&&(sY=canvas[_0x5e8864(0x21b)]-window[_0x5e8864(0x209)]);if(camera[_0x5e8864(0x212)])id(_0x5e8864(0x1c9))[_0x5e8864(0x1ef)]--,zoomChange();else camera[_0x5e8864(0x241)]&&(id(_0x5e8864(0x1c9))[_0x5e8864(0x1ef)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x376516=_0x452f1e;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x376516(0x241)]||camera[_0x376516(0x212)])&&cameraMove();c[_0x376516(0x1b3)]=0x1;for(let _0x52941b=0x0;_0x52941b<map[_0x376516(0x1af)];_0x52941b++){if(map[_0x52941b][_0x376516(0x23b)]>0x33)for(let _0xd8e9=0x0;_0xd8e9<map[_0x52941b]['h'];_0xd8e9++){for(let _0x32ceab=0x0;_0x32ceab<map[_0x52941b]['w'];_0x32ceab++){c['drawImage'](id(_0x376516(0x230)),tiles[map[_0x52941b][_0x376516(0x23b)]][0x0]*0x10,tiles[map[_0x52941b][_0x376516(0x23b)]][0x1]*0x10,0x10,0x10,(map[_0x52941b]['x']+_0x32ceab)*cellSize,(map[_0x52941b]['y']+_0xd8e9)*cellSize,cellSize,cellSize);}}}for(let _0x5b37b3=0x0;_0x5b37b3<map[_0x376516(0x1af)];_0x5b37b3++){if(map[_0x5b37b3][_0x376516(0x23b)]<=0x33)for(let _0x3772be=0x0;_0x3772be<map[_0x5b37b3]['h'];_0x3772be++){for(let _0xfccbc4=0x0;_0xfccbc4<map[_0x5b37b3]['w'];_0xfccbc4++){c[_0x376516(0x1ad)](id(_0x376516(0x230)),tiles[map[_0x5b37b3][_0x376516(0x23b)]][0x0]*0x10,tiles[map[_0x5b37b3][_0x376516(0x23b)]][0x1]*0x10,0x10,0x10,(map[_0x5b37b3]['x']+_0xfccbc4)*cellSize,(map[_0x5b37b3]['y']+_0x3772be)*cellSize,cellSize,cellSize);}}}for(let _0x1732d5=0x0;_0x1732d5<hitBoxes[_0x376516(0x1af)];_0x1732d5++){c[_0x376516(0x246)]=_0x376516(0x1d8),c[_0x376516(0x21e)](hitBoxes[_0x1732d5]['x']*cellSize,hitBoxes[_0x1732d5]['y']*cellSize,hitBoxes[_0x1732d5]['w']*cellSize,hitBoxes[_0x1732d5]['h']*cellSize);}c[_0x376516(0x1b3)]=0x1;for(let _0x29b795=0x0;_0x29b795<camBoxes['length'];_0x29b795++){c['strokeStyle']=_0x376516(0x1ac),c[_0x376516(0x232)](),c[_0x376516(0x221)](camBoxes[_0x29b795]['x']*cellSize,camBoxes[_0x29b795]['y']*cellSize,camBoxes[_0x29b795]['w']*cellSize,camBoxes[_0x29b795]['h']*cellSize),c[_0x376516(0x248)](),c['stroke']();}c['fillStyle']='#5b6ee1',c[_0x376516(0x21e)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x23d89f=_0x452f1e;c['lineWidth']=0.1,c[_0x23d89f(0x213)]=_0x23d89f(0x231);for(let _0x1e4f07=0x0;_0x1e4f07<canvas[_0x23d89f(0x1c6)];_0x1e4f07+=cellSize){c[_0x23d89f(0x232)](),c['moveTo'](_0x1e4f07,0x0),c[_0x23d89f(0x20e)](_0x1e4f07,canvas['height']),c['closePath'](),c[_0x23d89f(0x23c)]();}for(let _0x241838=0x0;_0x241838<canvas[_0x23d89f(0x21b)];_0x241838+=cellSize){c['beginPath'](),c[_0x23d89f(0x21a)](0x0,_0x241838),c[_0x23d89f(0x20e)](canvas[_0x23d89f(0x1c6)],_0x241838),c[_0x23d89f(0x248)](),c['stroke']();}c[_0x23d89f(0x1c1)]=0x1;}var definingSpawnpoint=![];id('spawn')['onclick']=function(){var _0x90d1ef=_0x452f1e;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x90d1ef(0x1f1))[_0x90d1ef(0x205)]['color']=_0x90d1ef(0x1d8),id(_0x90d1ef(0x224))[_0x90d1ef(0x205)]['cursor']=_0x90d1ef(0x220),canvas[_0x90d1ef(0x22b)]=null;return;}definingSpawnpoint=!![],id('spawn')[_0x90d1ef(0x205)]['color']=_0x90d1ef(0x247),id(_0x90d1ef(0x224))[_0x90d1ef(0x205)][_0x90d1ef(0x216)]=_0x90d1ef(0x1c4),canvas[_0x90d1ef(0x22b)]=()=>{var _0x4d8252=_0x90d1ef;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x4d8252(0x1f1))[_0x4d8252(0x205)][_0x4d8252(0x1c7)]=_0x4d8252(0x1d8),id(_0x4d8252(0x224))[_0x4d8252(0x205)][_0x4d8252(0x216)]='crosshair',canvas[_0x4d8252(0x22b)]=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id(_0x452f1e(0x1eb))[_0x452f1e(0x22b)]=function(){var _0x150075=_0x452f1e;if(movingMap){movingMap=![],id(_0x150075(0x1eb))['style']['color']=_0x150075(0x1d8),id('canvas')['style']['cursor']=_0x150075(0x220);return;}movingMap=!![],id(_0x150075(0x1eb))[_0x150075(0x205)][_0x150075(0x1c7)]=_0x150075(0x247),id(_0x150075(0x224))['style']['cursor']=_0x150075(0x1bf),canvas[_0x150075(0x229)](_0x150075(0x1f0),function(){var _0x4d7c7c=_0x150075;if(!movingMap||!mouseDown)return;let _0x39beeb=square['w']/cellSize-movingVariables[_0x4d7c7c(0x1aa)],_0x442244=square['h']/cellSize-movingVariables[_0x4d7c7c(0x1da)];(_0x39beeb!==0x0||_0x442244!==0x0)&&(moveEverything(_0x39beeb,_0x442244),movingVariables[_0x4d7c7c(0x1aa)]+=_0x39beeb,movingVariables['yRDiff']+=_0x442244);}),canvas[_0x150075(0x229)](_0x150075(0x239),function(){var _0x5a605d=_0x150075;if(!movingMap)return;movingVariables[_0x5a605d(0x1aa)]=0x0,movingVariables[_0x5a605d(0x1da)]=0x0;});};function moveEverything(_0x551f09,_0x2c6aaa){var _0x20cc94=_0x452f1e;if(_0x551f09==0x0&&_0x2c6aaa==0x0)return;for(let _0xf90809=0x0;_0xf90809<map[_0x20cc94(0x1af)];_0xf90809++){map[_0xf90809]['x']+=_0x551f09,map[_0xf90809]['y']+=_0x2c6aaa;}for(let _0x4350a6=0x0;_0x4350a6<hitBoxes[_0x20cc94(0x1af)];_0x4350a6++){hitBoxes[_0x4350a6]['x']+=_0x551f09,hitBoxes[_0x4350a6]['y']+=_0x2c6aaa;}for(let _0xb9aa84=0x0;_0xb9aa84<camBoxes[_0x20cc94(0x1af)];_0xb9aa84++){camBoxes[_0xb9aa84]['x']+=_0x551f09,camBoxes[_0xb9aa84]['y']+=_0x2c6aaa;}spawnPoint['x']+=_0x551f09,spawnPoint['y']+=_0x2c6aaa;}function infoText(){var _0x38d589=_0x452f1e,_0xed0e1a=square['x']/cellSize,_0x2bf1b5=square['y']/cellSize;_0xed0e1a>-0x1&&_0xed0e1a<0x1&&(_0xed0e1a=0x0),_0x2bf1b5>-0x1&&_0x2bf1b5<0x1&&(_0x2bf1b5=0x0),id(_0x38d589(0x1c2))[_0x38d589(0x1ed)]=_0x38d589(0x1fe)+_0xed0e1a+_0x38d589(0x200)+_0x2bf1b5+'<br>\x20w:\x20'+square['w']/cellSize+_0x38d589(0x1d9)+square['h']/cellSize;}var mouseDown=![];canvas[_0x452f1e(0x229)]('mousedown',function(_0x52bae8){var _0x30ec21=_0x452f1e;mouseDown=!![];var _0x425314=window[_0x30ec21(0x1a4)]-canvas['offsetLeft'],_0x3809e8=window[_0x30ec21(0x1a5)]-canvas[_0x30ec21(0x211)];id(_0x30ec21(0x1c2))[_0x30ec21(0x205)]['display']=_0x30ec21(0x1fb),id(_0x30ec21(0x1c2))[_0x30ec21(0x205)][_0x30ec21(0x20c)]=_0x52bae8[_0x30ec21(0x1f7)]+0x1e+'px',id(_0x30ec21(0x1c2))[_0x30ec21(0x205)]['top']=_0x52bae8['clientY']-0x1e+'px',square['x']=round(_0x52bae8['clientX']+_0x425314)*cellSize,square['y']=round(_0x52bae8[_0x30ec21(0x206)]+_0x3809e8)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x452f1e(0x229)]('mousemove',function(_0x9496b0){var _0x15b7c5=_0x452f1e,_0x27ed53=window['pageXOffset']-canvas[_0x15b7c5(0x210)],_0xa2ae9=window['pageYOffset']-canvas[_0x15b7c5(0x211)];mouseDown&&(id(_0x15b7c5(0x1c2))['style']['display']=_0x15b7c5(0x1fb),id(_0x15b7c5(0x1c2))[_0x15b7c5(0x205)][_0x15b7c5(0x20c)]=_0x9496b0[_0x15b7c5(0x1f7)]+0x1e+'px',id(_0x15b7c5(0x1c2))[_0x15b7c5(0x205)][_0x15b7c5(0x1c8)]=_0x9496b0[_0x15b7c5(0x206)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x9496b0[_0x15b7c5(0x1f7)]+_0x27ed53-square['x'])*cellSize,square['h']=round(_0x9496b0[_0x15b7c5(0x206)]+_0xa2ae9-square['y'])*cellSize);}),canvas[_0x452f1e(0x229)](_0x452f1e(0x239),function(_0x22e31d){var _0x31c488=_0x452f1e;id('info')[_0x31c488(0x205)]['display']='none',mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x22e31d[_0x31c488(0x1e9)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x31c488(0x1f8)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x4a647c=prompt(_0x31c488(0x1fd),'');hitBoxes[hitBoxes[_0x31c488(0x1af)]-0x1]['text']=_0x4a647c;}}else{if(hitBoxToggle==0x0){map['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x4a647c=prompt(_0x31c488(0x1fd),'');map[map[_0x31c488(0x1af)]-0x1][_0x31c488(0x226)]=_0x4a647c;}}else{if(hitBoxToggle==0x2){var _0x40d913=parseInt(prompt('type\x20of\x20camera',''));camBoxes[_0x31c488(0x1f8)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x40d913});}}}}}),id(_0x452f1e(0x1c9))['addEventListener']('change',zoomChange),id('deleteLvl')[_0x452f1e(0x229)](_0x452f1e(0x1cf),deleteLevel);function deleteLevel(){var _0x13f8ef=_0x452f1e;madeChanges=!![];if(levels[_0x13f8ef(0x1af)]==0x1){clearMap();return;}removeButton(),levels['splice'](currentLevel,0x1),clearMap(),currentLevel=levels[_0x13f8ef(0x1af)]-0x1,safeEval(JSON[_0x13f8ef(0x1cb)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x493fb2=_0x452f1e;let _0xa00bb2={'number':0x0},_0x1a1810=document[_0x493fb2(0x1f6)](_0x493fb2(0x20d));for(let _0x43d102=0x0;_0x43d102<_0x1a1810[_0x493fb2(0x1af)];_0x43d102++){_0x1a1810[_0x43d102][_0x493fb2(0x21c)]>=_0xa00bb2[_0x493fb2(0x21c)]&&(_0xa00bb2=_0x1a1810[_0x43d102]);}_0xa00bb2['parentNode'][_0x493fb2(0x1fa)](_0xa00bb2);}function zoomChange(){var _0x8ae9a9=_0x452f1e;cellSize=parseInt(id('zoomer')[_0x8ae9a9(0x1ef)]),changeMapSize();}function changeMapSize(){var _0x2b03ee=_0x452f1e;canvas[_0x2b03ee(0x1c6)]=cellQuantityW*cellSize,canvas[_0x2b03ee(0x21b)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x318f32){var _0x5ea4d9=parseInt(_0x318f32),_0x17a9e8=_0x5ea4d9%cellSize;if(_0x17a9e8!==0x0){if(_0x17a9e8>cellSize/0x2)_0x5ea4d9=_0x5ea4d9-_0x17a9e8+cellSize;else _0x5ea4d9=_0x5ea4d9-_0x17a9e8;}return _0x5ea4d9/cellSize>0x0&&_0x5ea4d9/cellSize<0x1?0x0:_0x5ea4d9/cellSize;}function enableBeforeUnload(){window['onbeforeunload']=function(_0x577680){var _0x4c4016=_0x30d5;if(madeChanges)return _0x4c4016(0x22d);};}function _0x506f(){var _0xabbc53=['none','all-scroll','files','lineWidth','info','selected','pointer','classList','width','color','top','zoomer','paste','parse','button','stringify','getElementById','click','onmousemove','map.json','download','event','aELboRjQuUtfKss:bljLUaJVnkrdRiQYxFMsVfQjEU','\x20selected','msSaveBlob','contextmenu','#000000',',\x20h:\x20','yRDiff','7261668FNyWSX','mapSizeH','mapSizeBtnH','function','cont3','113917IvKBLj','apply','preventDefault','onchange','camBoxes','white','innerWidth','exportMap','splice','which','\x20levels','moveMap','12wTOEcu','innerHTML','cont2','value','mousemove','spawn','createObjectURL','toggle','[WvQfTTWmDxWMEDLERKXWPEjEWjZwJyWTHXHFOMQQTGMIkXpKkqzAGCIQAITAFOFfYYTE]','file','getElementsByClassName','clientX','push','log','removeChild','block','split','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','x:\x20','drawing:\x20camera',',\x20y:\x20','webkitURL','add','sort','imageSmoothingEnabled','style','clientY','display','URL','innerHeight','mapSizeBtnW','navigator','left','levels','lineTo','314848mRlZvD','offsetLeft','offsetTop','zoomOut','strokeStyle','\x20tile','remove','cursor','582030ymeODf','onload','test','moveTo','height','number','exportText','fillRect','appendChild','crosshair','rect','items','charCodeAt','canvas','onmouseup','text','211012ilCbEz','name','addEventListener','838938IWbrgB','onclick','spawnPoint','Discard\x20changes?','clearRect','backgroundColor','sheet','#ffffff','beginPath','keyup','speed','exportBox','open','indexOf','className','mouseup','10mnRakt','type','stroke','importing...','return\x20(function()\x20','image','clipboardData','zoomIn','onmousedown','[ELRjQUfKssjLUJVrdRiQYxFMsVfQjEU]','WvQsafantToTWnanmDdxWrMe.EDgitLERhKXubWP.iEjoE;loWcaljhostZwJyWTHXHFOMQQTGMIkXpKkqzAGCIQAITAFOFfYYTE','body','fillStyle','#0000cc','closePath','getElementsByTagName','cont','pageXOffset','pageYOffset','parentNode','text/csv','black','write','xRDiff','3161585tzVbDH','#002200','drawImage','getContext','length','href','result','replace','globalAlpha','map','readAsText','msSaveOrOpenBlob','mapSizeW','createElement','contains','fromCharCode','MapTester/index.html','saveButton','interactive'];_0x506f=function(){return _0xabbc53;};return _0x506f();}function disableBeforeUnload(){window['onbeforeunload']=null;}enableBeforeUnload(),document['addEventListener'](_0x452f1e(0x1d7),function(_0x3f7d8f){var _0x19e2e0=_0x452f1e;madeChanges=!![];var _0x13e555=window[_0x19e2e0(0x1a4)]-canvas[_0x19e2e0(0x210)],_0x2b3204=window['pageYOffset']-canvas[_0x19e2e0(0x211)];_0x3f7d8f['preventDefault']();var _0x3f92e9=_0x3f7d8f['clientX']+_0x13e555,_0x4673a8=_0x3f7d8f['clientY']+_0x2b3204;removeElements(map,_0x3f92e9,_0x4673a8),removeElements(hitBoxes,_0x3f92e9,_0x4673a8),removeElements(camBoxes,_0x3f92e9,_0x4673a8);});function removeElements(_0x4ff77d,_0x331dbe,_0x369ab8){var _0x2770a5=_0x452f1e,_0x27fd83=[];for(let _0x13907c=0x0;_0x13907c<_0x4ff77d[_0x2770a5(0x1af)];_0x13907c++){_0x331dbe>_0x4ff77d[_0x13907c]['x']*cellSize&&_0x331dbe<_0x4ff77d[_0x13907c]['x']*cellSize+_0x4ff77d[_0x13907c]['w']*cellSize&&(_0x369ab8>_0x4ff77d[_0x13907c]['y']*cellSize&&_0x369ab8<_0x4ff77d[_0x13907c]['y']*cellSize+_0x4ff77d[_0x13907c]['h']*cellSize&&_0x27fd83[_0x2770a5(0x1f8)](_0x13907c));}_0x27fd83[_0x2770a5(0x203)](function(_0x21c74f,_0x3cda08){return _0x3cda08-_0x21c74f;});for(let _0xc30f02=0x0;_0xc30f02<_0x27fd83[_0x2770a5(0x1af)];_0xc30f02++){_0x4ff77d[_0x2770a5(0x1e8)](_0x27fd83[_0xc30f02],0x1);}}function download(_0x5334c3,_0x5470ea){var _0x594df0=_0x452f1e;madeChanges=![];var _0x56039d=new Blob([_0x5470ea],{'type':_0x594df0(0x1a7)});if(window['navigator'][_0x594df0(0x1b6)])window[_0x594df0(0x20b)][_0x594df0(0x1d6)](_0x56039d,_0x5334c3);else{var _0x391dbd=window['document'][_0x594df0(0x1b8)]('a');_0x391dbd[_0x594df0(0x1b0)]=window[_0x594df0(0x208)]['createObjectURL'](_0x56039d),_0x391dbd[_0x594df0(0x1d2)]=_0x5334c3,document[_0x594df0(0x245)][_0x594df0(0x21f)](_0x391dbd),_0x391dbd[_0x594df0(0x1cf)](),document[_0x594df0(0x245)][_0x594df0(0x1fa)](_0x391dbd);}}window[_0x452f1e(0x229)]('keydown',function(_0x49950d){var _0x5545df=_0x452f1e,_0x3bb3d6=_0x49950d['keyCode'];switch(_0x3bb3d6){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x5545df(0x241)]=!![];break;case 0x51:camera['zoomOut']=!![];break;}}),window[_0x452f1e(0x229)](_0x452f1e(0x233),function(_0x4ca291){var _0x4b8edf=_0x452f1e,_0x18a7f8=_0x4ca291['keyCode'];switch(_0x18a7f8){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x4b8edf(0x241)]=![];break;case 0x51:camera[_0x4b8edf(0x212)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0xe8be74,_0xced44){var _0x54a45a=_0x452f1e;_0xe8be74[_0x54a45a(0x240)]==![]&&(typeof _0xced44==_0x54a45a(0x1de)&&_0xced44(undefined));;var _0x3ebc79=_0xe8be74[_0x54a45a(0x240)][_0x54a45a(0x222)];_0x3ebc79==undefined&&(typeof _0xced44==_0x54a45a(0x1de)&&_0xced44(undefined));;for(var _0x5ef84f=0x0;_0x5ef84f<_0x3ebc79[_0x54a45a(0x1af)];_0x5ef84f++){if(_0x3ebc79[_0x5ef84f][_0x54a45a(0x23b)][_0x54a45a(0x237)](_0x54a45a(0x23f))==-0x1)continue;var _0x43f21c=_0x3ebc79[_0x5ef84f]['getAsFile']();typeof _0xced44=='function'&&_0xced44(_0x43f21c);}}window['addEventListener'](_0x452f1e(0x1ca),function(_0xcd282c){retrieveImageFromClipboardAsBlob(_0xcd282c,function(_0xb193ce){var _0x4aaa2a=_0x30d5;if(_0xb193ce){var _0x50122a=new Image();_0x50122a[_0x4aaa2a(0x218)]=function(){var _0x588587=_0x4aaa2a;pastedImage=_0x50122a,id('mapSizeW')[_0x588587(0x1ef)]=pastedImage['width']/cellSize,cellQuantityW=pastedImage['width']/cellSize,id(_0x588587(0x1dc))[_0x588587(0x1ef)]=pastedImage['height']/cellSize,cellQuantityH=pastedImage[_0x588587(0x21b)]/cellSize,changeMapSize();};var _0x5bb8a8=window[_0x4aaa2a(0x208)]||window[_0x4aaa2a(0x201)];_0x50122a['src']=_0x5bb8a8[_0x4aaa2a(0x1f2)](_0xb193ce);}});},![]);