'use strict';var _0x3a58f6=_0x6d3b;(function(_0xefec0,_0x460d8d){var _0x4614be=_0x6d3b,_0xd7c30b=_0xefec0();while(!![]){try{var _0xb7b46e=-parseInt(_0x4614be(0x1fb))/0x1+-parseInt(_0x4614be(0x1ed))/0x2+-parseInt(_0x4614be(0x208))/0x3*(parseInt(_0x4614be(0x21d))/0x4)+-parseInt(_0x4614be(0x1f7))/0x5+-parseInt(_0x4614be(0x1d8))/0x6+parseInt(_0x4614be(0x215))/0x7+parseInt(_0x4614be(0x1d3))/0x8*(parseInt(_0x4614be(0x1af))/0x9);if(_0xb7b46e===_0x460d8d)break;else _0xd7c30b['push'](_0xd7c30b['shift']());}catch(_0x2d14fa){_0xd7c30b['push'](_0xd7c30b['shift']());}}}(_0x36aa,0xd242e));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x32ef40){var _0x473287=_0x6d3b,_0x28041a=(function(){var _0x5dc466=!![];return function(_0x4fcca4,_0x115252){var _0x56b179=_0x5dc466?function(){var _0x29d8c1=_0x6d3b;if(_0x115252){var _0x26a328=_0x115252[_0x29d8c1(0x216)](_0x4fcca4,arguments);return _0x115252=null,_0x26a328;}}:function(){};return _0x5dc466=![],_0x56b179;};}()),_0xc79572=_0x28041a(this,function(){var _0x442a44=_0x6d3b,_0x153111;try{var _0x26e2a4=Function(_0x442a44(0x196)+_0x442a44(0x1f3)+');');_0x153111=_0x26e2a4();}catch(_0x37b0cf){_0x153111=window;}var _0x190045=new RegExp('[qLULAMCLOpjxxXOpBIBMIUEOBQVjfUMppIRZHEZFvjOONSqJZCAYmRBHkFDpWSLIHwO]','g'),_0x367c7a=_0x442a44(0x228)[_0x442a44(0x1e4)](_0x190045,'')[_0x442a44(0x225)](';'),_0x5ebda2,_0x1fcd2a,_0x3669be,_0x507531,_0x2df43a=function(_0x25ad42,_0x34fa5c,_0x442c04){var _0x4ba99e=_0x442a44;if(_0x25ad42[_0x4ba99e(0x205)]!=_0x34fa5c)return![];for(var _0x42c5e3=0x0;_0x42c5e3<_0x34fa5c;_0x42c5e3++){for(var _0x2a034f=0x0;_0x2a034f<_0x442c04[_0x4ba99e(0x205)];_0x2a034f+=0x2){if(_0x42c5e3==_0x442c04[_0x2a034f]&&_0x25ad42[_0x4ba99e(0x199)](_0x42c5e3)!=_0x442c04[_0x2a034f+0x1])return![];}}return!![];},_0x236eaf=function(_0x4fc05c,_0x33fff8,_0x2228fc){return _0x2df43a(_0x33fff8,_0x2228fc,_0x4fc05c);},_0x217960=function(_0x449e81,_0x182442,_0x44e50e){return _0x236eaf(_0x182442,_0x449e81,_0x44e50e);},_0x401179=function(_0xf268c,_0x47763f,_0x447122){return _0x217960(_0x47763f,_0x447122,_0xf268c);};for(var _0x554202 in _0x153111){if(_0x2df43a(_0x554202,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5ebda2=_0x554202;break;}}for(var _0xf81fa1 in _0x153111[_0x5ebda2]){if(_0x401179(0x6,_0xf81fa1,[0x5,0x6e,0x0,0x64])){_0x1fcd2a=_0xf81fa1;break;}}for(var _0x101527 in _0x153111[_0x5ebda2]){if(_0x217960(_0x101527,[0x7,0x6e,0x0,0x6c],0x8)){_0x3669be=_0x101527;break;}}if(!('~'>_0x1fcd2a))for(var _0x4dd30d in _0x153111[_0x5ebda2][_0x3669be]){if(_0x236eaf([0x7,0x65,0x0,0x68],_0x4dd30d,0x8)){_0x507531=_0x4dd30d;break;}}if(!_0x5ebda2||!_0x153111[_0x5ebda2])return;var _0x4e38a5=_0x153111[_0x5ebda2][_0x1fcd2a],_0x2aa42b=!!_0x153111[_0x5ebda2][_0x3669be]&&_0x153111[_0x5ebda2][_0x3669be][_0x507531],_0x40fa41=_0x4e38a5||_0x2aa42b;if(!_0x40fa41)return;var _0x5200be=![];for(var _0x4f4f3e=0x0;_0x4f4f3e<_0x367c7a[_0x442a44(0x205)];_0x4f4f3e++){var _0x1fcd2a=_0x367c7a[_0x4f4f3e],_0x3a0a9b=_0x1fcd2a[0x0]===String[_0x442a44(0x190)](0x2e)?_0x1fcd2a[_0x442a44(0x1bb)](0x1):_0x1fcd2a,_0x2abcee=_0x40fa41['length']-_0x3a0a9b[_0x442a44(0x205)],_0x43b195=_0x40fa41[_0x442a44(0x197)](_0x3a0a9b,_0x2abcee),_0x47c4fe=_0x43b195!==-0x1&&_0x43b195===_0x2abcee;_0x47c4fe&&((_0x40fa41[_0x442a44(0x205)]==_0x1fcd2a[_0x442a44(0x205)]||_0x1fcd2a[_0x442a44(0x197)]('.')===0x0)&&(_0x5200be=!![]));}if(!_0x5200be){var _0x25dcb9=new RegExp(_0x442a44(0x1d5),'g'),_0x1ef17b=_0x442a44(0x1ae)[_0x442a44(0x1e4)](_0x25dcb9,'');_0x153111[_0x5ebda2][_0x3669be]=_0x1ef17b;}});return _0xc79572(),document[_0x473287(0x1bc)](_0x32ef40);}var canvas=id('canvas'),sheet=id(_0x3a58f6(0x1a9)),c=canvas[_0x3a58f6(0x1e2)]('2d');c['imageSmoothingEnabled']=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x3a58f6(0x226)]=function(){addLevel();};function clearMap(){var _0x3dabf5=_0x3a58f6;map=[],mapObject[_0x3dabf5(0x1ca)]=[],mapObject['camBoxes']=[],mapObject[_0x3dabf5(0x1b1)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x92deaf=_0x3a58f6;let _0x47fc49=document[_0x92deaf(0x20d)](_0x92deaf(0x222));for(let _0x541388=_0x47fc49[_0x92deaf(0x205)]-0x1;_0x541388>=0x0;_0x541388--){_0x47fc49[_0x541388][_0x92deaf(0x18d)][_0x92deaf(0x1b2)](_0x47fc49[_0x541388]);}}id(_0x3a58f6(0x1a5))['onclick']=saveImage;function saveImage(){var _0x2baae0=_0x3a58f6;canvas[_0x2baae0(0x193)](_0x265068=>navigator[_0x2baae0(0x1ee)][_0x2baae0(0x1f6)]([new ClipboardItem({'image/png':_0x265068})]));}function _0x6d3b(_0x27ee0f,_0x3cdeec){var _0x47ef31=_0x36aa();return _0x6d3b=function(_0x363019,_0x5542ac){_0x363019=_0x363019-0x189;var _0x7a2e6a=_0x47ef31[_0x363019];return _0x7a2e6a;},_0x6d3b(_0x27ee0f,_0x3cdeec);}function addButton(){var _0x3da0f9=_0x3a58f6,_0x44edd6=document[_0x3da0f9(0x1a2)]('button');_0x44edd6[_0x3da0f9(0x1c7)]=levels[_0x3da0f9(0x205)],_0x44edd6[_0x3da0f9(0x218)]=levels['length'],_0x44edd6[_0x3da0f9(0x189)]+=_0x3da0f9(0x19e),_0x44edd6[_0x3da0f9(0x1c0)]=function(_0x5e3a2a){var _0x59cc8b=_0x3da0f9;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this['number'],safeEval(JSON[_0x59cc8b(0x220)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id('cont3')[_0x3da0f9(0x210)](_0x44edd6),highlightCurrentLevel();}function addLevel(){var _0x3adf28=_0x3a58f6;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x3adf28(0x1ce)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON['parse'](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x3a58f6(0x22f))[_0x3a58f6(0x1d1)],cellQuantityH=id(_0x3a58f6(0x204))[_0x3a58f6(0x1d1)],cellSize=0x10,fileName=_0x3a58f6(0x230),interactiveTile=0x0;canvas[_0x3a58f6(0x213)]=cellQuantityW*cellSize,canvas[_0x3a58f6(0x1a0)]=cellQuantityH*cellSize,id(_0x3a58f6(0x21a))['onclick']=function(){var _0x5c8941=_0x3a58f6;cellQuantityW=id('mapSizeW')[_0x5c8941(0x1d1)],changeMapSize();},id('mapSizeBtnH')['onclick']=function(){var _0x1578e1=_0x3a58f6;cellQuantityH=id(_0x1578e1(0x204))[_0x1578e1(0x1d1)],changeMapSize();},window['onload']=function(){var _0x3bb198=_0x3a58f6;for(let _0x4e21ad=0x0;_0x4e21ad<tiles[_0x3bb198(0x205)];_0x4e21ad++){var _0x3281ec=document[_0x3bb198(0x1a2)]('canvas');_0x3281ec['id']=_0x3bb198(0x1c8)+_0x4e21ad,_0x3281ec['width']=0x20,_0x3281ec[_0x3bb198(0x1a0)]=0x20,_0x3281ec[_0x3bb198(0x1c7)]=_0x4e21ad,_0x3281ec[_0x3bb198(0x1e2)]('2d')[_0x3bb198(0x21f)]=![];_0x4e21ad===0x0&&(_0x3281ec['className']+=_0x3bb198(0x1dd));_0x3281ec[_0x3bb198(0x189)]+='\x20tile',_0x3281ec[_0x3bb198(0x1e2)]('2d')['drawImage'](sheet,tiles[_0x4e21ad][0x0]*0x10,tiles[_0x4e21ad][0x1]*0x10,0x10,0x10,0x0,0x0,_0x3281ec['width'],_0x3281ec[_0x3bb198(0x1a0)]);var _0x3f4d34=document[_0x3bb198(0x227)](_0x3bb198(0x1db))[0x0];id(_0x3bb198(0x191))['appendChild'](_0x3281ec),id(_0x3bb198(0x1c8)+_0x4e21ad)[_0x3bb198(0x226)]=function(){var _0x366903=_0x3bb198;selectedType=this[_0x366903(0x1c7)];for(let _0x388dfd=0x0;_0x388dfd<tiles['length'];_0x388dfd++){id(_0x366903(0x1c8)+_0x388dfd)[_0x366903(0x1aa)]['remove']('selected');}this[_0x366903(0x189)]+=_0x366903(0x1dd);};}loop();},id('test')[_0x3a58f6(0x226)]=function(){var _0x32b2e6=_0x3a58f6;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x662a6=0x0;_0x662a6<levels['length'];_0x662a6++){levelsArray[_0x32b2e6(0x194)](JSON[_0x32b2e6(0x220)](levels[_0x662a6]));}var _0x58ee43=window[_0x32b2e6(0x19c)](_0x32b2e6(0x202));},id(_0x3a58f6(0x1fa))[_0x3a58f6(0x226)]=function(){var _0x129c38=_0x3a58f6;interactiveTile?(interactiveTile=0x0,id(_0x129c38(0x1fa))[_0x129c38(0x1ef)][_0x129c38(0x211)]=_0x129c38(0x20e),id(_0x129c38(0x1fa))[_0x129c38(0x1ef)]['color']=_0x129c38(0x1e5)):(interactiveTile=0x1,id(_0x129c38(0x1fa))[_0x129c38(0x1ef)][_0x129c38(0x211)]=_0x129c38(0x1e5),id(_0x129c38(0x1fa))[_0x129c38(0x1ef)][_0x129c38(0x1d6)]=_0x129c38(0x20e));};var hitBoxToggle=![];id(_0x3a58f6(0x1ac))[_0x3a58f6(0x226)]=function(){var _0xec9c97=_0x3a58f6;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0xec9c97(0x1ac))[_0xec9c97(0x218)]='drawing:\x20displayed';else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0xec9c97(0x1ac))[_0xec9c97(0x218)]=_0xec9c97(0x1c2);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0xec9c97(0x1ac))[_0xec9c97(0x218)]=_0xec9c97(0x1a3));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x18ca7d=_0x3a58f6;c['clearRect'](0x0,0x0,canvas[_0x18ca7d(0x213)],canvas[_0x18ca7d(0x1a0)]),pastedImage&&c['drawImage'](pastedImage,0x0,0x0,pastedImage[_0x18ca7d(0x213)],pastedImage[_0x18ca7d(0x1a0)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x26c106=_0x3a58f6;if(hitBoxToggle==0x1)c[_0x26c106(0x18e)]=_0x26c106(0x1fd);else c['strokeStyle']=_0x26c106(0x1b5);c[_0x26c106(0x18c)](),c['rect'](square['x'],square['y'],square['w'],square['h']),c['closePath'](),c[_0x26c106(0x198)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x3a58f6(0x1dc))),dragElement(id(_0x3a58f6(0x191))),dragElement(id(_0x3a58f6(0x1d2)));function dragElement(_0x37a45d){var _0x18f832=_0x3a58f6,_0x110380=0x0,_0x50f68e=0x0,_0x10a432=0x0,_0x4d9c05=0x0;_0x37a45d[_0x18f832(0x1c0)]=_0x40dfbf;function _0x40dfbf(_0x2c0935){_0x2c0935=_0x2c0935||window['event'],_0x10a432=_0x2c0935['clientX'],_0x4d9c05=_0x2c0935['clientY'],document['onmouseup']=_0xd0fe31,document['onmousemove']=_0x3f9659;}function _0x3f9659(_0x593842){var _0x45ace4=_0x18f832;_0x593842=_0x593842||window['event'],_0x593842['preventDefault'](),_0x110380=_0x10a432-_0x593842[_0x45ace4(0x21e)],_0x50f68e=_0x4d9c05-_0x593842[_0x45ace4(0x1eb)],_0x10a432=_0x593842[_0x45ace4(0x21e)],_0x4d9c05=_0x593842[_0x45ace4(0x1eb)],_0x37a45d[_0x45ace4(0x1ef)][_0x45ace4(0x20f)]=_0x37a45d[_0x45ace4(0x1e9)]-_0x50f68e+'px',_0x37a45d['style'][_0x45ace4(0x1b8)]=_0x37a45d[_0x45ace4(0x1c1)]-_0x110380+'px';}function _0xd0fe31(){var _0x1d449a=_0x18f832;document[_0x1d449a(0x1ab)]=null,document[_0x1d449a(0x192)]=null;}}var mapCode='';id(_0x3a58f6(0x1d7))[_0x3a58f6(0x226)]=function(){var _0xe304d6=_0x3a58f6;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x43ec10=0x0;_0x43ec10<levels['length'];_0x43ec10++){levelsArray[_0xe304d6(0x194)](JSON[_0xe304d6(0x220)](levels[_0x43ec10]));}id(_0xe304d6(0x22e))['style'][_0xe304d6(0x1c9)]=_0xe304d6(0x1f0),id(_0xe304d6(0x1f8))[_0xe304d6(0x218)]=JSON[_0xe304d6(0x20c)](levelsArray);};function newMapExport(){var _0x109eb4=_0x3a58f6;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x109eb4(0x20c)](mapObject);};id(_0x3a58f6(0x1b6))[_0x3a58f6(0x226)]=function(){var _0x229a46=_0x3a58f6;id(_0x229a46(0x22e))[_0x229a46(0x1ef)]['display']=_0x229a46(0x1d9);},id(_0x3a58f6(0x207))[_0x3a58f6(0x226)]=function(){var _0x439f9f=_0x3a58f6;download(_0x439f9f(0x1cc),JSON['stringify'](levelsArray));},id(_0x3a58f6(0x19a))[_0x3a58f6(0x20b)]=function(){var _0x341451=_0x3a58f6;console['log'](_0x341451(0x1ba));let _0x564756=id(_0x341451(0x19a))[_0x341451(0x1c6)][0x0];fileName=id('file')[_0x341451(0x1c6)][0x0][_0x341451(0x1ad)][_0x341451(0x225)]('.')[0x0];let _0x3f07f1=new FileReader();_0x3f07f1[_0x341451(0x21c)]=function(_0x41623d){var _0x31ea5a=_0x341451;let _0x1d9cd1=_0x3f07f1[_0x31ea5a(0x203)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON['parse'](_0x1d9cd1);for(let _0x5b93e9=0x0;_0x5b93e9<levelsArray['length'];_0x5b93e9++){addButton(),levels[_0x5b93e9]=JSON['stringify'](levelsArray[_0x5b93e9]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x3f07f1[_0x341451(0x19f)](_0x564756);};function safeEval(_0x590ce8){var _0x33160b=_0x3a58f6;typeof _0x590ce8==='object'&&_0x590ce8!==null&&(map=_0x590ce8[_0x33160b(0x1ca)],spawnPoint=_0x590ce8[_0x33160b(0x1b1)],camBoxes=_0x590ce8[_0x33160b(0x1df)]);}var baseWidth=id(_0x3a58f6(0x22f))['value'],baseHeight=id(_0x3a58f6(0x204))['value'];function _0x36aa(){var _0x6a6f41=['11274957rBHxbh','download','spawnPoint','removeChild','src','pointer','#ffffff','closeBtn','contextmenu','left','innerWidth','importing...','slice','getElementById','change','fillRect','keyCode','onmousedown','offsetLeft','drawing:\x20hitboxes','drawImage','speed','msSaveOrOpenBlob','files','number','canvas','display','map','createObjectURL','map.json','moveMap','splice','moveTo','zoomIn','value','cont3','24iVosPF','keyup','[MXIRYSjhsiWiKyKFreesCKhmRJGie]','color','exportMap','9513840Iumhlt','none','mouseup','body','cont','\x20selected','addEventListener','camBoxes','lineWidth','info','getContext','all-scroll','replace','black','innerHeight','#002200','globalAlpha','offsetTop','keydown','clientY',',\x20y:\x20','955754ffqrLu','clipboard','style','block','deleteLvl','pageXOffset','{}.constructor(\x22return\x20this\x22)(\x20)','fillStyle','Discard\x20changes?','write','118825PvKqBu','exportText','xRDiff','interactive','834394iSLxVK','navigator','#ff0000','zoomer','selected','clipboardData','spawn','MapTester/index.html','result','mapSizeH','length','cursor','downloadBtn','1196172oQTAhw','preventDefault','lineTo','onchange','stringify','getElementsByClassName','white','top','appendChild','backgroundColor','closePath','width','#0000cc','11336381XqYkyS','apply','items','innerHTML','pageYOffset','mapSizeBtnW','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','onload','16wSLCGq','clientX','imageSmoothingEnabled','parse','URL','levels','click','rect','split','onclick','getElementsByTagName','sqLUaantonLAMCLanOdpjxxXreOp.gitBIhuBb.iMo;IUElocalOBhostQVjfUMppIRZHEZFvjOONSqJZCAYmRBHkFDpWSLIHwO','#5b6ee1','onbeforeunload','function','type','crosshair','exportBox','mapSizeW','mapCode','className','zoomOut','yRDiff','beginPath','parentNode','strokeStyle','document','fromCharCode','cont2','onmousemove','toBlob','push','#000000','return\x20(function()\x20','indexOf','stroke','charCodeAt','file','add','open','image','\x20levels','readAsText','height','mousemove','createElement','drawing:\x20camera','remove','saveButton','contains','which','getAsFile','sheet','classList','onmouseup','toggle','name','MXaIboRutYS:blanjhksiWiKyKFreesCKhmRJGie'];_0x36aa=function(){return _0x6a6f41;};return _0x36aa();}function resizeMap(){var _0x45d431=_0x3a58f6;let _0x270071=0x0,_0x2b7908=0x0;for(let _0x3b72b4=0x0;_0x3b72b4<map[_0x45d431(0x205)];_0x3b72b4++){map[_0x3b72b4]['x']+map[_0x3b72b4]['w']>_0x270071&&(_0x270071=map[_0x3b72b4]['x']+map[_0x3b72b4]['w']),map[_0x3b72b4]['y']+map[_0x3b72b4]['h']>_0x2b7908&&(_0x2b7908=map[_0x3b72b4]['y']+map[_0x3b72b4]['h']);}_0x2b7908<baseHeight&&(_0x2b7908=baseHeight),_0x270071<baseWidth&&(_0x270071=baseWidth),cellQuantityW=_0x270071,id(_0x45d431(0x22f))['value']=_0x270071,cellQuantityH=_0x2b7908,id('mapSizeH')['value']=_0x2b7908,changeMapSize();}function highlightCurrentLevel(){var _0x4c681a=_0x3a58f6;let _0x5e7185=document[_0x4c681a(0x20d)](_0x4c681a(0x222));for(let _0x32f1e7=0x0;_0x32f1e7<_0x5e7185[_0x4c681a(0x205)];_0x32f1e7++){if(_0x5e7185[_0x32f1e7][_0x4c681a(0x1c7)]==currentLevel)!_0x5e7185[_0x32f1e7][_0x4c681a(0x1aa)][_0x4c681a(0x1a6)](_0x4c681a(0x1ff))&&_0x5e7185[_0x32f1e7][_0x4c681a(0x1aa)][_0x4c681a(0x19b)](_0x4c681a(0x1ff));else _0x5e7185[_0x32f1e7][_0x4c681a(0x1aa)]['contains']('selected')&&_0x5e7185[_0x32f1e7][_0x4c681a(0x1aa)][_0x4c681a(0x1a4)]('selected');}}function cameraMove(){var _0x4bcb11=_0x3a58f6;camera['L']&&(sX-=camera[_0x4bcb11(0x1c4)]);camera['R']&&(sX+=camera['speed']);camera['T']&&(sY-=camera[_0x4bcb11(0x1c4)]);camera['B']&&(sY+=camera[_0x4bcb11(0x1c4)]);sX<0x0&&(sX=0x0);sX>canvas[_0x4bcb11(0x213)]-window[_0x4bcb11(0x1b9)]&&(sX=canvas[_0x4bcb11(0x213)]-window[_0x4bcb11(0x1b9)]);sY<0x0&&(sY=0x0);sY>canvas['height']-window[_0x4bcb11(0x1e6)]&&(sY=canvas['height']-window[_0x4bcb11(0x1e6)]);if(camera[_0x4bcb11(0x18a)])id(_0x4bcb11(0x1fe))[_0x4bcb11(0x1d1)]--,zoomChange();else camera[_0x4bcb11(0x1d0)]&&(id('zoomer')[_0x4bcb11(0x1d1)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x3259d2=_0x3a58f6;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x3259d2(0x1d0)]||camera[_0x3259d2(0x18a)])&&cameraMove();c[_0x3259d2(0x1e8)]=0x1;for(let _0x255512=0x0;_0x255512<map[_0x3259d2(0x205)];_0x255512++){if(map[_0x255512][_0x3259d2(0x22c)]>0x33)for(let _0x51f6ad=0x0;_0x51f6ad<map[_0x255512]['h'];_0x51f6ad++){for(let _0x584626=0x0;_0x584626<map[_0x255512]['w'];_0x584626++){c[_0x3259d2(0x1c3)](id(_0x3259d2(0x1a9)),tiles[map[_0x255512]['type']][0x0]*0x10,tiles[map[_0x255512][_0x3259d2(0x22c)]][0x1]*0x10,0x10,0x10,(map[_0x255512]['x']+_0x584626)*cellSize,(map[_0x255512]['y']+_0x51f6ad)*cellSize,cellSize,cellSize);}}}for(let _0x23bd3e=0x0;_0x23bd3e<map[_0x3259d2(0x205)];_0x23bd3e++){if(map[_0x23bd3e][_0x3259d2(0x22c)]<=0x33)for(let _0x3d2454=0x0;_0x3d2454<map[_0x23bd3e]['h'];_0x3d2454++){for(let _0x58347a=0x0;_0x58347a<map[_0x23bd3e]['w'];_0x58347a++){c[_0x3259d2(0x1c3)](id(_0x3259d2(0x1a9)),tiles[map[_0x23bd3e]['type']][0x0]*0x10,tiles[map[_0x23bd3e][_0x3259d2(0x22c)]][0x1]*0x10,0x10,0x10,(map[_0x23bd3e]['x']+_0x58347a)*cellSize,(map[_0x23bd3e]['y']+_0x3d2454)*cellSize,cellSize,cellSize);}}}for(let _0x51b515=0x0;_0x51b515<hitBoxes[_0x3259d2(0x205)];_0x51b515++){c[_0x3259d2(0x1f4)]=_0x3259d2(0x195),c[_0x3259d2(0x1be)](hitBoxes[_0x51b515]['x']*cellSize,hitBoxes[_0x51b515]['y']*cellSize,hitBoxes[_0x51b515]['w']*cellSize,hitBoxes[_0x51b515]['h']*cellSize);}c[_0x3259d2(0x1e8)]=0x1;for(let _0x7660e7=0x0;_0x7660e7<camBoxes['length'];_0x7660e7++){c[_0x3259d2(0x18e)]=_0x3259d2(0x1e7),c['beginPath'](),c[_0x3259d2(0x224)](camBoxes[_0x7660e7]['x']*cellSize,camBoxes[_0x7660e7]['y']*cellSize,camBoxes[_0x7660e7]['w']*cellSize,camBoxes[_0x7660e7]['h']*cellSize),c[_0x3259d2(0x212)](),c[_0x3259d2(0x198)]();}c[_0x3259d2(0x1f4)]=_0x3259d2(0x229),c[_0x3259d2(0x1be)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x376875=_0x3a58f6;c['lineWidth']=0.1,c[_0x376875(0x18e)]='#ffffff';for(let _0x3e8f4e=0x0;_0x3e8f4e<canvas[_0x376875(0x213)];_0x3e8f4e+=cellSize){c[_0x376875(0x18c)](),c[_0x376875(0x1cf)](_0x3e8f4e,0x0),c[_0x376875(0x20a)](_0x3e8f4e,canvas[_0x376875(0x1a0)]),c[_0x376875(0x212)](),c[_0x376875(0x198)]();}for(let _0x2b83fe=0x0;_0x2b83fe<canvas['height'];_0x2b83fe+=cellSize){c[_0x376875(0x18c)](),c[_0x376875(0x1cf)](0x0,_0x2b83fe),c[_0x376875(0x20a)](canvas[_0x376875(0x213)],_0x2b83fe),c[_0x376875(0x212)](),c['stroke']();}c[_0x376875(0x1e0)]=0x1;}var definingSpawnpoint=![];id('spawn')[_0x3a58f6(0x226)]=function(){var _0x540315=_0x3a58f6;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x540315(0x201))[_0x540315(0x1ef)]['color']=_0x540315(0x195),id(_0x540315(0x1c8))[_0x540315(0x1ef)]['cursor']=_0x540315(0x22d),canvas[_0x540315(0x226)]=null;return;}definingSpawnpoint=!![],id(_0x540315(0x201))[_0x540315(0x1ef)][_0x540315(0x1d6)]=_0x540315(0x214),id(_0x540315(0x1c8))[_0x540315(0x1ef)][_0x540315(0x206)]=_0x540315(0x1b4),canvas[_0x540315(0x226)]=()=>{var _0x427bfd=_0x540315;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x427bfd(0x201))['style'][_0x427bfd(0x1d6)]=_0x427bfd(0x195),id(_0x427bfd(0x1c8))['style'][_0x427bfd(0x206)]='crosshair',canvas['onclick']=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id(_0x3a58f6(0x1cd))[_0x3a58f6(0x226)]=function(){var _0x17d0ea=_0x3a58f6;if(movingMap){movingMap=![],id(_0x17d0ea(0x1cd))[_0x17d0ea(0x1ef)]['color']='#000000',id(_0x17d0ea(0x1c8))[_0x17d0ea(0x1ef)]['cursor']='crosshair';return;}movingMap=!![],id(_0x17d0ea(0x1cd))[_0x17d0ea(0x1ef)][_0x17d0ea(0x1d6)]='#0000cc',id(_0x17d0ea(0x1c8))[_0x17d0ea(0x1ef)]['cursor']=_0x17d0ea(0x1e3),canvas[_0x17d0ea(0x1de)](_0x17d0ea(0x1a1),function(){var _0x3f1ad9=_0x17d0ea;if(!movingMap||!mouseDown)return;let _0x3421c5=square['w']/cellSize-movingVariables[_0x3f1ad9(0x1f9)],_0x5153f8=square['h']/cellSize-movingVariables[_0x3f1ad9(0x18b)];(_0x3421c5!==0x0||_0x5153f8!==0x0)&&(moveEverything(_0x3421c5,_0x5153f8),movingVariables[_0x3f1ad9(0x1f9)]+=_0x3421c5,movingVariables[_0x3f1ad9(0x18b)]+=_0x5153f8);}),canvas['addEventListener'](_0x17d0ea(0x1da),function(){var _0x333afb=_0x17d0ea;if(!movingMap)return;movingVariables[_0x333afb(0x1f9)]=0x0,movingVariables[_0x333afb(0x18b)]=0x0;});};function moveEverything(_0x5eb1cd,_0x926d9e){var _0x4e5c9d=_0x3a58f6;if(_0x5eb1cd==0x0&&_0x926d9e==0x0)return;for(let _0x1372b9=0x0;_0x1372b9<map[_0x4e5c9d(0x205)];_0x1372b9++){map[_0x1372b9]['x']+=_0x5eb1cd,map[_0x1372b9]['y']+=_0x926d9e;}for(let _0x2b0bd7=0x0;_0x2b0bd7<hitBoxes[_0x4e5c9d(0x205)];_0x2b0bd7++){hitBoxes[_0x2b0bd7]['x']+=_0x5eb1cd,hitBoxes[_0x2b0bd7]['y']+=_0x926d9e;}for(let _0x3bad3e=0x0;_0x3bad3e<camBoxes[_0x4e5c9d(0x205)];_0x3bad3e++){camBoxes[_0x3bad3e]['x']+=_0x5eb1cd,camBoxes[_0x3bad3e]['y']+=_0x926d9e;}spawnPoint['x']+=_0x5eb1cd,spawnPoint['y']+=_0x926d9e;}function infoText(){var _0x10de30=_0x3a58f6,_0x188956=square['x']/cellSize,_0x2b6a8d=square['y']/cellSize;_0x188956>-0x1&&_0x188956<0x1&&(_0x188956=0x0),_0x2b6a8d>-0x1&&_0x2b6a8d<0x1&&(_0x2b6a8d=0x0),id(_0x10de30(0x1e1))[_0x10de30(0x218)]='x:\x20'+_0x188956+_0x10de30(0x1ec)+_0x2b6a8d+'<br>\x20w:\x20'+square['w']/cellSize+',\x20h:\x20'+square['h']/cellSize;}var mouseDown=![];canvas['addEventListener']('mousedown',function(_0x41ec1a){var _0x259d1d=_0x3a58f6;mouseDown=!![];var _0x4e5150=window[_0x259d1d(0x1f2)]-canvas[_0x259d1d(0x1c1)],_0x538afd=window['pageYOffset']-canvas[_0x259d1d(0x1e9)];id(_0x259d1d(0x1e1))[_0x259d1d(0x1ef)][_0x259d1d(0x1c9)]=_0x259d1d(0x1f0),id(_0x259d1d(0x1e1))[_0x259d1d(0x1ef)]['left']=_0x41ec1a[_0x259d1d(0x21e)]+0x1e+'px',id(_0x259d1d(0x1e1))[_0x259d1d(0x1ef)][_0x259d1d(0x20f)]=_0x41ec1a[_0x259d1d(0x1eb)]-0x1e+'px',square['x']=round(_0x41ec1a[_0x259d1d(0x21e)]+_0x4e5150)*cellSize,square['y']=round(_0x41ec1a['clientY']+_0x538afd)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x3a58f6(0x1de)](_0x3a58f6(0x1a1),function(_0x46c480){var _0x51924c=_0x3a58f6,_0x2b415b=window[_0x51924c(0x1f2)]-canvas[_0x51924c(0x1c1)],_0x24b9de=window[_0x51924c(0x219)]-canvas[_0x51924c(0x1e9)];mouseDown&&(id(_0x51924c(0x1e1))[_0x51924c(0x1ef)][_0x51924c(0x1c9)]=_0x51924c(0x1f0),id('info')['style']['left']=_0x46c480[_0x51924c(0x21e)]+0x1e+'px',id(_0x51924c(0x1e1))[_0x51924c(0x1ef)]['top']=_0x46c480[_0x51924c(0x1eb)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x46c480[_0x51924c(0x21e)]+_0x2b415b-square['x'])*cellSize,square['h']=round(_0x46c480[_0x51924c(0x1eb)]+_0x24b9de-square['y'])*cellSize);}),canvas[_0x3a58f6(0x1de)](_0x3a58f6(0x1da),function(_0x3a8da0){var _0xe8d6b=_0x3a58f6;id('info')[_0xe8d6b(0x1ef)]['display']=_0xe8d6b(0x1d9),mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x3a8da0[_0xe8d6b(0x1a7)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x31525b=prompt(_0xe8d6b(0x21b),'');hitBoxes[hitBoxes['length']-0x1]['text']=_0x31525b;}}else{if(hitBoxToggle==0x0){map['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x31525b=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');map[map[_0xe8d6b(0x205)]-0x1]['text']=_0x31525b;}}else{if(hitBoxToggle==0x2){var _0x4bc2d5=parseInt(prompt('type\x20of\x20camera',''));camBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x4bc2d5});}}}}}),id(_0x3a58f6(0x1fe))[_0x3a58f6(0x1de)](_0x3a58f6(0x1bd),zoomChange),id(_0x3a58f6(0x1f1))[_0x3a58f6(0x1de)](_0x3a58f6(0x223),deleteLevel);function deleteLevel(){var _0xdff154=_0x3a58f6;madeChanges=!![];if(levels[_0xdff154(0x205)]==0x1){clearMap();return;}removeButton(),levels['splice'](currentLevel,0x1),clearMap(),currentLevel=levels[_0xdff154(0x205)]-0x1,safeEval(JSON[_0xdff154(0x220)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x131aad=_0x3a58f6;let _0x27c51e={'number':0x0},_0x415f2b=document['getElementsByClassName'](_0x131aad(0x222));for(let _0x1f40bb=0x0;_0x1f40bb<_0x415f2b['length'];_0x1f40bb++){_0x415f2b[_0x1f40bb][_0x131aad(0x1c7)]>=_0x27c51e[_0x131aad(0x1c7)]&&(_0x27c51e=_0x415f2b[_0x1f40bb]);}_0x27c51e[_0x131aad(0x18d)][_0x131aad(0x1b2)](_0x27c51e);}function zoomChange(){var _0xe9035e=_0x3a58f6;cellSize=parseInt(id(_0xe9035e(0x1fe))[_0xe9035e(0x1d1)]),changeMapSize();}function changeMapSize(){var _0x915765=_0x3a58f6;canvas[_0x915765(0x213)]=cellQuantityW*cellSize,canvas[_0x915765(0x1a0)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x691d3d){var _0x3d005e=parseInt(_0x691d3d),_0x12c089=_0x3d005e%cellSize;if(_0x12c089!==0x0){if(_0x12c089>cellSize/0x2)_0x3d005e=_0x3d005e-_0x12c089+cellSize;else _0x3d005e=_0x3d005e-_0x12c089;}return _0x3d005e/cellSize>0x0&&_0x3d005e/cellSize<0x1?0x0:_0x3d005e/cellSize;}function enableBeforeUnload(){var _0x42dcb2=_0x3a58f6;window[_0x42dcb2(0x22a)]=function(_0x194ca8){var _0x75e6ca=_0x42dcb2;if(madeChanges)return _0x75e6ca(0x1f5);};}function disableBeforeUnload(){window['onbeforeunload']=null;}enableBeforeUnload(),document[_0x3a58f6(0x1de)](_0x3a58f6(0x1b7),function(_0x4bbf83){var _0x111e16=_0x3a58f6;madeChanges=!![];var _0x30fa6c=window[_0x111e16(0x1f2)]-canvas['offsetLeft'],_0x5d9fce=window[_0x111e16(0x219)]-canvas[_0x111e16(0x1e9)];_0x4bbf83[_0x111e16(0x209)]();var _0x2beb15=_0x4bbf83[_0x111e16(0x21e)]+_0x30fa6c,_0x8f9551=_0x4bbf83[_0x111e16(0x1eb)]+_0x5d9fce;removeElements(map,_0x2beb15,_0x8f9551),removeElements(hitBoxes,_0x2beb15,_0x8f9551),removeElements(camBoxes,_0x2beb15,_0x8f9551);});function removeElements(_0x1c6283,_0x3c79af,_0xf163bd){var _0x2cead9=_0x3a58f6,_0x5c81cc=[];for(let _0x54cd01=0x0;_0x54cd01<_0x1c6283[_0x2cead9(0x205)];_0x54cd01++){_0x3c79af>_0x1c6283[_0x54cd01]['x']*cellSize&&_0x3c79af<_0x1c6283[_0x54cd01]['x']*cellSize+_0x1c6283[_0x54cd01]['w']*cellSize&&(_0xf163bd>_0x1c6283[_0x54cd01]['y']*cellSize&&_0xf163bd<_0x1c6283[_0x54cd01]['y']*cellSize+_0x1c6283[_0x54cd01]['h']*cellSize&&_0x5c81cc[_0x2cead9(0x194)](_0x54cd01));}_0x5c81cc['sort'](function(_0x2907ea,_0x1abdcd){return _0x1abdcd-_0x2907ea;});for(let _0x536ed2=0x0;_0x536ed2<_0x5c81cc['length'];_0x536ed2++){_0x1c6283[_0x2cead9(0x1ce)](_0x5c81cc[_0x536ed2],0x1);}}function download(_0x39c0f3,_0x173588){var _0x3e3e60=_0x3a58f6;madeChanges=![];var _0x518be7=new Blob([_0x173588],{'type':'text/csv'});if(window[_0x3e3e60(0x1fc)][_0x3e3e60(0x1c5)])window[_0x3e3e60(0x1fc)]['msSaveBlob'](_0x518be7,_0x39c0f3);else{var _0x15b83f=window[_0x3e3e60(0x18f)]['createElement']('a');_0x15b83f['href']=window[_0x3e3e60(0x221)][_0x3e3e60(0x1cb)](_0x518be7),_0x15b83f[_0x3e3e60(0x1b0)]=_0x39c0f3,document[_0x3e3e60(0x1db)][_0x3e3e60(0x210)](_0x15b83f),_0x15b83f['click'](),document['body']['removeChild'](_0x15b83f);}}window[_0x3a58f6(0x1de)](_0x3a58f6(0x1ea),function(_0x5d8b0b){var _0x447a38=_0x3a58f6,_0x173472=_0x5d8b0b[_0x447a38(0x1bf)];switch(_0x173472){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x447a38(0x1d0)]=!![];break;case 0x51:camera[_0x447a38(0x18a)]=!![];break;}}),window['addEventListener'](_0x3a58f6(0x1d4),function(_0x36b269){var _0x29b35f=_0x3a58f6,_0x5e035e=_0x36b269[_0x29b35f(0x1bf)];switch(_0x5e035e){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x29b35f(0x1d0)]=![];break;case 0x51:camera['zoomOut']=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x34022d,_0x240310){var _0x43712d=_0x3a58f6;_0x34022d['clipboardData']==![]&&(typeof _0x240310==_0x43712d(0x22b)&&_0x240310(undefined));;var _0x5827d4=_0x34022d[_0x43712d(0x200)][_0x43712d(0x217)];_0x5827d4==undefined&&(typeof _0x240310=='function'&&_0x240310(undefined));;for(var _0x5b8fc7=0x0;_0x5b8fc7<_0x5827d4['length'];_0x5b8fc7++){if(_0x5827d4[_0x5b8fc7][_0x43712d(0x22c)][_0x43712d(0x197)](_0x43712d(0x19d))==-0x1)continue;var _0x54cf9f=_0x5827d4[_0x5b8fc7][_0x43712d(0x1a8)]();typeof _0x240310==_0x43712d(0x22b)&&_0x240310(_0x54cf9f);}}window[_0x3a58f6(0x1de)]('paste',function(_0x5c3d11){retrieveImageFromClipboardAsBlob(_0x5c3d11,function(_0x32538f){var _0x149cb3=_0x6d3b;if(_0x32538f){var _0x5850f0=new Image();_0x5850f0[_0x149cb3(0x21c)]=function(){var _0x27c8af=_0x149cb3;pastedImage=_0x5850f0,id('mapSizeW')['value']=pastedImage['width']/cellSize,cellQuantityW=pastedImage[_0x27c8af(0x213)]/cellSize,id(_0x27c8af(0x204))[_0x27c8af(0x1d1)]=pastedImage[_0x27c8af(0x1a0)]/cellSize,cellQuantityH=pastedImage[_0x27c8af(0x1a0)]/cellSize,changeMapSize();};var _0x5327df=window[_0x149cb3(0x221)]||window['webkitURL'];_0x5850f0[_0x149cb3(0x1b3)]=_0x5327df[_0x149cb3(0x1cb)](_0x32538f);}});},![]);