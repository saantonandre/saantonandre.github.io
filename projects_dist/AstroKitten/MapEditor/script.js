'use strict';var _0x29a120=_0x34de;(function(_0x9df731,_0x78e345){var _0x5c83ac=_0x34de,_0x2ec7bc=_0x9df731();while(!![]){try{var _0x48863e=parseInt(_0x5c83ac(0x226))/0x1+-parseInt(_0x5c83ac(0x225))/0x2+-parseInt(_0x5c83ac(0x269))/0x3*(-parseInt(_0x5c83ac(0x23b))/0x4)+-parseInt(_0x5c83ac(0x258))/0x5+parseInt(_0x5c83ac(0x1fb))/0x6+-parseInt(_0x5c83ac(0x259))/0x7*(-parseInt(_0x5c83ac(0x1d1))/0x8)+-parseInt(_0x5c83ac(0x1e4))/0x9*(parseInt(_0x5c83ac(0x262))/0xa);if(_0x48863e===_0x78e345)break;else _0x2ec7bc['push'](_0x2ec7bc['shift']());}catch(_0x3d4eee){_0x2ec7bc['push'](_0x2ec7bc['shift']());}}}(_0x248a,0x798ae));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x3e1739){var _0x5edef=_0x34de,_0x17cc10=(function(){var _0x458160=!![];return function(_0x1189b7,_0x103fd2){var _0x181be7=_0x458160?function(){var _0x148a25=_0x34de;if(_0x103fd2){var _0x148f31=_0x103fd2[_0x148a25(0x211)](_0x1189b7,arguments);return _0x103fd2=null,_0x148f31;}}:function(){};return _0x458160=![],_0x181be7;};}()),_0x1d5afa=_0x17cc10(this,function(){var _0x1a1dc9=_0x34de,_0x503b24=function(){var _0x848e47=_0x34de,_0x4b5fb1;try{_0x4b5fb1=Function(_0x848e47(0x218)+_0x848e47(0x1f7)+');')();}catch(_0x38bfcb){_0x4b5fb1=window;}return _0x4b5fb1;},_0x2f47c1=_0x503b24(),_0x28d792=new RegExp(_0x1a1dc9(0x251),'g'),_0x20e30c=_0x1a1dc9(0x278)[_0x1a1dc9(0x1d6)](_0x28d792,'')[_0x1a1dc9(0x23a)](';'),_0x28717d,_0x4d62cd,_0x528b94,_0x4cdf11,_0x16f960=function(_0x1e8b63,_0x2d42d,_0x5896af){var _0x2f6ffd=_0x1a1dc9;if(_0x1e8b63[_0x2f6ffd(0x275)]!=_0x2d42d)return![];for(var _0x12198b=0x0;_0x12198b<_0x2d42d;_0x12198b++){for(var _0x46972d=0x0;_0x46972d<_0x5896af[_0x2f6ffd(0x275)];_0x46972d+=0x2){if(_0x12198b==_0x5896af[_0x46972d]&&_0x1e8b63[_0x2f6ffd(0x25d)](_0x12198b)!=_0x5896af[_0x46972d+0x1])return![];}}return!![];},_0x3a8d90=function(_0x4ae040,_0x1aab25,_0x1b3ad3){return _0x16f960(_0x1aab25,_0x1b3ad3,_0x4ae040);},_0xfa6fbc=function(_0x4ef003,_0x5c5824,_0x48f639){return _0x3a8d90(_0x5c5824,_0x4ef003,_0x48f639);},_0x53605d=function(_0x51710e,_0x44a480,_0x211557){return _0xfa6fbc(_0x44a480,_0x211557,_0x51710e);};for(var _0x1b63e9 in _0x2f47c1){if(_0x16f960(_0x1b63e9,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x28717d=_0x1b63e9;break;}}for(var _0x3ccb6d in _0x2f47c1[_0x28717d]){if(_0x53605d(0x6,_0x3ccb6d,[0x5,0x6e,0x0,0x64])){_0x4d62cd=_0x3ccb6d;break;}}for(var _0x19baf6 in _0x2f47c1[_0x28717d]){if(_0xfa6fbc(_0x19baf6,[0x7,0x6e,0x0,0x6c],0x8)){_0x528b94=_0x19baf6;break;}}if(!('~'>_0x4d62cd))for(var _0x11584d in _0x2f47c1[_0x28717d][_0x528b94]){if(_0x3a8d90([0x7,0x65,0x0,0x68],_0x11584d,0x8)){_0x4cdf11=_0x11584d;break;}}if(!_0x28717d||!_0x2f47c1[_0x28717d])return;var _0x5e02a3=_0x2f47c1[_0x28717d][_0x4d62cd],_0x5524f9=!!_0x2f47c1[_0x28717d][_0x528b94]&&_0x2f47c1[_0x28717d][_0x528b94][_0x4cdf11],_0x11daa0=_0x5e02a3||_0x5524f9;if(!_0x11daa0)return;var _0xb6cb6a=![];for(var _0x535902=0x0;_0x535902<_0x20e30c[_0x1a1dc9(0x275)];_0x535902++){var _0x4d62cd=_0x20e30c[_0x535902],_0x525c17=_0x4d62cd[0x0]===String[_0x1a1dc9(0x21f)](0x2e)?_0x4d62cd[_0x1a1dc9(0x24e)](0x1):_0x4d62cd,_0x6efacd=_0x11daa0['length']-_0x525c17[_0x1a1dc9(0x275)],_0x1fea92=_0x11daa0[_0x1a1dc9(0x279)](_0x525c17,_0x6efacd),_0x391f7d=_0x1fea92!==-0x1&&_0x1fea92===_0x6efacd;_0x391f7d&&((_0x11daa0[_0x1a1dc9(0x275)]==_0x4d62cd['length']||_0x4d62cd['indexOf']('.')===0x0)&&(_0xb6cb6a=!![]));}if(!_0xb6cb6a){var _0x209ed4=new RegExp(_0x1a1dc9(0x1f9),'g'),_0x23edf1=_0x1a1dc9(0x1fc)[_0x1a1dc9(0x1d6)](_0x209ed4,'');_0x2f47c1[_0x28717d][_0x528b94]=_0x23edf1;}});return _0x1d5afa(),document[_0x5edef(0x26a)](_0x3e1739);}var canvas=id(_0x29a120(0x260)),sheet=id(_0x29a120(0x249)),c=canvas[_0x29a120(0x266)]('2d');c[_0x29a120(0x1d3)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')['onclick']=function(){addLevel();};function clearMap(){var _0x1e1b95=_0x29a120;map=[],mapObject[_0x1e1b95(0x202)]=[],mapObject[_0x1e1b95(0x27d)]=[],mapObject[_0x1e1b95(0x1da)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x2122cd=_0x29a120;let _0x3e9d52=document[_0x2122cd(0x205)](_0x2122cd(0x217));for(let _0x31a054=_0x3e9d52['length']-0x1;_0x31a054>=0x0;_0x31a054--){_0x3e9d52[_0x31a054]['parentNode'][_0x2122cd(0x236)](_0x3e9d52[_0x31a054]);}}function _0x34de(_0x2a9620,_0x25cc81){var _0x133326=_0x248a();return _0x34de=function(_0x7c47cc,_0x19bc18){_0x7c47cc=_0x7c47cc-0x1d0;var _0x2db173=_0x133326[_0x7c47cc];return _0x2db173;},_0x34de(_0x2a9620,_0x25cc81);}id(_0x29a120(0x1e5))['onclick']=saveImage;function saveImage(){var _0x26a6b6=_0x29a120;canvas[_0x26a6b6(0x253)](_0x2a06b3=>navigator[_0x26a6b6(0x1d4)][_0x26a6b6(0x22c)]([new ClipboardItem({'image/png':_0x2a06b3})]));}function addButton(){var _0x119179=_0x29a120,_0x4616f8=document[_0x119179(0x1f4)](_0x119179(0x237));_0x4616f8[_0x119179(0x1db)]=levels['length'],_0x4616f8[_0x119179(0x1e3)]=levels[_0x119179(0x275)],_0x4616f8[_0x119179(0x242)]+=_0x119179(0x235),_0x4616f8[_0x119179(0x223)]=function(_0x5000fc){var _0x1242e3=_0x119179;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this['number'],safeEval(JSON[_0x1242e3(0x26c)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0x119179(0x26f))[_0x119179(0x246)](_0x4616f8),highlightCurrentLevel();}function addLevel(){var _0x220c74=_0x29a120;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x220c74(0x239)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0x220c74(0x26c)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x29a120(0x1e7))[_0x29a120(0x1f5)],cellQuantityH=id(_0x29a120(0x267))[_0x29a120(0x1f5)],cellSize=0x10,fileName=_0x29a120(0x20f),interactiveTile=0x0;canvas[_0x29a120(0x1dc)]=cellQuantityW*cellSize,canvas[_0x29a120(0x1e8)]=cellQuantityH*cellSize,id(_0x29a120(0x21c))[_0x29a120(0x270)]=function(){var _0x3766b4=_0x29a120;cellQuantityW=id(_0x3766b4(0x1e7))['value'],changeMapSize();},id(_0x29a120(0x1d0))[_0x29a120(0x270)]=function(){var _0x69fe30=_0x29a120;cellQuantityH=id(_0x69fe30(0x267))['value'],changeMapSize();},window[_0x29a120(0x26e)]=function(){var _0x258254=_0x29a120;for(let _0x1540ea=0x0;_0x1540ea<tiles[_0x258254(0x275)];_0x1540ea++){var _0x1e93a0=document['createElement'](_0x258254(0x260));_0x1e93a0['id']=_0x258254(0x260)+_0x1540ea,_0x1e93a0[_0x258254(0x1dc)]=0x20,_0x1e93a0['height']=0x20,_0x1e93a0['number']=_0x1540ea,_0x1e93a0[_0x258254(0x266)]('2d')[_0x258254(0x1d3)]=![];_0x1540ea===0x0&&(_0x1e93a0['className']+=_0x258254(0x241));_0x1e93a0['className']+=_0x258254(0x238),_0x1e93a0[_0x258254(0x266)]('2d')['drawImage'](sheet,tiles[_0x1540ea][0x0]*0x10,tiles[_0x1540ea][0x1]*0x10,0x10,0x10,0x0,0x0,_0x1e93a0[_0x258254(0x1dc)],_0x1e93a0[_0x258254(0x1e8)]);var _0xfd5719=document[_0x258254(0x204)](_0x258254(0x22e))[0x0];id(_0x258254(0x229))[_0x258254(0x246)](_0x1e93a0),id(_0x258254(0x260)+_0x1540ea)[_0x258254(0x270)]=function(){var _0x15baca=_0x258254;selectedType=this[_0x15baca(0x1db)];for(let _0x11d8bd=0x0;_0x11d8bd<tiles['length'];_0x11d8bd++){id('canvas'+_0x11d8bd)[_0x15baca(0x227)]['remove'](_0x15baca(0x231));}this[_0x15baca(0x242)]+=_0x15baca(0x241);};}loop();},id(_0x29a120(0x255))[_0x29a120(0x270)]=function(){var _0x9356f6=_0x29a120;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x5375bb=0x0;_0x5375bb<levels['length'];_0x5375bb++){levelsArray['push'](JSON[_0x9356f6(0x26c)](levels[_0x5375bb]));}var _0x241a0f=window[_0x9356f6(0x274)](_0x9356f6(0x24c));},id(_0x29a120(0x21d))[_0x29a120(0x270)]=function(){var _0x121f60=_0x29a120;interactiveTile?(interactiveTile=0x0,id(_0x121f60(0x21d))[_0x121f60(0x234)][_0x121f60(0x1de)]=_0x121f60(0x201),id(_0x121f60(0x21d))[_0x121f60(0x234)][_0x121f60(0x1e1)]=_0x121f60(0x23e)):(interactiveTile=0x1,id(_0x121f60(0x21d))['style'][_0x121f60(0x1de)]=_0x121f60(0x23e),id('interactive')[_0x121f60(0x234)][_0x121f60(0x1e1)]=_0x121f60(0x201));};var hitBoxToggle=![];id(_0x29a120(0x228))[_0x29a120(0x270)]=function(){var _0x34f67f=_0x29a120;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x34f67f(0x228))[_0x34f67f(0x1e3)]=_0x34f67f(0x272);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x34f67f(0x228))[_0x34f67f(0x1e3)]='drawing:\x20hitboxes';else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id('toggle')['innerHTML']='drawing:\x20camera');}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x3479ee=_0x29a120;c[_0x3479ee(0x26d)](0x0,0x0,canvas[_0x3479ee(0x1dc)],canvas[_0x3479ee(0x1e8)]),pastedImage&&c[_0x3479ee(0x1ff)](pastedImage,0x0,0x0,pastedImage[_0x3479ee(0x1dc)],pastedImage[_0x3479ee(0x1e8)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x2be5bd=_0x29a120;if(hitBoxToggle==0x1)c[_0x2be5bd(0x214)]=_0x2be5bd(0x1e2);else c[_0x2be5bd(0x214)]=_0x2be5bd(0x1fd);c[_0x2be5bd(0x26b)](),c[_0x2be5bd(0x1f1)](square['x'],square['y'],square['w'],square['h']),c[_0x2be5bd(0x1f6)](),c['stroke']();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x29a120(0x1d7))),dragElement(id('cont2')),dragElement(id(_0x29a120(0x26f)));function dragElement(_0x36fc31){var _0x3da791=_0x29a120,_0x520208=0x0,_0x58feea=0x0,_0x18223b=0x0,_0x4b42ab=0x0;_0x36fc31[_0x3da791(0x223)]=_0x285e55;function _0x285e55(_0x27548d){var _0xf81489=_0x3da791;_0x27548d=_0x27548d||window[_0xf81489(0x216)],_0x18223b=_0x27548d[_0xf81489(0x256)],_0x4b42ab=_0x27548d[_0xf81489(0x215)],document[_0xf81489(0x232)]=_0x148fc6,document[_0xf81489(0x27c)]=_0xec11a8;}function _0xec11a8(_0x13a22d){var _0x5f35ad=_0x3da791;_0x13a22d=_0x13a22d||window[_0x5f35ad(0x216)],_0x13a22d[_0x5f35ad(0x24a)](),_0x520208=_0x18223b-_0x13a22d[_0x5f35ad(0x256)],_0x58feea=_0x4b42ab-_0x13a22d['clientY'],_0x18223b=_0x13a22d[_0x5f35ad(0x256)],_0x4b42ab=_0x13a22d['clientY'],_0x36fc31[_0x5f35ad(0x234)][_0x5f35ad(0x27f)]=_0x36fc31[_0x5f35ad(0x21b)]-_0x58feea+'px',_0x36fc31[_0x5f35ad(0x234)]['left']=_0x36fc31['offsetLeft']-_0x520208+'px';}function _0x148fc6(){var _0x4178b3=_0x3da791;document[_0x4178b3(0x232)]=null,document[_0x4178b3(0x27c)]=null;}}var mapCode='';id(_0x29a120(0x265))['onclick']=function(){var _0x46b822=_0x29a120;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x1c48ce=0x0;_0x1c48ce<levels[_0x46b822(0x275)];_0x1c48ce++){levelsArray[_0x46b822(0x277)](JSON[_0x46b822(0x26c)](levels[_0x1c48ce]));}id('exportBox')['style']['display']='block',id(_0x46b822(0x245))[_0x46b822(0x1e3)]=JSON[_0x46b822(0x212)](levelsArray);};function newMapExport(){var _0x4d2e66=_0x29a120;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x4d2e66(0x212)](mapObject);};id('closeBtn')['onclick']=function(){var _0x284ff8=_0x29a120;id(_0x284ff8(0x22f))['style']['display']=_0x284ff8(0x23d);},id(_0x29a120(0x24f))[_0x29a120(0x270)]=function(){var _0x428fc5=_0x29a120;download('map.json',JSON[_0x428fc5(0x212)](levelsArray));},id(_0x29a120(0x1e6))['onchange']=function(){var _0x519398=_0x29a120;console[_0x519398(0x23c)](_0x519398(0x25b));let _0x52f0cf=id(_0x519398(0x1e6))[_0x519398(0x257)][0x0];fileName=id(_0x519398(0x1e6))[_0x519398(0x257)][0x0][_0x519398(0x207)]['split']('.')[0x0];let _0x51e7e8=new FileReader();_0x51e7e8['onload']=function(_0x30c7b9){var _0x1e98c8=_0x519398;let _0x3be2ab=_0x51e7e8['result'];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON['parse'](_0x3be2ab);for(let _0x1abe4f=0x0;_0x1abe4f<levelsArray['length'];_0x1abe4f++){addButton(),levels[_0x1abe4f]=JSON[_0x1e98c8(0x212)](levelsArray[_0x1abe4f]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x51e7e8[_0x519398(0x252)](_0x52f0cf);};function safeEval(_0x5c3de7){var _0x5e0193=_0x29a120;typeof _0x5c3de7===_0x5e0193(0x27b)&&_0x5c3de7!==null&&(map=_0x5c3de7[_0x5e0193(0x202)],spawnPoint=_0x5c3de7['spawnPoint'],camBoxes=_0x5c3de7['camBoxes']);}var baseWidth=id(_0x29a120(0x1e7))[_0x29a120(0x1f5)],baseHeight=id(_0x29a120(0x267))[_0x29a120(0x1f5)];function resizeMap(){var _0x5757f4=_0x29a120;let _0x289100=0x0,_0x85131=0x0;for(let _0x1f300b=0x0;_0x1f300b<map[_0x5757f4(0x275)];_0x1f300b++){map[_0x1f300b]['x']+map[_0x1f300b]['w']>_0x289100&&(_0x289100=map[_0x1f300b]['x']+map[_0x1f300b]['w']),map[_0x1f300b]['y']+map[_0x1f300b]['h']>_0x85131&&(_0x85131=map[_0x1f300b]['y']+map[_0x1f300b]['h']);}_0x85131<baseHeight&&(_0x85131=baseHeight),_0x289100<baseWidth&&(_0x289100=baseWidth),cellQuantityW=_0x289100,id(_0x5757f4(0x1e7))[_0x5757f4(0x1f5)]=_0x289100,cellQuantityH=_0x85131,id('mapSizeH')[_0x5757f4(0x1f5)]=_0x85131,changeMapSize();}function highlightCurrentLevel(){var _0xeef377=_0x29a120;let _0x434540=document[_0xeef377(0x205)]('levels');for(let _0x42a3e9=0x0;_0x42a3e9<_0x434540[_0xeef377(0x275)];_0x42a3e9++){if(_0x434540[_0x42a3e9][_0xeef377(0x1db)]==currentLevel)!_0x434540[_0x42a3e9]['classList']['contains'](_0xeef377(0x231))&&_0x434540[_0x42a3e9][_0xeef377(0x227)][_0xeef377(0x1f2)](_0xeef377(0x231));else _0x434540[_0x42a3e9][_0xeef377(0x227)][_0xeef377(0x263)]('selected')&&_0x434540[_0x42a3e9][_0xeef377(0x227)][_0xeef377(0x208)](_0xeef377(0x231));}}function cameraMove(){var _0x20f6e0=_0x29a120;camera['L']&&(sX-=camera['speed']);camera['R']&&(sX+=camera[_0x20f6e0(0x1dd)]);camera['T']&&(sY-=camera[_0x20f6e0(0x1dd)]);camera['B']&&(sY+=camera[_0x20f6e0(0x1dd)]);sX<0x0&&(sX=0x0);sX>canvas[_0x20f6e0(0x1dc)]-window['innerWidth']&&(sX=canvas[_0x20f6e0(0x1dc)]-window[_0x20f6e0(0x264)]);sY<0x0&&(sY=0x0);sY>canvas[_0x20f6e0(0x1e8)]-window['innerHeight']&&(sY=canvas[_0x20f6e0(0x1e8)]-window['innerHeight']);if(camera[_0x20f6e0(0x1f8)])id(_0x20f6e0(0x27e))[_0x20f6e0(0x1f5)]--,zoomChange();else camera[_0x20f6e0(0x220)]&&(id(_0x20f6e0(0x27e))[_0x20f6e0(0x1f5)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x6b70c0=_0x29a120;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x6b70c0(0x220)]||camera[_0x6b70c0(0x1f8)])&&cameraMove();c[_0x6b70c0(0x1f3)]=0x1;for(let _0x2b641c=0x0;_0x2b641c<map[_0x6b70c0(0x275)];_0x2b641c++){if(map[_0x2b641c][_0x6b70c0(0x230)]>0x33)for(let _0xe98735=0x0;_0xe98735<map[_0x2b641c]['h'];_0xe98735++){for(let _0xaf4a2e=0x0;_0xaf4a2e<map[_0x2b641c]['w'];_0xaf4a2e++){c[_0x6b70c0(0x1ff)](id(_0x6b70c0(0x249)),tiles[map[_0x2b641c][_0x6b70c0(0x230)]][0x0]*0x10,tiles[map[_0x2b641c][_0x6b70c0(0x230)]][0x1]*0x10,0x10,0x10,(map[_0x2b641c]['x']+_0xaf4a2e)*cellSize,(map[_0x2b641c]['y']+_0xe98735)*cellSize,cellSize,cellSize);}}}for(let _0x2a1bb2=0x0;_0x2a1bb2<map[_0x6b70c0(0x275)];_0x2a1bb2++){if(map[_0x2a1bb2][_0x6b70c0(0x230)]<=0x33)for(let _0x27dd35=0x0;_0x27dd35<map[_0x2a1bb2]['h'];_0x27dd35++){for(let _0x35dc88=0x0;_0x35dc88<map[_0x2a1bb2]['w'];_0x35dc88++){c[_0x6b70c0(0x1ff)](id('sheet'),tiles[map[_0x2a1bb2][_0x6b70c0(0x230)]][0x0]*0x10,tiles[map[_0x2a1bb2][_0x6b70c0(0x230)]][0x1]*0x10,0x10,0x10,(map[_0x2a1bb2]['x']+_0x35dc88)*cellSize,(map[_0x2a1bb2]['y']+_0x27dd35)*cellSize,cellSize,cellSize);}}}for(let _0x505e8a=0x0;_0x505e8a<hitBoxes[_0x6b70c0(0x275)];_0x505e8a++){c['fillStyle']=_0x6b70c0(0x23f),c[_0x6b70c0(0x243)](hitBoxes[_0x505e8a]['x']*cellSize,hitBoxes[_0x505e8a]['y']*cellSize,hitBoxes[_0x505e8a]['w']*cellSize,hitBoxes[_0x505e8a]['h']*cellSize);}c[_0x6b70c0(0x1f3)]=0x1;for(let _0x7f260e=0x0;_0x7f260e<camBoxes[_0x6b70c0(0x275)];_0x7f260e++){c[_0x6b70c0(0x214)]=_0x6b70c0(0x22b),c[_0x6b70c0(0x26b)](),c[_0x6b70c0(0x1f1)](camBoxes[_0x7f260e]['x']*cellSize,camBoxes[_0x7f260e]['y']*cellSize,camBoxes[_0x7f260e]['w']*cellSize,camBoxes[_0x7f260e]['h']*cellSize),c['closePath'](),c['stroke']();}c[_0x6b70c0(0x20a)]=_0x6b70c0(0x20b),c[_0x6b70c0(0x243)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x3fa58f=_0x29a120;c[_0x3fa58f(0x250)]=0.1,c[_0x3fa58f(0x214)]=_0x3fa58f(0x1fd);for(let _0xe87236=0x0;_0xe87236<canvas[_0x3fa58f(0x1dc)];_0xe87236+=cellSize){c[_0x3fa58f(0x26b)](),c[_0x3fa58f(0x22a)](_0xe87236,0x0),c[_0x3fa58f(0x21a)](_0xe87236,canvas[_0x3fa58f(0x1e8)]),c['closePath'](),c['stroke']();}for(let _0x860155=0x0;_0x860155<canvas[_0x3fa58f(0x1e8)];_0x860155+=cellSize){c[_0x3fa58f(0x26b)](),c[_0x3fa58f(0x22a)](0x0,_0x860155),c['lineTo'](canvas['width'],_0x860155),c[_0x3fa58f(0x1f6)](),c[_0x3fa58f(0x221)]();}c['lineWidth']=0x1;}var definingSpawnpoint=![];id('spawn')[_0x29a120(0x270)]=function(){var _0x3cb90d=_0x29a120;if(definingSpawnpoint){definingSpawnpoint=![],id('spawn')[_0x3cb90d(0x234)]['color']='#000000',id(_0x3cb90d(0x260))[_0x3cb90d(0x234)]['cursor']=_0x3cb90d(0x203),canvas['onclick']=null;return;}definingSpawnpoint=!![],id(_0x3cb90d(0x244))[_0x3cb90d(0x234)][_0x3cb90d(0x1e1)]=_0x3cb90d(0x1d8),id('canvas')[_0x3cb90d(0x234)]['cursor']=_0x3cb90d(0x20e),canvas[_0x3cb90d(0x270)]=()=>{var _0x263fe2=_0x3cb90d;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x263fe2(0x244))['style'][_0x263fe2(0x1e1)]=_0x263fe2(0x23f),id(_0x263fe2(0x260))[_0x263fe2(0x234)]['cursor']=_0x263fe2(0x203),canvas['onclick']=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id(_0x29a120(0x20d))[_0x29a120(0x270)]=function(){var _0x4c0516=_0x29a120;if(movingMap){movingMap=![],id('moveMap')[_0x4c0516(0x234)]['color']='#000000',id(_0x4c0516(0x260))[_0x4c0516(0x234)][_0x4c0516(0x210)]=_0x4c0516(0x203);return;}movingMap=!![],id(_0x4c0516(0x20d))[_0x4c0516(0x234)][_0x4c0516(0x1e1)]='#0000cc',id(_0x4c0516(0x260))[_0x4c0516(0x234)][_0x4c0516(0x210)]=_0x4c0516(0x25c),canvas['addEventListener']('mousemove',function(){var _0x567c31=_0x4c0516;if(!movingMap||!mouseDown)return;let _0x15406a=square['w']/cellSize-movingVariables['xRDiff'],_0x5f1509=square['h']/cellSize-movingVariables[_0x567c31(0x247)];(_0x15406a!==0x0||_0x5f1509!==0x0)&&(moveEverything(_0x15406a,_0x5f1509),movingVariables[_0x567c31(0x1ea)]+=_0x15406a,movingVariables['yRDiff']+=_0x5f1509);}),canvas[_0x4c0516(0x271)]('mouseup',function(){var _0x5955c4=_0x4c0516;if(!movingMap)return;movingVariables[_0x5955c4(0x1ea)]=0x0,movingVariables['yRDiff']=0x0;});};function moveEverything(_0x457bed,_0x56a61c){var _0x4787cf=_0x29a120;if(_0x457bed==0x0&&_0x56a61c==0x0)return;for(let _0x457bc4=0x0;_0x457bc4<map[_0x4787cf(0x275)];_0x457bc4++){map[_0x457bc4]['x']+=_0x457bed,map[_0x457bc4]['y']+=_0x56a61c;}for(let _0x2a9501=0x0;_0x2a9501<hitBoxes['length'];_0x2a9501++){hitBoxes[_0x2a9501]['x']+=_0x457bed,hitBoxes[_0x2a9501]['y']+=_0x56a61c;}for(let _0x2c3828=0x0;_0x2c3828<camBoxes[_0x4787cf(0x275)];_0x2c3828++){camBoxes[_0x2c3828]['x']+=_0x457bed,camBoxes[_0x2c3828]['y']+=_0x56a61c;}spawnPoint['x']+=_0x457bed,spawnPoint['y']+=_0x56a61c;}function _0x248a(){var _0x54ad6e=['fromCharCode','zoomIn','stroke','createObjectURL','onmousedown','<br>\x20w:\x20','210796hkMGKD','67964EePFKB','classList','toggle','cont2','moveTo','#002200','write','info','body','exportBox','type','selected','onmouseup','parentNode','style','\x20levels','removeChild','button','\x20tile','splice','split','28TpVJMv','log','none','black','#000000','clipboardData','\x20selected','className','fillRect','spawn','exportText','appendChild','yRDiff',',\x20h:\x20','sheet','preventDefault','webkitURL','MapTester/index.html','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','slice','downloadBtn','lineWidth','[yqwfvLUNEFzwxWPqfYkUwIRxfqzRUvxAHXQQmzpKqqjfmKwDTSTOQEYSJjqHDPBEFXw]','readAsText','toBlob','block','test','clientX','files','262500GaBCzS','21pWqnQh','getAsFile','importing...','all-scroll','charCodeAt','image','URL','canvas','offsetLeft','10HRDOJJ','contains','innerWidth','exportMap','getContext','mapSizeH','contextmenu','274875JLKcAh','getElementById','beginPath','parse','clearRect','onload','cont3','onclick','addEventListener','drawing:\x20displayed','left','open','length','deleteLvl','push','sayqantonandwrfvLeU.gNEFithzwxWPqfYubkUwI.Rxifqo;lzRUocalhvosxAtHXQQmzpKqqjfmKwDTSTOQEYSJjqHDPBEFXw','indexOf','text','object','onmousemove','camBoxes','zoomer','top','mapSizeBtnH','251848bzzTNG','document','imageSmoothingEnabled','clipboard','mouseup','replace','cont','#0000cc','keydown','spawnPoint','number','width','speed','backgroundColor','href','onbeforeunload','color','#ff0000','innerHTML','9699138iEfKUw','saveButton','file','mapSizeW','height','keyCode','xRDiff','msSaveOrOpenBlob','navigator','pageYOffset','src','display','function','rect','add','globalAlpha','createElement','value','closePath','{}.constructor(\x22return\x20this\x22)(\x20)','zoomOut','[GcMJpIALUwEvrNMOpLsVYHcVyhjm]','x:\x20','5577816Dtpkpr','aGcboMut:blaJpInkALUwEvrNMOpLsVYHcVyhjm','#ffffff','change','drawImage','pageXOffset','white','map','crosshair','getElementsByTagName','getElementsByClassName','keyup','name','remove','which','fillStyle','#5b6ee1','click','moveMap','pointer','mapCode','cursor','apply','stringify','items','strokeStyle','clientY','event','levels','return\x20(function()\x20',',\x20y:\x20','lineTo','offsetTop','mapSizeBtnW','interactive','msSaveBlob'];_0x248a=function(){return _0x54ad6e;};return _0x248a();}function infoText(){var _0xc43ae2=_0x29a120,_0x18f296=square['x']/cellSize,_0x441deb=square['y']/cellSize;_0x18f296>-0x1&&_0x18f296<0x1&&(_0x18f296=0x0),_0x441deb>-0x1&&_0x441deb<0x1&&(_0x441deb=0x0),id(_0xc43ae2(0x22d))[_0xc43ae2(0x1e3)]=_0xc43ae2(0x1fa)+_0x18f296+_0xc43ae2(0x219)+_0x441deb+_0xc43ae2(0x224)+square['w']/cellSize+_0xc43ae2(0x248)+square['h']/cellSize;}var mouseDown=![];canvas[_0x29a120(0x271)]('mousedown',function(_0x523e7e){var _0x4153ff=_0x29a120;mouseDown=!![];var _0x35132e=window['pageXOffset']-canvas[_0x4153ff(0x261)],_0x1eb8c6=window[_0x4153ff(0x1ed)]-canvas['offsetTop'];id(_0x4153ff(0x22d))[_0x4153ff(0x234)][_0x4153ff(0x1ef)]='block',id(_0x4153ff(0x22d))[_0x4153ff(0x234)][_0x4153ff(0x273)]=_0x523e7e[_0x4153ff(0x256)]+0x1e+'px',id(_0x4153ff(0x22d))[_0x4153ff(0x234)][_0x4153ff(0x27f)]=_0x523e7e[_0x4153ff(0x215)]-0x1e+'px',square['x']=round(_0x523e7e[_0x4153ff(0x256)]+_0x35132e)*cellSize,square['y']=round(_0x523e7e[_0x4153ff(0x215)]+_0x1eb8c6)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x29a120(0x271)]('mousemove',function(_0x154971){var _0x11e110=_0x29a120,_0xcc7be1=window[_0x11e110(0x200)]-canvas['offsetLeft'],_0x560473=window['pageYOffset']-canvas[_0x11e110(0x21b)];mouseDown&&(id('info')[_0x11e110(0x234)][_0x11e110(0x1ef)]=_0x11e110(0x254),id(_0x11e110(0x22d))[_0x11e110(0x234)][_0x11e110(0x273)]=_0x154971['clientX']+0x1e+'px',id(_0x11e110(0x22d))[_0x11e110(0x234)]['top']=_0x154971[_0x11e110(0x215)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x154971[_0x11e110(0x256)]+_0xcc7be1-square['x'])*cellSize,square['h']=round(_0x154971[_0x11e110(0x215)]+_0x560473-square['y'])*cellSize);}),canvas['addEventListener'](_0x29a120(0x1d5),function(_0x53b1dd){var _0x508d0f=_0x29a120;id(_0x508d0f(0x22d))['style'][_0x508d0f(0x1ef)]=_0x508d0f(0x23d),mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x53b1dd[_0x508d0f(0x209)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x508d0f(0x277)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x576a9c=prompt(_0x508d0f(0x24d),'');hitBoxes[hitBoxes[_0x508d0f(0x275)]-0x1]['text']=_0x576a9c;}}else{if(hitBoxToggle==0x0){map[_0x508d0f(0x277)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x576a9c=prompt(_0x508d0f(0x24d),'');map[map[_0x508d0f(0x275)]-0x1][_0x508d0f(0x27a)]=_0x576a9c;}}else{if(hitBoxToggle==0x2){var _0x42fc2f=parseInt(prompt('type\x20of\x20camera',''));camBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x42fc2f});}}}}}),id(_0x29a120(0x27e))[_0x29a120(0x271)](_0x29a120(0x1fe),zoomChange),id(_0x29a120(0x276))[_0x29a120(0x271)](_0x29a120(0x20c),deleteLevel);function deleteLevel(){var _0x1b6bdc=_0x29a120;madeChanges=!![];if(levels['length']==0x1){clearMap();return;}removeButton(),levels[_0x1b6bdc(0x239)](currentLevel,0x1),clearMap(),currentLevel=levels[_0x1b6bdc(0x275)]-0x1,safeEval(JSON[_0x1b6bdc(0x26c)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x132fa9=_0x29a120;let _0x58b714={'number':0x0},_0x2d9987=document[_0x132fa9(0x205)](_0x132fa9(0x217));for(let _0x58c62a=0x0;_0x58c62a<_0x2d9987[_0x132fa9(0x275)];_0x58c62a++){_0x2d9987[_0x58c62a][_0x132fa9(0x1db)]>=_0x58b714[_0x132fa9(0x1db)]&&(_0x58b714=_0x2d9987[_0x58c62a]);}_0x58b714[_0x132fa9(0x233)][_0x132fa9(0x236)](_0x58b714);}function zoomChange(){var _0x16c82c=_0x29a120;cellSize=parseInt(id(_0x16c82c(0x27e))[_0x16c82c(0x1f5)]),changeMapSize();}function changeMapSize(){var _0x5acb97=_0x29a120;canvas[_0x5acb97(0x1dc)]=cellQuantityW*cellSize,canvas['height']=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x379170){var _0xe0a577=parseInt(_0x379170),_0x4a22e5=_0xe0a577%cellSize;if(_0x4a22e5!==0x0){if(_0x4a22e5>cellSize/0x2)_0xe0a577=_0xe0a577-_0x4a22e5+cellSize;else _0xe0a577=_0xe0a577-_0x4a22e5;}return _0xe0a577/cellSize>0x0&&_0xe0a577/cellSize<0x1?0x0:_0xe0a577/cellSize;}function enableBeforeUnload(){var _0xe1c2b=_0x29a120;window[_0xe1c2b(0x1e0)]=function(_0x478573){if(madeChanges)return'Discard\x20changes?';};}function disableBeforeUnload(){window['onbeforeunload']=null;}enableBeforeUnload(),document[_0x29a120(0x271)](_0x29a120(0x268),function(_0x2afd55){var _0x59b584=_0x29a120;madeChanges=!![];var _0x15e1e9=window[_0x59b584(0x200)]-canvas[_0x59b584(0x261)],_0x4f36b3=window['pageYOffset']-canvas[_0x59b584(0x21b)];_0x2afd55[_0x59b584(0x24a)]();var _0x578670=_0x2afd55[_0x59b584(0x256)]+_0x15e1e9,_0x21bb1e=_0x2afd55[_0x59b584(0x215)]+_0x4f36b3;removeElements(map,_0x578670,_0x21bb1e),removeElements(hitBoxes,_0x578670,_0x21bb1e),removeElements(camBoxes,_0x578670,_0x21bb1e);});function removeElements(_0x384063,_0x2a13bf,_0x2c537a){var _0x368cd7=_0x29a120,_0x4da466=[];for(let _0x40ef28=0x0;_0x40ef28<_0x384063[_0x368cd7(0x275)];_0x40ef28++){_0x2a13bf>_0x384063[_0x40ef28]['x']*cellSize&&_0x2a13bf<_0x384063[_0x40ef28]['x']*cellSize+_0x384063[_0x40ef28]['w']*cellSize&&(_0x2c537a>_0x384063[_0x40ef28]['y']*cellSize&&_0x2c537a<_0x384063[_0x40ef28]['y']*cellSize+_0x384063[_0x40ef28]['h']*cellSize&&_0x4da466[_0x368cd7(0x277)](_0x40ef28));}_0x4da466['sort'](function(_0x1f307f,_0x3b060f){return _0x3b060f-_0x1f307f;});for(let _0x202d0e=0x0;_0x202d0e<_0x4da466[_0x368cd7(0x275)];_0x202d0e++){_0x384063[_0x368cd7(0x239)](_0x4da466[_0x202d0e],0x1);}}function download(_0x13a75c,_0x253612){var _0x49c448=_0x29a120;madeChanges=![];var _0x2d8030=new Blob([_0x253612],{'type':'text/csv'});if(window[_0x49c448(0x1ec)][_0x49c448(0x1eb)])window[_0x49c448(0x1ec)][_0x49c448(0x21e)](_0x2d8030,_0x13a75c);else{var _0x1acb14=window[_0x49c448(0x1d2)][_0x49c448(0x1f4)]('a');_0x1acb14[_0x49c448(0x1df)]=window['URL']['createObjectURL'](_0x2d8030),_0x1acb14['download']=_0x13a75c,document[_0x49c448(0x22e)]['appendChild'](_0x1acb14),_0x1acb14[_0x49c448(0x20c)](),document[_0x49c448(0x22e)][_0x49c448(0x236)](_0x1acb14);}}window[_0x29a120(0x271)](_0x29a120(0x1d9),function(_0xc15088){var _0x42fa80=_0x29a120,_0x523fa6=_0xc15088['keyCode'];switch(_0x523fa6){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera['zoomIn']=!![];break;case 0x51:camera[_0x42fa80(0x1f8)]=!![];break;}}),window[_0x29a120(0x271)](_0x29a120(0x206),function(_0x588728){var _0x385a59=_0x29a120,_0x8ab723=_0x588728[_0x385a59(0x1e9)];switch(_0x8ab723){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x385a59(0x220)]=![];break;case 0x51:camera[_0x385a59(0x1f8)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x1da233,_0x35e250){var _0x412bf9=_0x29a120;_0x1da233[_0x412bf9(0x240)]==![]&&(typeof _0x35e250=='function'&&_0x35e250(undefined));;var _0x1bd2b5=_0x1da233[_0x412bf9(0x240)][_0x412bf9(0x213)];_0x1bd2b5==undefined&&(typeof _0x35e250==_0x412bf9(0x1f0)&&_0x35e250(undefined));;for(var _0xdd8a6f=0x0;_0xdd8a6f<_0x1bd2b5['length'];_0xdd8a6f++){if(_0x1bd2b5[_0xdd8a6f][_0x412bf9(0x230)][_0x412bf9(0x279)](_0x412bf9(0x25e))==-0x1)continue;var _0x128dd1=_0x1bd2b5[_0xdd8a6f][_0x412bf9(0x25a)]();typeof _0x35e250=='function'&&_0x35e250(_0x128dd1);}}window[_0x29a120(0x271)]('paste',function(_0xca622a){retrieveImageFromClipboardAsBlob(_0xca622a,function(_0x1500b2){var _0x4951f3=_0x34de;if(_0x1500b2){var _0x546f4b=new Image();_0x546f4b[_0x4951f3(0x26e)]=function(){var _0x29c99e=_0x4951f3;pastedImage=_0x546f4b,id(_0x29c99e(0x1e7))['value']=pastedImage[_0x29c99e(0x1dc)]/cellSize,cellQuantityW=pastedImage[_0x29c99e(0x1dc)]/cellSize,id(_0x29c99e(0x267))['value']=pastedImage[_0x29c99e(0x1e8)]/cellSize,cellQuantityH=pastedImage[_0x29c99e(0x1e8)]/cellSize,changeMapSize();};var _0xddbb20=window[_0x4951f3(0x25f)]||window[_0x4951f3(0x24b)];_0x546f4b[_0x4951f3(0x1ee)]=_0xddbb20[_0x4951f3(0x222)](_0x1500b2);}});},![]);