'use strict';var _0x386b68=_0x269f;(function(_0x42b206,_0x323e7b){var _0x1ae4d7=_0x269f,_0x1f7cfe=_0x42b206();while(!![]){try{var _0x290c50=-parseInt(_0x1ae4d7(0xff))/0x1+parseInt(_0x1ae4d7(0x162))/0x2*(-parseInt(_0x1ae4d7(0x13a))/0x3)+-parseInt(_0x1ae4d7(0x172))/0x4*(parseInt(_0x1ae4d7(0x185))/0x5)+-parseInt(_0x1ae4d7(0xdc))/0x6+parseInt(_0x1ae4d7(0x13e))/0x7+parseInt(_0x1ae4d7(0x15c))/0x8*(parseInt(_0x1ae4d7(0x10c))/0x9)+-parseInt(_0x1ae4d7(0xe5))/0xa*(-parseInt(_0x1ae4d7(0x124))/0xb);if(_0x290c50===_0x323e7b)break;else _0x1f7cfe['push'](_0x1f7cfe['shift']());}catch(_0x48a144){_0x1f7cfe['push'](_0x1f7cfe['shift']());}}}(_0x1f34,0x6d76c));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x40e5eb){var _0x4a8703=_0x269f,_0x995011=(function(){var _0x104215=!![];return function(_0x4118ea,_0x3fcce1){var _0x2f482a=_0x104215?function(){var _0x318d9e=_0x269f;if(_0x3fcce1){var _0x545004=_0x3fcce1[_0x318d9e(0x17f)](_0x4118ea,arguments);return _0x3fcce1=null,_0x545004;}}:function(){};return _0x104215=![],_0x2f482a;};}()),_0x142745=_0x995011(this,function(){var _0x28f677=_0x269f,_0x2addc8;try{var _0x4cdc1c=Function(_0x28f677(0x133)+_0x28f677(0xfb)+');');_0x2addc8=_0x4cdc1c();}catch(_0x59d8b5){_0x2addc8=window;}var _0x572959=new RegExp(_0x28f677(0xfe),'g'),_0x30d108='saaZntoRNUDRnaDndKADre.gAiCtphkTubVU.Xio;lXJwocaYlDhoHNqstKUMPDPHFYIRZEIPEMAwMCTzmZyqMHmWfNjIRUqSUfBkWRBU'['replace'](_0x572959,'')[_0x28f677(0x10d)](';'),_0x5e226a,_0x47af16,_0x3b02d6,_0x470c15,_0x5bc015=function(_0x22fd7f,_0x52e995,_0xe75ce0){var _0x58d72e=_0x28f677;if(_0x22fd7f[_0x58d72e(0xfd)]!=_0x52e995)return![];for(var _0x228225=0x0;_0x228225<_0x52e995;_0x228225++){for(var _0x2a07cc=0x0;_0x2a07cc<_0xe75ce0[_0x58d72e(0xfd)];_0x2a07cc+=0x2){if(_0x228225==_0xe75ce0[_0x2a07cc]&&_0x22fd7f[_0x58d72e(0x169)](_0x228225)!=_0xe75ce0[_0x2a07cc+0x1])return![];}}return!![];},_0x5e450f=function(_0x1827e2,_0x97fa99,_0x3871ee){return _0x5bc015(_0x97fa99,_0x3871ee,_0x1827e2);},_0x238bdf=function(_0x44edfa,_0x4e9b1f,_0x299e60){return _0x5e450f(_0x4e9b1f,_0x44edfa,_0x299e60);},_0x14651d=function(_0x3b9e88,_0x2f2c33,_0x2b19b2){return _0x238bdf(_0x2f2c33,_0x2b19b2,_0x3b9e88);};for(var _0xe89e67 in _0x2addc8){if(_0x5bc015(_0xe89e67,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5e226a=_0xe89e67;break;}}for(var _0x1163d5 in _0x2addc8[_0x5e226a]){if(_0x14651d(0x6,_0x1163d5,[0x5,0x6e,0x0,0x64])){_0x47af16=_0x1163d5;break;}}for(var _0x19f373 in _0x2addc8[_0x5e226a]){if(_0x238bdf(_0x19f373,[0x7,0x6e,0x0,0x6c],0x8)){_0x3b02d6=_0x19f373;break;}}if(!('~'>_0x47af16))for(var _0x27c03c in _0x2addc8[_0x5e226a][_0x3b02d6]){if(_0x5e450f([0x7,0x65,0x0,0x68],_0x27c03c,0x8)){_0x470c15=_0x27c03c;break;}}if(!_0x5e226a||!_0x2addc8[_0x5e226a])return;var _0x3bcf09=_0x2addc8[_0x5e226a][_0x47af16],_0x1bd267=!!_0x2addc8[_0x5e226a][_0x3b02d6]&&_0x2addc8[_0x5e226a][_0x3b02d6][_0x470c15],_0x5c6290=_0x3bcf09||_0x1bd267;if(!_0x5c6290)return;var _0x1cc6ac=![];for(var _0x1fbba0=0x0;_0x1fbba0<_0x30d108[_0x28f677(0xfd)];_0x1fbba0++){var _0x47af16=_0x30d108[_0x1fbba0],_0x336784=_0x47af16[0x0]===String[_0x28f677(0x12a)](0x2e)?_0x47af16['slice'](0x1):_0x47af16,_0x37c20f=_0x5c6290[_0x28f677(0xfd)]-_0x336784[_0x28f677(0xfd)],_0x14cbef=_0x5c6290[_0x28f677(0x144)](_0x336784,_0x37c20f),_0x37ad84=_0x14cbef!==-0x1&&_0x14cbef===_0x37c20f;_0x37ad84&&((_0x5c6290['length']==_0x47af16['length']||_0x47af16[_0x28f677(0x144)]('.')===0x0)&&(_0x1cc6ac=!![]));}if(!_0x1cc6ac){var _0x44e40c=new RegExp('[MRKjrAYYjDBsdpqOZcpmvVBArzHBUp]','g'),_0xf21076=_0x28f677(0x15a)[_0x28f677(0x129)](_0x44e40c,'');_0x2addc8[_0x5e226a][_0x3b02d6]=_0xf21076;}});return _0x142745(),document[_0x4a8703(0xf2)](_0x40e5eb);}var canvas=id(_0x386b68(0xe4)),sheet=id(_0x386b68(0x100)),c=canvas[_0x386b68(0x120)]('2d');c[_0x386b68(0x128)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')['onclick']=function(){addLevel();};function clearMap(){var _0x7eb785=_0x386b68;map=[],mapObject[_0x7eb785(0x156)]=[],mapObject['camBoxes']=[],mapObject['spawnPoint']={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x525ddb=_0x386b68;let _0x5cdb22=document['getElementsByClassName'](_0x525ddb(0x14b));for(let _0x5d894b=_0x5cdb22[_0x525ddb(0xfd)]-0x1;_0x5d894b>=0x0;_0x5d894b--){_0x5cdb22[_0x5d894b][_0x525ddb(0x13b)][_0x525ddb(0x136)](_0x5cdb22[_0x5d894b]);}}id('saveButton')[_0x386b68(0xe7)]=saveImage;function saveImage(){var _0x3dcb05=_0x386b68;canvas[_0x3dcb05(0x180)](_0x5d7176=>navigator[_0x3dcb05(0x176)]['write']([new ClipboardItem({'image/png':_0x5d7176})]));}function addButton(){var _0x2b5aa8=_0x386b68,_0x5bdc07=document[_0x2b5aa8(0x15e)](_0x2b5aa8(0x14f));_0x5bdc07[_0x2b5aa8(0x160)]=levels[_0x2b5aa8(0xfd)],_0x5bdc07[_0x2b5aa8(0xfc)]=levels['length'],_0x5bdc07[_0x2b5aa8(0x13d)]+=_0x2b5aa8(0xe1),_0x5bdc07[_0x2b5aa8(0x167)]=function(_0x8d4d90){var _0x69336c=_0x2b5aa8;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0x69336c(0x160)],safeEval(JSON[_0x69336c(0x109)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0x2b5aa8(0xf8))[_0x2b5aa8(0xfa)](_0x5bdc07),highlightCurrentLevel();}function addLevel(){var _0x2e4a76=_0x386b68;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels['splice'](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0x2e4a76(0x109)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id('mapSizeW')[_0x386b68(0x175)],cellQuantityH=id(_0x386b68(0x101))[_0x386b68(0x175)],cellSize=0x10,fileName=_0x386b68(0x117),interactiveTile=0x0;function _0x269f(_0x38801a,_0x246dd1){var _0xb9421c=_0x1f34();return _0x269f=function(_0x1392fc,_0x33128e){_0x1392fc=_0x1392fc-0xdc;var _0x5e812b=_0xb9421c[_0x1392fc];return _0x5e812b;},_0x269f(_0x38801a,_0x246dd1);}canvas[_0x386b68(0xe9)]=cellQuantityW*cellSize,canvas[_0x386b68(0xe6)]=cellQuantityH*cellSize,id('mapSizeBtnW')[_0x386b68(0xe7)]=function(){var _0x2d3ae6=_0x386b68;cellQuantityW=id(_0x2d3ae6(0x171))[_0x2d3ae6(0x175)],changeMapSize();},id(_0x386b68(0x13c))[_0x386b68(0xe7)]=function(){var _0x42c172=_0x386b68;cellQuantityH=id(_0x42c172(0x101))['value'],changeMapSize();},window[_0x386b68(0x145)]=function(){var _0x127723=_0x386b68;for(let _0xe38dfc=0x0;_0xe38dfc<tiles[_0x127723(0xfd)];_0xe38dfc++){var _0x3c4a87=document[_0x127723(0x15e)](_0x127723(0xe4));_0x3c4a87['id']=_0x127723(0xe4)+_0xe38dfc,_0x3c4a87[_0x127723(0xe9)]=0x20,_0x3c4a87[_0x127723(0xe6)]=0x20,_0x3c4a87[_0x127723(0x160)]=_0xe38dfc,_0x3c4a87[_0x127723(0x120)]('2d')['imageSmoothingEnabled']=![];_0xe38dfc===0x0&&(_0x3c4a87['className']+=_0x127723(0xf3));_0x3c4a87[_0x127723(0x13d)]+='\x20tile',_0x3c4a87[_0x127723(0x120)]('2d')['drawImage'](sheet,tiles[_0xe38dfc][0x0]*0x10,tiles[_0xe38dfc][0x1]*0x10,0x10,0x10,0x0,0x0,_0x3c4a87[_0x127723(0xe9)],_0x3c4a87[_0x127723(0xe6)]);var _0x21ee73=document['getElementsByTagName'](_0x127723(0xf9))[0x0];id(_0x127723(0x149))[_0x127723(0xfa)](_0x3c4a87),id(_0x127723(0xe4)+_0xe38dfc)['onclick']=function(){var _0x39e345=_0x127723;selectedType=this['number'];for(let _0x18be28=0x0;_0x18be28<tiles['length'];_0x18be28++){id(_0x39e345(0xe4)+_0x18be28)[_0x39e345(0x161)]['remove'](_0x39e345(0xed));}this[_0x39e345(0x13d)]+='\x20selected';};}loop();},id(_0x386b68(0x152))[_0x386b68(0xe7)]=function(){var _0x259929=_0x386b68;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x3cff09=0x0;_0x3cff09<levels[_0x259929(0xfd)];_0x3cff09++){levelsArray[_0x259929(0x10b)](JSON['parse'](levels[_0x3cff09]));}var _0x5eb623=window[_0x259929(0x177)](_0x259929(0x11a));},id('interactive')[_0x386b68(0xe7)]=function(){var _0x2d37a5=_0x386b68;interactiveTile?(interactiveTile=0x0,id(_0x2d37a5(0x140))[_0x2d37a5(0x148)]['backgroundColor']=_0x2d37a5(0x126),id('interactive')[_0x2d37a5(0x148)]['color']=_0x2d37a5(0x130)):(interactiveTile=0x1,id(_0x2d37a5(0x140))[_0x2d37a5(0x148)][_0x2d37a5(0x122)]=_0x2d37a5(0x130),id(_0x2d37a5(0x140))[_0x2d37a5(0x148)][_0x2d37a5(0x132)]=_0x2d37a5(0x126));};var hitBoxToggle=![];id(_0x386b68(0x10f))[_0x386b68(0xe7)]=function(){var _0x3f3504=_0x386b68;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x3f3504(0x10f))['innerHTML']=_0x3f3504(0x163);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x3f3504(0x10f))['innerHTML']=_0x3f3504(0x125);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x3f3504(0x10f))[_0x3f3504(0xfc)]=_0x3f3504(0x17c));}};function _0x1f34(){var _0x5ebb19=['MapTester/index.html','clearRect','fillRect','addEventListener','src','getAsFile','getContext','change','backgroundColor','onmouseup','1243nOdBFF','drawing:\x20hitboxes','white','moveTo','imageSmoothingEnabled','replace','fromCharCode','onbeforeunload','closeBtn','image','lineTo','stroke','black','deleteLvl','color','return\x20(function()\x20','stringify','drawImage','removeChild','text','items','navigator','144MlEDgT','parentNode','mapSizeBtnH','className','2493827ezGAYl','onchange','interactive','contains','#ff0000','document','indexOf','onload','clipboardData','#ffffff','style','cont2','innerWidth','levels','info','exportBox','URL','button','paste','webkitURL','test','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','spawn','zoomer','map','innerHeight','type','moveMap','abMRKoutj:blarAYYnjDkBsdpqOZcpmvVBArzHBUp','pointer','2704dFOMVn','mousedown','createElement','crosshair','number','classList','26190nQaArS','drawing:\x20displayed','cursor','offsetTop','yRDiff','onmousedown','top','charCodeAt','clientY','rect','block','<br>\x20w:\x20','speed','zoomIn','fillStyle','mapSizeW','52fvWbRG','function','cont','value','clipboard','open','clientX','left','exportText','createObjectURL','drawing:\x20camera','href','importing...','apply','toBlob','#000000','all-scroll','mousemove','preventDefault','242965dLGJDP','getElementsByClassName','x:\x20','5255808SpRCKN','display','files','pageYOffset','map.json','\x20levels','contextmenu','msSaveOrOpenBlob','canvas','195310VKpOir','height','onclick','text/csv','width','mouseup','closePath','lineWidth','selected','offsetLeft','readAsText','strokeStyle','zoomOut','getElementById','\x20selected','#0000cc','downloadBtn','pageXOffset','name','cont3','body','appendChild','{}.constructor(\x22return\x20this\x22)(\x20)','innerHTML','length','[ZRNUDRDKADACpkTVUXXJwYDHNqKUMPDPHFYIRZEIPEMAwMCTzmZyqMHmWfNjIRUqSUfBkWRBU]','856449CXJPJA','sheet','mapSizeH','event','camBoxes','#5b6ee1','result','keydown','file','keyCode','parse','download','push','23373WxvMyf','split','onmousemove','toggle','log','Discard\x20changes?','xRDiff','click','none','beginPath','#002200','mapCode','add','which'];_0x1f34=function(){return _0x5ebb19;};return _0x1f34();}var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x81b55=_0x386b68;c[_0x81b55(0x11b)](0x0,0x0,canvas[_0x81b55(0xe9)],canvas[_0x81b55(0xe6)]),pastedImage&&c[_0x81b55(0x135)](pastedImage,0x0,0x0,pastedImage[_0x81b55(0xe9)],pastedImage['height']),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x27a4fd=_0x386b68;if(hitBoxToggle==0x1)c['strokeStyle']=_0x27a4fd(0x142);else c['strokeStyle']=_0x27a4fd(0x147);c[_0x27a4fd(0x115)](),c[_0x27a4fd(0x16b)](square['x'],square['y'],square['w'],square['h']),c[_0x27a4fd(0xeb)](),c[_0x27a4fd(0x12f)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x386b68(0x174))),dragElement(id(_0x386b68(0x149))),dragElement(id(_0x386b68(0xf8)));function dragElement(_0x216cc7){var _0x227c71=_0x386b68,_0x77d593=0x0,_0x3d6332=0x0,_0xbb36a4=0x0,_0x4b133d=0x0;_0x216cc7[_0x227c71(0x167)]=_0x3ef673;function _0x3ef673(_0x25efb5){var _0x295447=_0x227c71;_0x25efb5=_0x25efb5||window[_0x295447(0x102)],_0xbb36a4=_0x25efb5[_0x295447(0x178)],_0x4b133d=_0x25efb5['clientY'],document[_0x295447(0x123)]=_0x377a24,document[_0x295447(0x10e)]=_0x2ae625;}function _0x2ae625(_0x159932){var _0x362ad8=_0x227c71;_0x159932=_0x159932||window[_0x362ad8(0x102)],_0x159932[_0x362ad8(0x184)](),_0x77d593=_0xbb36a4-_0x159932[_0x362ad8(0x178)],_0x3d6332=_0x4b133d-_0x159932[_0x362ad8(0x16a)],_0xbb36a4=_0x159932[_0x362ad8(0x178)],_0x4b133d=_0x159932['clientY'],_0x216cc7[_0x362ad8(0x148)][_0x362ad8(0x168)]=_0x216cc7[_0x362ad8(0x165)]-_0x3d6332+'px',_0x216cc7['style']['left']=_0x216cc7[_0x362ad8(0xee)]-_0x77d593+'px';}function _0x377a24(){var _0x58a579=_0x227c71;document[_0x58a579(0x123)]=null,document[_0x58a579(0x10e)]=null;}}var mapCode='';id('exportMap')['onclick']=function(){var _0x5b0d00=_0x386b68;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x53874a=0x0;_0x53874a<levels[_0x5b0d00(0xfd)];_0x53874a++){levelsArray['push'](JSON[_0x5b0d00(0x109)](levels[_0x53874a]));}id(_0x5b0d00(0x14d))[_0x5b0d00(0x148)]['display']='block',id(_0x5b0d00(0x17a))['innerHTML']=JSON['stringify'](levelsArray);};function newMapExport(){var _0x3f85a9=_0x386b68;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x3f85a9(0x134)](mapObject);};id(_0x386b68(0x12c))[_0x386b68(0xe7)]=function(){var _0x46a162=_0x386b68;id(_0x46a162(0x14d))['style'][_0x46a162(0xdd)]=_0x46a162(0x114);},id(_0x386b68(0xf5))[_0x386b68(0xe7)]=function(){var _0xb38c05=_0x386b68;download(_0xb38c05(0xe0),JSON[_0xb38c05(0x134)](levelsArray));},id(_0x386b68(0x107))[_0x386b68(0x13f)]=function(){var _0x4d93f9=_0x386b68;console[_0x4d93f9(0x110)](_0x4d93f9(0x17e));let _0x307fbb=id(_0x4d93f9(0x107))[_0x4d93f9(0xde)][0x0];fileName=id('file')[_0x4d93f9(0xde)][0x0][_0x4d93f9(0xf7)]['split']('.')[0x0];let _0x5297a4=new FileReader();_0x5297a4['onload']=function(_0x5e3558){var _0x4b9e16=_0x4d93f9;let _0x277eb2=_0x5297a4[_0x4b9e16(0x105)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x4b9e16(0x109)](_0x277eb2);for(let _0x27cc58=0x0;_0x27cc58<levelsArray[_0x4b9e16(0xfd)];_0x27cc58++){addButton(),levels[_0x27cc58]=JSON[_0x4b9e16(0x134)](levelsArray[_0x27cc58]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x5297a4[_0x4d93f9(0xef)](_0x307fbb);};function safeEval(_0x5c423a){var _0x4b85d5=_0x386b68;typeof _0x5c423a==='object'&&_0x5c423a!==null&&(map=_0x5c423a[_0x4b85d5(0x156)],spawnPoint=_0x5c423a['spawnPoint'],camBoxes=_0x5c423a[_0x4b85d5(0x103)]);}var baseWidth=id('mapSizeW')[_0x386b68(0x175)],baseHeight=id(_0x386b68(0x101))[_0x386b68(0x175)];function resizeMap(){var _0x25358f=_0x386b68;let _0x2ef038=0x0,_0x593711=0x0;for(let _0x495335=0x0;_0x495335<map[_0x25358f(0xfd)];_0x495335++){map[_0x495335]['x']+map[_0x495335]['w']>_0x2ef038&&(_0x2ef038=map[_0x495335]['x']+map[_0x495335]['w']),map[_0x495335]['y']+map[_0x495335]['h']>_0x593711&&(_0x593711=map[_0x495335]['y']+map[_0x495335]['h']);}_0x593711<baseHeight&&(_0x593711=baseHeight),_0x2ef038<baseWidth&&(_0x2ef038=baseWidth),cellQuantityW=_0x2ef038,id(_0x25358f(0x171))[_0x25358f(0x175)]=_0x2ef038,cellQuantityH=_0x593711,id(_0x25358f(0x101))['value']=_0x593711,changeMapSize();}function highlightCurrentLevel(){var _0x5e31e5=_0x386b68;let _0x270007=document[_0x5e31e5(0x186)](_0x5e31e5(0x14b));for(let _0x1731b3=0x0;_0x1731b3<_0x270007[_0x5e31e5(0xfd)];_0x1731b3++){if(_0x270007[_0x1731b3][_0x5e31e5(0x160)]==currentLevel)!_0x270007[_0x1731b3][_0x5e31e5(0x161)][_0x5e31e5(0x141)](_0x5e31e5(0xed))&&_0x270007[_0x1731b3]['classList'][_0x5e31e5(0x118)](_0x5e31e5(0xed));else _0x270007[_0x1731b3][_0x5e31e5(0x161)][_0x5e31e5(0x141)](_0x5e31e5(0xed))&&_0x270007[_0x1731b3][_0x5e31e5(0x161)]['remove'](_0x5e31e5(0xed));}}function cameraMove(){var _0x5f45ed=_0x386b68;camera['L']&&(sX-=camera[_0x5f45ed(0x16e)]);camera['R']&&(sX+=camera[_0x5f45ed(0x16e)]);camera['T']&&(sY-=camera[_0x5f45ed(0x16e)]);camera['B']&&(sY+=camera[_0x5f45ed(0x16e)]);sX<0x0&&(sX=0x0);sX>canvas[_0x5f45ed(0xe9)]-window[_0x5f45ed(0x14a)]&&(sX=canvas[_0x5f45ed(0xe9)]-window[_0x5f45ed(0x14a)]);sY<0x0&&(sY=0x0);sY>canvas[_0x5f45ed(0xe6)]-window[_0x5f45ed(0x157)]&&(sY=canvas['height']-window[_0x5f45ed(0x157)]);if(camera[_0x5f45ed(0xf1)])id(_0x5f45ed(0x155))[_0x5f45ed(0x175)]--,zoomChange();else camera[_0x5f45ed(0x16f)]&&(id(_0x5f45ed(0x155))[_0x5f45ed(0x175)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x52a765=_0x386b68;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x52a765(0x16f)]||camera[_0x52a765(0xf1)])&&cameraMove();c['globalAlpha']=0x1;for(let _0x5d03bd=0x0;_0x5d03bd<map[_0x52a765(0xfd)];_0x5d03bd++){if(map[_0x5d03bd][_0x52a765(0x158)]>0x33)for(let _0x12369a=0x0;_0x12369a<map[_0x5d03bd]['h'];_0x12369a++){for(let _0x441bab=0x0;_0x441bab<map[_0x5d03bd]['w'];_0x441bab++){c['drawImage'](id(_0x52a765(0x100)),tiles[map[_0x5d03bd][_0x52a765(0x158)]][0x0]*0x10,tiles[map[_0x5d03bd]['type']][0x1]*0x10,0x10,0x10,(map[_0x5d03bd]['x']+_0x441bab)*cellSize,(map[_0x5d03bd]['y']+_0x12369a)*cellSize,cellSize,cellSize);}}}for(let _0x2744f8=0x0;_0x2744f8<map[_0x52a765(0xfd)];_0x2744f8++){if(map[_0x2744f8]['type']<=0x33)for(let _0x161719=0x0;_0x161719<map[_0x2744f8]['h'];_0x161719++){for(let _0x2e0b1b=0x0;_0x2e0b1b<map[_0x2744f8]['w'];_0x2e0b1b++){c['drawImage'](id(_0x52a765(0x100)),tiles[map[_0x2744f8][_0x52a765(0x158)]][0x0]*0x10,tiles[map[_0x2744f8][_0x52a765(0x158)]][0x1]*0x10,0x10,0x10,(map[_0x2744f8]['x']+_0x2e0b1b)*cellSize,(map[_0x2744f8]['y']+_0x161719)*cellSize,cellSize,cellSize);}}}for(let _0xffa5e4=0x0;_0xffa5e4<hitBoxes[_0x52a765(0xfd)];_0xffa5e4++){c[_0x52a765(0x170)]='#000000',c[_0x52a765(0x11c)](hitBoxes[_0xffa5e4]['x']*cellSize,hitBoxes[_0xffa5e4]['y']*cellSize,hitBoxes[_0xffa5e4]['w']*cellSize,hitBoxes[_0xffa5e4]['h']*cellSize);}c['globalAlpha']=0x1;for(let _0xa4fddf=0x0;_0xa4fddf<camBoxes[_0x52a765(0xfd)];_0xa4fddf++){c[_0x52a765(0xf0)]=_0x52a765(0x116),c[_0x52a765(0x115)](),c[_0x52a765(0x16b)](camBoxes[_0xa4fddf]['x']*cellSize,camBoxes[_0xa4fddf]['y']*cellSize,camBoxes[_0xa4fddf]['w']*cellSize,camBoxes[_0xa4fddf]['h']*cellSize),c[_0x52a765(0xeb)](),c[_0x52a765(0x12f)]();}c[_0x52a765(0x170)]=_0x52a765(0x104),c[_0x52a765(0x11c)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x17b4e7=_0x386b68;c[_0x17b4e7(0xec)]=0.1,c[_0x17b4e7(0xf0)]='#ffffff';for(let _0x268da0=0x0;_0x268da0<canvas['width'];_0x268da0+=cellSize){c[_0x17b4e7(0x115)](),c['moveTo'](_0x268da0,0x0),c['lineTo'](_0x268da0,canvas[_0x17b4e7(0xe6)]),c[_0x17b4e7(0xeb)](),c['stroke']();}for(let _0x3d5123=0x0;_0x3d5123<canvas[_0x17b4e7(0xe6)];_0x3d5123+=cellSize){c[_0x17b4e7(0x115)](),c[_0x17b4e7(0x127)](0x0,_0x3d5123),c[_0x17b4e7(0x12e)](canvas['width'],_0x3d5123),c[_0x17b4e7(0xeb)](),c[_0x17b4e7(0x12f)]();}c[_0x17b4e7(0xec)]=0x1;}var definingSpawnpoint=![];id(_0x386b68(0x154))['onclick']=function(){var _0x26036b=_0x386b68;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x26036b(0x154))[_0x26036b(0x148)][_0x26036b(0x132)]='#000000',id(_0x26036b(0xe4))[_0x26036b(0x148)][_0x26036b(0x164)]=_0x26036b(0x15f),canvas['onclick']=null;return;}definingSpawnpoint=!![],id('spawn')[_0x26036b(0x148)]['color']=_0x26036b(0xf4),id(_0x26036b(0xe4))['style'][_0x26036b(0x164)]=_0x26036b(0x15b),canvas['onclick']=()=>{var _0x2f3951=_0x26036b;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id('spawn')[_0x2f3951(0x148)][_0x2f3951(0x132)]=_0x2f3951(0x181),id(_0x2f3951(0xe4))[_0x2f3951(0x148)][_0x2f3951(0x164)]='crosshair',canvas['onclick']=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id('moveMap')[_0x386b68(0xe7)]=function(){var _0x28fa7d=_0x386b68;if(movingMap){movingMap=![],id(_0x28fa7d(0x159))[_0x28fa7d(0x148)]['color']=_0x28fa7d(0x181),id(_0x28fa7d(0xe4))[_0x28fa7d(0x148)][_0x28fa7d(0x164)]=_0x28fa7d(0x15f);return;}movingMap=!![],id(_0x28fa7d(0x159))['style']['color']=_0x28fa7d(0xf4),id(_0x28fa7d(0xe4))['style'][_0x28fa7d(0x164)]=_0x28fa7d(0x182),canvas[_0x28fa7d(0x11d)](_0x28fa7d(0x183),function(){var _0x25c6b6=_0x28fa7d;if(!movingMap||!mouseDown)return;let _0x3f7869=square['w']/cellSize-movingVariables['xRDiff'],_0x12c2c7=square['h']/cellSize-movingVariables[_0x25c6b6(0x166)];(_0x3f7869!==0x0||_0x12c2c7!==0x0)&&(moveEverything(_0x3f7869,_0x12c2c7),movingVariables[_0x25c6b6(0x112)]+=_0x3f7869,movingVariables['yRDiff']+=_0x12c2c7);}),canvas[_0x28fa7d(0x11d)](_0x28fa7d(0xea),function(){var _0x3b29d8=_0x28fa7d;if(!movingMap)return;movingVariables[_0x3b29d8(0x112)]=0x0,movingVariables['yRDiff']=0x0;});};function moveEverything(_0x2989e8,_0x4dc600){var _0x3d2f4f=_0x386b68;if(_0x2989e8==0x0&&_0x4dc600==0x0)return;for(let _0x2e1a1f=0x0;_0x2e1a1f<map[_0x3d2f4f(0xfd)];_0x2e1a1f++){map[_0x2e1a1f]['x']+=_0x2989e8,map[_0x2e1a1f]['y']+=_0x4dc600;}for(let _0x2e290d=0x0;_0x2e290d<hitBoxes[_0x3d2f4f(0xfd)];_0x2e290d++){hitBoxes[_0x2e290d]['x']+=_0x2989e8,hitBoxes[_0x2e290d]['y']+=_0x4dc600;}for(let _0x17651f=0x0;_0x17651f<camBoxes[_0x3d2f4f(0xfd)];_0x17651f++){camBoxes[_0x17651f]['x']+=_0x2989e8,camBoxes[_0x17651f]['y']+=_0x4dc600;}spawnPoint['x']+=_0x2989e8,spawnPoint['y']+=_0x4dc600;}function infoText(){var _0x5e1f1a=_0x386b68,_0x3c94eb=square['x']/cellSize,_0x16e345=square['y']/cellSize;_0x3c94eb>-0x1&&_0x3c94eb<0x1&&(_0x3c94eb=0x0),_0x16e345>-0x1&&_0x16e345<0x1&&(_0x16e345=0x0),id(_0x5e1f1a(0x14c))['innerHTML']=_0x5e1f1a(0x187)+_0x3c94eb+',\x20y:\x20'+_0x16e345+_0x5e1f1a(0x16d)+square['w']/cellSize+',\x20h:\x20'+square['h']/cellSize;}var mouseDown=![];canvas[_0x386b68(0x11d)](_0x386b68(0x15d),function(_0x59a0c8){var _0x14b0d9=_0x386b68;mouseDown=!![];var _0x43402a=window[_0x14b0d9(0xf6)]-canvas['offsetLeft'],_0x42c098=window['pageYOffset']-canvas[_0x14b0d9(0x165)];id(_0x14b0d9(0x14c))['style']['display']=_0x14b0d9(0x16c),id(_0x14b0d9(0x14c))[_0x14b0d9(0x148)][_0x14b0d9(0x179)]=_0x59a0c8[_0x14b0d9(0x178)]+0x1e+'px',id('info')[_0x14b0d9(0x148)][_0x14b0d9(0x168)]=_0x59a0c8[_0x14b0d9(0x16a)]-0x1e+'px',square['x']=round(_0x59a0c8['clientX']+_0x43402a)*cellSize,square['y']=round(_0x59a0c8[_0x14b0d9(0x16a)]+_0x42c098)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas['addEventListener'](_0x386b68(0x183),function(_0x184572){var _0x528e30=_0x386b68,_0x1e5a21=window[_0x528e30(0xf6)]-canvas[_0x528e30(0xee)],_0x1ea92c=window[_0x528e30(0xdf)]-canvas[_0x528e30(0x165)];mouseDown&&(id('info')[_0x528e30(0x148)][_0x528e30(0xdd)]=_0x528e30(0x16c),id(_0x528e30(0x14c))['style'][_0x528e30(0x179)]=_0x184572['clientX']+0x1e+'px',id(_0x528e30(0x14c))[_0x528e30(0x148)][_0x528e30(0x168)]=_0x184572['clientY']-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x184572['clientX']+_0x1e5a21-square['x'])*cellSize,square['h']=round(_0x184572['clientY']+_0x1ea92c-square['y'])*cellSize);}),canvas[_0x386b68(0x11d)](_0x386b68(0xea),function(_0xa96b34){var _0x44a0b2=_0x386b68;id(_0x44a0b2(0x14c))[_0x44a0b2(0x148)]['display']=_0x44a0b2(0x114),mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0xa96b34[_0x44a0b2(0x119)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x44a0b2(0x10b)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x1b527d=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');hitBoxes[hitBoxes[_0x44a0b2(0xfd)]-0x1][_0x44a0b2(0x137)]=_0x1b527d;}}else{if(hitBoxToggle==0x0){map[_0x44a0b2(0x10b)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x1b527d=prompt(_0x44a0b2(0x153),'');map[map[_0x44a0b2(0xfd)]-0x1][_0x44a0b2(0x137)]=_0x1b527d;}}else{if(hitBoxToggle==0x2){var _0xaad7ca=parseInt(prompt('type\x20of\x20camera',''));camBoxes[_0x44a0b2(0x10b)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0xaad7ca});}}}}}),id(_0x386b68(0x155))[_0x386b68(0x11d)](_0x386b68(0x121),zoomChange),id(_0x386b68(0x131))['addEventListener'](_0x386b68(0x113),deleteLevel);function deleteLevel(){var _0x3a793a=_0x386b68;madeChanges=!![];if(levels[_0x3a793a(0xfd)]==0x1){clearMap();return;}removeButton(),levels['splice'](currentLevel,0x1),clearMap(),currentLevel=levels[_0x3a793a(0xfd)]-0x1,safeEval(JSON[_0x3a793a(0x109)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x2b920f=_0x386b68;let _0x324b00={'number':0x0},_0x3dbd21=document[_0x2b920f(0x186)]('levels');for(let _0x54a245=0x0;_0x54a245<_0x3dbd21['length'];_0x54a245++){_0x3dbd21[_0x54a245]['number']>=_0x324b00['number']&&(_0x324b00=_0x3dbd21[_0x54a245]);}_0x324b00['parentNode']['removeChild'](_0x324b00);}function zoomChange(){var _0x5c90e7=_0x386b68;cellSize=parseInt(id(_0x5c90e7(0x155))[_0x5c90e7(0x175)]),changeMapSize();}function changeMapSize(){var _0x15dcea=_0x386b68;canvas['width']=cellQuantityW*cellSize,canvas[_0x15dcea(0xe6)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x4ff0e0){var _0x520054=parseInt(_0x4ff0e0),_0x2397ef=_0x520054%cellSize;if(_0x2397ef!==0x0){if(_0x2397ef>cellSize/0x2)_0x520054=_0x520054-_0x2397ef+cellSize;else _0x520054=_0x520054-_0x2397ef;}return _0x520054/cellSize>0x0&&_0x520054/cellSize<0x1?0x0:_0x520054/cellSize;}function enableBeforeUnload(){var _0x481bf7=_0x386b68;window[_0x481bf7(0x12b)]=function(_0x561dad){var _0x3d7d9d=_0x481bf7;if(madeChanges)return _0x3d7d9d(0x111);};}function disableBeforeUnload(){var _0x1fc953=_0x386b68;window[_0x1fc953(0x12b)]=null;}enableBeforeUnload(),document[_0x386b68(0x11d)](_0x386b68(0xe2),function(_0x3944b6){var _0x531b67=_0x386b68;madeChanges=!![];var _0x3656a4=window[_0x531b67(0xf6)]-canvas[_0x531b67(0xee)],_0x199eeb=window[_0x531b67(0xdf)]-canvas[_0x531b67(0x165)];_0x3944b6[_0x531b67(0x184)]();var _0x4f6bc7=_0x3944b6[_0x531b67(0x178)]+_0x3656a4,_0x51ed64=_0x3944b6['clientY']+_0x199eeb;removeElements(map,_0x4f6bc7,_0x51ed64),removeElements(hitBoxes,_0x4f6bc7,_0x51ed64),removeElements(camBoxes,_0x4f6bc7,_0x51ed64);});function removeElements(_0x23a6c6,_0x4a16aa,_0x1b74f8){var _0x270baf=_0x386b68,_0x373807=[];for(let _0x30a0d7=0x0;_0x30a0d7<_0x23a6c6[_0x270baf(0xfd)];_0x30a0d7++){_0x4a16aa>_0x23a6c6[_0x30a0d7]['x']*cellSize&&_0x4a16aa<_0x23a6c6[_0x30a0d7]['x']*cellSize+_0x23a6c6[_0x30a0d7]['w']*cellSize&&(_0x1b74f8>_0x23a6c6[_0x30a0d7]['y']*cellSize&&_0x1b74f8<_0x23a6c6[_0x30a0d7]['y']*cellSize+_0x23a6c6[_0x30a0d7]['h']*cellSize&&_0x373807[_0x270baf(0x10b)](_0x30a0d7));}_0x373807['sort'](function(_0x4d228e,_0x58ccf0){return _0x58ccf0-_0x4d228e;});for(let _0x5df1de=0x0;_0x5df1de<_0x373807['length'];_0x5df1de++){_0x23a6c6['splice'](_0x373807[_0x5df1de],0x1);}}function download(_0x5e09a8,_0x3ac2b6){var _0xa57913=_0x386b68;madeChanges=![];var _0xae947=new Blob([_0x3ac2b6],{'type':_0xa57913(0xe8)});if(window[_0xa57913(0x139)][_0xa57913(0xe3)])window[_0xa57913(0x139)]['msSaveBlob'](_0xae947,_0x5e09a8);else{var _0x441a98=window[_0xa57913(0x143)]['createElement']('a');_0x441a98[_0xa57913(0x17d)]=window[_0xa57913(0x14e)]['createObjectURL'](_0xae947),_0x441a98[_0xa57913(0x10a)]=_0x5e09a8,document[_0xa57913(0xf9)][_0xa57913(0xfa)](_0x441a98),_0x441a98['click'](),document[_0xa57913(0xf9)][_0xa57913(0x136)](_0x441a98);}}window[_0x386b68(0x11d)](_0x386b68(0x106),function(_0x5d47e0){var _0x5d5b8a=_0x386b68,_0x469847=_0x5d47e0[_0x5d5b8a(0x108)];switch(_0x469847){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x5d5b8a(0x16f)]=!![];break;case 0x51:camera[_0x5d5b8a(0xf1)]=!![];break;}}),window['addEventListener']('keyup',function(_0x3f74e1){var _0x20f39d=_0x386b68,_0x120740=_0x3f74e1['keyCode'];switch(_0x120740){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera['zoomIn']=![];break;case 0x51:camera[_0x20f39d(0xf1)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x1ee626,_0xd2dc26){var _0x5bdf11=_0x386b68;_0x1ee626['clipboardData']==![]&&(typeof _0xd2dc26==_0x5bdf11(0x173)&&_0xd2dc26(undefined));;var _0x53dbea=_0x1ee626[_0x5bdf11(0x146)][_0x5bdf11(0x138)];_0x53dbea==undefined&&(typeof _0xd2dc26==_0x5bdf11(0x173)&&_0xd2dc26(undefined));;for(var _0x125194=0x0;_0x125194<_0x53dbea[_0x5bdf11(0xfd)];_0x125194++){if(_0x53dbea[_0x125194]['type'][_0x5bdf11(0x144)](_0x5bdf11(0x12d))==-0x1)continue;var _0x321029=_0x53dbea[_0x125194][_0x5bdf11(0x11f)]();typeof _0xd2dc26==_0x5bdf11(0x173)&&_0xd2dc26(_0x321029);}}window[_0x386b68(0x11d)](_0x386b68(0x150),function(_0x168c8f){retrieveImageFromClipboardAsBlob(_0x168c8f,function(_0x4c5627){var _0xddbdfb=_0x269f;if(_0x4c5627){var _0x2dd747=new Image();_0x2dd747[_0xddbdfb(0x145)]=function(){var _0x3a36fd=_0xddbdfb;pastedImage=_0x2dd747,id(_0x3a36fd(0x171))[_0x3a36fd(0x175)]=pastedImage[_0x3a36fd(0xe9)]/cellSize,cellQuantityW=pastedImage[_0x3a36fd(0xe9)]/cellSize,id(_0x3a36fd(0x101))[_0x3a36fd(0x175)]=pastedImage[_0x3a36fd(0xe6)]/cellSize,cellQuantityH=pastedImage[_0x3a36fd(0xe6)]/cellSize,changeMapSize();};var _0x1e01da=window[_0xddbdfb(0x14e)]||window[_0xddbdfb(0x151)];_0x2dd747[_0xddbdfb(0x11e)]=_0x1e01da[_0xddbdfb(0x17b)](_0x4c5627);}});},![]);