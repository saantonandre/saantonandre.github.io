'use strict';var _0x1238e6=_0x2f4c;(function(_0x125e9f,_0xe8dc57){var _0x13e1ca=_0x2f4c,_0x463ec7=_0x125e9f();while(!![]){try{var _0x719f25=-parseInt(_0x13e1ca(0x1a3))/0x1*(-parseInt(_0x13e1ca(0x22a))/0x2)+-parseInt(_0x13e1ca(0x238))/0x3+parseInt(_0x13e1ca(0x1cf))/0x4+-parseInt(_0x13e1ca(0x1f0))/0x5+-parseInt(_0x13e1ca(0x22d))/0x6*(parseInt(_0x13e1ca(0x1be))/0x7)+parseInt(_0x13e1ca(0x229))/0x8*(-parseInt(_0x13e1ca(0x20b))/0x9)+parseInt(_0x13e1ca(0x1e7))/0xa*(parseInt(_0x13e1ca(0x1c8))/0xb);if(_0x719f25===_0xe8dc57)break;else _0x463ec7['push'](_0x463ec7['shift']());}catch(_0x54568f){_0x463ec7['push'](_0x463ec7['shift']());}}}(_0x2099,0x58a2e));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x5f35c9){var _0x1f5bb3=_0x2f4c,_0x23d2c4=(function(){var _0x5ca603=!![];return function(_0x2f8c3e,_0x3778c2){var _0x51cc17=_0x5ca603?function(){var _0x59ffbd=_0x2f4c;if(_0x3778c2){var _0x492089=_0x3778c2[_0x59ffbd(0x1db)](_0x2f8c3e,arguments);return _0x3778c2=null,_0x492089;}}:function(){};return _0x5ca603=![],_0x51cc17;};}()),_0xe34050=_0x23d2c4(this,function(){var _0x2c610b=_0x2f4c,_0x14a6ad;try{var _0x3e6b26=Function('return\x20(function()\x20'+_0x2c610b(0x237)+');');_0x14a6ad=_0x3e6b26();}catch(_0x465727){_0x14a6ad=window;}var _0x50431b=new RegExp(_0x2c610b(0x206),'g'),_0x6e5279=_0x2c610b(0x204)[_0x2c610b(0x1bb)](_0x50431b,'')[_0x2c610b(0x1d3)](';'),_0x4b889b,_0x41aa03,_0x5bb728,_0x549e7e,_0x504cb4=function(_0x20ba6d,_0x5a3044,_0x416d85){var _0x15898a=_0x2c610b;if(_0x20ba6d[_0x15898a(0x1b8)]!=_0x5a3044)return![];for(var _0x166980=0x0;_0x166980<_0x5a3044;_0x166980++){for(var _0x285516=0x0;_0x285516<_0x416d85[_0x15898a(0x1b8)];_0x285516+=0x2){if(_0x166980==_0x416d85[_0x285516]&&_0x20ba6d['charCodeAt'](_0x166980)!=_0x416d85[_0x285516+0x1])return![];}}return!![];},_0x2d94e1=function(_0xdfedba,_0x996785,_0x43b002){return _0x504cb4(_0x996785,_0x43b002,_0xdfedba);},_0x1d64ef=function(_0x3179a3,_0x261b3f,_0x50faa3){return _0x2d94e1(_0x261b3f,_0x3179a3,_0x50faa3);},_0x24ba0f=function(_0x27af5a,_0x3ed1d1,_0x3f7395){return _0x1d64ef(_0x3ed1d1,_0x3f7395,_0x27af5a);};for(var _0x1bcb7b in _0x14a6ad){if(_0x504cb4(_0x1bcb7b,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4b889b=_0x1bcb7b;break;}}for(var _0x1c5658 in _0x14a6ad[_0x4b889b]){if(_0x24ba0f(0x6,_0x1c5658,[0x5,0x6e,0x0,0x64])){_0x41aa03=_0x1c5658;break;}}for(var _0x551ca9 in _0x14a6ad[_0x4b889b]){if(_0x1d64ef(_0x551ca9,[0x7,0x6e,0x0,0x6c],0x8)){_0x5bb728=_0x551ca9;break;}}if(!('~'>_0x41aa03))for(var _0x50f330 in _0x14a6ad[_0x4b889b][_0x5bb728]){if(_0x2d94e1([0x7,0x65,0x0,0x68],_0x50f330,0x8)){_0x549e7e=_0x50f330;break;}}if(!_0x4b889b||!_0x14a6ad[_0x4b889b])return;var _0x121506=_0x14a6ad[_0x4b889b][_0x41aa03],_0x3b0568=!!_0x14a6ad[_0x4b889b][_0x5bb728]&&_0x14a6ad[_0x4b889b][_0x5bb728][_0x549e7e],_0x33d0ee=_0x121506||_0x3b0568;if(!_0x33d0ee)return;var _0x250ccb=![];for(var _0xb00314=0x0;_0xb00314<_0x6e5279[_0x2c610b(0x1b8)];_0xb00314++){var _0x41aa03=_0x6e5279[_0xb00314],_0x25bf99=_0x41aa03[0x0]===String['fromCharCode'](0x2e)?_0x41aa03[_0x2c610b(0x1ef)](0x1):_0x41aa03,_0x3d56e3=_0x33d0ee[_0x2c610b(0x1b8)]-_0x25bf99[_0x2c610b(0x1b8)],_0x379fc7=_0x33d0ee[_0x2c610b(0x1c1)](_0x25bf99,_0x3d56e3),_0x226c89=_0x379fc7!==-0x1&&_0x379fc7===_0x3d56e3;_0x226c89&&((_0x33d0ee[_0x2c610b(0x1b8)]==_0x41aa03[_0x2c610b(0x1b8)]||_0x41aa03[_0x2c610b(0x1c1)]('.')===0x0)&&(_0x250ccb=!![]));}if(!_0x250ccb){var _0x409d41=new RegExp(_0x2c610b(0x200),'g'),_0x589270=_0x2c610b(0x1b1)[_0x2c610b(0x1bb)](_0x409d41,'');_0x14a6ad[_0x4b889b][_0x5bb728]=_0x589270;}});return _0xe34050(),document[_0x1f5bb3(0x1aa)](_0x5f35c9);}var canvas=id('canvas'),sheet=id(_0x1238e6(0x1c3)),c=canvas[_0x1238e6(0x1c2)]('2d');c[_0x1238e6(0x244)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};function _0x2099(){var _0x2ecb61=['className','levels','7JTEnSu','navigator','MapTester/index.html','indexOf','getContext','sheet','style','keyCode','push','click','33QbIYgB','rect','zoomOut','height','cursor','getElementsByClassName','function','1940812rlNPUK','paste','getElementsByTagName','items','split','body','drawImage','#0000cc','msSaveOrOpenBlob','lineWidth','moveMap','closePath','apply','<br>\x20w:\x20','block','webkitURL','spawnPoint','contextmenu','width','spawn','clipboard','drawing:\x20displayed','display','cont2','4507030cZpTon','files','text','fillStyle','name','color','stroke','clientX','slice','3335330dInvid','msSaveBlob','test','\x20tile','image','log','appendChild','add','exportBox','URL','exportMap','mapSizeBtnH','fillRect','text/csv','saveButton','map.json','[IvppZgVpMAfjRhzZyXpTAUAqzhc]','change','event','clipboardData','saanFtFonZavndrSze.YSgGDBpiLqtmUhubzIz.GwiomBf;ljZoNcOCaMIlhostJDqwLSQAQPOPzfkmYPVRpOQYXpyEOvGMOxAQvSCGVDyB','pointer','[FFZvSzYSGDBpLqmUzIzGwmBfjZNOCMIJDqwLSQAQPOPzfkmYPVRpOQYXpyEOvGMOxAQvSCGVDyB]','white','map','globalAlpha','left','4266675aDmNjF','createElement','\x20selected','preventDefault','crosshair','interactive','drawing:\x20camera','parentNode','none','pageYOffset','pageXOffset','open','innerHeight','parse','cont3','closeBtn','innerWidth','object','mousedown','mapSizeBtnW','toggle','downloadBtn','mapSizeW','innerHTML',',\x20y:\x20','onmousedown','readAsText','#5b6ee1','number','\x20levels','8cDcNNa','2306KsdbZq','type','speed','1538382PNJZXw','remove','clearRect','drawing:\x20hitboxes','onbeforeunload','zoomer','clientY','mapSizeH','selected','contains','{}.constructor(\x22return\x20this\x22)(\x20)','1454646akYVGg','deleteLvl','beginPath','onchange','yRDiff','mousemove','zoomIn','createObjectURL','#002200','offsetLeft','stringify','#ffffff','imageSmoothingEnabled',',\x20h:\x20','removeChild','camBoxes','splice','sort','#000000','strokeStyle','href','exportText','lineTo','354QwKqzg','result','black','moveTo','top','mouseup','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','getElementById','classList','info','which','value','backgroundColor','canvas','abIvppoutZ:gVpblaMAfjRhzZyXpTAnkUAqzhc','onload','download','addEventListener','xRDiff','file','onclick','length','getAsFile','offsetTop','replace'];_0x2099=function(){return _0x2ecb61;};return _0x2099();}id('+')[_0x1238e6(0x1b7)]=function(){addLevel();};function clearMap(){var _0xb1590a=_0x1238e6;map=[],mapObject['map']=[],mapObject[_0xb1590a(0x19b)]=[],mapObject[_0xb1590a(0x1df)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x4d197d=_0x1238e6;let _0x3514e1=document[_0x4d197d(0x1cd)]('levels');for(let _0x1a5bd3=_0x3514e1[_0x4d197d(0x1b8)]-0x1;_0x1a5bd3>=0x0;_0x1a5bd3--){_0x3514e1[_0x1a5bd3][_0x4d197d(0x212)][_0x4d197d(0x19a)](_0x3514e1[_0x1a5bd3]);}}id(_0x1238e6(0x1fe))[_0x1238e6(0x1b7)]=saveImage;function saveImage(){var _0x31d104=_0x1238e6;canvas['toBlob'](_0x3e9cbc=>navigator[_0x31d104(0x1e3)]['write']([new ClipboardItem({'image/png':_0x3e9cbc})]));}function addButton(){var _0x4c66a1=_0x1238e6,_0x1f998b=document[_0x4c66a1(0x20c)]('button');_0x1f998b[_0x4c66a1(0x227)]=levels[_0x4c66a1(0x1b8)],_0x1f998b[_0x4c66a1(0x222)]=levels[_0x4c66a1(0x1b8)],_0x1f998b[_0x4c66a1(0x1bc)]+=_0x4c66a1(0x228),_0x1f998b[_0x4c66a1(0x224)]=function(_0xc43aa0){var _0x1dd915=_0x4c66a1;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this['number'],safeEval(JSON[_0x1dd915(0x218)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0x4c66a1(0x219))[_0x4c66a1(0x1f6)](_0x1f998b),highlightCurrentLevel();}function addLevel(){var _0x508fd0=_0x1238e6;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x508fd0(0x19c)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON['parse'](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x1238e6(0x221))[_0x1238e6(0x1ae)],cellQuantityH=id(_0x1238e6(0x234))[_0x1238e6(0x1ae)],cellSize=0x10,fileName='mapCode',interactiveTile=0x0;canvas[_0x1238e6(0x1e1)]=cellQuantityW*cellSize,canvas[_0x1238e6(0x1cb)]=cellQuantityH*cellSize,id(_0x1238e6(0x21e))[_0x1238e6(0x1b7)]=function(){var _0x5a5bea=_0x1238e6;cellQuantityW=id(_0x5a5bea(0x221))[_0x5a5bea(0x1ae)],changeMapSize();},id(_0x1238e6(0x1fb))[_0x1238e6(0x1b7)]=function(){var _0x2bbfb4=_0x1238e6;cellQuantityH=id('mapSizeH')[_0x2bbfb4(0x1ae)],changeMapSize();},window[_0x1238e6(0x1b2)]=function(){var _0x3fa002=_0x1238e6;for(let _0x1709d6=0x0;_0x1709d6<tiles[_0x3fa002(0x1b8)];_0x1709d6++){var _0x462aee=document['createElement'](_0x3fa002(0x1b0));_0x462aee['id']=_0x3fa002(0x1b0)+_0x1709d6,_0x462aee[_0x3fa002(0x1e1)]=0x20,_0x462aee[_0x3fa002(0x1cb)]=0x20,_0x462aee[_0x3fa002(0x227)]=_0x1709d6,_0x462aee[_0x3fa002(0x1c2)]('2d')[_0x3fa002(0x244)]=![];_0x1709d6===0x0&&(_0x462aee[_0x3fa002(0x1bc)]+='\x20selected');_0x462aee['className']+=_0x3fa002(0x1f3),_0x462aee['getContext']('2d')['drawImage'](sheet,tiles[_0x1709d6][0x0]*0x10,tiles[_0x1709d6][0x1]*0x10,0x10,0x10,0x0,0x0,_0x462aee[_0x3fa002(0x1e1)],_0x462aee['height']);var _0x10d471=document[_0x3fa002(0x1d1)]('body')[0x0];id(_0x3fa002(0x1e6))[_0x3fa002(0x1f6)](_0x462aee),id(_0x3fa002(0x1b0)+_0x1709d6)[_0x3fa002(0x1b7)]=function(){var _0x20060d=_0x3fa002;selectedType=this[_0x20060d(0x227)];for(let _0x5b6484=0x0;_0x5b6484<tiles['length'];_0x5b6484++){id(_0x20060d(0x1b0)+_0x5b6484)['classList'][_0x20060d(0x22e)]('selected');}this[_0x20060d(0x1bc)]+=_0x20060d(0x20d);};}loop();},id(_0x1238e6(0x1f2))[_0x1238e6(0x1b7)]=function(){var _0x20791a=_0x1238e6;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x5259e0=0x0;_0x5259e0<levels[_0x20791a(0x1b8)];_0x5259e0++){levelsArray[_0x20791a(0x1c6)](JSON['parse'](levels[_0x5259e0]));}var _0x40e36c=window[_0x20791a(0x216)](_0x20791a(0x1c0));},id(_0x1238e6(0x210))[_0x1238e6(0x1b7)]=function(){var _0x2514d0=_0x1238e6;interactiveTile?(interactiveTile=0x0,id('interactive')['style']['backgroundColor']=_0x2514d0(0x207),id('interactive')[_0x2514d0(0x1c4)][_0x2514d0(0x1ec)]=_0x2514d0(0x1a5)):(interactiveTile=0x1,id(_0x2514d0(0x210))[_0x2514d0(0x1c4)][_0x2514d0(0x1af)]=_0x2514d0(0x1a5),id(_0x2514d0(0x210))[_0x2514d0(0x1c4)][_0x2514d0(0x1ec)]='white');};var hitBoxToggle=![];id('toggle')[_0x1238e6(0x1b7)]=function(){var _0xe77794=_0x1238e6;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0xe77794(0x21f))[_0xe77794(0x222)]=_0xe77794(0x1e4);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id('toggle')[_0xe77794(0x222)]=_0xe77794(0x230);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0xe77794(0x21f))['innerHTML']=_0xe77794(0x211));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x3819f4=_0x1238e6;c[_0x3819f4(0x22f)](0x0,0x0,canvas[_0x3819f4(0x1e1)],canvas[_0x3819f4(0x1cb)]),pastedImage&&c[_0x3819f4(0x1d5)](pastedImage,0x0,0x0,pastedImage['width'],pastedImage[_0x3819f4(0x1cb)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x14243c=_0x1238e6;if(hitBoxToggle==0x1)c['strokeStyle']='#ff0000';else c[_0x14243c(0x19f)]=_0x14243c(0x243);c[_0x14243c(0x23a)](),c[_0x14243c(0x1c9)](square['x'],square['y'],square['w'],square['h']),c[_0x14243c(0x1da)](),c[_0x14243c(0x1ed)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id('cont')),dragElement(id(_0x1238e6(0x1e6))),dragElement(id('cont3'));function dragElement(_0x4f4d8a){var _0x167a3b=_0x1238e6,_0x1424de=0x0,_0x557f20=0x0,_0x3a1927=0x0,_0x6637c5=0x0;_0x4f4d8a[_0x167a3b(0x224)]=_0x3034eb;function _0x3034eb(_0x1de0c1){_0x1de0c1=_0x1de0c1||window['event'],_0x3a1927=_0x1de0c1['clientX'],_0x6637c5=_0x1de0c1['clientY'],document['onmouseup']=_0x5ccbc7,document['onmousemove']=_0x278655;}function _0x278655(_0x287bad){var _0x12e5f8=_0x167a3b;_0x287bad=_0x287bad||window[_0x12e5f8(0x202)],_0x287bad['preventDefault'](),_0x1424de=_0x3a1927-_0x287bad[_0x12e5f8(0x1ee)],_0x557f20=_0x6637c5-_0x287bad['clientY'],_0x3a1927=_0x287bad[_0x12e5f8(0x1ee)],_0x6637c5=_0x287bad['clientY'],_0x4f4d8a[_0x12e5f8(0x1c4)][_0x12e5f8(0x1a7)]=_0x4f4d8a[_0x12e5f8(0x1ba)]-_0x557f20+'px',_0x4f4d8a['style'][_0x12e5f8(0x20a)]=_0x4f4d8a[_0x12e5f8(0x241)]-_0x1424de+'px';}function _0x5ccbc7(){document['onmouseup']=null,document['onmousemove']=null;}}var mapCode='';id(_0x1238e6(0x1fa))['onclick']=function(){var _0x189ae3=_0x1238e6;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x470962=0x0;_0x470962<levels['length'];_0x470962++){levelsArray[_0x189ae3(0x1c6)](JSON['parse'](levels[_0x470962]));}id(_0x189ae3(0x1f8))[_0x189ae3(0x1c4)][_0x189ae3(0x1e5)]=_0x189ae3(0x1dd),id(_0x189ae3(0x1a1))[_0x189ae3(0x222)]=JSON[_0x189ae3(0x242)](levelsArray);};function newMapExport(){var _0x493208=_0x1238e6;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x493208(0x242)](mapObject);};id(_0x1238e6(0x21a))[_0x1238e6(0x1b7)]=function(){var _0x2b7f87=_0x1238e6;id('exportBox')[_0x2b7f87(0x1c4)][_0x2b7f87(0x1e5)]='none';},id(_0x1238e6(0x220))[_0x1238e6(0x1b7)]=function(){var _0x2ea16b=_0x1238e6;download(_0x2ea16b(0x1ff),JSON[_0x2ea16b(0x242)](levelsArray));},id(_0x1238e6(0x1b6))[_0x1238e6(0x23b)]=function(){var _0x2941f7=_0x1238e6;console[_0x2941f7(0x1f5)]('importing...');let _0x765adc=id(_0x2941f7(0x1b6))[_0x2941f7(0x1e8)][0x0];fileName=id(_0x2941f7(0x1b6))['files'][0x0][_0x2941f7(0x1eb)][_0x2941f7(0x1d3)]('.')[0x0];let _0x139aa8=new FileReader();_0x139aa8[_0x2941f7(0x1b2)]=function(_0x1bec85){var _0x25b104=_0x2941f7;let _0x3e2e5a=_0x139aa8[_0x25b104(0x1a4)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x25b104(0x218)](_0x3e2e5a);for(let _0x4d3792=0x0;_0x4d3792<levelsArray['length'];_0x4d3792++){addButton(),levels[_0x4d3792]=JSON[_0x25b104(0x242)](levelsArray[_0x4d3792]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x139aa8[_0x2941f7(0x225)](_0x765adc);};function safeEval(_0x414629){var _0x750312=_0x1238e6;typeof _0x414629===_0x750312(0x21c)&&_0x414629!==null&&(map=_0x414629[_0x750312(0x208)],spawnPoint=_0x414629[_0x750312(0x1df)],camBoxes=_0x414629[_0x750312(0x19b)]);}var baseWidth=id(_0x1238e6(0x221))[_0x1238e6(0x1ae)],baseHeight=id(_0x1238e6(0x234))[_0x1238e6(0x1ae)];function resizeMap(){var _0x5be5cd=_0x1238e6;let _0x1e2154=0x0,_0x33a1c2=0x0;for(let _0x350f34=0x0;_0x350f34<map[_0x5be5cd(0x1b8)];_0x350f34++){map[_0x350f34]['x']+map[_0x350f34]['w']>_0x1e2154&&(_0x1e2154=map[_0x350f34]['x']+map[_0x350f34]['w']),map[_0x350f34]['y']+map[_0x350f34]['h']>_0x33a1c2&&(_0x33a1c2=map[_0x350f34]['y']+map[_0x350f34]['h']);}_0x33a1c2<baseHeight&&(_0x33a1c2=baseHeight),_0x1e2154<baseWidth&&(_0x1e2154=baseWidth),cellQuantityW=_0x1e2154,id(_0x5be5cd(0x221))[_0x5be5cd(0x1ae)]=_0x1e2154,cellQuantityH=_0x33a1c2,id(_0x5be5cd(0x234))[_0x5be5cd(0x1ae)]=_0x33a1c2,changeMapSize();}function highlightCurrentLevel(){var _0x3bd19c=_0x1238e6;let _0x13c058=document[_0x3bd19c(0x1cd)]('levels');for(let _0x235156=0x0;_0x235156<_0x13c058[_0x3bd19c(0x1b8)];_0x235156++){if(_0x13c058[_0x235156][_0x3bd19c(0x227)]==currentLevel)!_0x13c058[_0x235156][_0x3bd19c(0x1ab)][_0x3bd19c(0x236)]('selected')&&_0x13c058[_0x235156][_0x3bd19c(0x1ab)][_0x3bd19c(0x1f7)](_0x3bd19c(0x235));else _0x13c058[_0x235156][_0x3bd19c(0x1ab)]['contains'](_0x3bd19c(0x235))&&_0x13c058[_0x235156][_0x3bd19c(0x1ab)]['remove'](_0x3bd19c(0x235));}}function cameraMove(){var _0x4bb69d=_0x1238e6;camera['L']&&(sX-=camera[_0x4bb69d(0x22c)]);camera['R']&&(sX+=camera[_0x4bb69d(0x22c)]);camera['T']&&(sY-=camera[_0x4bb69d(0x22c)]);camera['B']&&(sY+=camera[_0x4bb69d(0x22c)]);sX<0x0&&(sX=0x0);sX>canvas[_0x4bb69d(0x1e1)]-window[_0x4bb69d(0x21b)]&&(sX=canvas[_0x4bb69d(0x1e1)]-window[_0x4bb69d(0x21b)]);sY<0x0&&(sY=0x0);sY>canvas[_0x4bb69d(0x1cb)]-window[_0x4bb69d(0x217)]&&(sY=canvas[_0x4bb69d(0x1cb)]-window[_0x4bb69d(0x217)]);if(camera[_0x4bb69d(0x1ca)])id('zoomer')[_0x4bb69d(0x1ae)]--,zoomChange();else camera[_0x4bb69d(0x23e)]&&(id(_0x4bb69d(0x232))['value']++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x2ce0a4=_0x1238e6;(camera['L']||camera['R']||camera['T']||camera['B']||camera['zoomIn']||camera[_0x2ce0a4(0x1ca)])&&cameraMove();c[_0x2ce0a4(0x209)]=0x1;for(let _0x47f49d=0x0;_0x47f49d<map[_0x2ce0a4(0x1b8)];_0x47f49d++){if(map[_0x47f49d][_0x2ce0a4(0x22b)]>0x33)for(let _0x4428ff=0x0;_0x4428ff<map[_0x47f49d]['h'];_0x4428ff++){for(let _0x4df27f=0x0;_0x4df27f<map[_0x47f49d]['w'];_0x4df27f++){c[_0x2ce0a4(0x1d5)](id(_0x2ce0a4(0x1c3)),tiles[map[_0x47f49d][_0x2ce0a4(0x22b)]][0x0]*0x10,tiles[map[_0x47f49d]['type']][0x1]*0x10,0x10,0x10,(map[_0x47f49d]['x']+_0x4df27f)*cellSize,(map[_0x47f49d]['y']+_0x4428ff)*cellSize,cellSize,cellSize);}}}for(let _0x527c97=0x0;_0x527c97<map[_0x2ce0a4(0x1b8)];_0x527c97++){if(map[_0x527c97][_0x2ce0a4(0x22b)]<=0x33)for(let _0x4644f0=0x0;_0x4644f0<map[_0x527c97]['h'];_0x4644f0++){for(let _0x1b5169=0x0;_0x1b5169<map[_0x527c97]['w'];_0x1b5169++){c['drawImage'](id(_0x2ce0a4(0x1c3)),tiles[map[_0x527c97]['type']][0x0]*0x10,tiles[map[_0x527c97][_0x2ce0a4(0x22b)]][0x1]*0x10,0x10,0x10,(map[_0x527c97]['x']+_0x1b5169)*cellSize,(map[_0x527c97]['y']+_0x4644f0)*cellSize,cellSize,cellSize);}}}for(let _0x1a6fc3=0x0;_0x1a6fc3<hitBoxes['length'];_0x1a6fc3++){c[_0x2ce0a4(0x1ea)]=_0x2ce0a4(0x19e),c['fillRect'](hitBoxes[_0x1a6fc3]['x']*cellSize,hitBoxes[_0x1a6fc3]['y']*cellSize,hitBoxes[_0x1a6fc3]['w']*cellSize,hitBoxes[_0x1a6fc3]['h']*cellSize);}c[_0x2ce0a4(0x209)]=0x1;for(let _0x3e9b69=0x0;_0x3e9b69<camBoxes[_0x2ce0a4(0x1b8)];_0x3e9b69++){c[_0x2ce0a4(0x19f)]=_0x2ce0a4(0x240),c['beginPath'](),c[_0x2ce0a4(0x1c9)](camBoxes[_0x3e9b69]['x']*cellSize,camBoxes[_0x3e9b69]['y']*cellSize,camBoxes[_0x3e9b69]['w']*cellSize,camBoxes[_0x3e9b69]['h']*cellSize),c[_0x2ce0a4(0x1da)](),c[_0x2ce0a4(0x1ed)]();}c[_0x2ce0a4(0x1ea)]=_0x2ce0a4(0x226),c[_0x2ce0a4(0x1fc)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x54a11a=_0x1238e6;c[_0x54a11a(0x1d8)]=0.1,c[_0x54a11a(0x19f)]=_0x54a11a(0x243);for(let _0x5e32ce=0x0;_0x5e32ce<canvas[_0x54a11a(0x1e1)];_0x5e32ce+=cellSize){c['beginPath'](),c[_0x54a11a(0x1a6)](_0x5e32ce,0x0),c[_0x54a11a(0x1a2)](_0x5e32ce,canvas[_0x54a11a(0x1cb)]),c[_0x54a11a(0x1da)](),c['stroke']();}for(let _0x501941=0x0;_0x501941<canvas[_0x54a11a(0x1cb)];_0x501941+=cellSize){c[_0x54a11a(0x23a)](),c[_0x54a11a(0x1a6)](0x0,_0x501941),c[_0x54a11a(0x1a2)](canvas['width'],_0x501941),c[_0x54a11a(0x1da)](),c[_0x54a11a(0x1ed)]();}c[_0x54a11a(0x1d8)]=0x1;}var definingSpawnpoint=![];id(_0x1238e6(0x1e2))['onclick']=function(){var _0x35fc13=_0x1238e6;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x35fc13(0x1e2))['style'][_0x35fc13(0x1ec)]=_0x35fc13(0x19e),id('canvas')['style'][_0x35fc13(0x1cc)]=_0x35fc13(0x20f),canvas['onclick']=null;return;}definingSpawnpoint=!![],id(_0x35fc13(0x1e2))[_0x35fc13(0x1c4)][_0x35fc13(0x1ec)]=_0x35fc13(0x1d6),id(_0x35fc13(0x1b0))[_0x35fc13(0x1c4)][_0x35fc13(0x1cc)]=_0x35fc13(0x205),canvas['onclick']=()=>{var _0x40d0d3=_0x35fc13;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x40d0d3(0x1e2))[_0x40d0d3(0x1c4)][_0x40d0d3(0x1ec)]='#000000',id('canvas')[_0x40d0d3(0x1c4)]['cursor']=_0x40d0d3(0x20f),canvas['onclick']=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id(_0x1238e6(0x1d9))[_0x1238e6(0x1b7)]=function(){var _0x3ef712=_0x1238e6;if(movingMap){movingMap=![],id('moveMap')[_0x3ef712(0x1c4)]['color']=_0x3ef712(0x19e),id(_0x3ef712(0x1b0))[_0x3ef712(0x1c4)]['cursor']=_0x3ef712(0x20f);return;}movingMap=!![],id('moveMap')['style'][_0x3ef712(0x1ec)]=_0x3ef712(0x1d6),id(_0x3ef712(0x1b0))[_0x3ef712(0x1c4)][_0x3ef712(0x1cc)]='all-scroll',canvas[_0x3ef712(0x1b4)](_0x3ef712(0x23d),function(){var _0x43d5f5=_0x3ef712;if(!movingMap||!mouseDown)return;let _0x403f60=square['w']/cellSize-movingVariables['xRDiff'],_0x34adec=square['h']/cellSize-movingVariables[_0x43d5f5(0x23c)];(_0x403f60!==0x0||_0x34adec!==0x0)&&(moveEverything(_0x403f60,_0x34adec),movingVariables['xRDiff']+=_0x403f60,movingVariables['yRDiff']+=_0x34adec);}),canvas[_0x3ef712(0x1b4)](_0x3ef712(0x1a8),function(){var _0x14c351=_0x3ef712;if(!movingMap)return;movingVariables[_0x14c351(0x1b5)]=0x0,movingVariables['yRDiff']=0x0;});};function moveEverything(_0x3774a0,_0x23018f){var _0x130490=_0x1238e6;if(_0x3774a0==0x0&&_0x23018f==0x0)return;for(let _0x19565d=0x0;_0x19565d<map[_0x130490(0x1b8)];_0x19565d++){map[_0x19565d]['x']+=_0x3774a0,map[_0x19565d]['y']+=_0x23018f;}for(let _0x3e0eb4=0x0;_0x3e0eb4<hitBoxes[_0x130490(0x1b8)];_0x3e0eb4++){hitBoxes[_0x3e0eb4]['x']+=_0x3774a0,hitBoxes[_0x3e0eb4]['y']+=_0x23018f;}for(let _0x4849b7=0x0;_0x4849b7<camBoxes[_0x130490(0x1b8)];_0x4849b7++){camBoxes[_0x4849b7]['x']+=_0x3774a0,camBoxes[_0x4849b7]['y']+=_0x23018f;}spawnPoint['x']+=_0x3774a0,spawnPoint['y']+=_0x23018f;}function infoText(){var _0x3e9e1c=_0x1238e6,_0x505adf=square['x']/cellSize,_0x44e04e=square['y']/cellSize;_0x505adf>-0x1&&_0x505adf<0x1&&(_0x505adf=0x0),_0x44e04e>-0x1&&_0x44e04e<0x1&&(_0x44e04e=0x0),id(_0x3e9e1c(0x1ac))[_0x3e9e1c(0x222)]='x:\x20'+_0x505adf+_0x3e9e1c(0x223)+_0x44e04e+_0x3e9e1c(0x1dc)+square['w']/cellSize+_0x3e9e1c(0x199)+square['h']/cellSize;}function _0x2f4c(_0x4bdcae,_0xf01fc4){var _0x152135=_0x2099();return _0x2f4c=function(_0x4f7e60,_0x1009c5){_0x4f7e60=_0x4f7e60-0x199;var _0x39c379=_0x152135[_0x4f7e60];return _0x39c379;},_0x2f4c(_0x4bdcae,_0xf01fc4);}var mouseDown=![];canvas[_0x1238e6(0x1b4)](_0x1238e6(0x21d),function(_0x245b1d){var _0x387928=_0x1238e6;mouseDown=!![];var _0x402591=window[_0x387928(0x215)]-canvas[_0x387928(0x241)],_0x5b9955=window[_0x387928(0x214)]-canvas['offsetTop'];id(_0x387928(0x1ac))['style']['display']='block',id(_0x387928(0x1ac))[_0x387928(0x1c4)][_0x387928(0x20a)]=_0x245b1d[_0x387928(0x1ee)]+0x1e+'px',id('info')[_0x387928(0x1c4)][_0x387928(0x1a7)]=_0x245b1d[_0x387928(0x233)]-0x1e+'px',square['x']=round(_0x245b1d[_0x387928(0x1ee)]+_0x402591)*cellSize,square['y']=round(_0x245b1d[_0x387928(0x233)]+_0x5b9955)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x1238e6(0x1b4)]('mousemove',function(_0x229a21){var _0x2ecc6b=_0x1238e6,_0x2dae5f=window[_0x2ecc6b(0x215)]-canvas['offsetLeft'],_0x41586a=window['pageYOffset']-canvas[_0x2ecc6b(0x1ba)];mouseDown&&(id(_0x2ecc6b(0x1ac))['style']['display']=_0x2ecc6b(0x1dd),id(_0x2ecc6b(0x1ac))[_0x2ecc6b(0x1c4)][_0x2ecc6b(0x20a)]=_0x229a21[_0x2ecc6b(0x1ee)]+0x1e+'px',id(_0x2ecc6b(0x1ac))[_0x2ecc6b(0x1c4)][_0x2ecc6b(0x1a7)]=_0x229a21['clientY']-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x229a21[_0x2ecc6b(0x1ee)]+_0x2dae5f-square['x'])*cellSize,square['h']=round(_0x229a21['clientY']+_0x41586a-square['y'])*cellSize);}),canvas[_0x1238e6(0x1b4)]('mouseup',function(_0x9b3d60){var _0x3b8997=_0x1238e6;id('info')[_0x3b8997(0x1c4)]['display']=_0x3b8997(0x213),mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x9b3d60[_0x3b8997(0x1ad)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x3d800f=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');hitBoxes[hitBoxes[_0x3b8997(0x1b8)]-0x1][_0x3b8997(0x1e9)]=_0x3d800f;}}else{if(hitBoxToggle==0x0){map['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x3d800f=prompt(_0x3b8997(0x1a9),'');map[map[_0x3b8997(0x1b8)]-0x1]['text']=_0x3d800f;}}else{if(hitBoxToggle==0x2){var _0x49fd3b=parseInt(prompt('type\x20of\x20camera',''));camBoxes[_0x3b8997(0x1c6)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x49fd3b});}}}}}),id(_0x1238e6(0x232))[_0x1238e6(0x1b4)](_0x1238e6(0x201),zoomChange),id(_0x1238e6(0x239))['addEventListener'](_0x1238e6(0x1c7),deleteLevel);function deleteLevel(){var _0x287c28=_0x1238e6;madeChanges=!![];if(levels[_0x287c28(0x1b8)]==0x1){clearMap();return;}removeButton(),levels[_0x287c28(0x19c)](currentLevel,0x1),clearMap(),currentLevel=levels[_0x287c28(0x1b8)]-0x1,safeEval(JSON[_0x287c28(0x218)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x2d5637=_0x1238e6;let _0x177c3e={'number':0x0},_0x3739b2=document[_0x2d5637(0x1cd)](_0x2d5637(0x1bd));for(let _0x297e4a=0x0;_0x297e4a<_0x3739b2[_0x2d5637(0x1b8)];_0x297e4a++){_0x3739b2[_0x297e4a]['number']>=_0x177c3e[_0x2d5637(0x227)]&&(_0x177c3e=_0x3739b2[_0x297e4a]);}_0x177c3e[_0x2d5637(0x212)][_0x2d5637(0x19a)](_0x177c3e);}function zoomChange(){var _0xb534c=_0x1238e6;cellSize=parseInt(id(_0xb534c(0x232))[_0xb534c(0x1ae)]),changeMapSize();}function changeMapSize(){var _0x2bdc3d=_0x1238e6;canvas[_0x2bdc3d(0x1e1)]=cellQuantityW*cellSize,canvas[_0x2bdc3d(0x1cb)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x2ed29c){var _0x5831a4=parseInt(_0x2ed29c),_0x331a8f=_0x5831a4%cellSize;if(_0x331a8f!==0x0){if(_0x331a8f>cellSize/0x2)_0x5831a4=_0x5831a4-_0x331a8f+cellSize;else _0x5831a4=_0x5831a4-_0x331a8f;}return _0x5831a4/cellSize>0x0&&_0x5831a4/cellSize<0x1?0x0:_0x5831a4/cellSize;}function enableBeforeUnload(){var _0x23cd12=_0x1238e6;window[_0x23cd12(0x231)]=function(_0x1e2688){if(madeChanges)return'Discard\x20changes?';};}function disableBeforeUnload(){window['onbeforeunload']=null;}enableBeforeUnload(),document[_0x1238e6(0x1b4)](_0x1238e6(0x1e0),function(_0x1f7184){var _0x428861=_0x1238e6;madeChanges=!![];var _0x531320=window['pageXOffset']-canvas[_0x428861(0x241)],_0x402ee7=window[_0x428861(0x214)]-canvas[_0x428861(0x1ba)];_0x1f7184[_0x428861(0x20e)]();var _0x4ce438=_0x1f7184[_0x428861(0x1ee)]+_0x531320,_0x23b480=_0x1f7184['clientY']+_0x402ee7;removeElements(map,_0x4ce438,_0x23b480),removeElements(hitBoxes,_0x4ce438,_0x23b480),removeElements(camBoxes,_0x4ce438,_0x23b480);});function removeElements(_0x55e9a4,_0x4e68ac,_0x2e46d5){var _0x45f6df=_0x1238e6,_0x5ec9ab=[];for(let _0x1b198f=0x0;_0x1b198f<_0x55e9a4[_0x45f6df(0x1b8)];_0x1b198f++){_0x4e68ac>_0x55e9a4[_0x1b198f]['x']*cellSize&&_0x4e68ac<_0x55e9a4[_0x1b198f]['x']*cellSize+_0x55e9a4[_0x1b198f]['w']*cellSize&&(_0x2e46d5>_0x55e9a4[_0x1b198f]['y']*cellSize&&_0x2e46d5<_0x55e9a4[_0x1b198f]['y']*cellSize+_0x55e9a4[_0x1b198f]['h']*cellSize&&_0x5ec9ab[_0x45f6df(0x1c6)](_0x1b198f));}_0x5ec9ab[_0x45f6df(0x19d)](function(_0xe14ee,_0x5efdb4){return _0x5efdb4-_0xe14ee;});for(let _0x5675b5=0x0;_0x5675b5<_0x5ec9ab[_0x45f6df(0x1b8)];_0x5675b5++){_0x55e9a4[_0x45f6df(0x19c)](_0x5ec9ab[_0x5675b5],0x1);}}function download(_0x34ddcd,_0x2e683b){var _0x96c525=_0x1238e6;madeChanges=![];var _0x2f5eeb=new Blob([_0x2e683b],{'type':_0x96c525(0x1fd)});if(window[_0x96c525(0x1bf)][_0x96c525(0x1d7)])window[_0x96c525(0x1bf)][_0x96c525(0x1f1)](_0x2f5eeb,_0x34ddcd);else{var _0x2a1685=window['document'][_0x96c525(0x20c)]('a');_0x2a1685[_0x96c525(0x1a0)]=window['URL'][_0x96c525(0x23f)](_0x2f5eeb),_0x2a1685[_0x96c525(0x1b3)]=_0x34ddcd,document[_0x96c525(0x1d4)]['appendChild'](_0x2a1685),_0x2a1685['click'](),document['body'][_0x96c525(0x19a)](_0x2a1685);}}window[_0x1238e6(0x1b4)]('keydown',function(_0x5646e4){var _0x26b90a=_0x1238e6,_0x4e8f58=_0x5646e4[_0x26b90a(0x1c5)];switch(_0x4e8f58){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera['zoomIn']=!![];break;case 0x51:camera[_0x26b90a(0x1ca)]=!![];break;}}),window[_0x1238e6(0x1b4)]('keyup',function(_0xcd7e18){var _0x3fd116=_0x1238e6,_0x46a050=_0xcd7e18[_0x3fd116(0x1c5)];switch(_0x46a050){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x3fd116(0x23e)]=![];break;case 0x51:camera[_0x3fd116(0x1ca)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x36c602,_0x35bf95){var _0x905b0e=_0x1238e6;_0x36c602['clipboardData']==![]&&(typeof _0x35bf95==_0x905b0e(0x1ce)&&_0x35bf95(undefined));;var _0x4a0647=_0x36c602[_0x905b0e(0x203)][_0x905b0e(0x1d2)];_0x4a0647==undefined&&(typeof _0x35bf95=='function'&&_0x35bf95(undefined));;for(var _0x45d112=0x0;_0x45d112<_0x4a0647[_0x905b0e(0x1b8)];_0x45d112++){if(_0x4a0647[_0x45d112][_0x905b0e(0x22b)][_0x905b0e(0x1c1)](_0x905b0e(0x1f4))==-0x1)continue;var _0x3b63fd=_0x4a0647[_0x45d112][_0x905b0e(0x1b9)]();typeof _0x35bf95==_0x905b0e(0x1ce)&&_0x35bf95(_0x3b63fd);}}window[_0x1238e6(0x1b4)](_0x1238e6(0x1d0),function(_0x1735f){retrieveImageFromClipboardAsBlob(_0x1735f,function(_0x18cdf3){var _0x36cac6=_0x2f4c;if(_0x18cdf3){var _0x3d2370=new Image();_0x3d2370[_0x36cac6(0x1b2)]=function(){var _0x20b4c1=_0x36cac6;pastedImage=_0x3d2370,id(_0x20b4c1(0x221))['value']=pastedImage['width']/cellSize,cellQuantityW=pastedImage[_0x20b4c1(0x1e1)]/cellSize,id('mapSizeH')[_0x20b4c1(0x1ae)]=pastedImage['height']/cellSize,cellQuantityH=pastedImage['height']/cellSize,changeMapSize();};var _0x170db1=window[_0x36cac6(0x1f9)]||window[_0x36cac6(0x1de)];_0x3d2370['src']=_0x170db1['createObjectURL'](_0x18cdf3);}});},![]);