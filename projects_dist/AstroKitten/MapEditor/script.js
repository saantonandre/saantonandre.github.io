'use strict';var _0x263ccd=_0x1ca1;(function(_0x3b912a,_0x5f5570){var _0x5402f1=_0x1ca1,_0x5d5fab=_0x3b912a();while(!![]){try{var _0x2866b5=-parseInt(_0x5402f1(0x1ff))/0x1*(parseInt(_0x5402f1(0x22a))/0x2)+-parseInt(_0x5402f1(0x23e))/0x3+-parseInt(_0x5402f1(0x1c9))/0x4*(-parseInt(_0x5402f1(0x206))/0x5)+-parseInt(_0x5402f1(0x23b))/0x6+-parseInt(_0x5402f1(0x1f5))/0x7*(parseInt(_0x5402f1(0x24d))/0x8)+parseInt(_0x5402f1(0x1c3))/0x9*(-parseInt(_0x5402f1(0x1a8))/0xa)+-parseInt(_0x5402f1(0x1ce))/0xb*(-parseInt(_0x5402f1(0x222))/0xc);if(_0x2866b5===_0x5f5570)break;else _0x5d5fab['push'](_0x5d5fab['shift']());}catch(_0xca635f){_0x5d5fab['push'](_0x5d5fab['shift']());}}}(_0x5ab5,0x455d7));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x5aef25){var _0x8e4fe4=_0x1ca1,_0xea4217=(function(){var _0x4c5d96=!![];return function(_0x3d92d4,_0xa153dd){var _0x25148f=_0x4c5d96?function(){if(_0xa153dd){var _0x3d86b1=_0xa153dd['apply'](_0x3d92d4,arguments);return _0xa153dd=null,_0x3d86b1;}}:function(){};return _0x4c5d96=![],_0x25148f;};}()),_0x378a87=_0xea4217(this,function(){var _0x965589=_0x1ca1,_0x5cfc51;try{var _0x50c35b=Function(_0x965589(0x21d)+_0x965589(0x245)+');');_0x5cfc51=_0x50c35b();}catch(_0x200f6e){_0x5cfc51=window;}var _0xe746f4=new RegExp(_0x965589(0x1dc),'g'),_0x466878='saantqonDYandrCe.TgziQtXXhIumFb.Rio;lDojxTqcalyhAUoPswtFwTkwNxJMmYpXxwBkODRSvQUDvWQVSxpZMmwNxLRzCX'[_0x965589(0x250)](_0xe746f4,'')['split'](';'),_0x1938e7,_0x54545e,_0x2f58ab,_0xaa85f5,_0x3125d3=function(_0x1af88d,_0x5cee4d,_0x411cf0){var _0x5a444f=_0x965589;if(_0x1af88d[_0x5a444f(0x24e)]!=_0x5cee4d)return![];for(var _0xa213f1=0x0;_0xa213f1<_0x5cee4d;_0xa213f1++){for(var _0x4886a0=0x0;_0x4886a0<_0x411cf0[_0x5a444f(0x24e)];_0x4886a0+=0x2){if(_0xa213f1==_0x411cf0[_0x4886a0]&&_0x1af88d[_0x5a444f(0x243)](_0xa213f1)!=_0x411cf0[_0x4886a0+0x1])return![];}}return!![];},_0x440a8d=function(_0x733ac2,_0x1f5c6b,_0x2dfec9){return _0x3125d3(_0x1f5c6b,_0x2dfec9,_0x733ac2);},_0x3fc8bc=function(_0x31d4ae,_0x49e4f6,_0x18d709){return _0x440a8d(_0x49e4f6,_0x31d4ae,_0x18d709);},_0x47861c=function(_0x5cc78b,_0x24cf7f,_0x276558){return _0x3fc8bc(_0x24cf7f,_0x276558,_0x5cc78b);};for(var _0x4aabd2 in _0x5cfc51){if(_0x3125d3(_0x4aabd2,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1938e7=_0x4aabd2;break;}}for(var _0x3a0270 in _0x5cfc51[_0x1938e7]){if(_0x47861c(0x6,_0x3a0270,[0x5,0x6e,0x0,0x64])){_0x54545e=_0x3a0270;break;}}for(var _0xc29a56 in _0x5cfc51[_0x1938e7]){if(_0x3fc8bc(_0xc29a56,[0x7,0x6e,0x0,0x6c],0x8)){_0x2f58ab=_0xc29a56;break;}}if(!('~'>_0x54545e))for(var _0x388fda in _0x5cfc51[_0x1938e7][_0x2f58ab]){if(_0x440a8d([0x7,0x65,0x0,0x68],_0x388fda,0x8)){_0xaa85f5=_0x388fda;break;}}if(!_0x1938e7||!_0x5cfc51[_0x1938e7])return;var _0x157970=_0x5cfc51[_0x1938e7][_0x54545e],_0x187a0b=!!_0x5cfc51[_0x1938e7][_0x2f58ab]&&_0x5cfc51[_0x1938e7][_0x2f58ab][_0xaa85f5],_0x5a8666=_0x157970||_0x187a0b;if(!_0x5a8666)return;var _0x206896=![];for(var _0x2583a3=0x0;_0x2583a3<_0x466878[_0x965589(0x24e)];_0x2583a3++){var _0x54545e=_0x466878[_0x2583a3],_0x2dfe96=_0x54545e[0x0]===String['fromCharCode'](0x2e)?_0x54545e['slice'](0x1):_0x54545e,_0x18f310=_0x5a8666['length']-_0x2dfe96[_0x965589(0x24e)],_0x76e380=_0x5a8666['indexOf'](_0x2dfe96,_0x18f310),_0x42e4d5=_0x76e380!==-0x1&&_0x76e380===_0x18f310;_0x42e4d5&&((_0x5a8666['length']==_0x54545e['length']||_0x54545e['indexOf']('.')===0x0)&&(_0x206896=!![]));}if(!_0x206896){var _0x5bafa2=new RegExp(_0x965589(0x20f),'g'),_0x1584b9=_0x965589(0x1cd)[_0x965589(0x250)](_0x5bafa2,'');_0x5cfc51[_0x1938e7][_0x2f58ab]=_0x1584b9;}});return _0x378a87(),document[_0x8e4fe4(0x212)](_0x5aef25);}var canvas=id(_0x263ccd(0x1cc)),sheet=id(_0x263ccd(0x1b9)),c=canvas[_0x263ccd(0x1f3)]('2d');c['imageSmoothingEnabled']=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x263ccd(0x1cb)]=function(){addLevel();};function clearMap(){var _0x246804=_0x263ccd;map=[],mapObject['map']=[],mapObject[_0x246804(0x1fa)]=[],mapObject[_0x246804(0x21e)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x37deae=_0x263ccd;let _0x2b4a3f=document[_0x37deae(0x215)]('levels');for(let _0x5530bd=_0x2b4a3f['length']-0x1;_0x5530bd>=0x0;_0x5530bd--){_0x2b4a3f[_0x5530bd][_0x37deae(0x1c5)]['removeChild'](_0x2b4a3f[_0x5530bd]);}}id('saveButton')[_0x263ccd(0x1cb)]=saveImage;function saveImage(){var _0x6e56c8=_0x263ccd;canvas['toBlob'](_0x10d49a=>navigator['clipboard'][_0x6e56c8(0x205)]([new ClipboardItem({'image/png':_0x10d49a})]));}function addButton(){var _0x5dab72=_0x263ccd,_0x11de0d=document['createElement'](_0x5dab72(0x1d6));_0x11de0d[_0x5dab72(0x1ec)]=levels['length'],_0x11de0d[_0x5dab72(0x24a)]=levels['length'],_0x11de0d[_0x5dab72(0x1ea)]+=_0x5dab72(0x1bb),_0x11de0d[_0x5dab72(0x1ab)]=function(_0x2feac5){var _0x52e1d7=_0x5dab72;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0x52e1d7(0x1ec)],safeEval(JSON[_0x52e1d7(0x219)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id('cont3')[_0x5dab72(0x22d)](_0x11de0d),highlightCurrentLevel();}function addLevel(){var _0xa79193=_0x263ccd;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0xa79193(0x1d4)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0xa79193(0x219)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x263ccd(0x1db))[_0x263ccd(0x1c1)],cellQuantityH=id(_0x263ccd(0x23f))[_0x263ccd(0x1c1)],cellSize=0x10,fileName='mapCode',interactiveTile=0x0;canvas[_0x263ccd(0x213)]=cellQuantityW*cellSize,canvas['height']=cellQuantityH*cellSize,id(_0x263ccd(0x23c))[_0x263ccd(0x1cb)]=function(){var _0x1f922d=_0x263ccd;cellQuantityW=id(_0x1f922d(0x1db))[_0x1f922d(0x1c1)],changeMapSize();},id('mapSizeBtnH')[_0x263ccd(0x1cb)]=function(){var _0x4b680e=_0x263ccd;cellQuantityH=id(_0x4b680e(0x23f))[_0x4b680e(0x1c1)],changeMapSize();},window[_0x263ccd(0x239)]=function(){var _0x5620ba=_0x263ccd;for(let _0x1c7bc3=0x0;_0x1c7bc3<tiles['length'];_0x1c7bc3++){var _0x5cd03c=document['createElement']('canvas');_0x5cd03c['id']=_0x5620ba(0x1cc)+_0x1c7bc3,_0x5cd03c[_0x5620ba(0x213)]=0x20,_0x5cd03c[_0x5620ba(0x1bc)]=0x20,_0x5cd03c['number']=_0x1c7bc3,_0x5cd03c[_0x5620ba(0x1f3)]('2d')[_0x5620ba(0x1e8)]=![];_0x1c7bc3===0x0&&(_0x5cd03c[_0x5620ba(0x1ea)]+=_0x5620ba(0x20d));_0x5cd03c[_0x5620ba(0x1ea)]+=_0x5620ba(0x1aa),_0x5cd03c[_0x5620ba(0x1f3)]('2d')[_0x5620ba(0x1dd)](sheet,tiles[_0x1c7bc3][0x0]*0x10,tiles[_0x1c7bc3][0x1]*0x10,0x10,0x10,0x0,0x0,_0x5cd03c['width'],_0x5cd03c[_0x5620ba(0x1bc)]);var _0x26af63=document[_0x5620ba(0x1e1)](_0x5620ba(0x229))[0x0];id(_0x5620ba(0x1f8))[_0x5620ba(0x22d)](_0x5cd03c),id(_0x5620ba(0x1cc)+_0x1c7bc3)['onclick']=function(){var _0x181ebe=_0x5620ba;selectedType=this['number'];for(let _0x28c1ec=0x0;_0x28c1ec<tiles['length'];_0x28c1ec++){id('canvas'+_0x28c1ec)[_0x181ebe(0x20b)][_0x181ebe(0x247)](_0x181ebe(0x1b7));}this[_0x181ebe(0x1ea)]+=_0x181ebe(0x20d);};}loop();},id(_0x263ccd(0x228))['onclick']=function(){var _0x200dcc=_0x263ccd;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x526944=0x0;_0x526944<levels[_0x200dcc(0x24e)];_0x526944++){levelsArray[_0x200dcc(0x1d1)](JSON[_0x200dcc(0x219)](levels[_0x526944]));}var _0x25502c=window[_0x200dcc(0x1f9)](_0x200dcc(0x1ba));},id(_0x263ccd(0x1cf))['onclick']=function(){var _0x165122=_0x263ccd;interactiveTile?(interactiveTile=0x0,id(_0x165122(0x1cf))[_0x165122(0x227)][_0x165122(0x20e)]=_0x165122(0x1fd),id(_0x165122(0x1cf))['style'][_0x165122(0x21f)]='black'):(interactiveTile=0x1,id(_0x165122(0x1cf))[_0x165122(0x227)]['backgroundColor']=_0x165122(0x216),id('interactive')['style'][_0x165122(0x21f)]='white');};var hitBoxToggle=![];id(_0x263ccd(0x237))[_0x263ccd(0x1cb)]=function(){var _0x1e545d=_0x263ccd;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id('toggle')[_0x1e545d(0x24a)]=_0x1e545d(0x1e0);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id('toggle')[_0x1e545d(0x24a)]=_0x1e545d(0x1ee);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x1e545d(0x237))[_0x1e545d(0x24a)]=_0x1e545d(0x1d3));}};function _0x5ab5(){var _0x53af2e=['drawing:\x20hitboxes','offsetLeft','lineWidth','mousedown','onbeforeunload','getContext','navigator','389487sxsRyB','event','pointer','cont2','open','camBoxes','#0000cc','src','white','clipboardData','8812vvxKkv','pageYOffset','document','map','zoomOut','exportBox','write','18590olbkhj','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','keydown','zoomIn','#000000','classList','speed','\x20selected','backgroundColor','[xxpHOwiEWfDjBPIvqGXUTNdCVYrvKXdc]','split','keyup','getElementById','width','xRDiff','getElementsByClassName','black','strokeStyle','#002200','parse','keyCode','files','cursor','return\x20(function()\x20','spawnPoint','color','closePath','top','612iQzPFZ',',\x20h:\x20','yRDiff','offsetTop','onmousemove','style','test','body','108jatEoo','add','preventDefault','appendChild','function','clientY','clientX','map.json','mouseup','onmouseup','removeChild','stringify','left','toggle','zoomer','onload','webkitURL','618726JlKJEx','mapSizeBtnW','createElement','43266aoOXEv','mapSizeH','downloadBtn','all-scroll','innerWidth','charCodeAt',',\x20y:\x20','{}.constructor(\x22return\x20this\x22)(\x20)','file','remove','paste','contains','innerHTML','exportMap','name','24eGMvRT','length','clearRect','replace','exportText','#ffffff','pageXOffset','which','2782630rcrgLO','#ff0000','\x20tile','onmousedown','href','moveTo','items','beginPath','cont3','Discard\x20changes?','indexOf','deleteLvl','type','text','msSaveBlob','selected','readAsText','sheet','MapTester/index.html','\x20levels','height','click','getAsFile','lineTo','contextmenu','value','rect','9qhOLYD','createObjectURL','parentNode','moveMap','fillRect','sort','236OSqQEZ','spawn','onclick','canvas','axxbpouHtO:blwianEWkfDjBPIvqGXUTNdCVYrvKXdc','237974GEvBIP','interactive','info','push','mousemove','drawing:\x20camera','splice','block','button','download','msSaveOrOpenBlob','levels','fillStyle','mapSizeW','[qDYCTzQXXImFRDjxTqyAUPwFwTkwNxJMmYpXxwBkODRSvQUDvWQVSxpZMmwNxLRzCX]','drawImage','display','addEventListener','drawing:\x20displayed','getElementsByTagName','none','stroke','URL','cont','change','#5b6ee1','imageSmoothingEnabled','onchange','className','crosshair','number','innerHeight'];_0x5ab5=function(){return _0x53af2e;};return _0x5ab5();}var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x138747=_0x263ccd;c[_0x138747(0x24f)](0x0,0x0,canvas[_0x138747(0x213)],canvas['height']),pastedImage&&c[_0x138747(0x1dd)](pastedImage,0x0,0x0,pastedImage[_0x138747(0x213)],pastedImage[_0x138747(0x1bc)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x34741c=_0x263ccd;if(hitBoxToggle==0x1)c[_0x34741c(0x217)]=_0x34741c(0x1a9);else c[_0x34741c(0x217)]=_0x34741c(0x252);c[_0x34741c(0x1af)](),c['rect'](square['x'],square['y'],square['w'],square['h']),c[_0x34741c(0x220)](),c[_0x34741c(0x1e3)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x263ccd(0x1e5))),dragElement(id('cont2')),dragElement(id(_0x263ccd(0x1b0)));function dragElement(_0x1ea574){var _0xf07132=_0x263ccd,_0x29df58=0x0,_0x3bc842=0x0,_0x1120bf=0x0,_0x44d130=0x0;_0x1ea574[_0xf07132(0x1ab)]=_0x2026d0;function _0x2026d0(_0x15e786){var _0x4f8010=_0xf07132;_0x15e786=_0x15e786||window[_0x4f8010(0x1f6)],_0x1120bf=_0x15e786[_0x4f8010(0x230)],_0x44d130=_0x15e786[_0x4f8010(0x22f)],document[_0x4f8010(0x233)]=_0x3c1a98,document[_0x4f8010(0x226)]=_0x5e708d;}function _0x5e708d(_0x4b1211){var _0x21834d=_0xf07132;_0x4b1211=_0x4b1211||window[_0x21834d(0x1f6)],_0x4b1211[_0x21834d(0x22c)](),_0x29df58=_0x1120bf-_0x4b1211[_0x21834d(0x230)],_0x3bc842=_0x44d130-_0x4b1211[_0x21834d(0x22f)],_0x1120bf=_0x4b1211[_0x21834d(0x230)],_0x44d130=_0x4b1211['clientY'],_0x1ea574[_0x21834d(0x227)][_0x21834d(0x221)]=_0x1ea574[_0x21834d(0x225)]-_0x3bc842+'px',_0x1ea574[_0x21834d(0x227)][_0x21834d(0x236)]=_0x1ea574[_0x21834d(0x1ef)]-_0x29df58+'px';}function _0x3c1a98(){var _0x4e9872=_0xf07132;document[_0x4e9872(0x233)]=null,document[_0x4e9872(0x226)]=null;}}var mapCode='';id(_0x263ccd(0x24b))[_0x263ccd(0x1cb)]=function(){var _0x342628=_0x263ccd;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x436952=0x0;_0x436952<levels[_0x342628(0x24e)];_0x436952++){levelsArray[_0x342628(0x1d1)](JSON[_0x342628(0x219)](levels[_0x436952]));}id(_0x342628(0x204))[_0x342628(0x227)]['display']=_0x342628(0x1d5),id(_0x342628(0x251))[_0x342628(0x24a)]=JSON[_0x342628(0x235)](levelsArray);};function newMapExport(){return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON['stringify'](mapObject);};id('closeBtn')[_0x263ccd(0x1cb)]=function(){var _0x39c3e6=_0x263ccd;id(_0x39c3e6(0x204))[_0x39c3e6(0x227)][_0x39c3e6(0x1de)]=_0x39c3e6(0x1e2);},id(_0x263ccd(0x240))['onclick']=function(){var _0x30bd4d=_0x263ccd;download(_0x30bd4d(0x231),JSON[_0x30bd4d(0x235)](levelsArray));},id(_0x263ccd(0x246))[_0x263ccd(0x1e9)]=function(){var _0x3b819e=_0x263ccd;console['log']('importing...');let _0x515b9c=id(_0x3b819e(0x246))[_0x3b819e(0x21b)][0x0];fileName=id(_0x3b819e(0x246))[_0x3b819e(0x21b)][0x0][_0x3b819e(0x24c)][_0x3b819e(0x210)]('.')[0x0];let _0x291a13=new FileReader();_0x291a13[_0x3b819e(0x239)]=function(_0x49c295){var _0x391df1=_0x3b819e;let _0xf20f5b=_0x291a13['result'];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x391df1(0x219)](_0xf20f5b);for(let _0x1eb4ae=0x0;_0x1eb4ae<levelsArray['length'];_0x1eb4ae++){addButton(),levels[_0x1eb4ae]=JSON[_0x391df1(0x235)](levelsArray[_0x1eb4ae]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x291a13[_0x3b819e(0x1b8)](_0x515b9c);};function _0x1ca1(_0x4b0905,_0x48e05d){var _0x366c66=_0x5ab5();return _0x1ca1=function(_0x205003,_0xa20a7c){_0x205003=_0x205003-0x1a8;var _0x1f024f=_0x366c66[_0x205003];return _0x1f024f;},_0x1ca1(_0x4b0905,_0x48e05d);}function safeEval(_0x2afb71){var _0x449281=_0x263ccd;typeof _0x2afb71==='object'&&_0x2afb71!==null&&(map=_0x2afb71[_0x449281(0x202)],spawnPoint=_0x2afb71[_0x449281(0x21e)],camBoxes=_0x2afb71[_0x449281(0x1fa)]);}var baseWidth=id('mapSizeW')[_0x263ccd(0x1c1)],baseHeight=id(_0x263ccd(0x23f))['value'];function resizeMap(){var _0xabc5b6=_0x263ccd;let _0x9bd1d7=0x0,_0x286913=0x0;for(let _0x5b5d2a=0x0;_0x5b5d2a<map[_0xabc5b6(0x24e)];_0x5b5d2a++){map[_0x5b5d2a]['x']+map[_0x5b5d2a]['w']>_0x9bd1d7&&(_0x9bd1d7=map[_0x5b5d2a]['x']+map[_0x5b5d2a]['w']),map[_0x5b5d2a]['y']+map[_0x5b5d2a]['h']>_0x286913&&(_0x286913=map[_0x5b5d2a]['y']+map[_0x5b5d2a]['h']);}_0x286913<baseHeight&&(_0x286913=baseHeight),_0x9bd1d7<baseWidth&&(_0x9bd1d7=baseWidth),cellQuantityW=_0x9bd1d7,id(_0xabc5b6(0x1db))[_0xabc5b6(0x1c1)]=_0x9bd1d7,cellQuantityH=_0x286913,id('mapSizeH')[_0xabc5b6(0x1c1)]=_0x286913,changeMapSize();}function highlightCurrentLevel(){var _0x5cb3d4=_0x263ccd;let _0x15f8ca=document[_0x5cb3d4(0x215)](_0x5cb3d4(0x1d9));for(let _0x534b56=0x0;_0x534b56<_0x15f8ca['length'];_0x534b56++){if(_0x15f8ca[_0x534b56]['number']==currentLevel)!_0x15f8ca[_0x534b56][_0x5cb3d4(0x20b)][_0x5cb3d4(0x249)](_0x5cb3d4(0x1b7))&&_0x15f8ca[_0x534b56][_0x5cb3d4(0x20b)][_0x5cb3d4(0x22b)](_0x5cb3d4(0x1b7));else _0x15f8ca[_0x534b56]['classList'][_0x5cb3d4(0x249)]('selected')&&_0x15f8ca[_0x534b56][_0x5cb3d4(0x20b)][_0x5cb3d4(0x247)](_0x5cb3d4(0x1b7));}}function cameraMove(){var _0x301f80=_0x263ccd;camera['L']&&(sX-=camera[_0x301f80(0x20c)]);camera['R']&&(sX+=camera[_0x301f80(0x20c)]);camera['T']&&(sY-=camera[_0x301f80(0x20c)]);camera['B']&&(sY+=camera[_0x301f80(0x20c)]);sX<0x0&&(sX=0x0);sX>canvas[_0x301f80(0x213)]-window[_0x301f80(0x242)]&&(sX=canvas['width']-window[_0x301f80(0x242)]);sY<0x0&&(sY=0x0);sY>canvas[_0x301f80(0x1bc)]-window[_0x301f80(0x1ed)]&&(sY=canvas['height']-window[_0x301f80(0x1ed)]);if(camera[_0x301f80(0x203)])id(_0x301f80(0x238))['value']--,zoomChange();else camera[_0x301f80(0x209)]&&(id('zoomer')[_0x301f80(0x1c1)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x8c30a1=_0x263ccd;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x8c30a1(0x209)]||camera[_0x8c30a1(0x203)])&&cameraMove();c['globalAlpha']=0x1;for(let _0x109c38=0x0;_0x109c38<map[_0x8c30a1(0x24e)];_0x109c38++){if(map[_0x109c38][_0x8c30a1(0x1b4)]>0x33)for(let _0x25b28f=0x0;_0x25b28f<map[_0x109c38]['h'];_0x25b28f++){for(let _0x4cf4a0=0x0;_0x4cf4a0<map[_0x109c38]['w'];_0x4cf4a0++){c['drawImage'](id(_0x8c30a1(0x1b9)),tiles[map[_0x109c38][_0x8c30a1(0x1b4)]][0x0]*0x10,tiles[map[_0x109c38]['type']][0x1]*0x10,0x10,0x10,(map[_0x109c38]['x']+_0x4cf4a0)*cellSize,(map[_0x109c38]['y']+_0x25b28f)*cellSize,cellSize,cellSize);}}}for(let _0x4b8f94=0x0;_0x4b8f94<map['length'];_0x4b8f94++){if(map[_0x4b8f94]['type']<=0x33)for(let _0x1edd31=0x0;_0x1edd31<map[_0x4b8f94]['h'];_0x1edd31++){for(let _0xd44dfb=0x0;_0xd44dfb<map[_0x4b8f94]['w'];_0xd44dfb++){c[_0x8c30a1(0x1dd)](id(_0x8c30a1(0x1b9)),tiles[map[_0x4b8f94][_0x8c30a1(0x1b4)]][0x0]*0x10,tiles[map[_0x4b8f94]['type']][0x1]*0x10,0x10,0x10,(map[_0x4b8f94]['x']+_0xd44dfb)*cellSize,(map[_0x4b8f94]['y']+_0x1edd31)*cellSize,cellSize,cellSize);}}}for(let _0xf52c64=0x0;_0xf52c64<hitBoxes[_0x8c30a1(0x24e)];_0xf52c64++){c[_0x8c30a1(0x1da)]=_0x8c30a1(0x20a),c['fillRect'](hitBoxes[_0xf52c64]['x']*cellSize,hitBoxes[_0xf52c64]['y']*cellSize,hitBoxes[_0xf52c64]['w']*cellSize,hitBoxes[_0xf52c64]['h']*cellSize);}c['globalAlpha']=0x1;for(let _0x52e0d4=0x0;_0x52e0d4<camBoxes[_0x8c30a1(0x24e)];_0x52e0d4++){c[_0x8c30a1(0x217)]=_0x8c30a1(0x218),c[_0x8c30a1(0x1af)](),c[_0x8c30a1(0x1c2)](camBoxes[_0x52e0d4]['x']*cellSize,camBoxes[_0x52e0d4]['y']*cellSize,camBoxes[_0x52e0d4]['w']*cellSize,camBoxes[_0x52e0d4]['h']*cellSize),c[_0x8c30a1(0x220)](),c[_0x8c30a1(0x1e3)]();}c[_0x8c30a1(0x1da)]=_0x8c30a1(0x1e7),c[_0x8c30a1(0x1c7)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x1bafae=_0x263ccd;c[_0x1bafae(0x1f0)]=0.1,c[_0x1bafae(0x217)]=_0x1bafae(0x252);for(let _0x42015d=0x0;_0x42015d<canvas['width'];_0x42015d+=cellSize){c['beginPath'](),c['moveTo'](_0x42015d,0x0),c[_0x1bafae(0x1bf)](_0x42015d,canvas[_0x1bafae(0x1bc)]),c['closePath'](),c[_0x1bafae(0x1e3)]();}for(let _0x53be4b=0x0;_0x53be4b<canvas[_0x1bafae(0x1bc)];_0x53be4b+=cellSize){c[_0x1bafae(0x1af)](),c[_0x1bafae(0x1ad)](0x0,_0x53be4b),c[_0x1bafae(0x1bf)](canvas[_0x1bafae(0x213)],_0x53be4b),c[_0x1bafae(0x220)](),c[_0x1bafae(0x1e3)]();}c[_0x1bafae(0x1f0)]=0x1;}var definingSpawnpoint=![];id(_0x263ccd(0x1ca))[_0x263ccd(0x1cb)]=function(){var _0x4b6b4b=_0x263ccd;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x4b6b4b(0x1ca))[_0x4b6b4b(0x227)][_0x4b6b4b(0x21f)]=_0x4b6b4b(0x20a),id('canvas')[_0x4b6b4b(0x227)]['cursor']=_0x4b6b4b(0x1eb),canvas['onclick']=null;return;}definingSpawnpoint=!![],id('spawn')[_0x4b6b4b(0x227)]['color']=_0x4b6b4b(0x1fb),id(_0x4b6b4b(0x1cc))[_0x4b6b4b(0x227)][_0x4b6b4b(0x21c)]=_0x4b6b4b(0x1f7),canvas['onclick']=()=>{var _0x4755dd=_0x4b6b4b;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x4755dd(0x1ca))[_0x4755dd(0x227)][_0x4755dd(0x21f)]=_0x4755dd(0x20a),id(_0x4755dd(0x1cc))['style'][_0x4755dd(0x21c)]='crosshair',canvas[_0x4755dd(0x1cb)]=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id(_0x263ccd(0x1c6))[_0x263ccd(0x1cb)]=function(){var _0xfe1dc2=_0x263ccd;if(movingMap){movingMap=![],id(_0xfe1dc2(0x1c6))['style']['color']=_0xfe1dc2(0x20a),id('canvas')['style'][_0xfe1dc2(0x21c)]='crosshair';return;}movingMap=!![],id('moveMap')[_0xfe1dc2(0x227)][_0xfe1dc2(0x21f)]=_0xfe1dc2(0x1fb),id('canvas')[_0xfe1dc2(0x227)][_0xfe1dc2(0x21c)]=_0xfe1dc2(0x241),canvas[_0xfe1dc2(0x1df)](_0xfe1dc2(0x1d2),function(){var _0x4e2836=_0xfe1dc2;if(!movingMap||!mouseDown)return;let _0x597797=square['w']/cellSize-movingVariables['xRDiff'],_0x1b1509=square['h']/cellSize-movingVariables[_0x4e2836(0x224)];(_0x597797!==0x0||_0x1b1509!==0x0)&&(moveEverything(_0x597797,_0x1b1509),movingVariables['xRDiff']+=_0x597797,movingVariables['yRDiff']+=_0x1b1509);}),canvas[_0xfe1dc2(0x1df)](_0xfe1dc2(0x232),function(){var _0x3f75ac=_0xfe1dc2;if(!movingMap)return;movingVariables[_0x3f75ac(0x214)]=0x0,movingVariables[_0x3f75ac(0x224)]=0x0;});};function moveEverything(_0x27433c,_0x47bfa2){var _0x3579e8=_0x263ccd;if(_0x27433c==0x0&&_0x47bfa2==0x0)return;for(let _0x520787=0x0;_0x520787<map[_0x3579e8(0x24e)];_0x520787++){map[_0x520787]['x']+=_0x27433c,map[_0x520787]['y']+=_0x47bfa2;}for(let _0x5b8f54=0x0;_0x5b8f54<hitBoxes['length'];_0x5b8f54++){hitBoxes[_0x5b8f54]['x']+=_0x27433c,hitBoxes[_0x5b8f54]['y']+=_0x47bfa2;}for(let _0x2dffe7=0x0;_0x2dffe7<camBoxes['length'];_0x2dffe7++){camBoxes[_0x2dffe7]['x']+=_0x27433c,camBoxes[_0x2dffe7]['y']+=_0x47bfa2;}spawnPoint['x']+=_0x27433c,spawnPoint['y']+=_0x47bfa2;}function infoText(){var _0x4f58fb=_0x263ccd,_0x4b7e70=square['x']/cellSize,_0x4d1899=square['y']/cellSize;_0x4b7e70>-0x1&&_0x4b7e70<0x1&&(_0x4b7e70=0x0),_0x4d1899>-0x1&&_0x4d1899<0x1&&(_0x4d1899=0x0),id('info')[_0x4f58fb(0x24a)]='x:\x20'+_0x4b7e70+_0x4f58fb(0x244)+_0x4d1899+'<br>\x20w:\x20'+square['w']/cellSize+_0x4f58fb(0x223)+square['h']/cellSize;}var mouseDown=![];canvas['addEventListener'](_0x263ccd(0x1f1),function(_0x49225c){var _0x4995da=_0x263ccd;mouseDown=!![];var _0x473d9c=window['pageXOffset']-canvas[_0x4995da(0x1ef)],_0x5932f8=window['pageYOffset']-canvas['offsetTop'];id(_0x4995da(0x1d0))['style']['display']=_0x4995da(0x1d5),id('info')[_0x4995da(0x227)][_0x4995da(0x236)]=_0x49225c[_0x4995da(0x230)]+0x1e+'px',id(_0x4995da(0x1d0))[_0x4995da(0x227)][_0x4995da(0x221)]=_0x49225c[_0x4995da(0x22f)]-0x1e+'px',square['x']=round(_0x49225c[_0x4995da(0x230)]+_0x473d9c)*cellSize,square['y']=round(_0x49225c[_0x4995da(0x22f)]+_0x5932f8)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x263ccd(0x1df)](_0x263ccd(0x1d2),function(_0x2ae855){var _0x44b488=_0x263ccd,_0x57b014=window[_0x44b488(0x253)]-canvas['offsetLeft'],_0x31ca4c=window[_0x44b488(0x200)]-canvas[_0x44b488(0x225)];mouseDown&&(id(_0x44b488(0x1d0))['style'][_0x44b488(0x1de)]=_0x44b488(0x1d5),id(_0x44b488(0x1d0))['style']['left']=_0x2ae855[_0x44b488(0x230)]+0x1e+'px',id(_0x44b488(0x1d0))[_0x44b488(0x227)][_0x44b488(0x221)]=_0x2ae855[_0x44b488(0x22f)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x2ae855[_0x44b488(0x230)]+_0x57b014-square['x'])*cellSize,square['h']=round(_0x2ae855[_0x44b488(0x22f)]+_0x31ca4c-square['y'])*cellSize);}),canvas['addEventListener'](_0x263ccd(0x232),function(_0x2280a7){var _0x27b522=_0x263ccd;id('info')['style'][_0x27b522(0x1de)]=_0x27b522(0x1e2),mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x2280a7[_0x27b522(0x254)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x27b522(0x1d1)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x78dbab=prompt(_0x27b522(0x207),'');hitBoxes[hitBoxes[_0x27b522(0x24e)]-0x1][_0x27b522(0x1b5)]=_0x78dbab;}}else{if(hitBoxToggle==0x0){map[_0x27b522(0x1d1)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x78dbab=prompt(_0x27b522(0x207),'');map[map[_0x27b522(0x24e)]-0x1]['text']=_0x78dbab;}}else{if(hitBoxToggle==0x2){var _0x5d5a5d=parseInt(prompt('type\x20of\x20camera',''));camBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x5d5a5d});}}}}}),id('zoomer')[_0x263ccd(0x1df)](_0x263ccd(0x1e6),zoomChange),id(_0x263ccd(0x1b3))[_0x263ccd(0x1df)](_0x263ccd(0x1bd),deleteLevel);function deleteLevel(){var _0x19b7a2=_0x263ccd;madeChanges=!![];if(levels[_0x19b7a2(0x24e)]==0x1){clearMap();return;}removeButton(),levels[_0x19b7a2(0x1d4)](currentLevel,0x1),clearMap(),currentLevel=levels[_0x19b7a2(0x24e)]-0x1,safeEval(JSON['parse'](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x15fb13=_0x263ccd;let _0x136210={'number':0x0},_0x3d718d=document['getElementsByClassName'](_0x15fb13(0x1d9));for(let _0x5c2d14=0x0;_0x5c2d14<_0x3d718d[_0x15fb13(0x24e)];_0x5c2d14++){_0x3d718d[_0x5c2d14][_0x15fb13(0x1ec)]>=_0x136210[_0x15fb13(0x1ec)]&&(_0x136210=_0x3d718d[_0x5c2d14]);}_0x136210['parentNode'][_0x15fb13(0x234)](_0x136210);}function zoomChange(){var _0x4cb413=_0x263ccd;cellSize=parseInt(id(_0x4cb413(0x238))[_0x4cb413(0x1c1)]),changeMapSize();}function changeMapSize(){var _0x450210=_0x263ccd;canvas['width']=cellQuantityW*cellSize,canvas[_0x450210(0x1bc)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x4406e1){var _0x1eb115=parseInt(_0x4406e1),_0x466b60=_0x1eb115%cellSize;if(_0x466b60!==0x0){if(_0x466b60>cellSize/0x2)_0x1eb115=_0x1eb115-_0x466b60+cellSize;else _0x1eb115=_0x1eb115-_0x466b60;}return _0x1eb115/cellSize>0x0&&_0x1eb115/cellSize<0x1?0x0:_0x1eb115/cellSize;}function enableBeforeUnload(){window['onbeforeunload']=function(_0x42c6c2){var _0x384e2b=_0x1ca1;if(madeChanges)return _0x384e2b(0x1b1);};}function disableBeforeUnload(){var _0x1c175f=_0x263ccd;window[_0x1c175f(0x1f2)]=null;}enableBeforeUnload(),document[_0x263ccd(0x1df)](_0x263ccd(0x1c0),function(_0x58de85){var _0x176593=_0x263ccd;madeChanges=!![];var _0x55994b=window[_0x176593(0x253)]-canvas['offsetLeft'],_0x525545=window[_0x176593(0x200)]-canvas['offsetTop'];_0x58de85[_0x176593(0x22c)]();var _0x13880a=_0x58de85[_0x176593(0x230)]+_0x55994b,_0x226b60=_0x58de85['clientY']+_0x525545;removeElements(map,_0x13880a,_0x226b60),removeElements(hitBoxes,_0x13880a,_0x226b60),removeElements(camBoxes,_0x13880a,_0x226b60);});function removeElements(_0x5e8775,_0x499cd9,_0x5059bc){var _0x5b39d2=_0x263ccd,_0x3cd2c9=[];for(let _0x2cc1fd=0x0;_0x2cc1fd<_0x5e8775[_0x5b39d2(0x24e)];_0x2cc1fd++){_0x499cd9>_0x5e8775[_0x2cc1fd]['x']*cellSize&&_0x499cd9<_0x5e8775[_0x2cc1fd]['x']*cellSize+_0x5e8775[_0x2cc1fd]['w']*cellSize&&(_0x5059bc>_0x5e8775[_0x2cc1fd]['y']*cellSize&&_0x5059bc<_0x5e8775[_0x2cc1fd]['y']*cellSize+_0x5e8775[_0x2cc1fd]['h']*cellSize&&_0x3cd2c9[_0x5b39d2(0x1d1)](_0x2cc1fd));}_0x3cd2c9[_0x5b39d2(0x1c8)](function(_0x3ee1bd,_0xac7e38){return _0xac7e38-_0x3ee1bd;});for(let _0x5c95ce=0x0;_0x5c95ce<_0x3cd2c9[_0x5b39d2(0x24e)];_0x5c95ce++){_0x5e8775[_0x5b39d2(0x1d4)](_0x3cd2c9[_0x5c95ce],0x1);}}function download(_0x533f48,_0x2409c1){var _0x5009ab=_0x263ccd;madeChanges=![];var _0x56044c=new Blob([_0x2409c1],{'type':'text/csv'});if(window[_0x5009ab(0x1f4)][_0x5009ab(0x1d8)])window[_0x5009ab(0x1f4)][_0x5009ab(0x1b6)](_0x56044c,_0x533f48);else{var _0x240c8e=window[_0x5009ab(0x201)][_0x5009ab(0x23d)]('a');_0x240c8e[_0x5009ab(0x1ac)]=window[_0x5009ab(0x1e4)][_0x5009ab(0x1c4)](_0x56044c),_0x240c8e[_0x5009ab(0x1d7)]=_0x533f48,document[_0x5009ab(0x229)]['appendChild'](_0x240c8e),_0x240c8e['click'](),document[_0x5009ab(0x229)][_0x5009ab(0x234)](_0x240c8e);}}window[_0x263ccd(0x1df)](_0x263ccd(0x208),function(_0x1ea6eb){var _0x199239=_0x263ccd,_0x23ddb3=_0x1ea6eb[_0x199239(0x21a)];switch(_0x23ddb3){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x199239(0x209)]=!![];break;case 0x51:camera['zoomOut']=!![];break;}}),window[_0x263ccd(0x1df)](_0x263ccd(0x211),function(_0x243cd4){var _0x5e1b50=_0x263ccd,_0x9b64ce=_0x243cd4[_0x5e1b50(0x21a)];switch(_0x9b64ce){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x5e1b50(0x209)]=![];break;case 0x51:camera['zoomOut']=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x19c121,_0x351563){var _0x3b97be=_0x263ccd;_0x19c121[_0x3b97be(0x1fe)]==![]&&(typeof _0x351563=='function'&&_0x351563(undefined));;var _0x3a7814=_0x19c121[_0x3b97be(0x1fe)][_0x3b97be(0x1ae)];_0x3a7814==undefined&&(typeof _0x351563==_0x3b97be(0x22e)&&_0x351563(undefined));;for(var _0x56e6e2=0x0;_0x56e6e2<_0x3a7814['length'];_0x56e6e2++){if(_0x3a7814[_0x56e6e2]['type'][_0x3b97be(0x1b2)]('image')==-0x1)continue;var _0x139129=_0x3a7814[_0x56e6e2][_0x3b97be(0x1be)]();typeof _0x351563=='function'&&_0x351563(_0x139129);}}window[_0x263ccd(0x1df)](_0x263ccd(0x248),function(_0x5d4942){retrieveImageFromClipboardAsBlob(_0x5d4942,function(_0x1147dd){var _0x370925=_0x1ca1;if(_0x1147dd){var _0x2ab769=new Image();_0x2ab769[_0x370925(0x239)]=function(){var _0x5ac1f5=_0x370925;pastedImage=_0x2ab769,id(_0x5ac1f5(0x1db))['value']=pastedImage[_0x5ac1f5(0x213)]/cellSize,cellQuantityW=pastedImage['width']/cellSize,id('mapSizeH')[_0x5ac1f5(0x1c1)]=pastedImage[_0x5ac1f5(0x1bc)]/cellSize,cellQuantityH=pastedImage[_0x5ac1f5(0x1bc)]/cellSize,changeMapSize();};var _0x189c83=window['URL']||window[_0x370925(0x23a)];_0x2ab769[_0x370925(0x1fc)]=_0x189c83[_0x370925(0x1c4)](_0x1147dd);}});},![]);