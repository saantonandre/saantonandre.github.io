'use strict';var _0x3e3910=_0x5b75;(function(_0x2367cc,_0x184f92){var _0x248559=_0x5b75,_0x2b4f5e=_0x2367cc();while(!![]){try{var _0x21fd7b=-parseInt(_0x248559(0x1fd))/0x1+parseInt(_0x248559(0x208))/0x2*(-parseInt(_0x248559(0x228))/0x3)+-parseInt(_0x248559(0x240))/0x4*(-parseInt(_0x248559(0x26d))/0x5)+-parseInt(_0x248559(0x24b))/0x6+-parseInt(_0x248559(0x21b))/0x7+-parseInt(_0x248559(0x225))/0x8*(-parseInt(_0x248559(0x22b))/0x9)+parseInt(_0x248559(0x24d))/0xa;if(_0x21fd7b===_0x184f92)break;else _0x2b4f5e['push'](_0x2b4f5e['shift']());}catch(_0x23308a){_0x2b4f5e['push'](_0x2b4f5e['shift']());}}}(_0x51b9,0xb1a6b));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function _0x5b75(_0x25f359,_0x23e474){var _0x34e550=_0x51b9();return _0x5b75=function(_0x55c7d2,_0x30f75e){_0x55c7d2=_0x55c7d2-0x1e9;var _0x3bf8cf=_0x34e550[_0x55c7d2];return _0x3bf8cf;},_0x5b75(_0x25f359,_0x23e474);}function id(_0x34d5cf){var _0x181d0f=_0x5b75,_0x19b3d1=(function(){var _0x14292d=!![];return function(_0xbd787,_0x46ff38){var _0x1c356c=_0x14292d?function(){var _0x1150e0=_0x5b75;if(_0x46ff38){var _0xa16658=_0x46ff38[_0x1150e0(0x216)](_0xbd787,arguments);return _0x46ff38=null,_0xa16658;}}:function(){};return _0x14292d=![],_0x1c356c;};}()),_0x2b0cac=_0x19b3d1(this,function(){var _0x24ac99=_0x5b75,_0x3365fc=function(){var _0x9d8ab3;try{_0x9d8ab3=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1e04be){_0x9d8ab3=window;}return _0x9d8ab3;},_0x4eb661=_0x3365fc(),_0x17f3ed=new RegExp('[GPVkARAUIxyPNBXqvxxpXEWXGOWLXFAKAjxzpFzyDLVpTXJqSkCzQjwzSLXUGkTCDAwNHD]','g'),_0xe69985=_0x24ac99(0x241)[_0x24ac99(0x224)](_0x17f3ed,'')[_0x24ac99(0x232)](';'),_0xb43534,_0x39c130,_0x2406ec,_0x3735fb,_0x195076=function(_0x13f15b,_0x65c614,_0x3d4b09){var _0x2f98c1=_0x24ac99;if(_0x13f15b[_0x2f98c1(0x285)]!=_0x65c614)return![];for(var _0x716a3a=0x0;_0x716a3a<_0x65c614;_0x716a3a++){for(var _0x511550=0x0;_0x511550<_0x3d4b09[_0x2f98c1(0x285)];_0x511550+=0x2){if(_0x716a3a==_0x3d4b09[_0x511550]&&_0x13f15b[_0x2f98c1(0x282)](_0x716a3a)!=_0x3d4b09[_0x511550+0x1])return![];}}return!![];},_0x533e87=function(_0x197ab9,_0x268273,_0x47f650){return _0x195076(_0x268273,_0x47f650,_0x197ab9);},_0x1da4f1=function(_0x1ed8ba,_0x243c80,_0x42342e){return _0x533e87(_0x243c80,_0x1ed8ba,_0x42342e);},_0x39ad64=function(_0x19d621,_0x2d7df8,_0x3458cf){return _0x1da4f1(_0x2d7df8,_0x3458cf,_0x19d621);};for(var _0x370dd3 in _0x4eb661){if(_0x195076(_0x370dd3,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xb43534=_0x370dd3;break;}}for(var _0x32d4f4 in _0x4eb661[_0xb43534]){if(_0x39ad64(0x6,_0x32d4f4,[0x5,0x6e,0x0,0x64])){_0x39c130=_0x32d4f4;break;}}for(var _0x489bad in _0x4eb661[_0xb43534]){if(_0x1da4f1(_0x489bad,[0x7,0x6e,0x0,0x6c],0x8)){_0x2406ec=_0x489bad;break;}}if(!('~'>_0x39c130))for(var _0xeab49f in _0x4eb661[_0xb43534][_0x2406ec]){if(_0x533e87([0x7,0x65,0x0,0x68],_0xeab49f,0x8)){_0x3735fb=_0xeab49f;break;}}if(!_0xb43534||!_0x4eb661[_0xb43534])return;var _0x23f8fa=_0x4eb661[_0xb43534][_0x39c130],_0x361a89=!!_0x4eb661[_0xb43534][_0x2406ec]&&_0x4eb661[_0xb43534][_0x2406ec][_0x3735fb],_0x2fb09d=_0x23f8fa||_0x361a89;if(!_0x2fb09d)return;var _0x3e6405=![];for(var _0x3f1c71=0x0;_0x3f1c71<_0xe69985['length'];_0x3f1c71++){var _0x39c130=_0xe69985[_0x3f1c71],_0x2d70fc=_0x39c130[0x0]===String['fromCharCode'](0x2e)?_0x39c130[_0x24ac99(0x204)](0x1):_0x39c130,_0x33774e=_0x2fb09d[_0x24ac99(0x285)]-_0x2d70fc[_0x24ac99(0x285)],_0x1af571=_0x2fb09d[_0x24ac99(0x1fa)](_0x2d70fc,_0x33774e),_0x35f983=_0x1af571!==-0x1&&_0x1af571===_0x33774e;_0x35f983&&((_0x2fb09d['length']==_0x39c130[_0x24ac99(0x285)]||_0x39c130[_0x24ac99(0x1fa)]('.')===0x0)&&(_0x3e6405=!![]));}if(!_0x3e6405){var _0x32a869=new RegExp('[jEWqAEOCERCHfdyNPTwxxjpeyRQXm]','g'),_0x453b97=_0x24ac99(0x1fb)[_0x24ac99(0x224)](_0x32a869,'');_0x4eb661[_0xb43534][_0x2406ec]=_0x453b97;}});return _0x2b0cac(),document[_0x181d0f(0x219)](_0x34d5cf);}var canvas=id(_0x3e3910(0x253)),sheet=id(_0x3e3910(0x229)),c=canvas[_0x3e3910(0x27e)]('2d');c[_0x3e3910(0x20b)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x3e3910(0x1fc)]=function(){addLevel();};function clearMap(){var _0x17894b=_0x3e3910;map=[],mapObject[_0x17894b(0x1fe)]=[],mapObject[_0x17894b(0x28a)]=[],mapObject[_0x17894b(0x223)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x276fd1=_0x3e3910;let _0x3a3580=document[_0x276fd1(0x20d)](_0x276fd1(0x279));for(let _0x913ab8=_0x3a3580[_0x276fd1(0x285)]-0x1;_0x913ab8>=0x0;_0x913ab8--){_0x3a3580[_0x913ab8][_0x276fd1(0x21f)][_0x276fd1(0x1f3)](_0x3a3580[_0x913ab8]);}}id(_0x3e3910(0x255))[_0x3e3910(0x1fc)]=saveImage;function saveImage(){canvas['toBlob'](_0x2db940=>navigator['clipboard']['write']([new ClipboardItem({'image/png':_0x2db940})]));}function addButton(){var _0x1ded9c=_0x3e3910,_0x2a175e=document['createElement'](_0x1ded9c(0x274));_0x2a175e[_0x1ded9c(0x236)]=levels['length'],_0x2a175e[_0x1ded9c(0x24c)]=levels[_0x1ded9c(0x285)],_0x2a175e['className']+=_0x1ded9c(0x207),_0x2a175e[_0x1ded9c(0x27d)]=function(_0x2f68de){var _0x1ee002=_0x1ded9c;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0x1ee002(0x236)],safeEval(JSON[_0x1ee002(0x212)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0x1ded9c(0x252))[_0x1ded9c(0x217)](_0x2a175e),highlightCurrentLevel();}function addLevel(){var _0xe8c885=_0x3e3910;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0xe8c885(0x1f1)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0xe8c885(0x212)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x3e3910(0x267))['value'],cellQuantityH=id(_0x3e3910(0x23d))[_0x3e3910(0x287)],cellSize=0x10,fileName='mapCode',interactiveTile=0x0;canvas['width']=cellQuantityW*cellSize,canvas[_0x3e3910(0x21d)]=cellQuantityH*cellSize,id(_0x3e3910(0x235))[_0x3e3910(0x1fc)]=function(){var _0x1d249d=_0x3e3910;cellQuantityW=id('mapSizeW')[_0x1d249d(0x287)],changeMapSize();},id(_0x3e3910(0x260))[_0x3e3910(0x1fc)]=function(){var _0x5744b1=_0x3e3910;cellQuantityH=id('mapSizeH')[_0x5744b1(0x287)],changeMapSize();},window[_0x3e3910(0x218)]=function(){var _0xd3f7d4=_0x3e3910;for(let _0x4d5dcb=0x0;_0x4d5dcb<tiles[_0xd3f7d4(0x285)];_0x4d5dcb++){var _0x225e3b=document['createElement']('canvas');_0x225e3b['id']='canvas'+_0x4d5dcb,_0x225e3b['width']=0x20,_0x225e3b[_0xd3f7d4(0x21d)]=0x20,_0x225e3b[_0xd3f7d4(0x236)]=_0x4d5dcb,_0x225e3b[_0xd3f7d4(0x27e)]('2d')[_0xd3f7d4(0x20b)]=![];_0x4d5dcb===0x0&&(_0x225e3b[_0xd3f7d4(0x28c)]+='\x20selected');_0x225e3b[_0xd3f7d4(0x28c)]+=_0xd3f7d4(0x288),_0x225e3b[_0xd3f7d4(0x27e)]('2d')[_0xd3f7d4(0x25e)](sheet,tiles[_0x4d5dcb][0x0]*0x10,tiles[_0x4d5dcb][0x1]*0x10,0x10,0x10,0x0,0x0,_0x225e3b[_0xd3f7d4(0x26c)],_0x225e3b[_0xd3f7d4(0x21d)]);var _0xeb140f=document['getElementsByTagName'](_0xd3f7d4(0x25d))[0x0];id(_0xd3f7d4(0x1f4))['appendChild'](_0x225e3b),id(_0xd3f7d4(0x253)+_0x4d5dcb)[_0xd3f7d4(0x1fc)]=function(){var _0x3bbc0d=_0xd3f7d4;selectedType=this[_0x3bbc0d(0x236)];for(let _0x3365b5=0x0;_0x3365b5<tiles[_0x3bbc0d(0x285)];_0x3365b5++){id(_0x3bbc0d(0x253)+_0x3365b5)['classList'][_0x3bbc0d(0x264)]('selected');}this[_0x3bbc0d(0x28c)]+=_0x3bbc0d(0x250);};}loop();},id(_0x3e3910(0x238))['onclick']=function(){var _0x4ed73b=_0x3e3910;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x241544=0x0;_0x241544<levels[_0x4ed73b(0x285)];_0x241544++){levelsArray[_0x4ed73b(0x271)](JSON[_0x4ed73b(0x212)](levels[_0x241544]));}var _0x163afe=window[_0x4ed73b(0x292)](_0x4ed73b(0x277));},id(_0x3e3910(0x1e9))['onclick']=function(){var _0x2e5ae4=_0x3e3910;interactiveTile?(interactiveTile=0x0,id(_0x2e5ae4(0x1e9))[_0x2e5ae4(0x246)][_0x2e5ae4(0x214)]=_0x2e5ae4(0x231),id('interactive')[_0x2e5ae4(0x246)]['color']=_0x2e5ae4(0x1f9)):(interactiveTile=0x1,id(_0x2e5ae4(0x1e9))[_0x2e5ae4(0x246)][_0x2e5ae4(0x214)]='black',id('interactive')[_0x2e5ae4(0x246)][_0x2e5ae4(0x265)]='white');};var hitBoxToggle=![];id(_0x3e3910(0x27a))[_0x3e3910(0x1fc)]=function(){var _0x5e3598=_0x3e3910;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id('toggle')[_0x5e3598(0x24c)]=_0x5e3598(0x22a);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x5e3598(0x27a))[_0x5e3598(0x24c)]=_0x5e3598(0x210);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x5e3598(0x27a))[_0x5e3598(0x24c)]=_0x5e3598(0x22c));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x54b570=_0x3e3910;c[_0x54b570(0x290)](0x0,0x0,canvas[_0x54b570(0x26c)],canvas[_0x54b570(0x21d)]),pastedImage&&c[_0x54b570(0x25e)](pastedImage,0x0,0x0,pastedImage[_0x54b570(0x26c)],pastedImage[_0x54b570(0x21d)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x3bc8f8=_0x3e3910;if(hitBoxToggle==0x1)c[_0x3bc8f8(0x286)]=_0x3bc8f8(0x257);else c['strokeStyle']='#ffffff';c[_0x3bc8f8(0x263)](),c[_0x3bc8f8(0x25f)](square['x'],square['y'],square['w'],square['h']),c['closePath'](),c[_0x3bc8f8(0x270)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x3e3910(0x266))),dragElement(id(_0x3e3910(0x1f4))),dragElement(id(_0x3e3910(0x252)));function dragElement(_0x473504){var _0x569e8b=_0x3e3910,_0x5299c0=0x0,_0x2c3121=0x0,_0x4d402f=0x0,_0x3bd321=0x0;_0x473504[_0x569e8b(0x27d)]=_0x4a9ab9;function _0x4a9ab9(_0x4678b3){var _0x469662=_0x569e8b;_0x4678b3=_0x4678b3||window[_0x469662(0x24f)],_0x4d402f=_0x4678b3[_0x469662(0x20f)],_0x3bd321=_0x4678b3[_0x469662(0x211)],document['onmouseup']=_0x327440,document['onmousemove']=_0x400331;}function _0x400331(_0x44b8da){var _0x446e45=_0x569e8b;_0x44b8da=_0x44b8da||window[_0x446e45(0x24f)],_0x44b8da[_0x446e45(0x206)](),_0x5299c0=_0x4d402f-_0x44b8da[_0x446e45(0x20f)],_0x2c3121=_0x3bd321-_0x44b8da[_0x446e45(0x211)],_0x4d402f=_0x44b8da[_0x446e45(0x20f)],_0x3bd321=_0x44b8da[_0x446e45(0x211)],_0x473504['style']['top']=_0x473504[_0x446e45(0x25b)]-_0x2c3121+'px',_0x473504['style'][_0x446e45(0x20e)]=_0x473504[_0x446e45(0x242)]-_0x5299c0+'px';}function _0x327440(){var _0x496041=_0x569e8b;document[_0x496041(0x234)]=null,document['onmousemove']=null;}}var mapCode='';function _0x51b9(){var _0x391945=['yRDiff','deleteLvl','MapTester/index.html','mouseup','levels','toggle','mousedown','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','onmousedown','getContext','files','classList','addEventListener','charCodeAt','downloadBtn','sort','length','strokeStyle','value','\x20tile','none','camBoxes','href','className','innerHeight','innerWidth','object','clearRect','closePath','open','onbeforeunload','all-scroll','keyCode','contains','interactive','getAsFile','selected','top','zoomer','msSaveBlob','crosshair','log','splice','createObjectURL','removeChild','cont2','spawn','msSaveOrOpenBlob','src','keyup','black','indexOf','abjoEut:WqAblEOCERCaHfdynkNPTwxxjpeyRQXm','onclick','792776RkVmSf','map','speed','importing...','cursor','type\x20of\x20camera','function','slice','zoomOut','preventDefault','\x20levels','2BtxwuH','#002200','onchange','imageSmoothingEnabled','moveMap','getElementsByClassName','left','clientX','drawing:\x20hitboxes','clientY','parse','contextmenu','backgroundColor','text','apply','appendChild','onload','getElementById','info','1492232OxJaqj','<br>\x20w:\x20','height','image','parentNode','fillRect','lineWidth','add','spawnPoint','replace','709032renTjY','items','lineTo','2265639MRBMdG','sheet','drawing:\x20displayed','36LTWGMV','drawing:\x20camera','stringify','download','type','click','white','split','webkitURL','onmouseup','mapSizeBtnW','number','exportBox','test','block','createElement','pageYOffset','#5b6ee1','mapSizeH','result','#ffffff','93884FSKRnU','saGPVakARntonanAdUrIxyPNeBXq.vxxpXgEiWthXuGb.iOoW;localLXFAKAjxhozstpFzyDLVpTXJqSkCzQjwzSLXUGkTCDAwNHD','offsetLeft','pointer','exportText','globalAlpha','style','#000000','change','paste','zoomIn','3897990Ozbpoc','innerHTML','23380240FdUeWY','display','event','\x20selected','URL','cont3','canvas','fillStyle','saveButton','Discard\x20changes?','#ff0000','clipboardData','map.json','readAsText','offsetTop','#0000cc','body','drawImage','rect','mapSizeBtnH','file','navigator','beginPath','remove','color','cont','mapSizeW','moveTo','name','pageXOffset','which','width','95oMMOET',',\x20h:\x20','mousemove','stroke','push','text/csv','xRDiff','button'];_0x51b9=function(){return _0x391945;};return _0x51b9();}id('exportMap')[_0x3e3910(0x1fc)]=function(){var _0x29857a=_0x3e3910;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x3602e9=0x0;_0x3602e9<levels[_0x29857a(0x285)];_0x3602e9++){levelsArray[_0x29857a(0x271)](JSON[_0x29857a(0x212)](levels[_0x3602e9]));}id(_0x29857a(0x237))[_0x29857a(0x246)][_0x29857a(0x24e)]=_0x29857a(0x239),id(_0x29857a(0x244))['innerHTML']=JSON[_0x29857a(0x22d)](levelsArray);};function newMapExport(){var _0x408447=_0x3e3910;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x408447(0x22d)](mapObject);};id('closeBtn')[_0x3e3910(0x1fc)]=function(){var _0x2f548a=_0x3e3910;id(_0x2f548a(0x237))[_0x2f548a(0x246)][_0x2f548a(0x24e)]=_0x2f548a(0x289);},id(_0x3e3910(0x283))[_0x3e3910(0x1fc)]=function(){var _0x4750bb=_0x3e3910;download(_0x4750bb(0x259),JSON[_0x4750bb(0x22d)](levelsArray));},id(_0x3e3910(0x261))[_0x3e3910(0x20a)]=function(){var _0x58b54a=_0x3e3910;console[_0x58b54a(0x1f0)](_0x58b54a(0x200));let _0x4c4bdf=id(_0x58b54a(0x261))[_0x58b54a(0x27f)][0x0];fileName=id('file')[_0x58b54a(0x27f)][0x0][_0x58b54a(0x269)][_0x58b54a(0x232)]('.')[0x0];let _0x48777a=new FileReader();_0x48777a['onload']=function(_0x5e8241){var _0x29e4c0=_0x58b54a;let _0x3cb330=_0x48777a[_0x29e4c0(0x23e)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x29e4c0(0x212)](_0x3cb330);for(let _0x9e75e3=0x0;_0x9e75e3<levelsArray[_0x29e4c0(0x285)];_0x9e75e3++){addButton(),levels[_0x9e75e3]=JSON['stringify'](levelsArray[_0x9e75e3]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x48777a[_0x58b54a(0x25a)](_0x4c4bdf);};function safeEval(_0x26d3f4){var _0x110eea=_0x3e3910;typeof _0x26d3f4===_0x110eea(0x28f)&&_0x26d3f4!==null&&(map=_0x26d3f4[_0x110eea(0x1fe)],spawnPoint=_0x26d3f4['spawnPoint'],camBoxes=_0x26d3f4[_0x110eea(0x28a)]);}var baseWidth=id(_0x3e3910(0x267))['value'],baseHeight=id('mapSizeH')[_0x3e3910(0x287)];function resizeMap(){var _0xfce3a3=_0x3e3910;let _0x2031bf=0x0,_0x657962=0x0;for(let _0x4db5bc=0x0;_0x4db5bc<map['length'];_0x4db5bc++){map[_0x4db5bc]['x']+map[_0x4db5bc]['w']>_0x2031bf&&(_0x2031bf=map[_0x4db5bc]['x']+map[_0x4db5bc]['w']),map[_0x4db5bc]['y']+map[_0x4db5bc]['h']>_0x657962&&(_0x657962=map[_0x4db5bc]['y']+map[_0x4db5bc]['h']);}_0x657962<baseHeight&&(_0x657962=baseHeight),_0x2031bf<baseWidth&&(_0x2031bf=baseWidth),cellQuantityW=_0x2031bf,id(_0xfce3a3(0x267))[_0xfce3a3(0x287)]=_0x2031bf,cellQuantityH=_0x657962,id(_0xfce3a3(0x23d))['value']=_0x657962,changeMapSize();}function highlightCurrentLevel(){var _0x255795=_0x3e3910;let _0x1959eb=document['getElementsByClassName'](_0x255795(0x279));for(let _0x4551ff=0x0;_0x4551ff<_0x1959eb[_0x255795(0x285)];_0x4551ff++){if(_0x1959eb[_0x4551ff][_0x255795(0x236)]==currentLevel)!_0x1959eb[_0x4551ff][_0x255795(0x280)][_0x255795(0x296)](_0x255795(0x1eb))&&_0x1959eb[_0x4551ff][_0x255795(0x280)][_0x255795(0x222)](_0x255795(0x1eb));else _0x1959eb[_0x4551ff]['classList'][_0x255795(0x296)](_0x255795(0x1eb))&&_0x1959eb[_0x4551ff][_0x255795(0x280)]['remove'](_0x255795(0x1eb));}}function cameraMove(){var _0x4e7f6c=_0x3e3910;camera['L']&&(sX-=camera['speed']);camera['R']&&(sX+=camera[_0x4e7f6c(0x1ff)]);camera['T']&&(sY-=camera['speed']);camera['B']&&(sY+=camera['speed']);sX<0x0&&(sX=0x0);sX>canvas[_0x4e7f6c(0x26c)]-window[_0x4e7f6c(0x28e)]&&(sX=canvas['width']-window[_0x4e7f6c(0x28e)]);sY<0x0&&(sY=0x0);sY>canvas[_0x4e7f6c(0x21d)]-window[_0x4e7f6c(0x28d)]&&(sY=canvas[_0x4e7f6c(0x21d)]-window[_0x4e7f6c(0x28d)]);if(camera[_0x4e7f6c(0x205)])id('zoomer')[_0x4e7f6c(0x287)]--,zoomChange();else camera[_0x4e7f6c(0x24a)]&&(id(_0x4e7f6c(0x1ed))[_0x4e7f6c(0x287)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x89bfdd=_0x3e3910;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x89bfdd(0x24a)]||camera[_0x89bfdd(0x205)])&&cameraMove();c[_0x89bfdd(0x245)]=0x1;for(let _0x3b6bee=0x0;_0x3b6bee<map[_0x89bfdd(0x285)];_0x3b6bee++){if(map[_0x3b6bee][_0x89bfdd(0x22f)]>0x33)for(let _0x47c60e=0x0;_0x47c60e<map[_0x3b6bee]['h'];_0x47c60e++){for(let _0x4af84d=0x0;_0x4af84d<map[_0x3b6bee]['w'];_0x4af84d++){c[_0x89bfdd(0x25e)](id(_0x89bfdd(0x229)),tiles[map[_0x3b6bee][_0x89bfdd(0x22f)]][0x0]*0x10,tiles[map[_0x3b6bee][_0x89bfdd(0x22f)]][0x1]*0x10,0x10,0x10,(map[_0x3b6bee]['x']+_0x4af84d)*cellSize,(map[_0x3b6bee]['y']+_0x47c60e)*cellSize,cellSize,cellSize);}}}for(let _0x125cc8=0x0;_0x125cc8<map[_0x89bfdd(0x285)];_0x125cc8++){if(map[_0x125cc8]['type']<=0x33)for(let _0x3a6e17=0x0;_0x3a6e17<map[_0x125cc8]['h'];_0x3a6e17++){for(let _0x3a05fb=0x0;_0x3a05fb<map[_0x125cc8]['w'];_0x3a05fb++){c['drawImage'](id(_0x89bfdd(0x229)),tiles[map[_0x125cc8][_0x89bfdd(0x22f)]][0x0]*0x10,tiles[map[_0x125cc8][_0x89bfdd(0x22f)]][0x1]*0x10,0x10,0x10,(map[_0x125cc8]['x']+_0x3a05fb)*cellSize,(map[_0x125cc8]['y']+_0x3a6e17)*cellSize,cellSize,cellSize);}}}for(let _0x35c9cc=0x0;_0x35c9cc<hitBoxes[_0x89bfdd(0x285)];_0x35c9cc++){c[_0x89bfdd(0x254)]=_0x89bfdd(0x247),c[_0x89bfdd(0x220)](hitBoxes[_0x35c9cc]['x']*cellSize,hitBoxes[_0x35c9cc]['y']*cellSize,hitBoxes[_0x35c9cc]['w']*cellSize,hitBoxes[_0x35c9cc]['h']*cellSize);}c['globalAlpha']=0x1;for(let _0x4550de=0x0;_0x4550de<camBoxes[_0x89bfdd(0x285)];_0x4550de++){c[_0x89bfdd(0x286)]=_0x89bfdd(0x209),c[_0x89bfdd(0x263)](),c[_0x89bfdd(0x25f)](camBoxes[_0x4550de]['x']*cellSize,camBoxes[_0x4550de]['y']*cellSize,camBoxes[_0x4550de]['w']*cellSize,camBoxes[_0x4550de]['h']*cellSize),c['closePath'](),c[_0x89bfdd(0x270)]();}c['fillStyle']=_0x89bfdd(0x23c),c[_0x89bfdd(0x220)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x160b71=_0x3e3910;c[_0x160b71(0x221)]=0.1,c[_0x160b71(0x286)]=_0x160b71(0x23f);for(let _0x37b451=0x0;_0x37b451<canvas[_0x160b71(0x26c)];_0x37b451+=cellSize){c[_0x160b71(0x263)](),c[_0x160b71(0x268)](_0x37b451,0x0),c['lineTo'](_0x37b451,canvas['height']),c[_0x160b71(0x291)](),c[_0x160b71(0x270)]();}for(let _0x1a0fdd=0x0;_0x1a0fdd<canvas['height'];_0x1a0fdd+=cellSize){c[_0x160b71(0x263)](),c[_0x160b71(0x268)](0x0,_0x1a0fdd),c[_0x160b71(0x227)](canvas[_0x160b71(0x26c)],_0x1a0fdd),c['closePath'](),c['stroke']();}c[_0x160b71(0x221)]=0x1;}var definingSpawnpoint=![];id(_0x3e3910(0x1f5))[_0x3e3910(0x1fc)]=function(){var _0x4bf54b=_0x3e3910;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x4bf54b(0x1f5))[_0x4bf54b(0x246)][_0x4bf54b(0x265)]=_0x4bf54b(0x247),id('canvas')[_0x4bf54b(0x246)][_0x4bf54b(0x201)]='crosshair',canvas['onclick']=null;return;}definingSpawnpoint=!![],id('spawn')[_0x4bf54b(0x246)][_0x4bf54b(0x265)]=_0x4bf54b(0x25c),id(_0x4bf54b(0x253))['style']['cursor']=_0x4bf54b(0x243),canvas[_0x4bf54b(0x1fc)]=()=>{var _0x45941e=_0x4bf54b;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id('spawn')[_0x45941e(0x246)][_0x45941e(0x265)]=_0x45941e(0x247),id('canvas')['style']['cursor']='crosshair',canvas[_0x45941e(0x1fc)]=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id(_0x3e3910(0x20c))[_0x3e3910(0x1fc)]=function(){var _0x1cf9c0=_0x3e3910;if(movingMap){movingMap=![],id(_0x1cf9c0(0x20c))[_0x1cf9c0(0x246)]['color']=_0x1cf9c0(0x247),id(_0x1cf9c0(0x253))[_0x1cf9c0(0x246)][_0x1cf9c0(0x201)]=_0x1cf9c0(0x1ef);return;}movingMap=!![],id(_0x1cf9c0(0x20c))['style'][_0x1cf9c0(0x265)]=_0x1cf9c0(0x25c),id('canvas')['style'][_0x1cf9c0(0x201)]=_0x1cf9c0(0x294),canvas['addEventListener'](_0x1cf9c0(0x26f),function(){var _0xce2234=_0x1cf9c0;if(!movingMap||!mouseDown)return;let _0x57d4cf=square['w']/cellSize-movingVariables[_0xce2234(0x273)],_0x305b65=square['h']/cellSize-movingVariables['yRDiff'];(_0x57d4cf!==0x0||_0x305b65!==0x0)&&(moveEverything(_0x57d4cf,_0x305b65),movingVariables[_0xce2234(0x273)]+=_0x57d4cf,movingVariables[_0xce2234(0x275)]+=_0x305b65);}),canvas[_0x1cf9c0(0x281)](_0x1cf9c0(0x278),function(){if(!movingMap)return;movingVariables['xRDiff']=0x0,movingVariables['yRDiff']=0x0;});};function moveEverything(_0x1a75f7,_0x1b1664){var _0x27c628=_0x3e3910;if(_0x1a75f7==0x0&&_0x1b1664==0x0)return;for(let _0x486699=0x0;_0x486699<map['length'];_0x486699++){map[_0x486699]['x']+=_0x1a75f7,map[_0x486699]['y']+=_0x1b1664;}for(let _0x4b918d=0x0;_0x4b918d<hitBoxes[_0x27c628(0x285)];_0x4b918d++){hitBoxes[_0x4b918d]['x']+=_0x1a75f7,hitBoxes[_0x4b918d]['y']+=_0x1b1664;}for(let _0x2c4403=0x0;_0x2c4403<camBoxes[_0x27c628(0x285)];_0x2c4403++){camBoxes[_0x2c4403]['x']+=_0x1a75f7,camBoxes[_0x2c4403]['y']+=_0x1b1664;}spawnPoint['x']+=_0x1a75f7,spawnPoint['y']+=_0x1b1664;}function infoText(){var _0x50cd3a=_0x3e3910,_0x2e3037=square['x']/cellSize,_0x4d26c6=square['y']/cellSize;_0x2e3037>-0x1&&_0x2e3037<0x1&&(_0x2e3037=0x0),_0x4d26c6>-0x1&&_0x4d26c6<0x1&&(_0x4d26c6=0x0),id(_0x50cd3a(0x21a))[_0x50cd3a(0x24c)]='x:\x20'+_0x2e3037+',\x20y:\x20'+_0x4d26c6+_0x50cd3a(0x21c)+square['w']/cellSize+_0x50cd3a(0x26e)+square['h']/cellSize;}var mouseDown=![];canvas['addEventListener'](_0x3e3910(0x27b),function(_0x635c85){var _0x5c2116=_0x3e3910;mouseDown=!![];var _0x174ded=window[_0x5c2116(0x26a)]-canvas[_0x5c2116(0x242)],_0x1633b0=window['pageYOffset']-canvas[_0x5c2116(0x25b)];id(_0x5c2116(0x21a))[_0x5c2116(0x246)][_0x5c2116(0x24e)]=_0x5c2116(0x239),id(_0x5c2116(0x21a))['style'][_0x5c2116(0x20e)]=_0x635c85[_0x5c2116(0x20f)]+0x1e+'px',id(_0x5c2116(0x21a))[_0x5c2116(0x246)][_0x5c2116(0x1ec)]=_0x635c85[_0x5c2116(0x211)]-0x1e+'px',square['x']=round(_0x635c85[_0x5c2116(0x20f)]+_0x174ded)*cellSize,square['y']=round(_0x635c85['clientY']+_0x1633b0)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x3e3910(0x281)](_0x3e3910(0x26f),function(_0x1b96ae){var _0x3d807e=_0x3e3910,_0x4b0d57=window['pageXOffset']-canvas[_0x3d807e(0x242)],_0x5a7766=window[_0x3d807e(0x23b)]-canvas['offsetTop'];mouseDown&&(id(_0x3d807e(0x21a))[_0x3d807e(0x246)][_0x3d807e(0x24e)]=_0x3d807e(0x239),id('info')[_0x3d807e(0x246)]['left']=_0x1b96ae[_0x3d807e(0x20f)]+0x1e+'px',id(_0x3d807e(0x21a))[_0x3d807e(0x246)][_0x3d807e(0x1ec)]=_0x1b96ae[_0x3d807e(0x211)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x1b96ae[_0x3d807e(0x20f)]+_0x4b0d57-square['x'])*cellSize,square['h']=round(_0x1b96ae[_0x3d807e(0x211)]+_0x5a7766-square['y'])*cellSize);}),canvas[_0x3e3910(0x281)](_0x3e3910(0x278),function(_0x2328aa){var _0x41542e=_0x3e3910;id('info')[_0x41542e(0x246)][_0x41542e(0x24e)]=_0x41542e(0x289),mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x2328aa[_0x41542e(0x26b)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x41542e(0x271)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x3383bf=prompt(_0x41542e(0x27c),'');hitBoxes[hitBoxes[_0x41542e(0x285)]-0x1][_0x41542e(0x215)]=_0x3383bf;}}else{if(hitBoxToggle==0x0){map['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x3383bf=prompt(_0x41542e(0x27c),'');map[map[_0x41542e(0x285)]-0x1][_0x41542e(0x215)]=_0x3383bf;}}else{if(hitBoxToggle==0x2){var _0xd2c1ad=parseInt(prompt(_0x41542e(0x202),''));camBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0xd2c1ad});}}}}}),id('zoomer')[_0x3e3910(0x281)](_0x3e3910(0x248),zoomChange),id(_0x3e3910(0x276))['addEventListener'](_0x3e3910(0x230),deleteLevel);function deleteLevel(){var _0x5c6b3a=_0x3e3910;madeChanges=!![];if(levels['length']==0x1){clearMap();return;}removeButton(),levels[_0x5c6b3a(0x1f1)](currentLevel,0x1),clearMap(),currentLevel=levels['length']-0x1,safeEval(JSON[_0x5c6b3a(0x212)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x48084b=_0x3e3910;let _0x306535={'number':0x0},_0x4f954c=document[_0x48084b(0x20d)]('levels');for(let _0x14a16f=0x0;_0x14a16f<_0x4f954c['length'];_0x14a16f++){_0x4f954c[_0x14a16f]['number']>=_0x306535['number']&&(_0x306535=_0x4f954c[_0x14a16f]);}_0x306535['parentNode'][_0x48084b(0x1f3)](_0x306535);}function zoomChange(){var _0x2c3f68=_0x3e3910;cellSize=parseInt(id('zoomer')[_0x2c3f68(0x287)]),changeMapSize();}function changeMapSize(){var _0x8e9ee9=_0x3e3910;canvas[_0x8e9ee9(0x26c)]=cellQuantityW*cellSize,canvas['height']=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x222a49){var _0x23ce93=parseInt(_0x222a49),_0x41811e=_0x23ce93%cellSize;if(_0x41811e!==0x0){if(_0x41811e>cellSize/0x2)_0x23ce93=_0x23ce93-_0x41811e+cellSize;else _0x23ce93=_0x23ce93-_0x41811e;}return _0x23ce93/cellSize>0x0&&_0x23ce93/cellSize<0x1?0x0:_0x23ce93/cellSize;}function enableBeforeUnload(){var _0x46c207=_0x3e3910;window[_0x46c207(0x293)]=function(_0x327593){var _0x44bfcb=_0x46c207;if(madeChanges)return _0x44bfcb(0x256);};}function disableBeforeUnload(){window['onbeforeunload']=null;}enableBeforeUnload(),document[_0x3e3910(0x281)](_0x3e3910(0x213),function(_0x4bd6c0){var _0x508804=_0x3e3910;madeChanges=!![];var _0xeafa42=window['pageXOffset']-canvas['offsetLeft'],_0x224c76=window['pageYOffset']-canvas[_0x508804(0x25b)];_0x4bd6c0[_0x508804(0x206)]();var _0x13c127=_0x4bd6c0['clientX']+_0xeafa42,_0x13404b=_0x4bd6c0[_0x508804(0x211)]+_0x224c76;removeElements(map,_0x13c127,_0x13404b),removeElements(hitBoxes,_0x13c127,_0x13404b),removeElements(camBoxes,_0x13c127,_0x13404b);});function removeElements(_0x3008db,_0x28d72e,_0xf7e87b){var _0x58a550=_0x3e3910,_0x12780b=[];for(let _0x4bfa5a=0x0;_0x4bfa5a<_0x3008db['length'];_0x4bfa5a++){_0x28d72e>_0x3008db[_0x4bfa5a]['x']*cellSize&&_0x28d72e<_0x3008db[_0x4bfa5a]['x']*cellSize+_0x3008db[_0x4bfa5a]['w']*cellSize&&(_0xf7e87b>_0x3008db[_0x4bfa5a]['y']*cellSize&&_0xf7e87b<_0x3008db[_0x4bfa5a]['y']*cellSize+_0x3008db[_0x4bfa5a]['h']*cellSize&&_0x12780b['push'](_0x4bfa5a));}_0x12780b[_0x58a550(0x284)](function(_0x51c14a,_0x454293){return _0x454293-_0x51c14a;});for(let _0x178709=0x0;_0x178709<_0x12780b[_0x58a550(0x285)];_0x178709++){_0x3008db[_0x58a550(0x1f1)](_0x12780b[_0x178709],0x1);}}function download(_0x5a152f,_0xeab78d){var _0x41c5a5=_0x3e3910;madeChanges=![];var _0xf047dd=new Blob([_0xeab78d],{'type':_0x41c5a5(0x272)});if(window[_0x41c5a5(0x262)][_0x41c5a5(0x1f6)])window['navigator'][_0x41c5a5(0x1ee)](_0xf047dd,_0x5a152f);else{var _0x3e7875=window['document'][_0x41c5a5(0x23a)]('a');_0x3e7875[_0x41c5a5(0x28b)]=window[_0x41c5a5(0x251)]['createObjectURL'](_0xf047dd),_0x3e7875[_0x41c5a5(0x22e)]=_0x5a152f,document[_0x41c5a5(0x25d)]['appendChild'](_0x3e7875),_0x3e7875[_0x41c5a5(0x230)](),document[_0x41c5a5(0x25d)]['removeChild'](_0x3e7875);}}window[_0x3e3910(0x281)]('keydown',function(_0x3b74ed){var _0x108e03=_0x3e3910,_0x213b60=_0x3b74ed['keyCode'];switch(_0x213b60){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x108e03(0x24a)]=!![];break;case 0x51:camera[_0x108e03(0x205)]=!![];break;}}),window[_0x3e3910(0x281)](_0x3e3910(0x1f8),function(_0x5c425c){var _0x397feb=_0x3e3910,_0x168edd=_0x5c425c[_0x397feb(0x295)];switch(_0x168edd){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x397feb(0x24a)]=![];break;case 0x51:camera[_0x397feb(0x205)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x1f0293,_0x4d3d8f){var _0x4b3649=_0x3e3910;_0x1f0293['clipboardData']==![]&&(typeof _0x4d3d8f==_0x4b3649(0x203)&&_0x4d3d8f(undefined));;var _0x41ef1e=_0x1f0293[_0x4b3649(0x258)][_0x4b3649(0x226)];_0x41ef1e==undefined&&(typeof _0x4d3d8f=='function'&&_0x4d3d8f(undefined));;for(var _0x147c00=0x0;_0x147c00<_0x41ef1e[_0x4b3649(0x285)];_0x147c00++){if(_0x41ef1e[_0x147c00]['type'][_0x4b3649(0x1fa)](_0x4b3649(0x21e))==-0x1)continue;var _0x2fea8c=_0x41ef1e[_0x147c00][_0x4b3649(0x1ea)]();typeof _0x4d3d8f==_0x4b3649(0x203)&&_0x4d3d8f(_0x2fea8c);}}window[_0x3e3910(0x281)](_0x3e3910(0x249),function(_0x2840f1){retrieveImageFromClipboardAsBlob(_0x2840f1,function(_0x4484f2){var _0x24cdc0=_0x5b75;if(_0x4484f2){var _0x13b876=new Image();_0x13b876[_0x24cdc0(0x218)]=function(){var _0x47b020=_0x24cdc0;pastedImage=_0x13b876,id('mapSizeW')[_0x47b020(0x287)]=pastedImage[_0x47b020(0x26c)]/cellSize,cellQuantityW=pastedImage['width']/cellSize,id(_0x47b020(0x23d))['value']=pastedImage[_0x47b020(0x21d)]/cellSize,cellQuantityH=pastedImage[_0x47b020(0x21d)]/cellSize,changeMapSize();};var _0x3460bf=window['URL']||window[_0x24cdc0(0x233)];_0x13b876[_0x24cdc0(0x1f7)]=_0x3460bf[_0x24cdc0(0x1f2)](_0x4484f2);}});},![]);