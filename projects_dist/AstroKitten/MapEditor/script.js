'use strict';var _0x45a368=_0x300c;(function(_0x43054d,_0x553564){var _0x30b27f=_0x300c,_0x5f1013=_0x43054d();while(!![]){try{var _0x1a8d25=-parseInt(_0x30b27f(0x6a))/0x1*(-parseInt(_0x30b27f(0xf9))/0x2)+parseInt(_0x30b27f(0xbb))/0x3+-parseInt(_0x30b27f(0x90))/0x4*(-parseInt(_0x30b27f(0xbd))/0x5)+-parseInt(_0x30b27f(0xb0))/0x6+-parseInt(_0x30b27f(0x6d))/0x7*(parseInt(_0x30b27f(0x7e))/0x8)+-parseInt(_0x30b27f(0x6c))/0x9+-parseInt(_0x30b27f(0xc9))/0xa;if(_0x1a8d25===_0x553564)break;else _0x5f1013['push'](_0x5f1013['shift']());}catch(_0xc2bc2f){_0x5f1013['push'](_0x5f1013['shift']());}}}(_0x5750,0xb91ff));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x24fbf5){var _0x3da66f=(function(){var _0xce5971=!![];return function(_0x11276d,_0x1f60ea){var _0x3b73ab=_0xce5971?function(){var _0x22f4d9=_0x300c;if(_0x1f60ea){var _0x350721=_0x1f60ea[_0x22f4d9(0x9b)](_0x11276d,arguments);return _0x1f60ea=null,_0x350721;}}:function(){};return _0xce5971=![],_0x3b73ab;};}()),_0x495137=_0x3da66f(this,function(){var _0x94404a=_0x300c,_0x5be7ef=function(){var _0x56083d=_0x300c,_0x43ba6a;try{_0x43ba6a=Function(_0x56083d(0xe8)+_0x56083d(0xb4)+');')();}catch(_0xd29f5){_0x43ba6a=window;}return _0x43ba6a;},_0x480fb4=_0x5be7ef(),_0x4387a9=new RegExp(_0x94404a(0xb3),'g'),_0x3a1b90='saAantonanFdrHye.gPiWthub.QiDo;lkoGcaVlhPLkGJUEostCzvmMkKCxDFTpXDYMMpjOFADSqYVZDPHFZERDGADQXOJAPPymxVTX'[_0x94404a(0x9a)](_0x4387a9,'')['split'](';'),_0x5148b8,_0x392831,_0xa2735f,_0x73406c,_0x3a9e3d=function(_0x285e2d,_0x1f452d,_0x2a339c){var _0x4ebbac=_0x94404a;if(_0x285e2d[_0x4ebbac(0x97)]!=_0x1f452d)return![];for(var _0x1763e5=0x0;_0x1763e5<_0x1f452d;_0x1763e5++){for(var _0xda109a=0x0;_0xda109a<_0x2a339c[_0x4ebbac(0x97)];_0xda109a+=0x2){if(_0x1763e5==_0x2a339c[_0xda109a]&&_0x285e2d[_0x4ebbac(0xe0)](_0x1763e5)!=_0x2a339c[_0xda109a+0x1])return![];}}return!![];},_0x4a4409=function(_0x12f48e,_0x4c5622,_0x41244a){return _0x3a9e3d(_0x4c5622,_0x41244a,_0x12f48e);},_0x25f24a=function(_0x18e57f,_0x3011cf,_0x4c94a3){return _0x4a4409(_0x3011cf,_0x18e57f,_0x4c94a3);},_0x4f9ab6=function(_0x2070b3,_0x363e2c,_0x312ab8){return _0x25f24a(_0x363e2c,_0x312ab8,_0x2070b3);};for(var _0x1b7d3d in _0x480fb4){if(_0x3a9e3d(_0x1b7d3d,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5148b8=_0x1b7d3d;break;}}for(var _0x301dd7 in _0x480fb4[_0x5148b8]){if(_0x4f9ab6(0x6,_0x301dd7,[0x5,0x6e,0x0,0x64])){_0x392831=_0x301dd7;break;}}for(var _0xa8f72d in _0x480fb4[_0x5148b8]){if(_0x25f24a(_0xa8f72d,[0x7,0x6e,0x0,0x6c],0x8)){_0xa2735f=_0xa8f72d;break;}}if(!('~'>_0x392831))for(var _0x44dee7 in _0x480fb4[_0x5148b8][_0xa2735f]){if(_0x4a4409([0x7,0x65,0x0,0x68],_0x44dee7,0x8)){_0x73406c=_0x44dee7;break;}}if(!_0x5148b8||!_0x480fb4[_0x5148b8])return;var _0x585353=_0x480fb4[_0x5148b8][_0x392831],_0x196def=!!_0x480fb4[_0x5148b8][_0xa2735f]&&_0x480fb4[_0x5148b8][_0xa2735f][_0x73406c],_0x29e66b=_0x585353||_0x196def;if(!_0x29e66b)return;var _0x2ba175=![];for(var _0x2f1c8b=0x0;_0x2f1c8b<_0x3a1b90[_0x94404a(0x97)];_0x2f1c8b++){var _0x392831=_0x3a1b90[_0x2f1c8b],_0x519011=_0x392831[0x0]===String[_0x94404a(0xe6)](0x2e)?_0x392831[_0x94404a(0xab)](0x1):_0x392831,_0xa4b9d=_0x29e66b[_0x94404a(0x97)]-_0x519011['length'],_0x3ac691=_0x29e66b[_0x94404a(0x70)](_0x519011,_0xa4b9d),_0x4ba7ed=_0x3ac691!==-0x1&&_0x3ac691===_0xa4b9d;_0x4ba7ed&&((_0x29e66b[_0x94404a(0x97)]==_0x392831[_0x94404a(0x97)]||_0x392831[_0x94404a(0x70)]('.')===0x0)&&(_0x2ba175=!![]));}if(!_0x2ba175){var _0x56d371=new RegExp(_0x94404a(0xc5),'g'),_0x3050a3=_0x94404a(0xd9)[_0x94404a(0x9a)](_0x56d371,'');_0x480fb4[_0x5148b8][_0xa2735f]=_0x3050a3;}});return _0x495137(),document['getElementById'](_0x24fbf5);}var canvas=id('canvas'),sheet=id(_0x45a368(0x78)),c=canvas[_0x45a368(0x8d)]('2d');c['imageSmoothingEnabled']=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x45a368(0xd1)]=function(){addLevel();};function clearMap(){var _0x5e8f88=_0x45a368;map=[],mapObject[_0x5e8f88(0xb6)]=[],mapObject[_0x5e8f88(0x94)]=[],mapObject[_0x5e8f88(0x103)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x455391=_0x45a368;let _0x1f9fe9=document[_0x455391(0xce)]('levels');for(let _0x1019b6=_0x1f9fe9[_0x455391(0x97)]-0x1;_0x1019b6>=0x0;_0x1019b6--){_0x1f9fe9[_0x1019b6][_0x455391(0x72)][_0x455391(0x96)](_0x1f9fe9[_0x1019b6]);}}id(_0x45a368(0xfa))[_0x45a368(0xd1)]=saveImage;function saveImage(){var _0x5fb304=_0x45a368;canvas[_0x5fb304(0xf5)](_0x30c62c=>navigator[_0x5fb304(0xee)]['write']([new ClipboardItem({'image/png':_0x30c62c})]));}function addButton(){var _0xd11c88=_0x45a368,_0x1ebffb=document['createElement']('button');_0x1ebffb[_0xd11c88(0x89)]=levels['length'],_0x1ebffb['innerHTML']=levels[_0xd11c88(0x97)],_0x1ebffb['className']+=_0xd11c88(0x104),_0x1ebffb[_0xd11c88(0x98)]=function(_0x207a6f){var _0x3d023a=_0xd11c88;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0x3d023a(0x89)],safeEval(JSON['parse'](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0xd11c88(0xe3))[_0xd11c88(0xf2)](_0x1ebffb),highlightCurrentLevel();}function addLevel(){var _0x3ee323=_0x45a368;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x3ee323(0xad)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0x3ee323(0x67)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x45a368(0x87))[_0x45a368(0x82)],cellQuantityH=id(_0x45a368(0xa8))[_0x45a368(0x82)],cellSize=0x10,fileName=_0x45a368(0xbe),interactiveTile=0x0;canvas['width']=cellQuantityW*cellSize,canvas[_0x45a368(0x84)]=cellQuantityH*cellSize,id('mapSizeBtnW')['onclick']=function(){var _0x5b9a97=_0x45a368;cellQuantityW=id(_0x5b9a97(0x87))[_0x5b9a97(0x82)],changeMapSize();},id(_0x45a368(0xe5))[_0x45a368(0xd1)]=function(){var _0x44fe9a=_0x45a368;cellQuantityH=id(_0x44fe9a(0xa8))[_0x44fe9a(0x82)],changeMapSize();},window[_0x45a368(0x8e)]=function(){var _0x7c0009=_0x45a368;for(let _0x47dce1=0x0;_0x47dce1<tiles[_0x7c0009(0x97)];_0x47dce1++){var _0x2d6b33=document['createElement'](_0x7c0009(0xc0));_0x2d6b33['id']=_0x7c0009(0xc0)+_0x47dce1,_0x2d6b33['width']=0x20,_0x2d6b33[_0x7c0009(0x84)]=0x20,_0x2d6b33[_0x7c0009(0x89)]=_0x47dce1,_0x2d6b33[_0x7c0009(0x8d)]('2d')['imageSmoothingEnabled']=![];_0x47dce1===0x0&&(_0x2d6b33[_0x7c0009(0xb7)]+='\x20selected');_0x2d6b33['className']+=_0x7c0009(0xa0),_0x2d6b33['getContext']('2d')['drawImage'](sheet,tiles[_0x47dce1][0x0]*0x10,tiles[_0x47dce1][0x1]*0x10,0x10,0x10,0x0,0x0,_0x2d6b33['width'],_0x2d6b33[_0x7c0009(0x84)]);var _0x233f83=document[_0x7c0009(0x86)]('body')[0x0];id('cont2')[_0x7c0009(0xf2)](_0x2d6b33),id(_0x7c0009(0xc0)+_0x47dce1)[_0x7c0009(0xd1)]=function(){var _0x1b579b=_0x7c0009;selectedType=this[_0x1b579b(0x89)];for(let _0x3b2d6b=0x0;_0x3b2d6b<tiles[_0x1b579b(0x97)];_0x3b2d6b++){id('canvas'+_0x3b2d6b)[_0x1b579b(0x100)][_0x1b579b(0x75)]('selected');}this['className']+=_0x1b579b(0xb9);};}loop();},id(_0x45a368(0xc7))[_0x45a368(0xd1)]=function(){var _0x40795a=_0x45a368;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x3c0d61=0x0;_0x3c0d61<levels[_0x40795a(0x97)];_0x3c0d61++){levelsArray[_0x40795a(0x9e)](JSON[_0x40795a(0x67)](levels[_0x3c0d61]));}var _0x1cf73b=window[_0x40795a(0x7b)]('MapTester/index.html');},id(_0x45a368(0xef))[_0x45a368(0xd1)]=function(){var _0xf3743f=_0x45a368;interactiveTile?(interactiveTile=0x0,id(_0xf3743f(0xef))[_0xf3743f(0xcb)][_0xf3743f(0x74)]=_0xf3743f(0xdb),id(_0xf3743f(0xef))[_0xf3743f(0xcb)][_0xf3743f(0xa6)]=_0xf3743f(0xda)):(interactiveTile=0x1,id(_0xf3743f(0xef))['style'][_0xf3743f(0x74)]='black',id(_0xf3743f(0xef))[_0xf3743f(0xcb)]['color']=_0xf3743f(0xdb));};var hitBoxToggle=![];id('toggle')[_0x45a368(0xd1)]=function(){var _0x447b95=_0x45a368;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id('toggle')['innerHTML']='drawing:\x20displayed';else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x447b95(0xa1))['innerHTML']=_0x447b95(0x8a);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id('toggle')[_0x447b95(0xba)]=_0x447b95(0x81));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x2f8603=_0x45a368;c['clearRect'](0x0,0x0,canvas[_0x2f8603(0x9c)],canvas[_0x2f8603(0x84)]),pastedImage&&c[_0x2f8603(0xf0)](pastedImage,0x0,0x0,pastedImage[_0x2f8603(0x9c)],pastedImage['height']),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0xf64b=_0x45a368;if(hitBoxToggle==0x1)c[_0xf64b(0xfd)]=_0xf64b(0xb1);else c[_0xf64b(0xfd)]='#ffffff';c[_0xf64b(0xd3)](),c['rect'](square['x'],square['y'],square['w'],square['h']),c[_0xf64b(0x109)](),c[_0xf64b(0x7a)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x45a368(0xf4))),dragElement(id(_0x45a368(0xe4))),dragElement(id(_0x45a368(0xe3)));function dragElement(_0x4077bf){var _0x2e407b=_0x45a368,_0x44ee90=0x0,_0x4a6c8f=0x0,_0x87ac07=0x0,_0x1af7bc=0x0;_0x4077bf[_0x2e407b(0x98)]=_0x5998e8;function _0x5998e8(_0x33beb7){var _0x2def49=_0x2e407b;_0x33beb7=_0x33beb7||window[_0x2def49(0x91)],_0x87ac07=_0x33beb7[_0x2def49(0xec)],_0x1af7bc=_0x33beb7[_0x2def49(0x107)],document[_0x2def49(0x108)]=_0x2e0601,document[_0x2def49(0x6e)]=_0xeed8ca;}function _0xeed8ca(_0x177b9f){var _0x6146ff=_0x2e407b;_0x177b9f=_0x177b9f||window['event'],_0x177b9f['preventDefault'](),_0x44ee90=_0x87ac07-_0x177b9f['clientX'],_0x4a6c8f=_0x1af7bc-_0x177b9f[_0x6146ff(0x107)],_0x87ac07=_0x177b9f[_0x6146ff(0xec)],_0x1af7bc=_0x177b9f[_0x6146ff(0x107)],_0x4077bf[_0x6146ff(0xcb)][_0x6146ff(0x65)]=_0x4077bf[_0x6146ff(0x76)]-_0x4a6c8f+'px',_0x4077bf['style'][_0x6146ff(0xe9)]=_0x4077bf[_0x6146ff(0x92)]-_0x44ee90+'px';}function _0x2e0601(){var _0x1a3ad3=_0x2e407b;document['onmouseup']=null,document[_0x1a3ad3(0x6e)]=null;}}var mapCode='';id('exportMap')[_0x45a368(0xd1)]=function(){var _0x412476=_0x45a368;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x519e5f=0x0;_0x519e5f<levels[_0x412476(0x97)];_0x519e5f++){levelsArray['push'](JSON['parse'](levels[_0x519e5f]));}id(_0x412476(0xc8))[_0x412476(0xcb)][_0x412476(0x68)]=_0x412476(0xca),id(_0x412476(0xc1))[_0x412476(0xba)]=JSON[_0x412476(0xbc)](levelsArray);};function newMapExport(){var _0xaee3e6=_0x45a368;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0xaee3e6(0xbc)](mapObject);};id(_0x45a368(0x93))[_0x45a368(0xd1)]=function(){var _0x1138f3=_0x45a368;id(_0x1138f3(0xc8))['style'][_0x1138f3(0x68)]=_0x1138f3(0x80);},id('downloadBtn')[_0x45a368(0xd1)]=function(){var _0x5f2253=_0x45a368;download(_0x5f2253(0xb8),JSON[_0x5f2253(0xbc)](levelsArray));},id('file')[_0x45a368(0x106)]=function(){var _0x3ec387=_0x45a368;console[_0x3ec387(0x7f)](_0x3ec387(0x101));let _0x110f76=id(_0x3ec387(0xcd))['files'][0x0];fileName=id(_0x3ec387(0xcd))['files'][0x0][_0x3ec387(0xc2)][_0x3ec387(0x95)]('.')[0x0];let _0x178a28=new FileReader();_0x178a28[_0x3ec387(0x8e)]=function(_0x16cb64){var _0x121e16=_0x3ec387;let _0x5f4950=_0x178a28['result'];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x121e16(0x67)](_0x5f4950);for(let _0x29adc0=0x0;_0x29adc0<levelsArray['length'];_0x29adc0++){addButton(),levels[_0x29adc0]=JSON['stringify'](levelsArray[_0x29adc0]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x178a28['readAsText'](_0x110f76);};function safeEval(_0x558d73){var _0x10c453=_0x45a368;typeof _0x558d73===_0x10c453(0xf8)&&_0x558d73!==null&&(map=_0x558d73[_0x10c453(0xb6)],spawnPoint=_0x558d73['spawnPoint'],camBoxes=_0x558d73[_0x10c453(0x94)]);}function _0x5750(){var _0x9a72e9=['#ff0000','text','[AFHyPWQDkGVPLkGJUECzvmMkKCxDFTpXDYMMpjOFADSqYVZDPHFZERDGADQXOJAPPymxVTX]','{}.constructor(\x22return\x20this\x22)(\x20)','globalAlpha','map','className','map.json','\x20selected','innerHTML','3764733zPcpKg','stringify','1250365hVptUd','mapCode','body','canvas','exportText','name','cursor','<br>\x20w:\x20','[iecgMGIUrQIqSAzxssVDjYMdfMXW]','crosshair','test','exportBox','386410AoYYiH','block','style','href','file','getElementsByClassName','innerHeight','#002200','onclick','download','beginPath','which','msSaveBlob','pageXOffset','contains','selected','abieoucgtMG:bIlUankrQIqSAzxssVDjYMdfMXW','black','white','all-scroll','addEventListener','clipboardData','pointer','charCodeAt','#ffffff','#0000cc','cont3','cont2','mapSizeBtnH','fromCharCode','mouseup','return\x20(function()\x20','left','function','moveMap','clientX','Discard\x20changes?','clipboard','interactive','drawImage','createObjectURL','appendChild','xRDiff','cont','toBlob','pageYOffset','preventDefault','object','843308WXAJHH','saveButton','type','x:\x20','strokeStyle','zoomer','createElement','classList','importing...','navigator','spawnPoint','\x20levels','keyup','onchange','clientY','onmouseup','closePath','top','spawn','parse','display','zoomIn','1eGlBLb','lineTo','11524203RdkNaF','14IzUvpp','onmousemove',',\x20h:\x20','indexOf','fillRect','parentNode','#5b6ee1','backgroundColor','remove','offsetTop','webkitURL','sheet','fillStyle','stroke','open','src','deleteLvl','519784lXUMNA','log','none','drawing:\x20camera','value','#000000','height','getAsFile','getElementsByTagName','mapSizeW','items','number','drawing:\x20hitboxes','rect','speed','getContext','onload','zoomOut','20NuDziB','event','offsetLeft','closeBtn','camBoxes','split','removeChild','length','onmousedown','add','replace','apply','width','keydown','push','moveTo','\x20tile','toggle','sort','onbeforeunload','mousemove','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','color','yRDiff','mapSizeH','innerWidth','lineWidth','slice','info','splice','keyCode','levels','4317630hwpsTG'];_0x5750=function(){return _0x9a72e9;};return _0x5750();}var baseWidth=id(_0x45a368(0x87))[_0x45a368(0x82)],baseHeight=id(_0x45a368(0xa8))[_0x45a368(0x82)];function resizeMap(){var _0xfebd43=_0x45a368;let _0x2781af=0x0,_0x323cbf=0x0;for(let _0x55f097=0x0;_0x55f097<map[_0xfebd43(0x97)];_0x55f097++){map[_0x55f097]['x']+map[_0x55f097]['w']>_0x2781af&&(_0x2781af=map[_0x55f097]['x']+map[_0x55f097]['w']),map[_0x55f097]['y']+map[_0x55f097]['h']>_0x323cbf&&(_0x323cbf=map[_0x55f097]['y']+map[_0x55f097]['h']);}_0x323cbf<baseHeight&&(_0x323cbf=baseHeight),_0x2781af<baseWidth&&(_0x2781af=baseWidth),cellQuantityW=_0x2781af,id(_0xfebd43(0x87))['value']=_0x2781af,cellQuantityH=_0x323cbf,id('mapSizeH')[_0xfebd43(0x82)]=_0x323cbf,changeMapSize();}function highlightCurrentLevel(){var _0x152b3b=_0x45a368;let _0x3c8a79=document['getElementsByClassName']('levels');for(let _0x200553=0x0;_0x200553<_0x3c8a79[_0x152b3b(0x97)];_0x200553++){if(_0x3c8a79[_0x200553][_0x152b3b(0x89)]==currentLevel)!_0x3c8a79[_0x200553][_0x152b3b(0x100)]['contains'](_0x152b3b(0xd8))&&_0x3c8a79[_0x200553]['classList'][_0x152b3b(0x99)](_0x152b3b(0xd8));else _0x3c8a79[_0x200553][_0x152b3b(0x100)][_0x152b3b(0xd7)](_0x152b3b(0xd8))&&_0x3c8a79[_0x200553][_0x152b3b(0x100)][_0x152b3b(0x75)](_0x152b3b(0xd8));}}function cameraMove(){var _0x14126b=_0x45a368;camera['L']&&(sX-=camera[_0x14126b(0x8c)]);camera['R']&&(sX+=camera[_0x14126b(0x8c)]);camera['T']&&(sY-=camera[_0x14126b(0x8c)]);camera['B']&&(sY+=camera[_0x14126b(0x8c)]);sX<0x0&&(sX=0x0);sX>canvas[_0x14126b(0x9c)]-window[_0x14126b(0xa9)]&&(sX=canvas['width']-window[_0x14126b(0xa9)]);sY<0x0&&(sY=0x0);sY>canvas['height']-window['innerHeight']&&(sY=canvas[_0x14126b(0x84)]-window[_0x14126b(0xcf)]);if(camera['zoomOut'])id(_0x14126b(0xfe))[_0x14126b(0x82)]--,zoomChange();else camera[_0x14126b(0x69)]&&(id(_0x14126b(0xfe))[_0x14126b(0x82)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x15a4c9=_0x45a368;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x15a4c9(0x69)]||camera[_0x15a4c9(0x8f)])&&cameraMove();c[_0x15a4c9(0xb5)]=0x1;for(let _0x2f4a59=0x0;_0x2f4a59<map['length'];_0x2f4a59++){if(map[_0x2f4a59]['type']>0x33)for(let _0xfc22af=0x0;_0xfc22af<map[_0x2f4a59]['h'];_0xfc22af++){for(let _0x340c2e=0x0;_0x340c2e<map[_0x2f4a59]['w'];_0x340c2e++){c[_0x15a4c9(0xf0)](id(_0x15a4c9(0x78)),tiles[map[_0x2f4a59][_0x15a4c9(0xfb)]][0x0]*0x10,tiles[map[_0x2f4a59][_0x15a4c9(0xfb)]][0x1]*0x10,0x10,0x10,(map[_0x2f4a59]['x']+_0x340c2e)*cellSize,(map[_0x2f4a59]['y']+_0xfc22af)*cellSize,cellSize,cellSize);}}}for(let _0x59baf5=0x0;_0x59baf5<map[_0x15a4c9(0x97)];_0x59baf5++){if(map[_0x59baf5][_0x15a4c9(0xfb)]<=0x33)for(let _0x1654be=0x0;_0x1654be<map[_0x59baf5]['h'];_0x1654be++){for(let _0x122af9=0x0;_0x122af9<map[_0x59baf5]['w'];_0x122af9++){c[_0x15a4c9(0xf0)](id(_0x15a4c9(0x78)),tiles[map[_0x59baf5][_0x15a4c9(0xfb)]][0x0]*0x10,tiles[map[_0x59baf5]['type']][0x1]*0x10,0x10,0x10,(map[_0x59baf5]['x']+_0x122af9)*cellSize,(map[_0x59baf5]['y']+_0x1654be)*cellSize,cellSize,cellSize);}}}for(let _0x1ff89c=0x0;_0x1ff89c<hitBoxes[_0x15a4c9(0x97)];_0x1ff89c++){c[_0x15a4c9(0x79)]='#000000',c[_0x15a4c9(0x71)](hitBoxes[_0x1ff89c]['x']*cellSize,hitBoxes[_0x1ff89c]['y']*cellSize,hitBoxes[_0x1ff89c]['w']*cellSize,hitBoxes[_0x1ff89c]['h']*cellSize);}c[_0x15a4c9(0xb5)]=0x1;for(let _0x4183e3=0x0;_0x4183e3<camBoxes['length'];_0x4183e3++){c[_0x15a4c9(0xfd)]=_0x15a4c9(0xd0),c[_0x15a4c9(0xd3)](),c[_0x15a4c9(0x8b)](camBoxes[_0x4183e3]['x']*cellSize,camBoxes[_0x4183e3]['y']*cellSize,camBoxes[_0x4183e3]['w']*cellSize,camBoxes[_0x4183e3]['h']*cellSize),c['closePath'](),c['stroke']();}c[_0x15a4c9(0x79)]=_0x15a4c9(0x73),c['fillRect'](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x6cdd27=_0x45a368;c[_0x6cdd27(0xaa)]=0.1,c['strokeStyle']=_0x6cdd27(0xe1);for(let _0x2b1039=0x0;_0x2b1039<canvas[_0x6cdd27(0x9c)];_0x2b1039+=cellSize){c[_0x6cdd27(0xd3)](),c[_0x6cdd27(0x9f)](_0x2b1039,0x0),c[_0x6cdd27(0x6b)](_0x2b1039,canvas[_0x6cdd27(0x84)]),c[_0x6cdd27(0x109)](),c['stroke']();}for(let _0x45f467=0x0;_0x45f467<canvas[_0x6cdd27(0x84)];_0x45f467+=cellSize){c[_0x6cdd27(0xd3)](),c[_0x6cdd27(0x9f)](0x0,_0x45f467),c[_0x6cdd27(0x6b)](canvas[_0x6cdd27(0x9c)],_0x45f467),c['closePath'](),c[_0x6cdd27(0x7a)]();}c[_0x6cdd27(0xaa)]=0x1;}var definingSpawnpoint=![];id(_0x45a368(0x66))[_0x45a368(0xd1)]=function(){var _0x3516f1=_0x45a368;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x3516f1(0x66))['style']['color']=_0x3516f1(0x83),id(_0x3516f1(0xc0))['style'][_0x3516f1(0xc3)]=_0x3516f1(0xc6),canvas[_0x3516f1(0xd1)]=null;return;}definingSpawnpoint=!![],id(_0x3516f1(0x66))[_0x3516f1(0xcb)][_0x3516f1(0xa6)]='#0000cc',id(_0x3516f1(0xc0))[_0x3516f1(0xcb)][_0x3516f1(0xc3)]=_0x3516f1(0xdf),canvas[_0x3516f1(0xd1)]=()=>{var _0x58472c=_0x3516f1;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id('spawn')[_0x58472c(0xcb)][_0x58472c(0xa6)]=_0x58472c(0x83),id(_0x58472c(0xc0))[_0x58472c(0xcb)]['cursor']=_0x58472c(0xc6),canvas[_0x58472c(0xd1)]=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id(_0x45a368(0xeb))[_0x45a368(0xd1)]=function(){var _0x333965=_0x45a368;if(movingMap){movingMap=![],id(_0x333965(0xeb))[_0x333965(0xcb)][_0x333965(0xa6)]=_0x333965(0x83),id(_0x333965(0xc0))[_0x333965(0xcb)][_0x333965(0xc3)]='crosshair';return;}movingMap=!![],id('moveMap')[_0x333965(0xcb)][_0x333965(0xa6)]=_0x333965(0xe2),id(_0x333965(0xc0))[_0x333965(0xcb)][_0x333965(0xc3)]=_0x333965(0xdc),canvas[_0x333965(0xdd)](_0x333965(0xa4),function(){var _0xe5ea74=_0x333965;if(!movingMap||!mouseDown)return;let _0x440129=square['w']/cellSize-movingVariables[_0xe5ea74(0xf3)],_0x4383b9=square['h']/cellSize-movingVariables['yRDiff'];(_0x440129!==0x0||_0x4383b9!==0x0)&&(moveEverything(_0x440129,_0x4383b9),movingVariables['xRDiff']+=_0x440129,movingVariables[_0xe5ea74(0xa7)]+=_0x4383b9);}),canvas[_0x333965(0xdd)](_0x333965(0xe7),function(){var _0x5a772b=_0x333965;if(!movingMap)return;movingVariables['xRDiff']=0x0,movingVariables[_0x5a772b(0xa7)]=0x0;});};function moveEverything(_0x4d60fc,_0x39eb95){var _0x43209f=_0x45a368;if(_0x4d60fc==0x0&&_0x39eb95==0x0)return;for(let _0x45fb0b=0x0;_0x45fb0b<map[_0x43209f(0x97)];_0x45fb0b++){map[_0x45fb0b]['x']+=_0x4d60fc,map[_0x45fb0b]['y']+=_0x39eb95;}for(let _0x45635c=0x0;_0x45635c<hitBoxes[_0x43209f(0x97)];_0x45635c++){hitBoxes[_0x45635c]['x']+=_0x4d60fc,hitBoxes[_0x45635c]['y']+=_0x39eb95;}for(let _0x300da2=0x0;_0x300da2<camBoxes['length'];_0x300da2++){camBoxes[_0x300da2]['x']+=_0x4d60fc,camBoxes[_0x300da2]['y']+=_0x39eb95;}spawnPoint['x']+=_0x4d60fc,spawnPoint['y']+=_0x39eb95;}function infoText(){var _0x197711=_0x45a368,_0x308703=square['x']/cellSize,_0x2e46d8=square['y']/cellSize;_0x308703>-0x1&&_0x308703<0x1&&(_0x308703=0x0),_0x2e46d8>-0x1&&_0x2e46d8<0x1&&(_0x2e46d8=0x0),id(_0x197711(0xac))[_0x197711(0xba)]=_0x197711(0xfc)+_0x308703+',\x20y:\x20'+_0x2e46d8+_0x197711(0xc4)+square['w']/cellSize+_0x197711(0x6f)+square['h']/cellSize;}var mouseDown=![];canvas['addEventListener']('mousedown',function(_0x1f9ed1){var _0x450af7=_0x45a368;mouseDown=!![];var _0xf66e37=window[_0x450af7(0xd6)]-canvas[_0x450af7(0x92)],_0x559725=window[_0x450af7(0xf6)]-canvas[_0x450af7(0x76)];id('info')[_0x450af7(0xcb)][_0x450af7(0x68)]='block',id(_0x450af7(0xac))[_0x450af7(0xcb)]['left']=_0x1f9ed1[_0x450af7(0xec)]+0x1e+'px',id(_0x450af7(0xac))['style']['top']=_0x1f9ed1['clientY']-0x1e+'px',square['x']=round(_0x1f9ed1[_0x450af7(0xec)]+_0xf66e37)*cellSize,square['y']=round(_0x1f9ed1['clientY']+_0x559725)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x45a368(0xdd)]('mousemove',function(_0x5f2f7a){var _0x3f484d=_0x45a368,_0x406c6b=window[_0x3f484d(0xd6)]-canvas[_0x3f484d(0x92)],_0x879270=window[_0x3f484d(0xf6)]-canvas[_0x3f484d(0x76)];mouseDown&&(id('info')[_0x3f484d(0xcb)][_0x3f484d(0x68)]=_0x3f484d(0xca),id(_0x3f484d(0xac))[_0x3f484d(0xcb)][_0x3f484d(0xe9)]=_0x5f2f7a[_0x3f484d(0xec)]+0x1e+'px',id(_0x3f484d(0xac))[_0x3f484d(0xcb)][_0x3f484d(0x65)]=_0x5f2f7a['clientY']-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x5f2f7a['clientX']+_0x406c6b-square['x'])*cellSize,square['h']=round(_0x5f2f7a[_0x3f484d(0x107)]+_0x879270-square['y'])*cellSize);}),canvas['addEventListener']('mouseup',function(_0x47f63b){var _0x29faec=_0x45a368;id(_0x29faec(0xac))[_0x29faec(0xcb)]['display']='none',mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x47f63b[_0x29faec(0xd4)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x29faec(0x9e)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x5e813e=prompt(_0x29faec(0xa5),'');hitBoxes[hitBoxes[_0x29faec(0x97)]-0x1][_0x29faec(0xb2)]=_0x5e813e;}}else{if(hitBoxToggle==0x0){map['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x5e813e=prompt(_0x29faec(0xa5),'');map[map['length']-0x1]['text']=_0x5e813e;}}else{if(hitBoxToggle==0x2){var _0x34543c=parseInt(prompt('type\x20of\x20camera',''));camBoxes[_0x29faec(0x9e)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x34543c});}}}}}),id(_0x45a368(0xfe))[_0x45a368(0xdd)]('change',zoomChange),id(_0x45a368(0x7d))['addEventListener']('click',deleteLevel);function deleteLevel(){var _0x4a289a=_0x45a368;madeChanges=!![];if(levels[_0x4a289a(0x97)]==0x1){clearMap();return;}removeButton(),levels[_0x4a289a(0xad)](currentLevel,0x1),clearMap(),currentLevel=levels[_0x4a289a(0x97)]-0x1,safeEval(JSON[_0x4a289a(0x67)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x49f1c1=_0x45a368;let _0x2c867f={'number':0x0},_0x1f8201=document[_0x49f1c1(0xce)](_0x49f1c1(0xaf));for(let _0x3ff91c=0x0;_0x3ff91c<_0x1f8201[_0x49f1c1(0x97)];_0x3ff91c++){_0x1f8201[_0x3ff91c]['number']>=_0x2c867f[_0x49f1c1(0x89)]&&(_0x2c867f=_0x1f8201[_0x3ff91c]);}_0x2c867f[_0x49f1c1(0x72)][_0x49f1c1(0x96)](_0x2c867f);}function zoomChange(){var _0x55a8e2=_0x45a368;cellSize=parseInt(id(_0x55a8e2(0xfe))[_0x55a8e2(0x82)]),changeMapSize();}function changeMapSize(){var _0x235b9f=_0x45a368;canvas[_0x235b9f(0x9c)]=cellQuantityW*cellSize,canvas[_0x235b9f(0x84)]=cellQuantityH*cellSize;}function _0x300c(_0x36aa40,_0x4a9efb){var _0x1252ec=_0x5750();return _0x300c=function(_0x56b6a1,_0x5db17c){_0x56b6a1=_0x56b6a1-0x65;var _0x308d79=_0x1252ec[_0x56b6a1];return _0x308d79;},_0x300c(_0x36aa40,_0x4a9efb);}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x39b4b6){var _0x263a5e=parseInt(_0x39b4b6),_0xa84f58=_0x263a5e%cellSize;if(_0xa84f58!==0x0){if(_0xa84f58>cellSize/0x2)_0x263a5e=_0x263a5e-_0xa84f58+cellSize;else _0x263a5e=_0x263a5e-_0xa84f58;}return _0x263a5e/cellSize>0x0&&_0x263a5e/cellSize<0x1?0x0:_0x263a5e/cellSize;}function enableBeforeUnload(){var _0x1a3322=_0x45a368;window[_0x1a3322(0xa3)]=function(_0x297aa6){var _0x2a1c25=_0x1a3322;if(madeChanges)return _0x2a1c25(0xed);};}function disableBeforeUnload(){var _0x343479=_0x45a368;window[_0x343479(0xa3)]=null;}enableBeforeUnload(),document[_0x45a368(0xdd)]('contextmenu',function(_0x4d60c8){var _0x1f7046=_0x45a368;madeChanges=!![];var _0x3994b3=window['pageXOffset']-canvas[_0x1f7046(0x92)],_0x2e4769=window[_0x1f7046(0xf6)]-canvas['offsetTop'];_0x4d60c8[_0x1f7046(0xf7)]();var _0x32a805=_0x4d60c8[_0x1f7046(0xec)]+_0x3994b3,_0x386eb2=_0x4d60c8[_0x1f7046(0x107)]+_0x2e4769;removeElements(map,_0x32a805,_0x386eb2),removeElements(hitBoxes,_0x32a805,_0x386eb2),removeElements(camBoxes,_0x32a805,_0x386eb2);});function removeElements(_0x599aea,_0x4394ae,_0xe8ed38){var _0x556d12=_0x45a368,_0x523b16=[];for(let _0x3ebdb3=0x0;_0x3ebdb3<_0x599aea[_0x556d12(0x97)];_0x3ebdb3++){_0x4394ae>_0x599aea[_0x3ebdb3]['x']*cellSize&&_0x4394ae<_0x599aea[_0x3ebdb3]['x']*cellSize+_0x599aea[_0x3ebdb3]['w']*cellSize&&(_0xe8ed38>_0x599aea[_0x3ebdb3]['y']*cellSize&&_0xe8ed38<_0x599aea[_0x3ebdb3]['y']*cellSize+_0x599aea[_0x3ebdb3]['h']*cellSize&&_0x523b16[_0x556d12(0x9e)](_0x3ebdb3));}_0x523b16[_0x556d12(0xa2)](function(_0x582140,_0xa2b2d6){return _0xa2b2d6-_0x582140;});for(let _0x2092c6=0x0;_0x2092c6<_0x523b16[_0x556d12(0x97)];_0x2092c6++){_0x599aea[_0x556d12(0xad)](_0x523b16[_0x2092c6],0x1);}}function download(_0x50c4cc,_0x3614d5){var _0x30758d=_0x45a368;madeChanges=![];var _0x28590c=new Blob([_0x3614d5],{'type':'text/csv'});if(window[_0x30758d(0x102)]['msSaveOrOpenBlob'])window[_0x30758d(0x102)][_0x30758d(0xd5)](_0x28590c,_0x50c4cc);else{var _0x58d1b8=window['document'][_0x30758d(0xff)]('a');_0x58d1b8[_0x30758d(0xcc)]=window['URL'][_0x30758d(0xf1)](_0x28590c),_0x58d1b8[_0x30758d(0xd2)]=_0x50c4cc,document['body'][_0x30758d(0xf2)](_0x58d1b8),_0x58d1b8['click'](),document[_0x30758d(0xbf)][_0x30758d(0x96)](_0x58d1b8);}}window['addEventListener'](_0x45a368(0x9d),function(_0x498def){var _0x1169b1=_0x45a368,_0xbd8fed=_0x498def[_0x1169b1(0xae)];switch(_0xbd8fed){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x1169b1(0x69)]=!![];break;case 0x51:camera[_0x1169b1(0x8f)]=!![];break;}}),window[_0x45a368(0xdd)](_0x45a368(0x105),function(_0x47d6d3){var _0x3520f2=_0x45a368,_0x1a89cc=_0x47d6d3[_0x3520f2(0xae)];switch(_0x1a89cc){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x3520f2(0x69)]=![];break;case 0x51:camera['zoomOut']=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x51edfa,_0x50262d){var _0x4c5558=_0x45a368;_0x51edfa[_0x4c5558(0xde)]==![]&&(typeof _0x50262d==_0x4c5558(0xea)&&_0x50262d(undefined));;var _0x22cc42=_0x51edfa[_0x4c5558(0xde)][_0x4c5558(0x88)];_0x22cc42==undefined&&(typeof _0x50262d==_0x4c5558(0xea)&&_0x50262d(undefined));;for(var _0x1c5807=0x0;_0x1c5807<_0x22cc42[_0x4c5558(0x97)];_0x1c5807++){if(_0x22cc42[_0x1c5807][_0x4c5558(0xfb)][_0x4c5558(0x70)]('image')==-0x1)continue;var _0x216350=_0x22cc42[_0x1c5807][_0x4c5558(0x85)]();typeof _0x50262d==_0x4c5558(0xea)&&_0x50262d(_0x216350);}}window['addEventListener']('paste',function(_0xf49c27){retrieveImageFromClipboardAsBlob(_0xf49c27,function(_0x2c2a18){var _0x46cb57=_0x300c;if(_0x2c2a18){var _0x2e4201=new Image();_0x2e4201[_0x46cb57(0x8e)]=function(){var _0x1cbfba=_0x46cb57;pastedImage=_0x2e4201,id(_0x1cbfba(0x87))['value']=pastedImage[_0x1cbfba(0x9c)]/cellSize,cellQuantityW=pastedImage[_0x1cbfba(0x9c)]/cellSize,id(_0x1cbfba(0xa8))[_0x1cbfba(0x82)]=pastedImage[_0x1cbfba(0x84)]/cellSize,cellQuantityH=pastedImage[_0x1cbfba(0x84)]/cellSize,changeMapSize();};var _0x475893=window['URL']||window[_0x46cb57(0x77)];_0x2e4201[_0x46cb57(0x7c)]=_0x475893[_0x46cb57(0xf1)](_0x2c2a18);}});},![]);