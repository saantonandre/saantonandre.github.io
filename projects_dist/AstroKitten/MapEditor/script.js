'use strict';var _0x2028c0=_0x25b8;(function(_0x28de0c,_0xd752fe){var _0xe8544=_0x25b8,_0x4f9fdf=_0x28de0c();while(!![]){try{var _0x5aa54e=parseInt(_0xe8544(0x152))/0x1*(-parseInt(_0xe8544(0x10f))/0x2)+-parseInt(_0xe8544(0x110))/0x3+parseInt(_0xe8544(0xdc))/0x4+parseInt(_0xe8544(0xeb))/0x5+-parseInt(_0xe8544(0x15a))/0x6*(-parseInt(_0xe8544(0xd0))/0x7)+-parseInt(_0xe8544(0xfe))/0x8*(parseInt(_0xe8544(0x10c))/0x9)+-parseInt(_0xe8544(0x103))/0xa*(-parseInt(_0xe8544(0x177))/0xb);if(_0x5aa54e===_0xd752fe)break;else _0x4f9fdf['push'](_0x4f9fdf['shift']());}catch(_0xa46037){_0x4f9fdf['push'](_0x4f9fdf['shift']());}}}(_0x1276,0xc6dfd));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x7dcf11){var _0x4ac490=_0x25b8,_0x553026=(function(){var _0x531c4f=!![];return function(_0x3735e5,_0x1ade76){var _0x217e7a=_0x531c4f?function(){var _0x395e88=_0x25b8;if(_0x1ade76){var _0x2eb2dd=_0x1ade76[_0x395e88(0xf3)](_0x3735e5,arguments);return _0x1ade76=null,_0x2eb2dd;}}:function(){};return _0x531c4f=![],_0x217e7a;};}()),_0x4a30fd=_0x553026(this,function(){var _0x4ca71d=_0x25b8,_0x40b5dd=function(){var _0x3b5731=_0x25b8,_0x5291f5;try{_0x5291f5=Function(_0x3b5731(0x149)+_0x3b5731(0xd7)+');')();}catch(_0x1380da){_0x5291f5=window;}return _0x5291f5;},_0x41d184=_0x40b5dd(),_0x527dd1=new RegExp(_0x4ca71d(0x128),'g'),_0x3194e9=_0x4ca71d(0xfb)[_0x4ca71d(0x154)](_0x527dd1,'')['split'](';'),_0x53351a,_0xfb4d9c,_0x3e6640,_0x4cf11c,_0x3e0416=function(_0x5ed8b3,_0x18c1c8,_0xc53e7b){var _0x59e398=_0x4ca71d;if(_0x5ed8b3[_0x59e398(0x14e)]!=_0x18c1c8)return![];for(var _0x251058=0x0;_0x251058<_0x18c1c8;_0x251058++){for(var _0x32d31c=0x0;_0x32d31c<_0xc53e7b[_0x59e398(0x14e)];_0x32d31c+=0x2){if(_0x251058==_0xc53e7b[_0x32d31c]&&_0x5ed8b3[_0x59e398(0xef)](_0x251058)!=_0xc53e7b[_0x32d31c+0x1])return![];}}return!![];},_0x58ddd9=function(_0x4e1d5b,_0x499515,_0x1bb761){return _0x3e0416(_0x499515,_0x1bb761,_0x4e1d5b);},_0x22eee4=function(_0x235041,_0xf23a9e,_0x37141a){return _0x58ddd9(_0xf23a9e,_0x235041,_0x37141a);},_0x3db7d5=function(_0x4a251b,_0x47d36d,_0x53335b){return _0x22eee4(_0x47d36d,_0x53335b,_0x4a251b);};for(var _0x5284c6 in _0x41d184){if(_0x3e0416(_0x5284c6,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x53351a=_0x5284c6;break;}}for(var _0x28a7ae in _0x41d184[_0x53351a]){if(_0x3db7d5(0x6,_0x28a7ae,[0x5,0x6e,0x0,0x64])){_0xfb4d9c=_0x28a7ae;break;}}for(var _0xbdaa7f in _0x41d184[_0x53351a]){if(_0x22eee4(_0xbdaa7f,[0x7,0x6e,0x0,0x6c],0x8)){_0x3e6640=_0xbdaa7f;break;}}if(!('~'>_0xfb4d9c))for(var _0x4060a6 in _0x41d184[_0x53351a][_0x3e6640]){if(_0x58ddd9([0x7,0x65,0x0,0x68],_0x4060a6,0x8)){_0x4cf11c=_0x4060a6;break;}}if(!_0x53351a||!_0x41d184[_0x53351a])return;var _0x2ae212=_0x41d184[_0x53351a][_0xfb4d9c],_0x11eb32=!!_0x41d184[_0x53351a][_0x3e6640]&&_0x41d184[_0x53351a][_0x3e6640][_0x4cf11c],_0x3b8936=_0x2ae212||_0x11eb32;if(!_0x3b8936)return;var _0x34388b=![];for(var _0x4de6bd=0x0;_0x4de6bd<_0x3194e9[_0x4ca71d(0x14e)];_0x4de6bd++){var _0xfb4d9c=_0x3194e9[_0x4de6bd],_0x4078a3=_0xfb4d9c[0x0]===String['fromCharCode'](0x2e)?_0xfb4d9c[_0x4ca71d(0xde)](0x1):_0xfb4d9c,_0x261ea6=_0x3b8936[_0x4ca71d(0x14e)]-_0x4078a3[_0x4ca71d(0x14e)],_0x1914c2=_0x3b8936[_0x4ca71d(0xd8)](_0x4078a3,_0x261ea6),_0x247e00=_0x1914c2!==-0x1&&_0x1914c2===_0x261ea6;_0x247e00&&((_0x3b8936[_0x4ca71d(0x14e)]==_0xfb4d9c[_0x4ca71d(0x14e)]||_0xfb4d9c[_0x4ca71d(0xd8)]('.')===0x0)&&(_0x34388b=!![]));}if(!_0x34388b){var _0x282934=new RegExp(_0x4ca71d(0x113),'g'),_0x5c9570=_0x4ca71d(0x124)[_0x4ca71d(0x154)](_0x282934,'');_0x41d184[_0x53351a][_0x3e6640]=_0x5c9570;}});return _0x4a30fd(),document[_0x4ac490(0x119)](_0x7dcf11);}var canvas=id(_0x2028c0(0x17a)),sheet=id(_0x2028c0(0x112)),c=canvas[_0x2028c0(0xfd)]('2d');c[_0x2028c0(0xda)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')['onclick']=function(){addLevel();};function clearMap(){var _0x5758b4=_0x2028c0;map=[],mapObject[_0x5758b4(0x102)]=[],mapObject[_0x5758b4(0x12c)]=[],mapObject['spawnPoint']={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x2c916d=_0x2028c0;let _0x213ae4=document[_0x2c916d(0x139)]('levels');for(let _0x3353bb=_0x213ae4[_0x2c916d(0x14e)]-0x1;_0x3353bb>=0x0;_0x3353bb--){_0x213ae4[_0x3353bb]['parentNode'][_0x2c916d(0x104)](_0x213ae4[_0x3353bb]);}}id('saveButton')['onclick']=saveImage;function saveImage(){var _0x237566=_0x2028c0;canvas[_0x237566(0x148)](_0x177d1f=>navigator[_0x237566(0x136)][_0x237566(0x11f)]([new ClipboardItem({'image/png':_0x177d1f})]));}function addButton(){var _0x31f842=_0x2028c0,_0x20183e=document[_0x31f842(0x134)]('button');_0x20183e['number']=levels[_0x31f842(0x14e)],_0x20183e[_0x31f842(0xfa)]=levels[_0x31f842(0x14e)],_0x20183e[_0x31f842(0xd1)]+='\x20levels',_0x20183e[_0x31f842(0x127)]=function(_0xbd2f70){levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this['number'],safeEval(JSON['parse'](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0x31f842(0x12a))['appendChild'](_0x20183e),highlightCurrentLevel();}function addLevel(){var _0x27fa68=_0x2028c0;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x27fa68(0x155)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON['parse'](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x2028c0(0x151))[_0x2028c0(0x166)],cellQuantityH=id(_0x2028c0(0xd6))[_0x2028c0(0x166)],cellSize=0x10,fileName=_0x2028c0(0x15b),interactiveTile=0x0;canvas['width']=cellQuantityW*cellSize,canvas[_0x2028c0(0xe7)]=cellQuantityH*cellSize,id(_0x2028c0(0x106))[_0x2028c0(0x137)]=function(){cellQuantityW=id('mapSizeW')['value'],changeMapSize();},id(_0x2028c0(0x172))[_0x2028c0(0x137)]=function(){var _0x15c855=_0x2028c0;cellQuantityH=id(_0x15c855(0xd6))[_0x15c855(0x166)],changeMapSize();},window[_0x2028c0(0x158)]=function(){var _0x277154=_0x2028c0;for(let _0x4ff91d=0x0;_0x4ff91d<tiles[_0x277154(0x14e)];_0x4ff91d++){var _0xd71d4e=document['createElement'](_0x277154(0x17a));_0xd71d4e['id']=_0x277154(0x17a)+_0x4ff91d,_0xd71d4e[_0x277154(0x142)]=0x20,_0xd71d4e[_0x277154(0xe7)]=0x20,_0xd71d4e[_0x277154(0xe9)]=_0x4ff91d,_0xd71d4e[_0x277154(0xfd)]('2d')[_0x277154(0xda)]=![];_0x4ff91d===0x0&&(_0xd71d4e[_0x277154(0xd1)]+=_0x277154(0x157));_0xd71d4e[_0x277154(0xd1)]+=_0x277154(0x11c),_0xd71d4e['getContext']('2d')[_0x277154(0xe2)](sheet,tiles[_0x4ff91d][0x0]*0x10,tiles[_0x4ff91d][0x1]*0x10,0x10,0x10,0x0,0x0,_0xd71d4e[_0x277154(0x142)],_0xd71d4e[_0x277154(0xe7)]);var _0x2c8690=document[_0x277154(0x145)](_0x277154(0x131))[0x0];id(_0x277154(0x16d))[_0x277154(0xd9)](_0xd71d4e),id(_0x277154(0x17a)+_0x4ff91d)['onclick']=function(){var _0x1350de=_0x277154;selectedType=this[_0x1350de(0xe9)];for(let _0x2732df=0x0;_0x2732df<tiles[_0x1350de(0x14e)];_0x2732df++){id(_0x1350de(0x17a)+_0x2732df)[_0x1350de(0x116)][_0x1350de(0x165)](_0x1350de(0x14c));}this[_0x1350de(0xd1)]+=_0x1350de(0x157);};}loop();},id(_0x2028c0(0x156))[_0x2028c0(0x137)]=function(){var _0x492ae2=_0x2028c0;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x3527b4=0x0;_0x3527b4<levels[_0x492ae2(0x14e)];_0x3527b4++){levelsArray[_0x492ae2(0x126)](JSON[_0x492ae2(0x135)](levels[_0x3527b4]));}var _0x60bc5c=window[_0x492ae2(0x16e)](_0x492ae2(0xfc));},id(_0x2028c0(0xcf))['onclick']=function(){var _0x279b22=_0x2028c0;interactiveTile?(interactiveTile=0x0,id('interactive')[_0x279b22(0x173)][_0x279b22(0x125)]=_0x279b22(0x11d),id(_0x279b22(0xcf))[_0x279b22(0x173)][_0x279b22(0x140)]=_0x279b22(0xf8)):(interactiveTile=0x1,id('interactive')[_0x279b22(0x173)][_0x279b22(0x125)]='black',id('interactive')['style']['color']='white');};var hitBoxToggle=![];id(_0x2028c0(0x167))[_0x2028c0(0x137)]=function(){var _0x22d129=_0x2028c0;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id('toggle')[_0x22d129(0xfa)]='drawing:\x20displayed';else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id('toggle')[_0x22d129(0xfa)]='drawing:\x20hitboxes';else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id('toggle')[_0x22d129(0xfa)]=_0x22d129(0x161));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x22881f=_0x2028c0;c[_0x22881f(0x15f)](0x0,0x0,canvas[_0x22881f(0x142)],canvas['height']),pastedImage&&c[_0x22881f(0xe2)](pastedImage,0x0,0x0,pastedImage['width'],pastedImage['height']),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x21b66f=_0x2028c0;if(hitBoxToggle==0x1)c[_0x21b66f(0x11e)]=_0x21b66f(0xea);else c[_0x21b66f(0x11e)]=_0x21b66f(0xf4);c[_0x21b66f(0x111)](),c[_0x21b66f(0x13e)](square['x'],square['y'],square['w'],square['h']),c['closePath'](),c[_0x21b66f(0x170)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x2028c0(0xf1))),dragElement(id(_0x2028c0(0x16d))),dragElement(id('cont3'));function dragElement(_0x4ec17f){var _0x51bb2e=_0x2028c0,_0x55c3b3=0x0,_0x87246c=0x0,_0x3cab64=0x0,_0xeb0d72=0x0;_0x4ec17f[_0x51bb2e(0x127)]=_0x124e40;function _0x124e40(_0x58ccb7){var _0x49ef36=_0x51bb2e;_0x58ccb7=_0x58ccb7||window[_0x49ef36(0xf7)],_0x3cab64=_0x58ccb7[_0x49ef36(0x117)],_0xeb0d72=_0x58ccb7[_0x49ef36(0x14b)],document[_0x49ef36(0x16a)]=_0x3c86f2,document[_0x49ef36(0x123)]=_0x17b54f;}function _0x17b54f(_0x2660a3){var _0x203720=_0x51bb2e;_0x2660a3=_0x2660a3||window[_0x203720(0xf7)],_0x2660a3[_0x203720(0x121)](),_0x55c3b3=_0x3cab64-_0x2660a3['clientX'],_0x87246c=_0xeb0d72-_0x2660a3['clientY'],_0x3cab64=_0x2660a3[_0x203720(0x117)],_0xeb0d72=_0x2660a3[_0x203720(0x14b)],_0x4ec17f['style'][_0x203720(0x12d)]=_0x4ec17f[_0x203720(0x146)]-_0x87246c+'px',_0x4ec17f[_0x203720(0x173)]['left']=_0x4ec17f[_0x203720(0xe8)]-_0x55c3b3+'px';}function _0x3c86f2(){var _0x3b7e3e=_0x51bb2e;document[_0x3b7e3e(0x16a)]=null,document[_0x3b7e3e(0x123)]=null;}}var mapCode='';id(_0x2028c0(0x120))[_0x2028c0(0x137)]=function(){var _0x28fef3=_0x2028c0;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x4f209d=0x0;_0x4f209d<levels[_0x28fef3(0x14e)];_0x4f209d++){levelsArray[_0x28fef3(0x126)](JSON[_0x28fef3(0x135)](levels[_0x4f209d]));}id(_0x28fef3(0x15e))[_0x28fef3(0x173)][_0x28fef3(0xed)]=_0x28fef3(0x16c),id(_0x28fef3(0x115))['innerHTML']=JSON[_0x28fef3(0x114)](levelsArray);};function newMapExport(){var _0x5ebd9d=_0x2028c0;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x5ebd9d(0x114)](mapObject);};id(_0x2028c0(0x12b))[_0x2028c0(0x137)]=function(){var _0x41fc9c=_0x2028c0;id(_0x41fc9c(0x15e))[_0x41fc9c(0x173)][_0x41fc9c(0xed)]='none';},id(_0x2028c0(0x144))[_0x2028c0(0x137)]=function(){var _0xc9bcd4=_0x2028c0;download('map.json',JSON[_0xc9bcd4(0x114)](levelsArray));},id(_0x2028c0(0xe6))[_0x2028c0(0x141)]=function(){var _0x585e12=_0x2028c0;console['log']('importing...');let _0xc73da9=id(_0x585e12(0xe6))[_0x585e12(0x107)][0x0];fileName=id(_0x585e12(0xe6))[_0x585e12(0x107)][0x0][_0x585e12(0x15d)]['split']('.')[0x0];let _0x2b1227=new FileReader();_0x2b1227['onload']=function(_0x176a5e){var _0x14449a=_0x585e12;let _0x232ba9=_0x2b1227[_0x14449a(0xd3)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x14449a(0x135)](_0x232ba9);for(let _0x4e7aeb=0x0;_0x4e7aeb<levelsArray[_0x14449a(0x14e)];_0x4e7aeb++){addButton(),levels[_0x4e7aeb]=JSON[_0x14449a(0x114)](levelsArray[_0x4e7aeb]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x2b1227['readAsText'](_0xc73da9);};function safeEval(_0x2e6ef1){var _0x5b2bc2=_0x2028c0;typeof _0x2e6ef1===_0x5b2bc2(0xe0)&&_0x2e6ef1!==null&&(map=_0x2e6ef1[_0x5b2bc2(0x102)],spawnPoint=_0x2e6ef1[_0x5b2bc2(0x108)],camBoxes=_0x2e6ef1[_0x5b2bc2(0x12c)]);}var baseWidth=id(_0x2028c0(0x151))[_0x2028c0(0x166)],baseHeight=id(_0x2028c0(0xd6))[_0x2028c0(0x166)];function resizeMap(){var _0x34b15e=_0x2028c0;let _0x10c403=0x0,_0x41d3b2=0x0;for(let _0x21437f=0x0;_0x21437f<map[_0x34b15e(0x14e)];_0x21437f++){map[_0x21437f]['x']+map[_0x21437f]['w']>_0x10c403&&(_0x10c403=map[_0x21437f]['x']+map[_0x21437f]['w']),map[_0x21437f]['y']+map[_0x21437f]['h']>_0x41d3b2&&(_0x41d3b2=map[_0x21437f]['y']+map[_0x21437f]['h']);}_0x41d3b2<baseHeight&&(_0x41d3b2=baseHeight),_0x10c403<baseWidth&&(_0x10c403=baseWidth),cellQuantityW=_0x10c403,id(_0x34b15e(0x151))['value']=_0x10c403,cellQuantityH=_0x41d3b2,id(_0x34b15e(0xd6))[_0x34b15e(0x166)]=_0x41d3b2,changeMapSize();}function highlightCurrentLevel(){var _0x15b891=_0x2028c0;let _0x1be1a1=document['getElementsByClassName'](_0x15b891(0xe4));for(let _0x287ef0=0x0;_0x287ef0<_0x1be1a1[_0x15b891(0x14e)];_0x287ef0++){if(_0x1be1a1[_0x287ef0][_0x15b891(0xe9)]==currentLevel)!_0x1be1a1[_0x287ef0][_0x15b891(0x116)][_0x15b891(0x13b)](_0x15b891(0x14c))&&_0x1be1a1[_0x287ef0][_0x15b891(0x116)]['add'](_0x15b891(0x14c));else _0x1be1a1[_0x287ef0][_0x15b891(0x116)][_0x15b891(0x13b)]('selected')&&_0x1be1a1[_0x287ef0][_0x15b891(0x116)][_0x15b891(0x165)](_0x15b891(0x14c));}}function cameraMove(){var _0x24f02a=_0x2028c0;camera['L']&&(sX-=camera[_0x24f02a(0x147)]);camera['R']&&(sX+=camera['speed']);camera['T']&&(sY-=camera[_0x24f02a(0x147)]);camera['B']&&(sY+=camera['speed']);sX<0x0&&(sX=0x0);sX>canvas[_0x24f02a(0x142)]-window[_0x24f02a(0x11b)]&&(sX=canvas['width']-window[_0x24f02a(0x11b)]);sY<0x0&&(sY=0x0);sY>canvas[_0x24f02a(0xe7)]-window[_0x24f02a(0xf2)]&&(sY=canvas[_0x24f02a(0xe7)]-window[_0x24f02a(0xf2)]);if(camera[_0x24f02a(0x169)])id('zoomer')['value']--,zoomChange();else camera[_0x24f02a(0x159)]&&(id('zoomer')[_0x24f02a(0x166)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x5b1110=_0x2028c0;(camera['L']||camera['R']||camera['T']||camera['B']||camera['zoomIn']||camera['zoomOut'])&&cameraMove();c[_0x5b1110(0x132)]=0x1;for(let _0x244bdb=0x0;_0x244bdb<map['length'];_0x244bdb++){if(map[_0x244bdb][_0x5b1110(0xec)]>0x33)for(let _0x34505f=0x0;_0x34505f<map[_0x244bdb]['h'];_0x34505f++){for(let _0x47ea3c=0x0;_0x47ea3c<map[_0x244bdb]['w'];_0x47ea3c++){c['drawImage'](id(_0x5b1110(0x112)),tiles[map[_0x244bdb][_0x5b1110(0xec)]][0x0]*0x10,tiles[map[_0x244bdb][_0x5b1110(0xec)]][0x1]*0x10,0x10,0x10,(map[_0x244bdb]['x']+_0x47ea3c)*cellSize,(map[_0x244bdb]['y']+_0x34505f)*cellSize,cellSize,cellSize);}}}for(let _0x17d150=0x0;_0x17d150<map[_0x5b1110(0x14e)];_0x17d150++){if(map[_0x17d150]['type']<=0x33)for(let _0x89d4b=0x0;_0x89d4b<map[_0x17d150]['h'];_0x89d4b++){for(let _0x5512dd=0x0;_0x5512dd<map[_0x17d150]['w'];_0x5512dd++){c['drawImage'](id('sheet'),tiles[map[_0x17d150][_0x5b1110(0xec)]][0x0]*0x10,tiles[map[_0x17d150][_0x5b1110(0xec)]][0x1]*0x10,0x10,0x10,(map[_0x17d150]['x']+_0x5512dd)*cellSize,(map[_0x17d150]['y']+_0x89d4b)*cellSize,cellSize,cellSize);}}}for(let _0x1c0dde=0x0;_0x1c0dde<hitBoxes[_0x5b1110(0x14e)];_0x1c0dde++){c['fillStyle']=_0x5b1110(0x130),c[_0x5b1110(0x12e)](hitBoxes[_0x1c0dde]['x']*cellSize,hitBoxes[_0x1c0dde]['y']*cellSize,hitBoxes[_0x1c0dde]['w']*cellSize,hitBoxes[_0x1c0dde]['h']*cellSize);}c[_0x5b1110(0x132)]=0x1;for(let _0x1ba410=0x0;_0x1ba410<camBoxes['length'];_0x1ba410++){c[_0x5b1110(0x11e)]=_0x5b1110(0x14a),c[_0x5b1110(0x111)](),c[_0x5b1110(0x13e)](camBoxes[_0x1ba410]['x']*cellSize,camBoxes[_0x1ba410]['y']*cellSize,camBoxes[_0x1ba410]['w']*cellSize,camBoxes[_0x1ba410]['h']*cellSize),c[_0x5b1110(0xd4)](),c[_0x5b1110(0x170)]();}c[_0x5b1110(0x105)]='#5b6ee1',c[_0x5b1110(0x12e)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function _0x1276(){var _0x5eb28a=['backgroundColor','push','onmousedown','[LLqQFRvHkYmJfBRRVUURqTvPECvqHBwmwDpYMHWLQyKIUZpFOvLKZVADQFJSwNG]','left','cont3','closeBtn','camBoxes','top','fillRect','x:\x20','#000000','body','globalAlpha','addEventListener','createElement','parse','clipboard','onclick','moveMap','getElementsByClassName','text','contains','navigator','click','rect','lineWidth','color','onchange','width','createObjectURL','downloadBtn','getElementsByTagName','offsetTop','speed','toBlob','return\x20(function()\x20','#002200','clientY','selected','href','length','pageXOffset','keyCode','mapSizeW','46YmIzqv','type\x20of\x20camera','replace','splice','test','\x20selected','onload','zoomIn','12sNWlvm','mapCode','clipboardData','name','exportBox','clearRect','URL','drawing:\x20camera','mousemove','change','info','remove','value','toggle','webkitURL','zoomOut','onmouseup',',\x20h:\x20','block','cont2','open','keydown','stroke','lineTo','mapSizeBtnH','style','crosshair','text/csv','xRDiff','2937gVPKAA','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','#0000cc','canvas','which','interactive','739466PrfnQV','className','cursor','result','closePath','image','mapSizeH','{}.constructor(\x22return\x20this\x22)(\x20)','indexOf','appendChild','imageSmoothingEnabled','paste','99144EzEyhu','mouseup','slice','sort','object','moveTo','drawImage','parentNode','levels','download','file','height','offsetLeft','number','#ff0000','4169130YhisGX','type','display','msSaveOrOpenBlob','charCodeAt','<br>\x20w:\x20','cont','innerHeight','apply','#ffffff','msSaveBlob','none','event','black','pageYOffset','innerHTML','LLsaqQFaRvntHkYmJfonBRanRdre.gVitUUhub.iRo;qTlvocaPlEChostvqHBwmwDpYMHWLQyKIUZpFOvLKZVADQFJSwNG','MapTester/index.html','getContext','112sAIFvF','pointer','Discard\x20changes?','deleteLvl','map','41370MWrgxz','removeChild','fillStyle','mapSizeBtnW','files','spawnPoint','yRDiff','getAsFile','zoomer','99882XdVBde','function','keyup','15692xYnEBF','2530770KtTMLq','beginPath','sheet','[vQjziUMyryEUYyyqiPchhFv]','stringify','exportText','classList','clientX','document','getElementById','spawn','innerWidth','\x20tile','white','strokeStyle','write','exportMap','preventDefault',',\x20y:\x20','onmousemove','abovQujt:bziUMlanykryEUYyyqiPchhFv'];_0x1276=function(){return _0x5eb28a;};return _0x1276();}function renderGrid(){var _0x5c251c=_0x2028c0;c[_0x5c251c(0x13f)]=0.1,c[_0x5c251c(0x11e)]=_0x5c251c(0xf4);for(let _0x2e989b=0x0;_0x2e989b<canvas['width'];_0x2e989b+=cellSize){c[_0x5c251c(0x111)](),c[_0x5c251c(0xe1)](_0x2e989b,0x0),c['lineTo'](_0x2e989b,canvas[_0x5c251c(0xe7)]),c[_0x5c251c(0xd4)](),c[_0x5c251c(0x170)]();}for(let _0x368f2e=0x0;_0x368f2e<canvas['height'];_0x368f2e+=cellSize){c['beginPath'](),c[_0x5c251c(0xe1)](0x0,_0x368f2e),c[_0x5c251c(0x171)](canvas[_0x5c251c(0x142)],_0x368f2e),c[_0x5c251c(0xd4)](),c[_0x5c251c(0x170)]();}c[_0x5c251c(0x13f)]=0x1;}var definingSpawnpoint=![];id(_0x2028c0(0x11a))[_0x2028c0(0x137)]=function(){var _0x32215a=_0x2028c0;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x32215a(0x11a))['style'][_0x32215a(0x140)]=_0x32215a(0x130),id(_0x32215a(0x17a))['style']['cursor']='crosshair',canvas['onclick']=null;return;}definingSpawnpoint=!![],id('spawn')['style']['color']=_0x32215a(0x179),id('canvas')[_0x32215a(0x173)][_0x32215a(0xd2)]=_0x32215a(0xff),canvas[_0x32215a(0x137)]=()=>{var _0x3bc02c=_0x32215a;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x3bc02c(0x11a))[_0x3bc02c(0x173)][_0x3bc02c(0x140)]='#000000',id(_0x3bc02c(0x17a))[_0x3bc02c(0x173)][_0x3bc02c(0xd2)]=_0x3bc02c(0x174),canvas[_0x3bc02c(0x137)]=null;};};function _0x25b8(_0x1a3219,_0x18772a){var _0x36c149=_0x1276();return _0x25b8=function(_0x5ecc75,_0x218478){_0x5ecc75=_0x5ecc75-0xcf;var _0x4577f3=_0x36c149[_0x5ecc75];return _0x4577f3;},_0x25b8(_0x1a3219,_0x18772a);}var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id('moveMap')[_0x2028c0(0x137)]=function(){var _0x4492a2=_0x2028c0;if(movingMap){movingMap=![],id(_0x4492a2(0x138))[_0x4492a2(0x173)][_0x4492a2(0x140)]=_0x4492a2(0x130),id('canvas')[_0x4492a2(0x173)][_0x4492a2(0xd2)]='crosshair';return;}movingMap=!![],id(_0x4492a2(0x138))[_0x4492a2(0x173)]['color']='#0000cc',id(_0x4492a2(0x17a))[_0x4492a2(0x173)]['cursor']='all-scroll',canvas[_0x4492a2(0x133)]('mousemove',function(){var _0x2b02a9=_0x4492a2;if(!movingMap||!mouseDown)return;let _0x1bc0f5=square['w']/cellSize-movingVariables[_0x2b02a9(0x176)],_0x4bb310=square['h']/cellSize-movingVariables[_0x2b02a9(0x109)];(_0x1bc0f5!==0x0||_0x4bb310!==0x0)&&(moveEverything(_0x1bc0f5,_0x4bb310),movingVariables[_0x2b02a9(0x176)]+=_0x1bc0f5,movingVariables[_0x2b02a9(0x109)]+=_0x4bb310);}),canvas[_0x4492a2(0x133)](_0x4492a2(0xdd),function(){var _0x4d576d=_0x4492a2;if(!movingMap)return;movingVariables[_0x4d576d(0x176)]=0x0,movingVariables[_0x4d576d(0x109)]=0x0;});};function moveEverything(_0x46852f,_0x28f40a){var _0x14fed1=_0x2028c0;if(_0x46852f==0x0&&_0x28f40a==0x0)return;for(let _0x50c44e=0x0;_0x50c44e<map[_0x14fed1(0x14e)];_0x50c44e++){map[_0x50c44e]['x']+=_0x46852f,map[_0x50c44e]['y']+=_0x28f40a;}for(let _0x3dee94=0x0;_0x3dee94<hitBoxes['length'];_0x3dee94++){hitBoxes[_0x3dee94]['x']+=_0x46852f,hitBoxes[_0x3dee94]['y']+=_0x28f40a;}for(let _0x4bd2e0=0x0;_0x4bd2e0<camBoxes[_0x14fed1(0x14e)];_0x4bd2e0++){camBoxes[_0x4bd2e0]['x']+=_0x46852f,camBoxes[_0x4bd2e0]['y']+=_0x28f40a;}spawnPoint['x']+=_0x46852f,spawnPoint['y']+=_0x28f40a;}function infoText(){var _0x2e2ec2=_0x2028c0,_0xbad7df=square['x']/cellSize,_0x5ac0ea=square['y']/cellSize;_0xbad7df>-0x1&&_0xbad7df<0x1&&(_0xbad7df=0x0),_0x5ac0ea>-0x1&&_0x5ac0ea<0x1&&(_0x5ac0ea=0x0),id('info')[_0x2e2ec2(0xfa)]=_0x2e2ec2(0x12f)+_0xbad7df+_0x2e2ec2(0x122)+_0x5ac0ea+_0x2e2ec2(0xf0)+square['w']/cellSize+_0x2e2ec2(0x16b)+square['h']/cellSize;}var mouseDown=![];canvas[_0x2028c0(0x133)]('mousedown',function(_0x3857e6){var _0x23fce0=_0x2028c0;mouseDown=!![];var _0x4d874c=window[_0x23fce0(0x14f)]-canvas['offsetLeft'],_0x5e9b96=window[_0x23fce0(0xf9)]-canvas['offsetTop'];id(_0x23fce0(0x164))[_0x23fce0(0x173)][_0x23fce0(0xed)]=_0x23fce0(0x16c),id(_0x23fce0(0x164))[_0x23fce0(0x173)][_0x23fce0(0x129)]=_0x3857e6['clientX']+0x1e+'px',id(_0x23fce0(0x164))[_0x23fce0(0x173)]['top']=_0x3857e6[_0x23fce0(0x14b)]-0x1e+'px',square['x']=round(_0x3857e6[_0x23fce0(0x117)]+_0x4d874c)*cellSize,square['y']=round(_0x3857e6[_0x23fce0(0x14b)]+_0x5e9b96)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x2028c0(0x133)](_0x2028c0(0x162),function(_0x403df4){var _0x5b3f78=_0x2028c0,_0x1fc6ae=window[_0x5b3f78(0x14f)]-canvas[_0x5b3f78(0xe8)],_0x5a6e22=window['pageYOffset']-canvas[_0x5b3f78(0x146)];mouseDown&&(id('info')[_0x5b3f78(0x173)][_0x5b3f78(0xed)]='block',id(_0x5b3f78(0x164))[_0x5b3f78(0x173)][_0x5b3f78(0x129)]=_0x403df4[_0x5b3f78(0x117)]+0x1e+'px',id(_0x5b3f78(0x164))[_0x5b3f78(0x173)][_0x5b3f78(0x12d)]=_0x403df4['clientY']-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x403df4[_0x5b3f78(0x117)]+_0x1fc6ae-square['x'])*cellSize,square['h']=round(_0x403df4['clientY']+_0x5a6e22-square['y'])*cellSize);}),canvas['addEventListener'](_0x2028c0(0xdd),function(_0x18a5b3){var _0x53decf=_0x2028c0;id(_0x53decf(0x164))['style']['display']=_0x53decf(0xf6),mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x18a5b3[_0x53decf(0x17b)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x53decf(0x126)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x2d2e99=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');hitBoxes[hitBoxes['length']-0x1][_0x53decf(0x13a)]=_0x2d2e99;}}else{if(hitBoxToggle==0x0){map[_0x53decf(0x126)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x2d2e99=prompt(_0x53decf(0x178),'');map[map[_0x53decf(0x14e)]-0x1][_0x53decf(0x13a)]=_0x2d2e99;}}else{if(hitBoxToggle==0x2){var _0x4d812a=parseInt(prompt(_0x53decf(0x153),''));camBoxes[_0x53decf(0x126)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x4d812a});}}}}}),id(_0x2028c0(0x10b))[_0x2028c0(0x133)](_0x2028c0(0x163),zoomChange),id(_0x2028c0(0x101))['addEventListener']('click',deleteLevel);function deleteLevel(){var _0x13b59c=_0x2028c0;madeChanges=!![];if(levels['length']==0x1){clearMap();return;}removeButton(),levels[_0x13b59c(0x155)](currentLevel,0x1),clearMap(),currentLevel=levels['length']-0x1,safeEval(JSON[_0x13b59c(0x135)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x58d6bd=_0x2028c0;let _0xd34c6c={'number':0x0},_0x324383=document[_0x58d6bd(0x139)]('levels');for(let _0x1af095=0x0;_0x1af095<_0x324383[_0x58d6bd(0x14e)];_0x1af095++){_0x324383[_0x1af095][_0x58d6bd(0xe9)]>=_0xd34c6c[_0x58d6bd(0xe9)]&&(_0xd34c6c=_0x324383[_0x1af095]);}_0xd34c6c[_0x58d6bd(0xe3)][_0x58d6bd(0x104)](_0xd34c6c);}function zoomChange(){var _0x40eedd=_0x2028c0;cellSize=parseInt(id(_0x40eedd(0x10b))[_0x40eedd(0x166)]),changeMapSize();}function changeMapSize(){var _0x94332c=_0x2028c0;canvas[_0x94332c(0x142)]=cellQuantityW*cellSize,canvas['height']=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x30c175){var _0x2f9918=parseInt(_0x30c175),_0x4837b8=_0x2f9918%cellSize;if(_0x4837b8!==0x0){if(_0x4837b8>cellSize/0x2)_0x2f9918=_0x2f9918-_0x4837b8+cellSize;else _0x2f9918=_0x2f9918-_0x4837b8;}return _0x2f9918/cellSize>0x0&&_0x2f9918/cellSize<0x1?0x0:_0x2f9918/cellSize;}function enableBeforeUnload(){window['onbeforeunload']=function(_0x3a7cd0){var _0x18ec35=_0x25b8;if(madeChanges)return _0x18ec35(0x100);};}function disableBeforeUnload(){window['onbeforeunload']=null;}enableBeforeUnload(),document[_0x2028c0(0x133)]('contextmenu',function(_0x5ebe1c){var _0x1a5adb=_0x2028c0;madeChanges=!![];var _0x4119d0=window['pageXOffset']-canvas[_0x1a5adb(0xe8)],_0x53fa7c=window['pageYOffset']-canvas[_0x1a5adb(0x146)];_0x5ebe1c['preventDefault']();var _0x36849f=_0x5ebe1c['clientX']+_0x4119d0,_0x622ae2=_0x5ebe1c[_0x1a5adb(0x14b)]+_0x53fa7c;removeElements(map,_0x36849f,_0x622ae2),removeElements(hitBoxes,_0x36849f,_0x622ae2),removeElements(camBoxes,_0x36849f,_0x622ae2);});function removeElements(_0x16d744,_0x2b16c1,_0x37ee10){var _0x27baf1=_0x2028c0,_0x37186b=[];for(let _0x29ff26=0x0;_0x29ff26<_0x16d744[_0x27baf1(0x14e)];_0x29ff26++){_0x2b16c1>_0x16d744[_0x29ff26]['x']*cellSize&&_0x2b16c1<_0x16d744[_0x29ff26]['x']*cellSize+_0x16d744[_0x29ff26]['w']*cellSize&&(_0x37ee10>_0x16d744[_0x29ff26]['y']*cellSize&&_0x37ee10<_0x16d744[_0x29ff26]['y']*cellSize+_0x16d744[_0x29ff26]['h']*cellSize&&_0x37186b[_0x27baf1(0x126)](_0x29ff26));}_0x37186b[_0x27baf1(0xdf)](function(_0x375825,_0x15ca8f){return _0x15ca8f-_0x375825;});for(let _0x3805bf=0x0;_0x3805bf<_0x37186b[_0x27baf1(0x14e)];_0x3805bf++){_0x16d744['splice'](_0x37186b[_0x3805bf],0x1);}}function download(_0x4d7e48,_0x101639){var _0x207629=_0x2028c0;madeChanges=![];var _0x8bcb4f=new Blob([_0x101639],{'type':_0x207629(0x175)});if(window[_0x207629(0x13c)][_0x207629(0xee)])window['navigator'][_0x207629(0xf5)](_0x8bcb4f,_0x4d7e48);else{var _0x173bcf=window[_0x207629(0x118)][_0x207629(0x134)]('a');_0x173bcf[_0x207629(0x14d)]=window[_0x207629(0x160)][_0x207629(0x143)](_0x8bcb4f),_0x173bcf[_0x207629(0xe5)]=_0x4d7e48,document['body'][_0x207629(0xd9)](_0x173bcf),_0x173bcf[_0x207629(0x13d)](),document['body']['removeChild'](_0x173bcf);}}window[_0x2028c0(0x133)](_0x2028c0(0x16f),function(_0x8e8caa){var _0x2acd76=_0x2028c0,_0x204aba=_0x8e8caa[_0x2acd76(0x150)];switch(_0x204aba){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera['zoomIn']=!![];break;case 0x51:camera[_0x2acd76(0x169)]=!![];break;}}),window[_0x2028c0(0x133)](_0x2028c0(0x10e),function(_0x393510){var _0x548eb0=_0x2028c0,_0x271148=_0x393510['keyCode'];switch(_0x271148){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x548eb0(0x159)]=![];break;case 0x51:camera[_0x548eb0(0x169)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x31964c,_0x2fc019){var _0x5b171c=_0x2028c0;_0x31964c[_0x5b171c(0x15c)]==![]&&(typeof _0x2fc019=='function'&&_0x2fc019(undefined));;var _0x3ceffa=_0x31964c[_0x5b171c(0x15c)]['items'];_0x3ceffa==undefined&&(typeof _0x2fc019==_0x5b171c(0x10d)&&_0x2fc019(undefined));;for(var _0x2be482=0x0;_0x2be482<_0x3ceffa[_0x5b171c(0x14e)];_0x2be482++){if(_0x3ceffa[_0x2be482]['type'][_0x5b171c(0xd8)](_0x5b171c(0xd5))==-0x1)continue;var _0x266ec4=_0x3ceffa[_0x2be482][_0x5b171c(0x10a)]();typeof _0x2fc019==_0x5b171c(0x10d)&&_0x2fc019(_0x266ec4);}}window[_0x2028c0(0x133)](_0x2028c0(0xdb),function(_0x23b460){retrieveImageFromClipboardAsBlob(_0x23b460,function(_0x452675){var _0x415e09=_0x25b8;if(_0x452675){var _0x57775d=new Image();_0x57775d[_0x415e09(0x158)]=function(){var _0x4c0bdc=_0x415e09;pastedImage=_0x57775d,id(_0x4c0bdc(0x151))[_0x4c0bdc(0x166)]=pastedImage['width']/cellSize,cellQuantityW=pastedImage[_0x4c0bdc(0x142)]/cellSize,id('mapSizeH')[_0x4c0bdc(0x166)]=pastedImage[_0x4c0bdc(0xe7)]/cellSize,cellQuantityH=pastedImage[_0x4c0bdc(0xe7)]/cellSize,changeMapSize();};var _0x2c5054=window[_0x415e09(0x160)]||window[_0x415e09(0x168)];_0x57775d['src']=_0x2c5054['createObjectURL'](_0x452675);}});},![]);