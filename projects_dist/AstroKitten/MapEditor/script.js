'use strict';var _0x6480d1=_0x1f03;function _0x1009(){var _0x5a74bc=['canvas','mouseup','1717996YYDvxN','mapCode','width','closeBtn','src','onmousemove','keyCode','webkitURL','display','createObjectURL','pageYOffset','193410tmFKyd','download','1864191FOWyWP','x:\x20','replace','className','camBoxes','#0000cc','slice','downloadBtn','toBlob','map','11506900ugVhGy','\x20selected','function','charCodeAt','parse','parentNode','beginPath','msSaveOrOpenBlob','apply','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','cont2','xRDiff','event','stroke','which','speed','cont',',\x20h:\x20','selected','backgroundColor','mapSizeW','getContext','innerHTML','sort','fillStyle','onmouseup','type','1374912ppoNnG','15LnqcGF','height','change','Discard\x20changes?','spawnPoint','indexOf','onmousedown','onchange','\x20tile','yRDiff','pageXOffset','getElementById','write','spawn','appendChild','zoomOut','value','mapSizeBtnW','open','toggle','number','imageSmoothingEnabled','file','\x20levels','add','block','sheet','keyup','white','drawing:\x20camera','clientX','#002200','rect','onbeforeunload','result','paste','createElement','onload','fromCharCode','cursor','cont3','clientY','innerWidth','7985574vClKjM','innerHeight','top','onclick','click','clearRect','offsetLeft','saanTFwtoOSnKxFanFwdQre.gqPiPthZISjQub.io;xlEoLcRaWSMlLhPoUsAtyMVBIDRykYHqmHvmfLzEyVYFVzYLxjIfGJJMZxMGRRG','offsetTop','left','<br>\x20w:\x20','exportBox','getElementsByClassName','href','black','color','splice','files','body',',\x20y:\x20','preventDefault','deleteLvl','globalAlpha','mousemove','contains','strokeStyle','#ffffff','interactive','8SLsMWm','lineTo','clipboardData','style','moveTo','getAsFile','contextmenu','crosshair','addEventListener','none','classList','{}.constructor(\x22return\x20this\x22)(\x20)','URL','zoomIn','8knPDgt','lineWidth','moveMap','mapSizeBtnH','mapSizeH','levels','1499838VAsvol','[VjRPNzqzKdvKKCYYPHeyNAOpMVGL]','zoomer','closePath','text','navigator','removeChild','#000000','length','push','MapTester/index.html','info','stringify','getElementsByTagName','drawImage','remove'];_0x1009=function(){return _0x5a74bc;};return _0x1009();}(function(_0x190c7f,_0x14ef1b){var _0x59b79d=_0x1f03,_0x5998ab=_0x190c7f();while(!![]){try{var _0x5c72b2=parseInt(_0x59b79d(0x9d))/0x1*(-parseInt(_0x59b79d(0x11a))/0x2)+parseInt(_0x59b79d(0x9f))/0x3+parseInt(_0x59b79d(0x92))/0x4+-parseInt(_0x59b79d(0xc5))/0x5*(-parseInt(_0x59b79d(0x120))/0x6)+parseInt(_0x59b79d(0xc4))/0x7+-parseInt(_0x59b79d(0x10c))/0x8*(-parseInt(_0x59b79d(0xf0))/0x9)+-parseInt(_0x59b79d(0xa9))/0xa;if(_0x5c72b2===_0x14ef1b)break;else _0x5998ab['push'](_0x5998ab['shift']());}catch(_0x42093f){_0x5998ab['push'](_0x5998ab['shift']());}}}(_0x1009,0xea6bb));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x1dc4fe){var _0x7b2f1e=_0x1f03,_0x2d390e=(function(){var _0x2c5e06=!![];return function(_0x1ffed2,_0x43d22f){var _0xaaef42=_0x2c5e06?function(){var _0x3ce451=_0x1f03;if(_0x43d22f){var _0x3bed4f=_0x43d22f[_0x3ce451(0xb1)](_0x1ffed2,arguments);return _0x43d22f=null,_0x3bed4f;}}:function(){};return _0x2c5e06=![],_0xaaef42;};}()),_0x223b76=_0x2d390e(this,function(){var _0xcb5042=_0x1f03,_0x52b165;try{var _0x109185=Function('return\x20(function()\x20'+_0xcb5042(0x117)+');');_0x52b165=_0x109185();}catch(_0x8467f){_0x52b165=window;}var _0x4cc5a8=new RegExp('[TFwOSKxFFwQqPPZISjQxELRWSMLPUAyMVBIDRykYHqmHvmfLzEyVYFVzYLxjIfGJJMZxMGRRG]','g'),_0x2939eb=_0xcb5042(0xf7)[_0xcb5042(0xa1)](_0x4cc5a8,'')['split'](';'),_0x3ee8f6,_0x35bae7,_0x53af6f,_0x4916d4,_0x53479e=function(_0x5f3bd9,_0x1f5f7e,_0x15798e){var _0x543632=_0xcb5042;if(_0x5f3bd9[_0x543632(0x128)]!=_0x1f5f7e)return![];for(var _0x4608b3=0x0;_0x4608b3<_0x1f5f7e;_0x4608b3++){for(var _0x5e66e7=0x0;_0x5e66e7<_0x15798e['length'];_0x5e66e7+=0x2){if(_0x4608b3==_0x15798e[_0x5e66e7]&&_0x5f3bd9[_0x543632(0xac)](_0x4608b3)!=_0x15798e[_0x5e66e7+0x1])return![];}}return!![];},_0xcd1b65=function(_0x1ef4ad,_0x8bbb52,_0xa2ef51){return _0x53479e(_0x8bbb52,_0xa2ef51,_0x1ef4ad);},_0x1bd14b=function(_0x268929,_0x10843d,_0xbd95f6){return _0xcd1b65(_0x10843d,_0x268929,_0xbd95f6);},_0x278059=function(_0x1a5329,_0x57e40f,_0xa25fc8){return _0x1bd14b(_0x57e40f,_0xa25fc8,_0x1a5329);};for(var _0x302e6c in _0x52b165){if(_0x53479e(_0x302e6c,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3ee8f6=_0x302e6c;break;}}for(var _0x1e60e1 in _0x52b165[_0x3ee8f6]){if(_0x278059(0x6,_0x1e60e1,[0x5,0x6e,0x0,0x64])){_0x35bae7=_0x1e60e1;break;}}for(var _0x198130 in _0x52b165[_0x3ee8f6]){if(_0x1bd14b(_0x198130,[0x7,0x6e,0x0,0x6c],0x8)){_0x53af6f=_0x198130;break;}}if(!('~'>_0x35bae7))for(var _0x62e09d in _0x52b165[_0x3ee8f6][_0x53af6f]){if(_0xcd1b65([0x7,0x65,0x0,0x68],_0x62e09d,0x8)){_0x4916d4=_0x62e09d;break;}}if(!_0x3ee8f6||!_0x52b165[_0x3ee8f6])return;var _0x1e2fa7=_0x52b165[_0x3ee8f6][_0x35bae7],_0x406cdc=!!_0x52b165[_0x3ee8f6][_0x53af6f]&&_0x52b165[_0x3ee8f6][_0x53af6f][_0x4916d4],_0x5c06c3=_0x1e2fa7||_0x406cdc;if(!_0x5c06c3)return;var _0x11011f=![];for(var _0x3947f2=0x0;_0x3947f2<_0x2939eb[_0xcb5042(0x128)];_0x3947f2++){var _0x35bae7=_0x2939eb[_0x3947f2],_0x412ef6=_0x35bae7[0x0]===String[_0xcb5042(0xeb)](0x2e)?_0x35bae7[_0xcb5042(0xa5)](0x1):_0x35bae7,_0x575cd8=_0x5c06c3[_0xcb5042(0x128)]-_0x412ef6['length'],_0x4d8032=_0x5c06c3[_0xcb5042(0xca)](_0x412ef6,_0x575cd8),_0x26740b=_0x4d8032!==-0x1&&_0x4d8032===_0x575cd8;_0x26740b&&((_0x5c06c3['length']==_0x35bae7[_0xcb5042(0x128)]||_0x35bae7['indexOf']('.')===0x0)&&(_0x11011f=!![]));}if(!_0x11011f){var _0x3e67c8=new RegExp(_0xcb5042(0x121),'g'),_0x10914d='VjRPaboutN:blzqankzKdvKKCYYPHeyNAOpMVGL'[_0xcb5042(0xa1)](_0x3e67c8,'');_0x52b165[_0x3ee8f6][_0x53af6f]=_0x10914d;}});return _0x223b76(),document[_0x7b2f1e(0xd0)](_0x1dc4fe);}var canvas=id(_0x6480d1(0x130)),sheet=id('sheet'),c=canvas[_0x6480d1(0xbe)]('2d');c[_0x6480d1(0xda)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x6480d1(0xf3)]=function(){addLevel();};function clearMap(){var _0x1a19cb=_0x6480d1;map=[],mapObject[_0x1a19cb(0xa8)]=[],mapObject['camBoxes']=[],mapObject[_0x1a19cb(0xc9)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x282c61=_0x6480d1;let _0xd00a0f=document[_0x282c61(0xfc)](_0x282c61(0x11f));for(let _0x2f4399=_0xd00a0f['length']-0x1;_0x2f4399>=0x0;_0x2f4399--){_0xd00a0f[_0x2f4399]['parentNode'][_0x282c61(0x126)](_0xd00a0f[_0x2f4399]);}}id('saveButton')[_0x6480d1(0xf3)]=saveImage;function saveImage(){var _0xae501d=_0x6480d1;canvas[_0xae501d(0xa7)](_0x9fa81c=>navigator['clipboard'][_0xae501d(0xd1)]([new ClipboardItem({'image/png':_0x9fa81c})]));}function addButton(){var _0x17f58e=_0x6480d1,_0x5cd8b5=document[_0x17f58e(0xe9)]('button');_0x5cd8b5['number']=levels['length'],_0x5cd8b5[_0x17f58e(0xbf)]=levels['length'],_0x5cd8b5[_0x17f58e(0xa2)]+=_0x17f58e(0xdc),_0x5cd8b5[_0x17f58e(0xcb)]=function(_0x4df330){var _0x222da1=_0x17f58e;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0x222da1(0xd9)],safeEval(JSON[_0x222da1(0xad)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id('cont3')['appendChild'](_0x5cd8b5),highlightCurrentLevel();}function addLevel(){var _0x31c950=_0x6480d1;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x31c950(0x100)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0x31c950(0xad)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id('mapSizeW')[_0x6480d1(0xd5)],cellQuantityH=id(_0x6480d1(0x11e))['value'],cellSize=0x10,fileName=_0x6480d1(0x93),interactiveTile=0x0;canvas[_0x6480d1(0x94)]=cellQuantityW*cellSize,canvas['height']=cellQuantityH*cellSize,id(_0x6480d1(0xd6))[_0x6480d1(0xf3)]=function(){var _0x4f237f=_0x6480d1;cellQuantityW=id(_0x4f237f(0xbd))[_0x4f237f(0xd5)],changeMapSize();},id(_0x6480d1(0x11d))[_0x6480d1(0xf3)]=function(){var _0x185d80=_0x6480d1;cellQuantityH=id(_0x185d80(0x11e))['value'],changeMapSize();},window[_0x6480d1(0xea)]=function(){var _0x552ba5=_0x6480d1;for(let _0x5966e0=0x0;_0x5966e0<tiles[_0x552ba5(0x128)];_0x5966e0++){var _0x5933c2=document[_0x552ba5(0xe9)](_0x552ba5(0x130));_0x5933c2['id']=_0x552ba5(0x130)+_0x5966e0,_0x5933c2[_0x552ba5(0x94)]=0x20,_0x5933c2[_0x552ba5(0xc6)]=0x20,_0x5933c2[_0x552ba5(0xd9)]=_0x5966e0,_0x5933c2[_0x552ba5(0xbe)]('2d')[_0x552ba5(0xda)]=![];_0x5966e0===0x0&&(_0x5933c2[_0x552ba5(0xa2)]+=_0x552ba5(0xaa));_0x5933c2[_0x552ba5(0xa2)]+=_0x552ba5(0xcd),_0x5933c2[_0x552ba5(0xbe)]('2d')[_0x552ba5(0x12e)](sheet,tiles[_0x5966e0][0x0]*0x10,tiles[_0x5966e0][0x1]*0x10,0x10,0x10,0x0,0x0,_0x5933c2['width'],_0x5933c2[_0x552ba5(0xc6)]);var _0x44fdf1=document[_0x552ba5(0x12d)](_0x552ba5(0x102))[0x0];id(_0x552ba5(0xb3))[_0x552ba5(0xd3)](_0x5933c2),id('canvas'+_0x5966e0)[_0x552ba5(0xf3)]=function(){var _0x545e7a=_0x552ba5;selectedType=this[_0x545e7a(0xd9)];for(let _0x106962=0x0;_0x106962<tiles[_0x545e7a(0x128)];_0x106962++){id(_0x545e7a(0x130)+_0x106962)[_0x545e7a(0x116)][_0x545e7a(0x12f)](_0x545e7a(0xbb));}this['className']+=_0x545e7a(0xaa);};}loop();},id('test')[_0x6480d1(0xf3)]=function(){var _0x40c02e=_0x6480d1;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x4e6d03=0x0;_0x4e6d03<levels[_0x40c02e(0x128)];_0x4e6d03++){levelsArray['push'](JSON['parse'](levels[_0x4e6d03]));}var _0x2baa9b=window[_0x40c02e(0xd7)](_0x40c02e(0x12a));},id(_0x6480d1(0x10b))[_0x6480d1(0xf3)]=function(){var _0x2e7ca9=_0x6480d1;interactiveTile?(interactiveTile=0x0,id(_0x2e7ca9(0x10b))[_0x2e7ca9(0x10f)][_0x2e7ca9(0xbc)]=_0x2e7ca9(0xe1),id(_0x2e7ca9(0x10b))[_0x2e7ca9(0x10f)][_0x2e7ca9(0xff)]=_0x2e7ca9(0xfe)):(interactiveTile=0x1,id(_0x2e7ca9(0x10b))['style']['backgroundColor']=_0x2e7ca9(0xfe),id(_0x2e7ca9(0x10b))['style']['color']=_0x2e7ca9(0xe1));};var hitBoxToggle=![];id(_0x6480d1(0xd8))[_0x6480d1(0xf3)]=function(){var _0x29dc2d=_0x6480d1;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id('toggle')['innerHTML']='drawing:\x20displayed';else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x29dc2d(0xd8))['innerHTML']='drawing:\x20hitboxes';else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x29dc2d(0xd8))[_0x29dc2d(0xbf)]=_0x29dc2d(0xe2));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x45542c=_0x6480d1;c[_0x45542c(0xf5)](0x0,0x0,canvas[_0x45542c(0x94)],canvas['height']),pastedImage&&c[_0x45542c(0x12e)](pastedImage,0x0,0x0,pastedImage[_0x45542c(0x94)],pastedImage[_0x45542c(0xc6)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x5886b6=_0x6480d1;if(hitBoxToggle==0x1)c[_0x5886b6(0x109)]='#ff0000';else c['strokeStyle']='#ffffff';c[_0x5886b6(0xaf)](),c[_0x5886b6(0xe5)](square['x'],square['y'],square['w'],square['h']),c[_0x5886b6(0x123)](),c[_0x5886b6(0xb6)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x6480d1(0xb9))),dragElement(id(_0x6480d1(0xb3))),dragElement(id(_0x6480d1(0xed)));function dragElement(_0x34339d){var _0x21ab9a=_0x6480d1,_0x5997cc=0x0,_0x35ea37=0x0,_0x5ca874=0x0,_0x56f6f5=0x0;_0x34339d[_0x21ab9a(0xcb)]=_0x125cbd;function _0x125cbd(_0x403899){var _0x18e337=_0x21ab9a;_0x403899=_0x403899||window[_0x18e337(0xb5)],_0x5ca874=_0x403899[_0x18e337(0xe3)],_0x56f6f5=_0x403899[_0x18e337(0xee)],document[_0x18e337(0xc2)]=_0x5e8db3,document[_0x18e337(0x97)]=_0x2b07f8;}function _0x2b07f8(_0x4fc082){var _0x4a239e=_0x21ab9a;_0x4fc082=_0x4fc082||window[_0x4a239e(0xb5)],_0x4fc082['preventDefault'](),_0x5997cc=_0x5ca874-_0x4fc082['clientX'],_0x35ea37=_0x56f6f5-_0x4fc082[_0x4a239e(0xee)],_0x5ca874=_0x4fc082[_0x4a239e(0xe3)],_0x56f6f5=_0x4fc082[_0x4a239e(0xee)],_0x34339d[_0x4a239e(0x10f)]['top']=_0x34339d[_0x4a239e(0xf8)]-_0x35ea37+'px',_0x34339d['style']['left']=_0x34339d['offsetLeft']-_0x5997cc+'px';}function _0x5e8db3(){var _0x177743=_0x21ab9a;document[_0x177743(0xc2)]=null,document[_0x177743(0x97)]=null;}}var mapCode='';id('exportMap')['onclick']=function(){var _0x568795=_0x6480d1;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x3f93c0=0x0;_0x3f93c0<levels[_0x568795(0x128)];_0x3f93c0++){levelsArray[_0x568795(0x129)](JSON[_0x568795(0xad)](levels[_0x3f93c0]));}id(_0x568795(0xfb))['style'][_0x568795(0x9a)]=_0x568795(0xde),id('exportText')[_0x568795(0xbf)]=JSON[_0x568795(0x12c)](levelsArray);};function newMapExport(){var _0x41cec3=_0x6480d1;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x41cec3(0x12c)](mapObject);};id(_0x6480d1(0x95))[_0x6480d1(0xf3)]=function(){var _0x3d736d=_0x6480d1;id(_0x3d736d(0xfb))['style'][_0x3d736d(0x9a)]=_0x3d736d(0x115);},id(_0x6480d1(0xa6))['onclick']=function(){var _0x190ed0=_0x6480d1;download('map.json',JSON[_0x190ed0(0x12c)](levelsArray));},id('file')[_0x6480d1(0xcc)]=function(){var _0x2b8fda=_0x6480d1;console['log']('importing...');let _0x5473c8=id('file')[_0x2b8fda(0x101)][0x0];fileName=id(_0x2b8fda(0xdb))[_0x2b8fda(0x101)][0x0]['name']['split']('.')[0x0];let _0x277d45=new FileReader();_0x277d45[_0x2b8fda(0xea)]=function(_0x178140){var _0x30b544=_0x2b8fda;let _0x1f8621=_0x277d45[_0x30b544(0xe7)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x30b544(0xad)](_0x1f8621);for(let _0x4e76fd=0x0;_0x4e76fd<levelsArray[_0x30b544(0x128)];_0x4e76fd++){addButton(),levels[_0x4e76fd]=JSON['stringify'](levelsArray[_0x4e76fd]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x277d45['readAsText'](_0x5473c8);};function safeEval(_0x319f34){var _0x215b73=_0x6480d1;typeof _0x319f34==='object'&&_0x319f34!==null&&(map=_0x319f34[_0x215b73(0xa8)],spawnPoint=_0x319f34['spawnPoint'],camBoxes=_0x319f34[_0x215b73(0xa3)]);}var baseWidth=id(_0x6480d1(0xbd))['value'],baseHeight=id(_0x6480d1(0x11e))[_0x6480d1(0xd5)];function resizeMap(){var _0x37ba9d=_0x6480d1;let _0x5b3d20=0x0,_0x552d2b=0x0;for(let _0x1c77cd=0x0;_0x1c77cd<map['length'];_0x1c77cd++){map[_0x1c77cd]['x']+map[_0x1c77cd]['w']>_0x5b3d20&&(_0x5b3d20=map[_0x1c77cd]['x']+map[_0x1c77cd]['w']),map[_0x1c77cd]['y']+map[_0x1c77cd]['h']>_0x552d2b&&(_0x552d2b=map[_0x1c77cd]['y']+map[_0x1c77cd]['h']);}_0x552d2b<baseHeight&&(_0x552d2b=baseHeight),_0x5b3d20<baseWidth&&(_0x5b3d20=baseWidth),cellQuantityW=_0x5b3d20,id(_0x37ba9d(0xbd))[_0x37ba9d(0xd5)]=_0x5b3d20,cellQuantityH=_0x552d2b,id(_0x37ba9d(0x11e))[_0x37ba9d(0xd5)]=_0x552d2b,changeMapSize();}function highlightCurrentLevel(){var _0x240d55=_0x6480d1;let _0x49ccf0=document[_0x240d55(0xfc)]('levels');for(let _0x15395d=0x0;_0x15395d<_0x49ccf0[_0x240d55(0x128)];_0x15395d++){if(_0x49ccf0[_0x15395d][_0x240d55(0xd9)]==currentLevel)!_0x49ccf0[_0x15395d]['classList'][_0x240d55(0x108)]('selected')&&_0x49ccf0[_0x15395d][_0x240d55(0x116)][_0x240d55(0xdd)](_0x240d55(0xbb));else _0x49ccf0[_0x15395d]['classList'][_0x240d55(0x108)](_0x240d55(0xbb))&&_0x49ccf0[_0x15395d][_0x240d55(0x116)]['remove'](_0x240d55(0xbb));}}function cameraMove(){var _0x4f76ca=_0x6480d1;camera['L']&&(sX-=camera[_0x4f76ca(0xb8)]);camera['R']&&(sX+=camera[_0x4f76ca(0xb8)]);camera['T']&&(sY-=camera['speed']);camera['B']&&(sY+=camera['speed']);sX<0x0&&(sX=0x0);sX>canvas['width']-window[_0x4f76ca(0xef)]&&(sX=canvas['width']-window[_0x4f76ca(0xef)]);sY<0x0&&(sY=0x0);sY>canvas[_0x4f76ca(0xc6)]-window[_0x4f76ca(0xf1)]&&(sY=canvas[_0x4f76ca(0xc6)]-window[_0x4f76ca(0xf1)]);if(camera[_0x4f76ca(0xd4)])id(_0x4f76ca(0x122))[_0x4f76ca(0xd5)]--,zoomChange();else camera[_0x4f76ca(0x119)]&&(id(_0x4f76ca(0x122))[_0x4f76ca(0xd5)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x12da93=_0x6480d1;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x12da93(0x119)]||camera[_0x12da93(0xd4)])&&cameraMove();c['globalAlpha']=0x1;for(let _0x26dfd7=0x0;_0x26dfd7<map[_0x12da93(0x128)];_0x26dfd7++){if(map[_0x26dfd7][_0x12da93(0xc3)]>0x33)for(let _0x417a83=0x0;_0x417a83<map[_0x26dfd7]['h'];_0x417a83++){for(let _0x4c59b4=0x0;_0x4c59b4<map[_0x26dfd7]['w'];_0x4c59b4++){c[_0x12da93(0x12e)](id(_0x12da93(0xdf)),tiles[map[_0x26dfd7]['type']][0x0]*0x10,tiles[map[_0x26dfd7][_0x12da93(0xc3)]][0x1]*0x10,0x10,0x10,(map[_0x26dfd7]['x']+_0x4c59b4)*cellSize,(map[_0x26dfd7]['y']+_0x417a83)*cellSize,cellSize,cellSize);}}}for(let _0x50ba1f=0x0;_0x50ba1f<map[_0x12da93(0x128)];_0x50ba1f++){if(map[_0x50ba1f][_0x12da93(0xc3)]<=0x33)for(let _0x5b3546=0x0;_0x5b3546<map[_0x50ba1f]['h'];_0x5b3546++){for(let _0x7c7227=0x0;_0x7c7227<map[_0x50ba1f]['w'];_0x7c7227++){c[_0x12da93(0x12e)](id(_0x12da93(0xdf)),tiles[map[_0x50ba1f]['type']][0x0]*0x10,tiles[map[_0x50ba1f][_0x12da93(0xc3)]][0x1]*0x10,0x10,0x10,(map[_0x50ba1f]['x']+_0x7c7227)*cellSize,(map[_0x50ba1f]['y']+_0x5b3546)*cellSize,cellSize,cellSize);}}}for(let _0x5001f8=0x0;_0x5001f8<hitBoxes['length'];_0x5001f8++){c[_0x12da93(0xc1)]='#000000',c['fillRect'](hitBoxes[_0x5001f8]['x']*cellSize,hitBoxes[_0x5001f8]['y']*cellSize,hitBoxes[_0x5001f8]['w']*cellSize,hitBoxes[_0x5001f8]['h']*cellSize);}c[_0x12da93(0x106)]=0x1;for(let _0x433aa1=0x0;_0x433aa1<camBoxes[_0x12da93(0x128)];_0x433aa1++){c[_0x12da93(0x109)]=_0x12da93(0xe4),c[_0x12da93(0xaf)](),c[_0x12da93(0xe5)](camBoxes[_0x433aa1]['x']*cellSize,camBoxes[_0x433aa1]['y']*cellSize,camBoxes[_0x433aa1]['w']*cellSize,camBoxes[_0x433aa1]['h']*cellSize),c[_0x12da93(0x123)](),c[_0x12da93(0xb6)]();}c[_0x12da93(0xc1)]='#5b6ee1',c['fillRect'](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x43f60b=_0x6480d1;c['lineWidth']=0.1,c[_0x43f60b(0x109)]=_0x43f60b(0x10a);for(let _0x2cca09=0x0;_0x2cca09<canvas[_0x43f60b(0x94)];_0x2cca09+=cellSize){c['beginPath'](),c[_0x43f60b(0x110)](_0x2cca09,0x0),c[_0x43f60b(0x10d)](_0x2cca09,canvas[_0x43f60b(0xc6)]),c[_0x43f60b(0x123)](),c[_0x43f60b(0xb6)]();}for(let _0x2026c5=0x0;_0x2026c5<canvas['height'];_0x2026c5+=cellSize){c[_0x43f60b(0xaf)](),c[_0x43f60b(0x110)](0x0,_0x2026c5),c[_0x43f60b(0x10d)](canvas[_0x43f60b(0x94)],_0x2026c5),c['closePath'](),c['stroke']();}c[_0x43f60b(0x11b)]=0x1;}var definingSpawnpoint=![];id(_0x6480d1(0xd2))[_0x6480d1(0xf3)]=function(){var _0x2ec154=_0x6480d1;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x2ec154(0xd2))[_0x2ec154(0x10f)][_0x2ec154(0xff)]=_0x2ec154(0x127),id(_0x2ec154(0x130))['style'][_0x2ec154(0xec)]=_0x2ec154(0x113),canvas[_0x2ec154(0xf3)]=null;return;}definingSpawnpoint=!![],id('spawn')[_0x2ec154(0x10f)][_0x2ec154(0xff)]=_0x2ec154(0xa4),id(_0x2ec154(0x130))['style']['cursor']='pointer',canvas[_0x2ec154(0xf3)]=()=>{var _0x2b4c44=_0x2ec154;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x2b4c44(0xd2))[_0x2b4c44(0x10f)][_0x2b4c44(0xff)]='#000000',id(_0x2b4c44(0x130))[_0x2b4c44(0x10f)][_0x2b4c44(0xec)]=_0x2b4c44(0x113),canvas[_0x2b4c44(0xf3)]=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id('moveMap')[_0x6480d1(0xf3)]=function(){var _0x3da2f5=_0x6480d1;if(movingMap){movingMap=![],id(_0x3da2f5(0x11c))['style'][_0x3da2f5(0xff)]='#000000',id(_0x3da2f5(0x130))[_0x3da2f5(0x10f)][_0x3da2f5(0xec)]=_0x3da2f5(0x113);return;}movingMap=!![],id('moveMap')[_0x3da2f5(0x10f)][_0x3da2f5(0xff)]=_0x3da2f5(0xa4),id(_0x3da2f5(0x130))[_0x3da2f5(0x10f)][_0x3da2f5(0xec)]='all-scroll',canvas[_0x3da2f5(0x114)](_0x3da2f5(0x107),function(){var _0x4ee1b3=_0x3da2f5;if(!movingMap||!mouseDown)return;let _0xf1be96=square['w']/cellSize-movingVariables[_0x4ee1b3(0xb4)],_0x453904=square['h']/cellSize-movingVariables[_0x4ee1b3(0xce)];(_0xf1be96!==0x0||_0x453904!==0x0)&&(moveEverything(_0xf1be96,_0x453904),movingVariables['xRDiff']+=_0xf1be96,movingVariables['yRDiff']+=_0x453904);}),canvas[_0x3da2f5(0x114)](_0x3da2f5(0x91),function(){var _0x1d663c=_0x3da2f5;if(!movingMap)return;movingVariables[_0x1d663c(0xb4)]=0x0,movingVariables[_0x1d663c(0xce)]=0x0;});};function moveEverything(_0x109154,_0x5595fa){var _0x1b6815=_0x6480d1;if(_0x109154==0x0&&_0x5595fa==0x0)return;for(let _0x1ede8b=0x0;_0x1ede8b<map[_0x1b6815(0x128)];_0x1ede8b++){map[_0x1ede8b]['x']+=_0x109154,map[_0x1ede8b]['y']+=_0x5595fa;}for(let _0x1f2f2c=0x0;_0x1f2f2c<hitBoxes[_0x1b6815(0x128)];_0x1f2f2c++){hitBoxes[_0x1f2f2c]['x']+=_0x109154,hitBoxes[_0x1f2f2c]['y']+=_0x5595fa;}for(let _0x56b061=0x0;_0x56b061<camBoxes[_0x1b6815(0x128)];_0x56b061++){camBoxes[_0x56b061]['x']+=_0x109154,camBoxes[_0x56b061]['y']+=_0x5595fa;}spawnPoint['x']+=_0x109154,spawnPoint['y']+=_0x5595fa;}function infoText(){var _0x51c570=_0x6480d1,_0x3e8e30=square['x']/cellSize,_0x75ca58=square['y']/cellSize;_0x3e8e30>-0x1&&_0x3e8e30<0x1&&(_0x3e8e30=0x0),_0x75ca58>-0x1&&_0x75ca58<0x1&&(_0x75ca58=0x0),id(_0x51c570(0x12b))[_0x51c570(0xbf)]=_0x51c570(0xa0)+_0x3e8e30+_0x51c570(0x103)+_0x75ca58+_0x51c570(0xfa)+square['w']/cellSize+_0x51c570(0xba)+square['h']/cellSize;}var mouseDown=![];canvas[_0x6480d1(0x114)]('mousedown',function(_0x450e61){var _0x2d7d5e=_0x6480d1;mouseDown=!![];var _0x380570=window[_0x2d7d5e(0xcf)]-canvas[_0x2d7d5e(0xf6)],_0x26fc79=window['pageYOffset']-canvas[_0x2d7d5e(0xf8)];id(_0x2d7d5e(0x12b))[_0x2d7d5e(0x10f)][_0x2d7d5e(0x9a)]=_0x2d7d5e(0xde),id('info')[_0x2d7d5e(0x10f)]['left']=_0x450e61[_0x2d7d5e(0xe3)]+0x1e+'px',id(_0x2d7d5e(0x12b))['style'][_0x2d7d5e(0xf2)]=_0x450e61[_0x2d7d5e(0xee)]-0x1e+'px',square['x']=round(_0x450e61['clientX']+_0x380570)*cellSize,square['y']=round(_0x450e61[_0x2d7d5e(0xee)]+_0x26fc79)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x6480d1(0x114)](_0x6480d1(0x107),function(_0x293178){var _0x134f28=_0x6480d1,_0x4c5b3f=window[_0x134f28(0xcf)]-canvas[_0x134f28(0xf6)],_0x183e1c=window[_0x134f28(0x9c)]-canvas[_0x134f28(0xf8)];mouseDown&&(id(_0x134f28(0x12b))[_0x134f28(0x10f)]['display']=_0x134f28(0xde),id(_0x134f28(0x12b))[_0x134f28(0x10f)][_0x134f28(0xf9)]=_0x293178[_0x134f28(0xe3)]+0x1e+'px',id(_0x134f28(0x12b))[_0x134f28(0x10f)][_0x134f28(0xf2)]=_0x293178[_0x134f28(0xee)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x293178[_0x134f28(0xe3)]+_0x4c5b3f-square['x'])*cellSize,square['h']=round(_0x293178['clientY']+_0x183e1c-square['y'])*cellSize);}),canvas[_0x6480d1(0x114)](_0x6480d1(0x91),function(_0xd86e3e){var _0x192d5b=_0x6480d1;id(_0x192d5b(0x12b))[_0x192d5b(0x10f)][_0x192d5b(0x9a)]=_0x192d5b(0x115),mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0xd86e3e[_0x192d5b(0xb7)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x192d5b(0x129)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x6832cf=prompt(_0x192d5b(0xb2),'');hitBoxes[hitBoxes[_0x192d5b(0x128)]-0x1][_0x192d5b(0x124)]=_0x6832cf;}}else{if(hitBoxToggle==0x0){map['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x6832cf=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');map[map[_0x192d5b(0x128)]-0x1]['text']=_0x6832cf;}}else{if(hitBoxToggle==0x2){var _0x34fa81=parseInt(prompt('type\x20of\x20camera',''));camBoxes[_0x192d5b(0x129)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x34fa81});}}}}}),id(_0x6480d1(0x122))[_0x6480d1(0x114)](_0x6480d1(0xc7),zoomChange),id(_0x6480d1(0x105))[_0x6480d1(0x114)](_0x6480d1(0xf4),deleteLevel);function deleteLevel(){var _0x1187a5=_0x6480d1;madeChanges=!![];if(levels[_0x1187a5(0x128)]==0x1){clearMap();return;}removeButton(),levels['splice'](currentLevel,0x1),clearMap(),currentLevel=levels[_0x1187a5(0x128)]-0x1,safeEval(JSON[_0x1187a5(0xad)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x3a15a1=_0x6480d1;let _0x403489={'number':0x0},_0x458e76=document[_0x3a15a1(0xfc)]('levels');for(let _0x4d2c89=0x0;_0x4d2c89<_0x458e76[_0x3a15a1(0x128)];_0x4d2c89++){_0x458e76[_0x4d2c89]['number']>=_0x403489['number']&&(_0x403489=_0x458e76[_0x4d2c89]);}_0x403489[_0x3a15a1(0xae)]['removeChild'](_0x403489);}function zoomChange(){var _0x4d9bf5=_0x6480d1;cellSize=parseInt(id(_0x4d9bf5(0x122))[_0x4d9bf5(0xd5)]),changeMapSize();}function changeMapSize(){var _0x51692b=_0x6480d1;canvas[_0x51692b(0x94)]=cellQuantityW*cellSize,canvas['height']=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0xbccc2b){var _0xdf17e8=parseInt(_0xbccc2b),_0x5446ce=_0xdf17e8%cellSize;if(_0x5446ce!==0x0){if(_0x5446ce>cellSize/0x2)_0xdf17e8=_0xdf17e8-_0x5446ce+cellSize;else _0xdf17e8=_0xdf17e8-_0x5446ce;}return _0xdf17e8/cellSize>0x0&&_0xdf17e8/cellSize<0x1?0x0:_0xdf17e8/cellSize;}function enableBeforeUnload(){var _0x424243=_0x6480d1;window[_0x424243(0xe6)]=function(_0x396f40){var _0x4175b1=_0x424243;if(madeChanges)return _0x4175b1(0xc8);};}function disableBeforeUnload(){window['onbeforeunload']=null;}enableBeforeUnload(),document['addEventListener'](_0x6480d1(0x112),function(_0x59cf4b){var _0x2b8d45=_0x6480d1;madeChanges=!![];var _0xd6b15f=window[_0x2b8d45(0xcf)]-canvas[_0x2b8d45(0xf6)],_0x43df24=window[_0x2b8d45(0x9c)]-canvas[_0x2b8d45(0xf8)];_0x59cf4b[_0x2b8d45(0x104)]();var _0x133021=_0x59cf4b[_0x2b8d45(0xe3)]+_0xd6b15f,_0x2c91c9=_0x59cf4b[_0x2b8d45(0xee)]+_0x43df24;removeElements(map,_0x133021,_0x2c91c9),removeElements(hitBoxes,_0x133021,_0x2c91c9),removeElements(camBoxes,_0x133021,_0x2c91c9);});function removeElements(_0x4280f3,_0x10a674,_0x8b537){var _0x2b182f=_0x6480d1,_0x26259d=[];for(let _0x3eecaa=0x0;_0x3eecaa<_0x4280f3[_0x2b182f(0x128)];_0x3eecaa++){_0x10a674>_0x4280f3[_0x3eecaa]['x']*cellSize&&_0x10a674<_0x4280f3[_0x3eecaa]['x']*cellSize+_0x4280f3[_0x3eecaa]['w']*cellSize&&(_0x8b537>_0x4280f3[_0x3eecaa]['y']*cellSize&&_0x8b537<_0x4280f3[_0x3eecaa]['y']*cellSize+_0x4280f3[_0x3eecaa]['h']*cellSize&&_0x26259d['push'](_0x3eecaa));}_0x26259d[_0x2b182f(0xc0)](function(_0x5a9317,_0xdc3870){return _0xdc3870-_0x5a9317;});for(let _0x21cb8a=0x0;_0x21cb8a<_0x26259d[_0x2b182f(0x128)];_0x21cb8a++){_0x4280f3[_0x2b182f(0x100)](_0x26259d[_0x21cb8a],0x1);}}function download(_0x462a55,_0x50ce7e){var _0x7f258a=_0x6480d1;madeChanges=![];var _0x3dfe95=new Blob([_0x50ce7e],{'type':'text/csv'});if(window[_0x7f258a(0x125)][_0x7f258a(0xb0)])window[_0x7f258a(0x125)]['msSaveBlob'](_0x3dfe95,_0x462a55);else{var _0x1d988b=window['document'][_0x7f258a(0xe9)]('a');_0x1d988b[_0x7f258a(0xfd)]=window[_0x7f258a(0x118)][_0x7f258a(0x9b)](_0x3dfe95),_0x1d988b[_0x7f258a(0x9e)]=_0x462a55,document[_0x7f258a(0x102)]['appendChild'](_0x1d988b),_0x1d988b['click'](),document[_0x7f258a(0x102)]['removeChild'](_0x1d988b);}}window[_0x6480d1(0x114)]('keydown',function(_0x59bf90){var _0x3b60e1=_0x6480d1,_0x525882=_0x59bf90[_0x3b60e1(0x98)];switch(_0x525882){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x3b60e1(0x119)]=!![];break;case 0x51:camera[_0x3b60e1(0xd4)]=!![];break;}}),window[_0x6480d1(0x114)](_0x6480d1(0xe0),function(_0x898fe4){var _0x12c677=_0x6480d1,_0x520aca=_0x898fe4[_0x12c677(0x98)];switch(_0x520aca){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera['zoomIn']=![];break;case 0x51:camera[_0x12c677(0xd4)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x3617e1,_0x3ead6f){var _0x3e46b6=_0x6480d1;_0x3617e1[_0x3e46b6(0x10e)]==![]&&(typeof _0x3ead6f=='function'&&_0x3ead6f(undefined));;var _0x2c512a=_0x3617e1[_0x3e46b6(0x10e)]['items'];_0x2c512a==undefined&&(typeof _0x3ead6f==_0x3e46b6(0xab)&&_0x3ead6f(undefined));;for(var _0x12db98=0x0;_0x12db98<_0x2c512a[_0x3e46b6(0x128)];_0x12db98++){if(_0x2c512a[_0x12db98][_0x3e46b6(0xc3)][_0x3e46b6(0xca)]('image')==-0x1)continue;var _0x54b571=_0x2c512a[_0x12db98][_0x3e46b6(0x111)]();typeof _0x3ead6f==_0x3e46b6(0xab)&&_0x3ead6f(_0x54b571);}}function _0x1f03(_0x27f5fc,_0x5ad7b3){var _0x2e9a2d=_0x1009();return _0x1f03=function(_0x9fd977,_0x43a5e2){_0x9fd977=_0x9fd977-0x91;var _0x53c8ae=_0x2e9a2d[_0x9fd977];return _0x53c8ae;},_0x1f03(_0x27f5fc,_0x5ad7b3);}window['addEventListener'](_0x6480d1(0xe8),function(_0xfe2d39){retrieveImageFromClipboardAsBlob(_0xfe2d39,function(_0x12a1f7){var _0x50061d=_0x1f03;if(_0x12a1f7){var _0x29a119=new Image();_0x29a119[_0x50061d(0xea)]=function(){var _0x3b0fc2=_0x50061d;pastedImage=_0x29a119,id(_0x3b0fc2(0xbd))[_0x3b0fc2(0xd5)]=pastedImage[_0x3b0fc2(0x94)]/cellSize,cellQuantityW=pastedImage[_0x3b0fc2(0x94)]/cellSize,id(_0x3b0fc2(0x11e))['value']=pastedImage[_0x3b0fc2(0xc6)]/cellSize,cellQuantityH=pastedImage[_0x3b0fc2(0xc6)]/cellSize,changeMapSize();};var _0x1cf551=window[_0x50061d(0x118)]||window[_0x50061d(0x99)];_0x29a119[_0x50061d(0x96)]=_0x1cf551[_0x50061d(0x9b)](_0x12a1f7);}});},![]);