'use strict';var _0x2e22f1=_0x4112;(function(_0x179a9e,_0x1288b5){var _0xfb3afc=_0x4112,_0x192ab2=_0x179a9e();while(!![]){try{var _0x593d45=-parseInt(_0xfb3afc(0x7a))/0x1+-parseInt(_0xfb3afc(0xd7))/0x2*(parseInt(_0xfb3afc(0x93))/0x3)+parseInt(_0xfb3afc(0xb3))/0x4*(parseInt(_0xfb3afc(0xac))/0x5)+-parseInt(_0xfb3afc(0xad))/0x6+parseInt(_0xfb3afc(0xf5))/0x7*(-parseInt(_0xfb3afc(0xd9))/0x8)+-parseInt(_0xfb3afc(0xab))/0x9+parseInt(_0xfb3afc(0x96))/0xa;if(_0x593d45===_0x1288b5)break;else _0x192ab2['push'](_0x192ab2['shift']());}catch(_0x521547){_0x192ab2['push'](_0x192ab2['shift']());}}}(_0x334c,0x37735));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x2d72bb){var _0x174a62=(function(){var _0x3cf14c=!![];return function(_0x4923d8,_0x12cbf3){var _0x34c339=_0x3cf14c?function(){var _0x41c22f=_0x4112;if(_0x12cbf3){var _0x564478=_0x12cbf3[_0x41c22f(0x113)](_0x4923d8,arguments);return _0x12cbf3=null,_0x564478;}}:function(){};return _0x3cf14c=![],_0x34c339;};}()),_0xf270ff=_0x174a62(this,function(){var _0x26f23d=_0x4112,_0x2f8688;try{var _0x5bcf00=Function(_0x26f23d(0xc0)+_0x26f23d(0xe2)+');');_0x2f8688=_0x5bcf00();}catch(_0x414813){_0x2f8688=window;}var _0x498624=new RegExp(_0x26f23d(0x78),'g'),_0x3d8ce0=_0x26f23d(0x90)['replace'](_0x498624,'')[_0x26f23d(0xde)](';'),_0x116b02,_0x37843b,_0x1ba7a3,_0x49ca87,_0x47f0b0=function(_0x514373,_0x5cb9b1,_0xececd3){var _0x78f9e=_0x26f23d;if(_0x514373[_0x78f9e(0xbd)]!=_0x5cb9b1)return![];for(var _0x2856fa=0x0;_0x2856fa<_0x5cb9b1;_0x2856fa++){for(var _0x3bf872=0x0;_0x3bf872<_0xececd3[_0x78f9e(0xbd)];_0x3bf872+=0x2){if(_0x2856fa==_0xececd3[_0x3bf872]&&_0x514373[_0x78f9e(0xec)](_0x2856fa)!=_0xececd3[_0x3bf872+0x1])return![];}}return!![];},_0x34b157=function(_0x46ad8f,_0x4b0922,_0x529e16){return _0x47f0b0(_0x4b0922,_0x529e16,_0x46ad8f);},_0x26758d=function(_0x15927d,_0xd760df,_0xc08688){return _0x34b157(_0xd760df,_0x15927d,_0xc08688);},_0x39b60e=function(_0x160ace,_0xda02a5,_0x4a4202){return _0x26758d(_0xda02a5,_0x4a4202,_0x160ace);};for(var _0x4535fc in _0x2f8688){if(_0x47f0b0(_0x4535fc,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x116b02=_0x4535fc;break;}}for(var _0x1f087a in _0x2f8688[_0x116b02]){if(_0x39b60e(0x6,_0x1f087a,[0x5,0x6e,0x0,0x64])){_0x37843b=_0x1f087a;break;}}for(var _0x495125 in _0x2f8688[_0x116b02]){if(_0x26758d(_0x495125,[0x7,0x6e,0x0,0x6c],0x8)){_0x1ba7a3=_0x495125;break;}}if(!('~'>_0x37843b))for(var _0x5115df in _0x2f8688[_0x116b02][_0x1ba7a3]){if(_0x34b157([0x7,0x65,0x0,0x68],_0x5115df,0x8)){_0x49ca87=_0x5115df;break;}}if(!_0x116b02||!_0x2f8688[_0x116b02])return;var _0x46f5c9=_0x2f8688[_0x116b02][_0x37843b],_0x25cdb3=!!_0x2f8688[_0x116b02][_0x1ba7a3]&&_0x2f8688[_0x116b02][_0x1ba7a3][_0x49ca87],_0x2ce984=_0x46f5c9||_0x25cdb3;if(!_0x2ce984)return;var _0x3c8337=![];for(var _0x43392a=0x0;_0x43392a<_0x3d8ce0[_0x26f23d(0xbd)];_0x43392a++){var _0x37843b=_0x3d8ce0[_0x43392a],_0x32fe4c=_0x37843b[0x0]===String[_0x26f23d(0x75)](0x2e)?_0x37843b[_0x26f23d(0xb5)](0x1):_0x37843b,_0x1adeb9=_0x2ce984['length']-_0x32fe4c[_0x26f23d(0xbd)],_0x10a80b=_0x2ce984['indexOf'](_0x32fe4c,_0x1adeb9),_0x2ecf1e=_0x10a80b!==-0x1&&_0x10a80b===_0x1adeb9;_0x2ecf1e&&((_0x2ce984['length']==_0x37843b[_0x26f23d(0xbd)]||_0x37843b[_0x26f23d(0xf3)]('.')===0x0)&&(_0x3c8337=!![]));}if(!_0x3c8337){var _0x2e11e8=new RegExp(_0x26f23d(0xd0),'g'),_0xda4ba4=_0x26f23d(0xcb)['replace'](_0x2e11e8,'');_0x2f8688[_0x116b02][_0x1ba7a3]=_0xda4ba4;}});return _0xf270ff(),document['getElementById'](_0x2d72bb);}var canvas=id(_0x2e22f1(0x94)),sheet=id(_0x2e22f1(0x115)),c=canvas[_0x2e22f1(0xd2)]('2d');c[_0x2e22f1(0x88)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x2e22f1(0x89)]=function(){addLevel();};function clearMap(){var _0x387b35=_0x2e22f1;map=[],mapObject[_0x387b35(0xbc)]=[],mapObject[_0x387b35(0xeb)]=[],mapObject[_0x387b35(0x9d)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x2f0257=_0x2e22f1;let _0x43749d=document[_0x2f0257(0x7e)](_0x2f0257(0x98));for(let _0x500a7d=_0x43749d['length']-0x1;_0x500a7d>=0x0;_0x500a7d--){_0x43749d[_0x500a7d][_0x2f0257(0x7c)][_0x2f0257(0x119)](_0x43749d[_0x500a7d]);}}id(_0x2e22f1(0x86))[_0x2e22f1(0x89)]=saveImage;function saveImage(){var _0x4485f3=_0x2e22f1;canvas[_0x4485f3(0xaf)](_0x169b47=>navigator[_0x4485f3(0x97)]['write']([new ClipboardItem({'image/png':_0x169b47})]));}function addButton(){var _0xc18963=_0x2e22f1,_0xda933=document[_0xc18963(0x108)](_0xc18963(0xb0));_0xda933['number']=levels['length'],_0xda933['innerHTML']=levels[_0xc18963(0xbd)],_0xda933[_0xc18963(0x9a)]+=_0xc18963(0xea),_0xda933[_0xc18963(0x109)]=function(_0x574826){var _0x498ede=_0xc18963;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0x498ede(0xd8)],safeEval(JSON[_0x498ede(0xce)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0xc18963(0xe1))[_0xc18963(0x76)](_0xda933),highlightCurrentLevel();}function addLevel(){var _0x513d84=_0x2e22f1;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x513d84(0xfd)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0x513d84(0xce)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x2e22f1(0xbe))[_0x2e22f1(0xba)],cellQuantityH=id(_0x2e22f1(0xa8))[_0x2e22f1(0xba)],cellSize=0x10,fileName='mapCode',interactiveTile=0x0;canvas[_0x2e22f1(0x85)]=cellQuantityW*cellSize,canvas['height']=cellQuantityH*cellSize,id('mapSizeBtnW')[_0x2e22f1(0x89)]=function(){var _0x2c2c77=_0x2e22f1;cellQuantityW=id(_0x2c2c77(0xbe))[_0x2c2c77(0xba)],changeMapSize();},id(_0x2e22f1(0x104))[_0x2e22f1(0x89)]=function(){var _0x53e397=_0x2e22f1;cellQuantityH=id(_0x53e397(0xa8))[_0x53e397(0xba)],changeMapSize();},window[_0x2e22f1(0x110)]=function(){var _0x290f67=_0x2e22f1;for(let _0x3e8557=0x0;_0x3e8557<tiles[_0x290f67(0xbd)];_0x3e8557++){var _0x5960e6=document[_0x290f67(0x108)](_0x290f67(0x94));_0x5960e6['id']=_0x290f67(0x94)+_0x3e8557,_0x5960e6[_0x290f67(0x85)]=0x20,_0x5960e6['height']=0x20,_0x5960e6[_0x290f67(0xd8)]=_0x3e8557,_0x5960e6[_0x290f67(0xd2)]('2d')[_0x290f67(0x88)]=![];_0x3e8557===0x0&&(_0x5960e6[_0x290f67(0x9a)]+=_0x290f67(0x114));_0x5960e6['className']+=_0x290f67(0x10c),_0x5960e6[_0x290f67(0xd2)]('2d')[_0x290f67(0xc6)](sheet,tiles[_0x3e8557][0x0]*0x10,tiles[_0x3e8557][0x1]*0x10,0x10,0x10,0x0,0x0,_0x5960e6[_0x290f67(0x85)],_0x5960e6['height']);var _0x27a2d0=document[_0x290f67(0xdc)](_0x290f67(0xe0))[0x0];id(_0x290f67(0xda))[_0x290f67(0x76)](_0x5960e6),id(_0x290f67(0x94)+_0x3e8557)[_0x290f67(0x89)]=function(){var _0x124104=_0x290f67;selectedType=this[_0x124104(0xd8)];for(let _0x2ee250=0x0;_0x2ee250<tiles['length'];_0x2ee250++){id(_0x124104(0x94)+_0x2ee250)[_0x124104(0xc2)]['remove'](_0x124104(0xd4));}this[_0x124104(0x9a)]+=_0x124104(0x114);};}loop();},id(_0x2e22f1(0xb9))[_0x2e22f1(0x89)]=function(){var _0x4a782f=_0x2e22f1;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x17b703=0x0;_0x17b703<levels[_0x4a782f(0xbd)];_0x17b703++){levelsArray[_0x4a782f(0xb2)](JSON[_0x4a782f(0xce)](levels[_0x17b703]));}var _0x2dd97c=window[_0x4a782f(0x8d)]('MapTester/index.html');},id(_0x2e22f1(0x83))[_0x2e22f1(0x89)]=function(){var _0x1db4f4=_0x2e22f1;interactiveTile?(interactiveTile=0x0,id('interactive')[_0x1db4f4(0xae)][_0x1db4f4(0xf1)]=_0x1db4f4(0x11a),id(_0x1db4f4(0x83))['style'][_0x1db4f4(0x80)]=_0x1db4f4(0xd3)):(interactiveTile=0x1,id(_0x1db4f4(0x83))['style'][_0x1db4f4(0xf1)]=_0x1db4f4(0xd3),id(_0x1db4f4(0x83))[_0x1db4f4(0xae)][_0x1db4f4(0x80)]=_0x1db4f4(0x11a));};var hitBoxToggle=![];id('toggle')[_0x2e22f1(0x89)]=function(){var _0x3320da=_0x2e22f1;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x3320da(0x7d))[_0x3320da(0x118)]=_0x3320da(0x92);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id('toggle')['innerHTML']=_0x3320da(0x9e);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x3320da(0x7d))['innerHTML']='drawing:\x20camera');}};function _0x4112(_0xd57b01,_0x8b8034){var _0x29a0ed=_0x334c();return _0x4112=function(_0x1d0a1f,_0x31f13d){_0x1d0a1f=_0x1d0a1f-0x73;var _0x104b06=_0x29a0ed[_0x1d0a1f];return _0x104b06;},_0x4112(_0xd57b01,_0x8b8034);}var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x9c1fd6=_0x2e22f1;c['clearRect'](0x0,0x0,canvas[_0x9c1fd6(0x85)],canvas['height']),pastedImage&&c[_0x9c1fd6(0xc6)](pastedImage,0x0,0x0,pastedImage[_0x9c1fd6(0x85)],pastedImage['height']),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x7331b=_0x2e22f1;if(hitBoxToggle==0x1)c[_0x7331b(0xdb)]=_0x7331b(0x10e);else c['strokeStyle']='#ffffff';c[_0x7331b(0xc7)](),c[_0x7331b(0xe5)](square['x'],square['y'],square['w'],square['h']),c['closePath'](),c[_0x7331b(0x7f)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id('cont')),dragElement(id('cont2')),dragElement(id('cont3'));function dragElement(_0x54e2f6){var _0x4e370a=_0x2e22f1,_0x4a8599=0x0,_0x52115f=0x0,_0x176e75=0x0,_0x1cae3f=0x0;_0x54e2f6[_0x4e370a(0x109)]=_0x479be5;function _0x479be5(_0x5177cb){var _0x4a74d6=_0x4e370a;_0x5177cb=_0x5177cb||window['event'],_0x176e75=_0x5177cb['clientX'],_0x1cae3f=_0x5177cb[_0x4a74d6(0xc3)],document[_0x4a74d6(0xc5)]=_0x5f0c8a,document['onmousemove']=_0x440a50;}function _0x440a50(_0x8f9d37){var _0x33c78a=_0x4e370a;_0x8f9d37=_0x8f9d37||window[_0x33c78a(0xa1)],_0x8f9d37[_0x33c78a(0xf0)](),_0x4a8599=_0x176e75-_0x8f9d37[_0x33c78a(0x8c)],_0x52115f=_0x1cae3f-_0x8f9d37[_0x33c78a(0xc3)],_0x176e75=_0x8f9d37[_0x33c78a(0x8c)],_0x1cae3f=_0x8f9d37[_0x33c78a(0xc3)],_0x54e2f6[_0x33c78a(0xae)][_0x33c78a(0x10b)]=_0x54e2f6[_0x33c78a(0x82)]-_0x52115f+'px',_0x54e2f6[_0x33c78a(0xae)]['left']=_0x54e2f6[_0x33c78a(0xdd)]-_0x4a8599+'px';}function _0x5f0c8a(){var _0x49bde6=_0x4e370a;document[_0x49bde6(0xc5)]=null,document[_0x49bde6(0x105)]=null;}}var mapCode='';id(_0x2e22f1(0x106))['onclick']=function(){var _0x3a9d99=_0x2e22f1;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x53227d=0x0;_0x53227d<levels[_0x3a9d99(0xbd)];_0x53227d++){levelsArray[_0x3a9d99(0xb2)](JSON[_0x3a9d99(0xce)](levels[_0x53227d]));}id(_0x3a9d99(0xcc))['style'][_0x3a9d99(0x111)]=_0x3a9d99(0x10d),id(_0x3a9d99(0xed))[_0x3a9d99(0x118)]=JSON['stringify'](levelsArray);};function newMapExport(){var _0xb0cc1d=_0x2e22f1;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0xb0cc1d(0xf7)](mapObject);};id(_0x2e22f1(0xc8))[_0x2e22f1(0x89)]=function(){var _0x4b9d25=_0x2e22f1;id(_0x4b9d25(0xcc))[_0x4b9d25(0xae)][_0x4b9d25(0x111)]='none';},id(_0x2e22f1(0x84))[_0x2e22f1(0x89)]=function(){var _0x1fabe4=_0x2e22f1;download(_0x1fabe4(0x10a),JSON['stringify'](levelsArray));},id(_0x2e22f1(0xf8))[_0x2e22f1(0xe4)]=function(){var _0x211b29=_0x2e22f1;console[_0x211b29(0xa3)]('importing...');let _0x5d656a=id('file')[_0x211b29(0x100)][0x0];fileName=id('file')[_0x211b29(0x100)][0x0][_0x211b29(0xc9)][_0x211b29(0xde)]('.')[0x0];let _0x54987e=new FileReader();_0x54987e[_0x211b29(0x110)]=function(_0x425e99){var _0x349a3c=_0x211b29;let _0x1e1c39=_0x54987e['result'];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x349a3c(0xce)](_0x1e1c39);for(let _0x2b18b5=0x0;_0x2b18b5<levelsArray[_0x349a3c(0xbd)];_0x2b18b5++){addButton(),levels[_0x2b18b5]=JSON[_0x349a3c(0xf7)](levelsArray[_0x2b18b5]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x54987e[_0x211b29(0xb8)](_0x5d656a);};function safeEval(_0x3db6c1){var _0x49c657=_0x2e22f1;typeof _0x3db6c1===_0x49c657(0x73)&&_0x3db6c1!==null&&(map=_0x3db6c1['map'],spawnPoint=_0x3db6c1[_0x49c657(0x9d)],camBoxes=_0x3db6c1['camBoxes']);}var baseWidth=id(_0x2e22f1(0xbe))[_0x2e22f1(0xba)],baseHeight=id('mapSizeH')['value'];function resizeMap(){var _0x5241a9=_0x2e22f1;let _0x1a248b=0x0,_0x2aef31=0x0;for(let _0x2c8505=0x0;_0x2c8505<map[_0x5241a9(0xbd)];_0x2c8505++){map[_0x2c8505]['x']+map[_0x2c8505]['w']>_0x1a248b&&(_0x1a248b=map[_0x2c8505]['x']+map[_0x2c8505]['w']),map[_0x2c8505]['y']+map[_0x2c8505]['h']>_0x2aef31&&(_0x2aef31=map[_0x2c8505]['y']+map[_0x2c8505]['h']);}_0x2aef31<baseHeight&&(_0x2aef31=baseHeight),_0x1a248b<baseWidth&&(_0x1a248b=baseWidth),cellQuantityW=_0x1a248b,id(_0x5241a9(0xbe))[_0x5241a9(0xba)]=_0x1a248b,cellQuantityH=_0x2aef31,id('mapSizeH')[_0x5241a9(0xba)]=_0x2aef31,changeMapSize();}function highlightCurrentLevel(){var _0x3be82a=_0x2e22f1;let _0x2b84b4=document['getElementsByClassName'](_0x3be82a(0x98));for(let _0x3f96cc=0x0;_0x3f96cc<_0x2b84b4[_0x3be82a(0xbd)];_0x3f96cc++){if(_0x2b84b4[_0x3f96cc][_0x3be82a(0xd8)]==currentLevel)!_0x2b84b4[_0x3f96cc][_0x3be82a(0xc2)][_0x3be82a(0xdf)](_0x3be82a(0xd4))&&_0x2b84b4[_0x3f96cc][_0x3be82a(0xc2)]['add'](_0x3be82a(0xd4));else _0x2b84b4[_0x3f96cc][_0x3be82a(0xc2)][_0x3be82a(0xdf)](_0x3be82a(0xd4))&&_0x2b84b4[_0x3f96cc]['classList']['remove'](_0x3be82a(0xd4));}}function cameraMove(){var _0x51bc98=_0x2e22f1;camera['L']&&(sX-=camera[_0x51bc98(0xf2)]);camera['R']&&(sX+=camera[_0x51bc98(0xf2)]);camera['T']&&(sY-=camera[_0x51bc98(0xf2)]);camera['B']&&(sY+=camera[_0x51bc98(0xf2)]);sX<0x0&&(sX=0x0);sX>canvas[_0x51bc98(0x85)]-window[_0x51bc98(0xf6)]&&(sX=canvas['width']-window[_0x51bc98(0xf6)]);sY<0x0&&(sY=0x0);sY>canvas['height']-window['innerHeight']&&(sY=canvas[_0x51bc98(0x10f)]-window['innerHeight']);if(camera[_0x51bc98(0xa0)])id(_0x51bc98(0x9c))['value']--,zoomChange();else camera[_0x51bc98(0xaa)]&&(id(_0x51bc98(0x9c))['value']++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x2e6cea=_0x2e22f1;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x2e6cea(0xaa)]||camera[_0x2e6cea(0xa0)])&&cameraMove();c[_0x2e6cea(0xb6)]=0x1;for(let _0x38897d=0x0;_0x38897d<map[_0x2e6cea(0xbd)];_0x38897d++){if(map[_0x38897d][_0x2e6cea(0x87)]>0x33)for(let _0x26263d=0x0;_0x26263d<map[_0x38897d]['h'];_0x26263d++){for(let _0x18d1f6=0x0;_0x18d1f6<map[_0x38897d]['w'];_0x18d1f6++){c[_0x2e6cea(0xc6)](id(_0x2e6cea(0x115)),tiles[map[_0x38897d]['type']][0x0]*0x10,tiles[map[_0x38897d]['type']][0x1]*0x10,0x10,0x10,(map[_0x38897d]['x']+_0x18d1f6)*cellSize,(map[_0x38897d]['y']+_0x26263d)*cellSize,cellSize,cellSize);}}}for(let _0x330375=0x0;_0x330375<map['length'];_0x330375++){if(map[_0x330375]['type']<=0x33)for(let _0x5cf240=0x0;_0x5cf240<map[_0x330375]['h'];_0x5cf240++){for(let _0x3dfad4=0x0;_0x3dfad4<map[_0x330375]['w'];_0x3dfad4++){c[_0x2e6cea(0xc6)](id('sheet'),tiles[map[_0x330375]['type']][0x0]*0x10,tiles[map[_0x330375][_0x2e6cea(0x87)]][0x1]*0x10,0x10,0x10,(map[_0x330375]['x']+_0x3dfad4)*cellSize,(map[_0x330375]['y']+_0x5cf240)*cellSize,cellSize,cellSize);}}}for(let _0x10f764=0x0;_0x10f764<hitBoxes['length'];_0x10f764++){c['fillStyle']=_0x2e6cea(0xa9),c[_0x2e6cea(0xf9)](hitBoxes[_0x10f764]['x']*cellSize,hitBoxes[_0x10f764]['y']*cellSize,hitBoxes[_0x10f764]['w']*cellSize,hitBoxes[_0x10f764]['h']*cellSize);}c[_0x2e6cea(0xb6)]=0x1;for(let _0x357898=0x0;_0x357898<camBoxes[_0x2e6cea(0xbd)];_0x357898++){c[_0x2e6cea(0xdb)]=_0x2e6cea(0x8b),c['beginPath'](),c[_0x2e6cea(0xe5)](camBoxes[_0x357898]['x']*cellSize,camBoxes[_0x357898]['y']*cellSize,camBoxes[_0x357898]['w']*cellSize,camBoxes[_0x357898]['h']*cellSize),c[_0x2e6cea(0xff)](),c[_0x2e6cea(0x7f)]();}c[_0x2e6cea(0xd6)]=_0x2e6cea(0xca),c[_0x2e6cea(0xf9)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x1635e3=_0x2e22f1;c[_0x1635e3(0x101)]=0.1,c[_0x1635e3(0xdb)]=_0x1635e3(0x77);for(let _0x5df5c7=0x0;_0x5df5c7<canvas[_0x1635e3(0x85)];_0x5df5c7+=cellSize){c[_0x1635e3(0xc7)](),c[_0x1635e3(0x8e)](_0x5df5c7,0x0),c[_0x1635e3(0xa2)](_0x5df5c7,canvas['height']),c[_0x1635e3(0xff)](),c['stroke']();}for(let _0x172c04=0x0;_0x172c04<canvas[_0x1635e3(0x10f)];_0x172c04+=cellSize){c[_0x1635e3(0xc7)](),c[_0x1635e3(0x8e)](0x0,_0x172c04),c[_0x1635e3(0xa2)](canvas['width'],_0x172c04),c[_0x1635e3(0xff)](),c[_0x1635e3(0x7f)]();}c[_0x1635e3(0x101)]=0x1;}var definingSpawnpoint=![];id(_0x2e22f1(0xe7))[_0x2e22f1(0x89)]=function(){var _0x276625=_0x2e22f1;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x276625(0xe7))[_0x276625(0xae)][_0x276625(0x80)]='#000000',id(_0x276625(0x94))[_0x276625(0xae)][_0x276625(0x112)]=_0x276625(0xbb),canvas[_0x276625(0x89)]=null;return;}definingSpawnpoint=!![],id('spawn')['style'][_0x276625(0x80)]=_0x276625(0x117),id(_0x276625(0x94))['style']['cursor']='pointer',canvas[_0x276625(0x89)]=()=>{var _0x29f9d6=_0x276625;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x29f9d6(0xe7))[_0x29f9d6(0xae)][_0x29f9d6(0x80)]=_0x29f9d6(0xa9),id('canvas')[_0x29f9d6(0xae)]['cursor']=_0x29f9d6(0xbb),canvas['onclick']=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id(_0x2e22f1(0xfc))[_0x2e22f1(0x89)]=function(){var _0xe0adff=_0x2e22f1;if(movingMap){movingMap=![],id(_0xe0adff(0xfc))[_0xe0adff(0xae)][_0xe0adff(0x80)]='#000000',id('canvas')[_0xe0adff(0xae)]['cursor']='crosshair';return;}movingMap=!![],id('moveMap')[_0xe0adff(0xae)][_0xe0adff(0x80)]=_0xe0adff(0x117),id('canvas')[_0xe0adff(0xae)]['cursor']=_0xe0adff(0x116),canvas[_0xe0adff(0x99)](_0xe0adff(0x91),function(){var _0x656e14=_0xe0adff;if(!movingMap||!mouseDown)return;let _0x1b938e=square['w']/cellSize-movingVariables['xRDiff'],_0x2eceb3=square['h']/cellSize-movingVariables[_0x656e14(0xb1)];(_0x1b938e!==0x0||_0x2eceb3!==0x0)&&(moveEverything(_0x1b938e,_0x2eceb3),movingVariables[_0x656e14(0xe8)]+=_0x1b938e,movingVariables[_0x656e14(0xb1)]+=_0x2eceb3);}),canvas[_0xe0adff(0x99)]('mouseup',function(){var _0x1c6ebe=_0xe0adff;if(!movingMap)return;movingVariables['xRDiff']=0x0,movingVariables[_0x1c6ebe(0xb1)]=0x0;});};function moveEverything(_0x5c8d01,_0x238e7d){var _0x12c747=_0x2e22f1;if(_0x5c8d01==0x0&&_0x238e7d==0x0)return;for(let _0x516495=0x0;_0x516495<map[_0x12c747(0xbd)];_0x516495++){map[_0x516495]['x']+=_0x5c8d01,map[_0x516495]['y']+=_0x238e7d;}for(let _0xbb562c=0x0;_0xbb562c<hitBoxes[_0x12c747(0xbd)];_0xbb562c++){hitBoxes[_0xbb562c]['x']+=_0x5c8d01,hitBoxes[_0xbb562c]['y']+=_0x238e7d;}for(let _0x1ca966=0x0;_0x1ca966<camBoxes[_0x12c747(0xbd)];_0x1ca966++){camBoxes[_0x1ca966]['x']+=_0x5c8d01,camBoxes[_0x1ca966]['y']+=_0x238e7d;}spawnPoint['x']+=_0x5c8d01,spawnPoint['y']+=_0x238e7d;}function infoText(){var _0x354a67=_0x2e22f1,_0xbd1fed=square['x']/cellSize,_0x8e721b=square['y']/cellSize;_0xbd1fed>-0x1&&_0xbd1fed<0x1&&(_0xbd1fed=0x0),_0x8e721b>-0x1&&_0x8e721b<0x1&&(_0x8e721b=0x0),id(_0x354a67(0x11b))[_0x354a67(0x118)]=_0x354a67(0x8f)+_0xbd1fed+_0x354a67(0xa5)+_0x8e721b+'<br>\x20w:\x20'+square['w']/cellSize+',\x20h:\x20'+square['h']/cellSize;}var mouseDown=![];canvas[_0x2e22f1(0x99)]('mousedown',function(_0xca4cae){var _0x16058c=_0x2e22f1;mouseDown=!![];var _0x5c89be=window['pageXOffset']-canvas[_0x16058c(0xdd)],_0x277e3c=window[_0x16058c(0x7b)]-canvas[_0x16058c(0x82)];id(_0x16058c(0x11b))['style'][_0x16058c(0x111)]=_0x16058c(0x10d),id(_0x16058c(0x11b))[_0x16058c(0xae)][_0x16058c(0xfb)]=_0xca4cae[_0x16058c(0x8c)]+0x1e+'px',id(_0x16058c(0x11b))['style'][_0x16058c(0x10b)]=_0xca4cae[_0x16058c(0xc3)]-0x1e+'px',square['x']=round(_0xca4cae[_0x16058c(0x8c)]+_0x5c89be)*cellSize,square['y']=round(_0xca4cae[_0x16058c(0xc3)]+_0x277e3c)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x2e22f1(0x99)](_0x2e22f1(0x91),function(_0x477331){var _0x4f1bca=_0x2e22f1,_0x4bdd81=window[_0x4f1bca(0xee)]-canvas[_0x4f1bca(0xdd)],_0x2d6605=window[_0x4f1bca(0x7b)]-canvas[_0x4f1bca(0x82)];mouseDown&&(id(_0x4f1bca(0x11b))[_0x4f1bca(0xae)]['display']=_0x4f1bca(0x10d),id('info')[_0x4f1bca(0xae)]['left']=_0x477331[_0x4f1bca(0x8c)]+0x1e+'px',id(_0x4f1bca(0x11b))[_0x4f1bca(0xae)][_0x4f1bca(0x10b)]=_0x477331[_0x4f1bca(0xc3)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x477331[_0x4f1bca(0x8c)]+_0x4bdd81-square['x'])*cellSize,square['h']=round(_0x477331[_0x4f1bca(0xc3)]+_0x2d6605-square['y'])*cellSize);}),canvas['addEventListener'](_0x2e22f1(0x74),function(_0x3028c2){var _0x59718b=_0x2e22f1;id('info')[_0x59718b(0xae)][_0x59718b(0x111)]=_0x59718b(0x102),mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x3028c2[_0x59718b(0xf4)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x59718b(0xb2)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0xc786e2=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');hitBoxes[hitBoxes[_0x59718b(0xbd)]-0x1][_0x59718b(0xe6)]=_0xc786e2;}}else{if(hitBoxToggle==0x0){map[_0x59718b(0xb2)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0xc786e2=prompt(_0x59718b(0x107),'');map[map[_0x59718b(0xbd)]-0x1]['text']=_0xc786e2;}}else{if(hitBoxToggle==0x2){var _0x5edb30=parseInt(prompt(_0x59718b(0x95),''));camBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x5edb30});}}}}}),id(_0x2e22f1(0x9c))['addEventListener'](_0x2e22f1(0xbf),zoomChange),id(_0x2e22f1(0xcf))['addEventListener'](_0x2e22f1(0xfa),deleteLevel);function deleteLevel(){var _0x64a630=_0x2e22f1;madeChanges=!![];if(levels[_0x64a630(0xbd)]==0x1){clearMap();return;}removeButton(),levels[_0x64a630(0xfd)](currentLevel,0x1),clearMap(),currentLevel=levels[_0x64a630(0xbd)]-0x1,safeEval(JSON[_0x64a630(0xce)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x14b3f9=_0x2e22f1;let _0x59d2d7={'number':0x0},_0x23f608=document[_0x14b3f9(0x7e)](_0x14b3f9(0x98));for(let _0x24df5a=0x0;_0x24df5a<_0x23f608[_0x14b3f9(0xbd)];_0x24df5a++){_0x23f608[_0x24df5a]['number']>=_0x59d2d7[_0x14b3f9(0xd8)]&&(_0x59d2d7=_0x23f608[_0x24df5a]);}_0x59d2d7[_0x14b3f9(0x7c)][_0x14b3f9(0x119)](_0x59d2d7);}function zoomChange(){var _0x10b027=_0x2e22f1;cellSize=parseInt(id('zoomer')[_0x10b027(0xba)]),changeMapSize();}function changeMapSize(){var _0x1b6386=_0x2e22f1;canvas[_0x1b6386(0x85)]=cellQuantityW*cellSize,canvas[_0x1b6386(0x10f)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x123149){var _0x48f11a=parseInt(_0x123149),_0x17b151=_0x48f11a%cellSize;if(_0x17b151!==0x0){if(_0x17b151>cellSize/0x2)_0x48f11a=_0x48f11a-_0x17b151+cellSize;else _0x48f11a=_0x48f11a-_0x17b151;}return _0x48f11a/cellSize>0x0&&_0x48f11a/cellSize<0x1?0x0:_0x48f11a/cellSize;}function enableBeforeUnload(){var _0x501935=_0x2e22f1;window[_0x501935(0xa4)]=function(_0x51dc1f){if(madeChanges)return'Discard\x20changes?';};}function _0x334c(){var _0xf9ce2a=['camBoxes','charCodeAt','exportText','pageXOffset','keyCode','preventDefault','backgroundColor','speed','indexOf','which','1334438vhJUgE','innerWidth','stringify','file','fillRect','click','left','moveMap','splice','function','closePath','files','lineWidth','none','msSaveOrOpenBlob','mapSizeBtnH','onmousemove','exportMap','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','createElement','onmousedown','map.json','top','\x20tile','block','#ff0000','height','onload','display','cursor','apply','\x20selected','sheet','all-scroll','#0000cc','innerHTML','removeChild','white','info','object','mouseup','fromCharCode','appendChild','#ffffff','[EBJIUpFDqQWkLTUDPPCEDXLAFVQPDELHfTYBMUxxKkpkVzIwyHCDwRXXBUyCRvkAK]','download','333539sxicxc','pageYOffset','parentNode','toggle','getElementsByClassName','stroke','color','keydown','offsetTop','interactive','downloadBtn','width','saveButton','type','imageSmoothingEnabled','onclick','contextmenu','#002200','clientX','open','moveTo','x:\x20','sEaanBJtIUpFonaDqQWkndrLe.gTiUtDhub.iPoP;CEDlXLoAFVcalhostQPDELHfTYBMUxxKkpkVzIwyHCDwRXXBUyCRvkAK','mousemove','drawing:\x20displayed','17697YZdrAY','canvas','type\x20of\x20camera','11803460QmnPhL','clipboard','levels','addEventListener','className','document','zoomer','spawnPoint','drawing:\x20hitboxes','href','zoomOut','event','lineTo','log','onbeforeunload',',\x20y:\x20','image','navigator','mapSizeH','#000000','zoomIn','3401280BwRyyJ','30VXbgDL','2037618aqyzBM','style','toBlob','button','yRDiff','push','259172ilPpEX','src','slice','globalAlpha','paste','readAsText','test','value','crosshair','map','length','mapSizeW','change','return\x20(function()\x20','msSaveBlob','classList','clientY','URL','onmouseup','drawImage','beginPath','closeBtn','name','#5b6ee1','iabouTt:bfjzlHankZDAzeFLdweeDsgedesd','exportBox','clipboardData','parse','deleteLvl','[iTfjzHZDAzeFLdweeDsgedesd]','sort','getContext','black','selected','webkitURL','fillStyle','34NxGEtZ','number','8PQAazp','cont2','strokeStyle','getElementsByTagName','offsetLeft','split','contains','body','cont3','{}.constructor(\x22return\x20this\x22)(\x20)','getAsFile','onchange','rect','text','spawn','xRDiff','text/csv','\x20levels'];_0x334c=function(){return _0xf9ce2a;};return _0x334c();}function disableBeforeUnload(){var _0x8b668b=_0x2e22f1;window[_0x8b668b(0xa4)]=null;}enableBeforeUnload(),document[_0x2e22f1(0x99)](_0x2e22f1(0x8a),function(_0xf5f438){var _0x4ac4c3=_0x2e22f1;madeChanges=!![];var _0x14403f=window['pageXOffset']-canvas['offsetLeft'],_0x236f80=window[_0x4ac4c3(0x7b)]-canvas[_0x4ac4c3(0x82)];_0xf5f438[_0x4ac4c3(0xf0)]();var _0x283632=_0xf5f438['clientX']+_0x14403f,_0x38c33b=_0xf5f438[_0x4ac4c3(0xc3)]+_0x236f80;removeElements(map,_0x283632,_0x38c33b),removeElements(hitBoxes,_0x283632,_0x38c33b),removeElements(camBoxes,_0x283632,_0x38c33b);});function removeElements(_0x4c5929,_0x2e0abb,_0x5b24cc){var _0x3e1da3=_0x2e22f1,_0x2dca0c=[];for(let _0x475ca9=0x0;_0x475ca9<_0x4c5929['length'];_0x475ca9++){_0x2e0abb>_0x4c5929[_0x475ca9]['x']*cellSize&&_0x2e0abb<_0x4c5929[_0x475ca9]['x']*cellSize+_0x4c5929[_0x475ca9]['w']*cellSize&&(_0x5b24cc>_0x4c5929[_0x475ca9]['y']*cellSize&&_0x5b24cc<_0x4c5929[_0x475ca9]['y']*cellSize+_0x4c5929[_0x475ca9]['h']*cellSize&&_0x2dca0c[_0x3e1da3(0xb2)](_0x475ca9));}_0x2dca0c[_0x3e1da3(0xd1)](function(_0x1f82d6,_0x2fd045){return _0x2fd045-_0x1f82d6;});for(let _0x221af7=0x0;_0x221af7<_0x2dca0c[_0x3e1da3(0xbd)];_0x221af7++){_0x4c5929[_0x3e1da3(0xfd)](_0x2dca0c[_0x221af7],0x1);}}function download(_0x558913,_0x483856){var _0x288b04=_0x2e22f1;madeChanges=![];var _0x4172cb=new Blob([_0x483856],{'type':_0x288b04(0xe9)});if(window[_0x288b04(0xa7)][_0x288b04(0x103)])window[_0x288b04(0xa7)][_0x288b04(0xc1)](_0x4172cb,_0x558913);else{var _0x4c149b=window[_0x288b04(0x9b)][_0x288b04(0x108)]('a');_0x4c149b[_0x288b04(0x9f)]=window['URL']['createObjectURL'](_0x4172cb),_0x4c149b[_0x288b04(0x79)]=_0x558913,document[_0x288b04(0xe0)]['appendChild'](_0x4c149b),_0x4c149b[_0x288b04(0xfa)](),document[_0x288b04(0xe0)][_0x288b04(0x119)](_0x4c149b);}}window[_0x2e22f1(0x99)](_0x2e22f1(0x81),function(_0x2428b9){var _0x3386e1=_0x2e22f1,_0x2ec5a9=_0x2428b9['keyCode'];switch(_0x2ec5a9){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x3386e1(0xaa)]=!![];break;case 0x51:camera[_0x3386e1(0xa0)]=!![];break;}}),window[_0x2e22f1(0x99)]('keyup',function(_0x458ce4){var _0xf45290=_0x2e22f1,_0x23fc07=_0x458ce4[_0xf45290(0xef)];switch(_0x23fc07){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0xf45290(0xaa)]=![];break;case 0x51:camera[_0xf45290(0xa0)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x59b1f3,_0x48d0dd){var _0x82c491=_0x2e22f1;_0x59b1f3[_0x82c491(0xcd)]==![]&&(typeof _0x48d0dd=='function'&&_0x48d0dd(undefined));;var _0x23a8e7=_0x59b1f3[_0x82c491(0xcd)]['items'];_0x23a8e7==undefined&&(typeof _0x48d0dd=='function'&&_0x48d0dd(undefined));;for(var _0x41bba8=0x0;_0x41bba8<_0x23a8e7[_0x82c491(0xbd)];_0x41bba8++){if(_0x23a8e7[_0x41bba8]['type'][_0x82c491(0xf3)](_0x82c491(0xa6))==-0x1)continue;var _0x10aac1=_0x23a8e7[_0x41bba8][_0x82c491(0xe3)]();typeof _0x48d0dd==_0x82c491(0xfe)&&_0x48d0dd(_0x10aac1);}}window['addEventListener'](_0x2e22f1(0xb7),function(_0x2bebcb){retrieveImageFromClipboardAsBlob(_0x2bebcb,function(_0x54eafa){var _0x32a472=_0x4112;if(_0x54eafa){var _0x41d160=new Image();_0x41d160[_0x32a472(0x110)]=function(){var _0xc9dfa=_0x32a472;pastedImage=_0x41d160,id('mapSizeW')['value']=pastedImage[_0xc9dfa(0x85)]/cellSize,cellQuantityW=pastedImage[_0xc9dfa(0x85)]/cellSize,id(_0xc9dfa(0xa8))[_0xc9dfa(0xba)]=pastedImage['height']/cellSize,cellQuantityH=pastedImage[_0xc9dfa(0x10f)]/cellSize,changeMapSize();};var _0x4e57dd=window[_0x32a472(0xc4)]||window[_0x32a472(0xd5)];_0x41d160[_0x32a472(0xb4)]=_0x4e57dd['createObjectURL'](_0x54eafa);}});},![]);