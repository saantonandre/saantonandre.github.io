'use strict';var _0x7bdefc=_0x4b10;(function(_0x4f9dad,_0x5f3114){var _0xbfdfdd=_0x4b10,_0x3b3fdd=_0x4f9dad();while(!![]){try{var _0x38abf2=-parseInt(_0xbfdfdd(0x1cf))/0x1+parseInt(_0xbfdfdd(0x1b9))/0x2+parseInt(_0xbfdfdd(0x237))/0x3*(-parseInt(_0xbfdfdd(0x20d))/0x4)+-parseInt(_0xbfdfdd(0x239))/0x5+-parseInt(_0xbfdfdd(0x1fe))/0x6+parseInt(_0xbfdfdd(0x1fa))/0x7*(-parseInt(_0xbfdfdd(0x1c5))/0x8)+parseInt(_0xbfdfdd(0x1e5))/0x9*(parseInt(_0xbfdfdd(0x258))/0xa);if(_0x38abf2===_0x5f3114)break;else _0x3b3fdd['push'](_0x3b3fdd['shift']());}catch(_0x9a5c42){_0x3b3fdd['push'](_0x3b3fdd['shift']());}}}(_0xf00c,0xc30ae));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x39acf8){var _0x39df0f=_0x4b10;return document[_0x39df0f(0x1df)](_0x39acf8);}var canvas=id(_0x7bdefc(0x1e7)),sheet=id(_0x7bdefc(0x228)),c=canvas[_0x7bdefc(0x243)]('2d');c[_0x7bdefc(0x24d)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x7bdefc(0x22d)]=function(){addLevel();};function clearMap(){var _0x5de897=_0x7bdefc;map=[],mapObject[_0x5de897(0x229)]=[],mapObject[_0x5de897(0x254)]=[],mapObject['spawnPoint']={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x528979=_0x7bdefc;let _0x1bb3c1=document[_0x528979(0x245)]('levels');for(let _0x2bc433=_0x1bb3c1['length']-0x1;_0x2bc433>=0x0;_0x2bc433--){_0x1bb3c1[_0x2bc433][_0x528979(0x21b)][_0x528979(0x253)](_0x1bb3c1[_0x2bc433]);}}id('saveButton')[_0x7bdefc(0x22d)]=saveImage;function saveImage(){var _0x8966db=_0x7bdefc;canvas[_0x8966db(0x1c6)](_0x243cfb=>navigator[_0x8966db(0x22c)]['write']([new ClipboardItem({'image/png':_0x243cfb})]));}function addButton(){var _0x4bedb7=_0x7bdefc,_0x5e189e=(function(){var _0x2a7f87=!![];return function(_0xb20d70,_0x2e40c9){var _0xee8558=_0x2a7f87?function(){if(_0x2e40c9){var _0x4802d6=_0x2e40c9['apply'](_0xb20d70,arguments);return _0x2e40c9=null,_0x4802d6;}}:function(){};return _0x2a7f87=![],_0xee8558;};}()),_0x4edb5c=_0x5e189e(this,function(){var _0x3c819a=_0x4b10,_0x24bb2e;try{var _0xe31071=Function(_0x3c819a(0x1d3)+_0x3c819a(0x23d)+');');_0x24bb2e=_0xe31071();}catch(_0x192a86){_0x24bb2e=window;}var _0x499e39=new RegExp('[jzPAIQKFvKIKpEmOKPzTpqZvTQLZMGXLLzXKWXxjELyKkfjDRAWBjSWNJmNSkjNEBOpBUfNDjzTVp]','g'),_0x2b6797=_0x3c819a(0x235)[_0x3c819a(0x1fc)](_0x499e39,'')[_0x3c819a(0x1dc)](';'),_0x591064,_0x271bca,_0x338de9,_0x2bd206,_0x5975de=function(_0x4ddbc4,_0x5efc26,_0x4c4578){var _0x77d65f=_0x3c819a;if(_0x4ddbc4[_0x77d65f(0x250)]!=_0x5efc26)return![];for(var _0x2b0a02=0x0;_0x2b0a02<_0x5efc26;_0x2b0a02++){for(var _0x1f4ef4=0x0;_0x1f4ef4<_0x4c4578[_0x77d65f(0x250)];_0x1f4ef4+=0x2){if(_0x2b0a02==_0x4c4578[_0x1f4ef4]&&_0x4ddbc4[_0x77d65f(0x222)](_0x2b0a02)!=_0x4c4578[_0x1f4ef4+0x1])return![];}}return!![];},_0x20d3b7=function(_0x17eb7b,_0x2c199e,_0x23f286){return _0x5975de(_0x2c199e,_0x23f286,_0x17eb7b);},_0x48fee5=function(_0x87be8,_0x180b02,_0x2bdbb3){return _0x20d3b7(_0x180b02,_0x87be8,_0x2bdbb3);},_0xa792e5=function(_0x1aba50,_0x464961,_0x2e22a1){return _0x48fee5(_0x464961,_0x2e22a1,_0x1aba50);};for(var _0x4a1735 in _0x24bb2e){if(_0x5975de(_0x4a1735,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x591064=_0x4a1735;break;}}for(var _0x4861fc in _0x24bb2e[_0x591064]){if(_0xa792e5(0x6,_0x4861fc,[0x5,0x6e,0x0,0x64])){_0x271bca=_0x4861fc;break;}}for(var _0x14e699 in _0x24bb2e[_0x591064]){if(_0x48fee5(_0x14e699,[0x7,0x6e,0x0,0x6c],0x8)){_0x338de9=_0x14e699;break;}}if(!('~'>_0x271bca))for(var _0x16439f in _0x24bb2e[_0x591064][_0x338de9]){if(_0x20d3b7([0x7,0x65,0x0,0x68],_0x16439f,0x8)){_0x2bd206=_0x16439f;break;}}if(!_0x591064||!_0x24bb2e[_0x591064])return;var _0x4bd51c=_0x24bb2e[_0x591064][_0x271bca],_0x52bfd2=!!_0x24bb2e[_0x591064][_0x338de9]&&_0x24bb2e[_0x591064][_0x338de9][_0x2bd206],_0x206f87=_0x4bd51c||_0x52bfd2;if(!_0x206f87)return;var _0xa30e8b=![];for(var _0x328b18=0x0;_0x328b18<_0x2b6797['length'];_0x328b18++){var _0x271bca=_0x2b6797[_0x328b18],_0x4f085c=_0x271bca[0x0]===String[_0x3c819a(0x24b)](0x2e)?_0x271bca[_0x3c819a(0x1f6)](0x1):_0x271bca,_0x34891c=_0x206f87['length']-_0x4f085c[_0x3c819a(0x250)],_0x5c98ed=_0x206f87[_0x3c819a(0x240)](_0x4f085c,_0x34891c),_0x27d144=_0x5c98ed!==-0x1&&_0x5c98ed===_0x34891c;_0x27d144&&((_0x206f87[_0x3c819a(0x250)]==_0x271bca['length']||_0x271bca[_0x3c819a(0x240)]('.')===0x0)&&(_0xa30e8b=!![]));}if(!_0xa30e8b){var _0x16b9e7=new RegExp(_0x3c819a(0x1d9),'g'),_0x15441c=_0x3c819a(0x20a)['replace'](_0x16b9e7,'');_0x24bb2e[_0x591064][_0x338de9]=_0x15441c;}});_0x4edb5c();var _0x3f36eb=document[_0x4bedb7(0x1ed)](_0x4bedb7(0x1b8));_0x3f36eb['number']=levels[_0x4bedb7(0x250)],_0x3f36eb[_0x4bedb7(0x24a)]=levels['length'],_0x3f36eb[_0x4bedb7(0x209)]+=_0x4bedb7(0x248),_0x3f36eb[_0x4bedb7(0x25c)]=function(_0x2cf290){var _0x35eab8=_0x4bedb7;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this['number'],safeEval(JSON[_0x35eab8(0x1e1)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id('cont3')[_0x4bedb7(0x255)](_0x3f36eb),highlightCurrentLevel();}function addLevel(){var _0x16b4f2=_0x7bdefc;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x16b4f2(0x1e3)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0x16b4f2(0x1e1)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x7bdefc(0x1fd))['value'],cellQuantityH=id(_0x7bdefc(0x233))[_0x7bdefc(0x252)],cellSize=0x10,fileName=_0x7bdefc(0x216),interactiveTile=0x0;canvas['width']=cellQuantityW*cellSize,canvas[_0x7bdefc(0x203)]=cellQuantityH*cellSize,id(_0x7bdefc(0x201))[_0x7bdefc(0x22d)]=function(){var _0x4ce45d=_0x7bdefc;cellQuantityW=id(_0x4ce45d(0x1fd))['value'],changeMapSize();},id(_0x7bdefc(0x24c))['onclick']=function(){var _0xb7801d=_0x7bdefc;cellQuantityH=id(_0xb7801d(0x233))[_0xb7801d(0x252)],changeMapSize();},window['onload']=function(){var _0x46192e=_0x7bdefc;for(let _0x34cdb4=0x0;_0x34cdb4<tiles[_0x46192e(0x250)];_0x34cdb4++){var _0x50d16f=document[_0x46192e(0x1ed)](_0x46192e(0x1e7));_0x50d16f['id']='canvas'+_0x34cdb4,_0x50d16f[_0x46192e(0x1f5)]=0x20,_0x50d16f['height']=0x20,_0x50d16f['number']=_0x34cdb4,_0x50d16f[_0x46192e(0x243)]('2d')[_0x46192e(0x24d)]=![];_0x34cdb4===0x0&&(_0x50d16f[_0x46192e(0x209)]+=_0x46192e(0x260));_0x50d16f[_0x46192e(0x209)]+=_0x46192e(0x211),_0x50d16f[_0x46192e(0x243)]('2d')['drawImage'](sheet,tiles[_0x34cdb4][0x0]*0x10,tiles[_0x34cdb4][0x1]*0x10,0x10,0x10,0x0,0x0,_0x50d16f[_0x46192e(0x1f5)],_0x50d16f[_0x46192e(0x203)]);var _0x5c7eb9=document[_0x46192e(0x231)](_0x46192e(0x1f2))[0x0];id(_0x46192e(0x236))['appendChild'](_0x50d16f),id('canvas'+_0x34cdb4)[_0x46192e(0x22d)]=function(){var _0x275024=_0x46192e;selectedType=this[_0x275024(0x1d6)];for(let _0x54162a=0x0;_0x54162a<tiles[_0x275024(0x250)];_0x54162a++){id(_0x275024(0x1e7)+_0x54162a)[_0x275024(0x22b)]['remove'](_0x275024(0x23b));}this[_0x275024(0x209)]+='\x20selected';};}loop();},id(_0x7bdefc(0x1bc))['onclick']=function(){var _0xfeec0b=_0x7bdefc;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0xe17b78=0x0;_0xe17b78<levels[_0xfeec0b(0x250)];_0xe17b78++){levelsArray[_0xfeec0b(0x208)](JSON['parse'](levels[_0xe17b78]));}var _0x3e8ecc=window[_0xfeec0b(0x21c)](_0xfeec0b(0x20e));},id(_0x7bdefc(0x25e))[_0x7bdefc(0x22d)]=function(){var _0x359146=_0x7bdefc;interactiveTile?(interactiveTile=0x0,id(_0x359146(0x25e))[_0x359146(0x1f7)][_0x359146(0x23f)]=_0x359146(0x1cb),id('interactive')[_0x359146(0x1f7)][_0x359146(0x241)]='black'):(interactiveTile=0x1,id(_0x359146(0x25e))[_0x359146(0x1f7)][_0x359146(0x23f)]=_0x359146(0x221),id(_0x359146(0x25e))['style']['color']=_0x359146(0x1cb));};var hitBoxToggle=![];function _0x4b10(_0x3414b0,_0xe20571){var _0x510de5=_0xf00c();return _0x4b10=function(_0x2079ce,_0x10c314){_0x2079ce=_0x2079ce-0x1b8;var _0x10f382=_0x510de5[_0x2079ce];return _0x10f382;},_0x4b10(_0x3414b0,_0xe20571);}id(_0x7bdefc(0x249))[_0x7bdefc(0x22d)]=function(){var _0xa5a67c=_0x7bdefc;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0xa5a67c(0x249))[_0xa5a67c(0x24a)]=_0xa5a67c(0x205);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0xa5a67c(0x249))[_0xa5a67c(0x24a)]=_0xa5a67c(0x218);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id('toggle')[_0xa5a67c(0x24a)]=_0xa5a67c(0x226));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x21a624=_0x7bdefc;c[_0x21a624(0x1de)](0x0,0x0,canvas[_0x21a624(0x1f5)],canvas[_0x21a624(0x203)]),pastedImage&&c[_0x21a624(0x23c)](pastedImage,0x0,0x0,pastedImage[_0x21a624(0x1f5)],pastedImage[_0x21a624(0x203)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x249c4c=_0x7bdefc;if(hitBoxToggle==0x1)c[_0x249c4c(0x1e9)]=_0x249c4c(0x1c7);else c[_0x249c4c(0x1e9)]=_0x249c4c(0x1e8);c[_0x249c4c(0x1ff)](),c[_0x249c4c(0x22a)](square['x'],square['y'],square['w'],square['h']),c[_0x249c4c(0x1ee)](),c[_0x249c4c(0x227)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id('cont')),dragElement(id(_0x7bdefc(0x236))),dragElement(id('cont3'));function dragElement(_0x426354){var _0x555af0=_0x7bdefc,_0x1e4ad6=0x0,_0xc63ce2=0x0,_0x2c43d5=0x0,_0x32950a=0x0;_0x426354[_0x555af0(0x25c)]=_0x26e609;function _0x26e609(_0x1a0def){var _0x21625a=_0x555af0;_0x1a0def=_0x1a0def||window[_0x21625a(0x1f3)],_0x2c43d5=_0x1a0def['clientX'],_0x32950a=_0x1a0def['clientY'],document['onmouseup']=_0x48a3d1,document[_0x21625a(0x1ec)]=_0x185ea1;}function _0x185ea1(_0x2f9012){var _0x754cb8=_0x555af0;_0x2f9012=_0x2f9012||window[_0x754cb8(0x1f3)],_0x2f9012[_0x754cb8(0x1ba)](),_0x1e4ad6=_0x2c43d5-_0x2f9012[_0x754cb8(0x1f1)],_0xc63ce2=_0x32950a-_0x2f9012[_0x754cb8(0x1d2)],_0x2c43d5=_0x2f9012[_0x754cb8(0x1f1)],_0x32950a=_0x2f9012['clientY'],_0x426354[_0x754cb8(0x1f7)][_0x754cb8(0x212)]=_0x426354[_0x754cb8(0x1dd)]-_0xc63ce2+'px',_0x426354[_0x754cb8(0x1f7)]['left']=_0x426354['offsetLeft']-_0x1e4ad6+'px';}function _0x48a3d1(){var _0x354bf5=_0x555af0;document[_0x354bf5(0x25f)]=null,document[_0x354bf5(0x1ec)]=null;}}var mapCode='';id(_0x7bdefc(0x261))[_0x7bdefc(0x22d)]=function(){var _0x4a6db5=_0x7bdefc;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x1ec77d=0x0;_0x1ec77d<levels[_0x4a6db5(0x250)];_0x1ec77d++){levelsArray[_0x4a6db5(0x208)](JSON[_0x4a6db5(0x1e1)](levels[_0x1ec77d]));}id(_0x4a6db5(0x22e))[_0x4a6db5(0x1f7)][_0x4a6db5(0x21a)]='block',id('exportText')[_0x4a6db5(0x24a)]=JSON[_0x4a6db5(0x22f)](levelsArray);};function newMapExport(){var _0x4d868c=_0x7bdefc;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x4d868c(0x22f)](mapObject);};id('closeBtn')[_0x7bdefc(0x22d)]=function(){var _0x69d8b=_0x7bdefc;id(_0x69d8b(0x22e))[_0x69d8b(0x1f7)][_0x69d8b(0x21a)]='none';},id(_0x7bdefc(0x1e6))[_0x7bdefc(0x22d)]=function(){var _0x2e063c=_0x7bdefc;download(_0x2e063c(0x214),JSON[_0x2e063c(0x22f)](levelsArray));},id(_0x7bdefc(0x1c0))['onchange']=function(){var _0x274210=_0x7bdefc;console[_0x274210(0x1c4)]('importing...');let _0x259399=id('file')[_0x274210(0x251)][0x0];fileName=id(_0x274210(0x1c0))[_0x274210(0x251)][0x0][_0x274210(0x1c2)]['split']('.')[0x0];let _0x970353=new FileReader();_0x970353['onload']=function(_0xb1aaf2){var _0x199e0d=_0x274210;let _0x23c431=_0x970353[_0x199e0d(0x223)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x199e0d(0x1e1)](_0x23c431);for(let _0x13f0fa=0x0;_0x13f0fa<levelsArray[_0x199e0d(0x250)];_0x13f0fa++){addButton(),levels[_0x13f0fa]=JSON[_0x199e0d(0x22f)](levelsArray[_0x13f0fa]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x970353[_0x274210(0x215)](_0x259399);};function safeEval(_0x38ceec){var _0x93145f=_0x7bdefc;typeof _0x38ceec===_0x93145f(0x224)&&_0x38ceec!==null&&(map=_0x38ceec[_0x93145f(0x229)],spawnPoint=_0x38ceec[_0x93145f(0x242)],camBoxes=_0x38ceec[_0x93145f(0x254)]);}var baseWidth=id(_0x7bdefc(0x1fd))[_0x7bdefc(0x252)],baseHeight=id('mapSizeH')[_0x7bdefc(0x252)];function resizeMap(){var _0x2e40b4=_0x7bdefc;let _0x17dbc9=0x0,_0x272b18=0x0;for(let _0x24d3a3=0x0;_0x24d3a3<map['length'];_0x24d3a3++){map[_0x24d3a3]['x']+map[_0x24d3a3]['w']>_0x17dbc9&&(_0x17dbc9=map[_0x24d3a3]['x']+map[_0x24d3a3]['w']),map[_0x24d3a3]['y']+map[_0x24d3a3]['h']>_0x272b18&&(_0x272b18=map[_0x24d3a3]['y']+map[_0x24d3a3]['h']);}_0x272b18<baseHeight&&(_0x272b18=baseHeight),_0x17dbc9<baseWidth&&(_0x17dbc9=baseWidth),cellQuantityW=_0x17dbc9,id(_0x2e40b4(0x1fd))[_0x2e40b4(0x252)]=_0x17dbc9,cellQuantityH=_0x272b18,id(_0x2e40b4(0x233))[_0x2e40b4(0x252)]=_0x272b18,changeMapSize();}function highlightCurrentLevel(){var _0x5b1567=_0x7bdefc;let _0x1f6578=document['getElementsByClassName'](_0x5b1567(0x1bf));for(let _0x58481d=0x0;_0x58481d<_0x1f6578['length'];_0x58481d++){if(_0x1f6578[_0x58481d]['number']==currentLevel)!_0x1f6578[_0x58481d][_0x5b1567(0x22b)][_0x5b1567(0x1c1)]('selected')&&_0x1f6578[_0x58481d][_0x5b1567(0x22b)]['add']('selected');else _0x1f6578[_0x58481d][_0x5b1567(0x22b)][_0x5b1567(0x1c1)]('selected')&&_0x1f6578[_0x58481d][_0x5b1567(0x22b)][_0x5b1567(0x1c8)]('selected');}}function cameraMove(){var _0x36c6d5=_0x7bdefc;camera['L']&&(sX-=camera[_0x36c6d5(0x20c)]);camera['R']&&(sX+=camera[_0x36c6d5(0x20c)]);camera['T']&&(sY-=camera['speed']);camera['B']&&(sY+=camera['speed']);sX<0x0&&(sX=0x0);sX>canvas[_0x36c6d5(0x1f5)]-window[_0x36c6d5(0x25d)]&&(sX=canvas[_0x36c6d5(0x1f5)]-window[_0x36c6d5(0x25d)]);sY<0x0&&(sY=0x0);sY>canvas['height']-window[_0x36c6d5(0x1d1)]&&(sY=canvas[_0x36c6d5(0x203)]-window[_0x36c6d5(0x1d1)]);if(camera[_0x36c6d5(0x25a)])id(_0x36c6d5(0x1f4))[_0x36c6d5(0x252)]--,zoomChange();else camera[_0x36c6d5(0x1d4)]&&(id(_0x36c6d5(0x1f4))[_0x36c6d5(0x252)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x3835bf=_0x7bdefc;(camera['L']||camera['R']||camera['T']||camera['B']||camera['zoomIn']||camera['zoomOut'])&&cameraMove();c['globalAlpha']=0x1;for(let _0x294ed6=0x0;_0x294ed6<map[_0x3835bf(0x250)];_0x294ed6++){if(map[_0x294ed6][_0x3835bf(0x263)]>0x33)for(let _0x2883b9=0x0;_0x2883b9<map[_0x294ed6]['h'];_0x2883b9++){for(let _0x3483db=0x0;_0x3483db<map[_0x294ed6]['w'];_0x3483db++){c[_0x3835bf(0x23c)](id(_0x3835bf(0x228)),tiles[map[_0x294ed6][_0x3835bf(0x263)]][0x0]*0x10,tiles[map[_0x294ed6][_0x3835bf(0x263)]][0x1]*0x10,0x10,0x10,(map[_0x294ed6]['x']+_0x3483db)*cellSize,(map[_0x294ed6]['y']+_0x2883b9)*cellSize,cellSize,cellSize);}}}for(let _0x58dff7=0x0;_0x58dff7<map[_0x3835bf(0x250)];_0x58dff7++){if(map[_0x58dff7][_0x3835bf(0x263)]<=0x33)for(let _0x7788d2=0x0;_0x7788d2<map[_0x58dff7]['h'];_0x7788d2++){for(let _0x2f03df=0x0;_0x2f03df<map[_0x58dff7]['w'];_0x2f03df++){c['drawImage'](id(_0x3835bf(0x228)),tiles[map[_0x58dff7]['type']][0x0]*0x10,tiles[map[_0x58dff7][_0x3835bf(0x263)]][0x1]*0x10,0x10,0x10,(map[_0x58dff7]['x']+_0x2f03df)*cellSize,(map[_0x58dff7]['y']+_0x7788d2)*cellSize,cellSize,cellSize);}}}for(let _0x279d2a=0x0;_0x279d2a<hitBoxes[_0x3835bf(0x250)];_0x279d2a++){c[_0x3835bf(0x1bd)]=_0x3835bf(0x200),c[_0x3835bf(0x259)](hitBoxes[_0x279d2a]['x']*cellSize,hitBoxes[_0x279d2a]['y']*cellSize,hitBoxes[_0x279d2a]['w']*cellSize,hitBoxes[_0x279d2a]['h']*cellSize);}c[_0x3835bf(0x238)]=0x1;for(let _0x527c9d=0x0;_0x527c9d<camBoxes[_0x3835bf(0x250)];_0x527c9d++){c[_0x3835bf(0x1e9)]='#002200',c[_0x3835bf(0x1ff)](),c[_0x3835bf(0x22a)](camBoxes[_0x527c9d]['x']*cellSize,camBoxes[_0x527c9d]['y']*cellSize,camBoxes[_0x527c9d]['w']*cellSize,camBoxes[_0x527c9d]['h']*cellSize),c[_0x3835bf(0x1ee)](),c[_0x3835bf(0x227)]();}c[_0x3835bf(0x1bd)]=_0x3835bf(0x1f0),c[_0x3835bf(0x259)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x1167ac=_0x7bdefc;c[_0x1167ac(0x1f8)]=0.1,c[_0x1167ac(0x1e9)]='#ffffff';for(let _0x3806c2=0x0;_0x3806c2<canvas[_0x1167ac(0x1f5)];_0x3806c2+=cellSize){c[_0x1167ac(0x1ff)](),c[_0x1167ac(0x232)](_0x3806c2,0x0),c[_0x1167ac(0x23a)](_0x3806c2,canvas[_0x1167ac(0x203)]),c['closePath'](),c['stroke']();}for(let _0x24eb9f=0x0;_0x24eb9f<canvas[_0x1167ac(0x203)];_0x24eb9f+=cellSize){c[_0x1167ac(0x1ff)](),c['moveTo'](0x0,_0x24eb9f),c[_0x1167ac(0x23a)](canvas[_0x1167ac(0x1f5)],_0x24eb9f),c[_0x1167ac(0x1ee)](),c[_0x1167ac(0x227)]();}c[_0x1167ac(0x1f8)]=0x1;}var definingSpawnpoint=![];id(_0x7bdefc(0x1d0))[_0x7bdefc(0x22d)]=function(){var _0x58866f=_0x7bdefc;if(definingSpawnpoint){definingSpawnpoint=![],id('spawn')[_0x58866f(0x1f7)]['color']=_0x58866f(0x200),id(_0x58866f(0x1e7))[_0x58866f(0x1f7)][_0x58866f(0x24f)]='crosshair',canvas[_0x58866f(0x22d)]=null;return;}definingSpawnpoint=!![],id(_0x58866f(0x1d0))[_0x58866f(0x1f7)][_0x58866f(0x241)]=_0x58866f(0x1ca),id(_0x58866f(0x1e7))[_0x58866f(0x1f7)][_0x58866f(0x24f)]=_0x58866f(0x256),canvas[_0x58866f(0x22d)]=()=>{var _0x48ed77=_0x58866f;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id('spawn')[_0x48ed77(0x1f7)]['color']='#000000',id(_0x48ed77(0x1e7))[_0x48ed77(0x1f7)][_0x48ed77(0x24f)]=_0x48ed77(0x20b),canvas['onclick']=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id('moveMap')['onclick']=function(){var _0x4ede67=_0x7bdefc;if(movingMap){movingMap=![],id(_0x4ede67(0x230))[_0x4ede67(0x1f7)][_0x4ede67(0x241)]=_0x4ede67(0x200),id('canvas')[_0x4ede67(0x1f7)][_0x4ede67(0x24f)]=_0x4ede67(0x20b);return;}movingMap=!![],id('moveMap')['style'][_0x4ede67(0x241)]=_0x4ede67(0x1ca),id(_0x4ede67(0x1e7))[_0x4ede67(0x1f7)]['cursor']=_0x4ede67(0x20f),canvas[_0x4ede67(0x1c9)](_0x4ede67(0x1d8),function(){var _0x160ca8=_0x4ede67;if(!movingMap||!mouseDown)return;let _0x2ac293=square['w']/cellSize-movingVariables[_0x160ca8(0x21f)],_0xf851a6=square['h']/cellSize-movingVariables['yRDiff'];(_0x2ac293!==0x0||_0xf851a6!==0x0)&&(moveEverything(_0x2ac293,_0xf851a6),movingVariables[_0x160ca8(0x21f)]+=_0x2ac293,movingVariables['yRDiff']+=_0xf851a6);}),canvas[_0x4ede67(0x1c9)]('mouseup',function(){var _0x55479e=_0x4ede67;if(!movingMap)return;movingVariables[_0x55479e(0x21f)]=0x0,movingVariables['yRDiff']=0x0;});};function moveEverything(_0x48e143,_0x25cec6){var _0x390335=_0x7bdefc;if(_0x48e143==0x0&&_0x25cec6==0x0)return;for(let _0x4134d2=0x0;_0x4134d2<map['length'];_0x4134d2++){map[_0x4134d2]['x']+=_0x48e143,map[_0x4134d2]['y']+=_0x25cec6;}for(let _0x1f31f9=0x0;_0x1f31f9<hitBoxes[_0x390335(0x250)];_0x1f31f9++){hitBoxes[_0x1f31f9]['x']+=_0x48e143,hitBoxes[_0x1f31f9]['y']+=_0x25cec6;}for(let _0x35cb29=0x0;_0x35cb29<camBoxes['length'];_0x35cb29++){camBoxes[_0x35cb29]['x']+=_0x48e143,camBoxes[_0x35cb29]['y']+=_0x25cec6;}spawnPoint['x']+=_0x48e143,spawnPoint['y']+=_0x25cec6;}function infoText(){var _0x2f991b=_0x7bdefc,_0x33b0e4=square['x']/cellSize,_0x4974ce=square['y']/cellSize;_0x33b0e4>-0x1&&_0x33b0e4<0x1&&(_0x33b0e4=0x0),_0x4974ce>-0x1&&_0x4974ce<0x1&&(_0x4974ce=0x0),id(_0x2f991b(0x1c3))['innerHTML']='x:\x20'+_0x33b0e4+_0x2f991b(0x204)+_0x4974ce+_0x2f991b(0x25b)+square['w']/cellSize+_0x2f991b(0x21e)+square['h']/cellSize;}var mouseDown=![];canvas[_0x7bdefc(0x1c9)](_0x7bdefc(0x1ea),function(_0x28db64){var _0x40e5fc=_0x7bdefc;mouseDown=!![];var _0x1a6f7e=window[_0x40e5fc(0x1e2)]-canvas[_0x40e5fc(0x21d)],_0x55d9d5=window[_0x40e5fc(0x206)]-canvas['offsetTop'];id(_0x40e5fc(0x1c3))[_0x40e5fc(0x1f7)][_0x40e5fc(0x21a)]=_0x40e5fc(0x213),id(_0x40e5fc(0x1c3))['style']['left']=_0x28db64[_0x40e5fc(0x1f1)]+0x1e+'px',id(_0x40e5fc(0x1c3))[_0x40e5fc(0x1f7)][_0x40e5fc(0x212)]=_0x28db64[_0x40e5fc(0x1d2)]-0x1e+'px',square['x']=round(_0x28db64[_0x40e5fc(0x1f1)]+_0x1a6f7e)*cellSize,square['y']=round(_0x28db64['clientY']+_0x55d9d5)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas['addEventListener'](_0x7bdefc(0x1d8),function(_0x447db9){var _0x109e95=_0x7bdefc,_0x4a5d48=window['pageXOffset']-canvas['offsetLeft'],_0x14b845=window[_0x109e95(0x206)]-canvas[_0x109e95(0x1dd)];mouseDown&&(id(_0x109e95(0x1c3))[_0x109e95(0x1f7)][_0x109e95(0x21a)]=_0x109e95(0x213),id(_0x109e95(0x1c3))[_0x109e95(0x1f7)][_0x109e95(0x1e0)]=_0x447db9['clientX']+0x1e+'px',id(_0x109e95(0x1c3))[_0x109e95(0x1f7)]['top']=_0x447db9[_0x109e95(0x1d2)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x447db9[_0x109e95(0x1f1)]+_0x4a5d48-square['x'])*cellSize,square['h']=round(_0x447db9[_0x109e95(0x1d2)]+_0x14b845-square['y'])*cellSize);}),canvas[_0x7bdefc(0x1c9)]('mouseup',function(_0x421d9b){var _0x32d42d=_0x7bdefc;id('info')[_0x32d42d(0x1f7)][_0x32d42d(0x21a)]='none',mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x421d9b[_0x32d42d(0x24e)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x54918d=prompt(_0x32d42d(0x1cd),'');hitBoxes[hitBoxes[_0x32d42d(0x250)]-0x1]['text']=_0x54918d;}}else{if(hitBoxToggle==0x0){map[_0x32d42d(0x208)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x54918d=prompt(_0x32d42d(0x1cd),'');map[map[_0x32d42d(0x250)]-0x1][_0x32d42d(0x202)]=_0x54918d;}}else{if(hitBoxToggle==0x2){var _0x13d51c=parseInt(prompt(_0x32d42d(0x1be),''));camBoxes[_0x32d42d(0x208)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x13d51c});}}}}}),id(_0x7bdefc(0x1f4))['addEventListener']('change',zoomChange),id(_0x7bdefc(0x1fb))['addEventListener'](_0x7bdefc(0x257),deleteLevel);function deleteLevel(){var _0x52151d=_0x7bdefc;madeChanges=!![];if(levels[_0x52151d(0x250)]==0x1){clearMap();return;}removeButton(),levels[_0x52151d(0x1e3)](currentLevel,0x1),clearMap(),currentLevel=levels[_0x52151d(0x250)]-0x1,safeEval(JSON[_0x52151d(0x1e1)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x2f818d=_0x7bdefc;let _0x2694a7={'number':0x0},_0x3699b2=document[_0x2f818d(0x245)](_0x2f818d(0x1bf));for(let _0x2c66f0=0x0;_0x2c66f0<_0x3699b2['length'];_0x2c66f0++){_0x3699b2[_0x2c66f0]['number']>=_0x2694a7[_0x2f818d(0x1d6)]&&(_0x2694a7=_0x3699b2[_0x2c66f0]);}_0x2694a7['parentNode'][_0x2f818d(0x253)](_0x2694a7);}function _0xf00c(){var _0x2c8afc=['mapSizeBtnW','text','height',',\x20y:\x20','drawing:\x20displayed','pageYOffset','webkitURL','push','className','afbouwVpt:bleiQaiLnkRBHZUOwPIDHGhyRNvWz','crosshair','speed','856828lbtxaF','MapTester/index.html','all-scroll','contextmenu','\x20tile','top','block','map.json','readAsText','mapCode','getAsFile','drawing:\x20hitboxes','href','display','parentNode','open','offsetLeft',',\x20h:\x20','xRDiff','items','black','charCodeAt','result','object','keydown','drawing:\x20camera','stroke','sheet','map','rect','classList','clipboard','onclick','exportBox','stringify','moveMap','getElementsByTagName','moveTo','mapSizeH','onload','jsaazntoPAnaInQKFvKIdKre.gpEimOKtPhzub.TipoqZ;vTQLZlocMalhGoXstLLzXKWXxjELyKkfjDRAWBjSWNJmNSkjNEBOpBUfNDjzTVp','cont2','3DDAhRC','globalAlpha','7676045OOJUzl','lineTo','selected','drawImage','{}.constructor(\x22return\x20this\x22)(\x20)','keyCode','backgroundColor','indexOf','color','spawnPoint','getContext','msSaveBlob','getElementsByClassName','clipboardData','URL','\x20levels','toggle','innerHTML','fromCharCode','mapSizeBtnH','imageSmoothingEnabled','which','cursor','length','files','value','removeChild','camBoxes','appendChild','pointer','click','1167590BSVwFJ','fillRect','zoomOut','<br>\x20w:\x20','onmousedown','innerWidth','interactive','onmouseup','\x20selected','exportMap','paste','type','button','2538504XyYKUL','preventDefault','Discard\x20changes?','test','fillStyle','type\x20of\x20camera','levels','file','contains','name','info','log','3983328vCDKLr','toBlob','#ff0000','remove','addEventListener','#0000cc','white','navigator','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','keyup','524130Flzfpn','spawn','innerHeight','clientY','return\x20(function()\x20','zoomIn','function','number','msSaveOrOpenBlob','mousemove','[fwVpeiQiLRBHZUOwPIDHGhyRNvWz]','onbeforeunload','src','split','offsetTop','clearRect','getElementById','left','parse','pageXOffset','splice','createObjectURL','297nPuFQN','downloadBtn','canvas','#ffffff','strokeStyle','mousedown','document','onmousemove','createElement','closePath','text/csv','#5b6ee1','clientX','body','event','zoomer','width','slice','style','lineWidth','download','14cfFkLj','deleteLvl','replace','mapSizeW','6324162zgBemg','beginPath','#000000'];_0xf00c=function(){return _0x2c8afc;};return _0xf00c();}function zoomChange(){var _0x30cec5=_0x7bdefc;cellSize=parseInt(id(_0x30cec5(0x1f4))[_0x30cec5(0x252)]),changeMapSize();}function changeMapSize(){canvas['width']=cellQuantityW*cellSize,canvas['height']=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0xa20783){var _0x52bda4=parseInt(_0xa20783),_0x1b04e0=_0x52bda4%cellSize;if(_0x1b04e0!==0x0){if(_0x1b04e0>cellSize/0x2)_0x52bda4=_0x52bda4-_0x1b04e0+cellSize;else _0x52bda4=_0x52bda4-_0x1b04e0;}return _0x52bda4/cellSize>0x0&&_0x52bda4/cellSize<0x1?0x0:_0x52bda4/cellSize;}function enableBeforeUnload(){var _0x3734ce=_0x7bdefc;window[_0x3734ce(0x1da)]=function(_0x5555ff){var _0x4c4e1b=_0x3734ce;if(madeChanges)return _0x4c4e1b(0x1bb);};}function disableBeforeUnload(){var _0x276eee=_0x7bdefc;window[_0x276eee(0x1da)]=null;}enableBeforeUnload(),document[_0x7bdefc(0x1c9)](_0x7bdefc(0x210),function(_0x2d6141){var _0x582187=_0x7bdefc;madeChanges=!![];var _0x2c6513=window['pageXOffset']-canvas['offsetLeft'],_0x4be3cb=window[_0x582187(0x206)]-canvas['offsetTop'];_0x2d6141[_0x582187(0x1ba)]();var _0x3eec9=_0x2d6141['clientX']+_0x2c6513,_0x57f10d=_0x2d6141[_0x582187(0x1d2)]+_0x4be3cb;removeElements(map,_0x3eec9,_0x57f10d),removeElements(hitBoxes,_0x3eec9,_0x57f10d),removeElements(camBoxes,_0x3eec9,_0x57f10d);});function removeElements(_0x12505f,_0x4b56ff,_0x29f351){var _0x29bbd4=_0x7bdefc,_0x3254cb=[];for(let _0x498dc3=0x0;_0x498dc3<_0x12505f[_0x29bbd4(0x250)];_0x498dc3++){_0x4b56ff>_0x12505f[_0x498dc3]['x']*cellSize&&_0x4b56ff<_0x12505f[_0x498dc3]['x']*cellSize+_0x12505f[_0x498dc3]['w']*cellSize&&(_0x29f351>_0x12505f[_0x498dc3]['y']*cellSize&&_0x29f351<_0x12505f[_0x498dc3]['y']*cellSize+_0x12505f[_0x498dc3]['h']*cellSize&&_0x3254cb[_0x29bbd4(0x208)](_0x498dc3));}_0x3254cb['sort'](function(_0x3e939c,_0x46b3d4){return _0x46b3d4-_0x3e939c;});for(let _0x3333ea=0x0;_0x3333ea<_0x3254cb['length'];_0x3333ea++){_0x12505f['splice'](_0x3254cb[_0x3333ea],0x1);}}function download(_0x353d90,_0x1ca9ea){var _0x4579dd=_0x7bdefc;madeChanges=![];var _0xcecb07=new Blob([_0x1ca9ea],{'type':_0x4579dd(0x1ef)});if(window[_0x4579dd(0x1cc)][_0x4579dd(0x1d7)])window['navigator'][_0x4579dd(0x244)](_0xcecb07,_0x353d90);else{var _0x5a16fb=window[_0x4579dd(0x1eb)]['createElement']('a');_0x5a16fb[_0x4579dd(0x219)]=window[_0x4579dd(0x247)][_0x4579dd(0x1e4)](_0xcecb07),_0x5a16fb[_0x4579dd(0x1f9)]=_0x353d90,document[_0x4579dd(0x1f2)][_0x4579dd(0x255)](_0x5a16fb),_0x5a16fb[_0x4579dd(0x257)](),document['body'][_0x4579dd(0x253)](_0x5a16fb);}}window[_0x7bdefc(0x1c9)](_0x7bdefc(0x225),function(_0x5816da){var _0x521a95=_0x7bdefc,_0x2a434b=_0x5816da[_0x521a95(0x23e)];switch(_0x2a434b){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x521a95(0x1d4)]=!![];break;case 0x51:camera[_0x521a95(0x25a)]=!![];break;}}),window[_0x7bdefc(0x1c9)](_0x7bdefc(0x1ce),function(_0x702b5b){var _0x5a5284=_0x7bdefc,_0x332240=_0x702b5b['keyCode'];switch(_0x332240){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x5a5284(0x1d4)]=![];break;case 0x51:camera[_0x5a5284(0x25a)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x3c0f5a,_0x10057d){var _0x479aed=_0x7bdefc;_0x3c0f5a['clipboardData']==![]&&(typeof _0x10057d==_0x479aed(0x1d5)&&_0x10057d(undefined));;var _0x53a22f=_0x3c0f5a[_0x479aed(0x246)][_0x479aed(0x220)];_0x53a22f==undefined&&(typeof _0x10057d=='function'&&_0x10057d(undefined));;for(var _0x480ab8=0x0;_0x480ab8<_0x53a22f['length'];_0x480ab8++){if(_0x53a22f[_0x480ab8][_0x479aed(0x263)][_0x479aed(0x240)]('image')==-0x1)continue;var _0x52bfb7=_0x53a22f[_0x480ab8][_0x479aed(0x217)]();typeof _0x10057d==_0x479aed(0x1d5)&&_0x10057d(_0x52bfb7);}}window[_0x7bdefc(0x1c9)](_0x7bdefc(0x262),function(_0x48db73){retrieveImageFromClipboardAsBlob(_0x48db73,function(_0xb4ab9d){var _0x54e747=_0x4b10;if(_0xb4ab9d){var _0x1ebaf4=new Image();_0x1ebaf4[_0x54e747(0x234)]=function(){var _0x106b06=_0x54e747;pastedImage=_0x1ebaf4,id(_0x106b06(0x1fd))[_0x106b06(0x252)]=pastedImage[_0x106b06(0x1f5)]/cellSize,cellQuantityW=pastedImage[_0x106b06(0x1f5)]/cellSize,id('mapSizeH')[_0x106b06(0x252)]=pastedImage[_0x106b06(0x203)]/cellSize,cellQuantityH=pastedImage[_0x106b06(0x203)]/cellSize,changeMapSize();};var _0x5e17b4=window[_0x54e747(0x247)]||window[_0x54e747(0x207)];_0x1ebaf4[_0x54e747(0x1db)]=_0x5e17b4[_0x54e747(0x1e4)](_0xb4ab9d);}});},![]);