'use strict';var _0x1f51f0=_0x37ad;function _0x6875(){var _0x481660=['moveMap','scIaebwoIYVjuQYLthh:blLJLaGwenkYLgxMPBJ','parentNode','\x20tile','indexOf','#002200','file','which','type\x20of\x20camera','innerWidth','stroke','add','crosshair','\x20selected','lineWidth','clientX','webkitURL','left','top','yRDiff','mQWHsWamanwHtonUYQIaYndreDF.gNUixfzthubWD.io;lPocalhHZoGsmCkOjwtkKYfNLSqFXfvSEPMwHCXXwRNDUIBjZZYvSAY','type','beginPath','log','mapSizeW','download','replace','clientY','innerHeight','push','test','mousemove','xRDiff','#ffffff','items','function','createObjectURL','msSaveOrOpenBlob','138472JFLPDQ','drawImage','drawing:\x20hitboxes','href','getElementsByClassName','readAsText','event','mapSizeBtnW','value','pageXOffset','closePath','removeChild','lineTo','className','getElementById','339906AsqcpN','drawing:\x20displayed','mouseup','black','preventDefault','canvas','URL','button','name','style','block','white','zoomIn','clipboard','splice','spawnPoint','innerHTML','#ff0000','backgroundColor','stringify','fillStyle','number','clipboardData','#5b6ee1','charCodeAt','exportBox','body','map.json','paste','offsetTop','navigator','none','change','deleteLvl','moveTo','mapCode','addEventListener','cont','onmousemove','slice','185463bdDJVB','[mQWHWmwHUYQIYDFNUxfzWDPHZGmCkOjwkKYfNLSqFXfvSEPMwHCXXwRNDUIBjZZYvSAY]','downloadBtn','selected','appendChild','onmousedown','createElement','1268gpJorJ','document','image','parse','<br>\x20w:\x20','#0000cc','files','globalAlpha','zoomer','cursor','height','getContext','closeBtn','imageSmoothingEnabled','classList','pageYOffset','mapSizeBtnH','width','3935PmTBHI','contextmenu','1799040fsKBoh','toggle','359992dyDUJU','sort','click','sheet','contains','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','onmouseup','color','getElementsByTagName','levels','toBlob','display','1192240NvYzzv','info','drawing:\x20camera','return\x20(function()\x20','length','split',',\x20h:\x20','interactive','map','{}.constructor(\x22return\x20this\x22)(\x20)','onload','fromCharCode','mapSizeH','#000000','strokeStyle','[scIewIYVjQYLhhLJLGweYLgxMPBJ]','mousedown','keyCode','all-scroll','cont3','onclick','zoomOut','speed','text','offsetLeft','exportText','rect','remove','spawn'];_0x6875=function(){return _0x481660;};return _0x6875();}(function(_0x13641e,_0x14ef85){var _0x3fea1f=_0x37ad,_0x579426=_0x13641e();while(!![]){try{var _0x514f65=-parseInt(_0x3fea1f(0x14b))/0x1+parseInt(_0x3fea1f(0x106))/0x2+parseInt(_0x3fea1f(0x12e))/0x3+parseInt(_0x3fea1f(0x135))/0x4*(parseInt(_0x3fea1f(0x147))/0x5)+parseInt(_0x3fea1f(0x149))/0x6+-parseInt(_0x3fea1f(0x157))/0x7+-parseInt(_0x3fea1f(0xf7))/0x8;if(_0x514f65===_0x14ef85)break;else _0x579426['push'](_0x579426['shift']());}catch(_0xb5c5e3){_0x579426['push'](_0x579426['shift']());}}}(_0x6875,0x39000));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x1badac){var _0x27599d=_0x37ad,_0x556902=(function(){var _0x35f639=!![];return function(_0x5aa6d6,_0x23acdf){var _0x563d77=_0x35f639?function(){if(_0x23acdf){var _0x3467ad=_0x23acdf['apply'](_0x5aa6d6,arguments);return _0x23acdf=null,_0x3467ad;}}:function(){};return _0x35f639=![],_0x563d77;};}()),_0x39e122=_0x556902(this,function(){var _0x5a01a2=_0x37ad,_0x8441fd;try{var _0x3ec329=Function(_0x5a01a2(0x15a)+_0x5a01a2(0x160)+');');_0x8441fd=_0x3ec329();}catch(_0x153ecf){_0x8441fd=window;}var _0xed381b=new RegExp(_0x5a01a2(0x12f),'g'),_0x1debd6=_0x5a01a2(0xe5)[_0x5a01a2(0xeb)](_0xed381b,'')['split'](';'),_0x3e70d3,_0x55bd0f,_0x22474b,_0x5612cc,_0x26e52e=function(_0x160324,_0x1a2cc6,_0x43d3d2){var _0x4df258=_0x5a01a2;if(_0x160324[_0x4df258(0x15b)]!=_0x1a2cc6)return![];for(var _0x452fb3=0x0;_0x452fb3<_0x1a2cc6;_0x452fb3++){for(var _0x3ef855=0x0;_0x3ef855<_0x43d3d2[_0x4df258(0x15b)];_0x3ef855+=0x2){if(_0x452fb3==_0x43d3d2[_0x3ef855]&&_0x160324[_0x4df258(0x11e)](_0x452fb3)!=_0x43d3d2[_0x3ef855+0x1])return![];}}return!![];},_0x515ec1=function(_0x51de08,_0x5f0fd8,_0x1e567b){return _0x26e52e(_0x5f0fd8,_0x1e567b,_0x51de08);},_0xa0598b=function(_0x404593,_0x28cd3f,_0xfcf525){return _0x515ec1(_0x28cd3f,_0x404593,_0xfcf525);},_0x37abef=function(_0x5cb0dd,_0x19cfe6,_0x55d0e7){return _0xa0598b(_0x19cfe6,_0x55d0e7,_0x5cb0dd);};for(var _0x3f84f9 in _0x8441fd){if(_0x26e52e(_0x3f84f9,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3e70d3=_0x3f84f9;break;}}for(var _0x1399f7 in _0x8441fd[_0x3e70d3]){if(_0x37abef(0x6,_0x1399f7,[0x5,0x6e,0x0,0x64])){_0x55bd0f=_0x1399f7;break;}}for(var _0x31ce6d in _0x8441fd[_0x3e70d3]){if(_0xa0598b(_0x31ce6d,[0x7,0x6e,0x0,0x6c],0x8)){_0x22474b=_0x31ce6d;break;}}if(!('~'>_0x55bd0f))for(var _0x4766b1 in _0x8441fd[_0x3e70d3][_0x22474b]){if(_0x515ec1([0x7,0x65,0x0,0x68],_0x4766b1,0x8)){_0x5612cc=_0x4766b1;break;}}if(!_0x3e70d3||!_0x8441fd[_0x3e70d3])return;var _0x249360=_0x8441fd[_0x3e70d3][_0x55bd0f],_0x129878=!!_0x8441fd[_0x3e70d3][_0x22474b]&&_0x8441fd[_0x3e70d3][_0x22474b][_0x5612cc],_0x43b643=_0x249360||_0x129878;if(!_0x43b643)return;var _0x1e1eb1=![];for(var _0x24afb1=0x0;_0x24afb1<_0x1debd6[_0x5a01a2(0x15b)];_0x24afb1++){var _0x55bd0f=_0x1debd6[_0x24afb1],_0x1f637c=_0x55bd0f[0x0]===String[_0x5a01a2(0x162)](0x2e)?_0x55bd0f[_0x5a01a2(0x12d)](0x1):_0x55bd0f,_0x440b16=_0x43b643[_0x5a01a2(0x15b)]-_0x1f637c[_0x5a01a2(0x15b)],_0x4529a1=_0x43b643[_0x5a01a2(0x178)](_0x1f637c,_0x440b16),_0x53da17=_0x4529a1!==-0x1&&_0x4529a1===_0x440b16;_0x53da17&&((_0x43b643[_0x5a01a2(0x15b)]==_0x55bd0f[_0x5a01a2(0x15b)]||_0x55bd0f['indexOf']('.')===0x0)&&(_0x1e1eb1=!![]));}if(!_0x1e1eb1){var _0x48d166=new RegExp(_0x5a01a2(0x166),'g'),_0x3cc2e7=_0x5a01a2(0x175)['replace'](_0x48d166,'');_0x8441fd[_0x3e70d3][_0x22474b]=_0x3cc2e7;}});return _0x39e122(),document[_0x27599d(0x105)](_0x1badac);}var canvas=id('canvas'),sheet=id(_0x1f51f0(0x14e)),c=canvas[_0x1f51f0(0x140)]('2d');c[_0x1f51f0(0x142)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x1f51f0(0x16b)]=function(){addLevel();};function clearMap(){var _0xb0bf7e=_0x1f51f0;map=[],mapObject[_0xb0bf7e(0x15f)]=[],mapObject['camBoxes']=[],mapObject[_0xb0bf7e(0x115)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x5a684f=_0x1f51f0;let _0x2b9ae0=document[_0x5a684f(0xfb)](_0x5a684f(0x154));for(let _0x54d869=_0x2b9ae0[_0x5a684f(0x15b)]-0x1;_0x54d869>=0x0;_0x54d869--){_0x2b9ae0[_0x54d869]['parentNode'][_0x5a684f(0x102)](_0x2b9ae0[_0x54d869]);}}id('saveButton')[_0x1f51f0(0x16b)]=saveImage;function saveImage(){var _0x2c4a37=_0x1f51f0;canvas[_0x2c4a37(0x155)](_0x78723c=>navigator[_0x2c4a37(0x113)]['write']([new ClipboardItem({'image/png':_0x78723c})]));}function addButton(){var _0x319f32=_0x1f51f0,_0x319e39=document[_0x319f32(0x134)](_0x319f32(0x10d));_0x319e39['number']=levels['length'],_0x319e39[_0x319f32(0x116)]=levels[_0x319f32(0x15b)],_0x319e39[_0x319f32(0x104)]+='\x20levels',_0x319e39[_0x319f32(0x133)]=function(_0x53fc99){var _0x2287a1=_0x319f32;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0x2287a1(0x11b)],safeEval(JSON['parse'](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0x319f32(0x16a))[_0x319f32(0x132)](_0x319e39),highlightCurrentLevel();}function addLevel(){var _0x52b491=_0x1f51f0;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels['splice'](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0x52b491(0x138)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x1f51f0(0xe9))[_0x1f51f0(0xff)],cellQuantityH=id('mapSizeH')['value'],cellSize=0x10,fileName=_0x1f51f0(0x129),interactiveTile=0x0;canvas['width']=cellQuantityW*cellSize,canvas[_0x1f51f0(0x13f)]=cellQuantityH*cellSize,id(_0x1f51f0(0xfe))[_0x1f51f0(0x16b)]=function(){var _0x199f4a=_0x1f51f0;cellQuantityW=id('mapSizeW')[_0x199f4a(0xff)],changeMapSize();},id(_0x1f51f0(0x145))[_0x1f51f0(0x16b)]=function(){var _0x4ab9c9=_0x1f51f0;cellQuantityH=id(_0x4ab9c9(0x163))['value'],changeMapSize();},window[_0x1f51f0(0x161)]=function(){var _0x4385d8=_0x1f51f0;for(let _0x1692a9=0x0;_0x1692a9<tiles[_0x4385d8(0x15b)];_0x1692a9++){var _0xa9575b=document[_0x4385d8(0x134)](_0x4385d8(0x10b));_0xa9575b['id']=_0x4385d8(0x10b)+_0x1692a9,_0xa9575b[_0x4385d8(0x146)]=0x20,_0xa9575b['height']=0x20,_0xa9575b['number']=_0x1692a9,_0xa9575b[_0x4385d8(0x140)]('2d')[_0x4385d8(0x142)]=![];_0x1692a9===0x0&&(_0xa9575b[_0x4385d8(0x104)]+='\x20selected');_0xa9575b[_0x4385d8(0x104)]+=_0x4385d8(0x177),_0xa9575b['getContext']('2d')[_0x4385d8(0xf8)](sheet,tiles[_0x1692a9][0x0]*0x10,tiles[_0x1692a9][0x1]*0x10,0x10,0x10,0x0,0x0,_0xa9575b['width'],_0xa9575b[_0x4385d8(0x13f)]);var _0x26b931=document[_0x4385d8(0x153)](_0x4385d8(0x120))[0x0];id('cont2')[_0x4385d8(0x132)](_0xa9575b),id(_0x4385d8(0x10b)+_0x1692a9)[_0x4385d8(0x16b)]=function(){var _0x4a9895=_0x4385d8;selectedType=this[_0x4a9895(0x11b)];for(let _0x4a5781=0x0;_0x4a5781<tiles[_0x4a9895(0x15b)];_0x4a5781++){id('canvas'+_0x4a5781)[_0x4a9895(0x143)][_0x4a9895(0x172)]('selected');}this[_0x4a9895(0x104)]+=_0x4a9895(0x181);};}loop();},id(_0x1f51f0(0xef))[_0x1f51f0(0x16b)]=function(){var _0x564129=_0x1f51f0;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x3349a8=0x0;_0x3349a8<levels[_0x564129(0x15b)];_0x3349a8++){levelsArray[_0x564129(0xee)](JSON[_0x564129(0x138)](levels[_0x3349a8]));}var _0xd233e1=window['open']('MapTester/index.html');},id(_0x1f51f0(0x15e))[_0x1f51f0(0x16b)]=function(){var _0x2f59b5=_0x1f51f0;interactiveTile?(interactiveTile=0x0,id(_0x2f59b5(0x15e))['style'][_0x2f59b5(0x118)]=_0x2f59b5(0x111),id(_0x2f59b5(0x15e))[_0x2f59b5(0x10f)][_0x2f59b5(0x152)]=_0x2f59b5(0x109)):(interactiveTile=0x1,id(_0x2f59b5(0x15e))['style'][_0x2f59b5(0x118)]='black',id(_0x2f59b5(0x15e))['style'][_0x2f59b5(0x152)]='white');};var hitBoxToggle=![];id('toggle')[_0x1f51f0(0x16b)]=function(){var _0x511c5f=_0x1f51f0;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x511c5f(0x14a))['innerHTML']=_0x511c5f(0x107);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id('toggle')[_0x511c5f(0x116)]=_0x511c5f(0xf9);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x511c5f(0x14a))[_0x511c5f(0x116)]=_0x511c5f(0x159));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x347189=_0x1f51f0;c['clearRect'](0x0,0x0,canvas['width'],canvas[_0x347189(0x13f)]),pastedImage&&c[_0x347189(0xf8)](pastedImage,0x0,0x0,pastedImage['width'],pastedImage[_0x347189(0x13f)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x52524e=_0x1f51f0;if(hitBoxToggle==0x1)c[_0x52524e(0x165)]=_0x52524e(0x117);else c['strokeStyle']=_0x52524e(0xf2);c[_0x52524e(0xe7)](),c[_0x52524e(0x171)](square['x'],square['y'],square['w'],square['h']),c[_0x52524e(0x101)](),c[_0x52524e(0x17e)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x1f51f0(0x12b))),dragElement(id('cont2')),dragElement(id(_0x1f51f0(0x16a)));function dragElement(_0x8dc155){var _0x104a0e=_0x1f51f0,_0x5ceba9=0x0,_0x5f2866=0x0,_0x22f026=0x0,_0x383af0=0x0;_0x8dc155[_0x104a0e(0x133)]=_0x321ef1;function _0x321ef1(_0x12385e){var _0xb8ee9e=_0x104a0e;_0x12385e=_0x12385e||window[_0xb8ee9e(0xfd)],_0x22f026=_0x12385e[_0xb8ee9e(0x183)],_0x383af0=_0x12385e[_0xb8ee9e(0xec)],document[_0xb8ee9e(0x151)]=_0x595361,document['onmousemove']=_0x4cc3c1;}function _0x4cc3c1(_0x585bb9){var _0x4410a5=_0x104a0e;_0x585bb9=_0x585bb9||window[_0x4410a5(0xfd)],_0x585bb9[_0x4410a5(0x10a)](),_0x5ceba9=_0x22f026-_0x585bb9[_0x4410a5(0x183)],_0x5f2866=_0x383af0-_0x585bb9['clientY'],_0x22f026=_0x585bb9[_0x4410a5(0x183)],_0x383af0=_0x585bb9[_0x4410a5(0xec)],_0x8dc155['style']['top']=_0x8dc155[_0x4410a5(0x123)]-_0x5f2866+'px',_0x8dc155[_0x4410a5(0x10f)][_0x4410a5(0x185)]=_0x8dc155['offsetLeft']-_0x5ceba9+'px';}function _0x595361(){var _0x4754f1=_0x104a0e;document['onmouseup']=null,document[_0x4754f1(0x12c)]=null;}}function _0x37ad(_0x1dd59a,_0x397b5d){var _0xe29ea1=_0x6875();return _0x37ad=function(_0x3c404b,_0xe2d1a){_0x3c404b=_0x3c404b-0xe5;var _0x1694d3=_0xe29ea1[_0x3c404b];return _0x1694d3;},_0x37ad(_0x1dd59a,_0x397b5d);}var mapCode='';id('exportMap')[_0x1f51f0(0x16b)]=function(){var _0x79736f=_0x1f51f0;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x588104=0x0;_0x588104<levels[_0x79736f(0x15b)];_0x588104++){levelsArray[_0x79736f(0xee)](JSON[_0x79736f(0x138)](levels[_0x588104]));}id(_0x79736f(0x11f))[_0x79736f(0x10f)][_0x79736f(0x156)]=_0x79736f(0x110),id(_0x79736f(0x170))[_0x79736f(0x116)]=JSON['stringify'](levelsArray);};function newMapExport(){return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON['stringify'](mapObject);};id(_0x1f51f0(0x141))[_0x1f51f0(0x16b)]=function(){var _0x4e1222=_0x1f51f0;id(_0x4e1222(0x11f))[_0x4e1222(0x10f)][_0x4e1222(0x156)]=_0x4e1222(0x125);},id(_0x1f51f0(0x130))[_0x1f51f0(0x16b)]=function(){var _0x5c0d2d=_0x1f51f0;download(_0x5c0d2d(0x121),JSON[_0x5c0d2d(0x119)](levelsArray));},id(_0x1f51f0(0x17a))['onchange']=function(){var _0x2d9f90=_0x1f51f0;console[_0x2d9f90(0xe8)]('importing...');let _0x5a022f=id(_0x2d9f90(0x17a))[_0x2d9f90(0x13b)][0x0];fileName=id('file')[_0x2d9f90(0x13b)][0x0][_0x2d9f90(0x10e)][_0x2d9f90(0x15c)]('.')[0x0];let _0x4e34f1=new FileReader();_0x4e34f1[_0x2d9f90(0x161)]=function(_0x28e0ba){var _0x3eeac3=_0x2d9f90;let _0x56c7e6=_0x4e34f1['result'];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x3eeac3(0x138)](_0x56c7e6);for(let _0x8530=0x0;_0x8530<levelsArray[_0x3eeac3(0x15b)];_0x8530++){addButton(),levels[_0x8530]=JSON[_0x3eeac3(0x119)](levelsArray[_0x8530]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x4e34f1[_0x2d9f90(0xfc)](_0x5a022f);};function safeEval(_0x1cc954){var _0xb0c59d=_0x1f51f0;typeof _0x1cc954==='object'&&_0x1cc954!==null&&(map=_0x1cc954[_0xb0c59d(0x15f)],spawnPoint=_0x1cc954[_0xb0c59d(0x115)],camBoxes=_0x1cc954['camBoxes']);}var baseWidth=id(_0x1f51f0(0xe9))['value'],baseHeight=id('mapSizeH')[_0x1f51f0(0xff)];function resizeMap(){var _0x211ccc=_0x1f51f0;let _0x2f832f=0x0,_0x488e70=0x0;for(let _0x171f7d=0x0;_0x171f7d<map[_0x211ccc(0x15b)];_0x171f7d++){map[_0x171f7d]['x']+map[_0x171f7d]['w']>_0x2f832f&&(_0x2f832f=map[_0x171f7d]['x']+map[_0x171f7d]['w']),map[_0x171f7d]['y']+map[_0x171f7d]['h']>_0x488e70&&(_0x488e70=map[_0x171f7d]['y']+map[_0x171f7d]['h']);}_0x488e70<baseHeight&&(_0x488e70=baseHeight),_0x2f832f<baseWidth&&(_0x2f832f=baseWidth),cellQuantityW=_0x2f832f,id('mapSizeW')['value']=_0x2f832f,cellQuantityH=_0x488e70,id(_0x211ccc(0x163))[_0x211ccc(0xff)]=_0x488e70,changeMapSize();}function highlightCurrentLevel(){var _0x543b2a=_0x1f51f0;let _0x564858=document[_0x543b2a(0xfb)]('levels');for(let _0x1bd9f3=0x0;_0x1bd9f3<_0x564858[_0x543b2a(0x15b)];_0x1bd9f3++){if(_0x564858[_0x1bd9f3]['number']==currentLevel)!_0x564858[_0x1bd9f3]['classList']['contains'](_0x543b2a(0x131))&&_0x564858[_0x1bd9f3]['classList'][_0x543b2a(0x17f)](_0x543b2a(0x131));else _0x564858[_0x1bd9f3]['classList'][_0x543b2a(0x14f)](_0x543b2a(0x131))&&_0x564858[_0x1bd9f3][_0x543b2a(0x143)]['remove'](_0x543b2a(0x131));}}function cameraMove(){var _0x3c4ec5=_0x1f51f0;camera['L']&&(sX-=camera[_0x3c4ec5(0x16d)]);camera['R']&&(sX+=camera[_0x3c4ec5(0x16d)]);camera['T']&&(sY-=camera[_0x3c4ec5(0x16d)]);camera['B']&&(sY+=camera[_0x3c4ec5(0x16d)]);sX<0x0&&(sX=0x0);sX>canvas['width']-window[_0x3c4ec5(0x17d)]&&(sX=canvas[_0x3c4ec5(0x146)]-window[_0x3c4ec5(0x17d)]);sY<0x0&&(sY=0x0);sY>canvas['height']-window['innerHeight']&&(sY=canvas[_0x3c4ec5(0x13f)]-window[_0x3c4ec5(0xed)]);if(camera[_0x3c4ec5(0x16c)])id(_0x3c4ec5(0x13d))[_0x3c4ec5(0xff)]--,zoomChange();else camera[_0x3c4ec5(0x112)]&&(id(_0x3c4ec5(0x13d))[_0x3c4ec5(0xff)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x146839=_0x1f51f0;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x146839(0x112)]||camera[_0x146839(0x16c)])&&cameraMove();c[_0x146839(0x13c)]=0x1;for(let _0x195b86=0x0;_0x195b86<map['length'];_0x195b86++){if(map[_0x195b86][_0x146839(0xe6)]>0x33)for(let _0x28338d=0x0;_0x28338d<map[_0x195b86]['h'];_0x28338d++){for(let _0x1efd25=0x0;_0x1efd25<map[_0x195b86]['w'];_0x1efd25++){c[_0x146839(0xf8)](id(_0x146839(0x14e)),tiles[map[_0x195b86][_0x146839(0xe6)]][0x0]*0x10,tiles[map[_0x195b86]['type']][0x1]*0x10,0x10,0x10,(map[_0x195b86]['x']+_0x1efd25)*cellSize,(map[_0x195b86]['y']+_0x28338d)*cellSize,cellSize,cellSize);}}}for(let _0x51180b=0x0;_0x51180b<map['length'];_0x51180b++){if(map[_0x51180b][_0x146839(0xe6)]<=0x33)for(let _0x74b5c5=0x0;_0x74b5c5<map[_0x51180b]['h'];_0x74b5c5++){for(let _0x20a986=0x0;_0x20a986<map[_0x51180b]['w'];_0x20a986++){c[_0x146839(0xf8)](id(_0x146839(0x14e)),tiles[map[_0x51180b][_0x146839(0xe6)]][0x0]*0x10,tiles[map[_0x51180b][_0x146839(0xe6)]][0x1]*0x10,0x10,0x10,(map[_0x51180b]['x']+_0x20a986)*cellSize,(map[_0x51180b]['y']+_0x74b5c5)*cellSize,cellSize,cellSize);}}}for(let _0x2bf1aa=0x0;_0x2bf1aa<hitBoxes[_0x146839(0x15b)];_0x2bf1aa++){c[_0x146839(0x11a)]=_0x146839(0x164),c['fillRect'](hitBoxes[_0x2bf1aa]['x']*cellSize,hitBoxes[_0x2bf1aa]['y']*cellSize,hitBoxes[_0x2bf1aa]['w']*cellSize,hitBoxes[_0x2bf1aa]['h']*cellSize);}c[_0x146839(0x13c)]=0x1;for(let _0x197539=0x0;_0x197539<camBoxes[_0x146839(0x15b)];_0x197539++){c['strokeStyle']=_0x146839(0x179),c[_0x146839(0xe7)](),c[_0x146839(0x171)](camBoxes[_0x197539]['x']*cellSize,camBoxes[_0x197539]['y']*cellSize,camBoxes[_0x197539]['w']*cellSize,camBoxes[_0x197539]['h']*cellSize),c[_0x146839(0x101)](),c[_0x146839(0x17e)]();}c['fillStyle']=_0x146839(0x11d),c['fillRect'](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x417d9c=_0x1f51f0;c[_0x417d9c(0x182)]=0.1,c['strokeStyle']=_0x417d9c(0xf2);for(let _0x5c4c7b=0x0;_0x5c4c7b<canvas['width'];_0x5c4c7b+=cellSize){c[_0x417d9c(0xe7)](),c['moveTo'](_0x5c4c7b,0x0),c[_0x417d9c(0x103)](_0x5c4c7b,canvas['height']),c[_0x417d9c(0x101)](),c[_0x417d9c(0x17e)]();}for(let _0x464013=0x0;_0x464013<canvas[_0x417d9c(0x13f)];_0x464013+=cellSize){c['beginPath'](),c[_0x417d9c(0x128)](0x0,_0x464013),c[_0x417d9c(0x103)](canvas[_0x417d9c(0x146)],_0x464013),c[_0x417d9c(0x101)](),c[_0x417d9c(0x17e)]();}c[_0x417d9c(0x182)]=0x1;}var definingSpawnpoint=![];id(_0x1f51f0(0x173))[_0x1f51f0(0x16b)]=function(){var _0x41d2c6=_0x1f51f0;if(definingSpawnpoint){definingSpawnpoint=![],id('spawn')[_0x41d2c6(0x10f)][_0x41d2c6(0x152)]='#000000',id('canvas')['style'][_0x41d2c6(0x13e)]=_0x41d2c6(0x180),canvas[_0x41d2c6(0x16b)]=null;return;}definingSpawnpoint=!![],id(_0x41d2c6(0x173))['style'][_0x41d2c6(0x152)]=_0x41d2c6(0x13a),id(_0x41d2c6(0x10b))[_0x41d2c6(0x10f)]['cursor']='pointer',canvas['onclick']=()=>{var _0x4dc090=_0x41d2c6;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id('spawn')[_0x4dc090(0x10f)][_0x4dc090(0x152)]=_0x4dc090(0x164),id(_0x4dc090(0x10b))[_0x4dc090(0x10f)][_0x4dc090(0x13e)]=_0x4dc090(0x180),canvas['onclick']=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id(_0x1f51f0(0x174))[_0x1f51f0(0x16b)]=function(){var _0x5610c4=_0x1f51f0;if(movingMap){movingMap=![],id(_0x5610c4(0x174))[_0x5610c4(0x10f)][_0x5610c4(0x152)]='#000000',id(_0x5610c4(0x10b))[_0x5610c4(0x10f)][_0x5610c4(0x13e)]=_0x5610c4(0x180);return;}movingMap=!![],id('moveMap')[_0x5610c4(0x10f)][_0x5610c4(0x152)]='#0000cc',id(_0x5610c4(0x10b))[_0x5610c4(0x10f)][_0x5610c4(0x13e)]=_0x5610c4(0x169),canvas[_0x5610c4(0x12a)]('mousemove',function(){var _0x381944=_0x5610c4;if(!movingMap||!mouseDown)return;let _0x5576d9=square['w']/cellSize-movingVariables[_0x381944(0xf1)],_0x29c7eb=square['h']/cellSize-movingVariables[_0x381944(0x187)];(_0x5576d9!==0x0||_0x29c7eb!==0x0)&&(moveEverything(_0x5576d9,_0x29c7eb),movingVariables[_0x381944(0xf1)]+=_0x5576d9,movingVariables[_0x381944(0x187)]+=_0x29c7eb);}),canvas[_0x5610c4(0x12a)](_0x5610c4(0x108),function(){var _0x57f3ee=_0x5610c4;if(!movingMap)return;movingVariables[_0x57f3ee(0xf1)]=0x0,movingVariables['yRDiff']=0x0;});};function moveEverything(_0x4703a9,_0x53b2e2){var _0x5bed44=_0x1f51f0;if(_0x4703a9==0x0&&_0x53b2e2==0x0)return;for(let _0x141cd5=0x0;_0x141cd5<map[_0x5bed44(0x15b)];_0x141cd5++){map[_0x141cd5]['x']+=_0x4703a9,map[_0x141cd5]['y']+=_0x53b2e2;}for(let _0x1aeb8c=0x0;_0x1aeb8c<hitBoxes['length'];_0x1aeb8c++){hitBoxes[_0x1aeb8c]['x']+=_0x4703a9,hitBoxes[_0x1aeb8c]['y']+=_0x53b2e2;}for(let _0xdacfb7=0x0;_0xdacfb7<camBoxes[_0x5bed44(0x15b)];_0xdacfb7++){camBoxes[_0xdacfb7]['x']+=_0x4703a9,camBoxes[_0xdacfb7]['y']+=_0x53b2e2;}spawnPoint['x']+=_0x4703a9,spawnPoint['y']+=_0x53b2e2;}function infoText(){var _0x4c859f=_0x1f51f0,_0x34e81b=square['x']/cellSize,_0x2a45f8=square['y']/cellSize;_0x34e81b>-0x1&&_0x34e81b<0x1&&(_0x34e81b=0x0),_0x2a45f8>-0x1&&_0x2a45f8<0x1&&(_0x2a45f8=0x0),id(_0x4c859f(0x158))[_0x4c859f(0x116)]='x:\x20'+_0x34e81b+',\x20y:\x20'+_0x2a45f8+_0x4c859f(0x139)+square['w']/cellSize+_0x4c859f(0x15d)+square['h']/cellSize;}var mouseDown=![];canvas[_0x1f51f0(0x12a)](_0x1f51f0(0x167),function(_0x1e3676){var _0x40a1cf=_0x1f51f0;mouseDown=!![];var _0x3924bd=window[_0x40a1cf(0x100)]-canvas[_0x40a1cf(0x16f)],_0xf269d0=window[_0x40a1cf(0x144)]-canvas[_0x40a1cf(0x123)];id(_0x40a1cf(0x158))[_0x40a1cf(0x10f)][_0x40a1cf(0x156)]=_0x40a1cf(0x110),id('info')[_0x40a1cf(0x10f)]['left']=_0x1e3676[_0x40a1cf(0x183)]+0x1e+'px',id(_0x40a1cf(0x158))[_0x40a1cf(0x10f)][_0x40a1cf(0x186)]=_0x1e3676[_0x40a1cf(0xec)]-0x1e+'px',square['x']=round(_0x1e3676[_0x40a1cf(0x183)]+_0x3924bd)*cellSize,square['y']=round(_0x1e3676[_0x40a1cf(0xec)]+_0xf269d0)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas['addEventListener'](_0x1f51f0(0xf0),function(_0x4a93fe){var _0x13df32=_0x1f51f0,_0x1448f1=window[_0x13df32(0x100)]-canvas[_0x13df32(0x16f)],_0x5c7ac9=window['pageYOffset']-canvas[_0x13df32(0x123)];mouseDown&&(id(_0x13df32(0x158))[_0x13df32(0x10f)][_0x13df32(0x156)]=_0x13df32(0x110),id(_0x13df32(0x158))['style'][_0x13df32(0x185)]=_0x4a93fe[_0x13df32(0x183)]+0x1e+'px',id('info')[_0x13df32(0x10f)][_0x13df32(0x186)]=_0x4a93fe[_0x13df32(0xec)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x4a93fe[_0x13df32(0x183)]+_0x1448f1-square['x'])*cellSize,square['h']=round(_0x4a93fe['clientY']+_0x5c7ac9-square['y'])*cellSize);}),canvas['addEventListener'](_0x1f51f0(0x108),function(_0x39925d){var _0x248139=_0x1f51f0;id(_0x248139(0x158))[_0x248139(0x10f)][_0x248139(0x156)]='none',mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x39925d[_0x248139(0x17b)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x248139(0xee)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x3ea802=prompt(_0x248139(0x150),'');hitBoxes[hitBoxes[_0x248139(0x15b)]-0x1][_0x248139(0x16e)]=_0x3ea802;}}else{if(hitBoxToggle==0x0){map[_0x248139(0xee)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x3ea802=prompt(_0x248139(0x150),'');map[map['length']-0x1]['text']=_0x3ea802;}}else{if(hitBoxToggle==0x2){var _0x53d98a=parseInt(prompt(_0x248139(0x17c),''));camBoxes[_0x248139(0xee)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x53d98a});}}}}}),id(_0x1f51f0(0x13d))['addEventListener'](_0x1f51f0(0x126),zoomChange),id(_0x1f51f0(0x127))[_0x1f51f0(0x12a)](_0x1f51f0(0x14d),deleteLevel);function deleteLevel(){var _0x4a4665=_0x1f51f0;madeChanges=!![];if(levels['length']==0x1){clearMap();return;}removeButton(),levels[_0x4a4665(0x114)](currentLevel,0x1),clearMap(),currentLevel=levels[_0x4a4665(0x15b)]-0x1,safeEval(JSON[_0x4a4665(0x138)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x4c021f=_0x1f51f0;let _0x4acffe={'number':0x0},_0x2a5d6c=document['getElementsByClassName'](_0x4c021f(0x154));for(let _0xae8a25=0x0;_0xae8a25<_0x2a5d6c[_0x4c021f(0x15b)];_0xae8a25++){_0x2a5d6c[_0xae8a25][_0x4c021f(0x11b)]>=_0x4acffe['number']&&(_0x4acffe=_0x2a5d6c[_0xae8a25]);}_0x4acffe[_0x4c021f(0x176)][_0x4c021f(0x102)](_0x4acffe);}function zoomChange(){var _0x9d519f=_0x1f51f0;cellSize=parseInt(id(_0x9d519f(0x13d))['value']),changeMapSize();}function changeMapSize(){canvas['width']=cellQuantityW*cellSize,canvas['height']=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x2aeb17){var _0x5d6828=parseInt(_0x2aeb17),_0x10686f=_0x5d6828%cellSize;if(_0x10686f!==0x0){if(_0x10686f>cellSize/0x2)_0x5d6828=_0x5d6828-_0x10686f+cellSize;else _0x5d6828=_0x5d6828-_0x10686f;}return _0x5d6828/cellSize>0x0&&_0x5d6828/cellSize<0x1?0x0:_0x5d6828/cellSize;}function enableBeforeUnload(){window['onbeforeunload']=function(_0x1d421f){if(madeChanges)return'Discard\x20changes?';};}function disableBeforeUnload(){window['onbeforeunload']=null;}enableBeforeUnload(),document['addEventListener'](_0x1f51f0(0x148),function(_0x1330ba){var _0x5c4291=_0x1f51f0;madeChanges=!![];var _0x3ae7d5=window[_0x5c4291(0x100)]-canvas[_0x5c4291(0x16f)],_0xfd864c=window['pageYOffset']-canvas[_0x5c4291(0x123)];_0x1330ba[_0x5c4291(0x10a)]();var _0x5d3aac=_0x1330ba[_0x5c4291(0x183)]+_0x3ae7d5,_0x389700=_0x1330ba[_0x5c4291(0xec)]+_0xfd864c;removeElements(map,_0x5d3aac,_0x389700),removeElements(hitBoxes,_0x5d3aac,_0x389700),removeElements(camBoxes,_0x5d3aac,_0x389700);});function removeElements(_0x36383a,_0x4bc9f0,_0x405cb8){var _0x142bb5=_0x1f51f0,_0x41b434=[];for(let _0xe51f25=0x0;_0xe51f25<_0x36383a[_0x142bb5(0x15b)];_0xe51f25++){_0x4bc9f0>_0x36383a[_0xe51f25]['x']*cellSize&&_0x4bc9f0<_0x36383a[_0xe51f25]['x']*cellSize+_0x36383a[_0xe51f25]['w']*cellSize&&(_0x405cb8>_0x36383a[_0xe51f25]['y']*cellSize&&_0x405cb8<_0x36383a[_0xe51f25]['y']*cellSize+_0x36383a[_0xe51f25]['h']*cellSize&&_0x41b434[_0x142bb5(0xee)](_0xe51f25));}_0x41b434[_0x142bb5(0x14c)](function(_0x2c56c8,_0x14d255){return _0x14d255-_0x2c56c8;});for(let _0x213806=0x0;_0x213806<_0x41b434['length'];_0x213806++){_0x36383a[_0x142bb5(0x114)](_0x41b434[_0x213806],0x1);}}function download(_0x24332d,_0x39432a){var _0x536f9b=_0x1f51f0;madeChanges=![];var _0x505837=new Blob([_0x39432a],{'type':'text/csv'});if(window[_0x536f9b(0x124)][_0x536f9b(0xf6)])window[_0x536f9b(0x124)]['msSaveBlob'](_0x505837,_0x24332d);else{var _0x3f151d=window[_0x536f9b(0x136)][_0x536f9b(0x134)]('a');_0x3f151d[_0x536f9b(0xfa)]=window[_0x536f9b(0x10c)][_0x536f9b(0xf5)](_0x505837),_0x3f151d[_0x536f9b(0xea)]=_0x24332d,document[_0x536f9b(0x120)][_0x536f9b(0x132)](_0x3f151d),_0x3f151d['click'](),document['body'][_0x536f9b(0x102)](_0x3f151d);}}window[_0x1f51f0(0x12a)]('keydown',function(_0x55bacc){var _0x34605a=_0x1f51f0,_0x14b823=_0x55bacc['keyCode'];switch(_0x14b823){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x34605a(0x112)]=!![];break;case 0x51:camera[_0x34605a(0x16c)]=!![];break;}}),window['addEventListener']('keyup',function(_0xb76885){var _0x1dcf16=_0x1f51f0,_0x2c48f7=_0xb76885[_0x1dcf16(0x168)];switch(_0x2c48f7){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera['zoomIn']=![];break;case 0x51:camera[_0x1dcf16(0x16c)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x56487a,_0x246026){var _0x9e1424=_0x1f51f0;_0x56487a[_0x9e1424(0x11c)]==![]&&(typeof _0x246026==_0x9e1424(0xf4)&&_0x246026(undefined));;var _0x45e4f7=_0x56487a[_0x9e1424(0x11c)][_0x9e1424(0xf3)];_0x45e4f7==undefined&&(typeof _0x246026=='function'&&_0x246026(undefined));;for(var _0x19108c=0x0;_0x19108c<_0x45e4f7[_0x9e1424(0x15b)];_0x19108c++){if(_0x45e4f7[_0x19108c]['type'][_0x9e1424(0x178)](_0x9e1424(0x137))==-0x1)continue;var _0x2ca3aa=_0x45e4f7[_0x19108c]['getAsFile']();typeof _0x246026=='function'&&_0x246026(_0x2ca3aa);}}window['addEventListener'](_0x1f51f0(0x122),function(_0xc70dd3){retrieveImageFromClipboardAsBlob(_0xc70dd3,function(_0xf222e6){var _0x434e4a=_0x37ad;if(_0xf222e6){var _0x5a66a7=new Image();_0x5a66a7['onload']=function(){var _0x2ca255=_0x37ad;pastedImage=_0x5a66a7,id(_0x2ca255(0xe9))[_0x2ca255(0xff)]=pastedImage[_0x2ca255(0x146)]/cellSize,cellQuantityW=pastedImage[_0x2ca255(0x146)]/cellSize,id(_0x2ca255(0x163))[_0x2ca255(0xff)]=pastedImage[_0x2ca255(0x13f)]/cellSize,cellQuantityH=pastedImage['height']/cellSize,changeMapSize();};var _0x711d94=window['URL']||window[_0x434e4a(0x184)];_0x5a66a7['src']=_0x711d94[_0x434e4a(0xf5)](_0xf222e6);}});},![]);