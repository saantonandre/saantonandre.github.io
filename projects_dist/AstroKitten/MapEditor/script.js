'use strict';var _0x14d882=_0x35a3;(function(_0x2ed815,_0x426e0d){var _0x38bf1e=_0x35a3,_0x290285=_0x2ed815();while(!![]){try{var _0x517bf2=parseInt(_0x38bf1e(0x8d))/0x1+-parseInt(_0x38bf1e(0xe3))/0x2*(-parseInt(_0x38bf1e(0xca))/0x3)+-parseInt(_0x38bf1e(0x92))/0x4+parseInt(_0x38bf1e(0xbc))/0x5*(-parseInt(_0x38bf1e(0xa0))/0x6)+parseInt(_0x38bf1e(0xc8))/0x7*(-parseInt(_0x38bf1e(0x93))/0x8)+parseInt(_0x38bf1e(0xa4))/0x9*(parseInt(_0x38bf1e(0xec))/0xa)+parseInt(_0x38bf1e(0x95))/0xb;if(_0x517bf2===_0x426e0d)break;else _0x290285['push'](_0x290285['shift']());}catch(_0x39863f){_0x290285['push'](_0x290285['shift']());}}}(_0x58f7,0x18819));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x42c23a){var _0x55c546=(function(){var _0x57b68b=!![];return function(_0x16605a,_0x3fabf9){var _0x49b247=_0x57b68b?function(){if(_0x3fabf9){var _0x108276=_0x3fabf9['apply'](_0x16605a,arguments);return _0x3fabf9=null,_0x108276;}}:function(){};return _0x57b68b=![],_0x49b247;};}()),_0x40c71d=_0x55c546(this,function(){var _0xbf4034=_0x35a3,_0x27284b;try{var _0x350b10=Function(_0xbf4034(0x85)+_0xbf4034(0xa5)+');');_0x27284b=_0x350b10();}catch(_0x135902){_0x27284b=window;}var _0x59a7d9=new RegExp('[WmNCCpKEVIAHENKOAzQjxGXDYkZwBXApmxXMZEYwFjxYLmxQYjMZEkPxkDUPvfmOGA]','g'),_0xe00c71='sWamNCanCptoKnEaVndIre.AgiHENtKOAhzubQ.jixo;GXDloYkZwcBaXlAphomstxXMZEYwFjxYLmxQYjMZEkPxkDUPvfmOGA'[_0xbf4034(0xf2)](_0x59a7d9,'')[_0xbf4034(0xad)](';'),_0x1de1b8,_0x3b2d13,_0x38014d,_0x31d10d,_0x3455ea=function(_0xf3dd12,_0x1b1443,_0x318cea){var _0x432d12=_0xbf4034;if(_0xf3dd12['length']!=_0x1b1443)return![];for(var _0x2f8fb9=0x0;_0x2f8fb9<_0x1b1443;_0x2f8fb9++){for(var _0x1a76d9=0x0;_0x1a76d9<_0x318cea[_0x432d12(0xf7)];_0x1a76d9+=0x2){if(_0x2f8fb9==_0x318cea[_0x1a76d9]&&_0xf3dd12[_0x432d12(0xc2)](_0x2f8fb9)!=_0x318cea[_0x1a76d9+0x1])return![];}}return!![];},_0x236c53=function(_0xb57d2b,_0x1b332c,_0x454935){return _0x3455ea(_0x1b332c,_0x454935,_0xb57d2b);},_0x56ed87=function(_0x10588,_0x30f282,_0x50eaa3){return _0x236c53(_0x30f282,_0x10588,_0x50eaa3);},_0x23c5a2=function(_0x434c08,_0x3d7e87,_0x270bba){return _0x56ed87(_0x3d7e87,_0x270bba,_0x434c08);};for(var _0x2a8885 in _0x27284b){if(_0x3455ea(_0x2a8885,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1de1b8=_0x2a8885;break;}}for(var _0x2f3dc1 in _0x27284b[_0x1de1b8]){if(_0x23c5a2(0x6,_0x2f3dc1,[0x5,0x6e,0x0,0x64])){_0x3b2d13=_0x2f3dc1;break;}}for(var _0x4181a8 in _0x27284b[_0x1de1b8]){if(_0x56ed87(_0x4181a8,[0x7,0x6e,0x0,0x6c],0x8)){_0x38014d=_0x4181a8;break;}}if(!('~'>_0x3b2d13))for(var _0x406dec in _0x27284b[_0x1de1b8][_0x38014d]){if(_0x236c53([0x7,0x65,0x0,0x68],_0x406dec,0x8)){_0x31d10d=_0x406dec;break;}}if(!_0x1de1b8||!_0x27284b[_0x1de1b8])return;var _0x49a3d5=_0x27284b[_0x1de1b8][_0x3b2d13],_0x273a28=!!_0x27284b[_0x1de1b8][_0x38014d]&&_0x27284b[_0x1de1b8][_0x38014d][_0x31d10d],_0x153c72=_0x49a3d5||_0x273a28;if(!_0x153c72)return;var _0x399e35=![];for(var _0x164db2=0x0;_0x164db2<_0xe00c71[_0xbf4034(0xf7)];_0x164db2++){var _0x3b2d13=_0xe00c71[_0x164db2],_0x1a10c6=_0x3b2d13[0x0]===String[_0xbf4034(0xe0)](0x2e)?_0x3b2d13['slice'](0x1):_0x3b2d13,_0x147fe5=_0x153c72[_0xbf4034(0xf7)]-_0x1a10c6['length'],_0x5ee6e3=_0x153c72[_0xbf4034(0x113)](_0x1a10c6,_0x147fe5),_0x1112ca=_0x5ee6e3!==-0x1&&_0x5ee6e3===_0x147fe5;_0x1112ca&&((_0x153c72[_0xbf4034(0xf7)]==_0x3b2d13[_0xbf4034(0xf7)]||_0x3b2d13[_0xbf4034(0x113)]('.')===0x0)&&(_0x399e35=!![]));}if(!_0x399e35){var _0x2e433e=new RegExp(_0xbf4034(0x114),'g'),_0xed9494=_0xbf4034(0x122)[_0xbf4034(0xf2)](_0x2e433e,'');_0x27284b[_0x1de1b8][_0x38014d]=_0xed9494;}});return _0x40c71d(),document['getElementById'](_0x42c23a);}var canvas=id(_0x14d882(0x80)),sheet=id(_0x14d882(0xc3)),c=canvas[_0x14d882(0xdb)]('2d');c['imageSmoothingEnabled']=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x14d882(0x87)]=function(){addLevel();};function clearMap(){var _0x3a1b4f=_0x14d882;map=[],mapObject[_0x3a1b4f(0x119)]=[],mapObject['camBoxes']=[],mapObject[_0x3a1b4f(0x10f)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x5bad8f=_0x14d882;let _0x4da53f=document[_0x5bad8f(0xcf)](_0x5bad8f(0x96));for(let _0x363743=_0x4da53f['length']-0x1;_0x363743>=0x0;_0x363743--){_0x4da53f[_0x363743]['parentNode'][_0x5bad8f(0x103)](_0x4da53f[_0x363743]);}}id(_0x14d882(0xcb))[_0x14d882(0x87)]=saveImage;function saveImage(){var _0xb403a0=_0x14d882;canvas[_0xb403a0(0xfe)](_0x58cabb=>navigator[_0xb403a0(0x8c)][_0xb403a0(0x11b)]([new ClipboardItem({'image/png':_0x58cabb})]));}function _0x58f7(){var _0x1dab4d=['mousemove','value','push','clipboardData','remove','backgroundColor',',\x20y:\x20','canvas','closeBtn','getElementsByTagName','drawing:\x20hitboxes','src','return\x20(function()\x20','keyCode','onclick','cont','navigator','\x20selected','image','clipboard','167565mLLrSR','document','offsetLeft','object','appendChild','210804DShtus','288832nXUhPB','MapTester/index.html','1108789oUqEGN','levels','result','crosshair','className','parentNode','type\x20of\x20camera','innerHeight','innerHTML','pageYOffset','white','29922PgMtvm','onload','onmouseup','globalAlpha','258939dSOGFp','{}.constructor(\x22return\x20this\x22)(\x20)','selected','rect','spawn','black','fillRect','camBoxes','all-scroll','split','keydown','yRDiff','mapCode','<br>\x20w:\x20','#000000','strokeStyle','\x20levels','innerWidth','text/csv','moveMap','left','#002200','classList','splice','190DUfPYE','onmousemove','file','importing...','zoomOut','none','charCodeAt','sheet','log','click','clientY','moveTo','35VwqaMi','map.json','3cTtOhW','saveButton','type','lineWidth','pageXOffset','getElementsByClassName','mapSizeW','test','drawing:\x20displayed','\x20tile','onbeforeunload','cont2','height','zoomIn','x:\x20','keyup','name','getContext','getAsFile','contains','color','event','fromCharCode','change','toggle','221770zTVYVV','function','mousedown','onchange','#ffffff','drawImage','parse','button','clearRect','50huUNOh','#0000cc','width','#ff0000','cont3','number','replace','body','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','display','text','length','URL','xRDiff','preventDefault','style',',\x20h:\x20','mouseup','toBlob','mapSizeH','download','addEventListener','msSaveOrOpenBlob','removeChild','offsetTop','#5b6ee1','mapSizeBtnH','exportBox','speed','stroke','readAsText','top','href','imageSmoothingEnabled','lineTo','spawnPoint','closePath','msSaveBlob','cursor','indexOf','[jvEzZccjzCNYyprAiTDygjjqPHR]','info','zoomer','beginPath','createElement','map','add','write','clientX','fillStyle','downloadBtn','items','interactive','stringify','jvaEbozuZt:cblcjaznkCNYyprAiTDygjjqPHR','block','which','webkitURL'];_0x58f7=function(){return _0x1dab4d;};return _0x58f7();}function addButton(){var _0x3c0ee8=_0x14d882,_0x535484=document[_0x3c0ee8(0x118)](_0x3c0ee8(0xea));_0x535484[_0x3c0ee8(0xf1)]=levels[_0x3c0ee8(0xf7)],_0x535484[_0x3c0ee8(0x9d)]=levels[_0x3c0ee8(0xf7)],_0x535484[_0x3c0ee8(0x99)]+=_0x3c0ee8(0xb4),_0x535484['onmousedown']=function(_0x1cfe8c){var _0xf7f93e=_0x3c0ee8;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0xf7f93e(0xf1)],safeEval(JSON[_0xf7f93e(0xe9)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0x3c0ee8(0xf0))[_0x3c0ee8(0x91)](_0x535484),highlightCurrentLevel();}function addLevel(){var _0x5bf81f=_0x14d882;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x5bf81f(0xbb)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0x5bf81f(0xe9)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id('mapSizeW')[_0x14d882(0x7a)],cellQuantityH=id(_0x14d882(0xff))[_0x14d882(0x7a)],cellSize=0x10,fileName=_0x14d882(0xb0),interactiveTile=0x0;canvas[_0x14d882(0xee)]=cellQuantityW*cellSize,canvas['height']=cellQuantityH*cellSize,id('mapSizeBtnW')[_0x14d882(0x87)]=function(){var _0x1a01a5=_0x14d882;cellQuantityW=id(_0x1a01a5(0xd0))[_0x1a01a5(0x7a)],changeMapSize();},id(_0x14d882(0x106))['onclick']=function(){var _0x5796d3=_0x14d882;cellQuantityH=id('mapSizeH')[_0x5796d3(0x7a)],changeMapSize();},window[_0x14d882(0xa1)]=function(){var _0xc9992d=_0x14d882;for(let _0x2c9e8c=0x0;_0x2c9e8c<tiles[_0xc9992d(0xf7)];_0x2c9e8c++){var _0x15b002=document[_0xc9992d(0x118)](_0xc9992d(0x80));_0x15b002['id']=_0xc9992d(0x80)+_0x2c9e8c,_0x15b002['width']=0x20,_0x15b002['height']=0x20,_0x15b002[_0xc9992d(0xf1)]=_0x2c9e8c,_0x15b002['getContext']('2d')[_0xc9992d(0x10d)]=![];_0x2c9e8c===0x0&&(_0x15b002[_0xc9992d(0x99)]+=_0xc9992d(0x8a));_0x15b002['className']+=_0xc9992d(0xd3),_0x15b002[_0xc9992d(0xdb)]('2d')[_0xc9992d(0xe8)](sheet,tiles[_0x2c9e8c][0x0]*0x10,tiles[_0x2c9e8c][0x1]*0x10,0x10,0x10,0x0,0x0,_0x15b002['width'],_0x15b002[_0xc9992d(0xd6)]);var _0x433a55=document[_0xc9992d(0x82)]('body')[0x0];id(_0xc9992d(0xd5))['appendChild'](_0x15b002),id('canvas'+_0x2c9e8c)[_0xc9992d(0x87)]=function(){var _0x1ef958=_0xc9992d;selectedType=this['number'];for(let _0x19ff15=0x0;_0x19ff15<tiles['length'];_0x19ff15++){id(_0x1ef958(0x80)+_0x19ff15)['classList'][_0x1ef958(0x7d)]('selected');}this['className']+=_0x1ef958(0x8a);};}loop();},id(_0x14d882(0xd1))[_0x14d882(0x87)]=function(){var _0x3dc403=_0x14d882;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x32755f=0x0;_0x32755f<levels[_0x3dc403(0xf7)];_0x32755f++){levelsArray['push'](JSON[_0x3dc403(0xe9)](levels[_0x32755f]));}var _0x578820=window['open'](_0x3dc403(0x94));},id(_0x14d882(0x120))[_0x14d882(0x87)]=function(){var _0xb4523f=_0x14d882;interactiveTile?(interactiveTile=0x0,id(_0xb4523f(0x120))[_0xb4523f(0xfb)][_0xb4523f(0x7e)]=_0xb4523f(0x9f),id(_0xb4523f(0x120))[_0xb4523f(0xfb)][_0xb4523f(0xde)]=_0xb4523f(0xa9)):(interactiveTile=0x1,id(_0xb4523f(0x120))[_0xb4523f(0xfb)]['backgroundColor']=_0xb4523f(0xa9),id(_0xb4523f(0x120))[_0xb4523f(0xfb)][_0xb4523f(0xde)]=_0xb4523f(0x9f));};var hitBoxToggle=![];id('toggle')[_0x14d882(0x87)]=function(){var _0x37cf06=_0x14d882;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x37cf06(0xe2))['innerHTML']=_0x37cf06(0xd2);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id('toggle')[_0x37cf06(0x9d)]=_0x37cf06(0x83);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id('toggle')[_0x37cf06(0x9d)]='drawing:\x20camera');}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x55ef00=_0x14d882;c[_0x55ef00(0xeb)](0x0,0x0,canvas[_0x55ef00(0xee)],canvas[_0x55ef00(0xd6)]),pastedImage&&c[_0x55ef00(0xe8)](pastedImage,0x0,0x0,pastedImage[_0x55ef00(0xee)],pastedImage[_0x55ef00(0xd6)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x43cc9d=_0x14d882;if(hitBoxToggle==0x1)c[_0x43cc9d(0xb3)]=_0x43cc9d(0xef);else c['strokeStyle']=_0x43cc9d(0xe7);c['beginPath'](),c[_0x43cc9d(0xa7)](square['x'],square['y'],square['w'],square['h']),c[_0x43cc9d(0x110)](),c[_0x43cc9d(0x109)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x14d882(0x88))),dragElement(id(_0x14d882(0xd5))),dragElement(id(_0x14d882(0xf0)));function dragElement(_0x5caa82){var _0x4ed010=0x0,_0x4032e6=0x0,_0x54f9e9=0x0,_0x4496ec=0x0;_0x5caa82['onmousedown']=_0x10c6bd;function _0x10c6bd(_0xa21b6f){var _0x32f087=_0x35a3;_0xa21b6f=_0xa21b6f||window[_0x32f087(0xdf)],_0x54f9e9=_0xa21b6f[_0x32f087(0x11c)],_0x4496ec=_0xa21b6f['clientY'],document['onmouseup']=_0x53df80,document[_0x32f087(0xbd)]=_0x1bbe63;}function _0x1bbe63(_0x19acb6){var _0x272228=_0x35a3;_0x19acb6=_0x19acb6||window[_0x272228(0xdf)],_0x19acb6[_0x272228(0xfa)](),_0x4ed010=_0x54f9e9-_0x19acb6[_0x272228(0x11c)],_0x4032e6=_0x4496ec-_0x19acb6[_0x272228(0xc6)],_0x54f9e9=_0x19acb6[_0x272228(0x11c)],_0x4496ec=_0x19acb6[_0x272228(0xc6)],_0x5caa82[_0x272228(0xfb)][_0x272228(0x10b)]=_0x5caa82['offsetTop']-_0x4032e6+'px',_0x5caa82[_0x272228(0xfb)][_0x272228(0xb8)]=_0x5caa82['offsetLeft']-_0x4ed010+'px';}function _0x53df80(){var _0x42eaf3=_0x35a3;document[_0x42eaf3(0xa2)]=null,document['onmousemove']=null;}}var mapCode='';id('exportMap')['onclick']=function(){var _0x374264=_0x14d882;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x39e1b8=0x0;_0x39e1b8<levels['length'];_0x39e1b8++){levelsArray[_0x374264(0x7b)](JSON[_0x374264(0xe9)](levels[_0x39e1b8]));}id(_0x374264(0x107))['style'][_0x374264(0xf5)]='block',id('exportText')['innerHTML']=JSON[_0x374264(0x121)](levelsArray);};function newMapExport(){var _0x274142=_0x14d882;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x274142(0x121)](mapObject);};id(_0x14d882(0x81))[_0x14d882(0x87)]=function(){var _0x10e556=_0x14d882;id(_0x10e556(0x107))['style'][_0x10e556(0xf5)]='none';},id(_0x14d882(0x11e))['onclick']=function(){var _0x237f8d=_0x14d882;download(_0x237f8d(0xc9),JSON[_0x237f8d(0x121)](levelsArray));},id('file')[_0x14d882(0xe6)]=function(){var _0x2baaa0=_0x14d882;console[_0x2baaa0(0xc4)](_0x2baaa0(0xbf));let _0x1a9d4d=id(_0x2baaa0(0xbe))['files'][0x0];fileName=id('file')['files'][0x0][_0x2baaa0(0xda)][_0x2baaa0(0xad)]('.')[0x0];let _0x3208f6=new FileReader();_0x3208f6[_0x2baaa0(0xa1)]=function(_0x4e859f){var _0x56ad72=_0x2baaa0;let _0x258bbd=_0x3208f6[_0x56ad72(0x97)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x56ad72(0xe9)](_0x258bbd);for(let _0x53b220=0x0;_0x53b220<levelsArray['length'];_0x53b220++){addButton(),levels[_0x53b220]=JSON[_0x56ad72(0x121)](levelsArray[_0x53b220]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x3208f6[_0x2baaa0(0x10a)](_0x1a9d4d);};function safeEval(_0x11aa2b){var _0x3c5461=_0x14d882;typeof _0x11aa2b===_0x3c5461(0x90)&&_0x11aa2b!==null&&(map=_0x11aa2b['map'],spawnPoint=_0x11aa2b[_0x3c5461(0x10f)],camBoxes=_0x11aa2b[_0x3c5461(0xab)]);}var baseWidth=id(_0x14d882(0xd0))[_0x14d882(0x7a)],baseHeight=id(_0x14d882(0xff))[_0x14d882(0x7a)];function resizeMap(){var _0x2c171f=_0x14d882;let _0x421867=0x0,_0x453d7a=0x0;for(let _0x5aa091=0x0;_0x5aa091<map[_0x2c171f(0xf7)];_0x5aa091++){map[_0x5aa091]['x']+map[_0x5aa091]['w']>_0x421867&&(_0x421867=map[_0x5aa091]['x']+map[_0x5aa091]['w']),map[_0x5aa091]['y']+map[_0x5aa091]['h']>_0x453d7a&&(_0x453d7a=map[_0x5aa091]['y']+map[_0x5aa091]['h']);}_0x453d7a<baseHeight&&(_0x453d7a=baseHeight),_0x421867<baseWidth&&(_0x421867=baseWidth),cellQuantityW=_0x421867,id(_0x2c171f(0xd0))['value']=_0x421867,cellQuantityH=_0x453d7a,id('mapSizeH')['value']=_0x453d7a,changeMapSize();}function highlightCurrentLevel(){var _0x1565e3=_0x14d882;let _0x151e8e=document[_0x1565e3(0xcf)]('levels');for(let _0x20369d=0x0;_0x20369d<_0x151e8e['length'];_0x20369d++){if(_0x151e8e[_0x20369d][_0x1565e3(0xf1)]==currentLevel)!_0x151e8e[_0x20369d][_0x1565e3(0xba)][_0x1565e3(0xdd)](_0x1565e3(0xa6))&&_0x151e8e[_0x20369d]['classList'][_0x1565e3(0x11a)](_0x1565e3(0xa6));else _0x151e8e[_0x20369d][_0x1565e3(0xba)][_0x1565e3(0xdd)](_0x1565e3(0xa6))&&_0x151e8e[_0x20369d]['classList'][_0x1565e3(0x7d)](_0x1565e3(0xa6));}}function cameraMove(){var _0x55443b=_0x14d882;camera['L']&&(sX-=camera[_0x55443b(0x108)]);camera['R']&&(sX+=camera['speed']);camera['T']&&(sY-=camera[_0x55443b(0x108)]);camera['B']&&(sY+=camera[_0x55443b(0x108)]);sX<0x0&&(sX=0x0);sX>canvas[_0x55443b(0xee)]-window[_0x55443b(0xb5)]&&(sX=canvas['width']-window[_0x55443b(0xb5)]);sY<0x0&&(sY=0x0);sY>canvas[_0x55443b(0xd6)]-window[_0x55443b(0x9c)]&&(sY=canvas[_0x55443b(0xd6)]-window[_0x55443b(0x9c)]);if(camera['zoomOut'])id('zoomer')[_0x55443b(0x7a)]--,zoomChange();else camera['zoomIn']&&(id('zoomer')[_0x55443b(0x7a)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x1393d7=_0x14d882;(camera['L']||camera['R']||camera['T']||camera['B']||camera['zoomIn']||camera[_0x1393d7(0xc0)])&&cameraMove();c[_0x1393d7(0xa3)]=0x1;for(let _0x15d61c=0x0;_0x15d61c<map[_0x1393d7(0xf7)];_0x15d61c++){if(map[_0x15d61c][_0x1393d7(0xcc)]>0x33)for(let _0x248718=0x0;_0x248718<map[_0x15d61c]['h'];_0x248718++){for(let _0x16d5fa=0x0;_0x16d5fa<map[_0x15d61c]['w'];_0x16d5fa++){c[_0x1393d7(0xe8)](id(_0x1393d7(0xc3)),tiles[map[_0x15d61c]['type']][0x0]*0x10,tiles[map[_0x15d61c][_0x1393d7(0xcc)]][0x1]*0x10,0x10,0x10,(map[_0x15d61c]['x']+_0x16d5fa)*cellSize,(map[_0x15d61c]['y']+_0x248718)*cellSize,cellSize,cellSize);}}}for(let _0x523bbf=0x0;_0x523bbf<map[_0x1393d7(0xf7)];_0x523bbf++){if(map[_0x523bbf]['type']<=0x33)for(let _0x2dd883=0x0;_0x2dd883<map[_0x523bbf]['h'];_0x2dd883++){for(let _0x250e19=0x0;_0x250e19<map[_0x523bbf]['w'];_0x250e19++){c['drawImage'](id('sheet'),tiles[map[_0x523bbf][_0x1393d7(0xcc)]][0x0]*0x10,tiles[map[_0x523bbf][_0x1393d7(0xcc)]][0x1]*0x10,0x10,0x10,(map[_0x523bbf]['x']+_0x250e19)*cellSize,(map[_0x523bbf]['y']+_0x2dd883)*cellSize,cellSize,cellSize);}}}for(let _0x3430e3=0x0;_0x3430e3<hitBoxes[_0x1393d7(0xf7)];_0x3430e3++){c[_0x1393d7(0x11d)]='#000000',c['fillRect'](hitBoxes[_0x3430e3]['x']*cellSize,hitBoxes[_0x3430e3]['y']*cellSize,hitBoxes[_0x3430e3]['w']*cellSize,hitBoxes[_0x3430e3]['h']*cellSize);}c[_0x1393d7(0xa3)]=0x1;for(let _0x21dbde=0x0;_0x21dbde<camBoxes['length'];_0x21dbde++){c['strokeStyle']=_0x1393d7(0xb9),c[_0x1393d7(0x117)](),c[_0x1393d7(0xa7)](camBoxes[_0x21dbde]['x']*cellSize,camBoxes[_0x21dbde]['y']*cellSize,camBoxes[_0x21dbde]['w']*cellSize,camBoxes[_0x21dbde]['h']*cellSize),c[_0x1393d7(0x110)](),c[_0x1393d7(0x109)]();}c[_0x1393d7(0x11d)]=_0x1393d7(0x105),c[_0x1393d7(0xaa)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x800c87=_0x14d882;c[_0x800c87(0xcd)]=0.1,c[_0x800c87(0xb3)]='#ffffff';for(let _0x3ae69a=0x0;_0x3ae69a<canvas[_0x800c87(0xee)];_0x3ae69a+=cellSize){c[_0x800c87(0x117)](),c[_0x800c87(0xc7)](_0x3ae69a,0x0),c['lineTo'](_0x3ae69a,canvas[_0x800c87(0xd6)]),c[_0x800c87(0x110)](),c[_0x800c87(0x109)]();}for(let _0x8f8a04=0x0;_0x8f8a04<canvas[_0x800c87(0xd6)];_0x8f8a04+=cellSize){c['beginPath'](),c['moveTo'](0x0,_0x8f8a04),c[_0x800c87(0x10e)](canvas[_0x800c87(0xee)],_0x8f8a04),c[_0x800c87(0x110)](),c[_0x800c87(0x109)]();}c[_0x800c87(0xcd)]=0x1;}var definingSpawnpoint=![];id(_0x14d882(0xa8))[_0x14d882(0x87)]=function(){var _0x3e07b3=_0x14d882;if(definingSpawnpoint){definingSpawnpoint=![],id('spawn')[_0x3e07b3(0xfb)]['color']=_0x3e07b3(0xb2),id('canvas')[_0x3e07b3(0xfb)][_0x3e07b3(0x112)]=_0x3e07b3(0x98),canvas[_0x3e07b3(0x87)]=null;return;}definingSpawnpoint=!![],id(_0x3e07b3(0xa8))['style']['color']=_0x3e07b3(0xed),id(_0x3e07b3(0x80))[_0x3e07b3(0xfb)]['cursor']='pointer',canvas['onclick']=()=>{var _0xa3d60c=_0x3e07b3;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0xa3d60c(0xa8))[_0xa3d60c(0xfb)][_0xa3d60c(0xde)]='#000000',id('canvas')[_0xa3d60c(0xfb)][_0xa3d60c(0x112)]=_0xa3d60c(0x98),canvas[_0xa3d60c(0x87)]=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id(_0x14d882(0xb7))[_0x14d882(0x87)]=function(){var _0x28ac58=_0x14d882;if(movingMap){movingMap=![],id(_0x28ac58(0xb7))['style'][_0x28ac58(0xde)]=_0x28ac58(0xb2),id(_0x28ac58(0x80))[_0x28ac58(0xfb)]['cursor']='crosshair';return;}movingMap=!![],id(_0x28ac58(0xb7))[_0x28ac58(0xfb)]['color']=_0x28ac58(0xed),id(_0x28ac58(0x80))[_0x28ac58(0xfb)][_0x28ac58(0x112)]=_0x28ac58(0xac),canvas['addEventListener'](_0x28ac58(0x79),function(){var _0x3bd7f5=_0x28ac58;if(!movingMap||!mouseDown)return;let _0x3d2960=square['w']/cellSize-movingVariables[_0x3bd7f5(0xf9)],_0x3d5bb4=square['h']/cellSize-movingVariables['yRDiff'];(_0x3d2960!==0x0||_0x3d5bb4!==0x0)&&(moveEverything(_0x3d2960,_0x3d5bb4),movingVariables[_0x3bd7f5(0xf9)]+=_0x3d2960,movingVariables[_0x3bd7f5(0xaf)]+=_0x3d5bb4);}),canvas[_0x28ac58(0x101)](_0x28ac58(0xfd),function(){var _0xc5ba0=_0x28ac58;if(!movingMap)return;movingVariables['xRDiff']=0x0,movingVariables[_0xc5ba0(0xaf)]=0x0;});};function moveEverything(_0x47bd68,_0x4a778c){var _0x4cbd74=_0x14d882;if(_0x47bd68==0x0&&_0x4a778c==0x0)return;for(let _0x464720=0x0;_0x464720<map[_0x4cbd74(0xf7)];_0x464720++){map[_0x464720]['x']+=_0x47bd68,map[_0x464720]['y']+=_0x4a778c;}for(let _0x1d1709=0x0;_0x1d1709<hitBoxes[_0x4cbd74(0xf7)];_0x1d1709++){hitBoxes[_0x1d1709]['x']+=_0x47bd68,hitBoxes[_0x1d1709]['y']+=_0x4a778c;}for(let _0x3ed6ee=0x0;_0x3ed6ee<camBoxes[_0x4cbd74(0xf7)];_0x3ed6ee++){camBoxes[_0x3ed6ee]['x']+=_0x47bd68,camBoxes[_0x3ed6ee]['y']+=_0x4a778c;}spawnPoint['x']+=_0x47bd68,spawnPoint['y']+=_0x4a778c;}function infoText(){var _0x360742=_0x14d882,_0x5e4ec8=square['x']/cellSize,_0x162a60=square['y']/cellSize;_0x5e4ec8>-0x1&&_0x5e4ec8<0x1&&(_0x5e4ec8=0x0),_0x162a60>-0x1&&_0x162a60<0x1&&(_0x162a60=0x0),id(_0x360742(0x115))[_0x360742(0x9d)]=_0x360742(0xd8)+_0x5e4ec8+_0x360742(0x7f)+_0x162a60+_0x360742(0xb1)+square['w']/cellSize+_0x360742(0xfc)+square['h']/cellSize;}var mouseDown=![];canvas[_0x14d882(0x101)](_0x14d882(0xe5),function(_0x56ce32){var _0x553409=_0x14d882;mouseDown=!![];var _0x1804ad=window[_0x553409(0xce)]-canvas['offsetLeft'],_0xb3a0f0=window[_0x553409(0x9e)]-canvas[_0x553409(0x104)];id(_0x553409(0x115))[_0x553409(0xfb)][_0x553409(0xf5)]='block',id('info')[_0x553409(0xfb)][_0x553409(0xb8)]=_0x56ce32[_0x553409(0x11c)]+0x1e+'px',id(_0x553409(0x115))[_0x553409(0xfb)][_0x553409(0x10b)]=_0x56ce32[_0x553409(0xc6)]-0x1e+'px',square['x']=round(_0x56ce32[_0x553409(0x11c)]+_0x1804ad)*cellSize,square['y']=round(_0x56ce32[_0x553409(0xc6)]+_0xb3a0f0)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x14d882(0x101)]('mousemove',function(_0x5ec072){var _0x52a37f=_0x14d882,_0x4cd88e=window[_0x52a37f(0xce)]-canvas['offsetLeft'],_0x1db9a9=window[_0x52a37f(0x9e)]-canvas[_0x52a37f(0x104)];mouseDown&&(id(_0x52a37f(0x115))['style'][_0x52a37f(0xf5)]=_0x52a37f(0x76),id(_0x52a37f(0x115))[_0x52a37f(0xfb)][_0x52a37f(0xb8)]=_0x5ec072[_0x52a37f(0x11c)]+0x1e+'px',id(_0x52a37f(0x115))[_0x52a37f(0xfb)][_0x52a37f(0x10b)]=_0x5ec072[_0x52a37f(0xc6)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x5ec072[_0x52a37f(0x11c)]+_0x4cd88e-square['x'])*cellSize,square['h']=round(_0x5ec072[_0x52a37f(0xc6)]+_0x1db9a9-square['y'])*cellSize);}),canvas['addEventListener'](_0x14d882(0xfd),function(_0x451bf1){var _0xac78a=_0x14d882;id('info')[_0xac78a(0xfb)][_0xac78a(0xf5)]=_0xac78a(0xc1),mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x451bf1[_0xac78a(0x77)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0xac78a(0x7b)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x4e8b5c=prompt(_0xac78a(0xf4),'');hitBoxes[hitBoxes[_0xac78a(0xf7)]-0x1][_0xac78a(0xf6)]=_0x4e8b5c;}}else{if(hitBoxToggle==0x0){map[_0xac78a(0x7b)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x4e8b5c=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');map[map[_0xac78a(0xf7)]-0x1]['text']=_0x4e8b5c;}}else{if(hitBoxToggle==0x2){var _0x68c52b=parseInt(prompt(_0xac78a(0x9b),''));camBoxes[_0xac78a(0x7b)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x68c52b});}}}}}),id('zoomer')[_0x14d882(0x101)](_0x14d882(0xe1),zoomChange),id('deleteLvl')[_0x14d882(0x101)](_0x14d882(0xc5),deleteLevel);function deleteLevel(){var _0x38421d=_0x14d882;madeChanges=!![];if(levels[_0x38421d(0xf7)]==0x1){clearMap();return;}removeButton(),levels[_0x38421d(0xbb)](currentLevel,0x1),clearMap(),currentLevel=levels[_0x38421d(0xf7)]-0x1,safeEval(JSON[_0x38421d(0xe9)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x4fc474=_0x14d882;let _0x6f8e49={'number':0x0},_0x1ee3ee=document['getElementsByClassName'](_0x4fc474(0x96));for(let _0x3db7d7=0x0;_0x3db7d7<_0x1ee3ee[_0x4fc474(0xf7)];_0x3db7d7++){_0x1ee3ee[_0x3db7d7][_0x4fc474(0xf1)]>=_0x6f8e49[_0x4fc474(0xf1)]&&(_0x6f8e49=_0x1ee3ee[_0x3db7d7]);}_0x6f8e49[_0x4fc474(0x9a)][_0x4fc474(0x103)](_0x6f8e49);}function zoomChange(){var _0x150fed=_0x14d882;cellSize=parseInt(id(_0x150fed(0x116))['value']),changeMapSize();}function changeMapSize(){var _0x20e179=_0x14d882;canvas[_0x20e179(0xee)]=cellQuantityW*cellSize,canvas[_0x20e179(0xd6)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x3e9347){var _0x16fdc2=parseInt(_0x3e9347),_0x278317=_0x16fdc2%cellSize;if(_0x278317!==0x0){if(_0x278317>cellSize/0x2)_0x16fdc2=_0x16fdc2-_0x278317+cellSize;else _0x16fdc2=_0x16fdc2-_0x278317;}return _0x16fdc2/cellSize>0x0&&_0x16fdc2/cellSize<0x1?0x0:_0x16fdc2/cellSize;}function enableBeforeUnload(){var _0x597bb3=_0x14d882;window[_0x597bb3(0xd4)]=function(_0x2d55aa){if(madeChanges)return'Discard\x20changes?';};}function disableBeforeUnload(){var _0x4786fd=_0x14d882;window[_0x4786fd(0xd4)]=null;}enableBeforeUnload(),document[_0x14d882(0x101)]('contextmenu',function(_0x481b00){var _0x4e70ef=_0x14d882;madeChanges=!![];var _0x3a15a3=window[_0x4e70ef(0xce)]-canvas[_0x4e70ef(0x8f)],_0xab1a93=window[_0x4e70ef(0x9e)]-canvas[_0x4e70ef(0x104)];_0x481b00[_0x4e70ef(0xfa)]();var _0x4a95f2=_0x481b00[_0x4e70ef(0x11c)]+_0x3a15a3,_0x35850e=_0x481b00['clientY']+_0xab1a93;removeElements(map,_0x4a95f2,_0x35850e),removeElements(hitBoxes,_0x4a95f2,_0x35850e),removeElements(camBoxes,_0x4a95f2,_0x35850e);});function removeElements(_0x22bd13,_0x5a59bc,_0x1cbad6){var _0x2532d4=_0x14d882,_0x5dbb64=[];for(let _0x2d79fb=0x0;_0x2d79fb<_0x22bd13['length'];_0x2d79fb++){_0x5a59bc>_0x22bd13[_0x2d79fb]['x']*cellSize&&_0x5a59bc<_0x22bd13[_0x2d79fb]['x']*cellSize+_0x22bd13[_0x2d79fb]['w']*cellSize&&(_0x1cbad6>_0x22bd13[_0x2d79fb]['y']*cellSize&&_0x1cbad6<_0x22bd13[_0x2d79fb]['y']*cellSize+_0x22bd13[_0x2d79fb]['h']*cellSize&&_0x5dbb64[_0x2532d4(0x7b)](_0x2d79fb));}_0x5dbb64['sort'](function(_0x42155b,_0x590ba2){return _0x590ba2-_0x42155b;});for(let _0x44475b=0x0;_0x44475b<_0x5dbb64['length'];_0x44475b++){_0x22bd13['splice'](_0x5dbb64[_0x44475b],0x1);}}function download(_0x5d4fcd,_0x212887){var _0x5d1b32=_0x14d882;madeChanges=![];var _0x329c28=new Blob([_0x212887],{'type':_0x5d1b32(0xb6)});if(window[_0x5d1b32(0x89)][_0x5d1b32(0x102)])window['navigator'][_0x5d1b32(0x111)](_0x329c28,_0x5d4fcd);else{var _0x464f7e=window[_0x5d1b32(0x8e)]['createElement']('a');_0x464f7e[_0x5d1b32(0x10c)]=window[_0x5d1b32(0xf8)]['createObjectURL'](_0x329c28),_0x464f7e[_0x5d1b32(0x100)]=_0x5d4fcd,document[_0x5d1b32(0xf3)]['appendChild'](_0x464f7e),_0x464f7e[_0x5d1b32(0xc5)](),document['body'][_0x5d1b32(0x103)](_0x464f7e);}}window[_0x14d882(0x101)](_0x14d882(0xae),function(_0x232f48){var _0x2e612a=_0x14d882,_0x264a16=_0x232f48[_0x2e612a(0x86)];switch(_0x264a16){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x2e612a(0xd7)]=!![];break;case 0x51:camera['zoomOut']=!![];break;}}),window['addEventListener'](_0x14d882(0xd9),function(_0xa03b4f){var _0x261b07=_0x14d882,_0x211ae4=_0xa03b4f[_0x261b07(0x86)];switch(_0x211ae4){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x261b07(0xd7)]=![];break;case 0x51:camera['zoomOut']=![];break;case 0x52:toggleBoxes();break;}});function _0x35a3(_0x1cb147,_0x24c21d){var _0x133490=_0x58f7();return _0x35a3=function(_0x569c81,_0xe970a){_0x569c81=_0x569c81-0x76;var _0x5976b5=_0x133490[_0x569c81];return _0x5976b5;},_0x35a3(_0x1cb147,_0x24c21d);}var pastedImage;function retrieveImageFromClipboardAsBlob(_0x5bc4a1,_0x5ef188){var _0x4fe6a6=_0x14d882;_0x5bc4a1['clipboardData']==![]&&(typeof _0x5ef188==_0x4fe6a6(0xe4)&&_0x5ef188(undefined));;var _0x8335d1=_0x5bc4a1[_0x4fe6a6(0x7c)][_0x4fe6a6(0x11f)];_0x8335d1==undefined&&(typeof _0x5ef188==_0x4fe6a6(0xe4)&&_0x5ef188(undefined));;for(var _0x66b31e=0x0;_0x66b31e<_0x8335d1[_0x4fe6a6(0xf7)];_0x66b31e++){if(_0x8335d1[_0x66b31e][_0x4fe6a6(0xcc)][_0x4fe6a6(0x113)](_0x4fe6a6(0x8b))==-0x1)continue;var _0x5f3bc0=_0x8335d1[_0x66b31e][_0x4fe6a6(0xdc)]();typeof _0x5ef188==_0x4fe6a6(0xe4)&&_0x5ef188(_0x5f3bc0);}}window[_0x14d882(0x101)]('paste',function(_0xa510a1){retrieveImageFromClipboardAsBlob(_0xa510a1,function(_0x2e059b){var _0x5dab3e=_0x35a3;if(_0x2e059b){var _0x4c227d=new Image();_0x4c227d[_0x5dab3e(0xa1)]=function(){var _0x4adb73=_0x5dab3e;pastedImage=_0x4c227d,id(_0x4adb73(0xd0))[_0x4adb73(0x7a)]=pastedImage[_0x4adb73(0xee)]/cellSize,cellQuantityW=pastedImage[_0x4adb73(0xee)]/cellSize,id(_0x4adb73(0xff))[_0x4adb73(0x7a)]=pastedImage[_0x4adb73(0xd6)]/cellSize,cellQuantityH=pastedImage[_0x4adb73(0xd6)]/cellSize,changeMapSize();};var _0x445099=window['URL']||window[_0x5dab3e(0x78)];_0x4c227d[_0x5dab3e(0x84)]=_0x445099['createObjectURL'](_0x2e059b);}});},![]);