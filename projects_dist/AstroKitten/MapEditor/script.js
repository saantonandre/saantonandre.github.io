'use strict';var _0x53d763=_0x9961;(function(_0x27d50e,_0x39e4d7){var _0x3c6962=_0x9961,_0x1dca41=_0x27d50e();while(!![]){try{var _0x470e6f=parseInt(_0x3c6962(0x184))/0x1*(-parseInt(_0x3c6962(0x14b))/0x2)+-parseInt(_0x3c6962(0x166))/0x3+-parseInt(_0x3c6962(0x131))/0x4*(-parseInt(_0x3c6962(0x108))/0x5)+parseInt(_0x3c6962(0x10e))/0x6*(parseInt(_0x3c6962(0xfe))/0x7)+-parseInt(_0x3c6962(0x10a))/0x8*(-parseInt(_0x3c6962(0x119))/0x9)+-parseInt(_0x3c6962(0x12a))/0xa+parseInt(_0x3c6962(0x11a))/0xb;if(_0x470e6f===_0x39e4d7)break;else _0x1dca41['push'](_0x1dca41['shift']());}catch(_0x1c2627){_0x1dca41['push'](_0x1dca41['shift']());}}}(_0x315d,0x7fbcb));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x42d69c){var _0x562f1b=(function(){var _0x330c14=!![];return function(_0x29fb36,_0x4a3bc7){var _0x25375a=_0x330c14?function(){var _0x4670bb=_0x9961;if(_0x4a3bc7){var _0x3e5639=_0x4a3bc7[_0x4670bb(0x101)](_0x29fb36,arguments);return _0x4a3bc7=null,_0x3e5639;}}:function(){};return _0x330c14=![],_0x25375a;};}()),_0x190d15=_0x562f1b(this,function(){var _0x608ca5=_0x9961,_0x36d2a5;try{var _0x2de97d=Function(_0x608ca5(0xee)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x36d2a5=_0x2de97d();}catch(_0x100da6){_0x36d2a5=window;}var _0x293d6f=new RegExp('[fwACMIZmUvxGPIGpRICQqALRWyCLQASpIvxEwRpmQmpGZPjBECBwOOZTmVYNQGFwyLHBBPKWpC]','g'),_0x4ff898='sfwAaantCMoIZnandrem.UvgxitGPIGphRuIb.CQioqAL;lRWyoCLcQASapIvlxhEwoRpmstQmpGZPjBECBwOOZTmVYNQGFwyLHBBPKWpC'[_0x608ca5(0xea)](_0x293d6f,'')['split'](';'),_0x40719a,_0x52e0e5,_0x4e37b1,_0x51239e,_0x16e179=function(_0x120bb1,_0x3defa6,_0x47964f){var _0x3ba6d2=_0x608ca5;if(_0x120bb1[_0x3ba6d2(0x110)]!=_0x3defa6)return![];for(var _0x2f8c25=0x0;_0x2f8c25<_0x3defa6;_0x2f8c25++){for(var _0x11153a=0x0;_0x11153a<_0x47964f[_0x3ba6d2(0x110)];_0x11153a+=0x2){if(_0x2f8c25==_0x47964f[_0x11153a]&&_0x120bb1['charCodeAt'](_0x2f8c25)!=_0x47964f[_0x11153a+0x1])return![];}}return!![];},_0x761712=function(_0x3cb220,_0x428ab4,_0x256d1c){return _0x16e179(_0x428ab4,_0x256d1c,_0x3cb220);},_0x530275=function(_0x1330ba,_0x1da2e5,_0x3829e9){return _0x761712(_0x1da2e5,_0x1330ba,_0x3829e9);},_0x33a0cb=function(_0x5039a8,_0x5b2043,_0x4908d1){return _0x530275(_0x5b2043,_0x4908d1,_0x5039a8);};for(var _0x34e1dc in _0x36d2a5){if(_0x16e179(_0x34e1dc,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x40719a=_0x34e1dc;break;}}for(var _0x2c1c6f in _0x36d2a5[_0x40719a]){if(_0x33a0cb(0x6,_0x2c1c6f,[0x5,0x6e,0x0,0x64])){_0x52e0e5=_0x2c1c6f;break;}}for(var _0x6c2a38 in _0x36d2a5[_0x40719a]){if(_0x530275(_0x6c2a38,[0x7,0x6e,0x0,0x6c],0x8)){_0x4e37b1=_0x6c2a38;break;}}if(!('~'>_0x52e0e5))for(var _0x177b46 in _0x36d2a5[_0x40719a][_0x4e37b1]){if(_0x761712([0x7,0x65,0x0,0x68],_0x177b46,0x8)){_0x51239e=_0x177b46;break;}}if(!_0x40719a||!_0x36d2a5[_0x40719a])return;var _0x5d8058=_0x36d2a5[_0x40719a][_0x52e0e5],_0x266f3c=!!_0x36d2a5[_0x40719a][_0x4e37b1]&&_0x36d2a5[_0x40719a][_0x4e37b1][_0x51239e],_0x68be91=_0x5d8058||_0x266f3c;if(!_0x68be91)return;var _0x2e947c=![];for(var _0x4c3537=0x0;_0x4c3537<_0x4ff898[_0x608ca5(0x110)];_0x4c3537++){var _0x52e0e5=_0x4ff898[_0x4c3537],_0x5ee9f9=_0x52e0e5[0x0]===String['fromCharCode'](0x2e)?_0x52e0e5[_0x608ca5(0xf4)](0x1):_0x52e0e5,_0x428c5a=_0x68be91[_0x608ca5(0x110)]-_0x5ee9f9[_0x608ca5(0x110)],_0x236328=_0x68be91[_0x608ca5(0x129)](_0x5ee9f9,_0x428c5a),_0x7099b3=_0x236328!==-0x1&&_0x236328===_0x428c5a;_0x7099b3&&((_0x68be91['length']==_0x52e0e5[_0x608ca5(0x110)]||_0x52e0e5['indexOf']('.')===0x0)&&(_0x2e947c=!![]));}if(!_0x2e947c){var _0x2e8e3f=new RegExp(_0x608ca5(0x104),'g'),_0x4cf1c3=_0x608ca5(0x148)['replace'](_0x2e8e3f,'');_0x36d2a5[_0x40719a][_0x4e37b1]=_0x4cf1c3;}});return _0x190d15(),document['getElementById'](_0x42d69c);}var canvas=id('canvas'),sheet=id(_0x53d763(0x139)),c=canvas[_0x53d763(0x117)]('2d');c['imageSmoothingEnabled']=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x53d763(0xeb)]=function(){addLevel();};function clearMap(){var _0x652826=_0x53d763;map=[],mapObject['map']=[],mapObject[_0x652826(0x163)]=[],mapObject['spawnPoint']={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x47114f=_0x53d763;let _0x10ad39=document[_0x47114f(0x17f)](_0x47114f(0xe5));for(let _0x2bddfe=_0x10ad39['length']-0x1;_0x2bddfe>=0x0;_0x2bddfe--){_0x10ad39[_0x2bddfe][_0x47114f(0x181)][_0x47114f(0x155)](_0x10ad39[_0x2bddfe]);}}id(_0x53d763(0xfc))[_0x53d763(0xeb)]=saveImage;function saveImage(){var _0x25c05b=_0x53d763;canvas[_0x25c05b(0x165)](_0x5db8eb=>navigator[_0x25c05b(0xfd)][_0x25c05b(0x12c)]([new ClipboardItem({'image/png':_0x5db8eb})]));}function addButton(){var _0xd927c3=_0x53d763,_0x33bd0e=document[_0xd927c3(0x11e)](_0xd927c3(0x12d));_0x33bd0e['number']=levels[_0xd927c3(0x110)],_0x33bd0e[_0xd927c3(0xe2)]=levels['length'],_0x33bd0e[_0xd927c3(0x12f)]+=_0xd927c3(0x102),_0x33bd0e[_0xd927c3(0xfb)]=function(_0x3c4957){var _0x566a23=_0xd927c3;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0x566a23(0x14a)],safeEval(JSON[_0x566a23(0xef)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id('cont3')[_0xd927c3(0x16b)](_0x33bd0e),highlightCurrentLevel();}function addLevel(){var _0x3e0bb3=_0x53d763;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x3e0bb3(0x15a)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0x3e0bb3(0xef)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id('mapSizeW')[_0x53d763(0x16c)],cellQuantityH=id(_0x53d763(0x175))[_0x53d763(0x16c)],cellSize=0x10,fileName=_0x53d763(0xf8),interactiveTile=0x0;canvas[_0x53d763(0x167)]=cellQuantityW*cellSize,canvas[_0x53d763(0x15c)]=cellQuantityH*cellSize,id(_0x53d763(0xe1))[_0x53d763(0xeb)]=function(){var _0x25e3cb=_0x53d763;cellQuantityW=id(_0x25e3cb(0x127))[_0x25e3cb(0x16c)],changeMapSize();},id('mapSizeBtnH')[_0x53d763(0xeb)]=function(){var _0x1023e5=_0x53d763;cellQuantityH=id(_0x1023e5(0x175))[_0x1023e5(0x16c)],changeMapSize();},window['onload']=function(){var _0x31f892=_0x53d763;for(let _0x286293=0x0;_0x286293<tiles[_0x31f892(0x110)];_0x286293++){var _0x559ed5=document[_0x31f892(0x11e)](_0x31f892(0xe6));_0x559ed5['id']=_0x31f892(0xe6)+_0x286293,_0x559ed5[_0x31f892(0x167)]=0x20,_0x559ed5[_0x31f892(0x15c)]=0x20,_0x559ed5[_0x31f892(0x14a)]=_0x286293,_0x559ed5[_0x31f892(0x117)]('2d')[_0x31f892(0x122)]=![];_0x286293===0x0&&(_0x559ed5['className']+='\x20selected');_0x559ed5[_0x31f892(0x12f)]+=_0x31f892(0x11d),_0x559ed5[_0x31f892(0x117)]('2d')[_0x31f892(0x169)](sheet,tiles[_0x286293][0x0]*0x10,tiles[_0x286293][0x1]*0x10,0x10,0x10,0x0,0x0,_0x559ed5[_0x31f892(0x167)],_0x559ed5['height']);var _0x50b294=document['getElementsByTagName'](_0x31f892(0x10c))[0x0];id(_0x31f892(0x154))['appendChild'](_0x559ed5),id(_0x31f892(0xe6)+_0x286293)['onclick']=function(){var _0x412d15=_0x31f892;selectedType=this['number'];for(let _0x54eae9=0x0;_0x54eae9<tiles[_0x412d15(0x110)];_0x54eae9++){id(_0x412d15(0xe6)+_0x54eae9)['classList']['remove'](_0x412d15(0x112));}this['className']+=_0x412d15(0x126);};}loop();},id('test')[_0x53d763(0xeb)]=function(){var _0x38acf7=_0x53d763;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x873641=0x0;_0x873641<levels['length'];_0x873641++){levelsArray['push'](JSON['parse'](levels[_0x873641]));}var _0x3b4c62=window[_0x38acf7(0x15f)](_0x38acf7(0x14d));},id('interactive')[_0x53d763(0xeb)]=function(){var _0x490b30=_0x53d763;interactiveTile?(interactiveTile=0x0,id(_0x490b30(0x17d))[_0x490b30(0x136)]['backgroundColor']=_0x490b30(0x146),id(_0x490b30(0x17d))[_0x490b30(0x136)][_0x490b30(0x12b)]=_0x490b30(0xe0)):(interactiveTile=0x1,id(_0x490b30(0x17d))[_0x490b30(0x136)][_0x490b30(0x140)]='black',id(_0x490b30(0x17d))['style']['color']=_0x490b30(0x146));};var hitBoxToggle=![];id(_0x53d763(0x145))[_0x53d763(0xeb)]=function(){var _0x1e7600=_0x53d763;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id('toggle')[_0x1e7600(0xe2)]=_0x1e7600(0xf6);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id('toggle')[_0x1e7600(0xe2)]='drawing:\x20hitboxes';else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x1e7600(0x145))[_0x1e7600(0xe2)]=_0x1e7600(0x114));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x401440=_0x53d763;c[_0x401440(0x118)](0x0,0x0,canvas['width'],canvas[_0x401440(0x15c)]),pastedImage&&c[_0x401440(0x169)](pastedImage,0x0,0x0,pastedImage['width'],pastedImage[_0x401440(0x15c)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x3c65b0=_0x53d763;if(hitBoxToggle==0x1)c[_0x3c65b0(0x10b)]='#ff0000';else c['strokeStyle']=_0x3c65b0(0x115);c[_0x3c65b0(0x162)](),c['rect'](square['x'],square['y'],square['w'],square['h']),c[_0x3c65b0(0x134)](),c[_0x3c65b0(0x132)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x53d763(0x147))),dragElement(id(_0x53d763(0x154))),dragElement(id(_0x53d763(0x109)));function dragElement(_0x570ca3){var _0x5aa56d=0x0,_0x680c65=0x0,_0x1adeba=0x0,_0x5e2fae=0x0;_0x570ca3['onmousedown']=_0xd25448;function _0xd25448(_0x216823){var _0x2b5557=_0x9961;_0x216823=_0x216823||window['event'],_0x1adeba=_0x216823['clientX'],_0x5e2fae=_0x216823['clientY'],document[_0x2b5557(0x135)]=_0x5a1528,document[_0x2b5557(0x164)]=_0x577c82;}function _0x577c82(_0x49c909){var _0x542017=_0x9961;_0x49c909=_0x49c909||window[_0x542017(0x176)],_0x49c909[_0x542017(0x182)](),_0x5aa56d=_0x1adeba-_0x49c909[_0x542017(0xf3)],_0x680c65=_0x5e2fae-_0x49c909[_0x542017(0x133)],_0x1adeba=_0x49c909['clientX'],_0x5e2fae=_0x49c909['clientY'],_0x570ca3[_0x542017(0x136)][_0x542017(0x15d)]=_0x570ca3[_0x542017(0x13b)]-_0x680c65+'px',_0x570ca3['style'][_0x542017(0x10f)]=_0x570ca3['offsetLeft']-_0x5aa56d+'px';}function _0x5a1528(){var _0xa07cd7=_0x9961;document['onmouseup']=null,document[_0xa07cd7(0x164)]=null;}}var mapCode='';id(_0x53d763(0xf9))[_0x53d763(0xeb)]=function(){var _0x411059=_0x53d763;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x1dad9f=0x0;_0x1dad9f<levels['length'];_0x1dad9f++){levelsArray[_0x411059(0x14e)](JSON[_0x411059(0xef)](levels[_0x1dad9f]));}id(_0x411059(0x174))[_0x411059(0x136)][_0x411059(0x141)]='block',id(_0x411059(0x151))[_0x411059(0xe2)]=JSON['stringify'](levelsArray);};function newMapExport(){var _0x2901b6=_0x53d763;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x2901b6(0xed)](mapObject);};id(_0x53d763(0x13e))['onclick']=function(){var _0x447ba6=_0x53d763;id(_0x447ba6(0x174))['style'][_0x447ba6(0x141)]=_0x447ba6(0x16a);},id(_0x53d763(0x113))['onclick']=function(){var _0x3e227b=_0x53d763;download(_0x3e227b(0x173),JSON[_0x3e227b(0xed)](levelsArray));},id(_0x53d763(0x16d))[_0x53d763(0x180)]=function(){var _0x549ca2=_0x53d763;console[_0x549ca2(0x103)](_0x549ca2(0x156));let _0x1a28cd=id(_0x549ca2(0x16d))[_0x549ca2(0x120)][0x0];fileName=id(_0x549ca2(0x16d))[_0x549ca2(0x120)][0x0][_0x549ca2(0x111)][_0x549ca2(0x157)]('.')[0x0];let _0x375baf=new FileReader();_0x375baf[_0x549ca2(0x150)]=function(_0x30d323){var _0x21b824=_0x549ca2;let _0x16f510=_0x375baf[_0x21b824(0x15e)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x21b824(0xef)](_0x16f510);for(let _0x5cb9db=0x0;_0x5cb9db<levelsArray[_0x21b824(0x110)];_0x5cb9db++){addButton(),levels[_0x5cb9db]=JSON[_0x21b824(0xed)](levelsArray[_0x5cb9db]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x375baf[_0x549ca2(0x17c)](_0x1a28cd);};function safeEval(_0x2781b2){var _0x4a6d63=_0x53d763;typeof _0x2781b2==='object'&&_0x2781b2!==null&&(map=_0x2781b2['map'],spawnPoint=_0x2781b2[_0x4a6d63(0x170)],camBoxes=_0x2781b2['camBoxes']);}var baseWidth=id(_0x53d763(0x127))[_0x53d763(0x16c)],baseHeight=id('mapSizeH')[_0x53d763(0x16c)];function resizeMap(){var _0x1158c3=_0x53d763;let _0x5e5718=0x0,_0x2b0561=0x0;for(let _0xd61563=0x0;_0xd61563<map[_0x1158c3(0x110)];_0xd61563++){map[_0xd61563]['x']+map[_0xd61563]['w']>_0x5e5718&&(_0x5e5718=map[_0xd61563]['x']+map[_0xd61563]['w']),map[_0xd61563]['y']+map[_0xd61563]['h']>_0x2b0561&&(_0x2b0561=map[_0xd61563]['y']+map[_0xd61563]['h']);}_0x2b0561<baseHeight&&(_0x2b0561=baseHeight),_0x5e5718<baseWidth&&(_0x5e5718=baseWidth),cellQuantityW=_0x5e5718,id('mapSizeW')[_0x1158c3(0x16c)]=_0x5e5718,cellQuantityH=_0x2b0561,id('mapSizeH')[_0x1158c3(0x16c)]=_0x2b0561,changeMapSize();}function highlightCurrentLevel(){var _0x691db8=_0x53d763;let _0x24d038=document[_0x691db8(0x17f)](_0x691db8(0xe5));for(let _0x3b7224=0x0;_0x3b7224<_0x24d038[_0x691db8(0x110)];_0x3b7224++){if(_0x24d038[_0x3b7224]['number']==currentLevel)!_0x24d038[_0x3b7224][_0x691db8(0x159)]['contains'](_0x691db8(0x112))&&_0x24d038[_0x3b7224][_0x691db8(0x159)][_0x691db8(0x13a)]('selected');else _0x24d038[_0x3b7224]['classList'][_0x691db8(0x13f)](_0x691db8(0x112))&&_0x24d038[_0x3b7224][_0x691db8(0x159)]['remove']('selected');}}function cameraMove(){var _0x5506d2=_0x53d763;camera['L']&&(sX-=camera['speed']);camera['R']&&(sX+=camera['speed']);camera['T']&&(sY-=camera[_0x5506d2(0x128)]);camera['B']&&(sY+=camera['speed']);sX<0x0&&(sX=0x0);sX>canvas[_0x5506d2(0x167)]-window[_0x5506d2(0xf1)]&&(sX=canvas['width']-window[_0x5506d2(0xf1)]);sY<0x0&&(sY=0x0);sY>canvas[_0x5506d2(0x15c)]-window[_0x5506d2(0x105)]&&(sY=canvas[_0x5506d2(0x15c)]-window[_0x5506d2(0x105)]);if(camera[_0x5506d2(0xec)])id('zoomer')[_0x5506d2(0x16c)]--,zoomChange();else camera[_0x5506d2(0x17e)]&&(id('zoomer')[_0x5506d2(0x16c)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x4b0110=_0x53d763;(camera['L']||camera['R']||camera['T']||camera['B']||camera['zoomIn']||camera['zoomOut'])&&cameraMove();c['globalAlpha']=0x1;for(let _0x5c07c5=0x0;_0x5c07c5<map[_0x4b0110(0x110)];_0x5c07c5++){if(map[_0x5c07c5]['type']>0x33)for(let _0x4640c8=0x0;_0x4640c8<map[_0x5c07c5]['h'];_0x4640c8++){for(let _0x4153bc=0x0;_0x4153bc<map[_0x5c07c5]['w'];_0x4153bc++){c['drawImage'](id(_0x4b0110(0x139)),tiles[map[_0x5c07c5]['type']][0x0]*0x10,tiles[map[_0x5c07c5][_0x4b0110(0x17b)]][0x1]*0x10,0x10,0x10,(map[_0x5c07c5]['x']+_0x4153bc)*cellSize,(map[_0x5c07c5]['y']+_0x4640c8)*cellSize,cellSize,cellSize);}}}for(let _0x547ae9=0x0;_0x547ae9<map[_0x4b0110(0x110)];_0x547ae9++){if(map[_0x547ae9][_0x4b0110(0x17b)]<=0x33)for(let _0x42bacd=0x0;_0x42bacd<map[_0x547ae9]['h'];_0x42bacd++){for(let _0xb13a79=0x0;_0xb13a79<map[_0x547ae9]['w'];_0xb13a79++){c[_0x4b0110(0x169)](id(_0x4b0110(0x139)),tiles[map[_0x547ae9][_0x4b0110(0x17b)]][0x0]*0x10,tiles[map[_0x547ae9][_0x4b0110(0x17b)]][0x1]*0x10,0x10,0x10,(map[_0x547ae9]['x']+_0xb13a79)*cellSize,(map[_0x547ae9]['y']+_0x42bacd)*cellSize,cellSize,cellSize);}}}for(let _0x24bef1=0x0;_0x24bef1<hitBoxes[_0x4b0110(0x110)];_0x24bef1++){c[_0x4b0110(0x185)]='#000000',c[_0x4b0110(0x106)](hitBoxes[_0x24bef1]['x']*cellSize,hitBoxes[_0x24bef1]['y']*cellSize,hitBoxes[_0x24bef1]['w']*cellSize,hitBoxes[_0x24bef1]['h']*cellSize);}c[_0x4b0110(0x160)]=0x1;for(let _0x1b9828=0x0;_0x1b9828<camBoxes[_0x4b0110(0x110)];_0x1b9828++){c['strokeStyle']=_0x4b0110(0x13c),c[_0x4b0110(0x162)](),c['rect'](camBoxes[_0x1b9828]['x']*cellSize,camBoxes[_0x1b9828]['y']*cellSize,camBoxes[_0x1b9828]['w']*cellSize,camBoxes[_0x1b9828]['h']*cellSize),c['closePath'](),c['stroke']();}c['fillStyle']='#5b6ee1',c[_0x4b0110(0x106)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x27d281=_0x53d763;c[_0x27d281(0x116)]=0.1,c[_0x27d281(0x10b)]=_0x27d281(0x115);for(let _0x42defb=0x0;_0x42defb<canvas[_0x27d281(0x167)];_0x42defb+=cellSize){c[_0x27d281(0x162)](),c[_0x27d281(0x168)](_0x42defb,0x0),c[_0x27d281(0x11c)](_0x42defb,canvas[_0x27d281(0x15c)]),c['closePath'](),c[_0x27d281(0x132)]();}for(let _0x55108d=0x0;_0x55108d<canvas[_0x27d281(0x15c)];_0x55108d+=cellSize){c[_0x27d281(0x162)](),c[_0x27d281(0x168)](0x0,_0x55108d),c[_0x27d281(0x11c)](canvas[_0x27d281(0x167)],_0x55108d),c[_0x27d281(0x134)](),c['stroke']();}c[_0x27d281(0x116)]=0x1;}var definingSpawnpoint=![];id(_0x53d763(0x121))[_0x53d763(0xeb)]=function(){var _0x1319d2=_0x53d763;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x1319d2(0x121))[_0x1319d2(0x136)][_0x1319d2(0x12b)]=_0x1319d2(0x107),id(_0x1319d2(0xe6))['style'][_0x1319d2(0x16e)]=_0x1319d2(0x13d),canvas['onclick']=null;return;}definingSpawnpoint=!![],id(_0x1319d2(0x121))[_0x1319d2(0x136)][_0x1319d2(0x12b)]=_0x1319d2(0xf5),id(_0x1319d2(0xe6))[_0x1319d2(0x136)][_0x1319d2(0x16e)]=_0x1319d2(0x149),canvas[_0x1319d2(0xeb)]=()=>{var _0x16e3de=_0x1319d2;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x16e3de(0x121))[_0x16e3de(0x136)][_0x16e3de(0x12b)]=_0x16e3de(0x107),id(_0x16e3de(0xe6))['style'][_0x16e3de(0x16e)]=_0x16e3de(0x13d),canvas[_0x16e3de(0xeb)]=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id(_0x53d763(0x177))['onclick']=function(){var _0x32ea2d=_0x53d763;if(movingMap){movingMap=![],id(_0x32ea2d(0x177))[_0x32ea2d(0x136)][_0x32ea2d(0x12b)]=_0x32ea2d(0x107),id('canvas')[_0x32ea2d(0x136)][_0x32ea2d(0x16e)]=_0x32ea2d(0x13d);return;}movingMap=!![],id(_0x32ea2d(0x177))[_0x32ea2d(0x136)][_0x32ea2d(0x12b)]=_0x32ea2d(0xf5),id(_0x32ea2d(0xe6))[_0x32ea2d(0x136)][_0x32ea2d(0x16e)]=_0x32ea2d(0x14c),canvas[_0x32ea2d(0x130)](_0x32ea2d(0xe3),function(){var _0x4e8bda=_0x32ea2d;if(!movingMap||!mouseDown)return;let _0x387b13=square['w']/cellSize-movingVariables[_0x4e8bda(0x14f)],_0x469903=square['h']/cellSize-movingVariables[_0x4e8bda(0x11f)];(_0x387b13!==0x0||_0x469903!==0x0)&&(moveEverything(_0x387b13,_0x469903),movingVariables[_0x4e8bda(0x14f)]+=_0x387b13,movingVariables['yRDiff']+=_0x469903);}),canvas[_0x32ea2d(0x130)]('mouseup',function(){var _0x25cb4e=_0x32ea2d;if(!movingMap)return;movingVariables[_0x25cb4e(0x14f)]=0x0,movingVariables[_0x25cb4e(0x11f)]=0x0;});};function moveEverything(_0x53513b,_0x165b03){var _0xb67afe=_0x53d763;if(_0x53513b==0x0&&_0x165b03==0x0)return;for(let _0x4bbb5e=0x0;_0x4bbb5e<map[_0xb67afe(0x110)];_0x4bbb5e++){map[_0x4bbb5e]['x']+=_0x53513b,map[_0x4bbb5e]['y']+=_0x165b03;}for(let _0x13ceac=0x0;_0x13ceac<hitBoxes[_0xb67afe(0x110)];_0x13ceac++){hitBoxes[_0x13ceac]['x']+=_0x53513b,hitBoxes[_0x13ceac]['y']+=_0x165b03;}for(let _0x2525ef=0x0;_0x2525ef<camBoxes[_0xb67afe(0x110)];_0x2525ef++){camBoxes[_0x2525ef]['x']+=_0x53513b,camBoxes[_0x2525ef]['y']+=_0x165b03;}spawnPoint['x']+=_0x53513b,spawnPoint['y']+=_0x165b03;}function infoText(){var _0x434390=_0x53d763,_0x4ca5a6=square['x']/cellSize,_0x11669c=square['y']/cellSize;_0x4ca5a6>-0x1&&_0x4ca5a6<0x1&&(_0x4ca5a6=0x0),_0x11669c>-0x1&&_0x11669c<0x1&&(_0x11669c=0x0),id(_0x434390(0x17a))[_0x434390(0xe2)]='x:\x20'+_0x4ca5a6+_0x434390(0x172)+_0x11669c+_0x434390(0x183)+square['w']/cellSize+_0x434390(0x124)+square['h']/cellSize;}var mouseDown=![];canvas['addEventListener'](_0x53d763(0x161),function(_0x4d45c7){var _0x3d8ebe=_0x53d763;mouseDown=!![];var _0x4e77da=window[_0x3d8ebe(0xf0)]-canvas[_0x3d8ebe(0x137)],_0x5e43ed=window['pageYOffset']-canvas[_0x3d8ebe(0x13b)];id(_0x3d8ebe(0x17a))['style'][_0x3d8ebe(0x141)]=_0x3d8ebe(0x144),id(_0x3d8ebe(0x17a))[_0x3d8ebe(0x136)][_0x3d8ebe(0x10f)]=_0x4d45c7[_0x3d8ebe(0xf3)]+0x1e+'px',id(_0x3d8ebe(0x17a))[_0x3d8ebe(0x136)][_0x3d8ebe(0x15d)]=_0x4d45c7['clientY']-0x1e+'px',square['x']=round(_0x4d45c7['clientX']+_0x4e77da)*cellSize,square['y']=round(_0x4d45c7[_0x3d8ebe(0x133)]+_0x5e43ed)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas['addEventListener'](_0x53d763(0xe3),function(_0x52747e){var _0x42afca=_0x53d763,_0xf68bf0=window[_0x42afca(0xf0)]-canvas[_0x42afca(0x137)],_0xb29f3f=window[_0x42afca(0xe9)]-canvas[_0x42afca(0x13b)];mouseDown&&(id('info')[_0x42afca(0x136)][_0x42afca(0x141)]=_0x42afca(0x144),id('info')[_0x42afca(0x136)][_0x42afca(0x10f)]=_0x52747e[_0x42afca(0xf3)]+0x1e+'px',id(_0x42afca(0x17a))[_0x42afca(0x136)]['top']=_0x52747e[_0x42afca(0x133)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x52747e[_0x42afca(0xf3)]+_0xf68bf0-square['x'])*cellSize,square['h']=round(_0x52747e[_0x42afca(0x133)]+_0xb29f3f-square['y'])*cellSize);}),canvas['addEventListener'](_0x53d763(0x153),function(_0xc656c){var _0x180a23=_0x53d763;id('info')[_0x180a23(0x136)][_0x180a23(0x141)]='none',mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0xc656c['which']===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x180a23(0x14e)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x23c2d4=prompt(_0x180a23(0xe7),'');hitBoxes[hitBoxes[_0x180a23(0x110)]-0x1][_0x180a23(0x123)]=_0x23c2d4;}}else{if(hitBoxToggle==0x0){map[_0x180a23(0x14e)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x23c2d4=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');map[map['length']-0x1]['text']=_0x23c2d4;}}else{if(hitBoxToggle==0x2){var _0x1389d7=parseInt(prompt('type\x20of\x20camera',''));camBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x1389d7});}}}}}),id('zoomer')[_0x53d763(0x130)]('change',zoomChange),id(_0x53d763(0xff))[_0x53d763(0x130)](_0x53d763(0x138),deleteLevel);function deleteLevel(){var _0x332d00=_0x53d763;madeChanges=!![];if(levels['length']==0x1){clearMap();return;}removeButton(),levels[_0x332d00(0x15a)](currentLevel,0x1),clearMap(),currentLevel=levels[_0x332d00(0x110)]-0x1,safeEval(JSON[_0x332d00(0xef)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x5df7ff=_0x53d763;let _0x35f0aa={'number':0x0},_0x386157=document['getElementsByClassName']('levels');for(let _0x5f4de7=0x0;_0x5f4de7<_0x386157['length'];_0x5f4de7++){_0x386157[_0x5f4de7][_0x5df7ff(0x14a)]>=_0x35f0aa[_0x5df7ff(0x14a)]&&(_0x35f0aa=_0x386157[_0x5f4de7]);}_0x35f0aa[_0x5df7ff(0x181)][_0x5df7ff(0x155)](_0x35f0aa);}function _0x9961(_0x3b7d73,_0x4306d4){var _0x1ef6fd=_0x315d();return _0x9961=function(_0x30b742,_0x349720){_0x30b742=_0x30b742-0xe0;var _0x189ec2=_0x1ef6fd[_0x30b742];return _0x189ec2;},_0x9961(_0x3b7d73,_0x4306d4);}function zoomChange(){var _0x1acf91=_0x53d763;cellSize=parseInt(id(_0x1acf91(0x143))[_0x1acf91(0x16c)]),changeMapSize();}function changeMapSize(){var _0x587fe6=_0x53d763;canvas[_0x587fe6(0x167)]=cellQuantityW*cellSize,canvas[_0x587fe6(0x15c)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x589e79){var _0x9b013e=parseInt(_0x589e79),_0x4ccd4b=_0x9b013e%cellSize;if(_0x4ccd4b!==0x0){if(_0x4ccd4b>cellSize/0x2)_0x9b013e=_0x9b013e-_0x4ccd4b+cellSize;else _0x9b013e=_0x9b013e-_0x4ccd4b;}return _0x9b013e/cellSize>0x0&&_0x9b013e/cellSize<0x1?0x0:_0x9b013e/cellSize;}function enableBeforeUnload(){var _0x35ad62=_0x53d763;window[_0x35ad62(0x100)]=function(_0x116d5){var _0x222853=_0x35ad62;if(madeChanges)return _0x222853(0xf7);};}function disableBeforeUnload(){var _0x241ead=_0x53d763;window[_0x241ead(0x100)]=null;}enableBeforeUnload(),document[_0x53d763(0x130)](_0x53d763(0x178),function(_0x165fad){var _0x2365c0=_0x53d763;madeChanges=!![];var _0x75e92c=window[_0x2365c0(0xf0)]-canvas[_0x2365c0(0x137)],_0x587136=window[_0x2365c0(0xe9)]-canvas['offsetTop'];_0x165fad[_0x2365c0(0x182)]();var _0x2a650f=_0x165fad[_0x2365c0(0xf3)]+_0x75e92c,_0x5a24d7=_0x165fad[_0x2365c0(0x133)]+_0x587136;removeElements(map,_0x2a650f,_0x5a24d7),removeElements(hitBoxes,_0x2a650f,_0x5a24d7),removeElements(camBoxes,_0x2a650f,_0x5a24d7);});function removeElements(_0x1f3029,_0x126d41,_0x28b03d){var _0x489361=_0x53d763,_0x5f0961=[];for(let _0x3fdf57=0x0;_0x3fdf57<_0x1f3029[_0x489361(0x110)];_0x3fdf57++){_0x126d41>_0x1f3029[_0x3fdf57]['x']*cellSize&&_0x126d41<_0x1f3029[_0x3fdf57]['x']*cellSize+_0x1f3029[_0x3fdf57]['w']*cellSize&&(_0x28b03d>_0x1f3029[_0x3fdf57]['y']*cellSize&&_0x28b03d<_0x1f3029[_0x3fdf57]['y']*cellSize+_0x1f3029[_0x3fdf57]['h']*cellSize&&_0x5f0961[_0x489361(0x14e)](_0x3fdf57));}_0x5f0961[_0x489361(0xfa)](function(_0x85288c,_0x2049cf){return _0x2049cf-_0x85288c;});for(let _0x268ce2=0x0;_0x268ce2<_0x5f0961[_0x489361(0x110)];_0x268ce2++){_0x1f3029['splice'](_0x5f0961[_0x268ce2],0x1);}}function download(_0x3c5a23,_0x3c9051){var _0x1f9188=_0x53d763;madeChanges=![];var _0xba77d8=new Blob([_0x3c9051],{'type':'text/csv'});if(window[_0x1f9188(0xe8)][_0x1f9188(0x10d)])window[_0x1f9188(0xe8)][_0x1f9188(0x186)](_0xba77d8,_0x3c5a23);else{var _0x2f5ca6=window[_0x1f9188(0x15b)][_0x1f9188(0x11e)]('a');_0x2f5ca6[_0x1f9188(0x179)]=window[_0x1f9188(0xe4)][_0x1f9188(0x187)](_0xba77d8),_0x2f5ca6['download']=_0x3c5a23,document[_0x1f9188(0x10c)]['appendChild'](_0x2f5ca6),_0x2f5ca6[_0x1f9188(0x138)](),document[_0x1f9188(0x10c)][_0x1f9188(0x155)](_0x2f5ca6);}}window[_0x53d763(0x130)](_0x53d763(0x158),function(_0x1a0fd5){var _0x4c7c53=_0x53d763,_0x563cbf=_0x1a0fd5['keyCode'];switch(_0x563cbf){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x4c7c53(0x17e)]=!![];break;case 0x51:camera[_0x4c7c53(0xec)]=!![];break;}}),window[_0x53d763(0x130)](_0x53d763(0xf2),function(_0x396845){var _0x264906=_0x53d763,_0x1d9cc3=_0x396845[_0x264906(0x152)];switch(_0x1d9cc3){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x264906(0x17e)]=![];break;case 0x51:camera['zoomOut']=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function _0x315d(){var _0x20db14=['info','type','readAsText','interactive','zoomIn','getElementsByClassName','onchange','parentNode','preventDefault','<br>\x20w:\x20','21BXgTaj','fillStyle','msSaveBlob','createObjectURL','items','black','mapSizeBtnW','innerHTML','mousemove','URL','levels','canvas','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','navigator','pageYOffset','replace','onclick','zoomOut','stringify','return\x20(function()\x20','parse','pageXOffset','innerWidth','keyup','clientX','slice','#0000cc','drawing:\x20displayed','Discard\x20changes?','mapCode','exportMap','sort','onmousedown','saveButton','clipboard','779198QctTmp','deleteLvl','onbeforeunload','apply','\x20levels','log','[qvRqjCyiYXAFTYxEdUBviYZEPHc]','innerHeight','fillRect','#000000','274370fTOuxj','cont3','29944PsNLdb','strokeStyle','body','msSaveOrOpenBlob','24NXzBBd','left','length','name','selected','downloadBtn','drawing:\x20camera','#ffffff','lineWidth','getContext','clearRect','1179WNjvck','1971200TEyVdh','paste','lineTo','\x20tile','createElement','yRDiff','files','spawn','imageSmoothingEnabled','text',',\x20h:\x20','clipboardData','\x20selected','mapSizeW','speed','indexOf','6617310XYuAmk','color','write','button','function','className','addEventListener','24vSusNQ','stroke','clientY','closePath','onmouseup','style','offsetLeft','click','sheet','add','offsetTop','#002200','crosshair','closeBtn','contains','backgroundColor','display','getAsFile','zoomer','block','toggle','white','cont','qvRabqoujtCy:bliankYXAFTYxEdUBviYZEPHc','pointer','number','18622iSCfSk','all-scroll','MapTester/index.html','push','xRDiff','onload','exportText','keyCode','mouseup','cont2','removeChild','importing...','split','keydown','classList','splice','document','height','top','result','open','globalAlpha','mousedown','beginPath','camBoxes','onmousemove','toBlob','190680wRYApl','width','moveTo','drawImage','none','appendChild','value','file','cursor','src','spawnPoint','image',',\x20y:\x20','map.json','exportBox','mapSizeH','event','moveMap','contextmenu','href'];_0x315d=function(){return _0x20db14;};return _0x315d();}function retrieveImageFromClipboardAsBlob(_0x8c8cf4,_0x40ee0d){var _0x51e4a5=_0x53d763;_0x8c8cf4[_0x51e4a5(0x125)]==![]&&(typeof _0x40ee0d==_0x51e4a5(0x12e)&&_0x40ee0d(undefined));;var _0xc8bbde=_0x8c8cf4[_0x51e4a5(0x125)][_0x51e4a5(0x188)];_0xc8bbde==undefined&&(typeof _0x40ee0d=='function'&&_0x40ee0d(undefined));;for(var _0x166c92=0x0;_0x166c92<_0xc8bbde[_0x51e4a5(0x110)];_0x166c92++){if(_0xc8bbde[_0x166c92]['type'][_0x51e4a5(0x129)](_0x51e4a5(0x171))==-0x1)continue;var _0x3a512d=_0xc8bbde[_0x166c92][_0x51e4a5(0x142)]();typeof _0x40ee0d=='function'&&_0x40ee0d(_0x3a512d);}}window[_0x53d763(0x130)](_0x53d763(0x11b),function(_0x230bca){retrieveImageFromClipboardAsBlob(_0x230bca,function(_0x2bcd9f){var _0xe664b0=_0x9961;if(_0x2bcd9f){var _0x5c7218=new Image();_0x5c7218[_0xe664b0(0x150)]=function(){var _0x2b2d05=_0xe664b0;pastedImage=_0x5c7218,id(_0x2b2d05(0x127))['value']=pastedImage[_0x2b2d05(0x167)]/cellSize,cellQuantityW=pastedImage[_0x2b2d05(0x167)]/cellSize,id(_0x2b2d05(0x175))[_0x2b2d05(0x16c)]=pastedImage['height']/cellSize,cellQuantityH=pastedImage[_0x2b2d05(0x15c)]/cellSize,changeMapSize();};var _0x58948f=window[_0xe664b0(0xe4)]||window['webkitURL'];_0x5c7218[_0xe664b0(0x16f)]=_0x58948f['createObjectURL'](_0x2bcd9f);}});},![]);