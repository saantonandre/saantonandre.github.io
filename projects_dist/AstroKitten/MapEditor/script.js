'use strict';var _0x532534=_0x334a;(function(_0x153fa4,_0x1ed357){var _0x5c9ec3=_0x334a,_0x33e746=_0x153fa4();while(!![]){try{var _0x274916=parseInt(_0x5c9ec3(0x128))/0x1*(parseInt(_0x5c9ec3(0x12b))/0x2)+parseInt(_0x5c9ec3(0x195))/0x3+-parseInt(_0x5c9ec3(0x164))/0x4+-parseInt(_0x5c9ec3(0x1b1))/0x5+-parseInt(_0x5c9ec3(0x1b3))/0x6+-parseInt(_0x5c9ec3(0x135))/0x7+parseInt(_0x5c9ec3(0x12a))/0x8;if(_0x274916===_0x1ed357)break;else _0x33e746['push'](_0x33e746['shift']());}catch(_0x2cdb89){_0x33e746['push'](_0x33e746['shift']());}}}(_0x8284,0x3828e));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function _0x8284(){var _0x1f84a5=['fillStyle','mapSizeW','preventDefault','1722940aNuxnI','drawImage','spawnPoint','#0000cc','importing...','parse','URL','event','mapCode','width','info','#ffffff','clientY','msSaveBlob','addEventListener','pageXOffset','onclick','pageYOffset','interactive','backgroundColor','appendChild','aboujLftF:blankgLrGQzzsDExmDijqrWMZxhE','mousedown','speed','number','text','camBoxes','log','style','mapSizeH','color','createElement','lineTo','button','clientX','getContext','keyCode','paste','cont','replace','fromCharCode','src','onmousedown','file','<br>\x20w:\x20','map','onchange','innerWidth','Discard\x20changes?','507975uczrvs','beginPath','getElementsByTagName','mouseup','innerHeight','black','globalAlpha','spawn','length','getElementsByClassName','files','pointer','block','cont3','lineWidth','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','sheet','mapSizeBtnW','add','getElementById','splice','navigator','parentNode','classList','function','contextmenu','EBskaPantGfonaZYzRZnqdGrCeOUj.giNItphOubB.OAJijo;lxRyZoxCcamlMhostmyqqXpzjqYjzFxKHFYxzjNAKzxPjPCAxkmvVIfPxv','contains','364140YqPIML','MapTester/index.html','2118888ltdpOd','toggle','test','clipboard','msSaveOrOpenBlob','push','fillRect','none','white','mapSizeBtnH','clipboardData','#ff0000','moveMap','zoomer','offsetTop','cont2','height','moveTo','#000000','326457eSPRnG','crosshair','6866240RxONsa','2OCMibf','keydown','selected','exportBox','removeChild','write','{}.constructor(\x22return\x20this\x22)(\x20)','remove','levels','onload','1871247mpsIgA','charCodeAt','top','onbeforeunload','mousemove','click','deleteLvl','image','cursor','type','left','slice','strokeStyle','innerHTML','exportText','display','clearRect','createObjectURL','zoomOut','map.json','readAsText','canvas','yRDiff','zoomIn','exportMap','closePath','drawing:\x20hitboxes','offsetLeft','split','xRDiff','imageSmoothingEnabled','sort','stringify','type\x20of\x20camera','\x20selected','indexOf','#5b6ee1','className','text/csv','x:\x20','document','download','stroke','value'];_0x8284=function(){return _0x1f84a5;};return _0x8284();}function id(_0x38411d){var _0x165171=_0x334a,_0x6ad641=(function(){var _0x3fc4ca=!![];return function(_0x2af145,_0x1a74b4){var _0x2ea0fe=_0x3fc4ca?function(){if(_0x1a74b4){var _0x22f537=_0x1a74b4['apply'](_0x2af145,arguments);return _0x1a74b4=null,_0x22f537;}}:function(){};return _0x3fc4ca=![],_0x2ea0fe;};}()),_0x32332a=_0x6ad641(this,function(){var _0x48823b=_0x334a,_0x25c71c;try{var _0x3e1e23=Function('return\x20(function()\x20'+_0x48823b(0x131)+');');_0x25c71c=_0x3e1e23();}catch(_0x57a4d1){_0x25c71c=window;}var _0x4a3d3=new RegExp('[EBkPGfZYzRZqGCOUjNIpOBOAJjxRyZxCmMmyqqXpzjqYjzFxKHFYxzjNAKzxPjPCAxkmvVIfPxv]','g'),_0x19c3b1=_0x48823b(0x1af)[_0x48823b(0x18b)](_0x4a3d3,'')[_0x48823b(0x151)](';'),_0x2231d8,_0x55b911,_0x4aceaf,_0x220e5e,_0x4523bf=function(_0x19580a,_0xa873e4,_0x4bd129){var _0x410561=_0x48823b;if(_0x19580a[_0x410561(0x19d)]!=_0xa873e4)return![];for(var _0x163fbc=0x0;_0x163fbc<_0xa873e4;_0x163fbc++){for(var _0x1a01b6=0x0;_0x1a01b6<_0x4bd129[_0x410561(0x19d)];_0x1a01b6+=0x2){if(_0x163fbc==_0x4bd129[_0x1a01b6]&&_0x19580a[_0x410561(0x136)](_0x163fbc)!=_0x4bd129[_0x1a01b6+0x1])return![];}}return!![];},_0x5adad0=function(_0x12dd9f,_0x16f39e,_0x27eca5){return _0x4523bf(_0x16f39e,_0x27eca5,_0x12dd9f);},_0x115f3e=function(_0x3de5aa,_0x33cd58,_0x3ae0d6){return _0x5adad0(_0x33cd58,_0x3de5aa,_0x3ae0d6);},_0x23707a=function(_0x445cbf,_0x37bb14,_0x390cc2){return _0x115f3e(_0x37bb14,_0x390cc2,_0x445cbf);};for(var _0x5ccb25 in _0x25c71c){if(_0x4523bf(_0x5ccb25,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2231d8=_0x5ccb25;break;}}for(var _0x2e7708 in _0x25c71c[_0x2231d8]){if(_0x23707a(0x6,_0x2e7708,[0x5,0x6e,0x0,0x64])){_0x55b911=_0x2e7708;break;}}for(var _0x14dec2 in _0x25c71c[_0x2231d8]){if(_0x115f3e(_0x14dec2,[0x7,0x6e,0x0,0x6c],0x8)){_0x4aceaf=_0x14dec2;break;}}if(!('~'>_0x55b911))for(var _0x48adac in _0x25c71c[_0x2231d8][_0x4aceaf]){if(_0x5adad0([0x7,0x65,0x0,0x68],_0x48adac,0x8)){_0x220e5e=_0x48adac;break;}}if(!_0x2231d8||!_0x25c71c[_0x2231d8])return;var _0x4a5647=_0x25c71c[_0x2231d8][_0x55b911],_0x548059=!!_0x25c71c[_0x2231d8][_0x4aceaf]&&_0x25c71c[_0x2231d8][_0x4aceaf][_0x220e5e],_0x57a0b9=_0x4a5647||_0x548059;if(!_0x57a0b9)return;var _0x462464=![];for(var _0x5183df=0x0;_0x5183df<_0x19c3b1[_0x48823b(0x19d)];_0x5183df++){var _0x55b911=_0x19c3b1[_0x5183df],_0x1d55db=_0x55b911[0x0]===String[_0x48823b(0x18c)](0x2e)?_0x55b911[_0x48823b(0x140)](0x1):_0x55b911,_0x35bf27=_0x57a0b9[_0x48823b(0x19d)]-_0x1d55db[_0x48823b(0x19d)],_0x1526be=_0x57a0b9['indexOf'](_0x1d55db,_0x35bf27),_0x11a95e=_0x1526be!==-0x1&&_0x1526be===_0x35bf27;_0x11a95e&&((_0x57a0b9[_0x48823b(0x19d)]==_0x55b911[_0x48823b(0x19d)]||_0x55b911[_0x48823b(0x158)]('.')===0x0)&&(_0x462464=!![]));}if(!_0x462464){var _0x5cfa32=new RegExp('[jLfFgLrGQzzsDExmDijqrWMZxhE]','g'),_0x3e39b8=_0x48823b(0x179)[_0x48823b(0x18b)](_0x5cfa32,'');_0x25c71c[_0x2231d8][_0x4aceaf]=_0x3e39b8;}});return _0x32332a(),document[_0x165171(0x1a8)](_0x38411d);}var canvas=id(_0x532534(0x14a)),sheet=id(_0x532534(0x1a5)),c=canvas[_0x532534(0x187)]('2d');c[_0x532534(0x153)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x532534(0x174)]=function(){addLevel();};function clearMap(){var _0x3a3ded=_0x532534;map=[],mapObject['map']=[],mapObject[_0x3a3ded(0x17e)]=[],mapObject[_0x3a3ded(0x166)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x77baaa=_0x532534;let _0x51f0e6=document[_0x77baaa(0x19e)]('levels');for(let _0x4b1b65=_0x51f0e6[_0x77baaa(0x19d)]-0x1;_0x4b1b65>=0x0;_0x4b1b65--){_0x51f0e6[_0x4b1b65][_0x77baaa(0x1ab)][_0x77baaa(0x12f)](_0x51f0e6[_0x4b1b65]);}}id('saveButton')[_0x532534(0x174)]=saveImage;function saveImage(){var _0x3ed154=_0x532534;canvas['toBlob'](_0x160cf3=>navigator[_0x3ed154(0x1b6)][_0x3ed154(0x130)]([new ClipboardItem({'image/png':_0x160cf3})]));}function addButton(){var _0x2d5b4b=_0x532534,_0x446f16=document['createElement'](_0x2d5b4b(0x185));_0x446f16['number']=levels['length'],_0x446f16[_0x2d5b4b(0x142)]=levels[_0x2d5b4b(0x19d)],_0x446f16[_0x2d5b4b(0x15a)]+='\x20levels',_0x446f16[_0x2d5b4b(0x18e)]=function(_0x130c91){var _0x2a2bf3=_0x2d5b4b;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0x2a2bf3(0x17c)],safeEval(JSON[_0x2a2bf3(0x169)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0x2d5b4b(0x1a2))['appendChild'](_0x446f16),highlightCurrentLevel();}function addLevel(){var _0x358d85=_0x532534;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x358d85(0x1a9)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0x358d85(0x169)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x532534(0x162))['value'],cellQuantityH=id(_0x532534(0x181))[_0x532534(0x160)],cellSize=0x10,fileName=_0x532534(0x16c),interactiveTile=0x0;canvas[_0x532534(0x16d)]=cellQuantityW*cellSize,canvas['height']=cellQuantityH*cellSize,id(_0x532534(0x1a6))[_0x532534(0x174)]=function(){var _0x176821=_0x532534;cellQuantityW=id(_0x176821(0x162))[_0x176821(0x160)],changeMapSize();},id(_0x532534(0x1bc))[_0x532534(0x174)]=function(){cellQuantityH=id('mapSizeH')['value'],changeMapSize();},window[_0x532534(0x134)]=function(){var _0x2f3623=_0x532534;for(let _0x4d0299=0x0;_0x4d0299<tiles[_0x2f3623(0x19d)];_0x4d0299++){var _0xb119b=document['createElement']('canvas');_0xb119b['id']=_0x2f3623(0x14a)+_0x4d0299,_0xb119b[_0x2f3623(0x16d)]=0x20,_0xb119b[_0x2f3623(0x125)]=0x20,_0xb119b[_0x2f3623(0x17c)]=_0x4d0299,_0xb119b[_0x2f3623(0x187)]('2d')[_0x2f3623(0x153)]=![];_0x4d0299===0x0&&(_0xb119b[_0x2f3623(0x15a)]+=_0x2f3623(0x157));_0xb119b[_0x2f3623(0x15a)]+='\x20tile',_0xb119b[_0x2f3623(0x187)]('2d')[_0x2f3623(0x165)](sheet,tiles[_0x4d0299][0x0]*0x10,tiles[_0x4d0299][0x1]*0x10,0x10,0x10,0x0,0x0,_0xb119b[_0x2f3623(0x16d)],_0xb119b[_0x2f3623(0x125)]);var _0x2f4fe0=document[_0x2f3623(0x197)]('body')[0x0];id(_0x2f3623(0x124))[_0x2f3623(0x178)](_0xb119b),id(_0x2f3623(0x14a)+_0x4d0299)[_0x2f3623(0x174)]=function(){var _0x4d328e=_0x2f3623;selectedType=this[_0x4d328e(0x17c)];for(let _0x3a6143=0x0;_0x3a6143<tiles[_0x4d328e(0x19d)];_0x3a6143++){id(_0x4d328e(0x14a)+_0x3a6143)['classList'][_0x4d328e(0x132)](_0x4d328e(0x12d));}this[_0x4d328e(0x15a)]+=_0x4d328e(0x157);};}loop();},id(_0x532534(0x1b5))[_0x532534(0x174)]=function(){var _0x5f022c=_0x532534;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x4e5c2c=0x0;_0x4e5c2c<levels[_0x5f022c(0x19d)];_0x4e5c2c++){levelsArray[_0x5f022c(0x1b8)](JSON['parse'](levels[_0x4e5c2c]));}var _0xa86e21=window['open'](_0x5f022c(0x1b2));},id(_0x532534(0x176))[_0x532534(0x174)]=function(){var _0x323164=_0x532534;interactiveTile?(interactiveTile=0x0,id(_0x323164(0x176))[_0x323164(0x180)]['backgroundColor']=_0x323164(0x1bb),id(_0x323164(0x176))['style']['color']=_0x323164(0x19a)):(interactiveTile=0x1,id(_0x323164(0x176))[_0x323164(0x180)][_0x323164(0x177)]=_0x323164(0x19a),id(_0x323164(0x176))[_0x323164(0x180)][_0x323164(0x182)]=_0x323164(0x1bb));};var hitBoxToggle=![];id(_0x532534(0x1b4))[_0x532534(0x174)]=function(){var _0x1a8dc5=_0x532534;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x1a8dc5(0x1b4))[_0x1a8dc5(0x142)]='drawing:\x20displayed';else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x1a8dc5(0x1b4))[_0x1a8dc5(0x142)]=_0x1a8dc5(0x14f);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x1a8dc5(0x1b4))[_0x1a8dc5(0x142)]='drawing:\x20camera');}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x38649c=_0x532534;c[_0x38649c(0x145)](0x0,0x0,canvas[_0x38649c(0x16d)],canvas[_0x38649c(0x125)]),pastedImage&&c['drawImage'](pastedImage,0x0,0x0,pastedImage[_0x38649c(0x16d)],pastedImage[_0x38649c(0x125)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x3bd629=_0x532534;if(hitBoxToggle==0x1)c[_0x3bd629(0x141)]=_0x3bd629(0x120);else c['strokeStyle']='#ffffff';c[_0x3bd629(0x196)](),c['rect'](square['x'],square['y'],square['w'],square['h']),c[_0x3bd629(0x14e)](),c[_0x3bd629(0x15f)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x532534(0x18a))),dragElement(id(_0x532534(0x124))),dragElement(id(_0x532534(0x1a2)));function dragElement(_0x236317){var _0x160cd1=0x0,_0x1036da=0x0,_0x1a0aeb=0x0,_0x4b50dc=0x0;_0x236317['onmousedown']=_0x45ac70;function _0x45ac70(_0x4a2829){var _0x5839f5=_0x334a;_0x4a2829=_0x4a2829||window[_0x5839f5(0x16b)],_0x1a0aeb=_0x4a2829['clientX'],_0x4b50dc=_0x4a2829[_0x5839f5(0x170)],document['onmouseup']=_0x3f0d95,document['onmousemove']=_0x2de268;}function _0x2de268(_0x421e23){var _0x54c837=_0x334a;_0x421e23=_0x421e23||window[_0x54c837(0x16b)],_0x421e23['preventDefault'](),_0x160cd1=_0x1a0aeb-_0x421e23[_0x54c837(0x186)],_0x1036da=_0x4b50dc-_0x421e23[_0x54c837(0x170)],_0x1a0aeb=_0x421e23[_0x54c837(0x186)],_0x4b50dc=_0x421e23[_0x54c837(0x170)],_0x236317['style'][_0x54c837(0x137)]=_0x236317[_0x54c837(0x123)]-_0x1036da+'px',_0x236317['style'][_0x54c837(0x13f)]=_0x236317[_0x54c837(0x150)]-_0x160cd1+'px';}function _0x3f0d95(){document['onmouseup']=null,document['onmousemove']=null;}}function _0x334a(_0x2f4102,_0x34cd92){var _0x28ecf9=_0x8284();return _0x334a=function(_0x3885d5,_0x342999){_0x3885d5=_0x3885d5-0x120;var _0x387283=_0x28ecf9[_0x3885d5];return _0x387283;},_0x334a(_0x2f4102,_0x34cd92);}var mapCode='';id(_0x532534(0x14d))[_0x532534(0x174)]=function(){var _0x619d07=_0x532534;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x5c901f=0x0;_0x5c901f<levels[_0x619d07(0x19d)];_0x5c901f++){levelsArray[_0x619d07(0x1b8)](JSON[_0x619d07(0x169)](levels[_0x5c901f]));}id(_0x619d07(0x12e))[_0x619d07(0x180)][_0x619d07(0x144)]=_0x619d07(0x1a1),id(_0x619d07(0x143))['innerHTML']=JSON[_0x619d07(0x155)](levelsArray);};function newMapExport(){var _0x54f041=_0x532534;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x54f041(0x155)](mapObject);};id('closeBtn')[_0x532534(0x174)]=function(){var _0x278343=_0x532534;id(_0x278343(0x12e))[_0x278343(0x180)][_0x278343(0x144)]=_0x278343(0x1ba);},id('downloadBtn')[_0x532534(0x174)]=function(){var _0x1537d2=_0x532534;download(_0x1537d2(0x148),JSON[_0x1537d2(0x155)](levelsArray));},id(_0x532534(0x18f))[_0x532534(0x192)]=function(){var _0x43f85d=_0x532534;console[_0x43f85d(0x17f)](_0x43f85d(0x168));let _0x1024fe=id(_0x43f85d(0x18f))['files'][0x0];fileName=id('file')[_0x43f85d(0x19f)][0x0]['name'][_0x43f85d(0x151)]('.')[0x0];let _0x4a5e7f=new FileReader();_0x4a5e7f[_0x43f85d(0x134)]=function(_0x5f34ff){var _0x24cb35=_0x43f85d;let _0x2d9bae=_0x4a5e7f['result'];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x24cb35(0x169)](_0x2d9bae);for(let _0x55d242=0x0;_0x55d242<levelsArray[_0x24cb35(0x19d)];_0x55d242++){addButton(),levels[_0x55d242]=JSON[_0x24cb35(0x155)](levelsArray[_0x55d242]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x4a5e7f[_0x43f85d(0x149)](_0x1024fe);};function safeEval(_0x1deef0){var _0x5c64ed=_0x532534;typeof _0x1deef0==='object'&&_0x1deef0!==null&&(map=_0x1deef0[_0x5c64ed(0x191)],spawnPoint=_0x1deef0['spawnPoint'],camBoxes=_0x1deef0[_0x5c64ed(0x17e)]);}var baseWidth=id('mapSizeW')['value'],baseHeight=id(_0x532534(0x181))[_0x532534(0x160)];function resizeMap(){var _0x2b61c8=_0x532534;let _0x44bd61=0x0,_0xf78ae9=0x0;for(let _0x2bcb81=0x0;_0x2bcb81<map[_0x2b61c8(0x19d)];_0x2bcb81++){map[_0x2bcb81]['x']+map[_0x2bcb81]['w']>_0x44bd61&&(_0x44bd61=map[_0x2bcb81]['x']+map[_0x2bcb81]['w']),map[_0x2bcb81]['y']+map[_0x2bcb81]['h']>_0xf78ae9&&(_0xf78ae9=map[_0x2bcb81]['y']+map[_0x2bcb81]['h']);}_0xf78ae9<baseHeight&&(_0xf78ae9=baseHeight),_0x44bd61<baseWidth&&(_0x44bd61=baseWidth),cellQuantityW=_0x44bd61,id('mapSizeW')['value']=_0x44bd61,cellQuantityH=_0xf78ae9,id(_0x2b61c8(0x181))['value']=_0xf78ae9,changeMapSize();}function highlightCurrentLevel(){var _0xa3a8d6=_0x532534;let _0x5113db=document[_0xa3a8d6(0x19e)]('levels');for(let _0x5711f5=0x0;_0x5711f5<_0x5113db[_0xa3a8d6(0x19d)];_0x5711f5++){if(_0x5113db[_0x5711f5][_0xa3a8d6(0x17c)]==currentLevel)!_0x5113db[_0x5711f5][_0xa3a8d6(0x1ac)][_0xa3a8d6(0x1b0)](_0xa3a8d6(0x12d))&&_0x5113db[_0x5711f5]['classList'][_0xa3a8d6(0x1a7)](_0xa3a8d6(0x12d));else _0x5113db[_0x5711f5][_0xa3a8d6(0x1ac)][_0xa3a8d6(0x1b0)]('selected')&&_0x5113db[_0x5711f5][_0xa3a8d6(0x1ac)]['remove'](_0xa3a8d6(0x12d));}}function cameraMove(){var _0x15668c=_0x532534;camera['L']&&(sX-=camera[_0x15668c(0x17b)]);camera['R']&&(sX+=camera[_0x15668c(0x17b)]);camera['T']&&(sY-=camera[_0x15668c(0x17b)]);camera['B']&&(sY+=camera[_0x15668c(0x17b)]);sX<0x0&&(sX=0x0);sX>canvas[_0x15668c(0x16d)]-window[_0x15668c(0x193)]&&(sX=canvas[_0x15668c(0x16d)]-window[_0x15668c(0x193)]);sY<0x0&&(sY=0x0);sY>canvas['height']-window[_0x15668c(0x199)]&&(sY=canvas[_0x15668c(0x125)]-window[_0x15668c(0x199)]);if(camera[_0x15668c(0x147)])id('zoomer')[_0x15668c(0x160)]--,zoomChange();else camera[_0x15668c(0x14c)]&&(id(_0x15668c(0x122))['value']++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x10c2cd=_0x532534;(camera['L']||camera['R']||camera['T']||camera['B']||camera['zoomIn']||camera[_0x10c2cd(0x147)])&&cameraMove();c['globalAlpha']=0x1;for(let _0x17efdd=0x0;_0x17efdd<map[_0x10c2cd(0x19d)];_0x17efdd++){if(map[_0x17efdd]['type']>0x33)for(let _0x3b0aee=0x0;_0x3b0aee<map[_0x17efdd]['h'];_0x3b0aee++){for(let _0x23806b=0x0;_0x23806b<map[_0x17efdd]['w'];_0x23806b++){c[_0x10c2cd(0x165)](id('sheet'),tiles[map[_0x17efdd][_0x10c2cd(0x13e)]][0x0]*0x10,tiles[map[_0x17efdd][_0x10c2cd(0x13e)]][0x1]*0x10,0x10,0x10,(map[_0x17efdd]['x']+_0x23806b)*cellSize,(map[_0x17efdd]['y']+_0x3b0aee)*cellSize,cellSize,cellSize);}}}for(let _0x33cc47=0x0;_0x33cc47<map[_0x10c2cd(0x19d)];_0x33cc47++){if(map[_0x33cc47]['type']<=0x33)for(let _0x28c0b3=0x0;_0x28c0b3<map[_0x33cc47]['h'];_0x28c0b3++){for(let _0x3c797c=0x0;_0x3c797c<map[_0x33cc47]['w'];_0x3c797c++){c['drawImage'](id(_0x10c2cd(0x1a5)),tiles[map[_0x33cc47]['type']][0x0]*0x10,tiles[map[_0x33cc47]['type']][0x1]*0x10,0x10,0x10,(map[_0x33cc47]['x']+_0x3c797c)*cellSize,(map[_0x33cc47]['y']+_0x28c0b3)*cellSize,cellSize,cellSize);}}}for(let _0x37bf22=0x0;_0x37bf22<hitBoxes[_0x10c2cd(0x19d)];_0x37bf22++){c[_0x10c2cd(0x161)]='#000000',c['fillRect'](hitBoxes[_0x37bf22]['x']*cellSize,hitBoxes[_0x37bf22]['y']*cellSize,hitBoxes[_0x37bf22]['w']*cellSize,hitBoxes[_0x37bf22]['h']*cellSize);}c[_0x10c2cd(0x19b)]=0x1;for(let _0x277f8b=0x0;_0x277f8b<camBoxes[_0x10c2cd(0x19d)];_0x277f8b++){c[_0x10c2cd(0x141)]='#002200',c[_0x10c2cd(0x196)](),c['rect'](camBoxes[_0x277f8b]['x']*cellSize,camBoxes[_0x277f8b]['y']*cellSize,camBoxes[_0x277f8b]['w']*cellSize,camBoxes[_0x277f8b]['h']*cellSize),c[_0x10c2cd(0x14e)](),c['stroke']();}c['fillStyle']=_0x10c2cd(0x159),c[_0x10c2cd(0x1b9)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x555883=_0x532534;c[_0x555883(0x1a3)]=0.1,c[_0x555883(0x141)]=_0x555883(0x16f);for(let _0x75b39e=0x0;_0x75b39e<canvas[_0x555883(0x16d)];_0x75b39e+=cellSize){c[_0x555883(0x196)](),c[_0x555883(0x126)](_0x75b39e,0x0),c[_0x555883(0x184)](_0x75b39e,canvas['height']),c[_0x555883(0x14e)](),c[_0x555883(0x15f)]();}for(let _0x28996f=0x0;_0x28996f<canvas[_0x555883(0x125)];_0x28996f+=cellSize){c[_0x555883(0x196)](),c['moveTo'](0x0,_0x28996f),c[_0x555883(0x184)](canvas[_0x555883(0x16d)],_0x28996f),c[_0x555883(0x14e)](),c[_0x555883(0x15f)]();}c[_0x555883(0x1a3)]=0x1;}var definingSpawnpoint=![];id(_0x532534(0x19c))['onclick']=function(){var _0x5d7da8=_0x532534;if(definingSpawnpoint){definingSpawnpoint=![],id('spawn')[_0x5d7da8(0x180)]['color']=_0x5d7da8(0x127),id(_0x5d7da8(0x14a))[_0x5d7da8(0x180)]['cursor']=_0x5d7da8(0x129),canvas['onclick']=null;return;}definingSpawnpoint=!![],id('spawn')[_0x5d7da8(0x180)][_0x5d7da8(0x182)]='#0000cc',id('canvas')[_0x5d7da8(0x180)][_0x5d7da8(0x13d)]=_0x5d7da8(0x1a0),canvas[_0x5d7da8(0x174)]=()=>{var _0x3dab07=_0x5d7da8;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x3dab07(0x19c))[_0x3dab07(0x180)][_0x3dab07(0x182)]=_0x3dab07(0x127),id(_0x3dab07(0x14a))[_0x3dab07(0x180)][_0x3dab07(0x13d)]=_0x3dab07(0x129),canvas[_0x3dab07(0x174)]=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id(_0x532534(0x121))[_0x532534(0x174)]=function(){var _0x3ee750=_0x532534;if(movingMap){movingMap=![],id('moveMap')[_0x3ee750(0x180)]['color']=_0x3ee750(0x127),id(_0x3ee750(0x14a))[_0x3ee750(0x180)]['cursor']=_0x3ee750(0x129);return;}movingMap=!![],id(_0x3ee750(0x121))[_0x3ee750(0x180)][_0x3ee750(0x182)]=_0x3ee750(0x167),id('canvas')[_0x3ee750(0x180)][_0x3ee750(0x13d)]='all-scroll',canvas[_0x3ee750(0x172)](_0x3ee750(0x139),function(){var _0x13e6b3=_0x3ee750;if(!movingMap||!mouseDown)return;let _0x51c522=square['w']/cellSize-movingVariables[_0x13e6b3(0x152)],_0x443bf3=square['h']/cellSize-movingVariables[_0x13e6b3(0x14b)];(_0x51c522!==0x0||_0x443bf3!==0x0)&&(moveEverything(_0x51c522,_0x443bf3),movingVariables[_0x13e6b3(0x152)]+=_0x51c522,movingVariables[_0x13e6b3(0x14b)]+=_0x443bf3);}),canvas[_0x3ee750(0x172)](_0x3ee750(0x198),function(){var _0x1a340c=_0x3ee750;if(!movingMap)return;movingVariables[_0x1a340c(0x152)]=0x0,movingVariables['yRDiff']=0x0;});};function moveEverything(_0x1b50bd,_0x5c41f6){var _0x1a57a3=_0x532534;if(_0x1b50bd==0x0&&_0x5c41f6==0x0)return;for(let _0x542b26=0x0;_0x542b26<map['length'];_0x542b26++){map[_0x542b26]['x']+=_0x1b50bd,map[_0x542b26]['y']+=_0x5c41f6;}for(let _0x642b7b=0x0;_0x642b7b<hitBoxes[_0x1a57a3(0x19d)];_0x642b7b++){hitBoxes[_0x642b7b]['x']+=_0x1b50bd,hitBoxes[_0x642b7b]['y']+=_0x5c41f6;}for(let _0x18f8ab=0x0;_0x18f8ab<camBoxes[_0x1a57a3(0x19d)];_0x18f8ab++){camBoxes[_0x18f8ab]['x']+=_0x1b50bd,camBoxes[_0x18f8ab]['y']+=_0x5c41f6;}spawnPoint['x']+=_0x1b50bd,spawnPoint['y']+=_0x5c41f6;}function infoText(){var _0x57488c=_0x532534,_0x44c4d2=square['x']/cellSize,_0x59f616=square['y']/cellSize;_0x44c4d2>-0x1&&_0x44c4d2<0x1&&(_0x44c4d2=0x0),_0x59f616>-0x1&&_0x59f616<0x1&&(_0x59f616=0x0),id(_0x57488c(0x16e))['innerHTML']=_0x57488c(0x15c)+_0x44c4d2+',\x20y:\x20'+_0x59f616+_0x57488c(0x190)+square['w']/cellSize+',\x20h:\x20'+square['h']/cellSize;}var mouseDown=![];canvas[_0x532534(0x172)](_0x532534(0x17a),function(_0x19890c){var _0x50e7e6=_0x532534;mouseDown=!![];var _0x100ac9=window[_0x50e7e6(0x173)]-canvas['offsetLeft'],_0xb13343=window[_0x50e7e6(0x175)]-canvas[_0x50e7e6(0x123)];id('info')['style'][_0x50e7e6(0x144)]=_0x50e7e6(0x1a1),id('info')[_0x50e7e6(0x180)][_0x50e7e6(0x13f)]=_0x19890c['clientX']+0x1e+'px',id('info')[_0x50e7e6(0x180)][_0x50e7e6(0x137)]=_0x19890c[_0x50e7e6(0x170)]-0x1e+'px',square['x']=round(_0x19890c['clientX']+_0x100ac9)*cellSize,square['y']=round(_0x19890c['clientY']+_0xb13343)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x532534(0x172)]('mousemove',function(_0x4e15d2){var _0x50469b=_0x532534,_0x4fdb51=window[_0x50469b(0x173)]-canvas['offsetLeft'],_0x2bdd0f=window['pageYOffset']-canvas['offsetTop'];mouseDown&&(id('info')[_0x50469b(0x180)][_0x50469b(0x144)]=_0x50469b(0x1a1),id(_0x50469b(0x16e))[_0x50469b(0x180)][_0x50469b(0x13f)]=_0x4e15d2[_0x50469b(0x186)]+0x1e+'px',id(_0x50469b(0x16e))[_0x50469b(0x180)][_0x50469b(0x137)]=_0x4e15d2[_0x50469b(0x170)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x4e15d2['clientX']+_0x4fdb51-square['x'])*cellSize,square['h']=round(_0x4e15d2[_0x50469b(0x170)]+_0x2bdd0f-square['y'])*cellSize);}),canvas[_0x532534(0x172)](_0x532534(0x198),function(_0x7f2017){var _0x8e1c6d=_0x532534;id(_0x8e1c6d(0x16e))['style']['display']=_0x8e1c6d(0x1ba),mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x7f2017['which']===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x42fc84=prompt(_0x8e1c6d(0x1a4),'');hitBoxes[hitBoxes[_0x8e1c6d(0x19d)]-0x1][_0x8e1c6d(0x17d)]=_0x42fc84;}}else{if(hitBoxToggle==0x0){map['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x42fc84=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');map[map[_0x8e1c6d(0x19d)]-0x1][_0x8e1c6d(0x17d)]=_0x42fc84;}}else{if(hitBoxToggle==0x2){var _0x79577b=parseInt(prompt(_0x8e1c6d(0x156),''));camBoxes[_0x8e1c6d(0x1b8)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x79577b});}}}}}),id(_0x532534(0x122))['addEventListener']('change',zoomChange),id(_0x532534(0x13b))['addEventListener']('click',deleteLevel);function deleteLevel(){var _0x4008b0=_0x532534;madeChanges=!![];if(levels[_0x4008b0(0x19d)]==0x1){clearMap();return;}removeButton(),levels[_0x4008b0(0x1a9)](currentLevel,0x1),clearMap(),currentLevel=levels[_0x4008b0(0x19d)]-0x1,safeEval(JSON[_0x4008b0(0x169)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x2381ea=_0x532534;let _0x2bf928={'number':0x0},_0x153635=document[_0x2381ea(0x19e)](_0x2381ea(0x133));for(let _0x236a66=0x0;_0x236a66<_0x153635['length'];_0x236a66++){_0x153635[_0x236a66]['number']>=_0x2bf928['number']&&(_0x2bf928=_0x153635[_0x236a66]);}_0x2bf928[_0x2381ea(0x1ab)][_0x2381ea(0x12f)](_0x2bf928);}function zoomChange(){var _0x1a83fd=_0x532534;cellSize=parseInt(id(_0x1a83fd(0x122))[_0x1a83fd(0x160)]),changeMapSize();}function changeMapSize(){var _0x205aaf=_0x532534;canvas['width']=cellQuantityW*cellSize,canvas[_0x205aaf(0x125)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x4f604d){var _0x2bcb1e=parseInt(_0x4f604d),_0x85de7b=_0x2bcb1e%cellSize;if(_0x85de7b!==0x0){if(_0x85de7b>cellSize/0x2)_0x2bcb1e=_0x2bcb1e-_0x85de7b+cellSize;else _0x2bcb1e=_0x2bcb1e-_0x85de7b;}return _0x2bcb1e/cellSize>0x0&&_0x2bcb1e/cellSize<0x1?0x0:_0x2bcb1e/cellSize;}function enableBeforeUnload(){var _0x4e9621=_0x532534;window[_0x4e9621(0x138)]=function(_0x5722af){var _0x320200=_0x4e9621;if(madeChanges)return _0x320200(0x194);};}function disableBeforeUnload(){window['onbeforeunload']=null;}enableBeforeUnload(),document[_0x532534(0x172)](_0x532534(0x1ae),function(_0x31127d){var _0x237c45=_0x532534;madeChanges=!![];var _0x5d3cd9=window[_0x237c45(0x173)]-canvas[_0x237c45(0x150)],_0x1bfdc8=window['pageYOffset']-canvas['offsetTop'];_0x31127d[_0x237c45(0x163)]();var _0x404cb8=_0x31127d[_0x237c45(0x186)]+_0x5d3cd9,_0x6b9076=_0x31127d['clientY']+_0x1bfdc8;removeElements(map,_0x404cb8,_0x6b9076),removeElements(hitBoxes,_0x404cb8,_0x6b9076),removeElements(camBoxes,_0x404cb8,_0x6b9076);});function removeElements(_0x4fc00e,_0x516e6e,_0xd580d6){var _0x1d2560=_0x532534,_0x56be39=[];for(let _0x10749d=0x0;_0x10749d<_0x4fc00e[_0x1d2560(0x19d)];_0x10749d++){_0x516e6e>_0x4fc00e[_0x10749d]['x']*cellSize&&_0x516e6e<_0x4fc00e[_0x10749d]['x']*cellSize+_0x4fc00e[_0x10749d]['w']*cellSize&&(_0xd580d6>_0x4fc00e[_0x10749d]['y']*cellSize&&_0xd580d6<_0x4fc00e[_0x10749d]['y']*cellSize+_0x4fc00e[_0x10749d]['h']*cellSize&&_0x56be39[_0x1d2560(0x1b8)](_0x10749d));}_0x56be39[_0x1d2560(0x154)](function(_0x420d9b,_0x4f3f48){return _0x4f3f48-_0x420d9b;});for(let _0x568d69=0x0;_0x568d69<_0x56be39[_0x1d2560(0x19d)];_0x568d69++){_0x4fc00e['splice'](_0x56be39[_0x568d69],0x1);}}function download(_0x43fed6,_0x1f1bf1){var _0x4697f4=_0x532534;madeChanges=![];var _0xe43d79=new Blob([_0x1f1bf1],{'type':_0x4697f4(0x15b)});if(window['navigator'][_0x4697f4(0x1b7)])window[_0x4697f4(0x1aa)][_0x4697f4(0x171)](_0xe43d79,_0x43fed6);else{var _0xf0ec95=window[_0x4697f4(0x15d)][_0x4697f4(0x183)]('a');_0xf0ec95['href']=window[_0x4697f4(0x16a)][_0x4697f4(0x146)](_0xe43d79),_0xf0ec95[_0x4697f4(0x15e)]=_0x43fed6,document['body'][_0x4697f4(0x178)](_0xf0ec95),_0xf0ec95[_0x4697f4(0x13a)](),document['body']['removeChild'](_0xf0ec95);}}window[_0x532534(0x172)](_0x532534(0x12c),function(_0x3e0c4e){var _0x493fc3=_0x532534,_0x25afe1=_0x3e0c4e[_0x493fc3(0x188)];switch(_0x25afe1){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera['zoomIn']=!![];break;case 0x51:camera[_0x493fc3(0x147)]=!![];break;}}),window[_0x532534(0x172)]('keyup',function(_0x44b957){var _0x4aa125=_0x44b957['keyCode'];switch(_0x4aa125){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera['zoomIn']=![];break;case 0x51:camera['zoomOut']=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x6da303,_0x193b9f){var _0x4a84ab=_0x532534;_0x6da303[_0x4a84ab(0x1bd)]==![]&&(typeof _0x193b9f==_0x4a84ab(0x1ad)&&_0x193b9f(undefined));;var _0x17ffa1=_0x6da303['clipboardData']['items'];_0x17ffa1==undefined&&(typeof _0x193b9f==_0x4a84ab(0x1ad)&&_0x193b9f(undefined));;for(var _0x1b4dc2=0x0;_0x1b4dc2<_0x17ffa1[_0x4a84ab(0x19d)];_0x1b4dc2++){if(_0x17ffa1[_0x1b4dc2][_0x4a84ab(0x13e)]['indexOf'](_0x4a84ab(0x13c))==-0x1)continue;var _0x340930=_0x17ffa1[_0x1b4dc2]['getAsFile']();typeof _0x193b9f=='function'&&_0x193b9f(_0x340930);}}window[_0x532534(0x172)](_0x532534(0x189),function(_0x245d68){retrieveImageFromClipboardAsBlob(_0x245d68,function(_0x1c87aa){var _0x198f98=_0x334a;if(_0x1c87aa){var _0x3c4e22=new Image();_0x3c4e22[_0x198f98(0x134)]=function(){var _0x58976e=_0x198f98;pastedImage=_0x3c4e22,id(_0x58976e(0x162))['value']=pastedImage[_0x58976e(0x16d)]/cellSize,cellQuantityW=pastedImage[_0x58976e(0x16d)]/cellSize,id(_0x58976e(0x181))[_0x58976e(0x160)]=pastedImage[_0x58976e(0x125)]/cellSize,cellQuantityH=pastedImage['height']/cellSize,changeMapSize();};var _0x40f0db=window[_0x198f98(0x16a)]||window['webkitURL'];_0x3c4e22[_0x198f98(0x18d)]=_0x40f0db[_0x198f98(0x146)](_0x1c87aa);}});},![]);