'use strict';var _0x566488=_0x4e3e;(function(_0x322a0b,_0x387a65){var _0x18b324=_0x4e3e,_0x1cd9a3=_0x322a0b();while(!![]){try{var _0x490062=-parseInt(_0x18b324(0x234))/0x1+-parseInt(_0x18b324(0x1ff))/0x2+-parseInt(_0x18b324(0x242))/0x3+parseInt(_0x18b324(0x241))/0x4*(parseInt(_0x18b324(0x1dd))/0x5)+-parseInt(_0x18b324(0x1fe))/0x6+parseInt(_0x18b324(0x1cc))/0x7+parseInt(_0x18b324(0x1f5))/0x8;if(_0x490062===_0x387a65)break;else _0x1cd9a3['push'](_0x1cd9a3['shift']());}catch(_0x1de2e8){_0x1cd9a3['push'](_0x1cd9a3['shift']());}}}(_0x3f5d,0x8a5ad));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x372fe6){return document['getElementById'](_0x372fe6);}var canvas=id('canvas'),sheet=id(_0x566488(0x243)),c=canvas[_0x566488(0x1e4)]('2d');c['imageSmoothingEnabled']=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')['onclick']=function(){addLevel();};function clearMap(){var _0x497ce1=_0x566488;map=[],mapObject[_0x497ce1(0x1c3)]=[],mapObject['camBoxes']=[],mapObject[_0x497ce1(0x215)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x37f39d=_0x566488;let _0x424d00=document['getElementsByClassName'](_0x37f39d(0x202));for(let _0x4f95b0=_0x424d00['length']-0x1;_0x4f95b0>=0x0;_0x4f95b0--){_0x424d00[_0x4f95b0]['parentNode'][_0x37f39d(0x20e)](_0x424d00[_0x4f95b0]);}}id(_0x566488(0x23c))[_0x566488(0x249)]=saveImage;function saveImage(){var _0x4b300e=_0x566488;canvas['toBlob'](_0x159217=>navigator[_0x4b300e(0x203)][_0x4b300e(0x1c7)]([new ClipboardItem({'image/png':_0x159217})]));}function addButton(){var _0x4bcc98=_0x566488,_0x238a92=(function(){var _0x390d80=!![];return function(_0x388e13,_0xaeee38){var _0x4482b4=_0x390d80?function(){if(_0xaeee38){var _0x160453=_0xaeee38['apply'](_0x388e13,arguments);return _0xaeee38=null,_0x160453;}}:function(){};return _0x390d80=![],_0x4482b4;};}()),_0x48c92a=_0x238a92(this,function(){var _0x290588=_0x4e3e,_0x53d671;try{var _0x108372=Function(_0x290588(0x24e)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x53d671=_0x108372();}catch(_0x3649d8){_0x53d671=window;}var _0x138d83=new RegExp('[FQCQWAxkDWvIzwRkRONvLRGPvvXjPmkIPDWEyqGGHyxqCXGpxJfqRKXkKDxUDMyCfATBfp]','g'),_0x25781b=_0x290588(0x1e9)[_0x290588(0x1f2)](_0x138d83,'')['split'](';'),_0x12f8ee,_0x70272e,_0x295083,_0x39e45b,_0x15fa7c=function(_0x5e3cf4,_0x2aa845,_0x18ad05){var _0x469825=_0x290588;if(_0x5e3cf4[_0x469825(0x1d5)]!=_0x2aa845)return![];for(var _0x2b7c7e=0x0;_0x2b7c7e<_0x2aa845;_0x2b7c7e++){for(var _0x4e6f2a=0x0;_0x4e6f2a<_0x18ad05[_0x469825(0x1d5)];_0x4e6f2a+=0x2){if(_0x2b7c7e==_0x18ad05[_0x4e6f2a]&&_0x5e3cf4[_0x469825(0x23a)](_0x2b7c7e)!=_0x18ad05[_0x4e6f2a+0x1])return![];}}return!![];},_0x4f3470=function(_0x3192b6,_0x26a960,_0x12b136){return _0x15fa7c(_0x26a960,_0x12b136,_0x3192b6);},_0x26ec4=function(_0x4fa10b,_0x54e826,_0xdca427){return _0x4f3470(_0x54e826,_0x4fa10b,_0xdca427);},_0x4e9288=function(_0x2ba2ce,_0x27512a,_0x345c3b){return _0x26ec4(_0x27512a,_0x345c3b,_0x2ba2ce);};for(var _0x3c7bcb in _0x53d671){if(_0x15fa7c(_0x3c7bcb,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x12f8ee=_0x3c7bcb;break;}}for(var _0x250f0c in _0x53d671[_0x12f8ee]){if(_0x4e9288(0x6,_0x250f0c,[0x5,0x6e,0x0,0x64])){_0x70272e=_0x250f0c;break;}}for(var _0x5c3abf in _0x53d671[_0x12f8ee]){if(_0x26ec4(_0x5c3abf,[0x7,0x6e,0x0,0x6c],0x8)){_0x295083=_0x5c3abf;break;}}if(!('~'>_0x70272e))for(var _0x48f0eb in _0x53d671[_0x12f8ee][_0x295083]){if(_0x4f3470([0x7,0x65,0x0,0x68],_0x48f0eb,0x8)){_0x39e45b=_0x48f0eb;break;}}if(!_0x12f8ee||!_0x53d671[_0x12f8ee])return;var _0x5d4ffe=_0x53d671[_0x12f8ee][_0x70272e],_0x44338d=!!_0x53d671[_0x12f8ee][_0x295083]&&_0x53d671[_0x12f8ee][_0x295083][_0x39e45b],_0x4913cb=_0x5d4ffe||_0x44338d;if(!_0x4913cb)return;var _0x595562=![];for(var _0x19d4e4=0x0;_0x19d4e4<_0x25781b['length'];_0x19d4e4++){var _0x70272e=_0x25781b[_0x19d4e4],_0x469ca1=_0x70272e[0x0]===String['fromCharCode'](0x2e)?_0x70272e[_0x290588(0x205)](0x1):_0x70272e,_0x50a7f4=_0x4913cb[_0x290588(0x1d5)]-_0x469ca1[_0x290588(0x1d5)],_0x3770b3=_0x4913cb[_0x290588(0x1ef)](_0x469ca1,_0x50a7f4),_0x54d71e=_0x3770b3!==-0x1&&_0x3770b3===_0x50a7f4;_0x54d71e&&((_0x4913cb[_0x290588(0x1d5)]==_0x70272e['length']||_0x70272e[_0x290588(0x1ef)]('.')===0x0)&&(_0x595562=!![]));}if(!_0x595562){var _0x5f2f02=new RegExp(_0x290588(0x1b9),'g'),_0x4d6a7f='NasbyouMt:bNlanHkgqyzEOMCgvghpLFqNgrx'[_0x290588(0x1f2)](_0x5f2f02,'');_0x53d671[_0x12f8ee][_0x295083]=_0x4d6a7f;}});_0x48c92a();var _0x5554f4=document[_0x4bcc98(0x232)](_0x4bcc98(0x21d));_0x5554f4[_0x4bcc98(0x228)]=levels[_0x4bcc98(0x1d5)],_0x5554f4[_0x4bcc98(0x214)]=levels[_0x4bcc98(0x1d5)],_0x5554f4['className']+='\x20levels',_0x5554f4[_0x4bcc98(0x1b8)]=function(_0x49dfb8){var _0x33b487=_0x4bcc98;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0x33b487(0x228)],safeEval(JSON['parse'](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0x4bcc98(0x1e8))[_0x4bcc98(0x1b7)](_0x5554f4),highlightCurrentLevel();}function addLevel(){var _0x571751=_0x566488;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels['splice'](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0x571751(0x1cf)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x566488(0x1eb))['value'],cellQuantityH=id('mapSizeH')[_0x566488(0x1c4)],cellSize=0x10,fileName='mapCode',interactiveTile=0x0;canvas[_0x566488(0x1ea)]=cellQuantityW*cellSize,canvas[_0x566488(0x1f1)]=cellQuantityH*cellSize,id(_0x566488(0x221))['onclick']=function(){var _0x3b6228=_0x566488;cellQuantityW=id(_0x3b6228(0x1eb))[_0x3b6228(0x1c4)],changeMapSize();},id('mapSizeBtnH')[_0x566488(0x249)]=function(){var _0x51ca60=_0x566488;cellQuantityH=id(_0x51ca60(0x1d3))[_0x51ca60(0x1c4)],changeMapSize();},window[_0x566488(0x1f7)]=function(){var _0x23b16a=_0x566488;for(let _0x4120f4=0x0;_0x4120f4<tiles['length'];_0x4120f4++){var _0x2e933c=document[_0x23b16a(0x232)](_0x23b16a(0x247));_0x2e933c['id']='canvas'+_0x4120f4,_0x2e933c['width']=0x20,_0x2e933c[_0x23b16a(0x1f1)]=0x20,_0x2e933c['number']=_0x4120f4,_0x2e933c[_0x23b16a(0x1e4)]('2d')['imageSmoothingEnabled']=![];_0x4120f4===0x0&&(_0x2e933c['className']+=_0x23b16a(0x1cb));_0x2e933c[_0x23b16a(0x204)]+=_0x23b16a(0x1c8),_0x2e933c[_0x23b16a(0x1e4)]('2d')['drawImage'](sheet,tiles[_0x4120f4][0x0]*0x10,tiles[_0x4120f4][0x1]*0x10,0x10,0x10,0x0,0x0,_0x2e933c[_0x23b16a(0x1ea)],_0x2e933c[_0x23b16a(0x1f1)]);var _0x2dc603=document[_0x23b16a(0x226)]('body')[0x0];id('cont2')[_0x23b16a(0x1b7)](_0x2e933c),id('canvas'+_0x4120f4)['onclick']=function(){var _0x1b4948=_0x23b16a;selectedType=this[_0x1b4948(0x228)];for(let _0x4535ff=0x0;_0x4535ff<tiles[_0x1b4948(0x1d5)];_0x4535ff++){id('canvas'+_0x4535ff)[_0x1b4948(0x1c9)][_0x1b4948(0x237)](_0x1b4948(0x1b6));}this[_0x1b4948(0x204)]+='\x20selected';};}loop();},id(_0x566488(0x1d8))[_0x566488(0x249)]=function(){var _0x2ec48a=_0x566488;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0xd187ec=0x0;_0xd187ec<levels[_0x2ec48a(0x1d5)];_0xd187ec++){levelsArray[_0x2ec48a(0x1f0)](JSON[_0x2ec48a(0x1cf)](levels[_0xd187ec]));}var _0x20b6e1=window[_0x2ec48a(0x1f4)](_0x2ec48a(0x22c));},id(_0x566488(0x1e7))['onclick']=function(){var _0xee23ea=_0x566488;interactiveTile?(interactiveTile=0x0,id(_0xee23ea(0x1e7))[_0xee23ea(0x213)][_0xee23ea(0x20d)]='white',id('interactive')[_0xee23ea(0x213)][_0xee23ea(0x225)]='black'):(interactiveTile=0x1,id(_0xee23ea(0x1e7))['style']['backgroundColor']='black',id(_0xee23ea(0x1e7))[_0xee23ea(0x213)][_0xee23ea(0x225)]='white');};var hitBoxToggle=![];id(_0x566488(0x1d9))[_0x566488(0x249)]=function(){var _0x31230e=_0x566488;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x31230e(0x1d9))[_0x31230e(0x214)]='drawing:\x20displayed';else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x31230e(0x1d9))[_0x31230e(0x214)]=_0x31230e(0x24f);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x31230e(0x1d9))[_0x31230e(0x214)]=_0x31230e(0x1fb));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x2ca8ac=_0x566488;c[_0x2ca8ac(0x1c5)](0x0,0x0,canvas[_0x2ca8ac(0x1ea)],canvas[_0x2ca8ac(0x1f1)]),pastedImage&&c['drawImage'](pastedImage,0x0,0x0,pastedImage[_0x2ca8ac(0x1ea)],pastedImage[_0x2ca8ac(0x1f1)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x22c986=_0x566488;if(hitBoxToggle==0x1)c[_0x22c986(0x1fc)]=_0x22c986(0x1e1);else c[_0x22c986(0x1fc)]=_0x22c986(0x22e);c[_0x22c986(0x206)](),c[_0x22c986(0x1c6)](square['x'],square['y'],square['w'],square['h']),c[_0x22c986(0x22d)](),c['stroke']();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x566488(0x207))),dragElement(id(_0x566488(0x209))),dragElement(id(_0x566488(0x1e8)));function dragElement(_0x3a8192){var _0x457ad1=_0x566488,_0x52481c=0x0,_0x49251c=0x0,_0x3edab1=0x0,_0x1ede8c=0x0;_0x3a8192[_0x457ad1(0x1b8)]=_0x93d434;function _0x93d434(_0x465308){var _0x466889=_0x457ad1;_0x465308=_0x465308||window['event'],_0x3edab1=_0x465308[_0x466889(0x1bf)],_0x1ede8c=_0x465308['clientY'],document['onmouseup']=_0x457e59,document[_0x466889(0x251)]=_0x21dd79;}function _0x21dd79(_0x45eeb8){var _0x45ef3a=_0x457ad1;_0x45eeb8=_0x45eeb8||window[_0x45ef3a(0x235)],_0x45eeb8[_0x45ef3a(0x1e6)](),_0x52481c=_0x3edab1-_0x45eeb8[_0x45ef3a(0x1bf)],_0x49251c=_0x1ede8c-_0x45eeb8[_0x45ef3a(0x22b)],_0x3edab1=_0x45eeb8['clientX'],_0x1ede8c=_0x45eeb8[_0x45ef3a(0x22b)],_0x3a8192[_0x45ef3a(0x213)][_0x45ef3a(0x1e3)]=_0x3a8192[_0x45ef3a(0x24a)]-_0x49251c+'px',_0x3a8192[_0x45ef3a(0x213)][_0x45ef3a(0x1be)]=_0x3a8192[_0x45ef3a(0x240)]-_0x52481c+'px';}function _0x457e59(){var _0x4d140e=_0x457ad1;document[_0x4d140e(0x20f)]=null,document['onmousemove']=null;}}var mapCode='';id('exportMap')['onclick']=function(){var _0x532b66=_0x566488;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x2cbe20=0x0;_0x2cbe20<levels[_0x532b66(0x1d5)];_0x2cbe20++){levelsArray[_0x532b66(0x1f0)](JSON[_0x532b66(0x1cf)](levels[_0x2cbe20]));}id(_0x532b66(0x227))['style'][_0x532b66(0x248)]=_0x532b66(0x1ce),id(_0x532b66(0x1fd))[_0x532b66(0x214)]=JSON[_0x532b66(0x230)](levelsArray);};function newMapExport(){var _0x547efe=_0x566488;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x547efe(0x230)](mapObject);};id(_0x566488(0x220))['onclick']=function(){var _0x2586d7=_0x566488;id(_0x2586d7(0x227))[_0x2586d7(0x213)][_0x2586d7(0x248)]=_0x2586d7(0x1dc);},id(_0x566488(0x24c))[_0x566488(0x249)]=function(){download('map.json',JSON['stringify'](levelsArray));},id(_0x566488(0x1db))['onchange']=function(){var _0x276682=_0x566488;console[_0x276682(0x1d6)](_0x276682(0x250));let _0x52f8ff=id(_0x276682(0x1db))[_0x276682(0x1c0)][0x0];fileName=id(_0x276682(0x1db))['files'][0x0]['name'][_0x276682(0x1c1)]('.')[0x0];let _0x146539=new FileReader();_0x146539[_0x276682(0x1f7)]=function(_0x3e4527){var _0x101a3d=_0x276682;let _0x4f453e=_0x146539[_0x101a3d(0x224)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x101a3d(0x1cf)](_0x4f453e);for(let _0x16470d=0x0;_0x16470d<levelsArray[_0x101a3d(0x1d5)];_0x16470d++){addButton(),levels[_0x16470d]=JSON[_0x101a3d(0x230)](levelsArray[_0x16470d]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x146539['readAsText'](_0x52f8ff);};function safeEval(_0x55d1bc){var _0x179e94=_0x566488;typeof _0x55d1bc==='object'&&_0x55d1bc!==null&&(map=_0x55d1bc[_0x179e94(0x1c3)],spawnPoint=_0x55d1bc[_0x179e94(0x215)],camBoxes=_0x55d1bc[_0x179e94(0x21e)]);}var baseWidth=id('mapSizeW')[_0x566488(0x1c4)],baseHeight=id(_0x566488(0x1d3))['value'];function resizeMap(){var _0x14011f=_0x566488;let _0x4ca746=0x0,_0x2b028b=0x0;for(let _0x45c7ec=0x0;_0x45c7ec<map[_0x14011f(0x1d5)];_0x45c7ec++){map[_0x45c7ec]['x']+map[_0x45c7ec]['w']>_0x4ca746&&(_0x4ca746=map[_0x45c7ec]['x']+map[_0x45c7ec]['w']),map[_0x45c7ec]['y']+map[_0x45c7ec]['h']>_0x2b028b&&(_0x2b028b=map[_0x45c7ec]['y']+map[_0x45c7ec]['h']);}_0x2b028b<baseHeight&&(_0x2b028b=baseHeight),_0x4ca746<baseWidth&&(_0x4ca746=baseWidth),cellQuantityW=_0x4ca746,id(_0x14011f(0x1eb))[_0x14011f(0x1c4)]=_0x4ca746,cellQuantityH=_0x2b028b,id(_0x14011f(0x1d3))['value']=_0x2b028b,changeMapSize();}function highlightCurrentLevel(){var _0x11fcd4=_0x566488;let _0x4f6471=document['getElementsByClassName']('levels');for(let _0x535e6b=0x0;_0x535e6b<_0x4f6471[_0x11fcd4(0x1d5)];_0x535e6b++){if(_0x4f6471[_0x535e6b][_0x11fcd4(0x228)]==currentLevel)!_0x4f6471[_0x535e6b][_0x11fcd4(0x1c9)][_0x11fcd4(0x1f6)](_0x11fcd4(0x1b6))&&_0x4f6471[_0x535e6b]['classList']['add']('selected');else _0x4f6471[_0x535e6b][_0x11fcd4(0x1c9)]['contains']('selected')&&_0x4f6471[_0x535e6b][_0x11fcd4(0x1c9)]['remove'](_0x11fcd4(0x1b6));}}function cameraMove(){var _0x3a88a6=_0x566488;camera['L']&&(sX-=camera[_0x3a88a6(0x1e5)]);camera['R']&&(sX+=camera['speed']);camera['T']&&(sY-=camera[_0x3a88a6(0x1e5)]);camera['B']&&(sY+=camera[_0x3a88a6(0x1e5)]);sX<0x0&&(sX=0x0);sX>canvas[_0x3a88a6(0x1ea)]-window['innerWidth']&&(sX=canvas['width']-window[_0x3a88a6(0x1bd)]);sY<0x0&&(sY=0x0);sY>canvas['height']-window['innerHeight']&&(sY=canvas[_0x3a88a6(0x1f1)]-window[_0x3a88a6(0x201)]);if(camera[_0x3a88a6(0x1da)])id(_0x3a88a6(0x1ba))[_0x3a88a6(0x1c4)]--,zoomChange();else camera[_0x3a88a6(0x1d0)]&&(id(_0x3a88a6(0x1ba))[_0x3a88a6(0x1c4)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0xb08f7b=_0x566488;(camera['L']||camera['R']||camera['T']||camera['B']||camera['zoomIn']||camera['zoomOut'])&&cameraMove();c['globalAlpha']=0x1;for(let _0x364ca4=0x0;_0x364ca4<map['length'];_0x364ca4++){if(map[_0x364ca4][_0xb08f7b(0x1d2)]>0x33)for(let _0x2c2b79=0x0;_0x2c2b79<map[_0x364ca4]['h'];_0x2c2b79++){for(let _0xf3915a=0x0;_0xf3915a<map[_0x364ca4]['w'];_0xf3915a++){c[_0xb08f7b(0x1bb)](id('sheet'),tiles[map[_0x364ca4][_0xb08f7b(0x1d2)]][0x0]*0x10,tiles[map[_0x364ca4][_0xb08f7b(0x1d2)]][0x1]*0x10,0x10,0x10,(map[_0x364ca4]['x']+_0xf3915a)*cellSize,(map[_0x364ca4]['y']+_0x2c2b79)*cellSize,cellSize,cellSize);}}}for(let _0x3a869f=0x0;_0x3a869f<map[_0xb08f7b(0x1d5)];_0x3a869f++){if(map[_0x3a869f][_0xb08f7b(0x1d2)]<=0x33)for(let _0x121707=0x0;_0x121707<map[_0x3a869f]['h'];_0x121707++){for(let _0xe4f653=0x0;_0xe4f653<map[_0x3a869f]['w'];_0xe4f653++){c[_0xb08f7b(0x1bb)](id(_0xb08f7b(0x243)),tiles[map[_0x3a869f][_0xb08f7b(0x1d2)]][0x0]*0x10,tiles[map[_0x3a869f][_0xb08f7b(0x1d2)]][0x1]*0x10,0x10,0x10,(map[_0x3a869f]['x']+_0xe4f653)*cellSize,(map[_0x3a869f]['y']+_0x121707)*cellSize,cellSize,cellSize);}}}for(let _0x1e7709=0x0;_0x1e7709<hitBoxes[_0xb08f7b(0x1d5)];_0x1e7709++){c[_0xb08f7b(0x1ed)]=_0xb08f7b(0x211),c['fillRect'](hitBoxes[_0x1e7709]['x']*cellSize,hitBoxes[_0x1e7709]['y']*cellSize,hitBoxes[_0x1e7709]['w']*cellSize,hitBoxes[_0x1e7709]['h']*cellSize);}c['globalAlpha']=0x1;for(let _0x1a8cfd=0x0;_0x1a8cfd<camBoxes[_0xb08f7b(0x1d5)];_0x1a8cfd++){c[_0xb08f7b(0x1fc)]='#002200',c[_0xb08f7b(0x206)](),c[_0xb08f7b(0x1c6)](camBoxes[_0x1a8cfd]['x']*cellSize,camBoxes[_0x1a8cfd]['y']*cellSize,camBoxes[_0x1a8cfd]['w']*cellSize,camBoxes[_0x1a8cfd]['h']*cellSize),c[_0xb08f7b(0x22d)](),c['stroke']();}c[_0xb08f7b(0x1ed)]=_0xb08f7b(0x208),c[_0xb08f7b(0x23d)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x1af0b1=_0x566488;c[_0x1af0b1(0x1e0)]=0.1,c[_0x1af0b1(0x1fc)]='#ffffff';for(let _0x2c605c=0x0;_0x2c605c<canvas[_0x1af0b1(0x1ea)];_0x2c605c+=cellSize){c[_0x1af0b1(0x206)](),c[_0x1af0b1(0x222)](_0x2c605c,0x0),c[_0x1af0b1(0x223)](_0x2c605c,canvas['height']),c['closePath'](),c[_0x1af0b1(0x217)]();}for(let _0x1a33ba=0x0;_0x1a33ba<canvas['height'];_0x1a33ba+=cellSize){c[_0x1af0b1(0x206)](),c[_0x1af0b1(0x222)](0x0,_0x1a33ba),c['lineTo'](canvas[_0x1af0b1(0x1ea)],_0x1a33ba),c[_0x1af0b1(0x22d)](),c['stroke']();}c[_0x1af0b1(0x1e0)]=0x1;}var definingSpawnpoint=![];id(_0x566488(0x1e2))['onclick']=function(){var _0x36a8f1=_0x566488;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x36a8f1(0x1e2))[_0x36a8f1(0x213)]['color']=_0x36a8f1(0x211),id(_0x36a8f1(0x247))[_0x36a8f1(0x213)]['cursor']='crosshair',canvas['onclick']=null;return;}definingSpawnpoint=!![],id(_0x36a8f1(0x1e2))[_0x36a8f1(0x213)][_0x36a8f1(0x225)]=_0x36a8f1(0x245),id(_0x36a8f1(0x247))[_0x36a8f1(0x213)]['cursor']='pointer',canvas[_0x36a8f1(0x249)]=()=>{var _0x2012e5=_0x36a8f1;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x2012e5(0x1e2))[_0x2012e5(0x213)]['color']=_0x2012e5(0x211),id(_0x2012e5(0x247))[_0x2012e5(0x213)][_0x2012e5(0x24b)]=_0x2012e5(0x21b),canvas[_0x2012e5(0x249)]=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id(_0x566488(0x239))[_0x566488(0x249)]=function(){var _0x172780=_0x566488;if(movingMap){movingMap=![],id(_0x172780(0x239))['style']['color']='#000000',id(_0x172780(0x247))[_0x172780(0x213)][_0x172780(0x24b)]=_0x172780(0x21b);return;}movingMap=!![],id(_0x172780(0x239))[_0x172780(0x213)][_0x172780(0x225)]=_0x172780(0x245),id(_0x172780(0x247))[_0x172780(0x213)][_0x172780(0x24b)]=_0x172780(0x20c),canvas[_0x172780(0x1f9)](_0x172780(0x252),function(){var _0x3c70a8=_0x172780;if(!movingMap||!mouseDown)return;let _0x59f7bf=square['w']/cellSize-movingVariables[_0x3c70a8(0x210)],_0x55500b=square['h']/cellSize-movingVariables[_0x3c70a8(0x22a)];(_0x59f7bf!==0x0||_0x55500b!==0x0)&&(moveEverything(_0x59f7bf,_0x55500b),movingVariables[_0x3c70a8(0x210)]+=_0x59f7bf,movingVariables[_0x3c70a8(0x22a)]+=_0x55500b);}),canvas[_0x172780(0x1f9)]('mouseup',function(){if(!movingMap)return;movingVariables['xRDiff']=0x0,movingVariables['yRDiff']=0x0;});};function moveEverything(_0x2ccc14,_0x51dc19){var _0x4ecea9=_0x566488;if(_0x2ccc14==0x0&&_0x51dc19==0x0)return;for(let _0x3f2c49=0x0;_0x3f2c49<map['length'];_0x3f2c49++){map[_0x3f2c49]['x']+=_0x2ccc14,map[_0x3f2c49]['y']+=_0x51dc19;}for(let _0x1141d5=0x0;_0x1141d5<hitBoxes[_0x4ecea9(0x1d5)];_0x1141d5++){hitBoxes[_0x1141d5]['x']+=_0x2ccc14,hitBoxes[_0x1141d5]['y']+=_0x51dc19;}for(let _0x19a579=0x0;_0x19a579<camBoxes[_0x4ecea9(0x1d5)];_0x19a579++){camBoxes[_0x19a579]['x']+=_0x2ccc14,camBoxes[_0x19a579]['y']+=_0x51dc19;}spawnPoint['x']+=_0x2ccc14,spawnPoint['y']+=_0x51dc19;}function infoText(){var _0x499c6c=_0x566488,_0x26d7f0=square['x']/cellSize,_0x1466aa=square['y']/cellSize;_0x26d7f0>-0x1&&_0x26d7f0<0x1&&(_0x26d7f0=0x0),_0x1466aa>-0x1&&_0x1466aa<0x1&&(_0x1466aa=0x0),id(_0x499c6c(0x20a))[_0x499c6c(0x214)]='x:\x20'+_0x26d7f0+_0x499c6c(0x1ca)+_0x1466aa+'<br>\x20w:\x20'+square['w']/cellSize+_0x499c6c(0x246)+square['h']/cellSize;}var mouseDown=![];canvas['addEventListener'](_0x566488(0x236),function(_0x3d9999){var _0x4eb7d5=_0x566488;mouseDown=!![];var _0x494ee9=window[_0x4eb7d5(0x1fa)]-canvas['offsetLeft'],_0xea052c=window[_0x4eb7d5(0x238)]-canvas[_0x4eb7d5(0x24a)];id(_0x4eb7d5(0x20a))['style'][_0x4eb7d5(0x248)]='block',id('info')[_0x4eb7d5(0x213)][_0x4eb7d5(0x1be)]=_0x3d9999['clientX']+0x1e+'px',id(_0x4eb7d5(0x20a))[_0x4eb7d5(0x213)][_0x4eb7d5(0x1e3)]=_0x3d9999[_0x4eb7d5(0x22b)]-0x1e+'px',square['x']=round(_0x3d9999['clientX']+_0x494ee9)*cellSize,square['y']=round(_0x3d9999['clientY']+_0xea052c)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x566488(0x1f9)](_0x566488(0x252),function(_0x362ec6){var _0x1189cf=_0x566488,_0x5680bd=window['pageXOffset']-canvas[_0x1189cf(0x240)],_0x48d1de=window[_0x1189cf(0x238)]-canvas['offsetTop'];mouseDown&&(id(_0x1189cf(0x20a))[_0x1189cf(0x213)][_0x1189cf(0x248)]=_0x1189cf(0x1ce),id(_0x1189cf(0x20a))[_0x1189cf(0x213)][_0x1189cf(0x1be)]=_0x362ec6[_0x1189cf(0x1bf)]+0x1e+'px',id(_0x1189cf(0x20a))[_0x1189cf(0x213)][_0x1189cf(0x1e3)]=_0x362ec6[_0x1189cf(0x22b)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x362ec6['clientX']+_0x5680bd-square['x'])*cellSize,square['h']=round(_0x362ec6['clientY']+_0x48d1de-square['y'])*cellSize);}),canvas['addEventListener'](_0x566488(0x21a),function(_0x5876a3){var _0x5b52dd=_0x566488;id(_0x5b52dd(0x20a))[_0x5b52dd(0x213)]['display']='none',mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x5876a3['which']===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x5b52dd(0x1f0)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x56cdfe=prompt(_0x5b52dd(0x1d1),'');hitBoxes[hitBoxes[_0x5b52dd(0x1d5)]-0x1]['text']=_0x56cdfe;}}else{if(hitBoxToggle==0x0){map[_0x5b52dd(0x1f0)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x56cdfe=prompt(_0x5b52dd(0x1d1),'');map[map[_0x5b52dd(0x1d5)]-0x1][_0x5b52dd(0x219)]=_0x56cdfe;}}else{if(hitBoxToggle==0x2){var _0x135b20=parseInt(prompt(_0x5b52dd(0x212),''));camBoxes[_0x5b52dd(0x1f0)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x135b20});}}}}}),id('zoomer')['addEventListener'](_0x566488(0x21f),zoomChange),id(_0x566488(0x24d))['addEventListener'](_0x566488(0x1d7),deleteLevel);function deleteLevel(){var _0x52f09d=_0x566488;madeChanges=!![];if(levels[_0x52f09d(0x1d5)]==0x1){clearMap();return;}removeButton(),levels[_0x52f09d(0x1ec)](currentLevel,0x1),clearMap(),currentLevel=levels['length']-0x1,safeEval(JSON[_0x52f09d(0x1cf)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x5efc3c=_0x566488;let _0x6b6810={'number':0x0},_0x4b093e=document[_0x5efc3c(0x1cd)](_0x5efc3c(0x202));for(let _0x3a10a8=0x0;_0x3a10a8<_0x4b093e[_0x5efc3c(0x1d5)];_0x3a10a8++){_0x4b093e[_0x3a10a8][_0x5efc3c(0x228)]>=_0x6b6810[_0x5efc3c(0x228)]&&(_0x6b6810=_0x4b093e[_0x3a10a8]);}_0x6b6810[_0x5efc3c(0x1f3)][_0x5efc3c(0x20e)](_0x6b6810);}function _0x3f5d(){var _0x581c89=['getElementsByClassName','block','parse','zoomIn','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','type','mapSizeH','createObjectURL','length','log','click','test','toggle','zoomOut','file','none','5xItoxU','contextmenu','keyCode','lineWidth','#ff0000','spawn','top','getContext','speed','preventDefault','interactive','cont3','FsaaQntoCnaQWndAxkreDW.givItzwRhub.kRioO;NvLRGlPvvoXcjPalhmosktIPDWEyqGGHyxqCXGpxJfqRKXkKDxUDMyCfATBfp','width','mapSizeW','splice','fillStyle','clipboardData','indexOf','push','height','replace','parentNode','open','16648808apRkUU','contains','onload','paste','addEventListener','pageXOffset','drawing:\x20camera','strokeStyle','exportText','2494308cxttHe','795966ikjqji','text/csv','innerHeight','levels','clipboard','className','slice','beginPath','cont','#5b6ee1','cont2','info','onbeforeunload','all-scroll','backgroundColor','removeChild','onmouseup','xRDiff','#000000','type\x20of\x20camera','style','innerHTML','spawnPoint','href','stroke','src','text','mouseup','crosshair','download','button','camBoxes','change','closeBtn','mapSizeBtnW','moveTo','lineTo','result','color','getElementsByTagName','exportBox','number','Discard\x20changes?','yRDiff','clientY','MapTester/index.html','closePath','#ffffff','URL','stringify','function','createElement','sort','370930IbOgKf','event','mousedown','remove','pageYOffset','moveMap','charCodeAt','body','saveButton','fillRect','getAsFile','keydown','offsetLeft','892852HbGOnM','3124779IkugpW','sheet','navigator','#0000cc',',\x20h:\x20','canvas','display','onclick','offsetTop','cursor','downloadBtn','deleteLvl','return\x20(function()\x20','drawing:\x20hitboxes','importing...','onmousemove','mousemove','selected','appendChild','onmousedown','[NsyMNHgqyzEOMCgvghpLFqNgrx]','zoomer','drawImage','webkitURL','innerWidth','left','clientX','files','split','items','map','value','clearRect','rect','write','\x20tile','classList',',\x20y:\x20','\x20selected','3420277bvkRUY'];_0x3f5d=function(){return _0x581c89;};return _0x3f5d();}function zoomChange(){var _0x3a4613=_0x566488;cellSize=parseInt(id(_0x3a4613(0x1ba))[_0x3a4613(0x1c4)]),changeMapSize();}function changeMapSize(){var _0x4607b6=_0x566488;canvas['width']=cellQuantityW*cellSize,canvas[_0x4607b6(0x1f1)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function _0x4e3e(_0xb8f517,_0x417ff3){var _0x589247=_0x3f5d();return _0x4e3e=function(_0x33456d,_0x3a9ced){_0x33456d=_0x33456d-0x1b6;var _0x3900eb=_0x589247[_0x33456d];return _0x3900eb;},_0x4e3e(_0xb8f517,_0x417ff3);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x46dd07){var _0x400fd0=parseInt(_0x46dd07),_0x14c522=_0x400fd0%cellSize;if(_0x14c522!==0x0){if(_0x14c522>cellSize/0x2)_0x400fd0=_0x400fd0-_0x14c522+cellSize;else _0x400fd0=_0x400fd0-_0x14c522;}return _0x400fd0/cellSize>0x0&&_0x400fd0/cellSize<0x1?0x0:_0x400fd0/cellSize;}function enableBeforeUnload(){var _0x470600=_0x566488;window[_0x470600(0x20b)]=function(_0x1bf350){var _0x3790e3=_0x470600;if(madeChanges)return _0x3790e3(0x229);};}function disableBeforeUnload(){window['onbeforeunload']=null;}enableBeforeUnload(),document[_0x566488(0x1f9)](_0x566488(0x1de),function(_0x4fc38d){var _0x19f4f2=_0x566488;madeChanges=!![];var _0x80ab2c=window[_0x19f4f2(0x1fa)]-canvas[_0x19f4f2(0x240)],_0x4d0b8b=window['pageYOffset']-canvas[_0x19f4f2(0x24a)];_0x4fc38d['preventDefault']();var _0x22c730=_0x4fc38d[_0x19f4f2(0x1bf)]+_0x80ab2c,_0x42d07b=_0x4fc38d[_0x19f4f2(0x22b)]+_0x4d0b8b;removeElements(map,_0x22c730,_0x42d07b),removeElements(hitBoxes,_0x22c730,_0x42d07b),removeElements(camBoxes,_0x22c730,_0x42d07b);});function removeElements(_0x3c0c3c,_0x1ef7a8,_0x210be8){var _0x44fd21=_0x566488,_0x3c6dd7=[];for(let _0x4c5e45=0x0;_0x4c5e45<_0x3c0c3c[_0x44fd21(0x1d5)];_0x4c5e45++){_0x1ef7a8>_0x3c0c3c[_0x4c5e45]['x']*cellSize&&_0x1ef7a8<_0x3c0c3c[_0x4c5e45]['x']*cellSize+_0x3c0c3c[_0x4c5e45]['w']*cellSize&&(_0x210be8>_0x3c0c3c[_0x4c5e45]['y']*cellSize&&_0x210be8<_0x3c0c3c[_0x4c5e45]['y']*cellSize+_0x3c0c3c[_0x4c5e45]['h']*cellSize&&_0x3c6dd7[_0x44fd21(0x1f0)](_0x4c5e45));}_0x3c6dd7[_0x44fd21(0x233)](function(_0x214106,_0xb8b2a9){return _0xb8b2a9-_0x214106;});for(let _0x47474d=0x0;_0x47474d<_0x3c6dd7[_0x44fd21(0x1d5)];_0x47474d++){_0x3c0c3c[_0x44fd21(0x1ec)](_0x3c6dd7[_0x47474d],0x1);}}function download(_0x3ececc,_0x10ed6d){var _0x3c97ec=_0x566488;madeChanges=![];var _0x581cb4=new Blob([_0x10ed6d],{'type':_0x3c97ec(0x200)});if(window[_0x3c97ec(0x244)]['msSaveOrOpenBlob'])window[_0x3c97ec(0x244)]['msSaveBlob'](_0x581cb4,_0x3ececc);else{var _0x495449=window['document']['createElement']('a');_0x495449[_0x3c97ec(0x216)]=window[_0x3c97ec(0x22f)]['createObjectURL'](_0x581cb4),_0x495449[_0x3c97ec(0x21c)]=_0x3ececc,document[_0x3c97ec(0x23b)]['appendChild'](_0x495449),_0x495449[_0x3c97ec(0x1d7)](),document[_0x3c97ec(0x23b)][_0x3c97ec(0x20e)](_0x495449);}}window[_0x566488(0x1f9)](_0x566488(0x23f),function(_0x2f216e){var _0x3afaa1=_0x566488,_0x59a9b5=_0x2f216e['keyCode'];switch(_0x59a9b5){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera['zoomIn']=!![];break;case 0x51:camera[_0x3afaa1(0x1da)]=!![];break;}}),window['addEventListener']('keyup',function(_0x6bfe4f){var _0x44774b=_0x566488,_0x3e8639=_0x6bfe4f[_0x44774b(0x1df)];switch(_0x3e8639){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x44774b(0x1d0)]=![];break;case 0x51:camera[_0x44774b(0x1da)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x2f4337,_0x4f1ae7){var _0x38d349=_0x566488;_0x2f4337['clipboardData']==![]&&(typeof _0x4f1ae7==_0x38d349(0x231)&&_0x4f1ae7(undefined));;var _0x35d522=_0x2f4337[_0x38d349(0x1ee)][_0x38d349(0x1c2)];_0x35d522==undefined&&(typeof _0x4f1ae7==_0x38d349(0x231)&&_0x4f1ae7(undefined));;for(var _0x5e3226=0x0;_0x5e3226<_0x35d522['length'];_0x5e3226++){if(_0x35d522[_0x5e3226][_0x38d349(0x1d2)][_0x38d349(0x1ef)]('image')==-0x1)continue;var _0x18b273=_0x35d522[_0x5e3226][_0x38d349(0x23e)]();typeof _0x4f1ae7=='function'&&_0x4f1ae7(_0x18b273);}}window[_0x566488(0x1f9)](_0x566488(0x1f8),function(_0xb644f0){retrieveImageFromClipboardAsBlob(_0xb644f0,function(_0x38a8e0){var _0x51e868=_0x4e3e;if(_0x38a8e0){var _0x369432=new Image();_0x369432[_0x51e868(0x1f7)]=function(){var _0x4013fe=_0x51e868;pastedImage=_0x369432,id(_0x4013fe(0x1eb))['value']=pastedImage[_0x4013fe(0x1ea)]/cellSize,cellQuantityW=pastedImage[_0x4013fe(0x1ea)]/cellSize,id(_0x4013fe(0x1d3))[_0x4013fe(0x1c4)]=pastedImage[_0x4013fe(0x1f1)]/cellSize,cellQuantityH=pastedImage[_0x4013fe(0x1f1)]/cellSize,changeMapSize();};var _0xfdb56a=window[_0x51e868(0x22f)]||window[_0x51e868(0x1bc)];_0x369432[_0x51e868(0x218)]=_0xfdb56a[_0x51e868(0x1d4)](_0x38a8e0);}});},![]);