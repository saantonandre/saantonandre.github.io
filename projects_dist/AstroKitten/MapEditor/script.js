'use strict';var _0x45fa5d=_0x307e;(function(_0x32cb80,_0x107979){var _0x23fa6d=_0x307e,_0xf94375=_0x32cb80();while(!![]){try{var _0x235d51=parseInt(_0x23fa6d(0x136))/0x1+-parseInt(_0x23fa6d(0x133))/0x2*(-parseInt(_0x23fa6d(0x1ae))/0x3)+-parseInt(_0x23fa6d(0x179))/0x4*(-parseInt(_0x23fa6d(0x1a4))/0x5)+parseInt(_0x23fa6d(0x12b))/0x6+parseInt(_0x23fa6d(0x150))/0x7+parseInt(_0x23fa6d(0x140))/0x8*(parseInt(_0x23fa6d(0x13f))/0x9)+-parseInt(_0x23fa6d(0x138))/0xa;if(_0x235d51===_0x107979)break;else _0xf94375['push'](_0xf94375['shift']());}catch(_0x48c8ca){_0xf94375['push'](_0xf94375['shift']());}}}(_0x4ec1,0x9579b));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x59618c){var _0x2e3eb6=_0x307e,_0x5bddec=(function(){var _0x44baf0=!![];return function(_0x388cfb,_0x5d7e94){var _0x21d6f8=_0x44baf0?function(){var _0x4401f4=_0x307e;if(_0x5d7e94){var _0x889391=_0x5d7e94[_0x4401f4(0x118)](_0x388cfb,arguments);return _0x5d7e94=null,_0x889391;}}:function(){};return _0x44baf0=![],_0x21d6f8;};}()),_0x5aac7a=_0x5bddec(this,function(){var _0x2a595f=_0x307e,_0x5f5cc4=function(){var _0x1cc8a8=_0x307e,_0x5dacaa;try{_0x5dacaa=Function(_0x1cc8a8(0x173)+_0x1cc8a8(0x167)+');')();}catch(_0x33b205){_0x5dacaa=window;}return _0x5dacaa;},_0x29daac=_0x5f5cc4(),_0x40b982=new RegExp(_0x2a595f(0x15e),'g'),_0x779374=_0x2a595f(0x10e)['replace'](_0x40b982,'')['split'](';'),_0x40ebaa,_0x18538b,_0x113ea1,_0x2a9ed1,_0x1a620e=function(_0x490a9f,_0x909dfd,_0x54f324){var _0x233c23=_0x2a595f;if(_0x490a9f[_0x233c23(0x198)]!=_0x909dfd)return![];for(var _0x3ab9f3=0x0;_0x3ab9f3<_0x909dfd;_0x3ab9f3++){for(var _0x144b08=0x0;_0x144b08<_0x54f324['length'];_0x144b08+=0x2){if(_0x3ab9f3==_0x54f324[_0x144b08]&&_0x490a9f[_0x233c23(0x180)](_0x3ab9f3)!=_0x54f324[_0x144b08+0x1])return![];}}return!![];},_0x1b834d=function(_0x4354e2,_0x3901da,_0x2199d1){return _0x1a620e(_0x3901da,_0x2199d1,_0x4354e2);},_0x2d6f1a=function(_0x21859b,_0x40c1e2,_0x5780e8){return _0x1b834d(_0x40c1e2,_0x21859b,_0x5780e8);},_0x11c4d7=function(_0x3055a7,_0x1d5818,_0xb8ab2f){return _0x2d6f1a(_0x1d5818,_0xb8ab2f,_0x3055a7);};for(var _0x1ccd2b in _0x29daac){if(_0x1a620e(_0x1ccd2b,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x40ebaa=_0x1ccd2b;break;}}for(var _0x4906c1 in _0x29daac[_0x40ebaa]){if(_0x11c4d7(0x6,_0x4906c1,[0x5,0x6e,0x0,0x64])){_0x18538b=_0x4906c1;break;}}for(var _0x5696ff in _0x29daac[_0x40ebaa]){if(_0x2d6f1a(_0x5696ff,[0x7,0x6e,0x0,0x6c],0x8)){_0x113ea1=_0x5696ff;break;}}if(!('~'>_0x18538b))for(var _0x43fc30 in _0x29daac[_0x40ebaa][_0x113ea1]){if(_0x1b834d([0x7,0x65,0x0,0x68],_0x43fc30,0x8)){_0x2a9ed1=_0x43fc30;break;}}if(!_0x40ebaa||!_0x29daac[_0x40ebaa])return;var _0x19f8b7=_0x29daac[_0x40ebaa][_0x18538b],_0x4c2443=!!_0x29daac[_0x40ebaa][_0x113ea1]&&_0x29daac[_0x40ebaa][_0x113ea1][_0x2a9ed1],_0x7ea548=_0x19f8b7||_0x4c2443;if(!_0x7ea548)return;var _0x9260de=![];for(var _0x18107f=0x0;_0x18107f<_0x779374[_0x2a595f(0x198)];_0x18107f++){var _0x18538b=_0x779374[_0x18107f],_0x4b6a76=_0x18538b[0x0]===String[_0x2a595f(0x19e)](0x2e)?_0x18538b[_0x2a595f(0x124)](0x1):_0x18538b,_0x4090c0=_0x7ea548[_0x2a595f(0x198)]-_0x4b6a76[_0x2a595f(0x198)],_0x47b86f=_0x7ea548[_0x2a595f(0x135)](_0x4b6a76,_0x4090c0),_0x26e982=_0x47b86f!==-0x1&&_0x47b86f===_0x4090c0;_0x26e982&&((_0x7ea548[_0x2a595f(0x198)]==_0x18538b[_0x2a595f(0x198)]||_0x18538b['indexOf']('.')===0x0)&&(_0x9260de=!![]));}if(!_0x9260de){var _0x5e8b62=new RegExp(_0x2a595f(0x18e),'g'),_0x131913='aAqbomuBt:JblYOsaPnhkdLQRMqirYicefrdyrg'[_0x2a595f(0x17b)](_0x5e8b62,'');_0x29daac[_0x40ebaa][_0x113ea1]=_0x131913;}});return _0x5aac7a(),document[_0x2e3eb6(0x174)](_0x59618c);}var canvas=id(_0x45fa5d(0x163)),sheet=id(_0x45fa5d(0x19f)),c=canvas['getContext']('2d');c[_0x45fa5d(0x13a)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x45fa5d(0x137)]=function(){addLevel();};function clearMap(){var _0x284d13=_0x45fa5d;map=[],mapObject['map']=[],mapObject[_0x284d13(0x102)]=[],mapObject[_0x284d13(0x11b)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0x1f5df4=_0x45fa5d;let _0x4ef6e9=document[_0x1f5df4(0x15c)]('levels');for(let _0x5c63dd=_0x4ef6e9[_0x1f5df4(0x198)]-0x1;_0x5c63dd>=0x0;_0x5c63dd--){_0x4ef6e9[_0x5c63dd][_0x1f5df4(0x153)][_0x1f5df4(0x123)](_0x4ef6e9[_0x5c63dd]);}}id(_0x45fa5d(0x14f))['onclick']=saveImage;function _0x307e(_0xfe1a6f,_0x13ddb4){var _0x3df18b=_0x4ec1();return _0x307e=function(_0xab5cd0,_0x56100a){_0xab5cd0=_0xab5cd0-0x102;var _0x5d53e0=_0x3df18b[_0xab5cd0];return _0x5d53e0;},_0x307e(_0xfe1a6f,_0x13ddb4);}function saveImage(){var _0x106a04=_0x45fa5d;canvas[_0x106a04(0x168)](_0x2367e9=>navigator['clipboard'][_0x106a04(0x148)]([new ClipboardItem({'image/png':_0x2367e9})]));}function addButton(){var _0xc4619f=_0x45fa5d,_0x4f904d=document['createElement'](_0xc4619f(0x169));_0x4f904d['number']=levels[_0xc4619f(0x198)],_0x4f904d[_0xc4619f(0x170)]=levels[_0xc4619f(0x198)],_0x4f904d['className']+='\x20levels',_0x4f904d[_0xc4619f(0x143)]=function(_0x504099){var _0x26b26c=_0xc4619f;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0x26b26c(0x177)],safeEval(JSON[_0x26b26c(0x14e)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id('cont3')[_0xc4619f(0x1ad)](_0x4f904d),highlightCurrentLevel();}function addLevel(){var _0x4152fe=_0x45fa5d;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x4152fe(0x1af)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON['parse'](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();var cellQuantityW=id(_0x45fa5d(0x17c))[_0x45fa5d(0x188)],cellQuantityH=id(_0x45fa5d(0x12d))[_0x45fa5d(0x188)],cellSize=0x10,fileName='mapCode',interactiveTile=0x0;canvas[_0x45fa5d(0x151)]=cellQuantityW*cellSize,canvas[_0x45fa5d(0x195)]=cellQuantityH*cellSize,id('mapSizeBtnW')[_0x45fa5d(0x137)]=function(){var _0x185d47=_0x45fa5d;cellQuantityW=id(_0x185d47(0x17c))[_0x185d47(0x188)],changeMapSize();},id(_0x45fa5d(0x172))['onclick']=function(){var _0x5267b8=_0x45fa5d;cellQuantityH=id(_0x5267b8(0x12d))['value'],changeMapSize();},window[_0x45fa5d(0x18a)]=function(){var _0x60e1d3=_0x45fa5d;for(let _0xc5d5ba=0x0;_0xc5d5ba<tiles[_0x60e1d3(0x198)];_0xc5d5ba++){var _0x5a36a9=document['createElement'](_0x60e1d3(0x163));_0x5a36a9['id']=_0x60e1d3(0x163)+_0xc5d5ba,_0x5a36a9[_0x60e1d3(0x151)]=0x20,_0x5a36a9[_0x60e1d3(0x195)]=0x20,_0x5a36a9[_0x60e1d3(0x177)]=_0xc5d5ba,_0x5a36a9[_0x60e1d3(0x158)]('2d')['imageSmoothingEnabled']=![];_0xc5d5ba===0x0&&(_0x5a36a9[_0x60e1d3(0x12c)]+='\x20selected');_0x5a36a9[_0x60e1d3(0x12c)]+=_0x60e1d3(0x154),_0x5a36a9[_0x60e1d3(0x158)]('2d')[_0x60e1d3(0x156)](sheet,tiles[_0xc5d5ba][0x0]*0x10,tiles[_0xc5d5ba][0x1]*0x10,0x10,0x10,0x0,0x0,_0x5a36a9[_0x60e1d3(0x151)],_0x5a36a9['height']);var _0x11376d=document[_0x60e1d3(0x15d)]('body')[0x0];id(_0x60e1d3(0x146))['appendChild'](_0x5a36a9),id(_0x60e1d3(0x163)+_0xc5d5ba)['onclick']=function(){var _0x11a8d9=_0x60e1d3;selectedType=this[_0x11a8d9(0x177)];for(let _0x254d04=0x0;_0x254d04<tiles[_0x11a8d9(0x198)];_0x254d04++){id(_0x11a8d9(0x163)+_0x254d04)[_0x11a8d9(0x134)]['remove'](_0x11a8d9(0x176));}this['className']+='\x20selected';};}loop();},id('test')[_0x45fa5d(0x137)]=function(){var _0x7154e=_0x45fa5d;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x421916=0x0;_0x421916<levels[_0x7154e(0x198)];_0x421916++){levelsArray[_0x7154e(0x120)](JSON[_0x7154e(0x14e)](levels[_0x421916]));}var _0x3d2e78=window[_0x7154e(0x126)]('MapTester/index.html');},id(_0x45fa5d(0x142))[_0x45fa5d(0x137)]=function(){var _0x46dcdb=_0x45fa5d;interactiveTile?(interactiveTile=0x0,id(_0x46dcdb(0x142))[_0x46dcdb(0x152)]['backgroundColor']=_0x46dcdb(0x187),id(_0x46dcdb(0x142))[_0x46dcdb(0x152)][_0x46dcdb(0x17e)]=_0x46dcdb(0x12e)):(interactiveTile=0x1,id('interactive')[_0x46dcdb(0x152)][_0x46dcdb(0x14c)]='black',id(_0x46dcdb(0x142))['style'][_0x46dcdb(0x17e)]=_0x46dcdb(0x187));};var hitBoxToggle=![];id(_0x45fa5d(0x19b))[_0x45fa5d(0x137)]=function(){var _0x51fe26=_0x45fa5d;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x51fe26(0x19b))[_0x51fe26(0x170)]=_0x51fe26(0x115);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id('toggle')[_0x51fe26(0x170)]=_0x51fe26(0x19d);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x51fe26(0x19b))[_0x51fe26(0x170)]=_0x51fe26(0x186));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x519569=_0x45fa5d;c['clearRect'](0x0,0x0,canvas[_0x519569(0x151)],canvas[_0x519569(0x195)]),pastedImage&&c['drawImage'](pastedImage,0x0,0x0,pastedImage[_0x519569(0x151)],pastedImage[_0x519569(0x195)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x520d52=_0x45fa5d;if(hitBoxToggle==0x1)c['strokeStyle']=_0x520d52(0x11c);else c[_0x520d52(0x185)]=_0x520d52(0x1a8);c[_0x520d52(0x191)](),c['rect'](square['x'],square['y'],square['w'],square['h']),c[_0x520d52(0x145)](),c[_0x520d52(0x160)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x45fa5d(0x103))),dragElement(id(_0x45fa5d(0x146))),dragElement(id(_0x45fa5d(0x189)));function dragElement(_0x54d3f1){var _0x1377cb=_0x45fa5d,_0x3ba677=0x0,_0x2761bf=0x0,_0x5de674=0x0,_0x2c3d49=0x0;_0x54d3f1[_0x1377cb(0x143)]=_0x500551;function _0x500551(_0x3cddb9){var _0x9ced61=_0x1377cb;_0x3cddb9=_0x3cddb9||window[_0x9ced61(0x18f)],_0x5de674=_0x3cddb9[_0x9ced61(0x141)],_0x2c3d49=_0x3cddb9[_0x9ced61(0x18c)],document[_0x9ced61(0x113)]=_0x4defdd,document['onmousemove']=_0x553646;}function _0x553646(_0x2019a1){var _0x3bfe05=_0x1377cb;_0x2019a1=_0x2019a1||window[_0x3bfe05(0x18f)],_0x2019a1[_0x3bfe05(0x162)](),_0x3ba677=_0x5de674-_0x2019a1[_0x3bfe05(0x141)],_0x2761bf=_0x2c3d49-_0x2019a1[_0x3bfe05(0x18c)],_0x5de674=_0x2019a1[_0x3bfe05(0x141)],_0x2c3d49=_0x2019a1[_0x3bfe05(0x18c)],_0x54d3f1['style'][_0x3bfe05(0x1a5)]=_0x54d3f1[_0x3bfe05(0x107)]-_0x2761bf+'px',_0x54d3f1[_0x3bfe05(0x152)][_0x3bfe05(0x171)]=_0x54d3f1[_0x3bfe05(0x190)]-_0x3ba677+'px';}function _0x4defdd(){var _0x4135d2=_0x1377cb;document[_0x4135d2(0x113)]=null,document[_0x4135d2(0x1ac)]=null;}}var mapCode='';id('exportMap')[_0x45fa5d(0x137)]=function(){var _0x3042bc=_0x45fa5d;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0x1d7f77=0x0;_0x1d7f77<levels[_0x3042bc(0x198)];_0x1d7f77++){levelsArray['push'](JSON[_0x3042bc(0x14e)](levels[_0x1d7f77]));}id(_0x3042bc(0x13b))[_0x3042bc(0x152)][_0x3042bc(0x111)]=_0x3042bc(0x164),id(_0x3042bc(0x10d))[_0x3042bc(0x170)]=JSON['stringify'](levelsArray);};function newMapExport(){var _0x5c80c3=_0x45fa5d;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x5c80c3(0x139)](mapObject);};id(_0x45fa5d(0x15a))[_0x45fa5d(0x137)]=function(){var _0x52af9d=_0x45fa5d;id(_0x52af9d(0x13b))[_0x52af9d(0x152)]['display']=_0x52af9d(0x106);},id(_0x45fa5d(0x116))[_0x45fa5d(0x137)]=function(){download('map.json',JSON['stringify'](levelsArray));},id(_0x45fa5d(0x16d))[_0x45fa5d(0x194)]=function(){var _0x192db5=_0x45fa5d;console[_0x192db5(0x12f)](_0x192db5(0x114));let _0x53e5d6=id(_0x192db5(0x16d))['files'][0x0];fileName=id(_0x192db5(0x16d))[_0x192db5(0x18b)][0x0][_0x192db5(0x175)][_0x192db5(0x16e)]('.')[0x0];let _0x563058=new FileReader();_0x563058['onload']=function(_0x22b9b3){var _0x299ae5=_0x192db5;let _0x1b7fa9=_0x563058[_0x299ae5(0x16c)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x299ae5(0x14e)](_0x1b7fa9);for(let _0x2f7bee=0x0;_0x2f7bee<levelsArray['length'];_0x2f7bee++){addButton(),levels[_0x2f7bee]=JSON[_0x299ae5(0x139)](levelsArray[_0x2f7bee]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x563058['readAsText'](_0x53e5d6);};function safeEval(_0x2e75a0){var _0x5c8f60=_0x45fa5d;typeof _0x2e75a0===_0x5c8f60(0x10a)&&_0x2e75a0!==null&&(map=_0x2e75a0[_0x5c8f60(0x14d)],spawnPoint=_0x2e75a0[_0x5c8f60(0x11b)],camBoxes=_0x2e75a0['camBoxes']);}var baseWidth=id(_0x45fa5d(0x17c))['value'],baseHeight=id(_0x45fa5d(0x12d))['value'];function resizeMap(){var _0x299528=_0x45fa5d;let _0x26add7=0x0,_0x2970b0=0x0;for(let _0x521187=0x0;_0x521187<map[_0x299528(0x198)];_0x521187++){map[_0x521187]['x']+map[_0x521187]['w']>_0x26add7&&(_0x26add7=map[_0x521187]['x']+map[_0x521187]['w']),map[_0x521187]['y']+map[_0x521187]['h']>_0x2970b0&&(_0x2970b0=map[_0x521187]['y']+map[_0x521187]['h']);}_0x2970b0<baseHeight&&(_0x2970b0=baseHeight),_0x26add7<baseWidth&&(_0x26add7=baseWidth),cellQuantityW=_0x26add7,id(_0x299528(0x17c))[_0x299528(0x188)]=_0x26add7,cellQuantityH=_0x2970b0,id(_0x299528(0x12d))[_0x299528(0x188)]=_0x2970b0,changeMapSize();}function highlightCurrentLevel(){var _0x3afba9=_0x45fa5d;let _0xf4a6e6=document[_0x3afba9(0x15c)]('levels');for(let _0x3c07cb=0x0;_0x3c07cb<_0xf4a6e6['length'];_0x3c07cb++){if(_0xf4a6e6[_0x3c07cb][_0x3afba9(0x177)]==currentLevel)!_0xf4a6e6[_0x3c07cb][_0x3afba9(0x134)][_0x3afba9(0x10f)]('selected')&&_0xf4a6e6[_0x3c07cb]['classList'][_0x3afba9(0x1a0)](_0x3afba9(0x176));else _0xf4a6e6[_0x3c07cb][_0x3afba9(0x134)][_0x3afba9(0x10f)](_0x3afba9(0x176))&&_0xf4a6e6[_0x3c07cb][_0x3afba9(0x134)][_0x3afba9(0x14a)](_0x3afba9(0x176));}}function cameraMove(){var _0x230aae=_0x45fa5d;camera['L']&&(sX-=camera[_0x230aae(0x1a1)]);camera['R']&&(sX+=camera[_0x230aae(0x1a1)]);camera['T']&&(sY-=camera[_0x230aae(0x1a1)]);camera['B']&&(sY+=camera['speed']);sX<0x0&&(sX=0x0);sX>canvas['width']-window[_0x230aae(0x192)]&&(sX=canvas[_0x230aae(0x151)]-window[_0x230aae(0x192)]);sY<0x0&&(sY=0x0);sY>canvas['height']-window[_0x230aae(0x130)]&&(sY=canvas['height']-window[_0x230aae(0x130)]);if(camera['zoomOut'])id(_0x230aae(0x18d))[_0x230aae(0x188)]--,zoomChange();else camera[_0x230aae(0x147)]&&(id(_0x230aae(0x18d))[_0x230aae(0x188)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x40da55=_0x45fa5d;(camera['L']||camera['R']||camera['T']||camera['B']||camera['zoomIn']||camera['zoomOut'])&&cameraMove();c[_0x40da55(0x193)]=0x1;for(let _0x5b501f=0x0;_0x5b501f<map[_0x40da55(0x198)];_0x5b501f++){if(map[_0x5b501f]['type']>0x33)for(let _0x576c2c=0x0;_0x576c2c<map[_0x5b501f]['h'];_0x576c2c++){for(let _0x2492eb=0x0;_0x2492eb<map[_0x5b501f]['w'];_0x2492eb++){c['drawImage'](id('sheet'),tiles[map[_0x5b501f][_0x40da55(0x15f)]][0x0]*0x10,tiles[map[_0x5b501f]['type']][0x1]*0x10,0x10,0x10,(map[_0x5b501f]['x']+_0x2492eb)*cellSize,(map[_0x5b501f]['y']+_0x576c2c)*cellSize,cellSize,cellSize);}}}for(let _0x411b01=0x0;_0x411b01<map['length'];_0x411b01++){if(map[_0x411b01]['type']<=0x33)for(let _0x4d0e2c=0x0;_0x4d0e2c<map[_0x411b01]['h'];_0x4d0e2c++){for(let _0xb86788=0x0;_0xb86788<map[_0x411b01]['w'];_0xb86788++){c[_0x40da55(0x156)](id('sheet'),tiles[map[_0x411b01][_0x40da55(0x15f)]][0x0]*0x10,tiles[map[_0x411b01][_0x40da55(0x15f)]][0x1]*0x10,0x10,0x10,(map[_0x411b01]['x']+_0xb86788)*cellSize,(map[_0x411b01]['y']+_0x4d0e2c)*cellSize,cellSize,cellSize);}}}for(let _0x105126=0x0;_0x105126<hitBoxes['length'];_0x105126++){c['fillStyle']=_0x40da55(0x181),c[_0x40da55(0x13e)](hitBoxes[_0x105126]['x']*cellSize,hitBoxes[_0x105126]['y']*cellSize,hitBoxes[_0x105126]['w']*cellSize,hitBoxes[_0x105126]['h']*cellSize);}c[_0x40da55(0x193)]=0x1;for(let _0x493f17=0x0;_0x493f17<camBoxes[_0x40da55(0x198)];_0x493f17++){c[_0x40da55(0x185)]=_0x40da55(0x17f),c[_0x40da55(0x191)](),c[_0x40da55(0x104)](camBoxes[_0x493f17]['x']*cellSize,camBoxes[_0x493f17]['y']*cellSize,camBoxes[_0x493f17]['w']*cellSize,camBoxes[_0x493f17]['h']*cellSize),c[_0x40da55(0x145)](),c[_0x40da55(0x160)]();}c['fillStyle']=_0x40da55(0x17d),c['fillRect'](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x19d524=_0x45fa5d;c[_0x19d524(0x119)]=0.1,c[_0x19d524(0x185)]=_0x19d524(0x1a8);for(let _0x183b16=0x0;_0x183b16<canvas[_0x19d524(0x151)];_0x183b16+=cellSize){c[_0x19d524(0x191)](),c['moveTo'](_0x183b16,0x0),c[_0x19d524(0x11f)](_0x183b16,canvas[_0x19d524(0x195)]),c['closePath'](),c[_0x19d524(0x160)]();}for(let _0x10af37=0x0;_0x10af37<canvas['height'];_0x10af37+=cellSize){c[_0x19d524(0x191)](),c[_0x19d524(0x16b)](0x0,_0x10af37),c[_0x19d524(0x11f)](canvas['width'],_0x10af37),c[_0x19d524(0x145)](),c['stroke']();}c[_0x19d524(0x119)]=0x1;}var definingSpawnpoint=![];id(_0x45fa5d(0x166))['onclick']=function(){var _0x8c35f8=_0x45fa5d;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x8c35f8(0x166))[_0x8c35f8(0x152)]['color']=_0x8c35f8(0x181),id('canvas')[_0x8c35f8(0x152)][_0x8c35f8(0x121)]=_0x8c35f8(0x11a),canvas['onclick']=null;return;}definingSpawnpoint=!![],id(_0x8c35f8(0x166))[_0x8c35f8(0x152)][_0x8c35f8(0x17e)]='#0000cc',id(_0x8c35f8(0x163))['style'][_0x8c35f8(0x121)]=_0x8c35f8(0x13d),canvas[_0x8c35f8(0x137)]=()=>{var _0x4f096a=_0x8c35f8;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x4f096a(0x166))[_0x4f096a(0x152)][_0x4f096a(0x17e)]=_0x4f096a(0x181),id(_0x4f096a(0x163))[_0x4f096a(0x152)][_0x4f096a(0x121)]='crosshair',canvas[_0x4f096a(0x137)]=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id('moveMap')[_0x45fa5d(0x137)]=function(){var _0x3a0ea8=_0x45fa5d;if(movingMap){movingMap=![],id(_0x3a0ea8(0x1a2))[_0x3a0ea8(0x152)][_0x3a0ea8(0x17e)]=_0x3a0ea8(0x181),id(_0x3a0ea8(0x163))[_0x3a0ea8(0x152)][_0x3a0ea8(0x121)]=_0x3a0ea8(0x11a);return;}movingMap=!![],id(_0x3a0ea8(0x1a2))['style'][_0x3a0ea8(0x17e)]=_0x3a0ea8(0x16f),id('canvas')['style'][_0x3a0ea8(0x121)]=_0x3a0ea8(0x129),canvas[_0x3a0ea8(0x105)]('mousemove',function(){var _0x1f7afc=_0x3a0ea8;if(!movingMap||!mouseDown)return;let _0x474693=square['w']/cellSize-movingVariables[_0x1f7afc(0x165)],_0x52cea5=square['h']/cellSize-movingVariables['yRDiff'];(_0x474693!==0x0||_0x52cea5!==0x0)&&(moveEverything(_0x474693,_0x52cea5),movingVariables[_0x1f7afc(0x165)]+=_0x474693,movingVariables[_0x1f7afc(0x12a)]+=_0x52cea5);}),canvas['addEventListener'](_0x3a0ea8(0x109),function(){var _0x9b03f1=_0x3a0ea8;if(!movingMap)return;movingVariables[_0x9b03f1(0x165)]=0x0,movingVariables[_0x9b03f1(0x12a)]=0x0;});};function moveEverything(_0xc2beae,_0x108c7a){var _0x30db5e=_0x45fa5d;if(_0xc2beae==0x0&&_0x108c7a==0x0)return;for(let _0x34b452=0x0;_0x34b452<map[_0x30db5e(0x198)];_0x34b452++){map[_0x34b452]['x']+=_0xc2beae,map[_0x34b452]['y']+=_0x108c7a;}for(let _0xc4ba1d=0x0;_0xc4ba1d<hitBoxes['length'];_0xc4ba1d++){hitBoxes[_0xc4ba1d]['x']+=_0xc2beae,hitBoxes[_0xc4ba1d]['y']+=_0x108c7a;}for(let _0x3ce352=0x0;_0x3ce352<camBoxes['length'];_0x3ce352++){camBoxes[_0x3ce352]['x']+=_0xc2beae,camBoxes[_0x3ce352]['y']+=_0x108c7a;}spawnPoint['x']+=_0xc2beae,spawnPoint['y']+=_0x108c7a;}function infoText(){var _0x4d0001=_0x45fa5d,_0x2fc9b8=square['x']/cellSize,_0x3f7b97=square['y']/cellSize;_0x2fc9b8>-0x1&&_0x2fc9b8<0x1&&(_0x2fc9b8=0x0),_0x3f7b97>-0x1&&_0x3f7b97<0x1&&(_0x3f7b97=0x0),id(_0x4d0001(0x1a3))[_0x4d0001(0x170)]=_0x4d0001(0x199)+_0x2fc9b8+_0x4d0001(0x117)+_0x3f7b97+_0x4d0001(0x178)+square['w']/cellSize+_0x4d0001(0x1a7)+square['h']/cellSize;}var mouseDown=![];canvas[_0x45fa5d(0x105)](_0x45fa5d(0x128),function(_0x30fde4){var _0x3b16f1=_0x45fa5d;mouseDown=!![];var _0x8006a0=window['pageXOffset']-canvas[_0x3b16f1(0x190)],_0x4afa19=window[_0x3b16f1(0x15b)]-canvas[_0x3b16f1(0x107)];id(_0x3b16f1(0x1a3))[_0x3b16f1(0x152)][_0x3b16f1(0x111)]=_0x3b16f1(0x164),id(_0x3b16f1(0x1a3))[_0x3b16f1(0x152)][_0x3b16f1(0x171)]=_0x30fde4['clientX']+0x1e+'px',id(_0x3b16f1(0x1a3))['style']['top']=_0x30fde4[_0x3b16f1(0x18c)]-0x1e+'px',square['x']=round(_0x30fde4['clientX']+_0x8006a0)*cellSize,square['y']=round(_0x30fde4['clientY']+_0x4afa19)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x45fa5d(0x105)](_0x45fa5d(0x122),function(_0x234995){var _0x36d9be=_0x45fa5d,_0xb8ffb1=window[_0x36d9be(0x182)]-canvas[_0x36d9be(0x190)],_0x4315b4=window[_0x36d9be(0x15b)]-canvas[_0x36d9be(0x107)];mouseDown&&(id(_0x36d9be(0x1a3))[_0x36d9be(0x152)]['display']=_0x36d9be(0x164),id(_0x36d9be(0x1a3))['style'][_0x36d9be(0x171)]=_0x234995[_0x36d9be(0x141)]+0x1e+'px',id('info')['style']['top']=_0x234995[_0x36d9be(0x18c)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x234995[_0x36d9be(0x141)]+_0xb8ffb1-square['x'])*cellSize,square['h']=round(_0x234995[_0x36d9be(0x18c)]+_0x4315b4-square['y'])*cellSize);}),canvas[_0x45fa5d(0x105)](_0x45fa5d(0x109),function(_0x53f115){var _0xac98af=_0x45fa5d;id(_0xac98af(0x1a3))[_0xac98af(0x152)]['display']=_0xac98af(0x106),mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x53f115[_0xac98af(0x10b)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0xac98af(0x120)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x5d8686=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');hitBoxes[hitBoxes['length']-0x1][_0xac98af(0x108)]=_0x5d8686;}}else{if(hitBoxToggle==0x0){map[_0xac98af(0x120)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x5d8686=prompt(_0xac98af(0x1ab),'');map[map[_0xac98af(0x198)]-0x1]['text']=_0x5d8686;}}else{if(hitBoxToggle==0x2){var _0x857ff=parseInt(prompt(_0xac98af(0x196),''));camBoxes[_0xac98af(0x120)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x857ff});}}}}}),id(_0x45fa5d(0x18d))[_0x45fa5d(0x105)](_0x45fa5d(0x127),zoomChange),id(_0x45fa5d(0x13c))[_0x45fa5d(0x105)](_0x45fa5d(0x11d),deleteLevel);function _0x4ec1(){var _0x533dbf=['yRDiff','1806120FVQcdj','className','mapSizeH','black','log','innerHeight','keydown','clipboardData','10438WAapWw','classList','indexOf','893379CfHUyj','onclick','30501340IACBVx','stringify','imageSmoothingEnabled','exportBox','deleteLvl','pointer','fillRect','9edJsGh','4804000VCDFcN','clientX','interactive','onmousedown','src','closePath','cont2','zoomIn','write','sort','remove','href','backgroundColor','map','parse','saveButton','5866490Tfwbtx','width','style','parentNode','\x20tile','zoomOut','drawImage','getAsFile','getContext','keyCode','closeBtn','pageYOffset','getElementsByClassName','getElementsByTagName','[YfLqARZAzyxWRJzwVxkZqGKKjOAyMjzzUNvDEzMCTxTUwPNfVEXIPAVkSNfVKDSSwTxPSGRLBR]','type','stroke','document','preventDefault','canvas','block','xRDiff','spawn','{}.constructor(\x22return\x20this\x22)(\x20)','toBlob','button','createElement','moveTo','result','file','split','#0000cc','innerHTML','left','mapSizeBtnH','return\x20(function()\x20','getElementById','name','selected','number','<br>\x20w:\x20','1132pFXyHQ','text/csv','replace','mapSizeW','#5b6ee1','color','#002200','charCodeAt','#000000','pageXOffset','URL','body','strokeStyle','drawing:\x20camera','white','value','cont3','onload','files','clientY','zoomer','[AqmBJYOsPhdLQRMqirYicefrdyrg]','event','offsetLeft','beginPath','innerWidth','globalAlpha','onchange','height','type\x20of\x20camera','Discard\x20changes?','length','x:\x20','onbeforeunload','toggle','keyup','drawing:\x20hitboxes','fromCharCode','sheet','add','speed','moveMap','info','5555OyYSDf','top','image',',\x20h:\x20','#ffffff','levels','function','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','onmousemove','appendChild','411xSsODG','splice','contextmenu','camBoxes','cont','rect','addEventListener','none','offsetTop','text','mouseup','object','which','createObjectURL','exportText','YfsaLantonqaARZAzyxnWRJzwdrVxke.ZgqGithKuKjb.OAyMio;jlzozcUNvDEzMCaTlhxoTsUtwPNfVEXIPAVkSNfVKDSSwTxPSGRLBR','contains','webkitURL','display','navigator','onmouseup','importing...','drawing:\x20displayed','downloadBtn',',\x20y:\x20','apply','lineWidth','crosshair','spawnPoint','#ff0000','click','paste','lineTo','push','cursor','mousemove','removeChild','slice','download','open','change','mousedown','all-scroll'];_0x4ec1=function(){return _0x533dbf;};return _0x4ec1();}function deleteLevel(){var _0x473ea9=_0x45fa5d;madeChanges=!![];if(levels[_0x473ea9(0x198)]==0x1){clearMap();return;}removeButton(),levels[_0x473ea9(0x1af)](currentLevel,0x1),clearMap(),currentLevel=levels[_0x473ea9(0x198)]-0x1,safeEval(JSON[_0x473ea9(0x14e)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x54bec9=_0x45fa5d;let _0x911f22={'number':0x0},_0x4c13f5=document['getElementsByClassName'](_0x54bec9(0x1a9));for(let _0x4729f7=0x0;_0x4729f7<_0x4c13f5[_0x54bec9(0x198)];_0x4729f7++){_0x4c13f5[_0x4729f7][_0x54bec9(0x177)]>=_0x911f22[_0x54bec9(0x177)]&&(_0x911f22=_0x4c13f5[_0x4729f7]);}_0x911f22['parentNode'][_0x54bec9(0x123)](_0x911f22);}function zoomChange(){var _0x5255ac=_0x45fa5d;cellSize=parseInt(id('zoomer')[_0x5255ac(0x188)]),changeMapSize();}function changeMapSize(){var _0x568af2=_0x45fa5d;canvas[_0x568af2(0x151)]=cellQuantityW*cellSize,canvas[_0x568af2(0x195)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x5a49b5){var _0x210644=parseInt(_0x5a49b5),_0x5c4888=_0x210644%cellSize;if(_0x5c4888!==0x0){if(_0x5c4888>cellSize/0x2)_0x210644=_0x210644-_0x5c4888+cellSize;else _0x210644=_0x210644-_0x5c4888;}return _0x210644/cellSize>0x0&&_0x210644/cellSize<0x1?0x0:_0x210644/cellSize;}function enableBeforeUnload(){var _0x3eaf9d=_0x45fa5d;window[_0x3eaf9d(0x19a)]=function(_0x202799){var _0x32bf61=_0x3eaf9d;if(madeChanges)return _0x32bf61(0x197);};}function disableBeforeUnload(){var _0x38c9a9=_0x45fa5d;window[_0x38c9a9(0x19a)]=null;}enableBeforeUnload(),document[_0x45fa5d(0x105)](_0x45fa5d(0x1b0),function(_0x21cf5f){var _0x342651=_0x45fa5d;madeChanges=!![];var _0x3cb949=window[_0x342651(0x182)]-canvas[_0x342651(0x190)],_0x40bcb5=window[_0x342651(0x15b)]-canvas[_0x342651(0x107)];_0x21cf5f[_0x342651(0x162)]();var _0x1c946f=_0x21cf5f[_0x342651(0x141)]+_0x3cb949,_0x42130d=_0x21cf5f['clientY']+_0x40bcb5;removeElements(map,_0x1c946f,_0x42130d),removeElements(hitBoxes,_0x1c946f,_0x42130d),removeElements(camBoxes,_0x1c946f,_0x42130d);});function removeElements(_0x701c99,_0x22176a,_0xb3cef2){var _0x5019c1=_0x45fa5d,_0x5b3592=[];for(let _0x29d707=0x0;_0x29d707<_0x701c99['length'];_0x29d707++){_0x22176a>_0x701c99[_0x29d707]['x']*cellSize&&_0x22176a<_0x701c99[_0x29d707]['x']*cellSize+_0x701c99[_0x29d707]['w']*cellSize&&(_0xb3cef2>_0x701c99[_0x29d707]['y']*cellSize&&_0xb3cef2<_0x701c99[_0x29d707]['y']*cellSize+_0x701c99[_0x29d707]['h']*cellSize&&_0x5b3592[_0x5019c1(0x120)](_0x29d707));}_0x5b3592[_0x5019c1(0x149)](function(_0x2f39b8,_0x57c8ed){return _0x57c8ed-_0x2f39b8;});for(let _0xe7dbd1=0x0;_0xe7dbd1<_0x5b3592[_0x5019c1(0x198)];_0xe7dbd1++){_0x701c99[_0x5019c1(0x1af)](_0x5b3592[_0xe7dbd1],0x1);}}function download(_0x571eb,_0x232bb4){var _0x13e014=_0x45fa5d;madeChanges=![];var _0x7c12bd=new Blob([_0x232bb4],{'type':_0x13e014(0x17a)});if(window[_0x13e014(0x112)]['msSaveOrOpenBlob'])window[_0x13e014(0x112)]['msSaveBlob'](_0x7c12bd,_0x571eb);else{var _0x391095=window[_0x13e014(0x161)][_0x13e014(0x16a)]('a');_0x391095[_0x13e014(0x14b)]=window[_0x13e014(0x183)][_0x13e014(0x10c)](_0x7c12bd),_0x391095[_0x13e014(0x125)]=_0x571eb,document[_0x13e014(0x184)][_0x13e014(0x1ad)](_0x391095),_0x391095[_0x13e014(0x11d)](),document['body']['removeChild'](_0x391095);}}window[_0x45fa5d(0x105)](_0x45fa5d(0x131),function(_0xa4f519){var _0x346659=_0x45fa5d,_0x2b8905=_0xa4f519[_0x346659(0x159)];switch(_0x2b8905){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera['zoomIn']=!![];break;case 0x51:camera[_0x346659(0x155)]=!![];break;}}),window[_0x45fa5d(0x105)](_0x45fa5d(0x19c),function(_0xa3e3d0){var _0x485057=_0x45fa5d,_0x58fa0e=_0xa3e3d0[_0x485057(0x159)];switch(_0x58fa0e){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x485057(0x147)]=![];break;case 0x51:camera[_0x485057(0x155)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x406e91,_0x318797){var _0x39491e=_0x45fa5d;_0x406e91[_0x39491e(0x132)]==![]&&(typeof _0x318797==_0x39491e(0x1aa)&&_0x318797(undefined));;var _0x41190e=_0x406e91[_0x39491e(0x132)]['items'];_0x41190e==undefined&&(typeof _0x318797==_0x39491e(0x1aa)&&_0x318797(undefined));;for(var _0x492909=0x0;_0x492909<_0x41190e[_0x39491e(0x198)];_0x492909++){if(_0x41190e[_0x492909][_0x39491e(0x15f)][_0x39491e(0x135)](_0x39491e(0x1a6))==-0x1)continue;var _0x2fd0eb=_0x41190e[_0x492909][_0x39491e(0x157)]();typeof _0x318797==_0x39491e(0x1aa)&&_0x318797(_0x2fd0eb);}}window['addEventListener'](_0x45fa5d(0x11e),function(_0x330968){retrieveImageFromClipboardAsBlob(_0x330968,function(_0x475084){var _0x5b20a7=_0x307e;if(_0x475084){var _0x23bc50=new Image();_0x23bc50[_0x5b20a7(0x18a)]=function(){var _0x28d76f=_0x5b20a7;pastedImage=_0x23bc50,id('mapSizeW')[_0x28d76f(0x188)]=pastedImage[_0x28d76f(0x151)]/cellSize,cellQuantityW=pastedImage[_0x28d76f(0x151)]/cellSize,id('mapSizeH')[_0x28d76f(0x188)]=pastedImage[_0x28d76f(0x195)]/cellSize,cellQuantityH=pastedImage[_0x28d76f(0x195)]/cellSize,changeMapSize();};var _0x4cab2b=window[_0x5b20a7(0x183)]||window[_0x5b20a7(0x110)];_0x23bc50[_0x5b20a7(0x144)]=_0x4cab2b[_0x5b20a7(0x10c)](_0x475084);}});},![]);