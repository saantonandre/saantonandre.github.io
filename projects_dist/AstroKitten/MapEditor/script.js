'use strict';var _0x1832f7=_0x4dc3;(function(_0x19a05e,_0x4ac994){var _0x324546=_0x4dc3,_0x13d7e2=_0x19a05e();while(!![]){try{var _0x1a97d3=-parseInt(_0x324546(0x19b))/0x1+parseInt(_0x324546(0x1e7))/0x2*(parseInt(_0x324546(0x1f5))/0x3)+parseInt(_0x324546(0x1cd))/0x4+parseInt(_0x324546(0x1ae))/0x5+-parseInt(_0x324546(0x1b6))/0x6*(-parseInt(_0x324546(0x1f3))/0x7)+parseInt(_0x324546(0x1ee))/0x8+-parseInt(_0x324546(0x21b))/0x9;if(_0x1a97d3===_0x4ac994)break;else _0x13d7e2['push'](_0x13d7e2['shift']());}catch(_0x5bd7f2){_0x13d7e2['push'](_0x13d7e2['shift']());}}}(_0x4692,0xda47a));var madeChanges=![],selectedType=0x0,importedCode='',levelsArray={};function id(_0x3daa50){var _0x3c8b41=_0x4dc3,_0x4c2a5f=(function(){var _0x195d38=!![];return function(_0x104a0f,_0x44e050){var _0x37a21c=_0x195d38?function(){var _0x9f4a7f=_0x4dc3;if(_0x44e050){var _0x29f9f6=_0x44e050[_0x9f4a7f(0x185)](_0x104a0f,arguments);return _0x44e050=null,_0x29f9f6;}}:function(){};return _0x195d38=![],_0x37a21c;};}()),_0x1a3a00=_0x4c2a5f(this,function(){var _0x3dcc0d=_0x4dc3,_0x3426b6=function(){var _0x5ccad4=_0x4dc3,_0x53ed3a;try{_0x53ed3a=Function(_0x5ccad4(0x188)+_0x5ccad4(0x1b0)+');')();}catch(_0x5f369a){_0x53ed3a=window;}return _0x53ed3a;},_0x2c07fd=_0x3426b6(),_0x5a4319=new RegExp('[IRZByURfOWZQWJYAwOIGWNNSGBGpfAAyFLZAUjINpQYLkCLFEGEADJSDmpWBWwMpMEmpqPUFE]','g'),_0x50044c='saIantoRZnByURandrefO.WZQgitWJhYubA.iow;locaOlhosIGtWNNSGBGpfAAyFLZAUjINpQYLkCLFEGEADJSDmpWBWwMpMEmpqPUFE'[_0x3dcc0d(0x1c4)](_0x5a4319,'')['split'](';'),_0x320ae0,_0x115d88,_0x4ff8ca,_0x2ff8d5,_0x926b8f=function(_0x5e08f1,_0x2c0d9f,_0x2e1f27){var _0xf1b29=_0x3dcc0d;if(_0x5e08f1[_0xf1b29(0x1f4)]!=_0x2c0d9f)return![];for(var _0x589f24=0x0;_0x589f24<_0x2c0d9f;_0x589f24++){for(var _0x822122=0x0;_0x822122<_0x2e1f27[_0xf1b29(0x1f4)];_0x822122+=0x2){if(_0x589f24==_0x2e1f27[_0x822122]&&_0x5e08f1[_0xf1b29(0x1e0)](_0x589f24)!=_0x2e1f27[_0x822122+0x1])return![];}}return!![];},_0x5cd803=function(_0x5a017d,_0x116886,_0x5a4667){return _0x926b8f(_0x116886,_0x5a4667,_0x5a017d);},_0x3cb754=function(_0x2fa4e0,_0x2a60ba,_0x5cef41){return _0x5cd803(_0x2a60ba,_0x2fa4e0,_0x5cef41);},_0x2adb2f=function(_0x5f1b2d,_0x350e03,_0x4e0682){return _0x3cb754(_0x350e03,_0x4e0682,_0x5f1b2d);};for(var _0x1ec893 in _0x2c07fd){if(_0x926b8f(_0x1ec893,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x320ae0=_0x1ec893;break;}}for(var _0x54e99f in _0x2c07fd[_0x320ae0]){if(_0x2adb2f(0x6,_0x54e99f,[0x5,0x6e,0x0,0x64])){_0x115d88=_0x54e99f;break;}}for(var _0x2b5b6a in _0x2c07fd[_0x320ae0]){if(_0x3cb754(_0x2b5b6a,[0x7,0x6e,0x0,0x6c],0x8)){_0x4ff8ca=_0x2b5b6a;break;}}if(!('~'>_0x115d88))for(var _0x4c65e4 in _0x2c07fd[_0x320ae0][_0x4ff8ca]){if(_0x5cd803([0x7,0x65,0x0,0x68],_0x4c65e4,0x8)){_0x2ff8d5=_0x4c65e4;break;}}if(!_0x320ae0||!_0x2c07fd[_0x320ae0])return;var _0x493819=_0x2c07fd[_0x320ae0][_0x115d88],_0x17faa5=!!_0x2c07fd[_0x320ae0][_0x4ff8ca]&&_0x2c07fd[_0x320ae0][_0x4ff8ca][_0x2ff8d5],_0x126ab4=_0x493819||_0x17faa5;if(!_0x126ab4)return;var _0x535c62=![];for(var _0x1c3461=0x0;_0x1c3461<_0x50044c[_0x3dcc0d(0x1f4)];_0x1c3461++){var _0x115d88=_0x50044c[_0x1c3461],_0x3fbe23=_0x115d88[0x0]===String[_0x3dcc0d(0x1ab)](0x2e)?_0x115d88[_0x3dcc0d(0x204)](0x1):_0x115d88,_0x38cb21=_0x126ab4[_0x3dcc0d(0x1f4)]-_0x3fbe23[_0x3dcc0d(0x1f4)],_0x54f613=_0x126ab4[_0x3dcc0d(0x206)](_0x3fbe23,_0x38cb21),_0x898bac=_0x54f613!==-0x1&&_0x54f613===_0x38cb21;_0x898bac&&((_0x126ab4[_0x3dcc0d(0x1f4)]==_0x115d88[_0x3dcc0d(0x1f4)]||_0x115d88[_0x3dcc0d(0x206)]('.')===0x0)&&(_0x535c62=!![]));}if(!_0x535c62){var _0x2c62bc=new RegExp(_0x3dcc0d(0x19e),'g'),_0x3b2ab2='aLbKPouyWCpt:blgVaDXnJkIGYPDUgQLBmSLCJe'[_0x3dcc0d(0x1c4)](_0x2c62bc,'');_0x2c07fd[_0x320ae0][_0x4ff8ca]=_0x3b2ab2;}});return _0x1a3a00(),document[_0x3c8b41(0x21e)](_0x3daa50);}var canvas=id('canvas'),sheet=id(_0x1832f7(0x1d5)),c=canvas['getContext']('2d');c[_0x1832f7(0x1cc)]=![];var levels=[],currentLevel=0x0,mapObject={'map':[],'camBoxes':[],'spawnPoint':{}},map=[],hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};id('+')[_0x1832f7(0x181)]=function(){addLevel();};function clearMap(){var _0x2e2b0f=_0x1832f7;map=[],mapObject[_0x2e2b0f(0x1dd)]=[],mapObject[_0x2e2b0f(0x216)]=[],mapObject[_0x2e2b0f(0x1a7)]={'x':0x1e,'y':0x14},hitBoxes=[],camBoxes=[],spawnPoint={'x':0x1e,'y':0x14};}function clearButtons(){var _0xfcd273=_0x1832f7;let _0x4606de=document[_0xfcd273(0x1bc)]('levels');for(let _0x3e5a1e=_0x4606de['length']-0x1;_0x3e5a1e>=0x0;_0x3e5a1e--){_0x4606de[_0x3e5a1e][_0xfcd273(0x215)][_0xfcd273(0x200)](_0x4606de[_0x3e5a1e]);}}id('saveButton')['onclick']=saveImage;function saveImage(){var _0x57c8dd=_0x1832f7;canvas[_0x57c8dd(0x211)](_0x4cfe36=>navigator[_0x57c8dd(0x20c)][_0x57c8dd(0x1b8)]([new ClipboardItem({'image/png':_0x4cfe36})]));}function addButton(){var _0x10ec3f=_0x1832f7,_0x391428=document['createElement'](_0x10ec3f(0x1bf));_0x391428[_0x10ec3f(0x196)]=levels[_0x10ec3f(0x1f4)],_0x391428[_0x10ec3f(0x17e)]=levels[_0x10ec3f(0x1f4)],_0x391428[_0x10ec3f(0x20f)]+='\x20levels',_0x391428[_0x10ec3f(0x1ba)]=function(_0x449933){var _0xee2de=_0x10ec3f;levels[currentLevel]=newMapExport(),clearMap(),currentLevel=this[_0xee2de(0x196)],safeEval(JSON[_0xee2de(0x1b9)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();},id(_0x10ec3f(0x1d1))['appendChild'](_0x391428),highlightCurrentLevel();}function addLevel(){var _0x56705a=_0x1832f7;madeChanges=!![],addButton(),levels[currentLevel]=newMapExport(),clearMap(),levels[_0x56705a(0x1f1)](currentLevel+0x1,0x0,newMapExport()),currentLevel+=0x1,safeEval(JSON[_0x56705a(0x1b9)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}addButton(),levels[currentLevel]=newMapExport();function _0x4dc3(_0x22e8ac,_0x5c4025){var _0xfcd05a=_0x4692();return _0x4dc3=function(_0x5e207d,_0x38b208){_0x5e207d=_0x5e207d-0x17c;var _0x90e474=_0xfcd05a[_0x5e207d];return _0x90e474;},_0x4dc3(_0x22e8ac,_0x5c4025);}var cellQuantityW=id('mapSizeW')['value'],cellQuantityH=id(_0x1832f7(0x190))[_0x1832f7(0x21a)],cellSize=0x10,fileName=_0x1832f7(0x210),interactiveTile=0x0;canvas[_0x1832f7(0x20d)]=cellQuantityW*cellSize,canvas[_0x1832f7(0x1ad)]=cellQuantityH*cellSize,id('mapSizeBtnW')['onclick']=function(){var _0x10c2ca=_0x1832f7;cellQuantityW=id(_0x10c2ca(0x1ea))[_0x10c2ca(0x21a)],changeMapSize();},id(_0x1832f7(0x1f2))['onclick']=function(){var _0x469f27=_0x1832f7;cellQuantityH=id(_0x469f27(0x190))['value'],changeMapSize();},window[_0x1832f7(0x1f6)]=function(){var _0x17bf6f=_0x1832f7;for(let _0x1dd5fa=0x0;_0x1dd5fa<tiles[_0x17bf6f(0x1f4)];_0x1dd5fa++){var _0xc66647=document[_0x17bf6f(0x1f9)](_0x17bf6f(0x1b2));_0xc66647['id']=_0x17bf6f(0x1b2)+_0x1dd5fa,_0xc66647[_0x17bf6f(0x20d)]=0x20,_0xc66647[_0x17bf6f(0x1ad)]=0x20,_0xc66647[_0x17bf6f(0x196)]=_0x1dd5fa,_0xc66647[_0x17bf6f(0x212)]('2d')[_0x17bf6f(0x1cc)]=![];_0x1dd5fa===0x0&&(_0xc66647[_0x17bf6f(0x20f)]+=_0x17bf6f(0x217));_0xc66647[_0x17bf6f(0x20f)]+=_0x17bf6f(0x1a0),_0xc66647['getContext']('2d')[_0x17bf6f(0x1a9)](sheet,tiles[_0x1dd5fa][0x0]*0x10,tiles[_0x1dd5fa][0x1]*0x10,0x10,0x10,0x0,0x0,_0xc66647[_0x17bf6f(0x20d)],_0xc66647[_0x17bf6f(0x1ad)]);var _0xfb6d64=document['getElementsByTagName'](_0x17bf6f(0x1e6))[0x0];id(_0x17bf6f(0x18f))[_0x17bf6f(0x18c)](_0xc66647),id('canvas'+_0x1dd5fa)[_0x17bf6f(0x181)]=function(){var _0x557479=_0x17bf6f;selectedType=this['number'];for(let _0xe4bb48=0x0;_0xe4bb48<tiles[_0x557479(0x1f4)];_0xe4bb48++){id(_0x557479(0x1b2)+_0xe4bb48)['classList'][_0x557479(0x1d0)]('selected');}this['className']+=_0x557479(0x217);};}loop();},id('test')['onclick']=function(){var _0x18b866=_0x1832f7;levels[currentLevel]=newMapExport(),newMapExport(),levelsArray=[];for(let _0x406467=0x0;_0x406467<levels[_0x18b866(0x1f4)];_0x406467++){levelsArray['push'](JSON[_0x18b866(0x1b9)](levels[_0x406467]));}var _0x85ab47=window[_0x18b866(0x213)](_0x18b866(0x18b));},id(_0x1832f7(0x184))[_0x1832f7(0x181)]=function(){var _0x144354=_0x1832f7;interactiveTile?(interactiveTile=0x0,id(_0x144354(0x184))[_0x144354(0x1b5)][_0x144354(0x18e)]=_0x144354(0x1e5),id(_0x144354(0x184))[_0x144354(0x1b5)][_0x144354(0x1fc)]=_0x144354(0x1cb)):(interactiveTile=0x1,id(_0x144354(0x184))[_0x144354(0x1b5)]['backgroundColor']='black',id(_0x144354(0x184))[_0x144354(0x1b5)][_0x144354(0x1fc)]=_0x144354(0x1e5));};var hitBoxToggle=![];id(_0x1832f7(0x1f0))[_0x1832f7(0x181)]=function(){var _0x3b75cf=_0x1832f7;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id('toggle')['innerHTML']=_0x3b75cf(0x191);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x3b75cf(0x1f0))[_0x3b75cf(0x17e)]=_0x3b75cf(0x21c);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x3b75cf(0x1f0))[_0x3b75cf(0x17e)]=_0x3b75cf(0x180));}};function _0x4692(){var _0x5157f7=['fillRect','return\x20(function()\x20','x:\x20','function','MapTester/index.html','appendChild','map.json','backgroundColor','cont2','mapSizeH','drawing:\x20displayed','speed',',\x20h:\x20','cursor','preventDefault','number','exportBox','object','info','pageXOffset','1159122XjQUYF','push','mousedown','[LKPyWCpgVDXJIGYPDUgQLBmSLCJe]','text','\x20tile','none','readAsText','createObjectURL','#000000','<br>\x20w:\x20','log','spawnPoint','contextmenu','drawImage','xRDiff','fromCharCode','fillStyle','height','4327775AcOBSI','top','{}.constructor(\x22return\x20this\x22)(\x20)','levels','canvas','keydown',',\x20y:\x20','style','282uOlVQf','click','write','parse','onmousedown','crosshair','getElementsByClassName','offsetTop','URL','button','beginPath','mousemove','innerHeight','zoomer','replace','onmousemove','block','image','add','display','globalAlpha','black','imageSmoothingEnabled','3462836MMhUZo','#ff0000','clipboardData','remove','cont3','clearRect','mouseup','zoomOut','sheet','selected','files','pageYOffset','importing...','deleteLvl','classList','type\x20of\x20camera','map','#5b6ee1','yRDiff','charCodeAt','href','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','split','moveMap','white','body','6LqjKDH','getAsFile','stroke','mapSizeW','contains','left','spawn','8043808SwnfPp','onchange','toggle','splice','mapSizeBtnH','188853NnRNpv','length','1133115bjwOZk','onload','addEventListener','rect','createElement','stringify','clientY','color','innerWidth','download','offsetLeft','removeChild','clientX','moveTo','event','slice','result','indexOf','webkitURL','onmouseup','cont','strokeStyle','lineTo','clipboard','width','msSaveBlob','className','mapCode','toBlob','getContext','open','navigator','parentNode','camBoxes','\x20selected','lineWidth','zoomIn','value','27762048qxdmca','drawing:\x20hitboxes','text/csv','getElementById','file','#ffffff','innerHTML','keyCode','drawing:\x20camera','onclick','exportText','closePath','interactive','apply','type'];_0x4692=function(){return _0x5157f7;};return _0x4692();}var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function loop(){var _0x47e716=_0x1832f7;c[_0x47e716(0x1d2)](0x0,0x0,canvas[_0x47e716(0x20d)],canvas[_0x47e716(0x1ad)]),pastedImage&&c[_0x47e716(0x1a9)](pastedImage,0x0,0x0,pastedImage[_0x47e716(0x20d)],pastedImage[_0x47e716(0x1ad)]),renderGrid(),renderMap(),mouseDown&&!(movingMap||definingSpawnpoint)&&renderSquare(),requestAnimationFrame(loop);}function renderSquare(){var _0x26c466=_0x1832f7;if(hitBoxToggle==0x1)c[_0x26c466(0x20a)]=_0x26c466(0x1ce);else c[_0x26c466(0x20a)]=_0x26c466(0x17d);c['beginPath'](),c[_0x26c466(0x1f8)](square['x'],square['y'],square['w'],square['h']),c[_0x26c466(0x183)](),c[_0x26c466(0x1e9)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x10},sX=0x0,sY=0x0;dragElement(id(_0x1832f7(0x209))),dragElement(id(_0x1832f7(0x18f))),dragElement(id(_0x1832f7(0x1d1)));function dragElement(_0x3e83fa){var _0x26a8ff=_0x1832f7,_0x95ab9=0x0,_0x224a1a=0x0,_0x4b6478=0x0,_0x1f74b9=0x0;_0x3e83fa[_0x26a8ff(0x1ba)]=_0x2bdce2;function _0x2bdce2(_0x2cbf31){var _0x256c7e=_0x26a8ff;_0x2cbf31=_0x2cbf31||window[_0x256c7e(0x203)],_0x4b6478=_0x2cbf31['clientX'],_0x1f74b9=_0x2cbf31[_0x256c7e(0x1fb)],document[_0x256c7e(0x208)]=_0x38537d,document[_0x256c7e(0x1c5)]=_0x52b0b0;}function _0x52b0b0(_0x1e8942){var _0x2b578d=_0x26a8ff;_0x1e8942=_0x1e8942||window[_0x2b578d(0x203)],_0x1e8942[_0x2b578d(0x195)](),_0x95ab9=_0x4b6478-_0x1e8942[_0x2b578d(0x201)],_0x224a1a=_0x1f74b9-_0x1e8942[_0x2b578d(0x1fb)],_0x4b6478=_0x1e8942[_0x2b578d(0x201)],_0x1f74b9=_0x1e8942[_0x2b578d(0x1fb)],_0x3e83fa['style'][_0x2b578d(0x1af)]=_0x3e83fa[_0x2b578d(0x1bd)]-_0x224a1a+'px',_0x3e83fa[_0x2b578d(0x1b5)]['left']=_0x3e83fa[_0x2b578d(0x1ff)]-_0x95ab9+'px';}function _0x38537d(){var _0x3cd33b=_0x26a8ff;document[_0x3cd33b(0x208)]=null,document['onmousemove']=null;}}var mapCode='';id('exportMap')['onclick']=function(){var _0x2284af=_0x1832f7;levels[currentLevel]=newMapExport(),levelsArray=[];for(let _0xd7d13e=0x0;_0xd7d13e<levels[_0x2284af(0x1f4)];_0xd7d13e++){levelsArray[_0x2284af(0x19c)](JSON[_0x2284af(0x1b9)](levels[_0xd7d13e]));}id(_0x2284af(0x197))[_0x2284af(0x1b5)]['display']=_0x2284af(0x1c6),id(_0x2284af(0x182))[_0x2284af(0x17e)]=JSON[_0x2284af(0x1fa)](levelsArray);};function newMapExport(){var _0x37cb43=_0x1832f7;return mapObject={'map':map,'camBoxes':camBoxes,'spawnPoint':spawnPoint},JSON[_0x37cb43(0x1fa)](mapObject);};id('closeBtn')[_0x1832f7(0x181)]=function(){var _0x137841=_0x1832f7;id(_0x137841(0x197))['style'][_0x137841(0x1c9)]=_0x137841(0x1a1);},id('downloadBtn')[_0x1832f7(0x181)]=function(){var _0x4c1935=_0x1832f7;download(_0x4c1935(0x18d),JSON[_0x4c1935(0x1fa)](levelsArray));},id('file')[_0x1832f7(0x1ef)]=function(){var _0x39ef67=_0x1832f7;console[_0x39ef67(0x1a6)](_0x39ef67(0x1d9));let _0x12a4e9=id(_0x39ef67(0x17c))['files'][0x0];fileName=id(_0x39ef67(0x17c))[_0x39ef67(0x1d7)][0x0]['name'][_0x39ef67(0x1e3)]('.')[0x0];let _0x1c6fb5=new FileReader();_0x1c6fb5[_0x39ef67(0x1f6)]=function(_0xd3a526){var _0x572303=_0x39ef67;let _0x297358=_0x1c6fb5[_0x572303(0x205)];clearMap(),clearButtons(),levels=[],currentLevel=0x0,levelsArray=JSON[_0x572303(0x1b9)](_0x297358);for(let _0x559bcd=0x0;_0x559bcd<levelsArray['length'];_0x559bcd++){addButton(),levels[_0x559bcd]=JSON[_0x572303(0x1fa)](levelsArray[_0x559bcd]);}safeEval(levelsArray[0x0]),resizeMap(),highlightCurrentLevel();},_0x1c6fb5[_0x39ef67(0x1a2)](_0x12a4e9);};function safeEval(_0x24a0c0){var _0x276790=_0x1832f7;typeof _0x24a0c0===_0x276790(0x198)&&_0x24a0c0!==null&&(map=_0x24a0c0[_0x276790(0x1dd)],spawnPoint=_0x24a0c0[_0x276790(0x1a7)],camBoxes=_0x24a0c0[_0x276790(0x216)]);}var baseWidth=id(_0x1832f7(0x1ea))[_0x1832f7(0x21a)],baseHeight=id(_0x1832f7(0x190))[_0x1832f7(0x21a)];function resizeMap(){var _0x58b43b=_0x1832f7;let _0x45e32c=0x0,_0x54ffa8=0x0;for(let _0x19e841=0x0;_0x19e841<map[_0x58b43b(0x1f4)];_0x19e841++){map[_0x19e841]['x']+map[_0x19e841]['w']>_0x45e32c&&(_0x45e32c=map[_0x19e841]['x']+map[_0x19e841]['w']),map[_0x19e841]['y']+map[_0x19e841]['h']>_0x54ffa8&&(_0x54ffa8=map[_0x19e841]['y']+map[_0x19e841]['h']);}_0x54ffa8<baseHeight&&(_0x54ffa8=baseHeight),_0x45e32c<baseWidth&&(_0x45e32c=baseWidth),cellQuantityW=_0x45e32c,id(_0x58b43b(0x1ea))['value']=_0x45e32c,cellQuantityH=_0x54ffa8,id(_0x58b43b(0x190))[_0x58b43b(0x21a)]=_0x54ffa8,changeMapSize();}function highlightCurrentLevel(){var _0xc1d256=_0x1832f7;let _0x534f2d=document[_0xc1d256(0x1bc)](_0xc1d256(0x1b1));for(let _0x36e8c6=0x0;_0x36e8c6<_0x534f2d['length'];_0x36e8c6++){if(_0x534f2d[_0x36e8c6][_0xc1d256(0x196)]==currentLevel)!_0x534f2d[_0x36e8c6]['classList']['contains'](_0xc1d256(0x1d6))&&_0x534f2d[_0x36e8c6][_0xc1d256(0x1db)][_0xc1d256(0x1c8)](_0xc1d256(0x1d6));else _0x534f2d[_0x36e8c6][_0xc1d256(0x1db)][_0xc1d256(0x1eb)](_0xc1d256(0x1d6))&&_0x534f2d[_0x36e8c6][_0xc1d256(0x1db)][_0xc1d256(0x1d0)](_0xc1d256(0x1d6));}}function cameraMove(){var _0x4d7ee7=_0x1832f7;camera['L']&&(sX-=camera[_0x4d7ee7(0x192)]);camera['R']&&(sX+=camera['speed']);camera['T']&&(sY-=camera[_0x4d7ee7(0x192)]);camera['B']&&(sY+=camera[_0x4d7ee7(0x192)]);sX<0x0&&(sX=0x0);sX>canvas[_0x4d7ee7(0x20d)]-window[_0x4d7ee7(0x1fd)]&&(sX=canvas[_0x4d7ee7(0x20d)]-window[_0x4d7ee7(0x1fd)]);sY<0x0&&(sY=0x0);sY>canvas[_0x4d7ee7(0x1ad)]-window['innerHeight']&&(sY=canvas['height']-window[_0x4d7ee7(0x1c2)]);if(camera[_0x4d7ee7(0x1d4)])id(_0x4d7ee7(0x1c3))[_0x4d7ee7(0x21a)]--,zoomChange();else camera[_0x4d7ee7(0x219)]&&(id(_0x4d7ee7(0x1c3))[_0x4d7ee7(0x21a)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x25eb30=_0x1832f7;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x25eb30(0x219)]||camera['zoomOut'])&&cameraMove();c[_0x25eb30(0x1ca)]=0x1;for(let _0x9e043d=0x0;_0x9e043d<map[_0x25eb30(0x1f4)];_0x9e043d++){if(map[_0x9e043d]['type']>0x33)for(let _0x2e2be9=0x0;_0x2e2be9<map[_0x9e043d]['h'];_0x2e2be9++){for(let _0x3fec70=0x0;_0x3fec70<map[_0x9e043d]['w'];_0x3fec70++){c[_0x25eb30(0x1a9)](id(_0x25eb30(0x1d5)),tiles[map[_0x9e043d][_0x25eb30(0x186)]][0x0]*0x10,tiles[map[_0x9e043d][_0x25eb30(0x186)]][0x1]*0x10,0x10,0x10,(map[_0x9e043d]['x']+_0x3fec70)*cellSize,(map[_0x9e043d]['y']+_0x2e2be9)*cellSize,cellSize,cellSize);}}}for(let _0x45329e=0x0;_0x45329e<map['length'];_0x45329e++){if(map[_0x45329e][_0x25eb30(0x186)]<=0x33)for(let _0x41bbae=0x0;_0x41bbae<map[_0x45329e]['h'];_0x41bbae++){for(let _0x481c94=0x0;_0x481c94<map[_0x45329e]['w'];_0x481c94++){c['drawImage'](id(_0x25eb30(0x1d5)),tiles[map[_0x45329e][_0x25eb30(0x186)]][0x0]*0x10,tiles[map[_0x45329e][_0x25eb30(0x186)]][0x1]*0x10,0x10,0x10,(map[_0x45329e]['x']+_0x481c94)*cellSize,(map[_0x45329e]['y']+_0x41bbae)*cellSize,cellSize,cellSize);}}}for(let _0x18ba7d=0x0;_0x18ba7d<hitBoxes[_0x25eb30(0x1f4)];_0x18ba7d++){c['fillStyle']=_0x25eb30(0x1a4),c['fillRect'](hitBoxes[_0x18ba7d]['x']*cellSize,hitBoxes[_0x18ba7d]['y']*cellSize,hitBoxes[_0x18ba7d]['w']*cellSize,hitBoxes[_0x18ba7d]['h']*cellSize);}c[_0x25eb30(0x1ca)]=0x1;for(let _0x5cc132=0x0;_0x5cc132<camBoxes[_0x25eb30(0x1f4)];_0x5cc132++){c[_0x25eb30(0x20a)]='#002200',c[_0x25eb30(0x1c0)](),c[_0x25eb30(0x1f8)](camBoxes[_0x5cc132]['x']*cellSize,camBoxes[_0x5cc132]['y']*cellSize,camBoxes[_0x5cc132]['w']*cellSize,camBoxes[_0x5cc132]['h']*cellSize),c[_0x25eb30(0x183)](),c[_0x25eb30(0x1e9)]();}c[_0x25eb30(0x1ac)]=_0x25eb30(0x1de),c[_0x25eb30(0x187)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x59bf66=_0x1832f7;c[_0x59bf66(0x218)]=0.1,c[_0x59bf66(0x20a)]=_0x59bf66(0x17d);for(let _0x1a0d0e=0x0;_0x1a0d0e<canvas[_0x59bf66(0x20d)];_0x1a0d0e+=cellSize){c[_0x59bf66(0x1c0)](),c[_0x59bf66(0x202)](_0x1a0d0e,0x0),c[_0x59bf66(0x20b)](_0x1a0d0e,canvas['height']),c[_0x59bf66(0x183)](),c['stroke']();}for(let _0x2d2ae3=0x0;_0x2d2ae3<canvas[_0x59bf66(0x1ad)];_0x2d2ae3+=cellSize){c[_0x59bf66(0x1c0)](),c['moveTo'](0x0,_0x2d2ae3),c['lineTo'](canvas[_0x59bf66(0x20d)],_0x2d2ae3),c[_0x59bf66(0x183)](),c[_0x59bf66(0x1e9)]();}c[_0x59bf66(0x218)]=0x1;}var definingSpawnpoint=![];id(_0x1832f7(0x1ed))[_0x1832f7(0x181)]=function(){var _0x3077da=_0x1832f7;if(definingSpawnpoint){definingSpawnpoint=![],id(_0x3077da(0x1ed))[_0x3077da(0x1b5)]['color']=_0x3077da(0x1a4),id(_0x3077da(0x1b2))[_0x3077da(0x1b5)][_0x3077da(0x194)]='crosshair',canvas[_0x3077da(0x181)]=null;return;}definingSpawnpoint=!![],id('spawn')[_0x3077da(0x1b5)]['color']='#0000cc',id(_0x3077da(0x1b2))['style'][_0x3077da(0x194)]='pointer',canvas[_0x3077da(0x181)]=()=>{var _0x5bc413=_0x3077da;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id('spawn')['style'][_0x5bc413(0x1fc)]=_0x5bc413(0x1a4),id('canvas')[_0x5bc413(0x1b5)][_0x5bc413(0x194)]=_0x5bc413(0x1bb),canvas[_0x5bc413(0x181)]=null;};};var movingMap=![],movingVariables={'xRDiff':0x0,'yRDiff':0x0};id('moveMap')[_0x1832f7(0x181)]=function(){var _0x1fef84=_0x1832f7;if(movingMap){movingMap=![],id(_0x1fef84(0x1e4))[_0x1fef84(0x1b5)]['color']=_0x1fef84(0x1a4),id(_0x1fef84(0x1b2))[_0x1fef84(0x1b5)][_0x1fef84(0x194)]=_0x1fef84(0x1bb);return;}movingMap=!![],id(_0x1fef84(0x1e4))[_0x1fef84(0x1b5)][_0x1fef84(0x1fc)]='#0000cc',id('canvas')['style'][_0x1fef84(0x194)]='all-scroll',canvas[_0x1fef84(0x1f7)](_0x1fef84(0x1c1),function(){var _0x5a0125=_0x1fef84;if(!movingMap||!mouseDown)return;let _0x2938a6=square['w']/cellSize-movingVariables[_0x5a0125(0x1aa)],_0x2c094e=square['h']/cellSize-movingVariables[_0x5a0125(0x1df)];(_0x2938a6!==0x0||_0x2c094e!==0x0)&&(moveEverything(_0x2938a6,_0x2c094e),movingVariables[_0x5a0125(0x1aa)]+=_0x2938a6,movingVariables[_0x5a0125(0x1df)]+=_0x2c094e);}),canvas['addEventListener'](_0x1fef84(0x1d3),function(){var _0x5c66d3=_0x1fef84;if(!movingMap)return;movingVariables['xRDiff']=0x0,movingVariables[_0x5c66d3(0x1df)]=0x0;});};function moveEverything(_0x1132ca,_0x4ef50b){var _0x495827=_0x1832f7;if(_0x1132ca==0x0&&_0x4ef50b==0x0)return;for(let _0x23b2b8=0x0;_0x23b2b8<map[_0x495827(0x1f4)];_0x23b2b8++){map[_0x23b2b8]['x']+=_0x1132ca,map[_0x23b2b8]['y']+=_0x4ef50b;}for(let _0xd94c8f=0x0;_0xd94c8f<hitBoxes[_0x495827(0x1f4)];_0xd94c8f++){hitBoxes[_0xd94c8f]['x']+=_0x1132ca,hitBoxes[_0xd94c8f]['y']+=_0x4ef50b;}for(let _0x1954d9=0x0;_0x1954d9<camBoxes[_0x495827(0x1f4)];_0x1954d9++){camBoxes[_0x1954d9]['x']+=_0x1132ca,camBoxes[_0x1954d9]['y']+=_0x4ef50b;}spawnPoint['x']+=_0x1132ca,spawnPoint['y']+=_0x4ef50b;}function infoText(){var _0x1e7ef0=_0x1832f7,_0xeff805=square['x']/cellSize,_0x18cf09=square['y']/cellSize;_0xeff805>-0x1&&_0xeff805<0x1&&(_0xeff805=0x0),_0x18cf09>-0x1&&_0x18cf09<0x1&&(_0x18cf09=0x0),id(_0x1e7ef0(0x199))[_0x1e7ef0(0x17e)]=_0x1e7ef0(0x189)+_0xeff805+_0x1e7ef0(0x1b4)+_0x18cf09+_0x1e7ef0(0x1a5)+square['w']/cellSize+_0x1e7ef0(0x193)+square['h']/cellSize;}var mouseDown=![];canvas[_0x1832f7(0x1f7)](_0x1832f7(0x19d),function(_0x5136f4){var _0x278417=_0x1832f7;mouseDown=!![];var _0x2ff92e=window['pageXOffset']-canvas[_0x278417(0x1ff)],_0x1502ed=window[_0x278417(0x1d8)]-canvas[_0x278417(0x1bd)];id('info')[_0x278417(0x1b5)][_0x278417(0x1c9)]='block',id(_0x278417(0x199))[_0x278417(0x1b5)][_0x278417(0x1ec)]=_0x5136f4['clientX']+0x1e+'px',id(_0x278417(0x199))[_0x278417(0x1b5)][_0x278417(0x1af)]=_0x5136f4[_0x278417(0x1fb)]-0x1e+'px',square['x']=round(_0x5136f4[_0x278417(0x201)]+_0x2ff92e)*cellSize,square['y']=round(_0x5136f4[_0x278417(0x1fb)]+_0x1502ed)*cellSize,square['w']=0x0,square['h']=0x0,infoText();}),canvas[_0x1832f7(0x1f7)](_0x1832f7(0x1c1),function(_0x493c62){var _0x50ea9c=_0x1832f7,_0x1c4ddd=window[_0x50ea9c(0x19a)]-canvas[_0x50ea9c(0x1ff)],_0x1ebbb2=window[_0x50ea9c(0x1d8)]-canvas[_0x50ea9c(0x1bd)];mouseDown&&(id(_0x50ea9c(0x199))['style'][_0x50ea9c(0x1c9)]=_0x50ea9c(0x1c6),id('info')[_0x50ea9c(0x1b5)][_0x50ea9c(0x1ec)]=_0x493c62['clientX']+0x1e+'px',id('info')[_0x50ea9c(0x1b5)][_0x50ea9c(0x1af)]=_0x493c62[_0x50ea9c(0x1fb)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x493c62['clientX']+_0x1c4ddd-square['x'])*cellSize,square['h']=round(_0x493c62[_0x50ea9c(0x1fb)]+_0x1ebbb2-square['y'])*cellSize);}),canvas[_0x1832f7(0x1f7)]('mouseup',function(_0x4e5711){var _0x11c100=_0x1832f7;id(_0x11c100(0x199))['style'][_0x11c100(0x1c9)]='none',mouseDown=![],floorSquare();if(movingMap)return;if(definingSpawnpoint){definingSpawnpoint=![];return;}!square['w']&&!square['h']&&_0x4e5711['which']===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){madeChanges=!![];square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x11c100(0x19c)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x5305ea=prompt(_0x11c100(0x1e2),'');hitBoxes[hitBoxes[_0x11c100(0x1f4)]-0x1][_0x11c100(0x19f)]=_0x5305ea;}}else{if(hitBoxToggle==0x0){map[_0x11c100(0x19c)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x5305ea=prompt(_0x11c100(0x1e2),'');map[map['length']-0x1][_0x11c100(0x19f)]=_0x5305ea;}}else{if(hitBoxToggle==0x2){var _0xd7508b=parseInt(prompt(_0x11c100(0x1dc),''));camBoxes[_0x11c100(0x19c)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0xd7508b});}}}}}),id(_0x1832f7(0x1c3))[_0x1832f7(0x1f7)]('change',zoomChange),id(_0x1832f7(0x1da))[_0x1832f7(0x1f7)](_0x1832f7(0x1b7),deleteLevel);function deleteLevel(){var _0x16ca3f=_0x1832f7;madeChanges=!![];if(levels[_0x16ca3f(0x1f4)]==0x1){clearMap();return;}removeButton(),levels[_0x16ca3f(0x1f1)](currentLevel,0x1),clearMap(),currentLevel=levels[_0x16ca3f(0x1f4)]-0x1,safeEval(JSON[_0x16ca3f(0x1b9)](levels[currentLevel])),resizeMap(),highlightCurrentLevel();}function removeButton(){var _0x2e377d=_0x1832f7;let _0x55e7cb={'number':0x0},_0x3d2c8e=document[_0x2e377d(0x1bc)](_0x2e377d(0x1b1));for(let _0x10ca4e=0x0;_0x10ca4e<_0x3d2c8e[_0x2e377d(0x1f4)];_0x10ca4e++){_0x3d2c8e[_0x10ca4e][_0x2e377d(0x196)]>=_0x55e7cb['number']&&(_0x55e7cb=_0x3d2c8e[_0x10ca4e]);}_0x55e7cb[_0x2e377d(0x215)]['removeChild'](_0x55e7cb);}function zoomChange(){var _0x30718f=_0x1832f7;cellSize=parseInt(id(_0x30718f(0x1c3))[_0x30718f(0x21a)]),changeMapSize();}function changeMapSize(){var _0x1c1b1e=_0x1832f7;canvas['width']=cellQuantityW*cellSize,canvas[_0x1c1b1e(0x1ad)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']/cellSize|0x0,square['y']=square['y']/cellSize|0x0,square['w']=square['w']/cellSize|0x0,square['h']=square['h']/cellSize|0x0;}function round(_0x53d9c7){var _0x6fe3d3=parseInt(_0x53d9c7),_0x3bb27a=_0x6fe3d3%cellSize;if(_0x3bb27a!==0x0){if(_0x3bb27a>cellSize/0x2)_0x6fe3d3=_0x6fe3d3-_0x3bb27a+cellSize;else _0x6fe3d3=_0x6fe3d3-_0x3bb27a;}return _0x6fe3d3/cellSize>0x0&&_0x6fe3d3/cellSize<0x1?0x0:_0x6fe3d3/cellSize;}function enableBeforeUnload(){window['onbeforeunload']=function(_0x13eb46){if(madeChanges)return'Discard\x20changes?';};}function disableBeforeUnload(){window['onbeforeunload']=null;}enableBeforeUnload(),document['addEventListener'](_0x1832f7(0x1a8),function(_0x1171a6){var _0x2df976=_0x1832f7;madeChanges=!![];var _0x15f15d=window[_0x2df976(0x19a)]-canvas[_0x2df976(0x1ff)],_0x562ffe=window[_0x2df976(0x1d8)]-canvas['offsetTop'];_0x1171a6[_0x2df976(0x195)]();var _0x180cec=_0x1171a6[_0x2df976(0x201)]+_0x15f15d,_0x2df02f=_0x1171a6[_0x2df976(0x1fb)]+_0x562ffe;removeElements(map,_0x180cec,_0x2df02f),removeElements(hitBoxes,_0x180cec,_0x2df02f),removeElements(camBoxes,_0x180cec,_0x2df02f);});function removeElements(_0x36cec1,_0x2b328d,_0x2e6225){var _0x5137ea=_0x1832f7,_0x24d26e=[];for(let _0x33c14e=0x0;_0x33c14e<_0x36cec1[_0x5137ea(0x1f4)];_0x33c14e++){_0x2b328d>_0x36cec1[_0x33c14e]['x']*cellSize&&_0x2b328d<_0x36cec1[_0x33c14e]['x']*cellSize+_0x36cec1[_0x33c14e]['w']*cellSize&&(_0x2e6225>_0x36cec1[_0x33c14e]['y']*cellSize&&_0x2e6225<_0x36cec1[_0x33c14e]['y']*cellSize+_0x36cec1[_0x33c14e]['h']*cellSize&&_0x24d26e[_0x5137ea(0x19c)](_0x33c14e));}_0x24d26e['sort'](function(_0x4ffd0f,_0x38b0ee){return _0x38b0ee-_0x4ffd0f;});for(let _0x4f7f00=0x0;_0x4f7f00<_0x24d26e[_0x5137ea(0x1f4)];_0x4f7f00++){_0x36cec1[_0x5137ea(0x1f1)](_0x24d26e[_0x4f7f00],0x1);}}function download(_0x265b3b,_0x3e6721){var _0x29768a=_0x1832f7;madeChanges=![];var _0x3e49dc=new Blob([_0x3e6721],{'type':_0x29768a(0x21d)});if(window[_0x29768a(0x214)]['msSaveOrOpenBlob'])window[_0x29768a(0x214)][_0x29768a(0x20e)](_0x3e49dc,_0x265b3b);else{var _0xb4c9d2=window['document']['createElement']('a');_0xb4c9d2[_0x29768a(0x1e1)]=window['URL'][_0x29768a(0x1a3)](_0x3e49dc),_0xb4c9d2[_0x29768a(0x1fe)]=_0x265b3b,document['body'][_0x29768a(0x18c)](_0xb4c9d2),_0xb4c9d2[_0x29768a(0x1b7)](),document[_0x29768a(0x1e6)][_0x29768a(0x200)](_0xb4c9d2);}}window[_0x1832f7(0x1f7)](_0x1832f7(0x1b3),function(_0x861091){var _0x2c7474=_0x1832f7,_0x1a676c=_0x861091[_0x2c7474(0x17f)];switch(_0x1a676c){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x2c7474(0x219)]=!![];break;case 0x51:camera[_0x2c7474(0x1d4)]=!![];break;}}),window[_0x1832f7(0x1f7)]('keyup',function(_0x50e783){var _0x3c4b38=_0x1832f7,_0x4334cd=_0x50e783[_0x3c4b38(0x17f)];switch(_0x4334cd){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x3c4b38(0x219)]=![];break;case 0x51:camera[_0x3c4b38(0x1d4)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x374614,_0x31c664){var _0x2e8208=_0x1832f7;_0x374614[_0x2e8208(0x1cf)]==![]&&(typeof _0x31c664==_0x2e8208(0x18a)&&_0x31c664(undefined));;var _0x599ef2=_0x374614[_0x2e8208(0x1cf)]['items'];_0x599ef2==undefined&&(typeof _0x31c664==_0x2e8208(0x18a)&&_0x31c664(undefined));;for(var _0x3d954e=0x0;_0x3d954e<_0x599ef2[_0x2e8208(0x1f4)];_0x3d954e++){if(_0x599ef2[_0x3d954e][_0x2e8208(0x186)]['indexOf'](_0x2e8208(0x1c7))==-0x1)continue;var _0x438254=_0x599ef2[_0x3d954e][_0x2e8208(0x1e8)]();typeof _0x31c664==_0x2e8208(0x18a)&&_0x31c664(_0x438254);}}window['addEventListener']('paste',function(_0x17d4fc){retrieveImageFromClipboardAsBlob(_0x17d4fc,function(_0x140c4c){var _0x56187b=_0x4dc3;if(_0x140c4c){var _0x211965=new Image();_0x211965[_0x56187b(0x1f6)]=function(){var _0x37c562=_0x56187b;pastedImage=_0x211965,id(_0x37c562(0x1ea))[_0x37c562(0x21a)]=pastedImage[_0x37c562(0x20d)]/cellSize,cellQuantityW=pastedImage[_0x37c562(0x20d)]/cellSize,id(_0x37c562(0x190))[_0x37c562(0x21a)]=pastedImage['height']/cellSize,cellQuantityH=pastedImage[_0x37c562(0x1ad)]/cellSize,changeMapSize();};var _0x1acf7e=window[_0x56187b(0x1be)]||window[_0x56187b(0x207)];_0x211965['src']=_0x1acf7e[_0x56187b(0x1a3)](_0x140c4c);}});},![]);