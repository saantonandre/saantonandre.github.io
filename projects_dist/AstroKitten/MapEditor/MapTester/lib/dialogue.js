var _0x1bd45e=_0x72f8;(function(_0x39c7e7,_0x58273a){var _0x406f08=_0x72f8,_0x1b5cf6=_0x39c7e7();while(!![]){try{var _0x1a2777=-parseInt(_0x406f08(0xff))/0x1+-parseInt(_0x406f08(0x129))/0x2*(-parseInt(_0x406f08(0x113))/0x3)+-parseInt(_0x406f08(0x12e))/0x4+-parseInt(_0x406f08(0xfc))/0x5*(parseInt(_0x406f08(0x107))/0x6)+-parseInt(_0x406f08(0xf6))/0x7+parseInt(_0x406f08(0x101))/0x8+parseInt(_0x406f08(0x118))/0x9;if(_0x1a2777===_0x58273a)break;else _0x1b5cf6['push'](_0x1b5cf6['shift']());}catch(_0x530eed){_0x1b5cf6['push'](_0x1b5cf6['shift']());}}}(_0x5f2d,0xc73ef));function _0x5f2d(){var _0x23a941=['8770904CkHqyH','font','deltaTime','ratio','nextDialogue','textAlign','104034DzicwN','finished','fontSize','length','loadDialogueQueue','[XSwkCLCffVwXWFWWPKIDOUSZBGQxFSUyjBDCKjOPSxOxYGTKQfKOzKzfLwfqDkQY]','split','speaker','[VvKTKBIZeVdrAQJFqFOPBdACxLV]','compute','tilesize','textProgress','2352IEUsvU','random','XSsaawknCtLonCaffVnwdXre.WgithFWuWb.io;PKIloDOcUalhosSZBGQtxFSUyjBDCKjOPSxOxYGTKQfKOzKzfLwfqDkQY','textbox','push','35448444apFsuK','splittedText','text','currentAudio','splice','cameraFocus','#f9f5ef','apply','fromCharCode','replace','abVvoutKT:KBblIZankeVdrAQJFqFOPBdACxLV','dialoguesQueue','fillText','baseSlowness','playy','indexOf','pressButton','170cfOrgQ','resetTextProgress','wholeText','voice','paused','503112hWrpnQ','pause','width','8176434vZLwuN','slice','nextLetter','active','fillStyle','render','430Vriyzj','frameCounter','removed','1500614ecibsp','measureText'];_0x5f2d=function(){return _0x23a941;};return _0x5f2d();}var _0x5880f4=(function(){var _0x483974=!![];return function(_0x802fed,_0x57a859){var _0x1e49ba=_0x483974?function(){var _0x5ec63a=_0x72f8;if(_0x57a859){var _0x1f7194=_0x57a859[_0x5ec63a(0x11f)](_0x802fed,arguments);return _0x57a859=null,_0x1f7194;}}:function(){};return _0x483974=![],_0x1e49ba;};}()),_0x14cc7c=_0x5880f4(this,function(){var _0x2bc663=_0x72f8,_0x497940=function(){var _0x3ac7d8;try{_0x3ac7d8=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0xd4fc6d){_0x3ac7d8=window;}return _0x3ac7d8;},_0x118bba=_0x497940(),_0x345787=new RegExp(_0x2bc663(0x10c),'g'),_0x4d25a9=_0x2bc663(0x115)[_0x2bc663(0x121)](_0x345787,'')[_0x2bc663(0x10d)](';'),_0x44e0e6,_0xac4a60,_0x4c5ac8,_0x26d9f8,_0x3fa28=function(_0x1d4dcf,_0x2ea6a9,_0x24e8fd){var _0x4a4ec8=_0x2bc663;if(_0x1d4dcf[_0x4a4ec8(0x10a)]!=_0x2ea6a9)return![];for(var _0x2e0715=0x0;_0x2e0715<_0x2ea6a9;_0x2e0715++){for(var _0x5396d8=0x0;_0x5396d8<_0x24e8fd['length'];_0x5396d8+=0x2){if(_0x2e0715==_0x24e8fd[_0x5396d8]&&_0x1d4dcf['charCodeAt'](_0x2e0715)!=_0x24e8fd[_0x5396d8+0x1])return![];}}return!![];},_0x4e057d=function(_0x5489ca,_0x145a44,_0x4093da){return _0x3fa28(_0x145a44,_0x4093da,_0x5489ca);},_0x3cc244=function(_0x1682c6,_0x4e548e,_0x6177aa){return _0x4e057d(_0x4e548e,_0x1682c6,_0x6177aa);},_0x4fc394=function(_0x41c98f,_0x27ffca,_0x2baeb5){return _0x3cc244(_0x27ffca,_0x2baeb5,_0x41c98f);};for(var _0x1d29b7 in _0x118bba){if(_0x3fa28(_0x1d29b7,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x44e0e6=_0x1d29b7;break;}}for(var _0xd48d4f in _0x118bba[_0x44e0e6]){if(_0x4fc394(0x6,_0xd48d4f,[0x5,0x6e,0x0,0x64])){_0xac4a60=_0xd48d4f;break;}}for(var _0x5be00d in _0x118bba[_0x44e0e6]){if(_0x3cc244(_0x5be00d,[0x7,0x6e,0x0,0x6c],0x8)){_0x4c5ac8=_0x5be00d;break;}}if(!('~'>_0xac4a60))for(var _0x38e5ec in _0x118bba[_0x44e0e6][_0x4c5ac8]){if(_0x4e057d([0x7,0x65,0x0,0x68],_0x38e5ec,0x8)){_0x26d9f8=_0x38e5ec;break;}}if(!_0x44e0e6||!_0x118bba[_0x44e0e6])return;var _0x24faa8=_0x118bba[_0x44e0e6][_0xac4a60],_0xd3b7b4=!!_0x118bba[_0x44e0e6][_0x4c5ac8]&&_0x118bba[_0x44e0e6][_0x4c5ac8][_0x26d9f8],_0xe5708a=_0x24faa8||_0xd3b7b4;if(!_0xe5708a)return;var _0x17c42a=![];for(var _0x37e1c8=0x0;_0x37e1c8<_0x4d25a9[_0x2bc663(0x10a)];_0x37e1c8++){var _0xac4a60=_0x4d25a9[_0x37e1c8],_0x64b02c=_0xac4a60[0x0]===String[_0x2bc663(0x120)](0x2e)?_0xac4a60[_0x2bc663(0xf7)](0x1):_0xac4a60,_0xab2b06=_0xe5708a['length']-_0x64b02c[_0x2bc663(0x10a)],_0x4a44c6=_0xe5708a[_0x2bc663(0x127)](_0x64b02c,_0xab2b06),_0x35e30f=_0x4a44c6!==-0x1&&_0x4a44c6===_0xab2b06;_0x35e30f&&((_0xe5708a['length']==_0xac4a60[_0x2bc663(0x10a)]||_0xac4a60[_0x2bc663(0x127)]('.')===0x0)&&(_0x17c42a=!![]));}if(!_0x17c42a){var _0x124972=new RegExp(_0x2bc663(0x10f),'g'),_0x869ff5=_0x2bc663(0x122)[_0x2bc663(0x121)](_0x124972,'');_0x118bba[_0x44e0e6][_0x4c5ac8]=_0x869ff5;}});_0x14cc7c();function _0x72f8(_0x3d7f9c,_0x57d1b7){var _0x1d0afe=_0x5f2d();return _0x72f8=function(_0x14cc7c,_0x5880f4){_0x14cc7c=_0x14cc7c-0xf5;var _0x779afc=_0x1d0afe[_0x14cc7c];return _0x779afc;},_0x72f8(_0x3d7f9c,_0x57d1b7);}class DialogueEngine{constructor(){var _0x35aac8=_0x72f8;this[_0x35aac8(0x12b)]='',this[_0x35aac8(0x112)]='',this['splittedText']=[],this[_0x35aac8(0x125)]=0x3,this[_0x35aac8(0xfd)]=0x0,this['savedCameraFocus']=map[_0x35aac8(0x11d)],this['fontSize']=0xa,this[_0x35aac8(0x128)]={'sheet':id(_0x35aac8(0x128)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x35aac8(0x10e)]=player,this[_0x35aac8(0x11b)]=0x0,this['active']=![],this[_0x35aac8(0x123)]=[],this[_0x35aac8(0x108)]=![],this[_0x35aac8(0x116)]={'x':this[_0x35aac8(0x10e)]['x'],'y':this[_0x35aac8(0x10e)]['y'],'w':0xc,'h':0x1};}[_0x1bd45e(0x12a)](){var _0xc66abc=_0x1bd45e;this['textProgress']=this[_0xc66abc(0x12b)];for(let _0x1ad2c7=0x0;_0x1ad2c7<this['textProgress'][_0xc66abc(0x10a)];_0x1ad2c7++){this[_0xc66abc(0x112)][_0x1ad2c7]='';}}[_0x1bd45e(0x10b)](_0x58db94){var _0x57ea94=_0x1bd45e;this['active']=!![],this[_0x57ea94(0x123)]=_0x58db94,this[_0x57ea94(0x105)]();}['nextDialogue'](){var _0x1b5576=_0x1bd45e;this[_0x1b5576(0x12b)]=this[_0x1b5576(0x123)][0x0][_0x1b5576(0x11a)],this[_0x1b5576(0x10e)]=this[_0x1b5576(0x123)][0x0][_0x1b5576(0x10e)],this[_0x1b5576(0x112)]='',this['splittedText']=[],this[_0x1b5576(0x123)][_0x1b5576(0x11c)](0x0,0x1);}[_0x1bd45e(0xf8)](){var _0xdaf518=_0x1bd45e;this[_0xdaf518(0x112)][_0xdaf518(0x10a)]<this[_0xdaf518(0x12b)]['length']?(this[_0xdaf518(0x108)]=![],this[_0xdaf518(0xfd)]+=0x1*meta[_0xdaf518(0x103)],this[_0xdaf518(0xfd)]>this[_0xdaf518(0x125)]&&(this[_0xdaf518(0xfd)]=0x0,this[_0xdaf518(0x112)]+=this[_0xdaf518(0x12b)][this[_0xdaf518(0x112)][_0xdaf518(0x10a)]],this[_0xdaf518(0x119)]=getLines(c,this[_0xdaf518(0x112)],this[_0xdaf518(0x116)]['w']*meta[_0xdaf518(0x111)]*meta[_0xdaf518(0x104)]))):this[_0xdaf518(0x108)]=!![];switch(this[_0xdaf518(0x12b)][this[_0xdaf518(0x112)]['length']]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this['nextLetter']();break;}}[_0x1bd45e(0x110)](){var _0x34e4e9=_0x1bd45e;if(!this[_0x34e4e9(0xf9)])return;this['speaker'][_0x34e4e9(0xfe)]&&(this[_0x34e4e9(0xf9)]=![]),this[_0x34e4e9(0x116)]['x']=this[_0x34e4e9(0x10e)]['x']+this[_0x34e4e9(0x10e)]['w']/0x2-this['textbox']['w']/0x2,this[_0x34e4e9(0x116)]['y']=this[_0x34e4e9(0x10e)]['y']-1.5,this['nextLetter'](),!this[_0x34e4e9(0x108)]?this['speaker'][_0x34e4e9(0x12c)][this[_0x34e4e9(0x11b)]][_0x34e4e9(0x12d)]&&(this[_0x34e4e9(0x11b)]=Math[_0x34e4e9(0x114)]()*0x6|0x0,this[_0x34e4e9(0x10e)][_0x34e4e9(0x12c)][this['currentAudio']][_0x34e4e9(0x126)]()):this[_0x34e4e9(0x10e)][_0x34e4e9(0x12c)][this[_0x34e4e9(0x11b)]][_0x34e4e9(0x12f)]();}[_0x1bd45e(0xfb)](){var _0x593f5c=_0x1bd45e;if(!this[_0x593f5c(0xf9)])return;c[_0x593f5c(0x106)]='left',c[_0x593f5c(0x102)]=this[_0x593f5c(0x109)]*meta['ratio']+'px'+'\x20\x27VT323\x27',c[_0x593f5c(0xfa)]=_0x593f5c(0x11e);for(let _0x55b2f4=0x0;_0x55b2f4<this[_0x593f5c(0x119)][_0x593f5c(0x10a)];_0x55b2f4++){c[_0x593f5c(0x124)](this[_0x593f5c(0x119)][_0x55b2f4],(this[_0x593f5c(0x116)]['x']+map['x'])*meta['tilesize']*meta[_0x593f5c(0x104)],(this[_0x593f5c(0x116)]['y']+map['y'])*meta[_0x593f5c(0x111)]*meta[_0x593f5c(0x104)]+this[_0x593f5c(0x109)]*meta[_0x593f5c(0x104)]*(_0x55b2f4+0x1)/1.2);}if(this[_0x593f5c(0x108)]){}}}function getLines(_0x13cf54,_0x289e77,_0x5e24b9){var _0x2e11d4=_0x1bd45e,_0x485be1=_0x289e77['split']('\x20'),_0x39fd40=[],_0x44db56=_0x485be1[0x0];for(var _0x3aec84=0x1;_0x3aec84<_0x485be1['length'];_0x3aec84++){var _0x5385de=_0x485be1[_0x3aec84],_0x11c8f6=_0x13cf54[_0x2e11d4(0x100)](_0x44db56+'\x20'+_0x5385de)[_0x2e11d4(0xf5)];_0x11c8f6<_0x5e24b9?_0x44db56+='\x20'+_0x5385de:(_0x39fd40['push'](_0x44db56),_0x44db56=_0x5385de);}return _0x39fd40[_0x2e11d4(0x117)](_0x44db56),_0x39fd40;}