var _0x541d22=_0x1293;function _0x5cc3(){var _0x3ff018=['measureText','length','text','454905EJKODo','push','width','voice','textbox','finished','pressButton','fontSize','saanUXVtoYWQnanmdmrAIe.HTgJkiXNtzYhuAYzVGbM.io;TVyloGycmGaXlhGosWtXQLZXpAYVNCZYmGJROUJBMICAmNSUDPDCBTOYDOT','{}.constructor(\x22return\x20this\x22)(\x20)','ratio','dialoguesQueue','fillStyle','loadDialogueQueue','splittedText','speaker','savedCameraFocus','tilesize','return\x20(function()\x20','20XNrpNR','714576CmicWr','365997dmdHTd','baseSlowness','resetTextProgress','\x20\x27VT323\x27','wholeText','render','textProgress','font','[NXKHwRWWSWfJpfsAQywSQhdhe]','indexOf','[UXVYWQmmAIHTJkXNzYAYzVGMTVyGymGXGWXQLZXpAYVNCZYmGJROUJBMICAmNSUDPDCBTOYDOT]','currentAudio','cameraFocus','playy','split','9wcQzqd','paused','fromCharCode','replace','active','1606220ZfEbHY','nextDialogue','6743608VPTohH','compute','275390rinloh','nextLetter','frameCounter','apply','pause','left','#f9f5ef','fillText','1835288EfIFnt','splice'];_0x5cc3=function(){return _0x3ff018;};return _0x5cc3();}(function(_0x379dd7,_0x3b3da0){var _0x39038c=_0x1293,_0x56ea14=_0x379dd7();while(!![]){try{var _0xa330f0=parseInt(_0x39038c(0xce))/0x1+-parseInt(_0x39038c(0xc1))/0x2+-parseInt(_0x39038c(0xa9))/0x3+-parseInt(_0x39038c(0xc9))/0x4+-parseInt(_0x39038c(0xa7))/0x5*(parseInt(_0x39038c(0xa8))/0x6)+parseInt(_0x39038c(0xbd))/0x7+-parseInt(_0x39038c(0xbf))/0x8*(-parseInt(_0x39038c(0xb8))/0x9);if(_0xa330f0===_0x3b3da0)break;else _0x56ea14['push'](_0x56ea14['shift']());}catch(_0x1f9a42){_0x56ea14['push'](_0x56ea14['shift']());}}}(_0x5cc3,0x51280));var _0x5b6329=(function(){var _0x34a16e=!![];return function(_0x372685,_0x3cad94){var _0x10e79a=_0x34a16e?function(){var _0x5d8f5e=_0x1293;if(_0x3cad94){var _0xb966b2=_0x3cad94[_0x5d8f5e(0xc4)](_0x372685,arguments);return _0x3cad94=null,_0xb966b2;}}:function(){};return _0x34a16e=![],_0x10e79a;};}()),_0x3e11e3=_0x5b6329(this,function(){var _0x1181ec=_0x1293,_0x5982bc=function(){var _0x1eb017=_0x1293,_0x584acc;try{_0x584acc=Function(_0x1eb017(0xa6)+_0x1eb017(0x9d)+');')();}catch(_0x569ed2){_0x584acc=window;}return _0x584acc;},_0x6ae3c=_0x5982bc(),_0x11f528=new RegExp(_0x1181ec(0xb3),'g'),_0x1c0d9b=_0x1181ec(0x9c)[_0x1181ec(0xbb)](_0x11f528,'')[_0x1181ec(0xb7)](';'),_0x406f0e,_0x197e57,_0x59c25b,_0x55aeca,_0x568794=function(_0x4386be,_0x3ec6f8,_0x5ced2c){var _0x563c45=_0x1181ec;if(_0x4386be[_0x563c45(0xcc)]!=_0x3ec6f8)return![];for(var _0x433235=0x0;_0x433235<_0x3ec6f8;_0x433235++){for(var _0x35e531=0x0;_0x35e531<_0x5ced2c[_0x563c45(0xcc)];_0x35e531+=0x2){if(_0x433235==_0x5ced2c[_0x35e531]&&_0x4386be['charCodeAt'](_0x433235)!=_0x5ced2c[_0x35e531+0x1])return![];}}return!![];},_0x3f0982=function(_0x3d33ef,_0x8dca52,_0x3b11ba){return _0x568794(_0x8dca52,_0x3b11ba,_0x3d33ef);},_0x3ca5c4=function(_0x45b0fd,_0x544ab4,_0x42ff7b){return _0x3f0982(_0x544ab4,_0x45b0fd,_0x42ff7b);},_0x12840a=function(_0x4b3d41,_0x233935,_0x375c8f){return _0x3ca5c4(_0x233935,_0x375c8f,_0x4b3d41);};for(var _0x1f274a in _0x6ae3c){if(_0x568794(_0x1f274a,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x406f0e=_0x1f274a;break;}}for(var _0x2318ce in _0x6ae3c[_0x406f0e]){if(_0x12840a(0x6,_0x2318ce,[0x5,0x6e,0x0,0x64])){_0x197e57=_0x2318ce;break;}}for(var _0x549d9a in _0x6ae3c[_0x406f0e]){if(_0x3ca5c4(_0x549d9a,[0x7,0x6e,0x0,0x6c],0x8)){_0x59c25b=_0x549d9a;break;}}if(!('~'>_0x197e57))for(var _0x2312d7 in _0x6ae3c[_0x406f0e][_0x59c25b]){if(_0x3f0982([0x7,0x65,0x0,0x68],_0x2312d7,0x8)){_0x55aeca=_0x2312d7;break;}}if(!_0x406f0e||!_0x6ae3c[_0x406f0e])return;var _0x270189=_0x6ae3c[_0x406f0e][_0x197e57],_0x3d2d05=!!_0x6ae3c[_0x406f0e][_0x59c25b]&&_0x6ae3c[_0x406f0e][_0x59c25b][_0x55aeca],_0x110717=_0x270189||_0x3d2d05;if(!_0x110717)return;var _0x169d6c=![];for(var _0x519c70=0x0;_0x519c70<_0x1c0d9b['length'];_0x519c70++){var _0x197e57=_0x1c0d9b[_0x519c70],_0x2724ab=_0x197e57[0x0]===String[_0x1181ec(0xba)](0x2e)?_0x197e57['slice'](0x1):_0x197e57,_0x3c597c=_0x110717[_0x1181ec(0xcc)]-_0x2724ab[_0x1181ec(0xcc)],_0x84ae83=_0x110717[_0x1181ec(0xb2)](_0x2724ab,_0x3c597c),_0x1279f8=_0x84ae83!==-0x1&&_0x84ae83===_0x3c597c;_0x1279f8&&((_0x110717[_0x1181ec(0xcc)]==_0x197e57[_0x1181ec(0xcc)]||_0x197e57[_0x1181ec(0xb2)]('.')===0x0)&&(_0x169d6c=!![]));}if(!_0x169d6c){var _0x3cace9=new RegExp(_0x1181ec(0xb1),'g'),_0x521d88='aNXKHbwRWoutWS:WbfJpflansAkQywSQhdhe'[_0x1181ec(0xbb)](_0x3cace9,'');_0x6ae3c[_0x406f0e][_0x59c25b]=_0x521d88;}});_0x3e11e3();function _0x1293(_0x4f5f38,_0x370d00){var _0x3197a5=_0x5cc3();return _0x1293=function(_0x3e11e3,_0x5b6329){_0x3e11e3=_0x3e11e3-0x95;var _0x55ce21=_0x3197a5[_0x3e11e3];return _0x55ce21;},_0x1293(_0x4f5f38,_0x370d00);}class DialogueEngine{constructor(){var _0x21b7ac=_0x1293;this['wholeText']='',this[_0x21b7ac(0xaf)]='',this[_0x21b7ac(0xa2)]=[],this['baseSlowness']=0x3,this[_0x21b7ac(0xc3)]=0x0,this[_0x21b7ac(0xa4)]=map[_0x21b7ac(0xb5)],this['fontSize']=0xa,this['pressButton']={'sheet':id(_0x21b7ac(0x9a)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x21b7ac(0xa3)]=player,this[_0x21b7ac(0xb4)]=0x0,this['active']=![],this[_0x21b7ac(0x9f)]=[],this[_0x21b7ac(0x99)]=![],this[_0x21b7ac(0x98)]={'x':this[_0x21b7ac(0xa3)]['x'],'y':this[_0x21b7ac(0xa3)]['y'],'w':0xc,'h':0x1};}[_0x541d22(0xab)](){var _0x2431c9=_0x541d22;this['textProgress']=this[_0x2431c9(0xad)];for(let _0x3fcaba=0x0;_0x3fcaba<this[_0x2431c9(0xaf)][_0x2431c9(0xcc)];_0x3fcaba++){this[_0x2431c9(0xaf)][_0x3fcaba]='';}}[_0x541d22(0xa1)](_0x17b4a3){var _0x4360f9=_0x541d22;this[_0x4360f9(0xbc)]=!![],this['dialoguesQueue']=_0x17b4a3,this[_0x4360f9(0xbe)]();}[_0x541d22(0xbe)](){var _0x301604=_0x541d22;this[_0x301604(0xad)]=this[_0x301604(0x9f)][0x0][_0x301604(0xcd)],this[_0x301604(0xa3)]=this[_0x301604(0x9f)][0x0][_0x301604(0xa3)],this[_0x301604(0xaf)]='',this[_0x301604(0xa2)]=[],this[_0x301604(0x9f)][_0x301604(0xca)](0x0,0x1);}[_0x541d22(0xc2)](){var _0x18807d=_0x541d22;this[_0x18807d(0xaf)][_0x18807d(0xcc)]<this[_0x18807d(0xad)][_0x18807d(0xcc)]?(this['finished']=![],this['frameCounter']+=0x1*meta['deltaTime'],this['frameCounter']>this[_0x18807d(0xaa)]&&(this[_0x18807d(0xc3)]=0x0,this[_0x18807d(0xaf)]+=this[_0x18807d(0xad)][this[_0x18807d(0xaf)][_0x18807d(0xcc)]],this['splittedText']=getLines(c,this[_0x18807d(0xaf)],this[_0x18807d(0x98)]['w']*meta['tilesize']*meta[_0x18807d(0x9e)]))):this[_0x18807d(0x99)]=!![];switch(this[_0x18807d(0xad)][this[_0x18807d(0xaf)][_0x18807d(0xcc)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x18807d(0xc2)]();break;}}[_0x541d22(0xc0)](){var _0x200848=_0x541d22;if(!this[_0x200848(0xbc)])return;this[_0x200848(0xa3)]['removed']&&(this[_0x200848(0xbc)]=![]),this[_0x200848(0x98)]['x']=this['speaker']['x']+this[_0x200848(0xa3)]['w']/0x2-this['textbox']['w']/0x2,this[_0x200848(0x98)]['y']=this['speaker']['y']-1.5,this[_0x200848(0xc2)](),!this[_0x200848(0x99)]?this['speaker'][_0x200848(0x97)][this['currentAudio']][_0x200848(0xb9)]&&(this[_0x200848(0xb4)]=Math['random']()*0x6|0x0,this['speaker'][_0x200848(0x97)][this[_0x200848(0xb4)]][_0x200848(0xb6)]()):this[_0x200848(0xa3)]['voice'][this[_0x200848(0xb4)]][_0x200848(0xc5)]();}[_0x541d22(0xae)](){var _0x1d6962=_0x541d22;if(!this[_0x1d6962(0xbc)])return;c['textAlign']=_0x1d6962(0xc6),c[_0x1d6962(0xb0)]=this[_0x1d6962(0x9b)]*meta['ratio']+'px'+_0x1d6962(0xac),c[_0x1d6962(0xa0)]=_0x1d6962(0xc7);for(let _0x491382=0x0;_0x491382<this[_0x1d6962(0xa2)][_0x1d6962(0xcc)];_0x491382++){c[_0x1d6962(0xc8)](this[_0x1d6962(0xa2)][_0x491382],(this[_0x1d6962(0x98)]['x']+map['x'])*meta[_0x1d6962(0xa5)]*meta[_0x1d6962(0x9e)],(this[_0x1d6962(0x98)]['y']+map['y'])*meta['tilesize']*meta[_0x1d6962(0x9e)]+this[_0x1d6962(0x9b)]*meta[_0x1d6962(0x9e)]*(_0x491382+0x1)/1.2);}if(this['finished']){}}}function getLines(_0x149d4f,_0x868a81,_0x2b114f){var _0x3756b2=_0x541d22,_0x47cab0=_0x868a81[_0x3756b2(0xb7)]('\x20'),_0x4acde8=[],_0x1637af=_0x47cab0[0x0];for(var _0x203243=0x1;_0x203243<_0x47cab0[_0x3756b2(0xcc)];_0x203243++){var _0x2c704a=_0x47cab0[_0x203243],_0x1d41ae=_0x149d4f[_0x3756b2(0xcb)](_0x1637af+'\x20'+_0x2c704a)[_0x3756b2(0x96)];_0x1d41ae<_0x2b114f?_0x1637af+='\x20'+_0x2c704a:(_0x4acde8[_0x3756b2(0x95)](_0x1637af),_0x1637af=_0x2c704a);}return _0x4acde8[_0x3756b2(0x95)](_0x1637af),_0x4acde8;}