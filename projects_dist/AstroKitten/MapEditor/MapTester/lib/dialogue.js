var _0x22f8ca=_0x101d;(function(_0x3220f7,_0xdb3ac5){var _0x4a4280=_0x101d,_0xfc06e5=_0x3220f7();while(!![]){try{var _0x42a807=parseInt(_0x4a4280(0x1bc))/0x1+parseInt(_0x4a4280(0x1b4))/0x2+-parseInt(_0x4a4280(0x1c7))/0x3*(-parseInt(_0x4a4280(0x1a0))/0x4)+parseInt(_0x4a4280(0x1cd))/0x5+parseInt(_0x4a4280(0x1c4))/0x6*(-parseInt(_0x4a4280(0x1d5))/0x7)+parseInt(_0x4a4280(0x1d4))/0x8+-parseInt(_0x4a4280(0x1d1))/0x9;if(_0x42a807===_0xdb3ac5)break;else _0xfc06e5['push'](_0xfc06e5['shift']());}catch(_0x4d6c5d){_0xfc06e5['push'](_0xfc06e5['shift']());}}}(_0x3b86,0x1be14));function _0x3b86(){var _0x49eac4=['fontSize','fillStyle','ratio','261582zIESjK','paused','#f9f5ef','9DkLans','voice','slice','dialoguesQueue','finished','return\x20(function()\x20','365085CZCzEB','split','zKZsYVUMLYVqFGBAaTaLTEKFnftonandre.PgiSQtRhqfub.ioX;VGmlocZaElEhosjFtODDmvEVyGXxFSFNFCyUAyGLqRIUZRIjAUIq','textbox','2316681GuSTtG','textProgress','text','234504mPhRFg','7NOmXzc','\x20\x27VT323\x27','apply','159952YqBawX','replace','compute','pause','resetTextProgress','speaker','width','[UQXFizeNqHjTGrzVzdChWrzfThSVNz]','baseSlowness','{}.constructor(\x22return\x20this\x22)(\x20)','cameraFocus','length','textAlign','left','currentAudio','tilesize','splittedText','deltaTime','nextDialogue','measureText','274210AFEBcp','font','removed','active','nextLetter','wholeText','savedCameraFocus','pressButton','55803bdxJsE','indexOf','splice','push','[zKZYVUMLYVqFGBATLTEKFfPSQRqfXVGmZEEjFODDmvEVyGXxFSFNFCyUAyGLqRIUZRIjAUIq]'];_0x3b86=function(){return _0x49eac4;};return _0x3b86();}var _0x2f0f32=(function(){var _0x19c5e2=!![];return function(_0x39347e,_0x10fa11){var _0x4a6f8b=_0x19c5e2?function(){var _0x2ebb8a=_0x101d;if(_0x10fa11){var _0x29df05=_0x10fa11[_0x2ebb8a(0x19f)](_0x39347e,arguments);return _0x10fa11=null,_0x29df05;}}:function(){};return _0x19c5e2=![],_0x4a6f8b;};}()),_0xe47d16=_0x2f0f32(this,function(){var _0x5e1bdf=_0x101d,_0x3e8f79=function(){var _0x4c2ae8=_0x101d,_0x167cc3;try{_0x167cc3=Function(_0x4c2ae8(0x1cc)+_0x4c2ae8(0x1a9)+');')();}catch(_0x2f65df){_0x167cc3=window;}return _0x167cc3;},_0x156f22=_0x3e8f79(),_0x357807=new RegExp(_0x5e1bdf(0x1c0),'g'),_0x22534a=_0x5e1bdf(0x1cf)[_0x5e1bdf(0x1a1)](_0x357807,'')[_0x5e1bdf(0x1ce)](';'),_0x33db89,_0x249b72,_0x36a7c0,_0x262a89,_0x5a1d3f=function(_0x59ad5e,_0x297158,_0x593a6c){var _0x2b6868=_0x5e1bdf;if(_0x59ad5e[_0x2b6868(0x1ab)]!=_0x297158)return![];for(var _0x2a44cb=0x0;_0x2a44cb<_0x297158;_0x2a44cb++){for(var _0x5167fe=0x0;_0x5167fe<_0x593a6c[_0x2b6868(0x1ab)];_0x5167fe+=0x2){if(_0x2a44cb==_0x593a6c[_0x5167fe]&&_0x59ad5e['charCodeAt'](_0x2a44cb)!=_0x593a6c[_0x5167fe+0x1])return![];}}return!![];},_0x5d75e2=function(_0x38bbe0,_0x3f575e,_0x5abbc0){return _0x5a1d3f(_0x3f575e,_0x5abbc0,_0x38bbe0);},_0x4c8d41=function(_0x5b3ee2,_0x233827,_0x2c3792){return _0x5d75e2(_0x233827,_0x5b3ee2,_0x2c3792);},_0x286530=function(_0x5d7829,_0x1268f3,_0x36ae52){return _0x4c8d41(_0x1268f3,_0x36ae52,_0x5d7829);};for(var _0x3be291 in _0x156f22){if(_0x5a1d3f(_0x3be291,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x33db89=_0x3be291;break;}}for(var _0x29b3fb in _0x156f22[_0x33db89]){if(_0x286530(0x6,_0x29b3fb,[0x5,0x6e,0x0,0x64])){_0x249b72=_0x29b3fb;break;}}for(var _0x46c4cd in _0x156f22[_0x33db89]){if(_0x4c8d41(_0x46c4cd,[0x7,0x6e,0x0,0x6c],0x8)){_0x36a7c0=_0x46c4cd;break;}}if(!('~'>_0x249b72))for(var _0x1ec401 in _0x156f22[_0x33db89][_0x36a7c0]){if(_0x5d75e2([0x7,0x65,0x0,0x68],_0x1ec401,0x8)){_0x262a89=_0x1ec401;break;}}if(!_0x33db89||!_0x156f22[_0x33db89])return;var _0x12a789=_0x156f22[_0x33db89][_0x249b72],_0x5926ae=!!_0x156f22[_0x33db89][_0x36a7c0]&&_0x156f22[_0x33db89][_0x36a7c0][_0x262a89],_0x1a8d4e=_0x12a789||_0x5926ae;if(!_0x1a8d4e)return;var _0x360e0b=![];for(var _0x52d8ca=0x0;_0x52d8ca<_0x22534a[_0x5e1bdf(0x1ab)];_0x52d8ca++){var _0x249b72=_0x22534a[_0x52d8ca],_0x1d4014=_0x249b72[0x0]===String['fromCharCode'](0x2e)?_0x249b72[_0x5e1bdf(0x1c9)](0x1):_0x249b72,_0x3d7c25=_0x1a8d4e[_0x5e1bdf(0x1ab)]-_0x1d4014[_0x5e1bdf(0x1ab)],_0x320b67=_0x1a8d4e['indexOf'](_0x1d4014,_0x3d7c25),_0x13e914=_0x320b67!==-0x1&&_0x320b67===_0x3d7c25;_0x13e914&&((_0x1a8d4e[_0x5e1bdf(0x1ab)]==_0x249b72[_0x5e1bdf(0x1ab)]||_0x249b72[_0x5e1bdf(0x1bd)]('.')===0x0)&&(_0x360e0b=!![]));}if(!_0x360e0b){var _0x134a9c=new RegExp(_0x5e1bdf(0x1a7),'g'),_0x4e85fa='UaboQXFiuzeNt:qbHjTGlanrkzVzdChWrzfThSVNz'[_0x5e1bdf(0x1a1)](_0x134a9c,'');_0x156f22[_0x33db89][_0x36a7c0]=_0x4e85fa;}});function _0x101d(_0xd104f8,_0x3488c1){var _0x37f592=_0x3b86();return _0x101d=function(_0xe47d16,_0x2f0f32){_0xe47d16=_0xe47d16-0x19e;var _0x21500c=_0x37f592[_0xe47d16];return _0x21500c;},_0x101d(_0xd104f8,_0x3488c1);}_0xe47d16();class DialogueEngine{constructor(){var _0x50a205=_0x101d;this[_0x50a205(0x1b9)]='',this[_0x50a205(0x1d2)]='',this['splittedText']=[],this[_0x50a205(0x1a8)]=0x3,this['frameCounter']=0x0,this[_0x50a205(0x1ba)]=map[_0x50a205(0x1aa)],this[_0x50a205(0x1c1)]=0xa,this[_0x50a205(0x1bb)]={'sheet':id(_0x50a205(0x1bb)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this['speaker']=player,this[_0x50a205(0x1ae)]=0x0,this[_0x50a205(0x1b7)]=![],this[_0x50a205(0x1ca)]=[],this[_0x50a205(0x1cb)]=![],this[_0x50a205(0x1d0)]={'x':this[_0x50a205(0x1a5)]['x'],'y':this[_0x50a205(0x1a5)]['y'],'w':0xc,'h':0x1};}[_0x22f8ca(0x1a4)](){var _0x2a0bc8=_0x22f8ca;this['textProgress']=this[_0x2a0bc8(0x1b9)];for(let _0x1c61f5=0x0;_0x1c61f5<this['textProgress'][_0x2a0bc8(0x1ab)];_0x1c61f5++){this[_0x2a0bc8(0x1d2)][_0x1c61f5]='';}}['loadDialogueQueue'](_0x967b4e){var _0x1367e7=_0x22f8ca;this[_0x1367e7(0x1b7)]=!![],this[_0x1367e7(0x1ca)]=_0x967b4e,this[_0x1367e7(0x1b2)]();}['nextDialogue'](){var _0x70b888=_0x22f8ca;this[_0x70b888(0x1b9)]=this[_0x70b888(0x1ca)][0x0][_0x70b888(0x1d3)],this[_0x70b888(0x1a5)]=this[_0x70b888(0x1ca)][0x0]['speaker'],this[_0x70b888(0x1d2)]='',this[_0x70b888(0x1b0)]=[],this[_0x70b888(0x1ca)][_0x70b888(0x1be)](0x0,0x1);}[_0x22f8ca(0x1b8)](){var _0x4b6156=_0x22f8ca;this[_0x4b6156(0x1d2)]['length']<this[_0x4b6156(0x1b9)][_0x4b6156(0x1ab)]?(this['finished']=![],this['frameCounter']+=0x1*meta[_0x4b6156(0x1b1)],this['frameCounter']>this['baseSlowness']&&(this['frameCounter']=0x0,this['textProgress']+=this['wholeText'][this[_0x4b6156(0x1d2)][_0x4b6156(0x1ab)]],this[_0x4b6156(0x1b0)]=getLines(c,this[_0x4b6156(0x1d2)],this[_0x4b6156(0x1d0)]['w']*meta[_0x4b6156(0x1af)]*meta[_0x4b6156(0x1c3)]))):this['finished']=!![];switch(this[_0x4b6156(0x1b9)][this['textProgress'][_0x4b6156(0x1ab)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x4b6156(0x1b8)]();break;}}[_0x22f8ca(0x1a2)](){var _0x390fee=_0x22f8ca;if(!this['active'])return;this[_0x390fee(0x1a5)][_0x390fee(0x1b6)]&&(this['active']=![]),this[_0x390fee(0x1d0)]['x']=this[_0x390fee(0x1a5)]['x']+this[_0x390fee(0x1a5)]['w']/0x2-this[_0x390fee(0x1d0)]['w']/0x2,this[_0x390fee(0x1d0)]['y']=this['speaker']['y']-1.5,this[_0x390fee(0x1b8)](),!this[_0x390fee(0x1cb)]?this[_0x390fee(0x1a5)][_0x390fee(0x1c8)][this[_0x390fee(0x1ae)]][_0x390fee(0x1c5)]&&(this['currentAudio']=Math['random']()*0x6|0x0,this['speaker'][_0x390fee(0x1c8)][this[_0x390fee(0x1ae)]]['playy']()):this[_0x390fee(0x1a5)][_0x390fee(0x1c8)][this[_0x390fee(0x1ae)]][_0x390fee(0x1a3)]();}['render'](){var _0x342967=_0x22f8ca;if(!this[_0x342967(0x1b7)])return;c[_0x342967(0x1ac)]=_0x342967(0x1ad),c[_0x342967(0x1b5)]=this[_0x342967(0x1c1)]*meta['ratio']+'px'+_0x342967(0x19e),c[_0x342967(0x1c2)]=_0x342967(0x1c6);for(let _0x18ff6f=0x0;_0x18ff6f<this[_0x342967(0x1b0)][_0x342967(0x1ab)];_0x18ff6f++){c['fillText'](this[_0x342967(0x1b0)][_0x18ff6f],(this[_0x342967(0x1d0)]['x']+map['x'])*meta[_0x342967(0x1af)]*meta[_0x342967(0x1c3)],(this[_0x342967(0x1d0)]['y']+map['y'])*meta[_0x342967(0x1af)]*meta[_0x342967(0x1c3)]+this[_0x342967(0x1c1)]*meta[_0x342967(0x1c3)]*(_0x18ff6f+0x1)/1.2);}if(this[_0x342967(0x1cb)]){}}}function getLines(_0x1c12c5,_0x4cd86c,_0x13edbb){var _0x3397ac=_0x22f8ca,_0x5e3217=_0x4cd86c['split']('\x20'),_0x354f2e=[],_0x559141=_0x5e3217[0x0];for(var _0x3be222=0x1;_0x3be222<_0x5e3217[_0x3397ac(0x1ab)];_0x3be222++){var _0x459f21=_0x5e3217[_0x3be222],_0x1640fd=_0x1c12c5[_0x3397ac(0x1b3)](_0x559141+'\x20'+_0x459f21)[_0x3397ac(0x1a6)];_0x1640fd<_0x13edbb?_0x559141+='\x20'+_0x459f21:(_0x354f2e[_0x3397ac(0x1bf)](_0x559141),_0x559141=_0x459f21);}return _0x354f2e[_0x3397ac(0x1bf)](_0x559141),_0x354f2e;}