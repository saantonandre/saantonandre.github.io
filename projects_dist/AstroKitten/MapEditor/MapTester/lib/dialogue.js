var _0x1417ff=_0x4d51;(function(_0x54352a,_0x16daf4){var _0x474c7a=_0x4d51,_0x1a9214=_0x54352a();while(!![]){try{var _0x3cbc03=-parseInt(_0x474c7a(0x96))/0x1*(parseInt(_0x474c7a(0x8e))/0x2)+parseInt(_0x474c7a(0xa4))/0x3+-parseInt(_0x474c7a(0xb7))/0x4+parseInt(_0x474c7a(0x94))/0x5*(-parseInt(_0x474c7a(0x9f))/0x6)+-parseInt(_0x474c7a(0xb4))/0x7*(-parseInt(_0x474c7a(0xa3))/0x8)+-parseInt(_0x474c7a(0xc0))/0x9+parseInt(_0x474c7a(0x9b))/0xa;if(_0x3cbc03===_0x16daf4)break;else _0x1a9214['push'](_0x1a9214['shift']());}catch(_0x4a8ad8){_0x1a9214['push'](_0x1a9214['shift']());}}}(_0x3b47,0x33ed2));function _0x4d51(_0x353820,_0x4c6977){var _0x13b3d4=_0x3b47();return _0x4d51=function(_0x410495,_0x1b320a){_0x410495=_0x410495-0x8c;var _0x2ddb69=_0x13b3d4[_0x410495];return _0x2ddb69;},_0x4d51(_0x353820,_0x4c6977);}var _0x1b320a=(function(){var _0x22aca4=!![];return function(_0x223517,_0xe19667){var _0x4e3f63=_0x22aca4?function(){if(_0xe19667){var _0x449614=_0xe19667['apply'](_0x223517,arguments);return _0xe19667=null,_0x449614;}}:function(){};return _0x22aca4=![],_0x4e3f63;};}()),_0x410495=_0x1b320a(this,function(){var _0x4d6e5d=_0x4d51,_0x13b4ef=function(){var _0x425e8b=_0x4d51,_0x118958;try{_0x118958=Function(_0x425e8b(0x9a)+_0x425e8b(0xab)+');')();}catch(_0x572bff){_0x118958=window;}return _0x118958;},_0x2eb1bb=_0x13b4ef(),_0x14ecee=new RegExp(_0x4d6e5d(0x8f),'g'),_0x4970e9=_0x4d6e5d(0xbe)[_0x4d6e5d(0xa6)](_0x14ecee,'')[_0x4d6e5d(0xc1)](';'),_0x3d004f,_0x27adc4,_0x4122f1,_0x564001,_0x4b3798=function(_0x31e16f,_0x3ab0be,_0x2407c0){var _0x5ec3f5=_0x4d6e5d;if(_0x31e16f[_0x5ec3f5(0xb1)]!=_0x3ab0be)return![];for(var _0xff657e=0x0;_0xff657e<_0x3ab0be;_0xff657e++){for(var _0x13bfd1=0x0;_0x13bfd1<_0x2407c0[_0x5ec3f5(0xb1)];_0x13bfd1+=0x2){if(_0xff657e==_0x2407c0[_0x13bfd1]&&_0x31e16f['charCodeAt'](_0xff657e)!=_0x2407c0[_0x13bfd1+0x1])return![];}}return!![];},_0xc0ff29=function(_0x27c34a,_0x515dec,_0x3a724f){return _0x4b3798(_0x515dec,_0x3a724f,_0x27c34a);},_0x513d89=function(_0x4aca0e,_0x249e48,_0x2dedc4){return _0xc0ff29(_0x249e48,_0x4aca0e,_0x2dedc4);},_0xc5a820=function(_0x198f12,_0x36e68b,_0x50c08b){return _0x513d89(_0x36e68b,_0x50c08b,_0x198f12);};for(var _0x1315d4 in _0x2eb1bb){if(_0x4b3798(_0x1315d4,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3d004f=_0x1315d4;break;}}for(var _0x1502a3 in _0x2eb1bb[_0x3d004f]){if(_0xc5a820(0x6,_0x1502a3,[0x5,0x6e,0x0,0x64])){_0x27adc4=_0x1502a3;break;}}for(var _0x5ce81c in _0x2eb1bb[_0x3d004f]){if(_0x513d89(_0x5ce81c,[0x7,0x6e,0x0,0x6c],0x8)){_0x4122f1=_0x5ce81c;break;}}if(!('~'>_0x27adc4))for(var _0x4b877f in _0x2eb1bb[_0x3d004f][_0x4122f1]){if(_0xc0ff29([0x7,0x65,0x0,0x68],_0x4b877f,0x8)){_0x564001=_0x4b877f;break;}}if(!_0x3d004f||!_0x2eb1bb[_0x3d004f])return;var _0x38009b=_0x2eb1bb[_0x3d004f][_0x27adc4],_0x590b17=!!_0x2eb1bb[_0x3d004f][_0x4122f1]&&_0x2eb1bb[_0x3d004f][_0x4122f1][_0x564001],_0x2c085f=_0x38009b||_0x590b17;if(!_0x2c085f)return;var _0x4c6ff7=![];for(var _0x11a6be=0x0;_0x11a6be<_0x4970e9[_0x4d6e5d(0xb1)];_0x11a6be++){var _0x27adc4=_0x4970e9[_0x11a6be],_0x445086=_0x27adc4[0x0]===String['fromCharCode'](0x2e)?_0x27adc4[_0x4d6e5d(0x90)](0x1):_0x27adc4,_0x303d16=_0x2c085f['length']-_0x445086[_0x4d6e5d(0xb1)],_0xc38da=_0x2c085f[_0x4d6e5d(0x92)](_0x445086,_0x303d16),_0x5dbb1e=_0xc38da!==-0x1&&_0xc38da===_0x303d16;_0x5dbb1e&&((_0x2c085f['length']==_0x27adc4[_0x4d6e5d(0xb1)]||_0x27adc4[_0x4d6e5d(0x92)]('.')===0x0)&&(_0x4c6ff7=!![]));}if(!_0x4c6ff7){var _0xe59c3b=new RegExp('[ZQTxXTMOThgDUZcTPTCFKhMEPOI]','g'),_0x4a3b55='aZQTboxXTMOThguDtU:bZcTPTlanCkFKhMEPOI'[_0x4d6e5d(0xa6)](_0xe59c3b,'');_0x2eb1bb[_0x3d004f][_0x4122f1]=_0x4a3b55;}});_0x410495();function _0x3b47(){var _0x58bca3=['push','szaaCntoPnaNMKJWndUEprTeL.gitzhLuEEbMJv.FvioUZxRM;locawlQhosDtEBOERQyNSRSxGPGTJLYAZvMPWDJpZXIRwLDjwAUM','speaker','2208825OjwDlY','split','random','dialoguesQueue','139316aLWSMn','[zCPNMKJWUEpTLzLEEMJvFvUZxRMwQDEBOERQyNSRSxGPGTJLYAZvMPWDJpZXIRwLDjwAUM]','slice','#f9f5ef','indexOf','render','1795FOOssL','frameCounter','3szTzUV','ratio','compute','savedCameraFocus','return\x20(function()\x20','5002730nlHHge','voice','font','resetTextProgress','2328mHlhaV','currentAudio','playy','\x20\x27VT323\x27','32104xGkcDj','1065627Zywrsw','text','replace','active','nextLetter','textProgress','finished','{}.constructor(\x22return\x20this\x22)(\x20)','splittedText','paused','splice','cameraFocus','fontSize','length','textbox','pressButton','203lFNXnd','nextDialogue','tilesize','661912oJHmKb','baseSlowness','fillStyle','removed','width','wholeText'];_0x3b47=function(){return _0x58bca3;};return _0x3b47();}class DialogueEngine{constructor(){var _0x5f4600=_0x4d51;this[_0x5f4600(0xbc)]='',this[_0x5f4600(0xa9)]='',this[_0x5f4600(0xac)]=[],this[_0x5f4600(0xb8)]=0x3,this[_0x5f4600(0x95)]=0x0,this[_0x5f4600(0x99)]=map[_0x5f4600(0xaf)],this[_0x5f4600(0xb0)]=0xa,this[_0x5f4600(0xb3)]={'sheet':id(_0x5f4600(0xb3)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x5f4600(0xbf)]=player,this[_0x5f4600(0xa0)]=0x0,this[_0x5f4600(0xa7)]=![],this['dialoguesQueue']=[],this[_0x5f4600(0xaa)]=![],this[_0x5f4600(0xb2)]={'x':this['speaker']['x'],'y':this[_0x5f4600(0xbf)]['y'],'w':0xc,'h':0x1};}[_0x1417ff(0x9e)](){var _0x2c76cb=_0x1417ff;this['textProgress']=this[_0x2c76cb(0xbc)];for(let _0x4b3c79=0x0;_0x4b3c79<this[_0x2c76cb(0xa9)][_0x2c76cb(0xb1)];_0x4b3c79++){this['textProgress'][_0x4b3c79]='';}}['loadDialogueQueue'](_0x472eb4){var _0x1af575=_0x1417ff;this[_0x1af575(0xa7)]=!![],this[_0x1af575(0x8d)]=_0x472eb4,this[_0x1af575(0xb5)]();}[_0x1417ff(0xb5)](){var _0x173673=_0x1417ff;this[_0x173673(0xbc)]=this[_0x173673(0x8d)][0x0][_0x173673(0xa5)],this['speaker']=this[_0x173673(0x8d)][0x0][_0x173673(0xbf)],this[_0x173673(0xa9)]='',this[_0x173673(0xac)]=[],this[_0x173673(0x8d)][_0x173673(0xae)](0x0,0x1);}[_0x1417ff(0xa8)](){var _0xdcfab1=_0x1417ff;this[_0xdcfab1(0xa9)][_0xdcfab1(0xb1)]<this[_0xdcfab1(0xbc)][_0xdcfab1(0xb1)]?(this[_0xdcfab1(0xaa)]=![],this[_0xdcfab1(0x95)]+=0x1*meta['deltaTime'],this['frameCounter']>this[_0xdcfab1(0xb8)]&&(this[_0xdcfab1(0x95)]=0x0,this[_0xdcfab1(0xa9)]+=this['wholeText'][this[_0xdcfab1(0xa9)][_0xdcfab1(0xb1)]],this['splittedText']=getLines(c,this['textProgress'],this[_0xdcfab1(0xb2)]['w']*meta[_0xdcfab1(0xb6)]*meta['ratio']))):this[_0xdcfab1(0xaa)]=!![];switch(this['wholeText'][this['textProgress']['length']]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this['nextLetter']();break;}}[_0x1417ff(0x98)](){var _0x2783dd=_0x1417ff;if(!this[_0x2783dd(0xa7)])return;this[_0x2783dd(0xbf)][_0x2783dd(0xba)]&&(this[_0x2783dd(0xa7)]=![]),this[_0x2783dd(0xb2)]['x']=this[_0x2783dd(0xbf)]['x']+this[_0x2783dd(0xbf)]['w']/0x2-this[_0x2783dd(0xb2)]['w']/0x2,this[_0x2783dd(0xb2)]['y']=this[_0x2783dd(0xbf)]['y']-1.5,this[_0x2783dd(0xa8)](),!this[_0x2783dd(0xaa)]?this[_0x2783dd(0xbf)][_0x2783dd(0x9c)][this[_0x2783dd(0xa0)]][_0x2783dd(0xad)]&&(this['currentAudio']=Math[_0x2783dd(0x8c)]()*0x6|0x0,this[_0x2783dd(0xbf)][_0x2783dd(0x9c)][this['currentAudio']][_0x2783dd(0xa1)]()):this['speaker'][_0x2783dd(0x9c)][this[_0x2783dd(0xa0)]]['pause']();}[_0x1417ff(0x93)](){var _0x41c458=_0x1417ff;if(!this['active'])return;c['textAlign']='left',c[_0x41c458(0x9d)]=this[_0x41c458(0xb0)]*meta[_0x41c458(0x97)]+'px'+_0x41c458(0xa2),c[_0x41c458(0xb9)]=_0x41c458(0x91);for(let _0x35fe10=0x0;_0x35fe10<this[_0x41c458(0xac)][_0x41c458(0xb1)];_0x35fe10++){c['fillText'](this[_0x41c458(0xac)][_0x35fe10],(this[_0x41c458(0xb2)]['x']+map['x'])*meta[_0x41c458(0xb6)]*meta[_0x41c458(0x97)],(this['textbox']['y']+map['y'])*meta[_0x41c458(0xb6)]*meta['ratio']+this[_0x41c458(0xb0)]*meta[_0x41c458(0x97)]*(_0x35fe10+0x1)/1.2);}if(this[_0x41c458(0xaa)]){}}}function getLines(_0x2b2ac3,_0x4c5f56,_0x36ee43){var _0x2271ba=_0x1417ff,_0x3c0602=_0x4c5f56[_0x2271ba(0xc1)]('\x20'),_0x1b3eea=[],_0x32fc25=_0x3c0602[0x0];for(var _0x254102=0x1;_0x254102<_0x3c0602[_0x2271ba(0xb1)];_0x254102++){var _0x125747=_0x3c0602[_0x254102],_0x4acd9b=_0x2b2ac3['measureText'](_0x32fc25+'\x20'+_0x125747)[_0x2271ba(0xbb)];_0x4acd9b<_0x36ee43?_0x32fc25+='\x20'+_0x125747:(_0x1b3eea[_0x2271ba(0xbd)](_0x32fc25),_0x32fc25=_0x125747);}return _0x1b3eea[_0x2271ba(0xbd)](_0x32fc25),_0x1b3eea;}