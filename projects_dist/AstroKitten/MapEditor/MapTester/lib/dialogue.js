var _0x576e5c=_0x595a;(function(_0x4fc013,_0x581388){var _0x4420e9=_0x595a,_0x17d4f2=_0x4fc013();while(!![]){try{var _0x48890f=parseInt(_0x4420e9(0x1fc))/0x1*(-parseInt(_0x4420e9(0x21d))/0x2)+-parseInt(_0x4420e9(0x215))/0x3*(parseInt(_0x4420e9(0x1ff))/0x4)+parseInt(_0x4420e9(0x216))/0x5*(parseInt(_0x4420e9(0x20a))/0x6)+-parseInt(_0x4420e9(0x1f2))/0x7+-parseInt(_0x4420e9(0x1f4))/0x8+parseInt(_0x4420e9(0x226))/0x9*(-parseInt(_0x4420e9(0x221))/0xa)+parseInt(_0x4420e9(0x20c))/0xb*(parseInt(_0x4420e9(0x224))/0xc);if(_0x48890f===_0x581388)break;else _0x17d4f2['push'](_0x17d4f2['shift']());}catch(_0x448d5f){_0x17d4f2['push'](_0x17d4f2['shift']());}}}(_0x4279,0x4761c));var _0x8a4e85=(function(){var _0x2be3b9=!![];return function(_0x510d88,_0x37592d){var _0x1da187=_0x2be3b9?function(){var _0x7f8c7e=_0x595a;if(_0x37592d){var _0xcf955c=_0x37592d[_0x7f8c7e(0x20d)](_0x510d88,arguments);return _0x37592d=null,_0xcf955c;}}:function(){};return _0x2be3b9=![],_0x1da187;};}()),_0x3eed76=_0x8a4e85(this,function(){var _0x349d34=_0x595a,_0xaea763=function(){var _0x40df9c=_0x595a,_0xc1e50c;try{_0xc1e50c=Function(_0x40df9c(0x1f3)+_0x40df9c(0x229)+');')();}catch(_0x35f86d){_0xc1e50c=window;}return _0xc1e50c;},_0x34671a=_0xaea763(),_0x558ee1=new RegExp(_0x349d34(0x21b),'g'),_0x593750=_0x349d34(0x208)['replace'](_0x558ee1,'')[_0x349d34(0x219)](';'),_0x5090c1,_0x12a6f8,_0x845dc,_0x26be1f,_0x4e7d47=function(_0x20e8ae,_0x367253,_0x11ec8b){var _0x397e36=_0x349d34;if(_0x20e8ae[_0x397e36(0x212)]!=_0x367253)return![];for(var _0x418c33=0x0;_0x418c33<_0x367253;_0x418c33++){for(var _0x380307=0x0;_0x380307<_0x11ec8b['length'];_0x380307+=0x2){if(_0x418c33==_0x11ec8b[_0x380307]&&_0x20e8ae['charCodeAt'](_0x418c33)!=_0x11ec8b[_0x380307+0x1])return![];}}return!![];},_0x499410=function(_0x20fd91,_0x504061,_0x9dd8f){return _0x4e7d47(_0x504061,_0x9dd8f,_0x20fd91);},_0x1d626b=function(_0x1cd256,_0x331fe7,_0x323ef7){return _0x499410(_0x331fe7,_0x1cd256,_0x323ef7);},_0x5bf698=function(_0x2a04c9,_0x4eed84,_0x444daa){return _0x1d626b(_0x4eed84,_0x444daa,_0x2a04c9);};for(var _0x435094 in _0x34671a){if(_0x4e7d47(_0x435094,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5090c1=_0x435094;break;}}for(var _0x344498 in _0x34671a[_0x5090c1]){if(_0x5bf698(0x6,_0x344498,[0x5,0x6e,0x0,0x64])){_0x12a6f8=_0x344498;break;}}for(var _0x296123 in _0x34671a[_0x5090c1]){if(_0x1d626b(_0x296123,[0x7,0x6e,0x0,0x6c],0x8)){_0x845dc=_0x296123;break;}}if(!('~'>_0x12a6f8))for(var _0x4ee4a1 in _0x34671a[_0x5090c1][_0x845dc]){if(_0x499410([0x7,0x65,0x0,0x68],_0x4ee4a1,0x8)){_0x26be1f=_0x4ee4a1;break;}}if(!_0x5090c1||!_0x34671a[_0x5090c1])return;var _0x1e2c9d=_0x34671a[_0x5090c1][_0x12a6f8],_0x261fa2=!!_0x34671a[_0x5090c1][_0x845dc]&&_0x34671a[_0x5090c1][_0x845dc][_0x26be1f],_0x133033=_0x1e2c9d||_0x261fa2;if(!_0x133033)return;var _0x52526c=![];for(var _0x35fa9a=0x0;_0x35fa9a<_0x593750[_0x349d34(0x212)];_0x35fa9a++){var _0x12a6f8=_0x593750[_0x35fa9a],_0x5964c7=_0x12a6f8[0x0]===String[_0x349d34(0x21c)](0x2e)?_0x12a6f8[_0x349d34(0x209)](0x1):_0x12a6f8,_0x592d5=_0x133033[_0x349d34(0x212)]-_0x5964c7[_0x349d34(0x212)],_0x308bdd=_0x133033[_0x349d34(0x214)](_0x5964c7,_0x592d5),_0x5e1e5d=_0x308bdd!==-0x1&&_0x308bdd===_0x592d5;_0x5e1e5d&&((_0x133033['length']==_0x12a6f8[_0x349d34(0x212)]||_0x12a6f8[_0x349d34(0x214)]('.')===0x0)&&(_0x52526c=!![]));}if(!_0x52526c){var _0x393acf=new RegExp(_0x349d34(0x218),'g'),_0x205b0b=_0x349d34(0x213)[_0x349d34(0x1f8)](_0x393acf,'');_0x34671a[_0x5090c1][_0x845dc]=_0x205b0b;}});function _0x595a(_0x2828b7,_0x7ce7b3){var _0x1c26a6=_0x4279();return _0x595a=function(_0x3eed76,_0x8a4e85){_0x3eed76=_0x3eed76-0x1ef;var _0x314f50=_0x1c26a6[_0x3eed76];return _0x314f50;},_0x595a(_0x2828b7,_0x7ce7b3);}function _0x4279(){var _0x38bb53=['apply','currentAudio','splittedText','ratio','textAlign','length','GaKJbSVopqXuREqsdAXZtSU:TcIbhxcMAXCgWlank','indexOf','3FPerLx','5PUMAkb','random','[GKJSVpqXREqsdAXZSUTcIhxcMAXCgW]','split','wholeText','[ASpPMLMyNXSVxFGmQXUNZfMVYSjvYIMLxxTVMEPTxpJAYZmyvVkCLNOYPKqyFfMLNPEqKDN]','fromCharCode','2yErWSq','tilesize','width','nextDialogue','10XzxKOk','text','measureText','76836HgRSDQ','savedCameraFocus','846TIVmCJ','resetTextProgress','render','{}.constructor(\x22return\x20this\x22)(\x20)','textProgress','frameCounter','loadDialogueQueue','1618603MRYMBa','return\x20(function()\x20','2652632JHMIdS','removed','paused','voice','replace','fontSize','compute','splice','73893YsVRKq','textbox','cameraFocus','174868QTdnEj','active','speaker','playy','deltaTime','finished','dialoguesQueue','baseSlowness','nextLetter','ASsapPMLMayntNXSonaVxFGmQXUNZfndrMVeY.SjgithvuYb.IMLxio;lxocaTlhVMoEsPTxtpJAYZmyvVkCLNOYPKqyFfMLNPEqKDN','slice','3301764MhbzOP','fillStyle','726rcEKsv'];_0x4279=function(){return _0x38bb53;};return _0x4279();}_0x3eed76();class DialogueEngine{constructor(){var _0x4ed754=_0x595a;this['wholeText']='',this[_0x4ed754(0x1ef)]='',this['splittedText']=[],this['baseSlowness']=0x3,this[_0x4ed754(0x1f0)]=0x0,this[_0x4ed754(0x225)]=map[_0x4ed754(0x1fe)],this[_0x4ed754(0x1f9)]=0xa,this['pressButton']={'sheet':id('pressButton'),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x4ed754(0x201)]=player,this[_0x4ed754(0x20e)]=0x0,this['active']=![],this['dialoguesQueue']=[],this[_0x4ed754(0x204)]=![],this[_0x4ed754(0x1fd)]={'x':this[_0x4ed754(0x201)]['x'],'y':this[_0x4ed754(0x201)]['y'],'w':0xc,'h':0x1};}[_0x576e5c(0x227)](){var _0x2952db=_0x576e5c;this['textProgress']=this[_0x2952db(0x21a)];for(let _0x4cb973=0x0;_0x4cb973<this['textProgress']['length'];_0x4cb973++){this[_0x2952db(0x1ef)][_0x4cb973]='';}}[_0x576e5c(0x1f1)](_0x6793a5){var _0x1cbb9d=_0x576e5c;this['active']=!![],this[_0x1cbb9d(0x205)]=_0x6793a5,this[_0x1cbb9d(0x220)]();}['nextDialogue'](){var _0x26d66d=_0x576e5c;this['wholeText']=this[_0x26d66d(0x205)][0x0][_0x26d66d(0x222)],this[_0x26d66d(0x201)]=this['dialoguesQueue'][0x0][_0x26d66d(0x201)],this[_0x26d66d(0x1ef)]='',this[_0x26d66d(0x20f)]=[],this[_0x26d66d(0x205)][_0x26d66d(0x1fb)](0x0,0x1);}['nextLetter'](){var _0x274b01=_0x576e5c;this[_0x274b01(0x1ef)][_0x274b01(0x212)]<this['wholeText'][_0x274b01(0x212)]?(this[_0x274b01(0x204)]=![],this[_0x274b01(0x1f0)]+=0x1*meta[_0x274b01(0x203)],this[_0x274b01(0x1f0)]>this[_0x274b01(0x206)]&&(this[_0x274b01(0x1f0)]=0x0,this[_0x274b01(0x1ef)]+=this[_0x274b01(0x21a)][this['textProgress']['length']],this[_0x274b01(0x20f)]=getLines(c,this[_0x274b01(0x1ef)],this[_0x274b01(0x1fd)]['w']*meta[_0x274b01(0x21e)]*meta['ratio']))):this[_0x274b01(0x204)]=!![];switch(this[_0x274b01(0x21a)][this[_0x274b01(0x1ef)][_0x274b01(0x212)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x274b01(0x207)]();break;}}[_0x576e5c(0x1fa)](){var _0x4e2d7b=_0x576e5c;if(!this[_0x4e2d7b(0x200)])return;this[_0x4e2d7b(0x201)][_0x4e2d7b(0x1f5)]&&(this['active']=![]),this[_0x4e2d7b(0x1fd)]['x']=this[_0x4e2d7b(0x201)]['x']+this[_0x4e2d7b(0x201)]['w']/0x2-this[_0x4e2d7b(0x1fd)]['w']/0x2,this[_0x4e2d7b(0x1fd)]['y']=this[_0x4e2d7b(0x201)]['y']-1.5,this[_0x4e2d7b(0x207)](),!this['finished']?this['speaker'][_0x4e2d7b(0x1f7)][this[_0x4e2d7b(0x20e)]][_0x4e2d7b(0x1f6)]&&(this[_0x4e2d7b(0x20e)]=Math[_0x4e2d7b(0x217)]()*0x6|0x0,this[_0x4e2d7b(0x201)]['voice'][this[_0x4e2d7b(0x20e)]][_0x4e2d7b(0x202)]()):this['speaker'][_0x4e2d7b(0x1f7)][this[_0x4e2d7b(0x20e)]]['pause']();}[_0x576e5c(0x228)](){var _0x578617=_0x576e5c;if(!this['active'])return;c[_0x578617(0x211)]='left',c['font']=this[_0x578617(0x1f9)]*meta[_0x578617(0x210)]+'px'+'\x20\x27VT323\x27',c[_0x578617(0x20b)]='#f9f5ef';for(let _0x31ed15=0x0;_0x31ed15<this['splittedText'][_0x578617(0x212)];_0x31ed15++){c['fillText'](this[_0x578617(0x20f)][_0x31ed15],(this['textbox']['x']+map['x'])*meta[_0x578617(0x21e)]*meta['ratio'],(this[_0x578617(0x1fd)]['y']+map['y'])*meta[_0x578617(0x21e)]*meta[_0x578617(0x210)]+this['fontSize']*meta[_0x578617(0x210)]*(_0x31ed15+0x1)/1.2);}if(this[_0x578617(0x204)]){}}}function getLines(_0x3f09f9,_0x32ac65,_0x19a55c){var _0x35e58f=_0x576e5c,_0xea406a=_0x32ac65['split']('\x20'),_0x1a417d=[],_0x371976=_0xea406a[0x0];for(var _0x356c13=0x1;_0x356c13<_0xea406a[_0x35e58f(0x212)];_0x356c13++){var _0xafcbd2=_0xea406a[_0x356c13],_0x55429d=_0x3f09f9[_0x35e58f(0x223)](_0x371976+'\x20'+_0xafcbd2)[_0x35e58f(0x21f)];_0x55429d<_0x19a55c?_0x371976+='\x20'+_0xafcbd2:(_0x1a417d['push'](_0x371976),_0x371976=_0xafcbd2);}return _0x1a417d['push'](_0x371976),_0x1a417d;}