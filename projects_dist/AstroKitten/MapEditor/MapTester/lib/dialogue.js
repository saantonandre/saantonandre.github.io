var _0x58b6d0=_0x5827;function _0x50b0(){var _0x3cb6ad=['random','60YEOnog','replace','currentAudio','pressButton','pause','textProgress','splittedText','IQsXVMZCaZantVkovYWLfnWUKanjUdre.wOWgixBAVthuEb.SCioG;lyocIaqlNpQhostDmBZCxOqLKVHyIzzQfIFkUYxXmEHOxwUAY','compute','deltaTime','split','5358177blKQJu','44345977upsSHa','slice','[IQXVMZCZVkvYWLfWUKjUwOWxBAVESCGyIqNpQDmBZCxOqLKVHyIzzQfIFkUYxXmEHOxwUAY]','32FeBhAd','2948982IULUmO','frameCounter','paused','apply','loadDialogueQueue','speaker','wholeText','9472793oIrqwg','splice','4fLmlBp','playy','334005pXRKVC','width','measureText','finished','tilesize','push','ratio','40DOwwXr','charCodeAt','active','QaboDduRfvt:iblacnYkIFMrzQFFCIxPjgqYixpim','nextDialogue','resetTextProgress','70474exWmML','indexOf','fontSize','12fkxYcp','return\x20(function()\x20','baseSlowness','fillText','\x20\x27VT323\x27','length','savedCameraFocus','20AazSZS','fromCharCode','nextLetter','dialoguesQueue','text','textbox','font','14WOpeUN','cameraFocus','textAlign','268261ReDGax','removed','voice','#f9f5ef'];_0x50b0=function(){return _0x3cb6ad;};return _0x50b0();}(function(_0x4eeadd,_0x48acc3){var _0x13fbbb=_0x5827,_0x4e8e97=_0x4eeadd();while(!![]){try{var _0x33c94c=-parseInt(_0x13fbbb(0x100))/0x1*(-parseInt(_0x13fbbb(0x128))/0x2)+-parseInt(_0x13fbbb(0x129))/0x3*(parseInt(_0x13fbbb(0xf1))/0x4)+-parseInt(_0x13fbbb(0xf3))/0x5*(parseInt(_0x13fbbb(0x119))/0x6)+parseInt(_0x13fbbb(0x114))/0x7*(-parseInt(_0x13fbbb(0xfa))/0x8)+-parseInt(_0x13fbbb(0x124))/0x9*(parseInt(_0x13fbbb(0x10a))/0xa)+parseInt(_0x13fbbb(0xef))/0xb*(-parseInt(_0x13fbbb(0x103))/0xc)+parseInt(_0x13fbbb(0x125))/0xd*(parseInt(_0x13fbbb(0x111))/0xe);if(_0x33c94c===_0x48acc3)break;else _0x4e8e97['push'](_0x4e8e97['shift']());}catch(_0x3a3dc5){_0x4e8e97['push'](_0x4e8e97['shift']());}}}(_0x50b0,0x9d4e5));var _0x22b14b=(function(){var _0x557f63=!![];return function(_0x316408,_0x42c77d){var _0x20ff34=_0x557f63?function(){var _0x28ca62=_0x5827;if(_0x42c77d){var _0x1b11d8=_0x42c77d[_0x28ca62(0x12c)](_0x316408,arguments);return _0x42c77d=null,_0x1b11d8;}}:function(){};return _0x557f63=![],_0x20ff34;};}()),_0x169039=_0x22b14b(this,function(){var _0x15132c=_0x5827,_0x22200e;try{var _0x58e61b=Function(_0x15132c(0x104)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x22200e=_0x58e61b();}catch(_0x3a228a){_0x22200e=window;}var _0x498bd6=new RegExp(_0x15132c(0x127),'g'),_0x26eebb=_0x15132c(0x120)[_0x15132c(0x11a)](_0x498bd6,'')[_0x15132c(0x123)](';'),_0x1e3fc2,_0x3b1c37,_0x40fb36,_0x4590ca,_0x4873f7=function(_0xc9c878,_0x1480cf,_0x4ac1cf){var _0x21b067=_0x15132c;if(_0xc9c878[_0x21b067(0x108)]!=_0x1480cf)return![];for(var _0x4b43a5=0x0;_0x4b43a5<_0x1480cf;_0x4b43a5++){for(var _0x4a1aa8=0x0;_0x4a1aa8<_0x4ac1cf[_0x21b067(0x108)];_0x4a1aa8+=0x2){if(_0x4b43a5==_0x4ac1cf[_0x4a1aa8]&&_0xc9c878[_0x21b067(0xfb)](_0x4b43a5)!=_0x4ac1cf[_0x4a1aa8+0x1])return![];}}return!![];},_0x483ae0=function(_0x42c58b,_0x54922b,_0x44b649){return _0x4873f7(_0x54922b,_0x44b649,_0x42c58b);},_0x2800a2=function(_0x2b432b,_0x2f53cd,_0x4b6d31){return _0x483ae0(_0x2f53cd,_0x2b432b,_0x4b6d31);},_0x58da18=function(_0x39ec13,_0x13bc03,_0x3ba86a){return _0x2800a2(_0x13bc03,_0x3ba86a,_0x39ec13);};for(var _0x1fc434 in _0x22200e){if(_0x4873f7(_0x1fc434,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1e3fc2=_0x1fc434;break;}}for(var _0x882f51 in _0x22200e[_0x1e3fc2]){if(_0x58da18(0x6,_0x882f51,[0x5,0x6e,0x0,0x64])){_0x3b1c37=_0x882f51;break;}}for(var _0x312b60 in _0x22200e[_0x1e3fc2]){if(_0x2800a2(_0x312b60,[0x7,0x6e,0x0,0x6c],0x8)){_0x40fb36=_0x312b60;break;}}if(!('~'>_0x3b1c37))for(var _0x28eb65 in _0x22200e[_0x1e3fc2][_0x40fb36]){if(_0x483ae0([0x7,0x65,0x0,0x68],_0x28eb65,0x8)){_0x4590ca=_0x28eb65;break;}}if(!_0x1e3fc2||!_0x22200e[_0x1e3fc2])return;var _0x500952=_0x22200e[_0x1e3fc2][_0x3b1c37],_0x346cf3=!!_0x22200e[_0x1e3fc2][_0x40fb36]&&_0x22200e[_0x1e3fc2][_0x40fb36][_0x4590ca],_0xac26f5=_0x500952||_0x346cf3;if(!_0xac26f5)return;var _0x13068a=![];for(var _0x3bfc80=0x0;_0x3bfc80<_0x26eebb['length'];_0x3bfc80++){var _0x3b1c37=_0x26eebb[_0x3bfc80],_0x271248=_0x3b1c37[0x0]===String[_0x15132c(0x10b)](0x2e)?_0x3b1c37[_0x15132c(0x126)](0x1):_0x3b1c37,_0x2e5488=_0xac26f5[_0x15132c(0x108)]-_0x271248[_0x15132c(0x108)],_0x281c2a=_0xac26f5[_0x15132c(0x101)](_0x271248,_0x2e5488),_0xb2fd5b=_0x281c2a!==-0x1&&_0x281c2a===_0x2e5488;_0xb2fd5b&&((_0xac26f5[_0x15132c(0x108)]==_0x3b1c37[_0x15132c(0x108)]||_0x3b1c37[_0x15132c(0x101)]('.')===0x0)&&(_0x13068a=!![]));}if(!_0x13068a){var _0x30be73=new RegExp('[QDdRfvicYIFMrzQFFCIxPjgqYixpim]','g'),_0x34ca38=_0x15132c(0xfd)['replace'](_0x30be73,'');_0x22200e[_0x1e3fc2][_0x40fb36]=_0x34ca38;}});_0x169039();class DialogueEngine{constructor(){var _0x216359=_0x5827;this['wholeText']='',this[_0x216359(0x11e)]='',this['splittedText']=[],this['baseSlowness']=0x3,this[_0x216359(0x12a)]=0x0,this[_0x216359(0x109)]=map[_0x216359(0x112)],this[_0x216359(0x102)]=0xa,this[_0x216359(0x11c)]={'sheet':id('pressButton'),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x216359(0xed)]=player,this[_0x216359(0x11b)]=0x0,this[_0x216359(0xfc)]=![],this['dialoguesQueue']=[],this[_0x216359(0xf6)]=![],this['textbox']={'x':this[_0x216359(0xed)]['x'],'y':this[_0x216359(0xed)]['y'],'w':0xc,'h':0x1};}[_0x58b6d0(0xff)](){var _0x43d915=_0x58b6d0;this[_0x43d915(0x11e)]=this[_0x43d915(0xee)];for(let _0x4320aa=0x0;_0x4320aa<this[_0x43d915(0x11e)][_0x43d915(0x108)];_0x4320aa++){this[_0x43d915(0x11e)][_0x4320aa]='';}}[_0x58b6d0(0x12d)](_0x1b9eaa){var _0x1b2083=_0x58b6d0;this[_0x1b2083(0xfc)]=!![],this[_0x1b2083(0x10d)]=_0x1b9eaa,this[_0x1b2083(0xfe)]();}[_0x58b6d0(0xfe)](){var _0x4dbb16=_0x58b6d0;this['wholeText']=this['dialoguesQueue'][0x0][_0x4dbb16(0x10e)],this[_0x4dbb16(0xed)]=this[_0x4dbb16(0x10d)][0x0][_0x4dbb16(0xed)],this[_0x4dbb16(0x11e)]='',this[_0x4dbb16(0x11f)]=[],this[_0x4dbb16(0x10d)][_0x4dbb16(0xf0)](0x0,0x1);}[_0x58b6d0(0x10c)](){var _0x3613e7=_0x58b6d0;this[_0x3613e7(0x11e)][_0x3613e7(0x108)]<this[_0x3613e7(0xee)]['length']?(this['finished']=![],this[_0x3613e7(0x12a)]+=0x1*meta[_0x3613e7(0x122)],this['frameCounter']>this[_0x3613e7(0x105)]&&(this[_0x3613e7(0x12a)]=0x0,this[_0x3613e7(0x11e)]+=this[_0x3613e7(0xee)][this['textProgress'][_0x3613e7(0x108)]],this[_0x3613e7(0x11f)]=getLines(c,this[_0x3613e7(0x11e)],this[_0x3613e7(0x10f)]['w']*meta[_0x3613e7(0xf7)]*meta[_0x3613e7(0xf9)]))):this[_0x3613e7(0xf6)]=!![];switch(this['wholeText'][this[_0x3613e7(0x11e)][_0x3613e7(0x108)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x3613e7(0x10c)]();break;}}[_0x58b6d0(0x121)](){var _0x158fa3=_0x58b6d0;if(!this[_0x158fa3(0xfc)])return;this['speaker'][_0x158fa3(0x115)]&&(this[_0x158fa3(0xfc)]=![]),this[_0x158fa3(0x10f)]['x']=this['speaker']['x']+this['speaker']['w']/0x2-this[_0x158fa3(0x10f)]['w']/0x2,this[_0x158fa3(0x10f)]['y']=this['speaker']['y']-1.5,this[_0x158fa3(0x10c)](),!this[_0x158fa3(0xf6)]?this[_0x158fa3(0xed)][_0x158fa3(0x116)][this[_0x158fa3(0x11b)]][_0x158fa3(0x12b)]&&(this['currentAudio']=Math[_0x158fa3(0x118)]()*0x6|0x0,this[_0x158fa3(0xed)][_0x158fa3(0x116)][this['currentAudio']][_0x158fa3(0xf2)]()):this[_0x158fa3(0xed)][_0x158fa3(0x116)][this[_0x158fa3(0x11b)]][_0x158fa3(0x11d)]();}['render'](){var _0x2df26b=_0x58b6d0;if(!this[_0x2df26b(0xfc)])return;c[_0x2df26b(0x113)]='left',c[_0x2df26b(0x110)]=this[_0x2df26b(0x102)]*meta[_0x2df26b(0xf9)]+'px'+_0x2df26b(0x107),c['fillStyle']=_0x2df26b(0x117);for(let _0x33d489=0x0;_0x33d489<this[_0x2df26b(0x11f)]['length'];_0x33d489++){c[_0x2df26b(0x106)](this[_0x2df26b(0x11f)][_0x33d489],(this[_0x2df26b(0x10f)]['x']+map['x'])*meta[_0x2df26b(0xf7)]*meta[_0x2df26b(0xf9)],(this['textbox']['y']+map['y'])*meta[_0x2df26b(0xf7)]*meta['ratio']+this[_0x2df26b(0x102)]*meta[_0x2df26b(0xf9)]*(_0x33d489+0x1)/1.2);}if(this[_0x2df26b(0xf6)]){}}}function _0x5827(_0xc60d6c,_0x1aa9ad){var _0x3f51cc=_0x50b0();return _0x5827=function(_0x169039,_0x22b14b){_0x169039=_0x169039-0xed;var _0x3ebe08=_0x3f51cc[_0x169039];return _0x3ebe08;},_0x5827(_0xc60d6c,_0x1aa9ad);}function getLines(_0x35df5c,_0x414af4,_0x53ce4d){var _0x567295=_0x58b6d0,_0x17aed4=_0x414af4[_0x567295(0x123)]('\x20'),_0x1cc0b4=[],_0x439b15=_0x17aed4[0x0];for(var _0x334b7f=0x1;_0x334b7f<_0x17aed4[_0x567295(0x108)];_0x334b7f++){var _0x37cbd0=_0x17aed4[_0x334b7f],_0x542cf0=_0x35df5c[_0x567295(0xf5)](_0x439b15+'\x20'+_0x37cbd0)[_0x567295(0xf4)];_0x542cf0<_0x53ce4d?_0x439b15+='\x20'+_0x37cbd0:(_0x1cc0b4[_0x567295(0xf8)](_0x439b15),_0x439b15=_0x37cbd0);}return _0x1cc0b4[_0x567295(0xf8)](_0x439b15),_0x1cc0b4;}