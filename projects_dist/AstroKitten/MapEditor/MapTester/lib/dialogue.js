var _0x18c7dd=_0x1b52;(function(_0xa156ca,_0x3a66ab){var _0x3b6156=_0x1b52,_0x1ea6e7=_0xa156ca();while(!![]){try{var _0x5b69fc=parseInt(_0x3b6156(0x206))/0x1*(parseInt(_0x3b6156(0x1f6))/0x2)+-parseInt(_0x3b6156(0x1fc))/0x3*(-parseInt(_0x3b6156(0x1fb))/0x4)+-parseInt(_0x3b6156(0x1e1))/0x5+-parseInt(_0x3b6156(0x1f0))/0x6+parseInt(_0x3b6156(0x207))/0x7+parseInt(_0x3b6156(0x1df))/0x8+-parseInt(_0x3b6156(0x1e4))/0x9;if(_0x5b69fc===_0x3a66ab)break;else _0x1ea6e7['push'](_0x1ea6e7['shift']());}catch(_0x132761){_0x1ea6e7['push'](_0x1ea6e7['shift']());}}}(_0x45ad,0x790f7));var _0x30d75d=(function(){var _0x18b2c5=!![];return function(_0xe50552,_0x5af6bf){var _0x358342=_0x18b2c5?function(){var _0x4a4a18=_0x1b52;if(_0x5af6bf){var _0x2d167c=_0x5af6bf[_0x4a4a18(0x1fe)](_0xe50552,arguments);return _0x5af6bf=null,_0x2d167c;}}:function(){};return _0x18b2c5=![],_0x358342;};}()),_0x4d4a1d=_0x30d75d(this,function(){var _0x5244a5=_0x1b52,_0x22aed1;try{var _0x49ffdb=Function('return\x20(function()\x20'+_0x5244a5(0x1e7)+');');_0x22aed1=_0x49ffdb();}catch(_0x3526af){_0x22aed1=window;}var _0x36725a=new RegExp(_0x5244a5(0x1eb),'g'),_0x13ac24='sZDIFRyaxvaxntonDUXanGDdre.githIub.io;HlABocDjUzaUlJhostSyWzZwJzZFzVGzQLMqAZxBjNwKADTxDvmRJfQQKNfYqTMVH'[_0x5244a5(0x204)](_0x36725a,'')[_0x5244a5(0x1e3)](';'),_0x3b37f2,_0x8af8d4,_0x50335c,_0x160389,_0x3f1606=function(_0x1362d6,_0x363ff6,_0x52764e){var _0x4478ab=_0x5244a5;if(_0x1362d6['length']!=_0x363ff6)return![];for(var _0x927f40=0x0;_0x927f40<_0x363ff6;_0x927f40++){for(var _0x3cdf9b=0x0;_0x3cdf9b<_0x52764e[_0x4478ab(0x20a)];_0x3cdf9b+=0x2){if(_0x927f40==_0x52764e[_0x3cdf9b]&&_0x1362d6[_0x4478ab(0x202)](_0x927f40)!=_0x52764e[_0x3cdf9b+0x1])return![];}}return!![];},_0xd00bc5=function(_0x2fb5c8,_0x35f5bf,_0x16ad95){return _0x3f1606(_0x35f5bf,_0x16ad95,_0x2fb5c8);},_0xc85a00=function(_0x260144,_0x19571d,_0xd2d7da){return _0xd00bc5(_0x19571d,_0x260144,_0xd2d7da);},_0x436d59=function(_0x244abc,_0x4c8945,_0x21d42f){return _0xc85a00(_0x4c8945,_0x21d42f,_0x244abc);};for(var _0x530183 in _0x22aed1){if(_0x3f1606(_0x530183,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3b37f2=_0x530183;break;}}for(var _0x38bfc0 in _0x22aed1[_0x3b37f2]){if(_0x436d59(0x6,_0x38bfc0,[0x5,0x6e,0x0,0x64])){_0x8af8d4=_0x38bfc0;break;}}for(var _0x4f0a42 in _0x22aed1[_0x3b37f2]){if(_0xc85a00(_0x4f0a42,[0x7,0x6e,0x0,0x6c],0x8)){_0x50335c=_0x4f0a42;break;}}if(!('~'>_0x8af8d4))for(var _0x4647bf in _0x22aed1[_0x3b37f2][_0x50335c]){if(_0xd00bc5([0x7,0x65,0x0,0x68],_0x4647bf,0x8)){_0x160389=_0x4647bf;break;}}if(!_0x3b37f2||!_0x22aed1[_0x3b37f2])return;var _0x4fc9c0=_0x22aed1[_0x3b37f2][_0x8af8d4],_0x281365=!!_0x22aed1[_0x3b37f2][_0x50335c]&&_0x22aed1[_0x3b37f2][_0x50335c][_0x160389],_0x227a17=_0x4fc9c0||_0x281365;if(!_0x227a17)return;var _0x9c7bea=![];for(var _0x3bd173=0x0;_0x3bd173<_0x13ac24['length'];_0x3bd173++){var _0x8af8d4=_0x13ac24[_0x3bd173],_0x10317f=_0x8af8d4[0x0]===String[_0x5244a5(0x20d)](0x2e)?_0x8af8d4[_0x5244a5(0x20c)](0x1):_0x8af8d4,_0x21ac50=_0x227a17['length']-_0x10317f[_0x5244a5(0x20a)],_0x3f9591=_0x227a17[_0x5244a5(0x1f4)](_0x10317f,_0x21ac50),_0xafaca8=_0x3f9591!==-0x1&&_0x3f9591===_0x21ac50;_0xafaca8&&((_0x227a17['length']==_0x8af8d4[_0x5244a5(0x20a)]||_0x8af8d4[_0x5244a5(0x1f4)]('.')===0x0)&&(_0x9c7bea=!![]));}if(!_0x9c7bea){var _0x22af5a=new RegExp('[FGUYEEUssQiPLYQKrvxJZfUmLrLAX]','g'),_0x43559e=_0x5244a5(0x1e5)[_0x5244a5(0x204)](_0x22af5a,'');_0x22aed1[_0x3b37f2][_0x50335c]=_0x43559e;}});_0x4d4a1d();function _0x1b52(_0x356284,_0x51ce3d){var _0x44fa04=_0x45ad();return _0x1b52=function(_0x4d4a1d,_0x30d75d){_0x4d4a1d=_0x4d4a1d-0x1dc;var _0x144310=_0x44fa04[_0x4d4a1d];return _0x144310;},_0x1b52(_0x356284,_0x51ce3d);}function _0x45ad(){var _0x4dca9d=['replace','active','1fPaDea','5127234kswIIO','#f9f5ef','finished','length','nextDialogue','slice','fromCharCode','ratio','push','dialoguesQueue','splittedText','speaker','\x20\x27VT323\x27','5864008KmsTZH','frameCounter','3815445EghOXL','left','split','5500656DfuOwc','FGUYaEbouEUst:sQiPblaLYQKrnvxJZkfUmLrLAX','fontSize','{}.constructor(\x22return\x20this\x22)(\x20)','voice','cameraFocus','wholeText','[ZDIFRyxvxDUXGDIHABDjUzUJSyWzZwJzZFzVGzQLMqAZxBjNwKADTxDvmRJfQQKNfYqTMVH]','textbox','removed','pressButton','compute','4354692bRjNdf','resetTextProgress','baseSlowness','deltaTime','indexOf','render','1789298TMUQCo','savedCameraFocus','paused','currentAudio','splice','157204OigyhY','18nRtmlH','nextLetter','apply','random','tilesize','textProgress','charCodeAt','fillStyle'];_0x45ad=function(){return _0x4dca9d;};return _0x45ad();}class DialogueEngine{constructor(){var _0xa4a4a3=_0x1b52;this[_0xa4a4a3(0x1ea)]='',this['textProgress']='',this[_0xa4a4a3(0x1dc)]=[],this[_0xa4a4a3(0x1f2)]=0x3,this['frameCounter']=0x0,this[_0xa4a4a3(0x1f7)]=map[_0xa4a4a3(0x1e9)],this[_0xa4a4a3(0x1e6)]=0xa,this[_0xa4a4a3(0x1ee)]={'sheet':id(_0xa4a4a3(0x1ee)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this['speaker']=player,this[_0xa4a4a3(0x1f9)]=0x0,this['active']=![],this['dialoguesQueue']=[],this['finished']=![],this[_0xa4a4a3(0x1ec)]={'x':this[_0xa4a4a3(0x1dd)]['x'],'y':this[_0xa4a4a3(0x1dd)]['y'],'w':0xc,'h':0x1};}[_0x18c7dd(0x1f1)](){var _0x166c93=_0x18c7dd;this[_0x166c93(0x201)]=this[_0x166c93(0x1ea)];for(let _0x9d4bf=0x0;_0x9d4bf<this[_0x166c93(0x201)][_0x166c93(0x20a)];_0x9d4bf++){this[_0x166c93(0x201)][_0x9d4bf]='';}}['loadDialogueQueue'](_0x1cbe05){var _0x5cfb41=_0x18c7dd;this['active']=!![],this[_0x5cfb41(0x210)]=_0x1cbe05,this[_0x5cfb41(0x20b)]();}[_0x18c7dd(0x20b)](){var _0x43c6a1=_0x18c7dd;this[_0x43c6a1(0x1ea)]=this['dialoguesQueue'][0x0]['text'],this['speaker']=this['dialoguesQueue'][0x0][_0x43c6a1(0x1dd)],this[_0x43c6a1(0x201)]='',this[_0x43c6a1(0x1dc)]=[],this[_0x43c6a1(0x210)][_0x43c6a1(0x1fa)](0x0,0x1);}['nextLetter'](){var _0x512e80=_0x18c7dd;this[_0x512e80(0x201)][_0x512e80(0x20a)]<this[_0x512e80(0x1ea)][_0x512e80(0x20a)]?(this['finished']=![],this[_0x512e80(0x1e0)]+=0x1*meta[_0x512e80(0x1f3)],this[_0x512e80(0x1e0)]>this[_0x512e80(0x1f2)]&&(this['frameCounter']=0x0,this['textProgress']+=this[_0x512e80(0x1ea)][this[_0x512e80(0x201)][_0x512e80(0x20a)]],this[_0x512e80(0x1dc)]=getLines(c,this[_0x512e80(0x201)],this['textbox']['w']*meta[_0x512e80(0x200)]*meta[_0x512e80(0x20e)]))):this[_0x512e80(0x209)]=!![];switch(this[_0x512e80(0x1ea)][this['textProgress'][_0x512e80(0x20a)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x512e80(0x1fd)]();break;}}[_0x18c7dd(0x1ef)](){var _0x53460d=_0x18c7dd;if(!this[_0x53460d(0x205)])return;this['speaker'][_0x53460d(0x1ed)]&&(this['active']=![]),this[_0x53460d(0x1ec)]['x']=this[_0x53460d(0x1dd)]['x']+this[_0x53460d(0x1dd)]['w']/0x2-this['textbox']['w']/0x2,this[_0x53460d(0x1ec)]['y']=this[_0x53460d(0x1dd)]['y']-1.5,this[_0x53460d(0x1fd)](),!this[_0x53460d(0x209)]?this[_0x53460d(0x1dd)]['voice'][this[_0x53460d(0x1f9)]][_0x53460d(0x1f8)]&&(this[_0x53460d(0x1f9)]=Math[_0x53460d(0x1ff)]()*0x6|0x0,this['speaker'][_0x53460d(0x1e8)][this[_0x53460d(0x1f9)]]['playy']()):this[_0x53460d(0x1dd)]['voice'][this[_0x53460d(0x1f9)]]['pause']();}[_0x18c7dd(0x1f5)](){var _0x48250e=_0x18c7dd;if(!this[_0x48250e(0x205)])return;c['textAlign']=_0x48250e(0x1e2),c['font']=this[_0x48250e(0x1e6)]*meta[_0x48250e(0x20e)]+'px'+_0x48250e(0x1de),c[_0x48250e(0x203)]=_0x48250e(0x208);for(let _0x4e4243=0x0;_0x4e4243<this[_0x48250e(0x1dc)][_0x48250e(0x20a)];_0x4e4243++){c['fillText'](this[_0x48250e(0x1dc)][_0x4e4243],(this['textbox']['x']+map['x'])*meta[_0x48250e(0x200)]*meta[_0x48250e(0x20e)],(this[_0x48250e(0x1ec)]['y']+map['y'])*meta['tilesize']*meta[_0x48250e(0x20e)]+this[_0x48250e(0x1e6)]*meta['ratio']*(_0x4e4243+0x1)/1.2);}if(this['finished']){}}}function getLines(_0x11c09d,_0x2e759c,_0x435024){var _0x35bd2d=_0x18c7dd,_0x15b5b7=_0x2e759c[_0x35bd2d(0x1e3)]('\x20'),_0x4f939d=[],_0x3f19ea=_0x15b5b7[0x0];for(var _0x345a1f=0x1;_0x345a1f<_0x15b5b7[_0x35bd2d(0x20a)];_0x345a1f++){var _0x3c3a4b=_0x15b5b7[_0x345a1f],_0x342c32=_0x11c09d['measureText'](_0x3f19ea+'\x20'+_0x3c3a4b)['width'];_0x342c32<_0x435024?_0x3f19ea+='\x20'+_0x3c3a4b:(_0x4f939d[_0x35bd2d(0x20f)](_0x3f19ea),_0x3f19ea=_0x3c3a4b);}return _0x4f939d['push'](_0x3f19ea),_0x4f939d;}