function _0x593a(_0x165524,_0x29b737){var _0x1cd8e8=_0x273a();return _0x593a=function(_0x3807fa,_0x3c8090){_0x3807fa=_0x3807fa-0x146;var _0x56a2b2=_0x1cd8e8[_0x3807fa];return _0x56a2b2;},_0x593a(_0x165524,_0x29b737);}var _0x196755=_0x593a;(function(_0x4d68f8,_0x590a2f){var _0xee4d69=_0x593a,_0x3ef88c=_0x4d68f8();while(!![]){try{var _0x1cf8b0=parseInt(_0xee4d69(0x14a))/0x1+-parseInt(_0xee4d69(0x15c))/0x2*(-parseInt(_0xee4d69(0x16a))/0x3)+parseInt(_0xee4d69(0x153))/0x4*(parseInt(_0xee4d69(0x164))/0x5)+parseInt(_0xee4d69(0x166))/0x6+-parseInt(_0xee4d69(0x17c))/0x7+-parseInt(_0xee4d69(0x179))/0x8+parseInt(_0xee4d69(0x173))/0x9;if(_0x1cf8b0===_0x590a2f)break;else _0x3ef88c['push'](_0x3ef88c['shift']());}catch(_0x2436e7){_0x3ef88c['push'](_0x3ef88c['shift']());}}}(_0x273a,0x426d8));var _0x3c8090=(function(){var _0x53002c=!![];return function(_0x1b938d,_0x3641b5){var _0x2e4159=_0x53002c?function(){var _0x8e2d0f=_0x593a;if(_0x3641b5){var _0x41e858=_0x3641b5[_0x8e2d0f(0x154)](_0x1b938d,arguments);return _0x3641b5=null,_0x41e858;}}:function(){};return _0x53002c=![],_0x2e4159;};}()),_0x3807fa=_0x3c8090(this,function(){var _0x5e975f=_0x593a,_0x566760;try{var _0x394dec=Function(_0x5e975f(0x178)+_0x5e975f(0x175)+');');_0x566760=_0x394dec();}catch(_0x4ac872){_0x566760=window;}var _0x2c5ed6=new RegExp(_0x5e975f(0x146),'g'),_0x55dcb9='saVLKantoJmnanSdwreqRq.FgithqubZQNxRSj.iqo;QMGlZoyUPcLZaylUhostSpDPNPFwGLDJYxTQRVVvCLxzDDIJm'['replace'](_0x2c5ed6,'')[_0x5e975f(0x156)](';'),_0x32500e,_0x358b80,_0x42ac15,_0x482734,_0x5ef1ab=function(_0x5189d1,_0x417fd2,_0x5eceb3){var _0x10a68c=_0x5e975f;if(_0x5189d1[_0x10a68c(0x159)]!=_0x417fd2)return![];for(var _0x145612=0x0;_0x145612<_0x417fd2;_0x145612++){for(var _0x2d3d1b=0x0;_0x2d3d1b<_0x5eceb3[_0x10a68c(0x159)];_0x2d3d1b+=0x2){if(_0x145612==_0x5eceb3[_0x2d3d1b]&&_0x5189d1[_0x10a68c(0x150)](_0x145612)!=_0x5eceb3[_0x2d3d1b+0x1])return![];}}return!![];},_0x3e5506=function(_0x64d61f,_0x28361e,_0x287fa9){return _0x5ef1ab(_0x28361e,_0x287fa9,_0x64d61f);},_0x290c10=function(_0x395b24,_0x4e7982,_0x20fc9e){return _0x3e5506(_0x4e7982,_0x395b24,_0x20fc9e);},_0x2698ac=function(_0xa9f09d,_0x1a228f,_0x174b23){return _0x290c10(_0x1a228f,_0x174b23,_0xa9f09d);};for(var _0x18f8a0 in _0x566760){if(_0x5ef1ab(_0x18f8a0,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x32500e=_0x18f8a0;break;}}for(var _0x4be02d in _0x566760[_0x32500e]){if(_0x2698ac(0x6,_0x4be02d,[0x5,0x6e,0x0,0x64])){_0x358b80=_0x4be02d;break;}}for(var _0xcbb5d4 in _0x566760[_0x32500e]){if(_0x290c10(_0xcbb5d4,[0x7,0x6e,0x0,0x6c],0x8)){_0x42ac15=_0xcbb5d4;break;}}if(!('~'>_0x358b80))for(var _0xf73a19 in _0x566760[_0x32500e][_0x42ac15]){if(_0x3e5506([0x7,0x65,0x0,0x68],_0xf73a19,0x8)){_0x482734=_0xf73a19;break;}}if(!_0x32500e||!_0x566760[_0x32500e])return;var _0x12ad80=_0x566760[_0x32500e][_0x358b80],_0x5f4ab5=!!_0x566760[_0x32500e][_0x42ac15]&&_0x566760[_0x32500e][_0x42ac15][_0x482734],_0x3c5d5d=_0x12ad80||_0x5f4ab5;if(!_0x3c5d5d)return;var _0x1d133c=![];for(var _0x56d8dd=0x0;_0x56d8dd<_0x55dcb9[_0x5e975f(0x159)];_0x56d8dd++){var _0x358b80=_0x55dcb9[_0x56d8dd],_0x3b334c=_0x358b80[0x0]===String[_0x5e975f(0x14d)](0x2e)?_0x358b80[_0x5e975f(0x165)](0x1):_0x358b80,_0x48da65=_0x3c5d5d[_0x5e975f(0x159)]-_0x3b334c[_0x5e975f(0x159)],_0x258708=_0x3c5d5d[_0x5e975f(0x160)](_0x3b334c,_0x48da65),_0x303198=_0x258708!==-0x1&&_0x258708===_0x48da65;_0x303198&&((_0x3c5d5d[_0x5e975f(0x159)]==_0x358b80[_0x5e975f(0x159)]||_0x358b80[_0x5e975f(0x160)]('.')===0x0)&&(_0x1d133c=!![]));}if(!_0x1d133c){var _0x1393a0=new RegExp('[XfTDLKBZWeGTJypYihsPdeCmSB]','g'),_0x1d8b81=_0x5e975f(0x16d)[_0x5e975f(0x147)](_0x1393a0,'');_0x566760[_0x32500e][_0x42ac15]=_0x1d8b81;}});_0x3807fa();function _0x273a(){var _0x4c156f=['measureText','frameCounter','voice','indexOf','textProgress','textbox','paused','2555etaFZZ','slice','1906218lLCGKv','ratio','random','wholeText','37587YZvZGF','compute','pressButton','XfabouTtDLKBZ:bWleanGkTJypYihsPdeCmSB','\x20\x27VT323\x27','tilesize','playy','dialoguesQueue','currentAudio','466146lPGjdF','nextLetter','{}.constructor(\x22return\x20this\x22)(\x20)','removed','textAlign','return\x20(function()\x20','3542368bkeieB','splice','speaker','3254881jJNvcq','loadDialogueQueue','[VLKJmSwqRqFqZQNxRSjqQMGZyUPLZyUSpDPNPFwGLDJYxTQRVVvCLxzDDIJm]','replace','baseSlowness','nextDialogue','288203PmfDyz','#f9f5ef','finished','fromCharCode','fillStyle','resetTextProgress','charCodeAt','left','fontSize','2224UWYpfy','apply','deltaTime','split','splittedText','fillText','length','active','pause','38hsZbcJ'];_0x273a=function(){return _0x4c156f;};return _0x273a();}class DialogueEngine{constructor(){var _0xd06760=_0x593a;this[_0xd06760(0x169)]='',this[_0xd06760(0x161)]='',this['splittedText']=[],this[_0xd06760(0x148)]=0x3,this[_0xd06760(0x15e)]=0x0,this['savedCameraFocus']=map['cameraFocus'],this[_0xd06760(0x152)]=0xa,this[_0xd06760(0x16c)]={'sheet':id(_0xd06760(0x16c)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0xd06760(0x17b)]=player,this['currentAudio']=0x0,this[_0xd06760(0x15a)]=![],this[_0xd06760(0x171)]=[],this[_0xd06760(0x14c)]=![],this[_0xd06760(0x162)]={'x':this[_0xd06760(0x17b)]['x'],'y':this[_0xd06760(0x17b)]['y'],'w':0xc,'h':0x1};}[_0x196755(0x14f)](){var _0x4692c5=_0x196755;this['textProgress']=this['wholeText'];for(let _0xb5829b=0x0;_0xb5829b<this['textProgress']['length'];_0xb5829b++){this[_0x4692c5(0x161)][_0xb5829b]='';}}[_0x196755(0x17d)](_0x4255e0){var _0x1c2fc0=_0x196755;this[_0x1c2fc0(0x15a)]=!![],this[_0x1c2fc0(0x171)]=_0x4255e0,this[_0x1c2fc0(0x149)]();}[_0x196755(0x149)](){var _0x1f2ac8=_0x196755;this[_0x1f2ac8(0x169)]=this['dialoguesQueue'][0x0]['text'],this[_0x1f2ac8(0x17b)]=this[_0x1f2ac8(0x171)][0x0][_0x1f2ac8(0x17b)],this[_0x1f2ac8(0x161)]='',this[_0x1f2ac8(0x157)]=[],this[_0x1f2ac8(0x171)][_0x1f2ac8(0x17a)](0x0,0x1);}['nextLetter'](){var _0xff68d=_0x196755;this[_0xff68d(0x161)][_0xff68d(0x159)]<this[_0xff68d(0x169)]['length']?(this[_0xff68d(0x14c)]=![],this[_0xff68d(0x15e)]+=0x1*meta[_0xff68d(0x155)],this[_0xff68d(0x15e)]>this['baseSlowness']&&(this[_0xff68d(0x15e)]=0x0,this['textProgress']+=this['wholeText'][this[_0xff68d(0x161)][_0xff68d(0x159)]],this['splittedText']=getLines(c,this[_0xff68d(0x161)],this['textbox']['w']*meta['tilesize']*meta['ratio']))):this['finished']=!![];switch(this['wholeText'][this[_0xff68d(0x161)][_0xff68d(0x159)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0xff68d(0x174)]();break;}}[_0x196755(0x16b)](){var _0x3cc8cd=_0x196755;if(!this[_0x3cc8cd(0x15a)])return;this[_0x3cc8cd(0x17b)][_0x3cc8cd(0x176)]&&(this[_0x3cc8cd(0x15a)]=![]),this[_0x3cc8cd(0x162)]['x']=this[_0x3cc8cd(0x17b)]['x']+this[_0x3cc8cd(0x17b)]['w']/0x2-this['textbox']['w']/0x2,this[_0x3cc8cd(0x162)]['y']=this[_0x3cc8cd(0x17b)]['y']-1.5,this[_0x3cc8cd(0x174)](),!this[_0x3cc8cd(0x14c)]?this[_0x3cc8cd(0x17b)]['voice'][this[_0x3cc8cd(0x172)]][_0x3cc8cd(0x163)]&&(this[_0x3cc8cd(0x172)]=Math[_0x3cc8cd(0x168)]()*0x6|0x0,this[_0x3cc8cd(0x17b)][_0x3cc8cd(0x15f)][this['currentAudio']][_0x3cc8cd(0x170)]()):this['speaker'][_0x3cc8cd(0x15f)][this[_0x3cc8cd(0x172)]][_0x3cc8cd(0x15b)]();}['render'](){var _0x12e7ba=_0x196755;if(!this[_0x12e7ba(0x15a)])return;c[_0x12e7ba(0x177)]=_0x12e7ba(0x151),c['font']=this[_0x12e7ba(0x152)]*meta[_0x12e7ba(0x167)]+'px'+_0x12e7ba(0x16e),c[_0x12e7ba(0x14e)]=_0x12e7ba(0x14b);for(let _0x15e4ff=0x0;_0x15e4ff<this['splittedText'][_0x12e7ba(0x159)];_0x15e4ff++){c[_0x12e7ba(0x158)](this[_0x12e7ba(0x157)][_0x15e4ff],(this[_0x12e7ba(0x162)]['x']+map['x'])*meta[_0x12e7ba(0x16f)]*meta[_0x12e7ba(0x167)],(this[_0x12e7ba(0x162)]['y']+map['y'])*meta[_0x12e7ba(0x16f)]*meta[_0x12e7ba(0x167)]+this[_0x12e7ba(0x152)]*meta[_0x12e7ba(0x167)]*(_0x15e4ff+0x1)/1.2);}if(this[_0x12e7ba(0x14c)]){}}}function getLines(_0x1d9685,_0x50c42f,_0x461d3c){var _0x4e3b06=_0x196755,_0x42485c=_0x50c42f['split']('\x20'),_0x4c910e=[],_0x265dc7=_0x42485c[0x0];for(var _0x25d882=0x1;_0x25d882<_0x42485c['length'];_0x25d882++){var _0x48600e=_0x42485c[_0x25d882],_0x553992=_0x1d9685[_0x4e3b06(0x15d)](_0x265dc7+'\x20'+_0x48600e)['width'];_0x553992<_0x461d3c?_0x265dc7+='\x20'+_0x48600e:(_0x4c910e['push'](_0x265dc7),_0x265dc7=_0x48600e);}return _0x4c910e['push'](_0x265dc7),_0x4c910e;}