var _0x4eeb97=_0x1a8f;(function(_0x167045,_0x5b5781){var _0x200c9a=_0x1a8f,_0x26eec5=_0x167045();while(!![]){try{var _0x878c77=-parseInt(_0x200c9a(0x118))/0x1+parseInt(_0x200c9a(0xf4))/0x2*(parseInt(_0x200c9a(0x116))/0x3)+-parseInt(_0x200c9a(0x11e))/0x4+parseInt(_0x200c9a(0xfb))/0x5*(parseInt(_0x200c9a(0xf5))/0x6)+-parseInt(_0x200c9a(0xee))/0x7+parseInt(_0x200c9a(0x110))/0x8*(-parseInt(_0x200c9a(0xfe))/0x9)+parseInt(_0x200c9a(0x10e))/0xa;if(_0x878c77===_0x5b5781)break;else _0x26eec5['push'](_0x26eec5['shift']());}catch(_0x292a1c){_0x26eec5['push'](_0x26eec5['shift']());}}}(_0x3bee,0xed20c));function _0x1a8f(_0x4a1a04,_0x57e4a8){var _0x398a7e=_0x3bee();return _0x1a8f=function(_0x806d70,_0x2ab541){_0x806d70=_0x806d70-0xed;var _0x1e97a2=_0x398a7e[_0x806d70];return _0x1e97a2;},_0x1a8f(_0x4a1a04,_0x57e4a8);}var _0x2ab541=(function(){var _0x39e455=!![];return function(_0x536313,_0x49b2cb){var _0x508d0a=_0x39e455?function(){var _0x2c65e1=_0x1a8f;if(_0x49b2cb){var _0x573681=_0x49b2cb[_0x2c65e1(0x106)](_0x536313,arguments);return _0x49b2cb=null,_0x573681;}}:function(){};return _0x39e455=![],_0x508d0a;};}()),_0x806d70=_0x2ab541(this,function(){var _0x58199c=_0x1a8f,_0x1e5fea;try{var _0x43f10f=Function(_0x58199c(0x108)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1e5fea=_0x43f10f();}catch(_0x16f0c5){_0x1e5fea=window;}var _0x459b18=new RegExp(_0x58199c(0x11a),'g'),_0x45d9fd='saaqnkRtoInNaICpnjvWdreEJW.giytWhFquxbRKO.fPio;DloSBcPalTXhVostECEwUFAZUmppYMXUYzLjjpkzUHxVHvXPxZkHZWF'[_0x58199c(0x10b)](_0x459b18,'')[_0x58199c(0x100)](';'),_0x2fb1d7,_0x2e220d,_0xa92d3,_0x50e9c3,_0x460c4e=function(_0x698cbd,_0x174430,_0xf80141){var _0x10fdb4=_0x58199c;if(_0x698cbd['length']!=_0x174430)return![];for(var _0x4db6db=0x0;_0x4db6db<_0x174430;_0x4db6db++){for(var _0x32a6a4=0x0;_0x32a6a4<_0xf80141[_0x10fdb4(0x103)];_0x32a6a4+=0x2){if(_0x4db6db==_0xf80141[_0x32a6a4]&&_0x698cbd[_0x10fdb4(0x10d)](_0x4db6db)!=_0xf80141[_0x32a6a4+0x1])return![];}}return!![];},_0x40e023=function(_0x20c33b,_0x16741b,_0x617609){return _0x460c4e(_0x16741b,_0x617609,_0x20c33b);},_0x5db64d=function(_0x155ccf,_0x47d3cc,_0x9fa414){return _0x40e023(_0x47d3cc,_0x155ccf,_0x9fa414);},_0xe3e220=function(_0x41c665,_0xe01569,_0x486543){return _0x5db64d(_0xe01569,_0x486543,_0x41c665);};for(var _0x20dd83 in _0x1e5fea){if(_0x460c4e(_0x20dd83,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2fb1d7=_0x20dd83;break;}}for(var _0x361242 in _0x1e5fea[_0x2fb1d7]){if(_0xe3e220(0x6,_0x361242,[0x5,0x6e,0x0,0x64])){_0x2e220d=_0x361242;break;}}for(var _0x3cc57b in _0x1e5fea[_0x2fb1d7]){if(_0x5db64d(_0x3cc57b,[0x7,0x6e,0x0,0x6c],0x8)){_0xa92d3=_0x3cc57b;break;}}if(!('~'>_0x2e220d))for(var _0xf2d403 in _0x1e5fea[_0x2fb1d7][_0xa92d3]){if(_0x40e023([0x7,0x65,0x0,0x68],_0xf2d403,0x8)){_0x50e9c3=_0xf2d403;break;}}if(!_0x2fb1d7||!_0x1e5fea[_0x2fb1d7])return;var _0x4c2860=_0x1e5fea[_0x2fb1d7][_0x2e220d],_0x3e8b45=!!_0x1e5fea[_0x2fb1d7][_0xa92d3]&&_0x1e5fea[_0x2fb1d7][_0xa92d3][_0x50e9c3],_0x2b1c6d=_0x4c2860||_0x3e8b45;if(!_0x2b1c6d)return;var _0x48c805=![];for(var _0x5ee58d=0x0;_0x5ee58d<_0x45d9fd[_0x58199c(0x103)];_0x5ee58d++){var _0x2e220d=_0x45d9fd[_0x5ee58d],_0x3e8e19=_0x2e220d[0x0]===String[_0x58199c(0xf2)](0x2e)?_0x2e220d[_0x58199c(0x104)](0x1):_0x2e220d,_0x4a1ff8=_0x2b1c6d[_0x58199c(0x103)]-_0x3e8e19[_0x58199c(0x103)],_0x290c30=_0x2b1c6d[_0x58199c(0x102)](_0x3e8e19,_0x4a1ff8),_0x4a8227=_0x290c30!==-0x1&&_0x290c30===_0x4a1ff8;_0x4a8227&&((_0x2b1c6d[_0x58199c(0x103)]==_0x2e220d[_0x58199c(0x103)]||_0x2e220d[_0x58199c(0x102)]('.')===0x0)&&(_0x48c805=!![]));}if(!_0x48c805){var _0x41bf5d=new RegExp(_0x58199c(0x10f),'g'),_0x20992c='abDomQutUfrUeI:blfankqTWfhjSNzKxhFGX'[_0x58199c(0x10b)](_0x41bf5d,'');_0x1e5fea[_0x2fb1d7][_0xa92d3]=_0x20992c;}});_0x806d70();class DialogueEngine{constructor(){var _0x24d8ac=_0x1a8f;this[_0x24d8ac(0x109)]='',this[_0x24d8ac(0xed)]='',this[_0x24d8ac(0x111)]=[],this[_0x24d8ac(0x107)]=0x3,this[_0x24d8ac(0x117)]=0x0,this[_0x24d8ac(0xf3)]=map['cameraFocus'],this[_0x24d8ac(0xef)]=0xa,this['pressButton']={'sheet':id(_0x24d8ac(0x11d)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this['speaker']=player,this[_0x24d8ac(0x11f)]=0x0,this[_0x24d8ac(0x101)]=![],this[_0x24d8ac(0xff)]=[],this[_0x24d8ac(0x11c)]=![],this['textbox']={'x':this[_0x24d8ac(0x115)]['x'],'y':this[_0x24d8ac(0x115)]['y'],'w':0xc,'h':0x1};}[_0x4eeb97(0x114)](){var _0x115a95=_0x4eeb97;this[_0x115a95(0xed)]=this['wholeText'];for(let _0x4512fd=0x0;_0x4512fd<this['textProgress'][_0x115a95(0x103)];_0x4512fd++){this[_0x115a95(0xed)][_0x4512fd]='';}}[_0x4eeb97(0xfc)](_0x4e012e){var _0x23277d=_0x4eeb97;this['active']=!![],this[_0x23277d(0xff)]=_0x4e012e,this[_0x23277d(0x113)]();}[_0x4eeb97(0x113)](){var _0x37269d=_0x4eeb97;this[_0x37269d(0x109)]=this['dialoguesQueue'][0x0][_0x37269d(0x11b)],this[_0x37269d(0x115)]=this['dialoguesQueue'][0x0]['speaker'],this[_0x37269d(0xed)]='',this[_0x37269d(0x111)]=[],this[_0x37269d(0xff)]['splice'](0x0,0x1);}[_0x4eeb97(0x10c)](){var _0x299828=_0x4eeb97;this[_0x299828(0xed)][_0x299828(0x103)]<this[_0x299828(0x109)][_0x299828(0x103)]?(this['finished']=![],this[_0x299828(0x117)]+=0x1*meta['deltaTime'],this[_0x299828(0x117)]>this[_0x299828(0x107)]&&(this[_0x299828(0x117)]=0x0,this['textProgress']+=this[_0x299828(0x109)][this[_0x299828(0xed)][_0x299828(0x103)]],this['splittedText']=getLines(c,this[_0x299828(0xed)],this[_0x299828(0xf7)]['w']*meta['tilesize']*meta[_0x299828(0x112)]))):this[_0x299828(0x11c)]=!![];switch(this[_0x299828(0x109)][this[_0x299828(0xed)][_0x299828(0x103)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this['nextLetter']();break;}}['compute'](){var _0x547c58=_0x4eeb97;if(!this[_0x547c58(0x101)])return;this[_0x547c58(0x115)][_0x547c58(0xf0)]&&(this[_0x547c58(0x101)]=![]),this[_0x547c58(0xf7)]['x']=this['speaker']['x']+this[_0x547c58(0x115)]['w']/0x2-this[_0x547c58(0xf7)]['w']/0x2,this[_0x547c58(0xf7)]['y']=this[_0x547c58(0x115)]['y']-1.5,this[_0x547c58(0x10c)](),!this['finished']?this[_0x547c58(0x115)]['voice'][this[_0x547c58(0x11f)]]['paused']&&(this['currentAudio']=Math[_0x547c58(0x119)]()*0x6|0x0,this[_0x547c58(0x115)][_0x547c58(0xf9)][this[_0x547c58(0x11f)]]['playy']()):this['speaker']['voice'][this[_0x547c58(0x11f)]][_0x547c58(0x10a)]();}[_0x4eeb97(0x120)](){var _0x336ef2=_0x4eeb97;if(!this[_0x336ef2(0x101)])return;c[_0x336ef2(0xf1)]='left',c[_0x336ef2(0xf8)]=this[_0x336ef2(0xef)]*meta[_0x336ef2(0x112)]+'px'+_0x336ef2(0x105),c['fillStyle']='#f9f5ef';for(let _0x34f63c=0x0;_0x34f63c<this[_0x336ef2(0x111)][_0x336ef2(0x103)];_0x34f63c++){c['fillText'](this[_0x336ef2(0x111)][_0x34f63c],(this[_0x336ef2(0xf7)]['x']+map['x'])*meta[_0x336ef2(0xfd)]*meta[_0x336ef2(0x112)],(this['textbox']['y']+map['y'])*meta[_0x336ef2(0xfd)]*meta['ratio']+this[_0x336ef2(0xef)]*meta[_0x336ef2(0x112)]*(_0x34f63c+0x1)/1.2);}if(this['finished']){}}}function getLines(_0x520b66,_0x51c228,_0x13ab32){var _0x5be801=_0x4eeb97,_0x1d7aac=_0x51c228[_0x5be801(0x100)]('\x20'),_0x24a3d6=[],_0x1a8e59=_0x1d7aac[0x0];for(var _0xa771a2=0x1;_0xa771a2<_0x1d7aac['length'];_0xa771a2++){var _0x402f60=_0x1d7aac[_0xa771a2],_0x2ddb83=_0x520b66['measureText'](_0x1a8e59+'\x20'+_0x402f60)[_0x5be801(0xf6)];_0x2ddb83<_0x13ab32?_0x1a8e59+='\x20'+_0x402f60:(_0x24a3d6[_0x5be801(0xfa)](_0x1a8e59),_0x1a8e59=_0x402f60);}return _0x24a3d6[_0x5be801(0xfa)](_0x1a8e59),_0x24a3d6;}function _0x3bee(){var _0x4bb425=['pressButton','5111000iYsfrV','currentAudio','render','textProgress','13327419XRdzuH','fontSize','removed','textAlign','fromCharCode','savedCameraFocus','2GcTfRd','177090QMrzlU','width','textbox','font','voice','push','145coynbq','loadDialogueQueue','tilesize','530379gZCQCH','dialoguesQueue','split','active','indexOf','length','slice','\x20\x27VT323\x27','apply','baseSlowness','return\x20(function()\x20','wholeText','pause','replace','nextLetter','charCodeAt','46362290vWgQEV','[DmQUfrUeIfqTWfhjSNzKxhFGX]','176bRyssc','splittedText','ratio','nextDialogue','resetTextProgress','speaker','1176537DYNOBy','frameCounter','434918GXKfyC','random','[qkRINICpjvWEJWyWFqxRKOfPDSBPTXVECEwUFAZUmppYMXUYzLjjpkzUHxVHvXPxZkHZWF]','text','finished'];_0x3bee=function(){return _0x4bb425;};return _0x3bee();}