var _0x107470=_0xf695;(function(_0x4e912f,_0x15e554){var _0x5c8b9f=_0xf695,_0x347b09=_0x4e912f();while(!![]){try{var _0xff3bb5=parseInt(_0x5c8b9f(0x111))/0x1*(parseInt(_0x5c8b9f(0x114))/0x2)+-parseInt(_0x5c8b9f(0xf5))/0x3*(parseInt(_0x5c8b9f(0xf3))/0x4)+parseInt(_0x5c8b9f(0x115))/0x5+parseInt(_0x5c8b9f(0x11a))/0x6*(-parseInt(_0x5c8b9f(0x11b))/0x7)+-parseInt(_0x5c8b9f(0x110))/0x8*(-parseInt(_0x5c8b9f(0x10a))/0x9)+-parseInt(_0x5c8b9f(0xea))/0xa+parseInt(_0x5c8b9f(0xf4))/0xb;if(_0xff3bb5===_0x15e554)break;else _0x347b09['push'](_0x347b09['shift']());}catch(_0x18b222){_0x347b09['push'](_0x347b09['shift']());}}}(_0x1e2a,0xe018c));function _0x1e2a(){var _0x28b14a=['paused','18WWlcsY','split','length','removed','font','measureText','1357256dwfcfW','121izBoWi','textbox','textProgress','28628uBWoAX','8042860XKqmPV','playy','ratio','random','pause','110322fURccD','287hHTawS','fillText','speaker','apbWoutpK:blraiYInHkvKQdTRTGSdwHGVxhUM','push','fromCharCode','finished','pressButton','15308670WcECxU','nextLetter','active','[xzZWDfOQxAKfkKwyAZjfjMRIYGKzmMqqNXpzQNHTqfxmmJByApUIRJwZUNPBBUBTLGFkq]','splice','render','voice','baseSlowness','tilesize','4waoiGZ','10778955MwFKsq','4371453YbPhoA','currentAudio','wholeText','width','cameraFocus','slice','fontSize','return\x20(function()\x20','deltaTime','indexOf','charCodeAt','splittedText','resetTextProgress','fillStyle','compute','[pWpKriYIHvKQdTRTGSdwHGVxhUM]','#f9f5ef','nextDialogue','dialoguesQueue','frameCounter'];_0x1e2a=function(){return _0x28b14a;};return _0x1e2a();}var _0x35d250=(function(){var _0x5d274d=!![];return function(_0x2807df,_0x527717){var _0x55dfe7=_0x5d274d?function(){if(_0x527717){var _0x251471=_0x527717['apply'](_0x2807df,arguments);return _0x527717=null,_0x251471;}}:function(){};return _0x5d274d=![],_0x55dfe7;};}()),_0x6f7ece=_0x35d250(this,function(){var _0x26d495=_0xf695,_0x38534a;try{var _0x20bbb3=Function(_0x26d495(0xfc)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x38534a=_0x20bbb3();}catch(_0x59c1f1){_0x38534a=window;}var _0x17a7cd=new RegExp(_0x26d495(0xed),'g'),_0x51a7e3='saxzZanWDfOQxtAonKfkanKdrew.gyiAZjthfjMRuIYGb.ioK;lzomcMqqNaXplzQNHThqfxomsmJtByApUIRJwZUNPBBUBTLGFkq'['replace'](_0x17a7cd,'')[_0x26d495(0x10b)](';'),_0x44778f,_0xcc18be,_0x5611ec,_0x55c6b9,_0x357036=function(_0x544d4d,_0x489c80,_0x232e56){var _0x3e8779=_0x26d495;if(_0x544d4d[_0x3e8779(0x10c)]!=_0x489c80)return![];for(var _0x315a15=0x0;_0x315a15<_0x489c80;_0x315a15++){for(var _0x36cc5c=0x0;_0x36cc5c<_0x232e56[_0x3e8779(0x10c)];_0x36cc5c+=0x2){if(_0x315a15==_0x232e56[_0x36cc5c]&&_0x544d4d[_0x3e8779(0xff)](_0x315a15)!=_0x232e56[_0x36cc5c+0x1])return![];}}return!![];},_0x4af0c5=function(_0x5e0c62,_0x52ecab,_0x4b4249){return _0x357036(_0x52ecab,_0x4b4249,_0x5e0c62);},_0x3990da=function(_0x114985,_0x39b2bb,_0x35bbda){return _0x4af0c5(_0x39b2bb,_0x114985,_0x35bbda);},_0x2a7084=function(_0x2318cb,_0x7312ed,_0x8b0c23){return _0x3990da(_0x7312ed,_0x8b0c23,_0x2318cb);};for(var _0x4fdebb in _0x38534a){if(_0x357036(_0x4fdebb,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x44778f=_0x4fdebb;break;}}for(var _0x33d2fe in _0x38534a[_0x44778f]){if(_0x2a7084(0x6,_0x33d2fe,[0x5,0x6e,0x0,0x64])){_0xcc18be=_0x33d2fe;break;}}for(var _0x2443ee in _0x38534a[_0x44778f]){if(_0x3990da(_0x2443ee,[0x7,0x6e,0x0,0x6c],0x8)){_0x5611ec=_0x2443ee;break;}}if(!('~'>_0xcc18be))for(var _0x2dc230 in _0x38534a[_0x44778f][_0x5611ec]){if(_0x4af0c5([0x7,0x65,0x0,0x68],_0x2dc230,0x8)){_0x55c6b9=_0x2dc230;break;}}if(!_0x44778f||!_0x38534a[_0x44778f])return;var _0x3fdde7=_0x38534a[_0x44778f][_0xcc18be],_0x5c6a73=!!_0x38534a[_0x44778f][_0x5611ec]&&_0x38534a[_0x44778f][_0x5611ec][_0x55c6b9],_0xe8209a=_0x3fdde7||_0x5c6a73;if(!_0xe8209a)return;var _0xc07683=![];for(var _0x512458=0x0;_0x512458<_0x51a7e3['length'];_0x512458++){var _0xcc18be=_0x51a7e3[_0x512458],_0x3ebf19=_0xcc18be[0x0]===String[_0x26d495(0xe7)](0x2e)?_0xcc18be[_0x26d495(0xfa)](0x1):_0xcc18be,_0x52249b=_0xe8209a[_0x26d495(0x10c)]-_0x3ebf19[_0x26d495(0x10c)],_0x2d236c=_0xe8209a[_0x26d495(0xfe)](_0x3ebf19,_0x52249b),_0x52cd7b=_0x2d236c!==-0x1&&_0x2d236c===_0x52249b;_0x52cd7b&&((_0xe8209a[_0x26d495(0x10c)]==_0xcc18be['length']||_0xcc18be[_0x26d495(0xfe)]('.')===0x0)&&(_0xc07683=!![]));}if(!_0xc07683){var _0xf08839=new RegExp(_0x26d495(0x104),'g'),_0x5a2885=_0x26d495(0xe5)['replace'](_0xf08839,'');_0x38534a[_0x44778f][_0x5611ec]=_0x5a2885;}});function _0xf695(_0x3713d8,_0x4becf9){var _0x1bb10a=_0x1e2a();return _0xf695=function(_0x6f7ece,_0x35d250){_0x6f7ece=_0x6f7ece-0xe4;var _0x1fc39f=_0x1bb10a[_0x6f7ece];return _0x1fc39f;},_0xf695(_0x3713d8,_0x4becf9);}_0x6f7ece();class DialogueEngine{constructor(){var _0x4b54d6=_0xf695;this[_0x4b54d6(0xf7)]='',this[_0x4b54d6(0x113)]='',this[_0x4b54d6(0x100)]=[],this[_0x4b54d6(0xf1)]=0x3,this['frameCounter']=0x0,this['savedCameraFocus']=map[_0x4b54d6(0xf9)],this['fontSize']=0xa,this[_0x4b54d6(0xe9)]={'sheet':id(_0x4b54d6(0xe9)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x4b54d6(0xe4)]=player,this[_0x4b54d6(0xf6)]=0x0,this['active']=![],this[_0x4b54d6(0x107)]=[],this['finished']=![],this[_0x4b54d6(0x112)]={'x':this[_0x4b54d6(0xe4)]['x'],'y':this[_0x4b54d6(0xe4)]['y'],'w':0xc,'h':0x1};}[_0x107470(0x101)](){var _0x22b2a6=_0x107470;this[_0x22b2a6(0x113)]=this[_0x22b2a6(0xf7)];for(let _0x437a6d=0x0;_0x437a6d<this['textProgress'][_0x22b2a6(0x10c)];_0x437a6d++){this[_0x22b2a6(0x113)][_0x437a6d]='';}}['loadDialogueQueue'](_0x5af78f){var _0x92f491=_0x107470;this['active']=!![],this[_0x92f491(0x107)]=_0x5af78f,this[_0x92f491(0x106)]();}[_0x107470(0x106)](){var _0x2eac89=_0x107470;this[_0x2eac89(0xf7)]=this[_0x2eac89(0x107)][0x0]['text'],this[_0x2eac89(0xe4)]=this[_0x2eac89(0x107)][0x0]['speaker'],this[_0x2eac89(0x113)]='',this[_0x2eac89(0x100)]=[],this[_0x2eac89(0x107)][_0x2eac89(0xee)](0x0,0x1);}[_0x107470(0xeb)](){var _0xc367fd=_0x107470;this[_0xc367fd(0x113)][_0xc367fd(0x10c)]<this['wholeText'][_0xc367fd(0x10c)]?(this[_0xc367fd(0xe8)]=![],this[_0xc367fd(0x108)]+=0x1*meta[_0xc367fd(0xfd)],this['frameCounter']>this['baseSlowness']&&(this['frameCounter']=0x0,this[_0xc367fd(0x113)]+=this[_0xc367fd(0xf7)][this['textProgress'][_0xc367fd(0x10c)]],this[_0xc367fd(0x100)]=getLines(c,this[_0xc367fd(0x113)],this['textbox']['w']*meta[_0xc367fd(0xf2)]*meta[_0xc367fd(0x117)]))):this[_0xc367fd(0xe8)]=!![];switch(this[_0xc367fd(0xf7)][this[_0xc367fd(0x113)][_0xc367fd(0x10c)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0xc367fd(0xeb)]();break;}}[_0x107470(0x103)](){var _0x276178=_0x107470;if(!this[_0x276178(0xec)])return;this['speaker'][_0x276178(0x10d)]&&(this[_0x276178(0xec)]=![]),this[_0x276178(0x112)]['x']=this['speaker']['x']+this[_0x276178(0xe4)]['w']/0x2-this['textbox']['w']/0x2,this[_0x276178(0x112)]['y']=this['speaker']['y']-1.5,this[_0x276178(0xeb)](),!this[_0x276178(0xe8)]?this[_0x276178(0xe4)]['voice'][this['currentAudio']][_0x276178(0x109)]&&(this[_0x276178(0xf6)]=Math[_0x276178(0x118)]()*0x6|0x0,this[_0x276178(0xe4)][_0x276178(0xf0)][this['currentAudio']][_0x276178(0x116)]()):this[_0x276178(0xe4)][_0x276178(0xf0)][this['currentAudio']][_0x276178(0x119)]();}[_0x107470(0xef)](){var _0x22058f=_0x107470;if(!this[_0x22058f(0xec)])return;c['textAlign']='left',c[_0x22058f(0x10e)]=this['fontSize']*meta['ratio']+'px'+'\x20\x27VT323\x27',c[_0x22058f(0x102)]=_0x22058f(0x105);for(let _0x16dd32=0x0;_0x16dd32<this['splittedText'][_0x22058f(0x10c)];_0x16dd32++){c[_0x22058f(0x11c)](this[_0x22058f(0x100)][_0x16dd32],(this[_0x22058f(0x112)]['x']+map['x'])*meta[_0x22058f(0xf2)]*meta['ratio'],(this[_0x22058f(0x112)]['y']+map['y'])*meta[_0x22058f(0xf2)]*meta[_0x22058f(0x117)]+this[_0x22058f(0xfb)]*meta[_0x22058f(0x117)]*(_0x16dd32+0x1)/1.2);}if(this['finished']){}}}function getLines(_0x20e1ad,_0x1b19f3,_0x23ad8b){var _0x3606fa=_0x107470,_0x3cd8cb=_0x1b19f3['split']('\x20'),_0x56b7fc=[],_0x1d7de4=_0x3cd8cb[0x0];for(var _0x15b588=0x1;_0x15b588<_0x3cd8cb[_0x3606fa(0x10c)];_0x15b588++){var _0x31cce0=_0x3cd8cb[_0x15b588],_0x42eba2=_0x20e1ad[_0x3606fa(0x10f)](_0x1d7de4+'\x20'+_0x31cce0)[_0x3606fa(0xf8)];_0x42eba2<_0x23ad8b?_0x1d7de4+='\x20'+_0x31cce0:(_0x56b7fc['push'](_0x1d7de4),_0x1d7de4=_0x31cce0);}return _0x56b7fc[_0x3606fa(0xe6)](_0x1d7de4),_0x56b7fc;}