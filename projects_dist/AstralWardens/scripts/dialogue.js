var _0x33a86d=_0xb3aa;(function(_0x3ec538,_0x3b6bb4){var _0x1d0829=_0xb3aa,_0x94d8a6=_0x3ec538();while(!![]){try{var _0x26cf2b=-parseInt(_0x1d0829(0x1a1))/0x1+parseInt(_0x1d0829(0x1ce))/0x2+parseInt(_0x1d0829(0x1bc))/0x3*(-parseInt(_0x1d0829(0x19b))/0x4)+-parseInt(_0x1d0829(0x1a4))/0x5*(parseInt(_0x1d0829(0x197))/0x6)+parseInt(_0x1d0829(0x1be))/0x7*(-parseInt(_0x1d0829(0x1cf))/0x8)+parseInt(_0x1d0829(0x1c9))/0x9*(-parseInt(_0x1d0829(0x1c7))/0xa)+parseInt(_0x1d0829(0x1a9))/0xb;if(_0x26cf2b===_0x3b6bb4)break;else _0x94d8a6['push'](_0x94d8a6['shift']());}catch(_0x5143f7){_0x94d8a6['push'](_0x94d8a6['shift']());}}}(_0xabe1,0xb8fe5));var _0x389f18=(function(){var _0x1532c7=!![];return function(_0x4f2618,_0x47727b){var _0x5a80a1=_0x1532c7?function(){var _0x1f90fe=_0xb3aa;if(_0x47727b){var _0x30f707=_0x47727b[_0x1f90fe(0x1b2)](_0x4f2618,arguments);return _0x47727b=null,_0x30f707;}}:function(){};return _0x1532c7=![],_0x5a80a1;};}()),_0x1aec97=_0x389f18(this,function(){var _0x572cf5=_0xb3aa,_0x255b8d;try{var _0x91c0ec=Function(_0x572cf5(0x19e)+_0x572cf5(0x1a2)+');');_0x255b8d=_0x91c0ec();}catch(_0x58341b){_0x255b8d=window;}var _0x285650=new RegExp(_0x572cf5(0x1cd),'g'),_0x48a470=_0x572cf5(0x19d)[_0x572cf5(0x1ca)](_0x285650,'')[_0x572cf5(0x1ba)](';'),_0x301a10,_0x34710c,_0x4853d8,_0x38ef15,_0x1bd4f7=function(_0x17cbf1,_0x76eaa6,_0x2d2005){var _0x191ad5=_0x572cf5;if(_0x17cbf1[_0x191ad5(0x1b3)]!=_0x76eaa6)return![];for(var _0x355591=0x0;_0x355591<_0x76eaa6;_0x355591++){for(var _0x2dd65a=0x0;_0x2dd65a<_0x2d2005[_0x191ad5(0x1b3)];_0x2dd65a+=0x2){if(_0x355591==_0x2d2005[_0x2dd65a]&&_0x17cbf1['charCodeAt'](_0x355591)!=_0x2d2005[_0x2dd65a+0x1])return![];}}return!![];},_0x5e2565=function(_0xb41ed5,_0x330399,_0x312a82){return _0x1bd4f7(_0x330399,_0x312a82,_0xb41ed5);},_0x49b59c=function(_0x3bd5c0,_0x38e103,_0x421a2d){return _0x5e2565(_0x38e103,_0x3bd5c0,_0x421a2d);},_0x336755=function(_0x47e059,_0x46c9c1,_0x588ff3){return _0x49b59c(_0x46c9c1,_0x588ff3,_0x47e059);};for(var _0x2bb833 in _0x255b8d){if(_0x1bd4f7(_0x2bb833,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x301a10=_0x2bb833;break;}}for(var _0x181bd0 in _0x255b8d[_0x301a10]){if(_0x336755(0x6,_0x181bd0,[0x5,0x6e,0x0,0x64])){_0x34710c=_0x181bd0;break;}}for(var _0x4fc7ce in _0x255b8d[_0x301a10]){if(_0x49b59c(_0x4fc7ce,[0x7,0x6e,0x0,0x6c],0x8)){_0x4853d8=_0x4fc7ce;break;}}if(!('~'>_0x34710c))for(var _0x448db4 in _0x255b8d[_0x301a10][_0x4853d8]){if(_0x5e2565([0x7,0x65,0x0,0x68],_0x448db4,0x8)){_0x38ef15=_0x448db4;break;}}if(!_0x301a10||!_0x255b8d[_0x301a10])return;var _0x8976b1=_0x255b8d[_0x301a10][_0x34710c],_0x3feecf=!!_0x255b8d[_0x301a10][_0x4853d8]&&_0x255b8d[_0x301a10][_0x4853d8][_0x38ef15],_0x412f89=_0x8976b1||_0x3feecf;if(!_0x412f89)return;var _0xa31026=![];for(var _0x9f09de=0x0;_0x9f09de<_0x48a470[_0x572cf5(0x1b3)];_0x9f09de++){var _0x34710c=_0x48a470[_0x9f09de],_0x52cad1=_0x34710c[0x0]===String[_0x572cf5(0x1bd)](0x2e)?_0x34710c[_0x572cf5(0x1b6)](0x1):_0x34710c,_0x4feed0=_0x412f89[_0x572cf5(0x1b3)]-_0x52cad1[_0x572cf5(0x1b3)],_0x4c4abe=_0x412f89[_0x572cf5(0x1b9)](_0x52cad1,_0x4feed0),_0x30d5f2=_0x4c4abe!==-0x1&&_0x4c4abe===_0x4feed0;_0x30d5f2&&((_0x412f89[_0x572cf5(0x1b3)]==_0x34710c[_0x572cf5(0x1b3)]||_0x34710c['indexOf']('.')===0x0)&&(_0xa31026=!![]));}if(!_0xa31026){var _0xd79cb4=new RegExp(_0x572cf5(0x1c1),'g'),_0x4b6247=_0x572cf5(0x1ae)[_0x572cf5(0x1ca)](_0xd79cb4,'');_0x255b8d[_0x301a10][_0x4853d8]=_0x4b6247;}});_0x1aec97();class DialogueEngine{constructor(){var _0x5b0374=_0xb3aa;this[_0x5b0374(0x199)]='',this[_0x5b0374(0x19c)]='',this[_0x5b0374(0x1ac)]=[],this['baseSlowness']=0x3,this[_0x5b0374(0x1bb)]=0x0,this[_0x5b0374(0x1cb)]=map[_0x5b0374(0x1af)],this['fontSize']=0xa,this[_0x5b0374(0x1a0)]={'sheet':id(_0x5b0374(0x1a0)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x5b0374(0x1c2)]=player,this[_0x5b0374(0x1b1)]=0x0,this[_0x5b0374(0x1a8)]=![],this['dialoguesQueue']=[],this[_0x5b0374(0x1a7)]=![],this[_0x5b0374(0x1cc)]={'x':this['speaker']['x'],'y':this[_0x5b0374(0x1c2)]['y'],'w':0xc,'h':0x1};}['resetTextProgress'](){var _0x4cb3f1=_0xb3aa;this[_0x4cb3f1(0x19c)]=this[_0x4cb3f1(0x199)];for(let _0x461a5b=0x0;_0x461a5b<this[_0x4cb3f1(0x19c)][_0x4cb3f1(0x1b3)];_0x461a5b++){this['textProgress'][_0x461a5b]='';}}[_0x33a86d(0x1a3)](_0x255200){var _0x292402=_0x33a86d;this[_0x292402(0x1a8)]=!![],this['dialoguesQueue']=_0x255200,this['nextDialogue']();}[_0x33a86d(0x1ab)](){var _0x1d2eb3=_0x33a86d;this[_0x1d2eb3(0x199)]=this[_0x1d2eb3(0x19f)][0x0]['text'],this[_0x1d2eb3(0x1c2)]=this[_0x1d2eb3(0x19f)][0x0]['speaker'],this[_0x1d2eb3(0x19c)]='',this[_0x1d2eb3(0x1ac)]=[],this[_0x1d2eb3(0x19f)][_0x1d2eb3(0x1a6)](0x0,0x1);}[_0x33a86d(0x1b0)](){var _0x102475=_0x33a86d;this[_0x102475(0x19c)][_0x102475(0x1b3)]<this['wholeText'][_0x102475(0x1b3)]?(this[_0x102475(0x1a7)]=![],this[_0x102475(0x1bb)]+=0x1*meta['deltaTime'],this['frameCounter']>this[_0x102475(0x1c4)]&&(this[_0x102475(0x1bb)]=0x0,this[_0x102475(0x19c)]+=this[_0x102475(0x199)][this[_0x102475(0x19c)][_0x102475(0x1b3)]],this[_0x102475(0x1ac)]=getLines(c,this['textProgress'],this['textbox']['w']*meta[_0x102475(0x1b5)]*meta['ratio']))):this[_0x102475(0x1a7)]=!![];switch(this[_0x102475(0x199)][this[_0x102475(0x19c)][_0x102475(0x1b3)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x102475(0x1b0)]();break;}}['compute'](){var _0x3898fc=_0x33a86d;if(!this['active'])return;this[_0x3898fc(0x1c2)][_0x3898fc(0x1c5)]&&(this[_0x3898fc(0x1a8)]=![]),this[_0x3898fc(0x1cc)]['x']=this['speaker']['x']+this[_0x3898fc(0x1c2)]['w']/0x2-this[_0x3898fc(0x1cc)]['w']/0x2,this[_0x3898fc(0x1cc)]['y']=this[_0x3898fc(0x1c2)]['y']-1.5,this['nextLetter'](),!this['finished']?this[_0x3898fc(0x1c2)][_0x3898fc(0x198)][this['currentAudio']][_0x3898fc(0x1b4)]&&(this[_0x3898fc(0x1b1)]=Math[_0x3898fc(0x1bf)]()*0x6|0x0,this['speaker'][_0x3898fc(0x198)][this[_0x3898fc(0x1b1)]]['playy']()):this['speaker']['voice'][this[_0x3898fc(0x1b1)]][_0x3898fc(0x1c6)]();}[_0x33a86d(0x1a5)](){var _0x1a56ae=_0x33a86d;if(!this[_0x1a56ae(0x1a8)])return;c[_0x1a56ae(0x1c0)]=_0x1a56ae(0x1aa),c['font']=this[_0x1a56ae(0x1b8)]*meta[_0x1a56ae(0x1ad)]+'px'+_0x1a56ae(0x19a),c['fillStyle']=_0x1a56ae(0x1c8);for(let _0x1ff88c=0x0;_0x1ff88c<this[_0x1a56ae(0x1ac)][_0x1a56ae(0x1b3)];_0x1ff88c++){c[_0x1a56ae(0x1b7)](this[_0x1a56ae(0x1ac)][_0x1ff88c],(this['textbox']['x']+map['x'])*meta['tilesize']*meta['ratio'],(this['textbox']['y']+map['y'])*meta['tilesize']*meta[_0x1a56ae(0x1ad)]+this[_0x1a56ae(0x1b8)]*meta['ratio']*(_0x1ff88c+0x1)/1.2);}if(this[_0x1a56ae(0x1a7)]){}}}function _0xabe1(){var _0x5d981b=['39944PpWHcT','measureText','6VfNsrI','voice','wholeText','\x20\x27VT323\x27','8544YpcWwm','textProgress','BsaCAIantDCoXLRnQanGJFQdJre.gitMhOuxLb.io;lpJocqNvalhfosvYtEjRULKZGqmpRGZKSGVQvLQNNLCNkISEBKSyqYNDBCOXzQv','return\x20(function()\x20','dialoguesQueue','pressButton','747314zrCHYM','{}.constructor(\x22return\x20this\x22)(\x20)','loadDialogueQueue','6347675acorXc','render','splice','finished','active','46958032FGuHOn','left','nextDialogue','splittedText','ratio','arbGouVt:biClOFaXnkNjvDqzVssyxhSFHqFgYD','cameraFocus','nextLetter','currentAudio','apply','length','paused','tilesize','slice','fillText','fontSize','indexOf','split','frameCounter','1497FodNjh','fromCharCode','140iNoprt','random','textAlign','[rGViCOFXNjvDqzVssyxhSFHqFgYD]','speaker','width','baseSlowness','removed','pause','4290560rahAZS','#f9f5ef','9eTGTHH','replace','savedCameraFocus','textbox','[BCAIDCXLRQGJFQJMOxLpJqNvfvYEjRULKZGqmpRGZKSGVQvLQNNLCNkISEBKSyqYNDBCOXzQv]','200900ODdjlY'];_0xabe1=function(){return _0x5d981b;};return _0xabe1();}function _0xb3aa(_0x3a9246,_0x94df83){var _0x43cd2b=_0xabe1();return _0xb3aa=function(_0x1aec97,_0x389f18){_0x1aec97=_0x1aec97-0x196;var _0xc89115=_0x43cd2b[_0x1aec97];return _0xc89115;},_0xb3aa(_0x3a9246,_0x94df83);}function getLines(_0x4231a6,_0x559611,_0x5efc30){var _0x3ba248=_0x33a86d,_0x2c3a9e=_0x559611['split']('\x20'),_0x444e71=[],_0x2c8a9b=_0x2c3a9e[0x0];for(var _0x29ebd3=0x1;_0x29ebd3<_0x2c3a9e[_0x3ba248(0x1b3)];_0x29ebd3++){var _0x10c779=_0x2c3a9e[_0x29ebd3],_0x2b3c9d=_0x4231a6[_0x3ba248(0x196)](_0x2c8a9b+'\x20'+_0x10c779)[_0x3ba248(0x1c3)];_0x2b3c9d<_0x5efc30?_0x2c8a9b+='\x20'+_0x10c779:(_0x444e71['push'](_0x2c8a9b),_0x2c8a9b=_0x10c779);}return _0x444e71['push'](_0x2c8a9b),_0x444e71;}