var _0x2f09b7=_0x29c2;function _0x29c2(_0x2d0af0,_0x4604e3){var _0x4d44f3=_0x3eaa();return _0x29c2=function(_0x182c1e,_0x1507be){_0x182c1e=_0x182c1e-0x1ee;var _0x331d31=_0x4d44f3[_0x182c1e];return _0x331d31;},_0x29c2(_0x2d0af0,_0x4604e3);}(function(_0x10d4d0,_0xaebab8){var _0x3b5ca2=_0x29c2,_0x486fca=_0x10d4d0();while(!![]){try{var _0x305758=-parseInt(_0x3b5ca2(0x1fe))/0x1+parseInt(_0x3b5ca2(0x1f0))/0x2+parseInt(_0x3b5ca2(0x1ee))/0x3*(-parseInt(_0x3b5ca2(0x1ef))/0x4)+-parseInt(_0x3b5ca2(0x200))/0x5*(-parseInt(_0x3b5ca2(0x21d))/0x6)+parseInt(_0x3b5ca2(0x1f7))/0x7*(parseInt(_0x3b5ca2(0x207))/0x8)+-parseInt(_0x3b5ca2(0x20f))/0x9*(parseInt(_0x3b5ca2(0x20a))/0xa)+parseInt(_0x3b5ca2(0x208))/0xb;if(_0x305758===_0xaebab8)break;else _0x486fca['push'](_0x486fca['shift']());}catch(_0x155f28){_0x486fca['push'](_0x486fca['shift']());}}}(_0x3eaa,0x33d73));var _0x1507be=(function(){var _0x5c1ef5=!![];return function(_0x220346,_0x4f2069){var _0x4d991a=_0x5c1ef5?function(){var _0x4322d6=_0x29c2;if(_0x4f2069){var _0x1b44fb=_0x4f2069[_0x4322d6(0x1f8)](_0x220346,arguments);return _0x4f2069=null,_0x1b44fb;}}:function(){};return _0x5c1ef5=![],_0x4d991a;};}()),_0x182c1e=_0x1507be(this,function(){var _0x7ae721=_0x29c2,_0x54d06f;try{var _0x44940f=Function(_0x7ae721(0x229)+_0x7ae721(0x21e)+');');_0x54d06f=_0x44940f();}catch(_0x46bc00){_0x54d06f=window;}var _0x452a0d=new RegExp(_0x7ae721(0x1f9),'g'),_0x5e1c41=_0x7ae721(0x206)['replace'](_0x452a0d,'')[_0x7ae721(0x219)](';'),_0x59543d,_0x475b9c,_0x223d29,_0x3ee312,_0xa0a59=function(_0x5add74,_0x52dcb8,_0x556038){var _0x56f3eb=_0x7ae721;if(_0x5add74[_0x56f3eb(0x22a)]!=_0x52dcb8)return![];for(var _0x57d62b=0x0;_0x57d62b<_0x52dcb8;_0x57d62b++){for(var _0x499d09=0x0;_0x499d09<_0x556038[_0x56f3eb(0x22a)];_0x499d09+=0x2){if(_0x57d62b==_0x556038[_0x499d09]&&_0x5add74[_0x56f3eb(0x213)](_0x57d62b)!=_0x556038[_0x499d09+0x1])return![];}}return!![];},_0xb1f6e2=function(_0x11db1d,_0x4c4b10,_0x2e9218){return _0xa0a59(_0x4c4b10,_0x2e9218,_0x11db1d);},_0x120159=function(_0x434432,_0x11a831,_0x44baad){return _0xb1f6e2(_0x11a831,_0x434432,_0x44baad);},_0x4ecc90=function(_0x5cb19a,_0x518e24,_0x4ac689){return _0x120159(_0x518e24,_0x4ac689,_0x5cb19a);};for(var _0x2a6220 in _0x54d06f){if(_0xa0a59(_0x2a6220,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x59543d=_0x2a6220;break;}}for(var _0x255b43 in _0x54d06f[_0x59543d]){if(_0x4ecc90(0x6,_0x255b43,[0x5,0x6e,0x0,0x64])){_0x475b9c=_0x255b43;break;}}for(var _0x3a6209 in _0x54d06f[_0x59543d]){if(_0x120159(_0x3a6209,[0x7,0x6e,0x0,0x6c],0x8)){_0x223d29=_0x3a6209;break;}}if(!('~'>_0x475b9c))for(var _0x185b19 in _0x54d06f[_0x59543d][_0x223d29]){if(_0xb1f6e2([0x7,0x65,0x0,0x68],_0x185b19,0x8)){_0x3ee312=_0x185b19;break;}}if(!_0x59543d||!_0x54d06f[_0x59543d])return;var _0xbf592a=_0x54d06f[_0x59543d][_0x475b9c],_0x5c91cb=!!_0x54d06f[_0x59543d][_0x223d29]&&_0x54d06f[_0x59543d][_0x223d29][_0x3ee312],_0x12641e=_0xbf592a||_0x5c91cb;if(!_0x12641e)return;var _0x1e4ff0=![];for(var _0x3b4458=0x0;_0x3b4458<_0x5e1c41[_0x7ae721(0x22a)];_0x3b4458++){var _0x475b9c=_0x5e1c41[_0x3b4458],_0x3318fc=_0x475b9c[0x0]===String[_0x7ae721(0x20b)](0x2e)?_0x475b9c[_0x7ae721(0x214)](0x1):_0x475b9c,_0x3d336a=_0x12641e[_0x7ae721(0x22a)]-_0x3318fc[_0x7ae721(0x22a)],_0x1175ea=_0x12641e[_0x7ae721(0x202)](_0x3318fc,_0x3d336a),_0x5705c7=_0x1175ea!==-0x1&&_0x1175ea===_0x3d336a;_0x5705c7&&((_0x12641e[_0x7ae721(0x22a)]==_0x475b9c[_0x7ae721(0x22a)]||_0x475b9c[_0x7ae721(0x202)]('.')===0x0)&&(_0x1e4ff0=!![]));}if(!_0x1e4ff0){var _0x357f12=new RegExp(_0x7ae721(0x216),'g'),_0x1e6df3=_0x7ae721(0x21a)['replace'](_0x357f12,'');_0x54d06f[_0x59543d][_0x223d29]=_0x1e6df3;}});_0x182c1e();class DialogueEngine{constructor(){var _0x37a0f9=_0x29c2;this['wholeText']='',this['textProgress']='',this[_0x37a0f9(0x205)]=[],this[_0x37a0f9(0x1f2)]=0x3,this[_0x37a0f9(0x209)]=0x0,this[_0x37a0f9(0x210)]=map[_0x37a0f9(0x1fb)],this[_0x37a0f9(0x215)]=0xa,this[_0x37a0f9(0x1fc)]={'sheet':id(_0x37a0f9(0x1fc)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x37a0f9(0x22b)]=player,this['currentAudio']=0x0,this[_0x37a0f9(0x22c)]=![],this[_0x37a0f9(0x204)]=[],this[_0x37a0f9(0x211)]=![],this['textbox']={'x':this[_0x37a0f9(0x22b)]['x'],'y':this[_0x37a0f9(0x22b)]['y'],'w':0xc,'h':0x1};}[_0x2f09b7(0x226)](){var _0x31ca7d=_0x2f09b7;this[_0x31ca7d(0x1f1)]=this['wholeText'];for(let _0x43f6dc=0x0;_0x43f6dc<this[_0x31ca7d(0x1f1)]['length'];_0x43f6dc++){this[_0x31ca7d(0x1f1)][_0x43f6dc]='';}}['loadDialogueQueue'](_0x104d86){var _0x53f940=_0x2f09b7;this[_0x53f940(0x22c)]=!![],this[_0x53f940(0x204)]=_0x104d86,this[_0x53f940(0x222)]();}[_0x2f09b7(0x222)](){var _0x3843d7=_0x2f09b7;this[_0x3843d7(0x201)]=this['dialoguesQueue'][0x0]['text'],this[_0x3843d7(0x22b)]=this[_0x3843d7(0x204)][0x0][_0x3843d7(0x22b)],this[_0x3843d7(0x1f1)]='',this[_0x3843d7(0x205)]=[],this['dialoguesQueue'][_0x3843d7(0x20d)](0x0,0x1);}[_0x2f09b7(0x1fa)](){var _0x11d683=_0x2f09b7;this['textProgress'][_0x11d683(0x22a)]<this[_0x11d683(0x201)][_0x11d683(0x22a)]?(this[_0x11d683(0x211)]=![],this[_0x11d683(0x209)]+=0x1*meta[_0x11d683(0x218)],this['frameCounter']>this[_0x11d683(0x1f2)]&&(this['frameCounter']=0x0,this[_0x11d683(0x1f1)]+=this['wholeText'][this[_0x11d683(0x1f1)]['length']],this[_0x11d683(0x205)]=getLines(c,this[_0x11d683(0x1f1)],this[_0x11d683(0x1ff)]['w']*meta['tilesize']*meta[_0x11d683(0x212)]))):this['finished']=!![];switch(this[_0x11d683(0x201)][this['textProgress'][_0x11d683(0x22a)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x11d683(0x1fa)]();break;}}[_0x2f09b7(0x223)](){var _0x3c8d8a=_0x2f09b7;if(!this['active'])return;this['speaker'][_0x3c8d8a(0x217)]&&(this[_0x3c8d8a(0x22c)]=![]),this[_0x3c8d8a(0x1ff)]['x']=this[_0x3c8d8a(0x22b)]['x']+this[_0x3c8d8a(0x22b)]['w']/0x2-this[_0x3c8d8a(0x1ff)]['w']/0x2,this[_0x3c8d8a(0x1ff)]['y']=this[_0x3c8d8a(0x22b)]['y']-1.5,this[_0x3c8d8a(0x1fa)](),!this[_0x3c8d8a(0x211)]?this[_0x3c8d8a(0x22b)][_0x3c8d8a(0x21f)][this[_0x3c8d8a(0x21b)]][_0x3c8d8a(0x1fd)]&&(this[_0x3c8d8a(0x21b)]=Math[_0x3c8d8a(0x1f5)]()*0x6|0x0,this[_0x3c8d8a(0x22b)][_0x3c8d8a(0x21f)][this['currentAudio']][_0x3c8d8a(0x203)]()):this[_0x3c8d8a(0x22b)]['voice'][this[_0x3c8d8a(0x21b)]][_0x3c8d8a(0x227)]();}[_0x2f09b7(0x224)](){var _0x102ee2=_0x2f09b7;if(!this[_0x102ee2(0x22c)])return;c[_0x102ee2(0x1f3)]=_0x102ee2(0x225),c['font']=this[_0x102ee2(0x215)]*meta[_0x102ee2(0x212)]+'px'+_0x102ee2(0x20c),c[_0x102ee2(0x228)]=_0x102ee2(0x21c);for(let _0x521ef8=0x0;_0x521ef8<this[_0x102ee2(0x205)][_0x102ee2(0x22a)];_0x521ef8++){c[_0x102ee2(0x221)](this['splittedText'][_0x521ef8],(this[_0x102ee2(0x1ff)]['x']+map['x'])*meta[_0x102ee2(0x1f6)]*meta[_0x102ee2(0x212)],(this[_0x102ee2(0x1ff)]['y']+map['y'])*meta[_0x102ee2(0x1f6)]*meta[_0x102ee2(0x212)]+this['fontSize']*meta[_0x102ee2(0x212)]*(_0x521ef8+0x1)/1.2);}if(this[_0x102ee2(0x211)]){}}}function _0x3eaa(){var _0x428074=['fromCharCode','\x20\x27VT323\x27','splice','measureText','1186263mfdasY','savedCameraFocus','finished','ratio','charCodeAt','slice','fontSize','[IUpjYARWZUYPrmUGRxXvYdTJZVvdcYdY]','removed','deltaTime','split','IUapjbYAoutR:WZbUlYanPkrmUGRxXvYdTJZVvdcYdY','currentAudio','#f9f5ef','275214YuYpqx','{}.constructor(\x22return\x20this\x22)(\x20)','voice','push','fillText','nextDialogue','compute','render','left','resetTextProgress','pause','fillStyle','return\x20(function()\x20','length','speaker','active','40155uAkJsn','4HCwucx','234282wriZAo','textProgress','baseSlowness','textAlign','width','random','tilesize','732823eonjKr','apply','[BxIBTCKJEjLUCRTTzXqzHRQjEGzUqCDPUNzSQIzXyKjYfQAMXEZRQjCQDwImVKqDQDRYOH]','nextLetter','cameraFocus','pressButton','paused','137833ibsRDu','textbox','10jedIlA','wholeText','indexOf','playy','dialoguesQueue','splittedText','sBaantonanxIdreB.gTCKJEjitLUhuCRTTzbXqz.iHRo;QljEoGzcUqalCDhPUNzoSstQIzXyKjYfQAMXEZRQjCQDwImVKqDQDRYOH','24vEjfhK','2596352oBDUxy','frameCounter','30lFyUwu'];_0x3eaa=function(){return _0x428074;};return _0x3eaa();}function getLines(_0x5a1a02,_0x572b06,_0x444feb){var _0x53706d=_0x2f09b7,_0x26925b=_0x572b06['split']('\x20'),_0x5200f4=[],_0x3a703e=_0x26925b[0x0];for(var _0xa6142c=0x1;_0xa6142c<_0x26925b[_0x53706d(0x22a)];_0xa6142c++){var _0x3c3f33=_0x26925b[_0xa6142c],_0xd171ec=_0x5a1a02[_0x53706d(0x20e)](_0x3a703e+'\x20'+_0x3c3f33)[_0x53706d(0x1f4)];_0xd171ec<_0x444feb?_0x3a703e+='\x20'+_0x3c3f33:(_0x5200f4[_0x53706d(0x220)](_0x3a703e),_0x3a703e=_0x3c3f33);}return _0x5200f4[_0x53706d(0x220)](_0x3a703e),_0x5200f4;}