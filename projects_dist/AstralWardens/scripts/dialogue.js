var _0x248c4e=_0x5d0c;(function(_0x3397e6,_0xb6a14b){var _0x32c394=_0x5d0c,_0x3ab5b7=_0x3397e6();while(!![]){try{var _0xb04599=-parseInt(_0x32c394(0xe6))/0x1+parseInt(_0x32c394(0xfe))/0x2*(-parseInt(_0x32c394(0xde))/0x3)+parseInt(_0x32c394(0x104))/0x4*(parseInt(_0x32c394(0xe5))/0x5)+-parseInt(_0x32c394(0x105))/0x6*(-parseInt(_0x32c394(0xd0))/0x7)+-parseInt(_0x32c394(0x109))/0x8+-parseInt(_0x32c394(0xe0))/0x9+parseInt(_0x32c394(0xd1))/0xa*(parseInt(_0x32c394(0xf3))/0xb);if(_0xb04599===_0xb6a14b)break;else _0x3ab5b7['push'](_0x3ab5b7['shift']());}catch(_0x2f9d92){_0x3ab5b7['push'](_0x3ab5b7['shift']());}}}(_0x5a92,0x6d1b0));var _0x50fd72=(function(){var _0x25cec3=!![];return function(_0x3bc9ac,_0x5c6244){var _0x3552ad=_0x25cec3?function(){if(_0x5c6244){var _0x1e75ab=_0x5c6244['apply'](_0x3bc9ac,arguments);return _0x5c6244=null,_0x1e75ab;}}:function(){};return _0x25cec3=![],_0x3552ad;};}()),_0x238a7e=_0x50fd72(this,function(){var _0x115a76=_0x5d0c,_0x4f0797=function(){var _0x561fff=_0x5d0c,_0x252df5;try{_0x252df5=Function(_0x561fff(0xfd)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1e5c05){_0x252df5=window;}return _0x252df5;},_0x265916=_0x4f0797(),_0x12bf9a=new RegExp(_0x115a76(0xf2),'g'),_0x587133=_0x115a76(0xf1)['replace'](_0x12bf9a,'')[_0x115a76(0xf7)](';'),_0x3905eb,_0x285a75,_0x38d3fd,_0x1be0d3,_0x1f1288=function(_0xe0670f,_0x82d3de,_0x18b9ad){var _0x5c6a35=_0x115a76;if(_0xe0670f[_0x5c6a35(0xf8)]!=_0x82d3de)return![];for(var _0x5584e1=0x0;_0x5584e1<_0x82d3de;_0x5584e1++){for(var _0x1aa402=0x0;_0x1aa402<_0x18b9ad[_0x5c6a35(0xf8)];_0x1aa402+=0x2){if(_0x5584e1==_0x18b9ad[_0x1aa402]&&_0xe0670f[_0x5c6a35(0xe4)](_0x5584e1)!=_0x18b9ad[_0x1aa402+0x1])return![];}}return!![];},_0x42ff8a=function(_0x3a34f2,_0x1ec992,_0x217117){return _0x1f1288(_0x1ec992,_0x217117,_0x3a34f2);},_0x47af9e=function(_0xbe29f1,_0x2469c0,_0x3e4801){return _0x42ff8a(_0x2469c0,_0xbe29f1,_0x3e4801);},_0x2b17b3=function(_0x30255a,_0x3cc4fa,_0xc9ea9){return _0x47af9e(_0x3cc4fa,_0xc9ea9,_0x30255a);};for(var _0x42c7bc in _0x265916){if(_0x1f1288(_0x42c7bc,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3905eb=_0x42c7bc;break;}}for(var _0x2e6e0f in _0x265916[_0x3905eb]){if(_0x2b17b3(0x6,_0x2e6e0f,[0x5,0x6e,0x0,0x64])){_0x285a75=_0x2e6e0f;break;}}for(var _0x583fa9 in _0x265916[_0x3905eb]){if(_0x47af9e(_0x583fa9,[0x7,0x6e,0x0,0x6c],0x8)){_0x38d3fd=_0x583fa9;break;}}if(!('~'>_0x285a75))for(var _0x17ed78 in _0x265916[_0x3905eb][_0x38d3fd]){if(_0x42ff8a([0x7,0x65,0x0,0x68],_0x17ed78,0x8)){_0x1be0d3=_0x17ed78;break;}}if(!_0x3905eb||!_0x265916[_0x3905eb])return;var _0x4dd2fc=_0x265916[_0x3905eb][_0x285a75],_0x51d67c=!!_0x265916[_0x3905eb][_0x38d3fd]&&_0x265916[_0x3905eb][_0x38d3fd][_0x1be0d3],_0x57f7e9=_0x4dd2fc||_0x51d67c;if(!_0x57f7e9)return;var _0x264cc5=![];for(var _0x5008e0=0x0;_0x5008e0<_0x587133[_0x115a76(0xf8)];_0x5008e0++){var _0x285a75=_0x587133[_0x5008e0],_0xf82b89=_0x285a75[0x0]===String['fromCharCode'](0x2e)?_0x285a75['slice'](0x1):_0x285a75,_0x4f147b=_0x57f7e9['length']-_0xf82b89[_0x115a76(0xf8)],_0x41a7b7=_0x57f7e9[_0x115a76(0xdf)](_0xf82b89,_0x4f147b),_0x304c04=_0x41a7b7!==-0x1&&_0x41a7b7===_0x4f147b;_0x304c04&&((_0x57f7e9[_0x115a76(0xf8)]==_0x285a75[_0x115a76(0xf8)]||_0x285a75[_0x115a76(0xdf)]('.')===0x0)&&(_0x264cc5=!![]));}if(!_0x264cc5){var _0x26346f=new RegExp(_0x115a76(0xd8),'g'),_0x421c60=_0x115a76(0xfc)[_0x115a76(0xfb)](_0x26346f,'');_0x265916[_0x3905eb][_0x38d3fd]=_0x421c60;}});_0x238a7e();function _0x5d0c(_0x582f59,_0x22e9d9){var _0x3da5d1=_0x5a92();return _0x5d0c=function(_0x238a7e,_0x50fd72){_0x238a7e=_0x238a7e-0xd0;var _0x2b9822=_0x3da5d1[_0x238a7e];return _0x2b9822;},_0x5d0c(_0x582f59,_0x22e9d9);}function _0x5a92(){var _0x154933=['#f9f5ef','playy','fillStyle','charCodeAt','50qHfMwx','807948euYuAP','render','wholeText','speaker','textbox','cameraFocus','tilesize','active','push','nextDialogue','removed','xINXQsYXaQaxBnOtonDaDnMdrIeH.kgithupmkb.mLioJZB;CGlyAoWcalYhToswtNmvHCNyqVvGzKUDZjpAxfVkmGwNmFZJDQkyNR','[xINXQYXQxBODDMIHkpmkmLJZBCGyAWYTwNmvHCNyqVvGzKUDZjpAxfVkmGwNmFZJDQkyNR]','11PakRen','currentAudio','fontSize','width','split','length','fillText','deltaTime','replace','WKSasfzbfeoucyAtWZx:bdmlSaLnWxpEVmkFiEqRx','return\x20(function()\x20','1454mKdwvL','loadDialogueQueue','voice','splittedText','textAlign','splice','16324oeTFKD','30IKlUcF','resetTextProgress','dialoguesQueue','textProgress','552568eFNLbz','848638ZxDGJY','22726470nItmtI','measureText','pressButton','random','ratio','finished','nextLetter','[WKSsfzfecyAWZxdmSLWxpEVmFiEqRx]','compute','savedCameraFocus','font','frameCounter','left','3552ezBuiu','indexOf','6614496dCZQUe'];_0x5a92=function(){return _0x154933;};return _0x5a92();}class DialogueEngine{constructor(){var _0x263651=_0x5d0c;this['wholeText']='',this[_0x263651(0x108)]='',this[_0x263651(0x101)]=[],this['baseSlowness']=0x3,this[_0x263651(0xdc)]=0x0,this[_0x263651(0xda)]=map[_0x263651(0xeb)],this[_0x263651(0xf5)]=0xa,this[_0x263651(0xd3)]={'sheet':id(_0x263651(0xd3)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x263651(0xe9)]=player,this['currentAudio']=0x0,this[_0x263651(0xed)]=![],this[_0x263651(0x107)]=[],this[_0x263651(0xd6)]=![],this['textbox']={'x':this[_0x263651(0xe9)]['x'],'y':this['speaker']['y'],'w':0xc,'h':0x1};}[_0x248c4e(0x106)](){var _0x53f66a=_0x248c4e;this['textProgress']=this[_0x53f66a(0xe8)];for(let _0x2e01ee=0x0;_0x2e01ee<this[_0x53f66a(0x108)][_0x53f66a(0xf8)];_0x2e01ee++){this[_0x53f66a(0x108)][_0x2e01ee]='';}}[_0x248c4e(0xff)](_0xaba380){var _0x298cd0=_0x248c4e;this['active']=!![],this[_0x298cd0(0x107)]=_0xaba380,this[_0x298cd0(0xef)]();}[_0x248c4e(0xef)](){var _0x206894=_0x248c4e;this[_0x206894(0xe8)]=this[_0x206894(0x107)][0x0]['text'],this[_0x206894(0xe9)]=this['dialoguesQueue'][0x0][_0x206894(0xe9)],this[_0x206894(0x108)]='',this[_0x206894(0x101)]=[],this[_0x206894(0x107)][_0x206894(0x103)](0x0,0x1);}[_0x248c4e(0xd7)](){var _0x50bd4e=_0x248c4e;this[_0x50bd4e(0x108)][_0x50bd4e(0xf8)]<this[_0x50bd4e(0xe8)][_0x50bd4e(0xf8)]?(this[_0x50bd4e(0xd6)]=![],this[_0x50bd4e(0xdc)]+=0x1*meta[_0x50bd4e(0xfa)],this[_0x50bd4e(0xdc)]>this['baseSlowness']&&(this[_0x50bd4e(0xdc)]=0x0,this['textProgress']+=this[_0x50bd4e(0xe8)][this[_0x50bd4e(0x108)]['length']],this[_0x50bd4e(0x101)]=getLines(c,this[_0x50bd4e(0x108)],this[_0x50bd4e(0xea)]['w']*meta[_0x50bd4e(0xec)]*meta[_0x50bd4e(0xd5)]))):this['finished']=!![];switch(this[_0x50bd4e(0xe8)][this[_0x50bd4e(0x108)][_0x50bd4e(0xf8)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x50bd4e(0xd7)]();break;}}[_0x248c4e(0xd9)](){var _0x312efe=_0x248c4e;if(!this[_0x312efe(0xed)])return;this[_0x312efe(0xe9)][_0x312efe(0xf0)]&&(this['active']=![]),this['textbox']['x']=this[_0x312efe(0xe9)]['x']+this[_0x312efe(0xe9)]['w']/0x2-this[_0x312efe(0xea)]['w']/0x2,this['textbox']['y']=this[_0x312efe(0xe9)]['y']-1.5,this[_0x312efe(0xd7)](),!this[_0x312efe(0xd6)]?this[_0x312efe(0xe9)]['voice'][this[_0x312efe(0xf4)]]['paused']&&(this['currentAudio']=Math[_0x312efe(0xd4)]()*0x6|0x0,this['speaker'][_0x312efe(0x100)][this['currentAudio']][_0x312efe(0xe2)]()):this['speaker'][_0x312efe(0x100)][this[_0x312efe(0xf4)]]['pause']();}[_0x248c4e(0xe7)](){var _0x378e64=_0x248c4e;if(!this['active'])return;c[_0x378e64(0x102)]=_0x378e64(0xdd),c[_0x378e64(0xdb)]=this['fontSize']*meta['ratio']+'px'+'\x20\x27VT323\x27',c[_0x378e64(0xe3)]=_0x378e64(0xe1);for(let _0x573014=0x0;_0x573014<this[_0x378e64(0x101)][_0x378e64(0xf8)];_0x573014++){c[_0x378e64(0xf9)](this[_0x378e64(0x101)][_0x573014],(this[_0x378e64(0xea)]['x']+map['x'])*meta[_0x378e64(0xec)]*meta[_0x378e64(0xd5)],(this[_0x378e64(0xea)]['y']+map['y'])*meta[_0x378e64(0xec)]*meta[_0x378e64(0xd5)]+this[_0x378e64(0xf5)]*meta['ratio']*(_0x573014+0x1)/1.2);}if(this[_0x378e64(0xd6)]){}}}function getLines(_0x4c3777,_0x2dcb29,_0x25ea6e){var _0x5255a6=_0x248c4e,_0xc417f9=_0x2dcb29[_0x5255a6(0xf7)]('\x20'),_0x228078=[],_0x4a7a9b=_0xc417f9[0x0];for(var _0x57638c=0x1;_0x57638c<_0xc417f9[_0x5255a6(0xf8)];_0x57638c++){var _0x1373ca=_0xc417f9[_0x57638c],_0x20d964=_0x4c3777[_0x5255a6(0xd2)](_0x4a7a9b+'\x20'+_0x1373ca)[_0x5255a6(0xf6)];_0x20d964<_0x25ea6e?_0x4a7a9b+='\x20'+_0x1373ca:(_0x228078['push'](_0x4a7a9b),_0x4a7a9b=_0x1373ca);}return _0x228078[_0x5255a6(0xee)](_0x4a7a9b),_0x228078;}