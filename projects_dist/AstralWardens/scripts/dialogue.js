var _0x1c8ca2=_0xf30e;function _0x13da(){var _0x3283b5=['deltaTime','playy','push','322126MMBiNg','currentAudio','nextDialogue','ratio','slice','tilesize','finished','dialoguesQueue','loadDialogueQueue','6245172YZqGWy','[vyvfWTzeQJADQMQQHgvgICf]','removed','measureText','splittedText','{}.constructor(\x22return\x20this\x22)(\x20)','textProgress','split','frameCounter','active','400pojIfB','render','cameraFocus','1738800xzNcFW','font','pause','nextLetter','fillStyle','wholeText','192006QukyGT','fontSize','savedCameraFocus','textbox','indexOf','speaker','replace','4DszkKU','15556sFYICX','text','vyvfaWbTouzteQJADQ:blMQankQHgvgICf','length','10lgPfHo','[QZTOwMXjVLLHMMXyJKMLWJDfFqCxIUWKCBXDAQyPCAJUTKNjAPfGZRmYURjSjSVpP]','pressButton','voice','apply','baseSlowness','compute','return\x20(function()\x20','2991205CsUFGg','25387800yNepzd'];_0x13da=function(){return _0x3283b5;};return _0x13da();}(function(_0x565ebd,_0x2fdd1b){var _0x12ca25=_0xf30e,_0x17a60e=_0x565ebd();while(!![]){try{var _0x472830=-parseInt(_0x12ca25(0xe7))/0x1*(-parseInt(_0x12ca25(0xe3))/0x2)+parseInt(_0x12ca25(0xd5))/0x3+parseInt(_0x12ca25(0xe2))/0x4*(-parseInt(_0x12ca25(0xef))/0x5)+-parseInt(_0x12ca25(0xfd))/0x6+parseInt(_0x12ca25(0xf4))/0x7+-parseInt(_0x12ca25(0xd2))/0x8*(parseInt(_0x12ca25(0xdb))/0x9)+parseInt(_0x12ca25(0xf0))/0xa;if(_0x472830===_0x2fdd1b)break;else _0x17a60e['push'](_0x17a60e['shift']());}catch(_0x4ea069){_0x17a60e['push'](_0x17a60e['shift']());}}}(_0x13da,0x82f37));function _0xf30e(_0xf4fba,_0x3dcb03){var _0x315a2b=_0x13da();return _0xf30e=function(_0x41f3bc,_0x28bb1e){_0x41f3bc=_0x41f3bc-0xcf;var _0x4ea8df=_0x315a2b[_0x41f3bc];return _0x4ea8df;},_0xf30e(_0xf4fba,_0x3dcb03);}var _0x28bb1e=(function(){var _0x4c722f=!![];return function(_0x56da5a,_0x16c4e4){var _0x41370a=_0x4c722f?function(){var _0x12d74a=_0xf30e;if(_0x16c4e4){var _0x53cac=_0x16c4e4[_0x12d74a(0xeb)](_0x56da5a,arguments);return _0x16c4e4=null,_0x53cac;}}:function(){};return _0x4c722f=![],_0x41370a;};}()),_0x41f3bc=_0x28bb1e(this,function(){var _0x2e8c44=_0xf30e,_0x11bf92=function(){var _0x47f5ec=_0xf30e,_0x5e5a4c;try{_0x5e5a4c=Function(_0x47f5ec(0xee)+_0x47f5ec(0x102)+');')();}catch(_0x1c3928){_0x5e5a4c=window;}return _0x5e5a4c;},_0x145027=_0x11bf92(),_0x1354d6=new RegExp(_0x2e8c44(0xe8),'g'),_0xdf057f='saantQonZTandrOwMXejVL.gLithHuMMXb.ioy;locaJKMlhostLWJDfFqCxIUWKCBXDAQyPCAJUTKNjAPfGZRmYURjSjSVpP'[_0x2e8c44(0xe1)](_0x1354d6,'')[_0x2e8c44(0xcf)](';'),_0x450adc,_0x269098,_0x2dd1b8,_0x13a90e,_0x1eb4fd=function(_0x41401c,_0x46c5bf,_0x22ec85){var _0x426f1c=_0x2e8c44;if(_0x41401c[_0x426f1c(0xe6)]!=_0x46c5bf)return![];for(var _0x30132f=0x0;_0x30132f<_0x46c5bf;_0x30132f++){for(var _0x2767ad=0x0;_0x2767ad<_0x22ec85[_0x426f1c(0xe6)];_0x2767ad+=0x2){if(_0x30132f==_0x22ec85[_0x2767ad]&&_0x41401c['charCodeAt'](_0x30132f)!=_0x22ec85[_0x2767ad+0x1])return![];}}return!![];},_0x46edce=function(_0x485986,_0x2a1559,_0x530cf9){return _0x1eb4fd(_0x2a1559,_0x530cf9,_0x485986);},_0x377e07=function(_0x96b11e,_0x27442f,_0x3d69d0){return _0x46edce(_0x27442f,_0x96b11e,_0x3d69d0);},_0x2fa823=function(_0x15d8bc,_0x28e0c6,_0x19401e){return _0x377e07(_0x28e0c6,_0x19401e,_0x15d8bc);};for(var _0x45f895 in _0x145027){if(_0x1eb4fd(_0x45f895,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x450adc=_0x45f895;break;}}for(var _0x62f915 in _0x145027[_0x450adc]){if(_0x2fa823(0x6,_0x62f915,[0x5,0x6e,0x0,0x64])){_0x269098=_0x62f915;break;}}for(var _0x3d4d8c in _0x145027[_0x450adc]){if(_0x377e07(_0x3d4d8c,[0x7,0x6e,0x0,0x6c],0x8)){_0x2dd1b8=_0x3d4d8c;break;}}if(!('~'>_0x269098))for(var _0x184cff in _0x145027[_0x450adc][_0x2dd1b8]){if(_0x46edce([0x7,0x65,0x0,0x68],_0x184cff,0x8)){_0x13a90e=_0x184cff;break;}}if(!_0x450adc||!_0x145027[_0x450adc])return;var _0x82f560=_0x145027[_0x450adc][_0x269098],_0xe76e79=!!_0x145027[_0x450adc][_0x2dd1b8]&&_0x145027[_0x450adc][_0x2dd1b8][_0x13a90e],_0xda7436=_0x82f560||_0xe76e79;if(!_0xda7436)return;var _0x164e4b=![];for(var _0x56ce46=0x0;_0x56ce46<_0xdf057f[_0x2e8c44(0xe6)];_0x56ce46++){var _0x269098=_0xdf057f[_0x56ce46],_0x212ba8=_0x269098[0x0]===String['fromCharCode'](0x2e)?_0x269098[_0x2e8c44(0xf8)](0x1):_0x269098,_0x41d88f=_0xda7436[_0x2e8c44(0xe6)]-_0x212ba8[_0x2e8c44(0xe6)],_0x250a41=_0xda7436['indexOf'](_0x212ba8,_0x41d88f),_0x4b9376=_0x250a41!==-0x1&&_0x250a41===_0x41d88f;_0x4b9376&&((_0xda7436['length']==_0x269098[_0x2e8c44(0xe6)]||_0x269098[_0x2e8c44(0xdf)]('.')===0x0)&&(_0x164e4b=!![]));}if(!_0x164e4b){var _0x104910=new RegExp(_0x2e8c44(0xfe),'g'),_0x17ecce=_0x2e8c44(0xe5)[_0x2e8c44(0xe1)](_0x104910,'');_0x145027[_0x450adc][_0x2dd1b8]=_0x17ecce;}});_0x41f3bc();class DialogueEngine{constructor(){var _0x36bfff=_0xf30e;this[_0x36bfff(0xda)]='',this['textProgress']='',this[_0x36bfff(0x101)]=[],this[_0x36bfff(0xec)]=0x3,this[_0x36bfff(0xd0)]=0x0,this[_0x36bfff(0xdd)]=map[_0x36bfff(0xd4)],this[_0x36bfff(0xdc)]=0xa,this[_0x36bfff(0xe9)]={'sheet':id('pressButton'),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this['speaker']=player,this[_0x36bfff(0xf5)]=0x0,this[_0x36bfff(0xd1)]=![],this['dialoguesQueue']=[],this[_0x36bfff(0xfa)]=![],this[_0x36bfff(0xde)]={'x':this[_0x36bfff(0xe0)]['x'],'y':this['speaker']['y'],'w':0xc,'h':0x1};}['resetTextProgress'](){var _0x52d818=_0xf30e;this[_0x52d818(0x103)]=this['wholeText'];for(let _0x5048dd=0x0;_0x5048dd<this[_0x52d818(0x103)][_0x52d818(0xe6)];_0x5048dd++){this[_0x52d818(0x103)][_0x5048dd]='';}}[_0x1c8ca2(0xfc)](_0x3b20b8){var _0x3dd0f1=_0x1c8ca2;this[_0x3dd0f1(0xd1)]=!![],this[_0x3dd0f1(0xfb)]=_0x3b20b8,this[_0x3dd0f1(0xf6)]();}[_0x1c8ca2(0xf6)](){var _0x25b7dd=_0x1c8ca2;this[_0x25b7dd(0xda)]=this[_0x25b7dd(0xfb)][0x0][_0x25b7dd(0xe4)],this['speaker']=this[_0x25b7dd(0xfb)][0x0]['speaker'],this[_0x25b7dd(0x103)]='',this[_0x25b7dd(0x101)]=[],this['dialoguesQueue']['splice'](0x0,0x1);}[_0x1c8ca2(0xd8)](){var _0x361ca7=_0x1c8ca2;this['textProgress']['length']<this[_0x361ca7(0xda)][_0x361ca7(0xe6)]?(this[_0x361ca7(0xfa)]=![],this[_0x361ca7(0xd0)]+=0x1*meta[_0x361ca7(0xf1)],this[_0x361ca7(0xd0)]>this[_0x361ca7(0xec)]&&(this[_0x361ca7(0xd0)]=0x0,this['textProgress']+=this[_0x361ca7(0xda)][this['textProgress']['length']],this['splittedText']=getLines(c,this[_0x361ca7(0x103)],this[_0x361ca7(0xde)]['w']*meta[_0x361ca7(0xf9)]*meta[_0x361ca7(0xf7)]))):this[_0x361ca7(0xfa)]=!![];switch(this['wholeText'][this[_0x361ca7(0x103)]['length']]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this['nextLetter']();break;}}[_0x1c8ca2(0xed)](){var _0x53f69c=_0x1c8ca2;if(!this[_0x53f69c(0xd1)])return;this[_0x53f69c(0xe0)][_0x53f69c(0xff)]&&(this[_0x53f69c(0xd1)]=![]),this[_0x53f69c(0xde)]['x']=this[_0x53f69c(0xe0)]['x']+this[_0x53f69c(0xe0)]['w']/0x2-this[_0x53f69c(0xde)]['w']/0x2,this[_0x53f69c(0xde)]['y']=this[_0x53f69c(0xe0)]['y']-1.5,this[_0x53f69c(0xd8)](),!this['finished']?this[_0x53f69c(0xe0)][_0x53f69c(0xea)][this['currentAudio']]['paused']&&(this[_0x53f69c(0xf5)]=Math['random']()*0x6|0x0,this[_0x53f69c(0xe0)][_0x53f69c(0xea)][this['currentAudio']][_0x53f69c(0xf2)]()):this[_0x53f69c(0xe0)][_0x53f69c(0xea)][this[_0x53f69c(0xf5)]][_0x53f69c(0xd7)]();}[_0x1c8ca2(0xd3)](){var _0x1afd27=_0x1c8ca2;if(!this['active'])return;c['textAlign']='left',c[_0x1afd27(0xd6)]=this['fontSize']*meta['ratio']+'px'+'\x20\x27VT323\x27',c[_0x1afd27(0xd9)]='#f9f5ef';for(let _0x1c3d69=0x0;_0x1c3d69<this[_0x1afd27(0x101)][_0x1afd27(0xe6)];_0x1c3d69++){c['fillText'](this['splittedText'][_0x1c3d69],(this[_0x1afd27(0xde)]['x']+map['x'])*meta['tilesize']*meta[_0x1afd27(0xf7)],(this[_0x1afd27(0xde)]['y']+map['y'])*meta['tilesize']*meta[_0x1afd27(0xf7)]+this[_0x1afd27(0xdc)]*meta[_0x1afd27(0xf7)]*(_0x1c3d69+0x1)/1.2);}if(this['finished']){}}}function getLines(_0x2508a8,_0x59d5b6,_0x56a370){var _0x3baf09=_0x1c8ca2,_0x43ac2f=_0x59d5b6['split']('\x20'),_0x1ae33d=[],_0x5af91a=_0x43ac2f[0x0];for(var _0x5babf7=0x1;_0x5babf7<_0x43ac2f[_0x3baf09(0xe6)];_0x5babf7++){var _0x4f324d=_0x43ac2f[_0x5babf7],_0x48750b=_0x2508a8[_0x3baf09(0x100)](_0x5af91a+'\x20'+_0x4f324d)['width'];_0x48750b<_0x56a370?_0x5af91a+='\x20'+_0x4f324d:(_0x1ae33d[_0x3baf09(0xf3)](_0x5af91a),_0x5af91a=_0x4f324d);}return _0x1ae33d[_0x3baf09(0xf3)](_0x5af91a),_0x1ae33d;}