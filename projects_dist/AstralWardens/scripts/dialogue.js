var _0x236b13=_0x3f7a;(function(_0x4657a5,_0xe2d54d){var _0xc2b8e3=_0x3f7a,_0x230f9d=_0x4657a5();while(!![]){try{var _0x47925e=-parseInt(_0xc2b8e3(0x131))/0x1*(-parseInt(_0xc2b8e3(0x126))/0x2)+-parseInt(_0xc2b8e3(0x137))/0x3+-parseInt(_0xc2b8e3(0x127))/0x4+parseInt(_0xc2b8e3(0x12b))/0x5*(parseInt(_0xc2b8e3(0x10a))/0x6)+-parseInt(_0xc2b8e3(0x132))/0x7*(parseInt(_0xc2b8e3(0x104))/0x8)+-parseInt(_0xc2b8e3(0x103))/0x9*(-parseInt(_0xc2b8e3(0x129))/0xa)+-parseInt(_0xc2b8e3(0x134))/0xb*(-parseInt(_0xc2b8e3(0x10f))/0xc);if(_0x47925e===_0xe2d54d)break;else _0x230f9d['push'](_0x230f9d['shift']());}catch(_0x4929f0){_0x230f9d['push'](_0x230f9d['shift']());}}}(_0x588b,0x45e20));function _0x588b(){var _0x1cea43=['finished','1490RyzvWo','removed','85GRwdIp','length','textbox','slice','nextLetter','left','2575dvrjFu','628229edomOH','\x20\x27VT323\x27','1694GgmiZs','baseSlowness','fontSize','157281wvjoOR','ratio','random','pressButton','deltaTime','13761gCuWRZ','40UFADaS','compute','tilesize','active','splittedText','push','80586OKWmln','splice','wholeText','width','JjsaEaCxnSytTkoFUzXnTXaqndrIVe.WgDithHubIWJ.iSUWow;lNPCocalCGZChosDtCyETGYzGJRvRCTwPLyJxpyRTGLNFWX','9444erpzIe','nextDialogue','savedCameraFocus','loadDialogueQueue','vGabXUofut:WZwbvXAlOanGMkTWjFmZTGHxASgLipy','frameCounter','textProgress','charCodeAt','dialoguesQueue','pause','indexOf','speaker','playy','voice','font','[JjECxSyTkFUzXTXqIVWDHIWJSUWwNPCCGZCDCyETGYzGJRvRCTwPLyJxpyRTGLNFWX]','fromCharCode','split','paused','return\x20(function()\x20','replace','currentAudio','fillText','374PDiGVA','1085876MISgPj'];_0x588b=function(){return _0x1cea43;};return _0x588b();}var _0x470843=(function(){var _0x586014=!![];return function(_0x20f978,_0x15e87b){var _0x51b5b6=_0x586014?function(){if(_0x15e87b){var _0x2a4eec=_0x15e87b['apply'](_0x20f978,arguments);return _0x15e87b=null,_0x2a4eec;}}:function(){};return _0x586014=![],_0x51b5b6;};}()),_0x564294=_0x470843(this,function(){var _0x20ceed=_0x3f7a,_0x6cc3d9=function(){var _0x165a1d=_0x3f7a,_0x1aede2;try{_0x1aede2=Function(_0x165a1d(0x122)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x51a295){_0x1aede2=window;}return _0x1aede2;},_0x394e42=_0x6cc3d9(),_0x2cd837=new RegExp(_0x20ceed(0x11e),'g'),_0x2edd40=_0x20ceed(0x10e)[_0x20ceed(0x123)](_0x2cd837,'')[_0x20ceed(0x120)](';'),_0x5a0454,_0x2fe2c2,_0x425a93,_0x56d4db,_0x4ae580=function(_0x579c7d,_0x2f8b78,_0x1324b1){var _0x8f6397=_0x20ceed;if(_0x579c7d[_0x8f6397(0x12c)]!=_0x2f8b78)return![];for(var _0x506530=0x0;_0x506530<_0x2f8b78;_0x506530++){for(var _0x3f0836=0x0;_0x3f0836<_0x1324b1[_0x8f6397(0x12c)];_0x3f0836+=0x2){if(_0x506530==_0x1324b1[_0x3f0836]&&_0x579c7d[_0x8f6397(0x116)](_0x506530)!=_0x1324b1[_0x3f0836+0x1])return![];}}return!![];},_0x52082d=function(_0x39635c,_0x109519,_0x358732){return _0x4ae580(_0x109519,_0x358732,_0x39635c);},_0x4dc436=function(_0x403b1a,_0x4d123d,_0x380341){return _0x52082d(_0x4d123d,_0x403b1a,_0x380341);},_0x3f1e66=function(_0x9541a8,_0x561d7f,_0x3836bf){return _0x4dc436(_0x561d7f,_0x3836bf,_0x9541a8);};for(var _0x337b74 in _0x394e42){if(_0x4ae580(_0x337b74,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5a0454=_0x337b74;break;}}for(var _0x7bcc70 in _0x394e42[_0x5a0454]){if(_0x3f1e66(0x6,_0x7bcc70,[0x5,0x6e,0x0,0x64])){_0x2fe2c2=_0x7bcc70;break;}}for(var _0x555f6b in _0x394e42[_0x5a0454]){if(_0x4dc436(_0x555f6b,[0x7,0x6e,0x0,0x6c],0x8)){_0x425a93=_0x555f6b;break;}}if(!('~'>_0x2fe2c2))for(var _0x2dd444 in _0x394e42[_0x5a0454][_0x425a93]){if(_0x52082d([0x7,0x65,0x0,0x68],_0x2dd444,0x8)){_0x56d4db=_0x2dd444;break;}}if(!_0x5a0454||!_0x394e42[_0x5a0454])return;var _0x2e6a50=_0x394e42[_0x5a0454][_0x2fe2c2],_0x2731c5=!!_0x394e42[_0x5a0454][_0x425a93]&&_0x394e42[_0x5a0454][_0x425a93][_0x56d4db],_0x447ba5=_0x2e6a50||_0x2731c5;if(!_0x447ba5)return;var _0x21cce5=![];for(var _0xcc4038=0x0;_0xcc4038<_0x2edd40['length'];_0xcc4038++){var _0x2fe2c2=_0x2edd40[_0xcc4038],_0x4e6738=_0x2fe2c2[0x0]===String[_0x20ceed(0x11f)](0x2e)?_0x2fe2c2[_0x20ceed(0x12e)](0x1):_0x2fe2c2,_0x39fa90=_0x447ba5['length']-_0x4e6738[_0x20ceed(0x12c)],_0x215138=_0x447ba5[_0x20ceed(0x119)](_0x4e6738,_0x39fa90),_0x433697=_0x215138!==-0x1&&_0x215138===_0x39fa90;_0x433697&&((_0x447ba5[_0x20ceed(0x12c)]==_0x2fe2c2[_0x20ceed(0x12c)]||_0x2fe2c2['indexOf']('.')===0x0)&&(_0x21cce5=!![]));}if(!_0x21cce5){var _0x134c59=new RegExp('[vGXUfWZwvXAOGMTWjFmZTGHxASgLipy]','g'),_0x1ea883=_0x20ceed(0x113)[_0x20ceed(0x123)](_0x134c59,'');_0x394e42[_0x5a0454][_0x425a93]=_0x1ea883;}});_0x564294();class DialogueEngine{constructor(){var _0x49c0c3=_0x3f7a;this['wholeText']='',this[_0x49c0c3(0x115)]='',this['splittedText']=[],this[_0x49c0c3(0x135)]=0x3,this[_0x49c0c3(0x114)]=0x0,this[_0x49c0c3(0x111)]=map['cameraFocus'],this[_0x49c0c3(0x136)]=0xa,this[_0x49c0c3(0x101)]={'sheet':id(_0x49c0c3(0x101)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x49c0c3(0x11a)]=player,this['currentAudio']=0x0,this[_0x49c0c3(0x107)]=![],this[_0x49c0c3(0x117)]=[],this[_0x49c0c3(0x128)]=![],this[_0x49c0c3(0x12d)]={'x':this[_0x49c0c3(0x11a)]['x'],'y':this[_0x49c0c3(0x11a)]['y'],'w':0xc,'h':0x1};}['resetTextProgress'](){var _0x5e35fd=_0x3f7a;this[_0x5e35fd(0x115)]=this[_0x5e35fd(0x10c)];for(let _0x2a01cb=0x0;_0x2a01cb<this[_0x5e35fd(0x115)][_0x5e35fd(0x12c)];_0x2a01cb++){this[_0x5e35fd(0x115)][_0x2a01cb]='';}}[_0x236b13(0x112)](_0x120487){var _0x1327e8=_0x236b13;this[_0x1327e8(0x107)]=!![],this[_0x1327e8(0x117)]=_0x120487,this[_0x1327e8(0x110)]();}[_0x236b13(0x110)](){var _0x12f33b=_0x236b13;this['wholeText']=this[_0x12f33b(0x117)][0x0]['text'],this['speaker']=this[_0x12f33b(0x117)][0x0][_0x12f33b(0x11a)],this['textProgress']='',this[_0x12f33b(0x108)]=[],this[_0x12f33b(0x117)][_0x12f33b(0x10b)](0x0,0x1);}[_0x236b13(0x12f)](){var _0x42cecf=_0x236b13;this['textProgress'][_0x42cecf(0x12c)]<this[_0x42cecf(0x10c)]['length']?(this[_0x42cecf(0x128)]=![],this[_0x42cecf(0x114)]+=0x1*meta[_0x42cecf(0x102)],this[_0x42cecf(0x114)]>this[_0x42cecf(0x135)]&&(this[_0x42cecf(0x114)]=0x0,this[_0x42cecf(0x115)]+=this[_0x42cecf(0x10c)][this[_0x42cecf(0x115)]['length']],this[_0x42cecf(0x108)]=getLines(c,this[_0x42cecf(0x115)],this[_0x42cecf(0x12d)]['w']*meta[_0x42cecf(0x106)]*meta['ratio']))):this[_0x42cecf(0x128)]=!![];switch(this[_0x42cecf(0x10c)][this[_0x42cecf(0x115)][_0x42cecf(0x12c)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x42cecf(0x12f)]();break;}}[_0x236b13(0x105)](){var _0x43dda7=_0x236b13;if(!this[_0x43dda7(0x107)])return;this[_0x43dda7(0x11a)][_0x43dda7(0x12a)]&&(this['active']=![]),this[_0x43dda7(0x12d)]['x']=this[_0x43dda7(0x11a)]['x']+this[_0x43dda7(0x11a)]['w']/0x2-this[_0x43dda7(0x12d)]['w']/0x2,this[_0x43dda7(0x12d)]['y']=this[_0x43dda7(0x11a)]['y']-1.5,this[_0x43dda7(0x12f)](),!this['finished']?this[_0x43dda7(0x11a)][_0x43dda7(0x11c)][this[_0x43dda7(0x124)]][_0x43dda7(0x121)]&&(this['currentAudio']=Math[_0x43dda7(0x139)]()*0x6|0x0,this[_0x43dda7(0x11a)][_0x43dda7(0x11c)][this[_0x43dda7(0x124)]][_0x43dda7(0x11b)]()):this[_0x43dda7(0x11a)][_0x43dda7(0x11c)][this[_0x43dda7(0x124)]][_0x43dda7(0x118)]();}['render'](){var _0x4e6c9f=_0x236b13;if(!this[_0x4e6c9f(0x107)])return;c['textAlign']=_0x4e6c9f(0x130),c[_0x4e6c9f(0x11d)]=this[_0x4e6c9f(0x136)]*meta[_0x4e6c9f(0x138)]+'px'+_0x4e6c9f(0x133),c['fillStyle']='#f9f5ef';for(let _0x1850ce=0x0;_0x1850ce<this[_0x4e6c9f(0x108)]['length'];_0x1850ce++){c[_0x4e6c9f(0x125)](this[_0x4e6c9f(0x108)][_0x1850ce],(this['textbox']['x']+map['x'])*meta['tilesize']*meta['ratio'],(this['textbox']['y']+map['y'])*meta[_0x4e6c9f(0x106)]*meta[_0x4e6c9f(0x138)]+this['fontSize']*meta[_0x4e6c9f(0x138)]*(_0x1850ce+0x1)/1.2);}if(this[_0x4e6c9f(0x128)]){}}}function _0x3f7a(_0x58ee1a,_0x8bd8e5){var _0x5a5e47=_0x588b();return _0x3f7a=function(_0x564294,_0x470843){_0x564294=_0x564294-0x101;var _0x416073=_0x5a5e47[_0x564294];return _0x416073;},_0x3f7a(_0x58ee1a,_0x8bd8e5);}function getLines(_0x390bdc,_0x5889eb,_0x5f4a3e){var _0xde54ee=_0x236b13,_0x2231fd=_0x5889eb[_0xde54ee(0x120)]('\x20'),_0x288985=[],_0x10973e=_0x2231fd[0x0];for(var _0x3b35b9=0x1;_0x3b35b9<_0x2231fd[_0xde54ee(0x12c)];_0x3b35b9++){var _0x1f0d6d=_0x2231fd[_0x3b35b9],_0x3e8686=_0x390bdc['measureText'](_0x10973e+'\x20'+_0x1f0d6d)[_0xde54ee(0x10d)];_0x3e8686<_0x5f4a3e?_0x10973e+='\x20'+_0x1f0d6d:(_0x288985['push'](_0x10973e),_0x10973e=_0x1f0d6d);}return _0x288985[_0xde54ee(0x109)](_0x10973e),_0x288985;}