var _0x463d95=_0xfafe;(function(_0x4e519c,_0x2404ec){var _0x1ea5e7=_0xfafe,_0xc2544f=_0x4e519c();while(!![]){try{var _0x362cce=parseInt(_0x1ea5e7(0x18d))/0x1+parseInt(_0x1ea5e7(0x182))/0x2*(-parseInt(_0x1ea5e7(0x188))/0x3)+parseInt(_0x1ea5e7(0x1ab))/0x4+parseInt(_0x1ea5e7(0x19b))/0x5+-parseInt(_0x1ea5e7(0x1b3))/0x6*(-parseInt(_0x1ea5e7(0x1a8))/0x7)+-parseInt(_0x1ea5e7(0x191))/0x8*(-parseInt(_0x1ea5e7(0x189))/0x9)+-parseInt(_0x1ea5e7(0x1a1))/0xa;if(_0x362cce===_0x2404ec)break;else _0xc2544f['push'](_0xc2544f['shift']());}catch(_0x4086ca){_0xc2544f['push'](_0xc2544f['shift']());}}}(_0x376d,0xf1a6a));var _0x41bca5=(function(){var _0x25c2a4=!![];return function(_0x385b79,_0x4bcc39){var _0x5f03c5=_0x25c2a4?function(){var _0x28f80d=_0xfafe;if(_0x4bcc39){var _0x2e55c1=_0x4bcc39[_0x28f80d(0x1b1)](_0x385b79,arguments);return _0x4bcc39=null,_0x2e55c1;}}:function(){};return _0x25c2a4=![],_0x5f03c5;};}()),_0x14f56a=_0x41bca5(this,function(){var _0x545270=_0xfafe,_0x1573ee;try{var _0x22079a=Function(_0x545270(0x179)+_0x545270(0x19c)+');');_0x1573ee=_0x22079a();}catch(_0x4d1c39){_0x1573ee=window;}var _0x25720a=new RegExp(_0x545270(0x186),'g'),_0x3409dd=_0x545270(0x196)[_0x545270(0x18c)](_0x25720a,'')[_0x545270(0x1a7)](';'),_0x52f2f4,_0x1db0de,_0x22ef60,_0x4bb5a1,_0x22a615=function(_0x2479d7,_0xac4342,_0x2dc6ed){var _0x2835f1=_0x545270;if(_0x2479d7[_0x2835f1(0x1b2)]!=_0xac4342)return![];for(var _0xb2ee9d=0x0;_0xb2ee9d<_0xac4342;_0xb2ee9d++){for(var _0x38baed=0x0;_0x38baed<_0x2dc6ed[_0x2835f1(0x1b2)];_0x38baed+=0x2){if(_0xb2ee9d==_0x2dc6ed[_0x38baed]&&_0x2479d7[_0x2835f1(0x193)](_0xb2ee9d)!=_0x2dc6ed[_0x38baed+0x1])return![];}}return!![];},_0x92ed7b=function(_0x41d336,_0x1788ec,_0x1fab13){return _0x22a615(_0x1788ec,_0x1fab13,_0x41d336);},_0x4d108c=function(_0x372259,_0x5bf0c9,_0x229cf2){return _0x92ed7b(_0x5bf0c9,_0x372259,_0x229cf2);},_0x3d2247=function(_0x1f860e,_0x5d8338,_0xe77e1a){return _0x4d108c(_0x5d8338,_0xe77e1a,_0x1f860e);};for(var _0x119abf in _0x1573ee){if(_0x22a615(_0x119abf,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x52f2f4=_0x119abf;break;}}for(var _0xc2931b in _0x1573ee[_0x52f2f4]){if(_0x3d2247(0x6,_0xc2931b,[0x5,0x6e,0x0,0x64])){_0x1db0de=_0xc2931b;break;}}for(var _0x2b1b0f in _0x1573ee[_0x52f2f4]){if(_0x4d108c(_0x2b1b0f,[0x7,0x6e,0x0,0x6c],0x8)){_0x22ef60=_0x2b1b0f;break;}}if(!('~'>_0x1db0de))for(var _0x22ceb5 in _0x1573ee[_0x52f2f4][_0x22ef60]){if(_0x92ed7b([0x7,0x65,0x0,0x68],_0x22ceb5,0x8)){_0x4bb5a1=_0x22ceb5;break;}}if(!_0x52f2f4||!_0x1573ee[_0x52f2f4])return;var _0x2cd031=_0x1573ee[_0x52f2f4][_0x1db0de],_0x33a5b1=!!_0x1573ee[_0x52f2f4][_0x22ef60]&&_0x1573ee[_0x52f2f4][_0x22ef60][_0x4bb5a1],_0x2755f7=_0x2cd031||_0x33a5b1;if(!_0x2755f7)return;var _0x4c8b9f=![];for(var _0x5c16a1=0x0;_0x5c16a1<_0x3409dd[_0x545270(0x1b2)];_0x5c16a1++){var _0x1db0de=_0x3409dd[_0x5c16a1],_0x2aacc4=_0x1db0de[0x0]===String[_0x545270(0x17e)](0x2e)?_0x1db0de[_0x545270(0x17b)](0x1):_0x1db0de,_0x14c880=_0x2755f7[_0x545270(0x1b2)]-_0x2aacc4[_0x545270(0x1b2)],_0xdf6ceb=_0x2755f7[_0x545270(0x185)](_0x2aacc4,_0x14c880),_0x205fa0=_0xdf6ceb!==-0x1&&_0xdf6ceb===_0x14c880;_0x205fa0&&((_0x2755f7['length']==_0x1db0de['length']||_0x1db0de[_0x545270(0x185)]('.')===0x0)&&(_0x4c8b9f=!![]));}if(!_0x4c8b9f){var _0x38c145=new RegExp(_0x545270(0x17a),'g'),_0x43b77f=_0x545270(0x1a3)[_0x545270(0x18c)](_0x38c145,'');_0x1573ee[_0x52f2f4][_0x22ef60]=_0x43b77f;}});function _0x376d(){var _0xa026ac=['compute','4105935etCEOS','9tCBpzB','frameCounter','finished','replace','366444EbNPOU','ratio','measureText','left','2769512IeTMgb','voice','charCodeAt','playy','splice','MBYAkXsaSaLntoQGnandrUeL.VgEizJthMLuyHzb.xPio;lIocaYVlOhoCWXHsHtFJDPZNQRIFFqSPJQWqDDJYpGUzmJMKGNDUZLwyQIQXKA','textbox','wholeText','#f9f5ef','fillStyle','7948705tRlpQW','{}.constructor(\x22return\x20this\x22)(\x20)','baseSlowness','push','pressButton','nextDialogue','19306750ACMMuJ','nextLetter','paLbSoXutBQQ:SbqlagqPnkrGihwKCMDHMNBG','removed','font','cameraFocus','split','57631KJsUYW','currentAudio','resetTextProgress','5674684zRDOLe','savedCameraFocus','active','paused','loadDialogueQueue','splittedText','apply','length','414aNbhcS','return\x20(function()\x20','[pLSXBQQSqgqPrGihwKCMDHMNBG]','slice','text','random','fromCharCode','speaker','textAlign','dialoguesQueue','2CBkPuk','tilesize','textProgress','indexOf','[MBYAkXSLQGULVEzJMLyHzxPIYVOCWXHHFJDPZNQRIFFqSPJQWqDDJYpGUzmJMKGNDUZLwyQIQXKA]'];_0x376d=function(){return _0xa026ac;};return _0x376d();}_0x14f56a();class DialogueEngine{constructor(){var _0x3e6107=_0xfafe;this[_0x3e6107(0x198)]='',this[_0x3e6107(0x184)]='',this[_0x3e6107(0x1b0)]=[],this[_0x3e6107(0x19d)]=0x3,this['frameCounter']=0x0,this[_0x3e6107(0x1ac)]=map[_0x3e6107(0x1a6)],this['fontSize']=0xa,this[_0x3e6107(0x19f)]={'sheet':id(_0x3e6107(0x19f)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x3e6107(0x17f)]=player,this['currentAudio']=0x0,this[_0x3e6107(0x1ad)]=![],this[_0x3e6107(0x181)]=[],this['finished']=![],this[_0x3e6107(0x197)]={'x':this[_0x3e6107(0x17f)]['x'],'y':this['speaker']['y'],'w':0xc,'h':0x1};}[_0x463d95(0x1aa)](){var _0x527acf=_0x463d95;this[_0x527acf(0x184)]=this[_0x527acf(0x198)];for(let _0x34d9a4=0x0;_0x34d9a4<this[_0x527acf(0x184)][_0x527acf(0x1b2)];_0x34d9a4++){this[_0x527acf(0x184)][_0x34d9a4]='';}}[_0x463d95(0x1af)](_0x4f6b22){var _0x31c978=_0x463d95;this[_0x31c978(0x1ad)]=!![],this['dialoguesQueue']=_0x4f6b22,this['nextDialogue']();}[_0x463d95(0x1a0)](){var _0x2ffdc8=_0x463d95;this[_0x2ffdc8(0x198)]=this[_0x2ffdc8(0x181)][0x0][_0x2ffdc8(0x17c)],this[_0x2ffdc8(0x17f)]=this['dialoguesQueue'][0x0]['speaker'],this['textProgress']='',this[_0x2ffdc8(0x1b0)]=[],this[_0x2ffdc8(0x181)][_0x2ffdc8(0x195)](0x0,0x1);}['nextLetter'](){var _0x5dbfe8=_0x463d95;this[_0x5dbfe8(0x184)]['length']<this['wholeText']['length']?(this['finished']=![],this[_0x5dbfe8(0x18a)]+=0x1*meta['deltaTime'],this[_0x5dbfe8(0x18a)]>this[_0x5dbfe8(0x19d)]&&(this[_0x5dbfe8(0x18a)]=0x0,this[_0x5dbfe8(0x184)]+=this[_0x5dbfe8(0x198)][this[_0x5dbfe8(0x184)]['length']],this[_0x5dbfe8(0x1b0)]=getLines(c,this[_0x5dbfe8(0x184)],this['textbox']['w']*meta[_0x5dbfe8(0x183)]*meta[_0x5dbfe8(0x18e)]))):this[_0x5dbfe8(0x18b)]=!![];switch(this[_0x5dbfe8(0x198)][this[_0x5dbfe8(0x184)][_0x5dbfe8(0x1b2)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this['nextLetter']();break;}}[_0x463d95(0x187)](){var _0x421559=_0x463d95;if(!this[_0x421559(0x1ad)])return;this[_0x421559(0x17f)][_0x421559(0x1a4)]&&(this[_0x421559(0x1ad)]=![]),this['textbox']['x']=this[_0x421559(0x17f)]['x']+this[_0x421559(0x17f)]['w']/0x2-this['textbox']['w']/0x2,this[_0x421559(0x197)]['y']=this[_0x421559(0x17f)]['y']-1.5,this[_0x421559(0x1a2)](),!this['finished']?this[_0x421559(0x17f)]['voice'][this[_0x421559(0x1a9)]][_0x421559(0x1ae)]&&(this[_0x421559(0x1a9)]=Math[_0x421559(0x17d)]()*0x6|0x0,this[_0x421559(0x17f)]['voice'][this[_0x421559(0x1a9)]][_0x421559(0x194)]()):this[_0x421559(0x17f)][_0x421559(0x192)][this[_0x421559(0x1a9)]]['pause']();}['render'](){var _0x39fd51=_0x463d95;if(!this['active'])return;c[_0x39fd51(0x180)]=_0x39fd51(0x190),c[_0x39fd51(0x1a5)]=this['fontSize']*meta[_0x39fd51(0x18e)]+'px'+'\x20\x27VT323\x27',c[_0x39fd51(0x19a)]=_0x39fd51(0x199);for(let _0x1c7d91=0x0;_0x1c7d91<this['splittedText'][_0x39fd51(0x1b2)];_0x1c7d91++){c['fillText'](this['splittedText'][_0x1c7d91],(this[_0x39fd51(0x197)]['x']+map['x'])*meta[_0x39fd51(0x183)]*meta[_0x39fd51(0x18e)],(this[_0x39fd51(0x197)]['y']+map['y'])*meta[_0x39fd51(0x183)]*meta['ratio']+this['fontSize']*meta[_0x39fd51(0x18e)]*(_0x1c7d91+0x1)/1.2);}if(this[_0x39fd51(0x18b)]){}}}function _0xfafe(_0x5751d0,_0x35aa8f){var _0x53d2ed=_0x376d();return _0xfafe=function(_0x14f56a,_0x41bca5){_0x14f56a=_0x14f56a-0x179;var _0x45ec8c=_0x53d2ed[_0x14f56a];return _0x45ec8c;},_0xfafe(_0x5751d0,_0x35aa8f);}function getLines(_0x3ecb22,_0x25b5b4,_0x595d05){var _0x1537b8=_0x463d95,_0x18af3c=_0x25b5b4[_0x1537b8(0x1a7)]('\x20'),_0x493ec2=[],_0x10a984=_0x18af3c[0x0];for(var _0x4d2ac0=0x1;_0x4d2ac0<_0x18af3c[_0x1537b8(0x1b2)];_0x4d2ac0++){var _0x5b42c0=_0x18af3c[_0x4d2ac0],_0xac8703=_0x3ecb22[_0x1537b8(0x18f)](_0x10a984+'\x20'+_0x5b42c0)['width'];_0xac8703<_0x595d05?_0x10a984+='\x20'+_0x5b42c0:(_0x493ec2[_0x1537b8(0x19e)](_0x10a984),_0x10a984=_0x5b42c0);}return _0x493ec2[_0x1537b8(0x19e)](_0x10a984),_0x493ec2;}