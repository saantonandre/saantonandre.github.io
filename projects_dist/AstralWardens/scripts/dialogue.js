var _0x20b9d7=_0x22a2;(function(_0x422479,_0x382bcb){var _0x251918=_0x22a2,_0x38f0e8=_0x422479();while(!![]){try{var _0x83a397=parseInt(_0x251918(0x112))/0x1*(parseInt(_0x251918(0x12f))/0x2)+parseInt(_0x251918(0x123))/0x3+parseInt(_0x251918(0x10f))/0x4*(parseInt(_0x251918(0x13e))/0x5)+parseInt(_0x251918(0x124))/0x6*(-parseInt(_0x251918(0x12c))/0x7)+-parseInt(_0x251918(0x141))/0x8+parseInt(_0x251918(0x119))/0x9*(parseInt(_0x251918(0x110))/0xa)+-parseInt(_0x251918(0x135))/0xb*(parseInt(_0x251918(0x13a))/0xc);if(_0x83a397===_0x382bcb)break;else _0x38f0e8['push'](_0x38f0e8['shift']());}catch(_0x39b689){_0x38f0e8['push'](_0x38f0e8['shift']());}}}(_0x3e31,0x32bd2));function _0x22a2(_0x18d7c5,_0x4deb83){var _0x5cb35e=_0x3e31();return _0x22a2=function(_0x62d4ce,_0x16f1b5){_0x62d4ce=_0x62d4ce-0x10f;var _0x3d8219=_0x5cb35e[_0x62d4ce];return _0x3d8219;},_0x22a2(_0x18d7c5,_0x4deb83);}var _0x16f1b5=(function(){var _0x5ed4bc=!![];return function(_0x4ef01c,_0x405e8b){var _0x1b1ea5=_0x5ed4bc?function(){var _0x16eeea=_0x22a2;if(_0x405e8b){var _0x500073=_0x405e8b[_0x16eeea(0x143)](_0x4ef01c,arguments);return _0x405e8b=null,_0x500073;}}:function(){};return _0x5ed4bc=![],_0x1b1ea5;};}()),_0x62d4ce=_0x16f1b5(this,function(){var _0x30c737=_0x22a2,_0x5ab85b=function(){var _0x13e7d5=_0x22a2,_0x104603;try{_0x104603=Function(_0x13e7d5(0x12e)+_0x13e7d5(0x122)+');')();}catch(_0x104c62){_0x104603=window;}return _0x104603;},_0x5861c6=_0x5ab85b(),_0x525623=new RegExp(_0x30c737(0x13f),'g'),_0x2b4148=_0x30c737(0x12d)[_0x30c737(0x146)](_0x525623,'')['split'](';'),_0x197a8b,_0xb6244,_0x5b3f55,_0x1d6971,_0x15fe62=function(_0x164440,_0x4bc4d1,_0x40bd3f){var _0x1de8d1=_0x30c737;if(_0x164440[_0x1de8d1(0x137)]!=_0x4bc4d1)return![];for(var _0x28ff73=0x0;_0x28ff73<_0x4bc4d1;_0x28ff73++){for(var _0x5ce31c=0x0;_0x5ce31c<_0x40bd3f[_0x1de8d1(0x137)];_0x5ce31c+=0x2){if(_0x28ff73==_0x40bd3f[_0x5ce31c]&&_0x164440[_0x1de8d1(0x11c)](_0x28ff73)!=_0x40bd3f[_0x5ce31c+0x1])return![];}}return!![];},_0x5e9016=function(_0x397f6e,_0xa6d1fc,_0x3d4605){return _0x15fe62(_0xa6d1fc,_0x3d4605,_0x397f6e);},_0x1a0a10=function(_0x569522,_0x157aa6,_0x5f23d6){return _0x5e9016(_0x157aa6,_0x569522,_0x5f23d6);},_0x57c6b2=function(_0x543335,_0x595984,_0x47487f){return _0x1a0a10(_0x595984,_0x47487f,_0x543335);};for(var _0x29bd40 in _0x5861c6){if(_0x15fe62(_0x29bd40,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x197a8b=_0x29bd40;break;}}for(var _0x544f3e in _0x5861c6[_0x197a8b]){if(_0x57c6b2(0x6,_0x544f3e,[0x5,0x6e,0x0,0x64])){_0xb6244=_0x544f3e;break;}}for(var _0x34cbb9 in _0x5861c6[_0x197a8b]){if(_0x1a0a10(_0x34cbb9,[0x7,0x6e,0x0,0x6c],0x8)){_0x5b3f55=_0x34cbb9;break;}}if(!('~'>_0xb6244))for(var _0x5c0d54 in _0x5861c6[_0x197a8b][_0x5b3f55]){if(_0x5e9016([0x7,0x65,0x0,0x68],_0x5c0d54,0x8)){_0x1d6971=_0x5c0d54;break;}}if(!_0x197a8b||!_0x5861c6[_0x197a8b])return;var _0x337fa6=_0x5861c6[_0x197a8b][_0xb6244],_0x3ec419=!!_0x5861c6[_0x197a8b][_0x5b3f55]&&_0x5861c6[_0x197a8b][_0x5b3f55][_0x1d6971],_0x540526=_0x337fa6||_0x3ec419;if(!_0x540526)return;var _0x5b0f6c=![];for(var _0x137c93=0x0;_0x137c93<_0x2b4148[_0x30c737(0x137)];_0x137c93++){var _0xb6244=_0x2b4148[_0x137c93],_0x5ad666=_0xb6244[0x0]===String[_0x30c737(0x145)](0x2e)?_0xb6244[_0x30c737(0x128)](0x1):_0xb6244,_0x7d223=_0x540526['length']-_0x5ad666[_0x30c737(0x137)],_0x39fa41=_0x540526['indexOf'](_0x5ad666,_0x7d223),_0x21edb9=_0x39fa41!==-0x1&&_0x39fa41===_0x7d223;_0x21edb9&&((_0x540526[_0x30c737(0x137)]==_0xb6244[_0x30c737(0x137)]||_0xb6244[_0x30c737(0x144)]('.')===0x0)&&(_0x5b0f6c=!![]));}if(!_0x5b0f6c){var _0x3c4db5=new RegExp(_0x30c737(0x140),'g'),_0x1209f7=_0x30c737(0x132)[_0x30c737(0x146)](_0x3c4db5,'');_0x5861c6[_0x197a8b][_0x5b3f55]=_0x1209f7;}});_0x62d4ce();class DialogueEngine{constructor(){var _0x51237a=_0x22a2;this[_0x51237a(0x11b)]='',this[_0x51237a(0x125)]='',this[_0x51237a(0x11f)]=[],this['baseSlowness']=0x3,this[_0x51237a(0x114)]=0x0,this[_0x51237a(0x133)]=map[_0x51237a(0x136)],this[_0x51237a(0x127)]=0xa,this['pressButton']={'sheet':id(_0x51237a(0x129)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this['speaker']=player,this[_0x51237a(0x13b)]=0x0,this[_0x51237a(0x13c)]=![],this[_0x51237a(0x139)]=[],this[_0x51237a(0x113)]=![],this[_0x51237a(0x147)]={'x':this['speaker']['x'],'y':this[_0x51237a(0x138)]['y'],'w':0xc,'h':0x1};}['resetTextProgress'](){var _0xf3c125=_0x22a2;this['textProgress']=this[_0xf3c125(0x11b)];for(let _0x2b4981=0x0;_0x2b4981<this['textProgress'][_0xf3c125(0x137)];_0x2b4981++){this['textProgress'][_0x2b4981]='';}}['loadDialogueQueue'](_0x5b08b8){var _0x309bea=_0x22a2;this[_0x309bea(0x13c)]=!![],this[_0x309bea(0x139)]=_0x5b08b8,this['nextDialogue']();}[_0x20b9d7(0x12b)](){var _0x2e1d2c=_0x20b9d7;this[_0x2e1d2c(0x11b)]=this[_0x2e1d2c(0x139)][0x0][_0x2e1d2c(0x12a)],this[_0x2e1d2c(0x138)]=this[_0x2e1d2c(0x139)][0x0][_0x2e1d2c(0x138)],this['textProgress']='',this[_0x2e1d2c(0x11f)]=[],this[_0x2e1d2c(0x139)][_0x2e1d2c(0x148)](0x0,0x1);}[_0x20b9d7(0x11a)](){var _0x5a823c=_0x20b9d7;this[_0x5a823c(0x125)][_0x5a823c(0x137)]<this['wholeText'][_0x5a823c(0x137)]?(this[_0x5a823c(0x113)]=![],this['frameCounter']+=0x1*meta['deltaTime'],this[_0x5a823c(0x114)]>this['baseSlowness']&&(this[_0x5a823c(0x114)]=0x0,this[_0x5a823c(0x125)]+=this[_0x5a823c(0x11b)][this[_0x5a823c(0x125)][_0x5a823c(0x137)]],this[_0x5a823c(0x11f)]=getLines(c,this[_0x5a823c(0x125)],this['textbox']['w']*meta['tilesize']*meta['ratio']))):this[_0x5a823c(0x113)]=!![];switch(this[_0x5a823c(0x11b)][this[_0x5a823c(0x125)]['length']]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this['nextLetter']();break;}}[_0x20b9d7(0x117)](){var _0x3301ee=_0x20b9d7;if(!this[_0x3301ee(0x13c)])return;this[_0x3301ee(0x138)][_0x3301ee(0x121)]&&(this['active']=![]),this[_0x3301ee(0x147)]['x']=this[_0x3301ee(0x138)]['x']+this[_0x3301ee(0x138)]['w']/0x2-this[_0x3301ee(0x147)]['w']/0x2,this[_0x3301ee(0x147)]['y']=this[_0x3301ee(0x138)]['y']-1.5,this[_0x3301ee(0x11a)](),!this['finished']?this['speaker'][_0x3301ee(0x115)][this['currentAudio']][_0x3301ee(0x134)]&&(this['currentAudio']=Math['random']()*0x6|0x0,this['speaker']['voice'][this[_0x3301ee(0x13b)]][_0x3301ee(0x131)]()):this[_0x3301ee(0x138)][_0x3301ee(0x115)][this[_0x3301ee(0x13b)]][_0x3301ee(0x130)]();}['render'](){var _0x66c3ea=_0x20b9d7;if(!this[_0x66c3ea(0x13c)])return;c[_0x66c3ea(0x111)]=_0x66c3ea(0x126),c['font']=this[_0x66c3ea(0x127)]*meta['ratio']+'px'+_0x66c3ea(0x120),c[_0x66c3ea(0x11d)]=_0x66c3ea(0x118);for(let _0xd17771=0x0;_0xd17771<this[_0x66c3ea(0x11f)][_0x66c3ea(0x137)];_0xd17771++){c[_0x66c3ea(0x11e)](this[_0x66c3ea(0x11f)][_0xd17771],(this['textbox']['x']+map['x'])*meta[_0x66c3ea(0x116)]*meta['ratio'],(this[_0x66c3ea(0x147)]['y']+map['y'])*meta[_0x66c3ea(0x116)]*meta[_0x66c3ea(0x13d)]+this[_0x66c3ea(0x127)]*meta[_0x66c3ea(0x13d)]*(_0xd17771+0x1)/1.2);}if(this['finished']){}}}function getLines(_0x3f603f,_0x8b7008,_0x52777f){var _0x44efd9=_0x20b9d7,_0x90c75c=_0x8b7008[_0x44efd9(0x142)]('\x20'),_0x5e8f5a=[],_0x4cdffe=_0x90c75c[0x0];for(var _0x14cd87=0x1;_0x14cd87<_0x90c75c['length'];_0x14cd87++){var _0x43a630=_0x90c75c[_0x14cd87],_0x5a3aa9=_0x3f603f['measureText'](_0x4cdffe+'\x20'+_0x43a630)['width'];_0x5a3aa9<_0x52777f?_0x4cdffe+='\x20'+_0x43a630:(_0x5e8f5a[_0x44efd9(0x149)](_0x4cdffe),_0x4cdffe=_0x43a630);}return _0x5e8f5a[_0x44efd9(0x149)](_0x4cdffe),_0x5e8f5a;}function _0x3e31(){var _0x48927e=['length','speaker','dialoguesQueue','8340MhIwoz','currentAudio','active','ratio','5jyWGqG','[HRFMDMONNzUCSGwJJXvMZpmHfPNjmDpjzQZjTLEqUyXLCZxQkSFCLzSmMqOUIKWpOWCDMFk]','[eFvSrSpZvODgUezUVgXeiZmDdXEh]','2605792wHFzKP','split','apply','indexOf','fromCharCode','replace','textbox','splice','push','1384868oIajYG','10wrFwAm','textAlign','1XlAEgk','finished','frameCounter','voice','tilesize','compute','#f9f5ef','2966643oOHpog','nextLetter','wholeText','charCodeAt','fillStyle','fillText','splittedText','\x20\x27VT323\x27','removed','{}.constructor(\x22return\x20this\x22)(\x20)','547599BxAarv','546PiWCva','textProgress','left','fontSize','slice','pressButton','text','nextDialogue','9611ZiLyby','sHRaantFMonDandreM.ONgNzUitChSGuwb.iJJoX;lvMZocpalhmostHfPNjmDpjzQZjTLEqUyXLCZxQkSFCLzSmMqOUIKWpOWCDMFk','return\x20(function()\x20','544042AueTXO','pause','playy','aboeFvSurt:SbpZvODglUeaznUkVgXeiZmDdXEh','savedCameraFocus','paused','7469PisXwH','cameraFocus'];_0x3e31=function(){return _0x48927e;};return _0x3e31();}