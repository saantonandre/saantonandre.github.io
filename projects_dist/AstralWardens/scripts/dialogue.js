var _0x17856f=_0x3e42;function _0x41c6(){var _0x223230=['text','9iGeFer','4659284jaMwcB','splittedText','apply','width','ratio','nextLetter','18350vWEjKa','charCodeAt','93516FuqxIv','indexOf','loadDialogueQueue','measureText','paused','font','active','left','1092AjNjpJ','push','fillText','voice','nextDialogue','fontSize','wholeText','7458408SluOdC','savedCameraFocus','playy','6oTBlSC','\x20\x27VT323\x27','627Riqtao','cameraFocus','currentAudio','fromCharCode','6unElhy','speaker','finished','dialoguesQueue','textProgress','750501hmVaBB','pressButton','baseSlowness','[ieIEfAfQQcNeFxYSzEIgOFDmAIe]','1377140oiyJVN','render','textAlign','tilesize','textbox','deltaTime','length','iabeoutI:blEfAanfQQcNkeFxYSzEIgOFDmAIe','replace','split','frameCounter','pause','230421rGszHw','xjBDTsaxMManmtAoMINWRpEnDMaDSnOIdrNe.gSjiCNthuIb.iHLo;lNBocaElAyhoCsxtLzwUCYRVfRMvPqAxJmxymfWpSqHNVjA'];_0x41c6=function(){return _0x223230;};return _0x41c6();}function _0x3e42(_0x3d4cbc,_0x2b0f34){var _0x1422e6=_0x41c6();return _0x3e42=function(_0x5b4986,_0xa45444){_0x5b4986=_0x5b4986-0x107;var _0x1161f3=_0x1422e6[_0x5b4986];return _0x1161f3;},_0x3e42(_0x3d4cbc,_0x2b0f34);}(function(_0x2e549f,_0x49171c){var _0x4747d5=_0x3e42,_0x516a38=_0x2e549f();while(!![]){try{var _0x5a7c5f=-parseInt(_0x4747d5(0x12b))/0x1+parseInt(_0x4747d5(0x110))/0x2*(parseInt(_0x4747d5(0x11b))/0x3)+parseInt(_0x4747d5(0x13f))/0x4*(parseInt(_0x4747d5(0x135))/0x5)+-parseInt(_0x4747d5(0x116))/0x6*(parseInt(_0x4747d5(0x12f))/0x7)+-parseInt(_0x4747d5(0x10d))/0x8*(parseInt(_0x4747d5(0x12e))/0x9)+parseInt(_0x4747d5(0x11f))/0xa+parseInt(_0x4747d5(0x112))/0xb*(parseInt(_0x4747d5(0x137))/0xc);if(_0x5a7c5f===_0x49171c)break;else _0x516a38['push'](_0x516a38['shift']());}catch(_0x27d7ca){_0x516a38['push'](_0x516a38['shift']());}}}(_0x41c6,0x7b888));var _0xa45444=(function(){var _0x35f4d2=!![];return function(_0x28f48b,_0x7e359b){var _0x2e5855=_0x35f4d2?function(){var _0x38822c=_0x3e42;if(_0x7e359b){var _0x16532c=_0x7e359b[_0x38822c(0x131)](_0x28f48b,arguments);return _0x7e359b=null,_0x16532c;}}:function(){};return _0x35f4d2=![],_0x2e5855;};}()),_0x5b4986=_0xa45444(this,function(){var _0x31c9f8=_0x3e42,_0x2de0ff=function(){var _0xe75b4c;try{_0xe75b4c=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1e90dd){_0xe75b4c=window;}return _0xe75b4c;},_0x330221=_0x2de0ff(),_0x112038=new RegExp('[xjBDTxMMmAMINWRpEDMDSOINSjCNIHLNBEAyCxLzwUCYRVfRMvPqAxJmxymfWpSqHNVjA]','g'),_0x1c7579=_0x31c9f8(0x12c)[_0x31c9f8(0x127)](_0x112038,'')[_0x31c9f8(0x128)](';'),_0x520a0f,_0x3c5898,_0x7400ab,_0x34c925,_0x581c8c=function(_0x26cf6c,_0x3437f5,_0x3871d9){var _0x25ba84=_0x31c9f8;if(_0x26cf6c[_0x25ba84(0x125)]!=_0x3437f5)return![];for(var _0x316efa=0x0;_0x316efa<_0x3437f5;_0x316efa++){for(var _0xe0b4d4=0x0;_0xe0b4d4<_0x3871d9[_0x25ba84(0x125)];_0xe0b4d4+=0x2){if(_0x316efa==_0x3871d9[_0xe0b4d4]&&_0x26cf6c[_0x25ba84(0x136)](_0x316efa)!=_0x3871d9[_0xe0b4d4+0x1])return![];}}return!![];},_0x685077=function(_0x3e4712,_0x288ef1,_0x281a32){return _0x581c8c(_0x288ef1,_0x281a32,_0x3e4712);},_0x43163f=function(_0x17a498,_0x1948a0,_0x57709d){return _0x685077(_0x1948a0,_0x17a498,_0x57709d);},_0x39284f=function(_0x4a1b67,_0x357204,_0x2068c2){return _0x43163f(_0x357204,_0x2068c2,_0x4a1b67);};for(var _0x569257 in _0x330221){if(_0x581c8c(_0x569257,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x520a0f=_0x569257;break;}}for(var _0x1ad9c4 in _0x330221[_0x520a0f]){if(_0x39284f(0x6,_0x1ad9c4,[0x5,0x6e,0x0,0x64])){_0x3c5898=_0x1ad9c4;break;}}for(var _0x1966fe in _0x330221[_0x520a0f]){if(_0x43163f(_0x1966fe,[0x7,0x6e,0x0,0x6c],0x8)){_0x7400ab=_0x1966fe;break;}}if(!('~'>_0x3c5898))for(var _0x4a97f5 in _0x330221[_0x520a0f][_0x7400ab]){if(_0x685077([0x7,0x65,0x0,0x68],_0x4a97f5,0x8)){_0x34c925=_0x4a97f5;break;}}if(!_0x520a0f||!_0x330221[_0x520a0f])return;var _0x873d63=_0x330221[_0x520a0f][_0x3c5898],_0x40e046=!!_0x330221[_0x520a0f][_0x7400ab]&&_0x330221[_0x520a0f][_0x7400ab][_0x34c925],_0x17146a=_0x873d63||_0x40e046;if(!_0x17146a)return;var _0x395763=![];for(var _0x3242b4=0x0;_0x3242b4<_0x1c7579[_0x31c9f8(0x125)];_0x3242b4++){var _0x3c5898=_0x1c7579[_0x3242b4],_0x598819=_0x3c5898[0x0]===String[_0x31c9f8(0x115)](0x2e)?_0x3c5898['slice'](0x1):_0x3c5898,_0x208d2b=_0x17146a[_0x31c9f8(0x125)]-_0x598819[_0x31c9f8(0x125)],_0x4925c6=_0x17146a[_0x31c9f8(0x138)](_0x598819,_0x208d2b),_0x4c765a=_0x4925c6!==-0x1&&_0x4925c6===_0x208d2b;_0x4c765a&&((_0x17146a[_0x31c9f8(0x125)]==_0x3c5898[_0x31c9f8(0x125)]||_0x3c5898['indexOf']('.')===0x0)&&(_0x395763=!![]));}if(!_0x395763){var _0x1cbf3a=new RegExp(_0x31c9f8(0x11e),'g'),_0x32c754=_0x31c9f8(0x126)[_0x31c9f8(0x127)](_0x1cbf3a,'');_0x330221[_0x520a0f][_0x7400ab]=_0x32c754;}});_0x5b4986();class DialogueEngine{constructor(){var _0x65b91c=_0x3e42;this['wholeText']='',this[_0x65b91c(0x11a)]='',this['splittedText']=[],this[_0x65b91c(0x11d)]=0x3,this[_0x65b91c(0x129)]=0x0,this[_0x65b91c(0x10e)]=map[_0x65b91c(0x113)],this[_0x65b91c(0x10b)]=0xa,this[_0x65b91c(0x11c)]={'sheet':id(_0x65b91c(0x11c)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x65b91c(0x117)]=player,this[_0x65b91c(0x114)]=0x0,this[_0x65b91c(0x13d)]=![],this[_0x65b91c(0x119)]=[],this['finished']=![],this[_0x65b91c(0x123)]={'x':this[_0x65b91c(0x117)]['x'],'y':this[_0x65b91c(0x117)]['y'],'w':0xc,'h':0x1};}['resetTextProgress'](){var _0x529913=_0x3e42;this[_0x529913(0x11a)]=this['wholeText'];for(let _0x47ef82=0x0;_0x47ef82<this['textProgress'][_0x529913(0x125)];_0x47ef82++){this[_0x529913(0x11a)][_0x47ef82]='';}}[_0x17856f(0x139)](_0x59816e){var _0x160c1f=_0x17856f;this[_0x160c1f(0x13d)]=!![],this[_0x160c1f(0x119)]=_0x59816e,this[_0x160c1f(0x10a)]();}[_0x17856f(0x10a)](){var _0x2f93f6=_0x17856f;this[_0x2f93f6(0x10c)]=this['dialoguesQueue'][0x0][_0x2f93f6(0x12d)],this[_0x2f93f6(0x117)]=this[_0x2f93f6(0x119)][0x0][_0x2f93f6(0x117)],this[_0x2f93f6(0x11a)]='',this[_0x2f93f6(0x130)]=[],this[_0x2f93f6(0x119)]['splice'](0x0,0x1);}[_0x17856f(0x134)](){var _0x20abeb=_0x17856f;this[_0x20abeb(0x11a)][_0x20abeb(0x125)]<this[_0x20abeb(0x10c)][_0x20abeb(0x125)]?(this[_0x20abeb(0x118)]=![],this[_0x20abeb(0x129)]+=0x1*meta[_0x20abeb(0x124)],this['frameCounter']>this[_0x20abeb(0x11d)]&&(this['frameCounter']=0x0,this[_0x20abeb(0x11a)]+=this[_0x20abeb(0x10c)][this[_0x20abeb(0x11a)][_0x20abeb(0x125)]],this[_0x20abeb(0x130)]=getLines(c,this[_0x20abeb(0x11a)],this[_0x20abeb(0x123)]['w']*meta[_0x20abeb(0x122)]*meta[_0x20abeb(0x133)]))):this[_0x20abeb(0x118)]=!![];switch(this[_0x20abeb(0x10c)][this[_0x20abeb(0x11a)]['length']]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x20abeb(0x134)]();break;}}['compute'](){var _0x3213b1=_0x17856f;if(!this[_0x3213b1(0x13d)])return;this[_0x3213b1(0x117)]['removed']&&(this['active']=![]),this['textbox']['x']=this[_0x3213b1(0x117)]['x']+this['speaker']['w']/0x2-this[_0x3213b1(0x123)]['w']/0x2,this[_0x3213b1(0x123)]['y']=this['speaker']['y']-1.5,this['nextLetter'](),!this[_0x3213b1(0x118)]?this[_0x3213b1(0x117)]['voice'][this[_0x3213b1(0x114)]][_0x3213b1(0x13b)]&&(this[_0x3213b1(0x114)]=Math['random']()*0x6|0x0,this[_0x3213b1(0x117)]['voice'][this[_0x3213b1(0x114)]][_0x3213b1(0x10f)]()):this['speaker'][_0x3213b1(0x109)][this[_0x3213b1(0x114)]][_0x3213b1(0x12a)]();}[_0x17856f(0x120)](){var _0x6b4a8a=_0x17856f;if(!this[_0x6b4a8a(0x13d)])return;c[_0x6b4a8a(0x121)]=_0x6b4a8a(0x13e),c[_0x6b4a8a(0x13c)]=this[_0x6b4a8a(0x10b)]*meta[_0x6b4a8a(0x133)]+'px'+_0x6b4a8a(0x111),c['fillStyle']='#f9f5ef';for(let _0x1d21e5=0x0;_0x1d21e5<this[_0x6b4a8a(0x130)][_0x6b4a8a(0x125)];_0x1d21e5++){c[_0x6b4a8a(0x108)](this[_0x6b4a8a(0x130)][_0x1d21e5],(this[_0x6b4a8a(0x123)]['x']+map['x'])*meta[_0x6b4a8a(0x122)]*meta['ratio'],(this[_0x6b4a8a(0x123)]['y']+map['y'])*meta[_0x6b4a8a(0x122)]*meta['ratio']+this[_0x6b4a8a(0x10b)]*meta[_0x6b4a8a(0x133)]*(_0x1d21e5+0x1)/1.2);}if(this['finished']){}}}function getLines(_0x448b9a,_0x2cd448,_0x40b2eb){var _0x4bf9ab=_0x17856f,_0x5bd8c4=_0x2cd448['split']('\x20'),_0x669cac=[],_0xb9e50c=_0x5bd8c4[0x0];for(var _0x3379ae=0x1;_0x3379ae<_0x5bd8c4['length'];_0x3379ae++){var _0x2314e3=_0x5bd8c4[_0x3379ae],_0x3ccaa9=_0x448b9a[_0x4bf9ab(0x13a)](_0xb9e50c+'\x20'+_0x2314e3)[_0x4bf9ab(0x132)];_0x3ccaa9<_0x40b2eb?_0xb9e50c+='\x20'+_0x2314e3:(_0x669cac[_0x4bf9ab(0x107)](_0xb9e50c),_0xb9e50c=_0x2314e3);}return _0x669cac['push'](_0xb9e50c),_0x669cac;}