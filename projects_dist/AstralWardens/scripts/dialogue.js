var _0x30a9bd=_0x1eeb;function _0x1eeb(_0x2f7d0c,_0x458da0){var _0x1f0765=_0x267d();return _0x1eeb=function(_0x8199e7,_0x39e8f4){_0x8199e7=_0x8199e7-0x147;var _0x37f4be=_0x1f0765[_0x8199e7];return _0x37f4be;},_0x1eeb(_0x2f7d0c,_0x458da0);}(function(_0x4c0d62,_0x188eec){var _0x7f1d18=_0x1eeb,_0x5ac3bf=_0x4c0d62();while(!![]){try{var _0x16705b=-parseInt(_0x7f1d18(0x177))/0x1*(parseInt(_0x7f1d18(0x160))/0x2)+-parseInt(_0x7f1d18(0x16e))/0x3+-parseInt(_0x7f1d18(0x16b))/0x4*(-parseInt(_0x7f1d18(0x15b))/0x5)+-parseInt(_0x7f1d18(0x149))/0x6*(-parseInt(_0x7f1d18(0x161))/0x7)+-parseInt(_0x7f1d18(0x173))/0x8+-parseInt(_0x7f1d18(0x150))/0x9+-parseInt(_0x7f1d18(0x148))/0xa*(-parseInt(_0x7f1d18(0x154))/0xb);if(_0x16705b===_0x188eec)break;else _0x5ac3bf['push'](_0x5ac3bf['shift']());}catch(_0x5a2db1){_0x5ac3bf['push'](_0x5ac3bf['shift']());}}}(_0x267d,0x3c8d1));var _0x39e8f4=(function(){var _0x3052c6=!![];return function(_0x1e9fda,_0x1d8a3c){var _0x1a05ce=_0x3052c6?function(){var _0x4645dc=_0x1eeb;if(_0x1d8a3c){var _0x341dad=_0x1d8a3c[_0x4645dc(0x153)](_0x1e9fda,arguments);return _0x1d8a3c=null,_0x341dad;}}:function(){};return _0x3052c6=![],_0x1a05ce;};}()),_0x8199e7=_0x39e8f4(this,function(){var _0x4b1508=_0x1eeb,_0x598569=function(){var _0x12edf5=_0x1eeb,_0x3482a4;try{_0x3482a4=Function(_0x12edf5(0x180)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3b0011){_0x3482a4=window;}return _0x3482a4;},_0x2b750e=_0x598569(),_0x5579d5=new RegExp(_0x4b1508(0x170),'g'),_0x2ce821=_0x4b1508(0x176)[_0x4b1508(0x152)](_0x5579d5,'')[_0x4b1508(0x165)](';'),_0x1a8d45,_0x54ec01,_0x35b783,_0x331357,_0x497f4c=function(_0x3c3844,_0x1c7330,_0x5daea2){var _0x2f4907=_0x4b1508;if(_0x3c3844[_0x2f4907(0x155)]!=_0x1c7330)return![];for(var _0x3c46d5=0x0;_0x3c46d5<_0x1c7330;_0x3c46d5++){for(var _0x154a0f=0x0;_0x154a0f<_0x5daea2[_0x2f4907(0x155)];_0x154a0f+=0x2){if(_0x3c46d5==_0x5daea2[_0x154a0f]&&_0x3c3844[_0x2f4907(0x172)](_0x3c46d5)!=_0x5daea2[_0x154a0f+0x1])return![];}}return!![];},_0x235328=function(_0x1d06d5,_0x219132,_0x5e49db){return _0x497f4c(_0x219132,_0x5e49db,_0x1d06d5);},_0xe472a5=function(_0x28dab0,_0x15f312,_0xf2d6a5){return _0x235328(_0x15f312,_0x28dab0,_0xf2d6a5);},_0x1b4f57=function(_0x5c62f4,_0x26d1ea,_0x5c9bd1){return _0xe472a5(_0x26d1ea,_0x5c9bd1,_0x5c62f4);};for(var _0x1dcc9b in _0x2b750e){if(_0x497f4c(_0x1dcc9b,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1a8d45=_0x1dcc9b;break;}}for(var _0x344570 in _0x2b750e[_0x1a8d45]){if(_0x1b4f57(0x6,_0x344570,[0x5,0x6e,0x0,0x64])){_0x54ec01=_0x344570;break;}}for(var _0x40d73b in _0x2b750e[_0x1a8d45]){if(_0xe472a5(_0x40d73b,[0x7,0x6e,0x0,0x6c],0x8)){_0x35b783=_0x40d73b;break;}}if(!('~'>_0x54ec01))for(var _0xdfa99b in _0x2b750e[_0x1a8d45][_0x35b783]){if(_0x235328([0x7,0x65,0x0,0x68],_0xdfa99b,0x8)){_0x331357=_0xdfa99b;break;}}if(!_0x1a8d45||!_0x2b750e[_0x1a8d45])return;var _0x31437f=_0x2b750e[_0x1a8d45][_0x54ec01],_0x2b196a=!!_0x2b750e[_0x1a8d45][_0x35b783]&&_0x2b750e[_0x1a8d45][_0x35b783][_0x331357],_0x351302=_0x31437f||_0x2b196a;if(!_0x351302)return;var _0x5065bf=![];for(var _0x5cc52f=0x0;_0x5cc52f<_0x2ce821[_0x4b1508(0x155)];_0x5cc52f++){var _0x54ec01=_0x2ce821[_0x5cc52f],_0x133c7a=_0x54ec01[0x0]===String['fromCharCode'](0x2e)?_0x54ec01[_0x4b1508(0x17f)](0x1):_0x54ec01,_0x5c4c12=_0x351302[_0x4b1508(0x155)]-_0x133c7a[_0x4b1508(0x155)],_0x447c0d=_0x351302[_0x4b1508(0x16f)](_0x133c7a,_0x5c4c12),_0x20a8bf=_0x447c0d!==-0x1&&_0x447c0d===_0x5c4c12;_0x20a8bf&&((_0x351302[_0x4b1508(0x155)]==_0x54ec01[_0x4b1508(0x155)]||_0x54ec01[_0x4b1508(0x16f)]('.')===0x0)&&(_0x5065bf=!![]));}if(!_0x5065bf){var _0x921a52=new RegExp('[JLyVPqeWgcJZOmKmiBULfPvXIpmCxSVA]','g'),_0x2576ea=_0x4b1508(0x178)[_0x4b1508(0x152)](_0x921a52,'');_0x2b750e[_0x1a8d45][_0x35b783]=_0x2576ea;}});function _0x267d(){var _0x58b50b=['1062156UBsOYa','indexOf','[EXkvzMNJypPWyvETUpKQDRGQKXQTkEVjUSTHkWfJNUMVCDVTNmKJDHFWUqNMSZHGFEHyOSky]','left','charCodeAt','2422840zDbSmv','deltaTime','nextDialogue','EsXakanvzMNtJoynpPandWyvETre.githuUpKQDRGQbKX.QiTo;lkEoVcaljhUSToHstkWfJNUMVCDVTNmKJDHFWUqNMSZHGFEHyOSky','912qyNjQo','aJboutL:byVlPqaenWgcJZOkmKmiBULfPvXIpmCxSVA','speaker','active','nextLetter','tilesize','text','pause','slice','return\x20(function()\x20','pressButton','6600ADPmOz','690210kKqpbX','frameCounter','splittedText','resetTextProgress','paused','measureText','baseSlowness','851049vlaLIT','textProgress','replace','apply','15378uINMog','length','compute','render','cameraFocus','ratio','fillStyle','574745OnMEGS','dialoguesQueue','push','wholeText','finished','588pdUMZN','7RegVee','fillText','loadDialogueQueue','random','split','voice','splice','fontSize','currentAudio','font','8jSnQTe','textbox','\x20\x27VT323\x27'];_0x267d=function(){return _0x58b50b;};return _0x267d();}_0x8199e7();class DialogueEngine{constructor(){var _0x5c65e1=_0x1eeb;this[_0x5c65e1(0x15e)]='',this['textProgress']='',this[_0x5c65e1(0x14b)]=[],this[_0x5c65e1(0x14f)]=0x3,this[_0x5c65e1(0x14a)]=0x0,this['savedCameraFocus']=map[_0x5c65e1(0x158)],this[_0x5c65e1(0x168)]=0xa,this[_0x5c65e1(0x147)]={'sheet':id(_0x5c65e1(0x147)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x5c65e1(0x179)]=player,this[_0x5c65e1(0x169)]=0x0,this[_0x5c65e1(0x17a)]=![],this[_0x5c65e1(0x15c)]=[],this[_0x5c65e1(0x15f)]=![],this[_0x5c65e1(0x16c)]={'x':this[_0x5c65e1(0x179)]['x'],'y':this[_0x5c65e1(0x179)]['y'],'w':0xc,'h':0x1};}[_0x30a9bd(0x14c)](){var _0x4b9725=_0x30a9bd;this[_0x4b9725(0x151)]=this[_0x4b9725(0x15e)];for(let _0x34c797=0x0;_0x34c797<this[_0x4b9725(0x151)][_0x4b9725(0x155)];_0x34c797++){this['textProgress'][_0x34c797]='';}}[_0x30a9bd(0x163)](_0x4656c7){var _0x41f1a8=_0x30a9bd;this[_0x41f1a8(0x17a)]=!![],this['dialoguesQueue']=_0x4656c7,this[_0x41f1a8(0x175)]();}[_0x30a9bd(0x175)](){var _0x5dc17f=_0x30a9bd;this['wholeText']=this[_0x5dc17f(0x15c)][0x0][_0x5dc17f(0x17d)],this['speaker']=this[_0x5dc17f(0x15c)][0x0]['speaker'],this[_0x5dc17f(0x151)]='',this[_0x5dc17f(0x14b)]=[],this[_0x5dc17f(0x15c)][_0x5dc17f(0x167)](0x0,0x1);}[_0x30a9bd(0x17b)](){var _0x22de6b=_0x30a9bd;this[_0x22de6b(0x151)][_0x22de6b(0x155)]<this[_0x22de6b(0x15e)][_0x22de6b(0x155)]?(this['finished']=![],this[_0x22de6b(0x14a)]+=0x1*meta[_0x22de6b(0x174)],this[_0x22de6b(0x14a)]>this[_0x22de6b(0x14f)]&&(this['frameCounter']=0x0,this[_0x22de6b(0x151)]+=this[_0x22de6b(0x15e)][this[_0x22de6b(0x151)][_0x22de6b(0x155)]],this['splittedText']=getLines(c,this[_0x22de6b(0x151)],this['textbox']['w']*meta['tilesize']*meta[_0x22de6b(0x159)]))):this[_0x22de6b(0x15f)]=!![];switch(this[_0x22de6b(0x15e)][this[_0x22de6b(0x151)][_0x22de6b(0x155)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x22de6b(0x17b)]();break;}}[_0x30a9bd(0x156)](){var _0x918906=_0x30a9bd;if(!this[_0x918906(0x17a)])return;this[_0x918906(0x179)]['removed']&&(this[_0x918906(0x17a)]=![]),this['textbox']['x']=this[_0x918906(0x179)]['x']+this['speaker']['w']/0x2-this[_0x918906(0x16c)]['w']/0x2,this[_0x918906(0x16c)]['y']=this[_0x918906(0x179)]['y']-1.5,this[_0x918906(0x17b)](),!this[_0x918906(0x15f)]?this[_0x918906(0x179)][_0x918906(0x166)][this[_0x918906(0x169)]][_0x918906(0x14d)]&&(this[_0x918906(0x169)]=Math[_0x918906(0x164)]()*0x6|0x0,this[_0x918906(0x179)]['voice'][this['currentAudio']]['playy']()):this[_0x918906(0x179)][_0x918906(0x166)][this[_0x918906(0x169)]][_0x918906(0x17e)]();}[_0x30a9bd(0x157)](){var _0xa47f38=_0x30a9bd;if(!this['active'])return;c['textAlign']=_0xa47f38(0x171),c[_0xa47f38(0x16a)]=this['fontSize']*meta[_0xa47f38(0x159)]+'px'+_0xa47f38(0x16d),c[_0xa47f38(0x15a)]='#f9f5ef';for(let _0x436448=0x0;_0x436448<this['splittedText']['length'];_0x436448++){c[_0xa47f38(0x162)](this[_0xa47f38(0x14b)][_0x436448],(this[_0xa47f38(0x16c)]['x']+map['x'])*meta[_0xa47f38(0x17c)]*meta[_0xa47f38(0x159)],(this[_0xa47f38(0x16c)]['y']+map['y'])*meta[_0xa47f38(0x17c)]*meta[_0xa47f38(0x159)]+this[_0xa47f38(0x168)]*meta[_0xa47f38(0x159)]*(_0x436448+0x1)/1.2);}if(this[_0xa47f38(0x15f)]){}}}function getLines(_0x448e42,_0x2cdb79,_0x5db73d){var _0x317413=_0x30a9bd,_0x32d56e=_0x2cdb79['split']('\x20'),_0x3b7830=[],_0x12948e=_0x32d56e[0x0];for(var _0x2e56f2=0x1;_0x2e56f2<_0x32d56e['length'];_0x2e56f2++){var _0x496c59=_0x32d56e[_0x2e56f2],_0x480666=_0x448e42[_0x317413(0x14e)](_0x12948e+'\x20'+_0x496c59)['width'];_0x480666<_0x5db73d?_0x12948e+='\x20'+_0x496c59:(_0x3b7830[_0x317413(0x15d)](_0x12948e),_0x12948e=_0x496c59);}return _0x3b7830['push'](_0x12948e),_0x3b7830;}