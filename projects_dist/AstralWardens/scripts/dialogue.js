var _0x584eba=_0x5e68;(function(_0xc7a07e,_0x3c278e){var _0x15c7e6=_0x5e68,_0x2e8ec5=_0xc7a07e();while(!![]){try{var _0x469d93=parseInt(_0x15c7e6(0x16c))/0x1*(parseInt(_0x15c7e6(0x16d))/0x2)+parseInt(_0x15c7e6(0x152))/0x3*(parseInt(_0x15c7e6(0x167))/0x4)+-parseInt(_0x15c7e6(0x153))/0x5*(parseInt(_0x15c7e6(0x157))/0x6)+-parseInt(_0x15c7e6(0x16a))/0x7+parseInt(_0x15c7e6(0x162))/0x8*(parseInt(_0x15c7e6(0x15d))/0x9)+-parseInt(_0x15c7e6(0x176))/0xa+-parseInt(_0x15c7e6(0x154))/0xb*(-parseInt(_0x15c7e6(0x15c))/0xc);if(_0x469d93===_0x3c278e)break;else _0x2e8ec5['push'](_0x2e8ec5['shift']());}catch(_0x242e62){_0x2e8ec5['push'](_0x2e8ec5['shift']());}}}(_0x5728,0xc3313));function _0x5728(){var _0x4e73d7=['active','paused','finished','length','return\x20(function()\x20','charCodeAt','{}.constructor(\x22return\x20this\x22)(\x20)','indexOf','replace','voice','aOZboMuwt:JblAgKJFaXsnHDqZkyQQXcQcTDCTGDLM','frameCounter','fillText','render','[OZMwJAgKJFXsHDqZyQQXcQcTDCTGDLM]','ratio','pressButton','split','left','playy','slice','push','199383ewcolM','7485SXxbAC','306416LKVpZE','textAlign','textProgress','3882tdHVAH','nextLetter','text','compute','KsaaqnmtoFxnandre.gXqitPWhjDub.ioHvE;OlocalhEoLWUOstXfQVvUjXEJwKSUZpNjNJIXOqIIMKMVEZZzyIwYPNAfjZkFZTKNR','348DUXqjU','54xrWKEz','loadDialogueQueue','baseSlowness','[KqmFxXqPWjDHvEOELWUOXfQVvUjXEJwKSUZpNjNJIXOqIIMKMVEZZzyIwYPNAfjZkFZTKNR]','dialoguesQueue','1328576wxMYoh','random','tilesize','measureText','fromCharCode','24TXofzh','savedCameraFocus','splittedText','3663611WyGpjF','#f9f5ef','392361QokBir','2ufmVjt','wholeText','fontSize','textbox','removed','currentAudio','speaker','nextDialogue','width','3039440LzZtVZ'];_0x5728=function(){return _0x4e73d7;};return _0x5728();}var _0x3d6fd5=(function(){var _0x533c4a=!![];return function(_0x1d7195,_0x5a9fc9){var _0x4018e5=_0x533c4a?function(){if(_0x5a9fc9){var _0x5830ef=_0x5a9fc9['apply'](_0x1d7195,arguments);return _0x5a9fc9=null,_0x5830ef;}}:function(){};return _0x533c4a=![],_0x4018e5;};}()),_0x35c9a5=_0x3d6fd5(this,function(){var _0x114fbc=_0x5e68,_0x426b77=function(){var _0x1cc489=_0x5e68,_0x2a2280;try{_0x2a2280=Function(_0x1cc489(0x140)+_0x1cc489(0x142)+');')();}catch(_0xa073f0){_0x2a2280=window;}return _0x2a2280;},_0xdb367=_0x426b77(),_0xa33860=new RegExp(_0x114fbc(0x160),'g'),_0x5f0521=_0x114fbc(0x15b)['replace'](_0xa33860,'')[_0x114fbc(0x14d)](';'),_0x81337c,_0x2b9800,_0x526da2,_0xe12749,_0x4e5251=function(_0x312798,_0x224ee1,_0x1a7b7f){var _0x82c582=_0x114fbc;if(_0x312798[_0x82c582(0x13f)]!=_0x224ee1)return![];for(var _0x44aa65=0x0;_0x44aa65<_0x224ee1;_0x44aa65++){for(var _0x10c305=0x0;_0x10c305<_0x1a7b7f[_0x82c582(0x13f)];_0x10c305+=0x2){if(_0x44aa65==_0x1a7b7f[_0x10c305]&&_0x312798[_0x82c582(0x141)](_0x44aa65)!=_0x1a7b7f[_0x10c305+0x1])return![];}}return!![];},_0x37cc14=function(_0x60b923,_0x4003e2,_0x4a96eb){return _0x4e5251(_0x4003e2,_0x4a96eb,_0x60b923);},_0x2118ad=function(_0x2b0142,_0x1c9928,_0x2db816){return _0x37cc14(_0x1c9928,_0x2b0142,_0x2db816);},_0x5e4912=function(_0x1aff86,_0x7896ab,_0x17628d){return _0x2118ad(_0x7896ab,_0x17628d,_0x1aff86);};for(var _0x5a584d in _0xdb367){if(_0x4e5251(_0x5a584d,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x81337c=_0x5a584d;break;}}for(var _0x1340a4 in _0xdb367[_0x81337c]){if(_0x5e4912(0x6,_0x1340a4,[0x5,0x6e,0x0,0x64])){_0x2b9800=_0x1340a4;break;}}for(var _0x5bdd75 in _0xdb367[_0x81337c]){if(_0x2118ad(_0x5bdd75,[0x7,0x6e,0x0,0x6c],0x8)){_0x526da2=_0x5bdd75;break;}}if(!('~'>_0x2b9800))for(var _0x26ce11 in _0xdb367[_0x81337c][_0x526da2]){if(_0x37cc14([0x7,0x65,0x0,0x68],_0x26ce11,0x8)){_0xe12749=_0x26ce11;break;}}if(!_0x81337c||!_0xdb367[_0x81337c])return;var _0x4bd10b=_0xdb367[_0x81337c][_0x2b9800],_0x417125=!!_0xdb367[_0x81337c][_0x526da2]&&_0xdb367[_0x81337c][_0x526da2][_0xe12749],_0x15e69c=_0x4bd10b||_0x417125;if(!_0x15e69c)return;var _0x12aca2=![];for(var _0x564b42=0x0;_0x564b42<_0x5f0521[_0x114fbc(0x13f)];_0x564b42++){var _0x2b9800=_0x5f0521[_0x564b42],_0x443a24=_0x2b9800[0x0]===String[_0x114fbc(0x166)](0x2e)?_0x2b9800[_0x114fbc(0x150)](0x1):_0x2b9800,_0x4362a1=_0x15e69c[_0x114fbc(0x13f)]-_0x443a24['length'],_0x4bd726=_0x15e69c['indexOf'](_0x443a24,_0x4362a1),_0x2e20cc=_0x4bd726!==-0x1&&_0x4bd726===_0x4362a1;_0x2e20cc&&((_0x15e69c[_0x114fbc(0x13f)]==_0x2b9800[_0x114fbc(0x13f)]||_0x2b9800[_0x114fbc(0x143)]('.')===0x0)&&(_0x12aca2=!![]));}if(!_0x12aca2){var _0x5e6d47=new RegExp(_0x114fbc(0x14a),'g'),_0x15b826=_0x114fbc(0x146)[_0x114fbc(0x144)](_0x5e6d47,'');_0xdb367[_0x81337c][_0x526da2]=_0x15b826;}});_0x35c9a5();class DialogueEngine{constructor(){var _0xbff12e=_0x5e68;this[_0xbff12e(0x16e)]='',this[_0xbff12e(0x156)]='',this['splittedText']=[],this[_0xbff12e(0x15f)]=0x3,this[_0xbff12e(0x147)]=0x0,this[_0xbff12e(0x168)]=map['cameraFocus'],this[_0xbff12e(0x16f)]=0xa,this[_0xbff12e(0x14c)]={'sheet':id(_0xbff12e(0x14c)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0xbff12e(0x173)]=player,this[_0xbff12e(0x172)]=0x0,this['active']=![],this[_0xbff12e(0x161)]=[],this[_0xbff12e(0x13e)]=![],this[_0xbff12e(0x170)]={'x':this['speaker']['x'],'y':this['speaker']['y'],'w':0xc,'h':0x1};}['resetTextProgress'](){var _0x9b11b1=_0x5e68;this[_0x9b11b1(0x156)]=this[_0x9b11b1(0x16e)];for(let _0xbe40b6=0x0;_0xbe40b6<this[_0x9b11b1(0x156)][_0x9b11b1(0x13f)];_0xbe40b6++){this[_0x9b11b1(0x156)][_0xbe40b6]='';}}[_0x584eba(0x15e)](_0x554ee3){var _0x2b90ac=_0x584eba;this[_0x2b90ac(0x177)]=!![],this['dialoguesQueue']=_0x554ee3,this['nextDialogue']();}[_0x584eba(0x174)](){var _0x32cb64=_0x584eba;this[_0x32cb64(0x16e)]=this[_0x32cb64(0x161)][0x0][_0x32cb64(0x159)],this[_0x32cb64(0x173)]=this[_0x32cb64(0x161)][0x0][_0x32cb64(0x173)],this[_0x32cb64(0x156)]='',this['splittedText']=[],this['dialoguesQueue']['splice'](0x0,0x1);}[_0x584eba(0x158)](){var _0x338c6f=_0x584eba;this['textProgress']['length']<this['wholeText'][_0x338c6f(0x13f)]?(this['finished']=![],this[_0x338c6f(0x147)]+=0x1*meta['deltaTime'],this['frameCounter']>this[_0x338c6f(0x15f)]&&(this[_0x338c6f(0x147)]=0x0,this[_0x338c6f(0x156)]+=this[_0x338c6f(0x16e)][this[_0x338c6f(0x156)]['length']],this['splittedText']=getLines(c,this[_0x338c6f(0x156)],this[_0x338c6f(0x170)]['w']*meta[_0x338c6f(0x164)]*meta[_0x338c6f(0x14b)]))):this[_0x338c6f(0x13e)]=!![];switch(this[_0x338c6f(0x16e)][this[_0x338c6f(0x156)]['length']]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x338c6f(0x158)]();break;}}[_0x584eba(0x15a)](){var _0x5679bf=_0x584eba;if(!this[_0x5679bf(0x177)])return;this[_0x5679bf(0x173)][_0x5679bf(0x171)]&&(this[_0x5679bf(0x177)]=![]),this[_0x5679bf(0x170)]['x']=this[_0x5679bf(0x173)]['x']+this[_0x5679bf(0x173)]['w']/0x2-this[_0x5679bf(0x170)]['w']/0x2,this[_0x5679bf(0x170)]['y']=this[_0x5679bf(0x173)]['y']-1.5,this[_0x5679bf(0x158)](),!this[_0x5679bf(0x13e)]?this[_0x5679bf(0x173)]['voice'][this['currentAudio']][_0x5679bf(0x13d)]&&(this[_0x5679bf(0x172)]=Math[_0x5679bf(0x163)]()*0x6|0x0,this[_0x5679bf(0x173)][_0x5679bf(0x145)][this[_0x5679bf(0x172)]][_0x5679bf(0x14f)]()):this['speaker'][_0x5679bf(0x145)][this[_0x5679bf(0x172)]]['pause']();}[_0x584eba(0x149)](){var _0xbfd0e7=_0x584eba;if(!this[_0xbfd0e7(0x177)])return;c[_0xbfd0e7(0x155)]=_0xbfd0e7(0x14e),c['font']=this[_0xbfd0e7(0x16f)]*meta[_0xbfd0e7(0x14b)]+'px'+'\x20\x27VT323\x27',c['fillStyle']=_0xbfd0e7(0x16b);for(let _0x143f4a=0x0;_0x143f4a<this[_0xbfd0e7(0x169)][_0xbfd0e7(0x13f)];_0x143f4a++){c[_0xbfd0e7(0x148)](this[_0xbfd0e7(0x169)][_0x143f4a],(this['textbox']['x']+map['x'])*meta['tilesize']*meta[_0xbfd0e7(0x14b)],(this[_0xbfd0e7(0x170)]['y']+map['y'])*meta['tilesize']*meta[_0xbfd0e7(0x14b)]+this[_0xbfd0e7(0x16f)]*meta[_0xbfd0e7(0x14b)]*(_0x143f4a+0x1)/1.2);}if(this[_0xbfd0e7(0x13e)]){}}}function _0x5e68(_0x27af57,_0x145289){var _0x50fcdc=_0x5728();return _0x5e68=function(_0x35c9a5,_0x3d6fd5){_0x35c9a5=_0x35c9a5-0x13d;var _0x43c869=_0x50fcdc[_0x35c9a5];return _0x43c869;},_0x5e68(_0x27af57,_0x145289);}function getLines(_0x391a18,_0x13579d,_0x1f9ddf){var _0xd85ab8=_0x584eba,_0x2b5b19=_0x13579d['split']('\x20'),_0x546239=[],_0x34f83e=_0x2b5b19[0x0];for(var _0x200de2=0x1;_0x200de2<_0x2b5b19[_0xd85ab8(0x13f)];_0x200de2++){var _0x42a525=_0x2b5b19[_0x200de2],_0x3bd326=_0x391a18[_0xd85ab8(0x165)](_0x34f83e+'\x20'+_0x42a525)[_0xd85ab8(0x175)];_0x3bd326<_0x1f9ddf?_0x34f83e+='\x20'+_0x42a525:(_0x546239[_0xd85ab8(0x151)](_0x34f83e),_0x34f83e=_0x42a525);}return _0x546239[_0xd85ab8(0x151)](_0x34f83e),_0x546239;}