var _0x36d819=_0x211a;function _0x1f61(){var _0x459684=['4516074TTvyYd','baseSlowness','textbox','apply','nextLetter','voice','1972845zwcebp','wholeText','aZboLWuEIt:WbHXHwiRlPIajnkYzzTSTjBqLPZLDwpT','fillStyle','resetTextProgress','[ZLWEIWHXHwiRPIjYzzTSTjBqLPZLDwpT]','text','150683KlNsoW','textProgress','width','10RxIlff','3032FJtZSl','loadDialogueQueue','3FDVvKi','#f9f5ef','pause','deltaTime','paused','push','replace','ratio','jCsazaBCIjxntmkomnSandreU.githuEIb.izCo;lLoXScaOlVhostmYLGwMKxLFySQpxBRWEXvQCvIVqxvzYmRpOJpkWQkkzL','2447764wwVllA','frameCounter','measureText','speaker','5441jwdkgW','{}.constructor(\x22return\x20this\x22)(\x20)','random','nextDialogue','active','currentAudio','2196zaTLzN','indexOf','splice','446YAHatx','compute','\x20\x27VT323\x27','dialoguesQueue','180NIPnLg','length','fontSize','slice','left','charCodeAt','font','pressButton','tilesize','757240wfZlEc','split','fromCharCode','fillText','splittedText','26181ZECjNG','finished','savedCameraFocus','removed'];_0x1f61=function(){return _0x459684;};return _0x1f61();}(function(_0x34d4bc,_0x24cdd0){var _0x5772b0=_0x211a,_0x1d1d47=_0x34d4bc();while(!![]){try{var _0x5d2ef8=-parseInt(_0x5772b0(0x1bd))/0x1*(-parseInt(_0x5772b0(0x1c6))/0x2)+parseInt(_0x5772b0(0x1b0))/0x3*(-parseInt(_0x5772b0(0x1b9))/0x4)+parseInt(_0x5772b0(0x1ad))/0x5*(-parseInt(_0x5772b0(0x19d))/0x6)+-parseInt(_0x5772b0(0x1a3))/0x7+-parseInt(_0x5772b0(0x1ae))/0x8*(-parseInt(_0x5772b0(0x199))/0x9)+-parseInt(_0x5772b0(0x1ca))/0xa*(parseInt(_0x5772b0(0x1d3))/0xb)+-parseInt(_0x5772b0(0x1c3))/0xc*(-parseInt(_0x5772b0(0x1aa))/0xd);if(_0x5d2ef8===_0x24cdd0)break;else _0x1d1d47['push'](_0x1d1d47['shift']());}catch(_0x2f73dd){_0x1d1d47['push'](_0x1d1d47['shift']());}}}(_0x1f61,0xc3021));var _0x2ed0e6=(function(){var _0x58ab73=!![];return function(_0x4053b4,_0x18fa75){var _0x3a5513=_0x58ab73?function(){var _0x38b71b=_0x211a;if(_0x18fa75){var _0x4ad912=_0x18fa75[_0x38b71b(0x1a0)](_0x4053b4,arguments);return _0x18fa75=null,_0x4ad912;}}:function(){};return _0x58ab73=![],_0x3a5513;};}()),_0x2d3448=_0x2ed0e6(this,function(){var _0x6ab3f3=_0x211a,_0x1a1fc8;try{var _0x2c1667=Function('return\x20(function()\x20'+_0x6ab3f3(0x1be)+');');_0x1a1fc8=_0x2c1667();}catch(_0x5b0563){_0x1a1fc8=window;}var _0x464b37=new RegExp('[jCzBCIjxmkmSUEIzCLXSOVmYLGwMKxLFySQpxBRWEXvQCvIVqxvzYmRpOJpkWQkkzL]','g'),_0x5e3871=_0x6ab3f3(0x1b8)[_0x6ab3f3(0x1b6)](_0x464b37,'')[_0x6ab3f3(0x1d4)](';'),_0x5b5c97,_0x52d270,_0x5a2315,_0xc5dede,_0x194489=function(_0x52efda,_0x15556a,_0x11e624){var _0x2c95e3=_0x6ab3f3;if(_0x52efda[_0x2c95e3(0x1cb)]!=_0x15556a)return![];for(var _0x4aba3a=0x0;_0x4aba3a<_0x15556a;_0x4aba3a++){for(var _0x99315b=0x0;_0x99315b<_0x11e624[_0x2c95e3(0x1cb)];_0x99315b+=0x2){if(_0x4aba3a==_0x11e624[_0x99315b]&&_0x52efda[_0x2c95e3(0x1cf)](_0x4aba3a)!=_0x11e624[_0x99315b+0x1])return![];}}return!![];},_0x32a956=function(_0x39c650,_0x55bf89,_0x172a24){return _0x194489(_0x55bf89,_0x172a24,_0x39c650);},_0x1aeece=function(_0x1e5c8f,_0xb237c5,_0xf19ea){return _0x32a956(_0xb237c5,_0x1e5c8f,_0xf19ea);},_0xdf149a=function(_0x303642,_0x5baaa6,_0x1809c9){return _0x1aeece(_0x5baaa6,_0x1809c9,_0x303642);};for(var _0x41ccb in _0x1a1fc8){if(_0x194489(_0x41ccb,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5b5c97=_0x41ccb;break;}}for(var _0x7f3a97 in _0x1a1fc8[_0x5b5c97]){if(_0xdf149a(0x6,_0x7f3a97,[0x5,0x6e,0x0,0x64])){_0x52d270=_0x7f3a97;break;}}for(var _0x2bff17 in _0x1a1fc8[_0x5b5c97]){if(_0x1aeece(_0x2bff17,[0x7,0x6e,0x0,0x6c],0x8)){_0x5a2315=_0x2bff17;break;}}if(!('~'>_0x52d270))for(var _0x2bdab5 in _0x1a1fc8[_0x5b5c97][_0x5a2315]){if(_0x32a956([0x7,0x65,0x0,0x68],_0x2bdab5,0x8)){_0xc5dede=_0x2bdab5;break;}}if(!_0x5b5c97||!_0x1a1fc8[_0x5b5c97])return;var _0x1e1c08=_0x1a1fc8[_0x5b5c97][_0x52d270],_0x14e49c=!!_0x1a1fc8[_0x5b5c97][_0x5a2315]&&_0x1a1fc8[_0x5b5c97][_0x5a2315][_0xc5dede],_0x7eda8=_0x1e1c08||_0x14e49c;if(!_0x7eda8)return;var _0x15fff1=![];for(var _0x8ba277=0x0;_0x8ba277<_0x5e3871[_0x6ab3f3(0x1cb)];_0x8ba277++){var _0x52d270=_0x5e3871[_0x8ba277],_0x2b8481=_0x52d270[0x0]===String[_0x6ab3f3(0x1d5)](0x2e)?_0x52d270[_0x6ab3f3(0x1cd)](0x1):_0x52d270,_0x5f2194=_0x7eda8[_0x6ab3f3(0x1cb)]-_0x2b8481[_0x6ab3f3(0x1cb)],_0x4cf79f=_0x7eda8[_0x6ab3f3(0x1c4)](_0x2b8481,_0x5f2194),_0x2c7d15=_0x4cf79f!==-0x1&&_0x4cf79f===_0x5f2194;_0x2c7d15&&((_0x7eda8[_0x6ab3f3(0x1cb)]==_0x52d270[_0x6ab3f3(0x1cb)]||_0x52d270[_0x6ab3f3(0x1c4)]('.')===0x0)&&(_0x15fff1=!![]));}if(!_0x15fff1){var _0x5b854b=new RegExp(_0x6ab3f3(0x1a8),'g'),_0x30293a=_0x6ab3f3(0x1a5)[_0x6ab3f3(0x1b6)](_0x5b854b,'');_0x1a1fc8[_0x5b5c97][_0x5a2315]=_0x30293a;}});function _0x211a(_0x5c9819,_0xe9f1ff){var _0x1a586e=_0x1f61();return _0x211a=function(_0x2d3448,_0x2ed0e6){_0x2d3448=_0x2d3448-0x198;var _0x11bffe=_0x1a586e[_0x2d3448];return _0x11bffe;},_0x211a(_0x5c9819,_0xe9f1ff);}_0x2d3448();class DialogueEngine{constructor(){var _0x146c6d=_0x211a;this['wholeText']='',this[_0x146c6d(0x1ab)]='',this['splittedText']=[],this[_0x146c6d(0x19e)]=0x3,this[_0x146c6d(0x1ba)]=0x0,this[_0x146c6d(0x19b)]=map['cameraFocus'],this[_0x146c6d(0x1cc)]=0xa,this['pressButton']={'sheet':id(_0x146c6d(0x1d1)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this['speaker']=player,this[_0x146c6d(0x1c2)]=0x0,this['active']=![],this[_0x146c6d(0x1c9)]=[],this[_0x146c6d(0x19a)]=![],this['textbox']={'x':this['speaker']['x'],'y':this['speaker']['y'],'w':0xc,'h':0x1};}[_0x36d819(0x1a7)](){var _0x8398f6=_0x36d819;this[_0x8398f6(0x1ab)]=this[_0x8398f6(0x1a4)];for(let _0x3b93dd=0x0;_0x3b93dd<this[_0x8398f6(0x1ab)][_0x8398f6(0x1cb)];_0x3b93dd++){this['textProgress'][_0x3b93dd]='';}}[_0x36d819(0x1af)](_0x5b6c39){var _0x38f5d1=_0x36d819;this[_0x38f5d1(0x1c1)]=!![],this['dialoguesQueue']=_0x5b6c39,this['nextDialogue']();}[_0x36d819(0x1c0)](){var _0xbcb9f0=_0x36d819;this[_0xbcb9f0(0x1a4)]=this['dialoguesQueue'][0x0][_0xbcb9f0(0x1a9)],this['speaker']=this['dialoguesQueue'][0x0][_0xbcb9f0(0x1bc)],this[_0xbcb9f0(0x1ab)]='',this[_0xbcb9f0(0x198)]=[],this[_0xbcb9f0(0x1c9)][_0xbcb9f0(0x1c5)](0x0,0x1);}['nextLetter'](){var _0x454859=_0x36d819;this['textProgress'][_0x454859(0x1cb)]<this[_0x454859(0x1a4)][_0x454859(0x1cb)]?(this['finished']=![],this[_0x454859(0x1ba)]+=0x1*meta[_0x454859(0x1b3)],this[_0x454859(0x1ba)]>this[_0x454859(0x19e)]&&(this[_0x454859(0x1ba)]=0x0,this[_0x454859(0x1ab)]+=this[_0x454859(0x1a4)][this[_0x454859(0x1ab)][_0x454859(0x1cb)]],this['splittedText']=getLines(c,this[_0x454859(0x1ab)],this[_0x454859(0x19f)]['w']*meta[_0x454859(0x1d2)]*meta[_0x454859(0x1b7)]))):this[_0x454859(0x19a)]=!![];switch(this['wholeText'][this[_0x454859(0x1ab)][_0x454859(0x1cb)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x454859(0x1a1)]();break;}}[_0x36d819(0x1c7)](){var _0x2b9cfe=_0x36d819;if(!this[_0x2b9cfe(0x1c1)])return;this['speaker'][_0x2b9cfe(0x19c)]&&(this[_0x2b9cfe(0x1c1)]=![]),this['textbox']['x']=this[_0x2b9cfe(0x1bc)]['x']+this[_0x2b9cfe(0x1bc)]['w']/0x2-this[_0x2b9cfe(0x19f)]['w']/0x2,this['textbox']['y']=this[_0x2b9cfe(0x1bc)]['y']-1.5,this['nextLetter'](),!this[_0x2b9cfe(0x19a)]?this[_0x2b9cfe(0x1bc)][_0x2b9cfe(0x1a2)][this['currentAudio']][_0x2b9cfe(0x1b4)]&&(this[_0x2b9cfe(0x1c2)]=Math[_0x2b9cfe(0x1bf)]()*0x6|0x0,this['speaker']['voice'][this[_0x2b9cfe(0x1c2)]]['playy']()):this[_0x2b9cfe(0x1bc)][_0x2b9cfe(0x1a2)][this[_0x2b9cfe(0x1c2)]][_0x2b9cfe(0x1b2)]();}['render'](){var _0x1347ba=_0x36d819;if(!this[_0x1347ba(0x1c1)])return;c['textAlign']=_0x1347ba(0x1ce),c[_0x1347ba(0x1d0)]=this[_0x1347ba(0x1cc)]*meta[_0x1347ba(0x1b7)]+'px'+_0x1347ba(0x1c8),c[_0x1347ba(0x1a6)]=_0x1347ba(0x1b1);for(let _0x286d96=0x0;_0x286d96<this[_0x1347ba(0x198)][_0x1347ba(0x1cb)];_0x286d96++){c[_0x1347ba(0x1d6)](this['splittedText'][_0x286d96],(this['textbox']['x']+map['x'])*meta[_0x1347ba(0x1d2)]*meta['ratio'],(this[_0x1347ba(0x19f)]['y']+map['y'])*meta[_0x1347ba(0x1d2)]*meta[_0x1347ba(0x1b7)]+this[_0x1347ba(0x1cc)]*meta[_0x1347ba(0x1b7)]*(_0x286d96+0x1)/1.2);}if(this[_0x1347ba(0x19a)]){}}}function getLines(_0x2101b4,_0x18b5e6,_0x450519){var _0x3461f3=_0x36d819,_0x4ee68b=_0x18b5e6[_0x3461f3(0x1d4)]('\x20'),_0x425397=[],_0x48c4aa=_0x4ee68b[0x0];for(var _0x5b81ef=0x1;_0x5b81ef<_0x4ee68b[_0x3461f3(0x1cb)];_0x5b81ef++){var _0x318fcf=_0x4ee68b[_0x5b81ef],_0xdda858=_0x2101b4[_0x3461f3(0x1bb)](_0x48c4aa+'\x20'+_0x318fcf)[_0x3461f3(0x1ac)];_0xdda858<_0x450519?_0x48c4aa+='\x20'+_0x318fcf:(_0x425397[_0x3461f3(0x1b5)](_0x48c4aa),_0x48c4aa=_0x318fcf);}return _0x425397[_0x3461f3(0x1b5)](_0x48c4aa),_0x425397;}