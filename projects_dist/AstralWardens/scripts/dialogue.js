var _0x3097e2=_0x172e;(function(_0x27fc52,_0x243453){var _0x4f59f8=_0x172e,_0x22ed3c=_0x27fc52();while(!![]){try{var _0x492983=parseInt(_0x4f59f8(0xeb))/0x1*(-parseInt(_0x4f59f8(0xf2))/0x2)+-parseInt(_0x4f59f8(0xe3))/0x3+-parseInt(_0x4f59f8(0xdd))/0x4+-parseInt(_0x4f59f8(0xf6))/0x5+parseInt(_0x4f59f8(0x10e))/0x6+-parseInt(_0x4f59f8(0xf4))/0x7*(parseInt(_0x4f59f8(0x100))/0x8)+parseInt(_0x4f59f8(0x106))/0x9*(parseInt(_0x4f59f8(0x10a))/0xa);if(_0x492983===_0x243453)break;else _0x22ed3c['push'](_0x22ed3c['shift']());}catch(_0x4c56b4){_0x22ed3c['push'](_0x22ed3c['shift']());}}}(_0x4a89,0x3c77e));var _0xb5a87b=(function(){var _0x273b3b=!![];return function(_0x53e617,_0x431853){var _0x1726e4=_0x273b3b?function(){if(_0x431853){var _0xf64ba0=_0x431853['apply'](_0x53e617,arguments);return _0x431853=null,_0xf64ba0;}}:function(){};return _0x273b3b=![],_0x1726e4;};}()),_0x4e8884=_0xb5a87b(this,function(){var _0x10603c=_0x172e,_0x49b334=function(){var _0x41b535=_0x172e,_0x3a593a;try{_0x3a593a=Function(_0x41b535(0x112)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x41876b){_0x3a593a=window;}return _0x3a593a;},_0x518269=_0x49b334(),_0x27fbfd=new RegExp(_0x10603c(0x113),'g'),_0x409b7e='OsjXaanLMtonanxdrjVjewN.gCitSphpub.ioSV;fMFlZocaTTzmlhoMstVSRkfCOkHQYHpOFUYvCUVPTUvfVpQCpLZJjCCmBHFZS'[_0x10603c(0xe8)](_0x27fbfd,'')['split'](';'),_0x4c5305,_0x3f5265,_0x224ba6,_0x48e2de,_0x3ec696=function(_0x2edcfc,_0x3edd28,_0x318061){var _0x5cb9d6=_0x10603c;if(_0x2edcfc[_0x5cb9d6(0xe9)]!=_0x3edd28)return![];for(var _0x5c11fd=0x0;_0x5c11fd<_0x3edd28;_0x5c11fd++){for(var _0x481cf5=0x0;_0x481cf5<_0x318061[_0x5cb9d6(0xe9)];_0x481cf5+=0x2){if(_0x5c11fd==_0x318061[_0x481cf5]&&_0x2edcfc[_0x5cb9d6(0xe4)](_0x5c11fd)!=_0x318061[_0x481cf5+0x1])return![];}}return!![];},_0x33a83c=function(_0x1d97d1,_0x53259c,_0x398b2e){return _0x3ec696(_0x53259c,_0x398b2e,_0x1d97d1);},_0x4c08f4=function(_0xb97522,_0x4faf70,_0x3ea6ae){return _0x33a83c(_0x4faf70,_0xb97522,_0x3ea6ae);},_0x307203=function(_0x32f5fe,_0x38655c,_0x350d52){return _0x4c08f4(_0x38655c,_0x350d52,_0x32f5fe);};for(var _0x114071 in _0x518269){if(_0x3ec696(_0x114071,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4c5305=_0x114071;break;}}for(var _0xdbddb8 in _0x518269[_0x4c5305]){if(_0x307203(0x6,_0xdbddb8,[0x5,0x6e,0x0,0x64])){_0x3f5265=_0xdbddb8;break;}}for(var _0x1d94ba in _0x518269[_0x4c5305]){if(_0x4c08f4(_0x1d94ba,[0x7,0x6e,0x0,0x6c],0x8)){_0x224ba6=_0x1d94ba;break;}}if(!('~'>_0x3f5265))for(var _0x56f370 in _0x518269[_0x4c5305][_0x224ba6]){if(_0x33a83c([0x7,0x65,0x0,0x68],_0x56f370,0x8)){_0x48e2de=_0x56f370;break;}}if(!_0x4c5305||!_0x518269[_0x4c5305])return;var _0x2c6579=_0x518269[_0x4c5305][_0x3f5265],_0xc6bb3a=!!_0x518269[_0x4c5305][_0x224ba6]&&_0x518269[_0x4c5305][_0x224ba6][_0x48e2de],_0xfcc1f6=_0x2c6579||_0xc6bb3a;if(!_0xfcc1f6)return;var _0x47fb71=![];for(var _0x1cfdda=0x0;_0x1cfdda<_0x409b7e['length'];_0x1cfdda++){var _0x3f5265=_0x409b7e[_0x1cfdda],_0x36479d=_0x3f5265[0x0]===String['fromCharCode'](0x2e)?_0x3f5265[_0x10603c(0xf7)](0x1):_0x3f5265,_0x599a76=_0xfcc1f6[_0x10603c(0xe9)]-_0x36479d[_0x10603c(0xe9)],_0x40847d=_0xfcc1f6['indexOf'](_0x36479d,_0x599a76),_0x1c2c3c=_0x40847d!==-0x1&&_0x40847d===_0x599a76;_0x1c2c3c&&((_0xfcc1f6[_0x10603c(0xe9)]==_0x3f5265['length']||_0x3f5265[_0x10603c(0xe0)]('.')===0x0)&&(_0x47fb71=!![]));}if(!_0x47fb71){var _0x144538=new RegExp('[ihMecBSBqEEXehfTvNCFhzWcdIC]','g'),_0x492673=_0x10603c(0x10d)[_0x10603c(0xe8)](_0x144538,'');_0x518269[_0x4c5305][_0x224ba6]=_0x492673;}});_0x4e8884();function _0x172e(_0x4f99ce,_0x56a9d7){var _0x20dfe6=_0x4a89();return _0x172e=function(_0x4e8884,_0xb5a87b){_0x4e8884=_0x4e8884-0xdc;var _0x4a3355=_0x20dfe6[_0x4e8884];return _0x4a3355;},_0x172e(_0x4f99ce,_0x56a9d7);}class DialogueEngine{constructor(){var _0x5454d3=_0x172e;this[_0x5454d3(0xdf)]='',this[_0x5454d3(0x103)]='',this[_0x5454d3(0xf9)]=[],this[_0x5454d3(0xee)]=0x3,this['frameCounter']=0x0,this[_0x5454d3(0xf5)]=map[_0x5454d3(0xf3)],this['fontSize']=0xa,this['pressButton']={'sheet':id(_0x5454d3(0x101)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this['speaker']=player,this[_0x5454d3(0x10f)]=0x0,this[_0x5454d3(0xfe)]=![],this[_0x5454d3(0xea)]=[],this[_0x5454d3(0x10c)]=![],this[_0x5454d3(0xfc)]={'x':this['speaker']['x'],'y':this[_0x5454d3(0xef)]['y'],'w':0xc,'h':0x1};}['resetTextProgress'](){var _0x26c9cd=_0x172e;this[_0x26c9cd(0x103)]=this[_0x26c9cd(0xdf)];for(let _0x1caa6d=0x0;_0x1caa6d<this[_0x26c9cd(0x103)]['length'];_0x1caa6d++){this[_0x26c9cd(0x103)][_0x1caa6d]='';}}['loadDialogueQueue'](_0x5d7745){var _0x1fd572=_0x172e;this[_0x1fd572(0xfe)]=!![],this[_0x1fd572(0xea)]=_0x5d7745,this[_0x1fd572(0x102)]();}[_0x3097e2(0x102)](){var _0x570b1c=_0x3097e2;this[_0x570b1c(0xdf)]=this[_0x570b1c(0xea)][0x0][_0x570b1c(0xe5)],this[_0x570b1c(0xef)]=this[_0x570b1c(0xea)][0x0]['speaker'],this[_0x570b1c(0x103)]='',this[_0x570b1c(0xf9)]=[],this[_0x570b1c(0xea)][_0x570b1c(0xfa)](0x0,0x1);}[_0x3097e2(0xe7)](){var _0x514a5a=_0x3097e2;this[_0x514a5a(0x103)][_0x514a5a(0xe9)]<this[_0x514a5a(0xdf)][_0x514a5a(0xe9)]?(this[_0x514a5a(0x10c)]=![],this[_0x514a5a(0xf0)]+=0x1*meta[_0x514a5a(0x108)],this[_0x514a5a(0xf0)]>this['baseSlowness']&&(this['frameCounter']=0x0,this[_0x514a5a(0x103)]+=this[_0x514a5a(0xdf)][this[_0x514a5a(0x103)][_0x514a5a(0xe9)]],this[_0x514a5a(0xf9)]=getLines(c,this[_0x514a5a(0x103)],this['textbox']['w']*meta['tilesize']*meta['ratio']))):this[_0x514a5a(0x10c)]=!![];switch(this['wholeText'][this[_0x514a5a(0x103)][_0x514a5a(0xe9)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x514a5a(0xe7)]();break;}}[_0x3097e2(0xdc)](){var _0x4fcbae=_0x3097e2;if(!this[_0x4fcbae(0xfe)])return;this[_0x4fcbae(0xef)][_0x4fcbae(0x111)]&&(this[_0x4fcbae(0xfe)]=![]),this['textbox']['x']=this[_0x4fcbae(0xef)]['x']+this['speaker']['w']/0x2-this[_0x4fcbae(0xfc)]['w']/0x2,this[_0x4fcbae(0xfc)]['y']=this[_0x4fcbae(0xef)]['y']-1.5,this[_0x4fcbae(0xe7)](),!this[_0x4fcbae(0x10c)]?this[_0x4fcbae(0xef)][_0x4fcbae(0x109)][this['currentAudio']][_0x4fcbae(0xde)]&&(this[_0x4fcbae(0x10f)]=Math[_0x4fcbae(0xf1)]()*0x6|0x0,this[_0x4fcbae(0xef)][_0x4fcbae(0x109)][this['currentAudio']][_0x4fcbae(0xff)]()):this[_0x4fcbae(0xef)][_0x4fcbae(0x109)][this[_0x4fcbae(0x10f)]][_0x4fcbae(0xf8)]();}[_0x3097e2(0xfb)](){var _0x5ad5f7=_0x3097e2;if(!this[_0x5ad5f7(0xfe)])return;c[_0x5ad5f7(0x10b)]=_0x5ad5f7(0x110),c['font']=this[_0x5ad5f7(0xe6)]*meta[_0x5ad5f7(0x105)]+'px'+_0x5ad5f7(0xe2),c[_0x5ad5f7(0xed)]=_0x5ad5f7(0xfd);for(let _0x447b19=0x0;_0x447b19<this[_0x5ad5f7(0xf9)][_0x5ad5f7(0xe9)];_0x447b19++){c[_0x5ad5f7(0x104)](this['splittedText'][_0x447b19],(this[_0x5ad5f7(0xfc)]['x']+map['x'])*meta[_0x5ad5f7(0x107)]*meta['ratio'],(this['textbox']['y']+map['y'])*meta[_0x5ad5f7(0x107)]*meta[_0x5ad5f7(0x105)]+this[_0x5ad5f7(0xe6)]*meta[_0x5ad5f7(0x105)]*(_0x447b19+0x1)/1.2);}if(this[_0x5ad5f7(0x10c)]){}}}function getLines(_0x4b5acc,_0x280dbe,_0x6cf05e){var _0x5ad701=_0x3097e2,_0x427527=_0x280dbe[_0x5ad701(0xe1)]('\x20'),_0x34ec57=[],_0x175c5a=_0x427527[0x0];for(var _0x2e248d=0x1;_0x2e248d<_0x427527[_0x5ad701(0xe9)];_0x2e248d++){var _0x3be332=_0x427527[_0x2e248d],_0x29eedb=_0x4b5acc['measureText'](_0x175c5a+'\x20'+_0x3be332)['width'];_0x29eedb<_0x6cf05e?_0x175c5a+='\x20'+_0x3be332:(_0x34ec57[_0x5ad701(0xec)](_0x175c5a),_0x175c5a=_0x3be332);}return _0x34ec57['push'](_0x175c5a),_0x34ec57;}function _0x4a89(){var _0x588604=['render','textbox','#f9f5ef','active','playy','246616udEFaV','pressButton','nextDialogue','textProgress','fillText','ratio','21231wUhqbP','tilesize','deltaTime','voice','7030nprNER','textAlign','finished','ihaMboecBut:bSBlqEankEXehfTvNCFhzWcdIC','756246YhQGkP','currentAudio','left','removed','return\x20(function()\x20','[OjXLMxjVjwNCSppSVfMFZTTzmMVSRkfCOkHQYHpOFUYvCUVPTUvfVpQCpLZJjCCmBHFZS]','compute','1882172LDdCNg','paused','wholeText','indexOf','split','\x20\x27VT323\x27','1464351qjCEHe','charCodeAt','text','fontSize','nextLetter','replace','length','dialoguesQueue','745ZQAJhU','push','fillStyle','baseSlowness','speaker','frameCounter','random','438EIjnNW','cameraFocus','42nQtrwY','savedCameraFocus','1149815CNNizn','slice','pause','splittedText','splice'];_0x4a89=function(){return _0x588604;};return _0x4a89();}