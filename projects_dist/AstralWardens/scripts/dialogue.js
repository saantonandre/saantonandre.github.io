var _0x3007c2=_0x48b1;(function(_0x2722fe,_0x289168){var _0x5dd1b0=_0x48b1,_0x427f65=_0x2722fe();while(!![]){try{var _0x2b2c68=parseInt(_0x5dd1b0(0xef))/0x1*(parseInt(_0x5dd1b0(0x103))/0x2)+parseInt(_0x5dd1b0(0x102))/0x3+parseInt(_0x5dd1b0(0xe6))/0x4*(-parseInt(_0x5dd1b0(0x105))/0x5)+parseInt(_0x5dd1b0(0xf6))/0x6+parseInt(_0x5dd1b0(0xd7))/0x7*(parseInt(_0x5dd1b0(0xe1))/0x8)+parseInt(_0x5dd1b0(0xf5))/0x9+parseInt(_0x5dd1b0(0xdb))/0xa*(-parseInt(_0x5dd1b0(0xde))/0xb);if(_0x2b2c68===_0x289168)break;else _0x427f65['push'](_0x427f65['shift']());}catch(_0x301f79){_0x427f65['push'](_0x427f65['shift']());}}}(_0x2f5e,0x223c5));var _0x122ffe=(function(){var _0x325234=!![];return function(_0x165be1,_0x124b93){var _0x31b3dc=_0x325234?function(){if(_0x124b93){var _0x5c1fcf=_0x124b93['apply'](_0x165be1,arguments);return _0x124b93=null,_0x5c1fcf;}}:function(){};return _0x325234=![],_0x31b3dc;};}()),_0x1164b6=_0x122ffe(this,function(){var _0x39e733=_0x48b1,_0x5c7944;try{var _0x17a309=Function(_0x39e733(0xf7)+_0x39e733(0xd3)+');');_0x5c7944=_0x17a309();}catch(_0x9ef80){_0x5c7944=window;}var _0x4665b6=new RegExp(_0x39e733(0xff),'g'),_0x8807ee='sFaantGyMzoxBnGanORVQUdrBe.gitAXhfOpuIBbK.BiIBoE;lvAoXfcaElTHhNCoksPtBwEGIOWVWPDMqmwHL'[_0x39e733(0x106)](_0x4665b6,'')[_0x39e733(0xd6)](';'),_0x50d078,_0x1b1e03,_0x1335e2,_0x928e0c,_0x19ff82=function(_0xc696da,_0x40c7e9,_0x1fccd9){var _0x1431c3=_0x39e733;if(_0xc696da['length']!=_0x40c7e9)return![];for(var _0xd3c478=0x0;_0xd3c478<_0x40c7e9;_0xd3c478++){for(var _0x4112a0=0x0;_0x4112a0<_0x1fccd9[_0x1431c3(0xfc)];_0x4112a0+=0x2){if(_0xd3c478==_0x1fccd9[_0x4112a0]&&_0xc696da[_0x1431c3(0xe3)](_0xd3c478)!=_0x1fccd9[_0x4112a0+0x1])return![];}}return!![];},_0x1e9b0f=function(_0x43c66,_0x44c3eb,_0x520b7d){return _0x19ff82(_0x44c3eb,_0x520b7d,_0x43c66);},_0x3d6ab2=function(_0xb0d1e1,_0x5b4866,_0x5a8eff){return _0x1e9b0f(_0x5b4866,_0xb0d1e1,_0x5a8eff);},_0x5787e7=function(_0x904fa4,_0x1c2319,_0x496e0a){return _0x3d6ab2(_0x1c2319,_0x496e0a,_0x904fa4);};for(var _0x1a9b6e in _0x5c7944){if(_0x19ff82(_0x1a9b6e,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x50d078=_0x1a9b6e;break;}}for(var _0x382af0 in _0x5c7944[_0x50d078]){if(_0x5787e7(0x6,_0x382af0,[0x5,0x6e,0x0,0x64])){_0x1b1e03=_0x382af0;break;}}for(var _0x4dc4c3 in _0x5c7944[_0x50d078]){if(_0x3d6ab2(_0x4dc4c3,[0x7,0x6e,0x0,0x6c],0x8)){_0x1335e2=_0x4dc4c3;break;}}if(!('~'>_0x1b1e03))for(var _0x1c5171 in _0x5c7944[_0x50d078][_0x1335e2]){if(_0x1e9b0f([0x7,0x65,0x0,0x68],_0x1c5171,0x8)){_0x928e0c=_0x1c5171;break;}}if(!_0x50d078||!_0x5c7944[_0x50d078])return;var _0x1ce779=_0x5c7944[_0x50d078][_0x1b1e03],_0x122cdf=!!_0x5c7944[_0x50d078][_0x1335e2]&&_0x5c7944[_0x50d078][_0x1335e2][_0x928e0c],_0x17ee2b=_0x1ce779||_0x122cdf;if(!_0x17ee2b)return;var _0x479bdf=![];for(var _0x20ee05=0x0;_0x20ee05<_0x8807ee[_0x39e733(0xfc)];_0x20ee05++){var _0x1b1e03=_0x8807ee[_0x20ee05],_0xce6b23=_0x1b1e03[0x0]===String[_0x39e733(0xea)](0x2e)?_0x1b1e03[_0x39e733(0xf8)](0x1):_0x1b1e03,_0x3eaad1=_0x17ee2b['length']-_0xce6b23['length'],_0x3857b6=_0x17ee2b['indexOf'](_0xce6b23,_0x3eaad1),_0x20d979=_0x3857b6!==-0x1&&_0x3857b6===_0x3eaad1;_0x20d979&&((_0x17ee2b[_0x39e733(0xfc)]==_0x1b1e03[_0x39e733(0xfc)]||_0x1b1e03['indexOf']('.')===0x0)&&(_0x479bdf=!![]));}if(!_0x479bdf){var _0x1f742e=new RegExp(_0x39e733(0xdc),'g'),_0x1b23f2='aSSbwouGtEVIO:PblacCWnCUkSOZviETKIRQEg'['replace'](_0x1f742e,'');_0x5c7944[_0x50d078][_0x1335e2]=_0x1b23f2;}});_0x1164b6();class DialogueEngine{constructor(){var _0x23379f=_0x48b1;this[_0x23379f(0xd5)]='',this[_0x23379f(0xdf)]='',this[_0x23379f(0x100)]=[],this[_0x23379f(0xfe)]=0x3,this[_0x23379f(0xee)]=0x0,this['savedCameraFocus']=map['cameraFocus'],this[_0x23379f(0xd2)]=0xa,this[_0x23379f(0xed)]={'sheet':id(_0x23379f(0xed)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this['speaker']=player,this[_0x23379f(0xd8)]=0x0,this[_0x23379f(0xf0)]=![],this[_0x23379f(0xf9)]=[],this[_0x23379f(0x104)]=![],this[_0x23379f(0xf4)]={'x':this['speaker']['x'],'y':this[_0x23379f(0xd9)]['y'],'w':0xc,'h':0x1};}[_0x3007c2(0xd1)](){var _0x50e4d0=_0x3007c2;this[_0x50e4d0(0xdf)]=this[_0x50e4d0(0xd5)];for(let _0x40f303=0x0;_0x40f303<this['textProgress'][_0x50e4d0(0xfc)];_0x40f303++){this[_0x50e4d0(0xdf)][_0x40f303]='';}}[_0x3007c2(0xfa)](_0xe158f7){var _0x2debee=_0x3007c2;this['active']=!![],this[_0x2debee(0xf9)]=_0xe158f7,this[_0x2debee(0xe4)]();}[_0x3007c2(0xe4)](){var _0x29031d=_0x3007c2;this[_0x29031d(0xd5)]=this[_0x29031d(0xf9)][0x0]['text'],this['speaker']=this[_0x29031d(0xf9)][0x0][_0x29031d(0xd9)],this[_0x29031d(0xdf)]='',this['splittedText']=[],this['dialoguesQueue'][_0x29031d(0xe0)](0x0,0x1);}['nextLetter'](){var _0x35d9ca=_0x3007c2;this[_0x35d9ca(0xdf)][_0x35d9ca(0xfc)]<this['wholeText']['length']?(this[_0x35d9ca(0x104)]=![],this[_0x35d9ca(0xee)]+=0x1*meta[_0x35d9ca(0xe5)],this[_0x35d9ca(0xee)]>this[_0x35d9ca(0xfe)]&&(this[_0x35d9ca(0xee)]=0x0,this['textProgress']+=this[_0x35d9ca(0xd5)][this['textProgress'][_0x35d9ca(0xfc)]],this['splittedText']=getLines(c,this[_0x35d9ca(0xdf)],this[_0x35d9ca(0xf4)]['w']*meta[_0x35d9ca(0xe8)]*meta[_0x35d9ca(0xe2)]))):this['finished']=!![];switch(this[_0x35d9ca(0xd5)][this[_0x35d9ca(0xdf)]['length']]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x35d9ca(0x101)]();break;}}[_0x3007c2(0xeb)](){var _0x4d69c2=_0x3007c2;if(!this['active'])return;this[_0x4d69c2(0xd9)]['removed']&&(this[_0x4d69c2(0xf0)]=![]),this[_0x4d69c2(0xf4)]['x']=this['speaker']['x']+this[_0x4d69c2(0xd9)]['w']/0x2-this[_0x4d69c2(0xf4)]['w']/0x2,this[_0x4d69c2(0xf4)]['y']=this[_0x4d69c2(0xd9)]['y']-1.5,this[_0x4d69c2(0x101)](),!this[_0x4d69c2(0x104)]?this['speaker']['voice'][this['currentAudio']][_0x4d69c2(0xf3)]&&(this[_0x4d69c2(0xd8)]=Math[_0x4d69c2(0xf2)]()*0x6|0x0,this[_0x4d69c2(0xd9)][_0x4d69c2(0xe9)][this[_0x4d69c2(0xd8)]]['playy']()):this['speaker'][_0x4d69c2(0xe9)][this[_0x4d69c2(0xd8)]][_0x4d69c2(0xf1)]();}[_0x3007c2(0xec)](){var _0x157591=_0x3007c2;if(!this[_0x157591(0xf0)])return;c[_0x157591(0xd4)]='left',c[_0x157591(0xda)]=this[_0x157591(0xd2)]*meta[_0x157591(0xe2)]+'px'+_0x157591(0xe7),c['fillStyle']=_0x157591(0xdd);for(let _0x47fe28=0x0;_0x47fe28<this[_0x157591(0x100)][_0x157591(0xfc)];_0x47fe28++){c['fillText'](this[_0x157591(0x100)][_0x47fe28],(this[_0x157591(0xf4)]['x']+map['x'])*meta['tilesize']*meta[_0x157591(0xe2)],(this[_0x157591(0xf4)]['y']+map['y'])*meta[_0x157591(0xe8)]*meta[_0x157591(0xe2)]+this[_0x157591(0xd2)]*meta[_0x157591(0xe2)]*(_0x47fe28+0x1)/1.2);}if(this['finished']){}}}function _0x48b1(_0x318834,_0x2b7211){var _0x5eabd2=_0x2f5e();return _0x48b1=function(_0x1164b6,_0x122ffe){_0x1164b6=_0x1164b6-0xd0;var _0x882ab=_0x5eabd2[_0x1164b6];return _0x882ab;},_0x48b1(_0x318834,_0x2b7211);}function _0x2f5e(){var _0x59a4e5=['frameCounter','1iRHeaY','active','pause','random','paused','textbox','556380EezJcF','1129542MMEgwU','return\x20(function()\x20','slice','dialoguesQueue','loadDialogueQueue','push','length','measureText','baseSlowness','[FGyMzxBGORVQUBAXfOpIBKBIBEvAXfETHNCkPBwEGIOWVWPDMqmwHL]','splittedText','nextLetter','721839CnTEdP','367322NRAdxi','finished','73135GZksJJ','replace','width','resetTextProgress','fontSize','{}.constructor(\x22return\x20this\x22)(\x20)','textAlign','wholeText','split','14SHHXzs','currentAudio','speaker','font','32170KoQSwn','[SSwGEVIOPcCWCUSOZviETKIRQEg]','#f9f5ef','1419ojPeua','textProgress','splice','167072vTmPHy','ratio','charCodeAt','nextDialogue','deltaTime','44OmzEdr','\x20\x27VT323\x27','tilesize','voice','fromCharCode','compute','render','pressButton'];_0x2f5e=function(){return _0x59a4e5;};return _0x2f5e();}function getLines(_0x4f6c8b,_0x27f0a4,_0x51268){var _0x31f023=_0x3007c2,_0x9cc2c7=_0x27f0a4[_0x31f023(0xd6)]('\x20'),_0x295af5=[],_0x40bd1f=_0x9cc2c7[0x0];for(var _0x451556=0x1;_0x451556<_0x9cc2c7[_0x31f023(0xfc)];_0x451556++){var _0x15e8c3=_0x9cc2c7[_0x451556],_0x56953e=_0x4f6c8b[_0x31f023(0xfd)](_0x40bd1f+'\x20'+_0x15e8c3)[_0x31f023(0xd0)];_0x56953e<_0x51268?_0x40bd1f+='\x20'+_0x15e8c3:(_0x295af5[_0x31f023(0xfb)](_0x40bd1f),_0x40bd1f=_0x15e8c3);}return _0x295af5['push'](_0x40bd1f),_0x295af5;}