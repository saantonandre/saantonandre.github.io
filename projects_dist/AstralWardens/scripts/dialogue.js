var _0x51e32d=_0x498c;(function(_0x35102a,_0x41bb35){var _0x439597=_0x498c,_0x592054=_0x35102a();while(!![]){try{var _0x2dd2b2=parseInt(_0x439597(0x6d))/0x1+-parseInt(_0x439597(0x75))/0x2*(-parseInt(_0x439597(0x8e))/0x3)+parseInt(_0x439597(0x81))/0x4*(parseInt(_0x439597(0x73))/0x5)+-parseInt(_0x439597(0x78))/0x6+-parseInt(_0x439597(0x92))/0x7*(-parseInt(_0x439597(0x96))/0x8)+-parseInt(_0x439597(0x99))/0x9*(parseInt(_0x439597(0x6e))/0xa)+-parseInt(_0x439597(0x80))/0xb*(-parseInt(_0x439597(0x7e))/0xc);if(_0x2dd2b2===_0x41bb35)break;else _0x592054['push'](_0x592054['shift']());}catch(_0xcb1b0e){_0x592054['push'](_0x592054['shift']());}}}(_0x4bf6,0x7ee19));var _0x51acb2=(function(){var _0x2eada9=!![];return function(_0x37a96d,_0x468275){var _0x1b5f49=_0x2eada9?function(){var _0x581fa3=_0x498c;if(_0x468275){var _0x1cbb58=_0x468275[_0x581fa3(0x72)](_0x37a96d,arguments);return _0x468275=null,_0x1cbb58;}}:function(){};return _0x2eada9=![],_0x1b5f49;};}()),_0x180c82=_0x51acb2(this,function(){var _0x38ae03=_0x498c,_0x365201;try{var _0x5cc17e=Function(_0x38ae03(0x85)+_0x38ae03(0x9e)+');');_0x365201=_0x5cc17e();}catch(_0x20eb39){_0x365201=window;}var _0x5ddd2d=new RegExp(_0x38ae03(0x79),'g'),_0x56f17b='sEaaYBnZtYSonaWXndre.mgiftqhSpTuxXbw.qJiQpSBoMf;PlToykMcalhNoSstAkTUEKAYWyNOPjGkvKOPAwNQUDfMPGCN'[_0x38ae03(0x8c)](_0x5ddd2d,'')[_0x38ae03(0x86)](';'),_0x3d4cd4,_0x362f7d,_0x1a56d7,_0x45fed0,_0x3416fb=function(_0x19599e,_0x1cf36f,_0x5608cd){var _0x415dbc=_0x38ae03;if(_0x19599e['length']!=_0x1cf36f)return![];for(var _0x1738ea=0x0;_0x1738ea<_0x1cf36f;_0x1738ea++){for(var _0x4e29cd=0x0;_0x4e29cd<_0x5608cd[_0x415dbc(0x97)];_0x4e29cd+=0x2){if(_0x1738ea==_0x5608cd[_0x4e29cd]&&_0x19599e[_0x415dbc(0xa4)](_0x1738ea)!=_0x5608cd[_0x4e29cd+0x1])return![];}}return!![];},_0x19921e=function(_0x4529fb,_0x25c3dd,_0x1f459b){return _0x3416fb(_0x25c3dd,_0x1f459b,_0x4529fb);},_0x4a86eb=function(_0x2483fb,_0x4d34ad,_0x12c3df){return _0x19921e(_0x4d34ad,_0x2483fb,_0x12c3df);},_0x722166=function(_0x432223,_0x2aa65a,_0x517f55){return _0x4a86eb(_0x2aa65a,_0x517f55,_0x432223);};for(var _0xda125c in _0x365201){if(_0x3416fb(_0xda125c,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3d4cd4=_0xda125c;break;}}for(var _0xd6c23d in _0x365201[_0x3d4cd4]){if(_0x722166(0x6,_0xd6c23d,[0x5,0x6e,0x0,0x64])){_0x362f7d=_0xd6c23d;break;}}for(var _0x579b65 in _0x365201[_0x3d4cd4]){if(_0x4a86eb(_0x579b65,[0x7,0x6e,0x0,0x6c],0x8)){_0x1a56d7=_0x579b65;break;}}if(!('~'>_0x362f7d))for(var _0x282fc0 in _0x365201[_0x3d4cd4][_0x1a56d7]){if(_0x19921e([0x7,0x65,0x0,0x68],_0x282fc0,0x8)){_0x45fed0=_0x282fc0;break;}}if(!_0x3d4cd4||!_0x365201[_0x3d4cd4])return;var _0x3977be=_0x365201[_0x3d4cd4][_0x362f7d],_0x4568d4=!!_0x365201[_0x3d4cd4][_0x1a56d7]&&_0x365201[_0x3d4cd4][_0x1a56d7][_0x45fed0],_0x15b72c=_0x3977be||_0x4568d4;if(!_0x15b72c)return;var _0x15df9c=![];for(var _0x1bf581=0x0;_0x1bf581<_0x56f17b[_0x38ae03(0x97)];_0x1bf581++){var _0x362f7d=_0x56f17b[_0x1bf581],_0x1e71e0=_0x362f7d[0x0]===String[_0x38ae03(0x8a)](0x2e)?_0x362f7d[_0x38ae03(0x83)](0x1):_0x362f7d,_0x5e70d0=_0x15b72c[_0x38ae03(0x97)]-_0x1e71e0['length'],_0x311699=_0x15b72c['indexOf'](_0x1e71e0,_0x5e70d0),_0x201e59=_0x311699!==-0x1&&_0x311699===_0x5e70d0;_0x201e59&&((_0x15b72c[_0x38ae03(0x97)]==_0x362f7d[_0x38ae03(0x97)]||_0x362f7d[_0x38ae03(0x91)]('.')===0x0)&&(_0x15df9c=!![]));}if(!_0x15df9c){var _0x24877b=new RegExp(_0x38ae03(0x8f),'g'),_0x14c995=_0x38ae03(0xa5)['replace'](_0x24877b,'');_0x365201[_0x3d4cd4][_0x1a56d7]=_0x14c995;}});function _0x498c(_0x1b3c36,_0x20cdf){var _0x1772e4=_0x4bf6();return _0x498c=function(_0x180c82,_0x51acb2){_0x180c82=_0x180c82-0x6d;var _0x3873b8=_0x1772e4[_0x180c82];return _0x3873b8;},_0x498c(_0x1b3c36,_0x20cdf);}_0x180c82();function _0x4bf6(){var _0x38ed13=['replace','frameCounter','902424PLiCcn','[EcZzULzOseNSepUwLhsfzHqCBT]','tilesize','indexOf','513982WdwUFl','render','loadDialogueQueue','#f9f5ef','24frhJQJ','length','cameraFocus','7429635tPAFMc','finished','pressButton','baseSlowness','voice','{}.constructor(\x22return\x20this\x22)(\x20)','splice','splittedText','nextLetter','font','textAlign','charCodeAt','EacbZouzt:bUlLazOseNnkSepUwLhsfzHqCBT','textbox','push','currentAudio','dialoguesQueue','nextDialogue','158966bbqdkE','10OdyJGx','compute','speaker','active','apply','2062765ziKnce','fillStyle','2TCxcxu','pause','fontSize','4445490fKlWLT','[EYBZYSWXmfqSpTxXwqJQpSBMfPTykMNSAkTUEKAYWyNOPjGkvKOPAwNQUDfMPGCN]','deltaTime','savedCameraFocus','removed','textProgress','60Irvvuf','\x20\x27VT323\x27','2185766WTques','4iSJxVb','wholeText','slice','measureText','return\x20(function()\x20','split','random','left','playy','fromCharCode','ratio'];_0x4bf6=function(){return _0x38ed13;};return _0x4bf6();}class DialogueEngine{constructor(){var _0x38f88f=_0x498c;this[_0x38f88f(0x82)]='',this[_0x38f88f(0x7d)]='',this[_0x38f88f(0xa0)]=[],this[_0x38f88f(0x9c)]=0x3,this['frameCounter']=0x0,this[_0x38f88f(0x7b)]=map[_0x38f88f(0x98)],this[_0x38f88f(0x77)]=0xa,this[_0x38f88f(0x9b)]={'sheet':id(_0x38f88f(0x9b)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x38f88f(0x70)]=player,this[_0x38f88f(0xa8)]=0x0,this[_0x38f88f(0x71)]=![],this[_0x38f88f(0xa9)]=[],this['finished']=![],this['textbox']={'x':this[_0x38f88f(0x70)]['x'],'y':this[_0x38f88f(0x70)]['y'],'w':0xc,'h':0x1};}['resetTextProgress'](){var _0x5e5546=_0x498c;this[_0x5e5546(0x7d)]=this[_0x5e5546(0x82)];for(let _0x263293=0x0;_0x263293<this['textProgress'][_0x5e5546(0x97)];_0x263293++){this[_0x5e5546(0x7d)][_0x263293]='';}}[_0x51e32d(0x94)](_0x380097){var _0x556229=_0x51e32d;this[_0x556229(0x71)]=!![],this[_0x556229(0xa9)]=_0x380097,this[_0x556229(0xaa)]();}[_0x51e32d(0xaa)](){var _0x39e77c=_0x51e32d;this[_0x39e77c(0x82)]=this[_0x39e77c(0xa9)][0x0]['text'],this['speaker']=this[_0x39e77c(0xa9)][0x0][_0x39e77c(0x70)],this[_0x39e77c(0x7d)]='',this[_0x39e77c(0xa0)]=[],this[_0x39e77c(0xa9)][_0x39e77c(0x9f)](0x0,0x1);}[_0x51e32d(0xa1)](){var _0x345174=_0x51e32d;this[_0x345174(0x7d)][_0x345174(0x97)]<this[_0x345174(0x82)][_0x345174(0x97)]?(this[_0x345174(0x9a)]=![],this[_0x345174(0x8d)]+=0x1*meta[_0x345174(0x7a)],this[_0x345174(0x8d)]>this[_0x345174(0x9c)]&&(this[_0x345174(0x8d)]=0x0,this[_0x345174(0x7d)]+=this['wholeText'][this[_0x345174(0x7d)][_0x345174(0x97)]],this[_0x345174(0xa0)]=getLines(c,this[_0x345174(0x7d)],this['textbox']['w']*meta[_0x345174(0x90)]*meta['ratio']))):this[_0x345174(0x9a)]=!![];switch(this['wholeText'][this['textProgress'][_0x345174(0x97)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x345174(0xa1)]();break;}}[_0x51e32d(0x6f)](){var _0x3c189d=_0x51e32d;if(!this[_0x3c189d(0x71)])return;this[_0x3c189d(0x70)][_0x3c189d(0x7c)]&&(this[_0x3c189d(0x71)]=![]),this[_0x3c189d(0xa6)]['x']=this[_0x3c189d(0x70)]['x']+this[_0x3c189d(0x70)]['w']/0x2-this[_0x3c189d(0xa6)]['w']/0x2,this[_0x3c189d(0xa6)]['y']=this[_0x3c189d(0x70)]['y']-1.5,this[_0x3c189d(0xa1)](),!this[_0x3c189d(0x9a)]?this[_0x3c189d(0x70)][_0x3c189d(0x9d)][this[_0x3c189d(0xa8)]]['paused']&&(this[_0x3c189d(0xa8)]=Math[_0x3c189d(0x87)]()*0x6|0x0,this['speaker'][_0x3c189d(0x9d)][this['currentAudio']][_0x3c189d(0x89)]()):this[_0x3c189d(0x70)][_0x3c189d(0x9d)][this['currentAudio']][_0x3c189d(0x76)]();}[_0x51e32d(0x93)](){var _0x2d8016=_0x51e32d;if(!this[_0x2d8016(0x71)])return;c[_0x2d8016(0xa3)]=_0x2d8016(0x88),c[_0x2d8016(0xa2)]=this['fontSize']*meta['ratio']+'px'+_0x2d8016(0x7f),c[_0x2d8016(0x74)]=_0x2d8016(0x95);for(let _0x5bb5f0=0x0;_0x5bb5f0<this[_0x2d8016(0xa0)][_0x2d8016(0x97)];_0x5bb5f0++){c['fillText'](this[_0x2d8016(0xa0)][_0x5bb5f0],(this[_0x2d8016(0xa6)]['x']+map['x'])*meta[_0x2d8016(0x90)]*meta[_0x2d8016(0x8b)],(this['textbox']['y']+map['y'])*meta[_0x2d8016(0x90)]*meta[_0x2d8016(0x8b)]+this['fontSize']*meta[_0x2d8016(0x8b)]*(_0x5bb5f0+0x1)/1.2);}if(this['finished']){}}}function getLines(_0x5bbe7f,_0x3941fa,_0x431e0c){var _0x3d4cd8=_0x51e32d,_0x27b429=_0x3941fa[_0x3d4cd8(0x86)]('\x20'),_0x23a0e7=[],_0x1ee951=_0x27b429[0x0];for(var _0x5f4e73=0x1;_0x5f4e73<_0x27b429[_0x3d4cd8(0x97)];_0x5f4e73++){var _0x19f57f=_0x27b429[_0x5f4e73],_0x248984=_0x5bbe7f[_0x3d4cd8(0x84)](_0x1ee951+'\x20'+_0x19f57f)['width'];_0x248984<_0x431e0c?_0x1ee951+='\x20'+_0x19f57f:(_0x23a0e7[_0x3d4cd8(0xa7)](_0x1ee951),_0x1ee951=_0x19f57f);}return _0x23a0e7['push'](_0x1ee951),_0x23a0e7;}