var _0xf44c9b=_0x39c1;(function(_0x417d43,_0xf9f59e){var _0x5d6dfa=_0x39c1,_0x1ac7ef=_0x417d43();while(!![]){try{var _0x127d95=parseInt(_0x5d6dfa(0x95))/0x1+parseInt(_0x5d6dfa(0x83))/0x2*(parseInt(_0x5d6dfa(0x7f))/0x3)+parseInt(_0x5d6dfa(0x7a))/0x4+-parseInt(_0x5d6dfa(0x88))/0x5*(parseInt(_0x5d6dfa(0x80))/0x6)+parseInt(_0x5d6dfa(0xa8))/0x7*(-parseInt(_0x5d6dfa(0xac))/0x8)+-parseInt(_0x5d6dfa(0xa6))/0x9*(-parseInt(_0x5d6dfa(0x94))/0xa)+-parseInt(_0x5d6dfa(0x87))/0xb*(parseInt(_0x5d6dfa(0x8a))/0xc);if(_0x127d95===_0xf9f59e)break;else _0x1ac7ef['push'](_0x1ac7ef['shift']());}catch(_0x531a95){_0x1ac7ef['push'](_0x1ac7ef['shift']());}}}(_0x46a1,0x72875));function _0x39c1(_0x100138,_0x45fb41){var _0x312ae0=_0x46a1();return _0x39c1=function(_0x29b698,_0x3cef1e){_0x29b698=_0x29b698-0x75;var _0x369284=_0x312ae0[_0x29b698];return _0x369284;},_0x39c1(_0x100138,_0x45fb41);}var _0x3cef1e=(function(){var _0x4d1e80=!![];return function(_0x422a32,_0x9705b8){var _0x37c34c=_0x4d1e80?function(){var _0x1a209c=_0x39c1;if(_0x9705b8){var _0x59f52b=_0x9705b8[_0x1a209c(0x90)](_0x422a32,arguments);return _0x9705b8=null,_0x59f52b;}}:function(){};return _0x4d1e80=![],_0x37c34c;};}()),_0x29b698=_0x3cef1e(this,function(){var _0x52ee1c=_0x39c1,_0x51aaa0;try{var _0x13b3ad=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x51aaa0=_0x13b3ad();}catch(_0x95e1a7){_0x51aaa0=window;}var _0x138f5c=new RegExp('[DSJyGqmwxHVzZXWvGZkwZykBOBDZqmKYfAkqBVkHTFPZTXCFVwzjGVRvSAJFfWRfQIqDGqRfx]','g'),_0x495e0b='sDaSanJtyGonaqndrmwxe.HVzZXgitWhvub.iGZo;klwZykBoOBDZcalhqomKstYfAkqBVkHTFPZTXCFVwzjGVRvSAJFfWRfQIqDGqRfx'[_0x52ee1c(0x92)](_0x138f5c,'')['split'](';'),_0x50d8d4,_0x384172,_0x477962,_0x5cceb0,_0x348746=function(_0x5eebaa,_0x33e687,_0x56148f){var _0x4752bf=_0x52ee1c;if(_0x5eebaa['length']!=_0x33e687)return![];for(var _0x3661d9=0x0;_0x3661d9<_0x33e687;_0x3661d9++){for(var _0x485419=0x0;_0x485419<_0x56148f[_0x4752bf(0xa9)];_0x485419+=0x2){if(_0x3661d9==_0x56148f[_0x485419]&&_0x5eebaa['charCodeAt'](_0x3661d9)!=_0x56148f[_0x485419+0x1])return![];}}return!![];},_0x593868=function(_0x4687fe,_0x58428b,_0xdd9365){return _0x348746(_0x58428b,_0xdd9365,_0x4687fe);},_0x22f1d2=function(_0x3fd540,_0x3475e3,_0x3e73c0){return _0x593868(_0x3475e3,_0x3fd540,_0x3e73c0);},_0x2a74a1=function(_0x2739c1,_0x5f0af7,_0x2a7ddd){return _0x22f1d2(_0x5f0af7,_0x2a7ddd,_0x2739c1);};for(var _0x36c95c in _0x51aaa0){if(_0x348746(_0x36c95c,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x50d8d4=_0x36c95c;break;}}for(var _0x56ec08 in _0x51aaa0[_0x50d8d4]){if(_0x2a74a1(0x6,_0x56ec08,[0x5,0x6e,0x0,0x64])){_0x384172=_0x56ec08;break;}}for(var _0x191e3e in _0x51aaa0[_0x50d8d4]){if(_0x22f1d2(_0x191e3e,[0x7,0x6e,0x0,0x6c],0x8)){_0x477962=_0x191e3e;break;}}if(!('~'>_0x384172))for(var _0x45e953 in _0x51aaa0[_0x50d8d4][_0x477962]){if(_0x593868([0x7,0x65,0x0,0x68],_0x45e953,0x8)){_0x5cceb0=_0x45e953;break;}}if(!_0x50d8d4||!_0x51aaa0[_0x50d8d4])return;var _0x2f6301=_0x51aaa0[_0x50d8d4][_0x384172],_0x371e7d=!!_0x51aaa0[_0x50d8d4][_0x477962]&&_0x51aaa0[_0x50d8d4][_0x477962][_0x5cceb0],_0x3cae1e=_0x2f6301||_0x371e7d;if(!_0x3cae1e)return;var _0x151ea8=![];for(var _0x2deba5=0x0;_0x2deba5<_0x495e0b[_0x52ee1c(0xa9)];_0x2deba5++){var _0x384172=_0x495e0b[_0x2deba5],_0x202af4=_0x384172[0x0]===String[_0x52ee1c(0x77)](0x2e)?_0x384172[_0x52ee1c(0x7c)](0x1):_0x384172,_0x248bd9=_0x3cae1e[_0x52ee1c(0xa9)]-_0x202af4[_0x52ee1c(0xa9)],_0x1dbfd6=_0x3cae1e[_0x52ee1c(0xa5)](_0x202af4,_0x248bd9),_0x26965a=_0x1dbfd6!==-0x1&&_0x1dbfd6===_0x248bd9;_0x26965a&&((_0x3cae1e['length']==_0x384172['length']||_0x384172[_0x52ee1c(0xa5)]('.')===0x0)&&(_0x151ea8=!![]));}if(!_0x151ea8){var _0x25566d=new RegExp(_0x52ee1c(0xa7),'g'),_0x5cd665=_0x52ee1c(0x76)[_0x52ee1c(0x92)](_0x25566d,'');_0x51aaa0[_0x50d8d4][_0x477962]=_0x5cd665;}});_0x29b698();class DialogueEngine{constructor(){var _0x2eec85=_0x39c1;this[_0x2eec85(0x99)]='',this[_0x2eec85(0x75)]='',this[_0x2eec85(0x91)]=[],this[_0x2eec85(0x8c)]=0x3,this[_0x2eec85(0x82)]=0x0,this[_0x2eec85(0x81)]=map[_0x2eec85(0xa4)],this['fontSize']=0xa,this['pressButton']={'sheet':id(_0x2eec85(0x8b)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x2eec85(0xa3)]=player,this[_0x2eec85(0x93)]=0x0,this[_0x2eec85(0xa2)]=![],this[_0x2eec85(0x78)]=[],this[_0x2eec85(0xa1)]=![],this['textbox']={'x':this['speaker']['x'],'y':this[_0x2eec85(0xa3)]['y'],'w':0xc,'h':0x1};}['resetTextProgress'](){var _0x13ee4e=_0x39c1;this[_0x13ee4e(0x75)]=this[_0x13ee4e(0x99)];for(let _0x41bf08=0x0;_0x41bf08<this[_0x13ee4e(0x75)][_0x13ee4e(0xa9)];_0x41bf08++){this['textProgress'][_0x41bf08]='';}}[_0xf44c9b(0x8f)](_0x1f1858){var _0x420454=_0xf44c9b;this[_0x420454(0xa2)]=!![],this[_0x420454(0x78)]=_0x1f1858,this[_0x420454(0x9c)]();}[_0xf44c9b(0x9c)](){var _0x1da830=_0xf44c9b;this[_0x1da830(0x99)]=this[_0x1da830(0x78)][0x0]['text'],this[_0x1da830(0xa3)]=this['dialoguesQueue'][0x0][_0x1da830(0xa3)],this[_0x1da830(0x75)]='',this['splittedText']=[],this[_0x1da830(0x78)]['splice'](0x0,0x1);}[_0xf44c9b(0x8e)](){var _0x41860b=_0xf44c9b;this[_0x41860b(0x75)]['length']<this[_0x41860b(0x99)]['length']?(this['finished']=![],this[_0x41860b(0x82)]+=0x1*meta[_0x41860b(0x98)],this[_0x41860b(0x82)]>this['baseSlowness']&&(this[_0x41860b(0x82)]=0x0,this[_0x41860b(0x75)]+=this[_0x41860b(0x99)][this[_0x41860b(0x75)][_0x41860b(0xa9)]],this[_0x41860b(0x91)]=getLines(c,this['textProgress'],this[_0x41860b(0x7b)]['w']*meta[_0x41860b(0x9b)]*meta[_0x41860b(0x86)]))):this['finished']=!![];switch(this[_0x41860b(0x99)][this[_0x41860b(0x75)][_0x41860b(0xa9)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this['nextLetter']();break;}}[_0xf44c9b(0x9a)](){var _0x3dc945=_0xf44c9b;if(!this[_0x3dc945(0xa2)])return;this['speaker'][_0x3dc945(0xa0)]&&(this['active']=![]),this['textbox']['x']=this[_0x3dc945(0xa3)]['x']+this[_0x3dc945(0xa3)]['w']/0x2-this[_0x3dc945(0x7b)]['w']/0x2,this[_0x3dc945(0x7b)]['y']=this[_0x3dc945(0xa3)]['y']-1.5,this[_0x3dc945(0x8e)](),!this[_0x3dc945(0xa1)]?this['speaker']['voice'][this[_0x3dc945(0x93)]]['paused']&&(this['currentAudio']=Math[_0x3dc945(0x84)]()*0x6|0x0,this[_0x3dc945(0xa3)][_0x3dc945(0x9f)][this['currentAudio']][_0x3dc945(0x89)]()):this[_0x3dc945(0xa3)][_0x3dc945(0x9f)][this[_0x3dc945(0x93)]][_0x3dc945(0x7d)]();}[_0xf44c9b(0x97)](){var _0x1b6d72=_0xf44c9b;if(!this[_0x1b6d72(0xa2)])return;c[_0x1b6d72(0x9e)]=_0x1b6d72(0xaa),c[_0x1b6d72(0x79)]=this[_0x1b6d72(0x85)]*meta[_0x1b6d72(0x86)]+'px'+'\x20\x27VT323\x27',c[_0x1b6d72(0x96)]=_0x1b6d72(0x8d);for(let _0x1fb4b9=0x0;_0x1fb4b9<this['splittedText']['length'];_0x1fb4b9++){c[_0x1b6d72(0x7e)](this[_0x1b6d72(0x91)][_0x1fb4b9],(this[_0x1b6d72(0x7b)]['x']+map['x'])*meta[_0x1b6d72(0x9b)]*meta[_0x1b6d72(0x86)],(this[_0x1b6d72(0x7b)]['y']+map['y'])*meta[_0x1b6d72(0x9b)]*meta[_0x1b6d72(0x86)]+this[_0x1b6d72(0x85)]*meta[_0x1b6d72(0x86)]*(_0x1fb4b9+0x1)/1.2);}if(this[_0x1b6d72(0xa1)]){}}}function _0x46a1(){var _0x104ea5=['2775339uBGwWt','[ysCdIwBcLfPMcBcEQxYZYehZNYjw]','60361nHfOLr','length','left','measureText','664bKWrnL','textProgress','abyout:blsaCndkIwBcLfPMcBcEQxYZYehZNYjw','fromCharCode','dialoguesQueue','font','3095624qzLyqh','textbox','slice','pause','fillText','6eNoltY','12fOBXVc','savedCameraFocus','frameCounter','697962axWEdC','random','fontSize','ratio','22ScNDqG','173920vkhvTh','playy','7302276QncHfG','pressButton','baseSlowness','#f9f5ef','nextLetter','loadDialogueQueue','apply','splittedText','replace','currentAudio','10BaHJdC','691193kjaoAd','fillStyle','render','deltaTime','wholeText','compute','tilesize','nextDialogue','push','textAlign','voice','removed','finished','active','speaker','cameraFocus','indexOf'];_0x46a1=function(){return _0x104ea5;};return _0x46a1();}function getLines(_0x21b24b,_0x52f794,_0xceb787){var _0x56e998=_0xf44c9b,_0x53c6c7=_0x52f794['split']('\x20'),_0x1686f1=[],_0x5807c1=_0x53c6c7[0x0];for(var _0x185256=0x1;_0x185256<_0x53c6c7['length'];_0x185256++){var _0x5763ab=_0x53c6c7[_0x185256],_0x5cb112=_0x21b24b[_0x56e998(0xab)](_0x5807c1+'\x20'+_0x5763ab)['width'];_0x5cb112<_0xceb787?_0x5807c1+='\x20'+_0x5763ab:(_0x1686f1[_0x56e998(0x9d)](_0x5807c1),_0x5807c1=_0x5763ab);}return _0x1686f1[_0x56e998(0x9d)](_0x5807c1),_0x1686f1;}