var _0x360fa1=_0x328a;(function(_0x377ad2,_0x422b19){var _0x3b7728=_0x328a,_0x435d8a=_0x377ad2();while(!![]){try{var _0x188dfe=parseInt(_0x3b7728(0x96))/0x1+-parseInt(_0x3b7728(0x9a))/0x2*(-parseInt(_0x3b7728(0xad))/0x3)+parseInt(_0x3b7728(0xb1))/0x4+parseInt(_0x3b7728(0xc8))/0x5*(-parseInt(_0x3b7728(0xc5))/0x6)+parseInt(_0x3b7728(0xb6))/0x7+parseInt(_0x3b7728(0xa6))/0x8*(-parseInt(_0x3b7728(0xb5))/0x9)+-parseInt(_0x3b7728(0xaf))/0xa;if(_0x188dfe===_0x422b19)break;else _0x435d8a['push'](_0x435d8a['shift']());}catch(_0x298d5e){_0x435d8a['push'](_0x435d8a['shift']());}}}(_0x50ed,0x525d0));function _0x50ed(){var _0x45c9b0=['fillText','speaker','faLUbmout:bNplaiHnkGxHxfDApdEmfLxsSHIM','ratio','resetTextProgress','length','frameCounter','voice','pause','24hmRjsG','pressButton','splice','splittedText','fontSize','loadDialogueQueue','dialoguesQueue','12npAVwo','replace','926250quULIM','[MyAOmUqRLHTMNRqKBFLjEMVOGATMMLxDfGyHpxOIPIFLKXOIOqNVzqKVOJDFIxpjMHBKJj]','2119336uiUTRR','nextLetter','\x20\x27VT323\x27','{}.constructor(\x22return\x20this\x22)(\x20)','1207593vZPRnf','1068137KtvxKs','measureText','charCodeAt','font','removed','textProgress','text','apply','finished','split','wholeText','random','savedCameraFocus','active','currentAudio','1970754MCEWzU','MsyAaanOmtUoqnaRnLHdTMNRqKBre.FLgijEMthVub.io;lOGocalhoATMstMLxDfGyHpxOIPIFLKXOIOqNVzqKVOJDFIxpjMHBKJj','tilesize','10Yefqbv','[fLUmNpiHGxHxfDApdEmfLxsSHIM]','508069efsudF','indexOf','nextDialogue','render','149470GAQyRj','baseSlowness','textbox'];_0x50ed=function(){return _0x45c9b0;};return _0x50ed();}function _0x328a(_0x231acd,_0x592db0){var _0x167734=_0x50ed();return _0x328a=function(_0x3f852a,_0x2ac8a6){_0x3f852a=_0x3f852a-0x95;var _0x495d40=_0x167734[_0x3f852a];return _0x495d40;},_0x328a(_0x231acd,_0x592db0);}var _0x2ac8a6=(function(){var _0xa6e2a6=!![];return function(_0x4c9b33,_0x445350){var _0x2ee72a=_0xa6e2a6?function(){var _0x2c4cd2=_0x328a;if(_0x445350){var _0x328e81=_0x445350[_0x2c4cd2(0xbd)](_0x4c9b33,arguments);return _0x445350=null,_0x328e81;}}:function(){};return _0xa6e2a6=![],_0x2ee72a;};}()),_0x3f852a=_0x2ac8a6(this,function(){var _0x4dff09=_0x328a,_0x5257cc;try{var _0x16d103=Function('return\x20(function()\x20'+_0x4dff09(0xb4)+');');_0x5257cc=_0x16d103();}catch(_0x5484d1){_0x5257cc=window;}var _0x594447=new RegExp(_0x4dff09(0xb0),'g'),_0x3c5ff5=_0x4dff09(0xc6)['replace'](_0x594447,'')['split'](';'),_0x4d3e16,_0x4b9700,_0x3c6797,_0x5a921f,_0x173219=function(_0x569848,_0x1ab288,_0x230292){var _0x5d4e6a=_0x4dff09;if(_0x569848['length']!=_0x1ab288)return![];for(var _0x16076c=0x0;_0x16076c<_0x1ab288;_0x16076c++){for(var _0x3242d8=0x0;_0x3242d8<_0x230292[_0x5d4e6a(0xa2)];_0x3242d8+=0x2){if(_0x16076c==_0x230292[_0x3242d8]&&_0x569848[_0x5d4e6a(0xb8)](_0x16076c)!=_0x230292[_0x3242d8+0x1])return![];}}return!![];},_0x487bbd=function(_0x2d5fa0,_0x3021db,_0x5b9065){return _0x173219(_0x3021db,_0x5b9065,_0x2d5fa0);},_0xc7fab7=function(_0x5eea9c,_0x177010,_0x3fb099){return _0x487bbd(_0x177010,_0x5eea9c,_0x3fb099);},_0x52ad45=function(_0x3b9e23,_0x2398bb,_0x8da541){return _0xc7fab7(_0x2398bb,_0x8da541,_0x3b9e23);};for(var _0x4357b7 in _0x5257cc){if(_0x173219(_0x4357b7,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4d3e16=_0x4357b7;break;}}for(var _0x2fec87 in _0x5257cc[_0x4d3e16]){if(_0x52ad45(0x6,_0x2fec87,[0x5,0x6e,0x0,0x64])){_0x4b9700=_0x2fec87;break;}}for(var _0x45e913 in _0x5257cc[_0x4d3e16]){if(_0xc7fab7(_0x45e913,[0x7,0x6e,0x0,0x6c],0x8)){_0x3c6797=_0x45e913;break;}}if(!('~'>_0x4b9700))for(var _0x326b20 in _0x5257cc[_0x4d3e16][_0x3c6797]){if(_0x487bbd([0x7,0x65,0x0,0x68],_0x326b20,0x8)){_0x5a921f=_0x326b20;break;}}if(!_0x4d3e16||!_0x5257cc[_0x4d3e16])return;var _0x53c4d0=_0x5257cc[_0x4d3e16][_0x4b9700],_0x5751ec=!!_0x5257cc[_0x4d3e16][_0x3c6797]&&_0x5257cc[_0x4d3e16][_0x3c6797][_0x5a921f],_0x40d2fa=_0x53c4d0||_0x5751ec;if(!_0x40d2fa)return;var _0xcb499=![];for(var _0xfcbdf3=0x0;_0xfcbdf3<_0x3c5ff5[_0x4dff09(0xa2)];_0xfcbdf3++){var _0x4b9700=_0x3c5ff5[_0xfcbdf3],_0x37b0ea=_0x4b9700[0x0]===String['fromCharCode'](0x2e)?_0x4b9700['slice'](0x1):_0x4b9700,_0xc78856=_0x40d2fa[_0x4dff09(0xa2)]-_0x37b0ea['length'],_0x363ee1=_0x40d2fa[_0x4dff09(0x97)](_0x37b0ea,_0xc78856),_0xdfe819=_0x363ee1!==-0x1&&_0x363ee1===_0xc78856;_0xdfe819&&((_0x40d2fa[_0x4dff09(0xa2)]==_0x4b9700['length']||_0x4b9700[_0x4dff09(0x97)]('.')===0x0)&&(_0xcb499=!![]));}if(!_0xcb499){var _0x154cbd=new RegExp(_0x4dff09(0x95),'g'),_0x1b7226=_0x4dff09(0x9f)[_0x4dff09(0xae)](_0x154cbd,'');_0x5257cc[_0x4d3e16][_0x3c6797]=_0x1b7226;}});_0x3f852a();class DialogueEngine{constructor(){var _0xacc49e=_0x328a;this[_0xacc49e(0xc0)]='',this[_0xacc49e(0xbb)]='',this['splittedText']=[],this[_0xacc49e(0x9b)]=0x3,this[_0xacc49e(0xa3)]=0x0,this[_0xacc49e(0xc2)]=map['cameraFocus'],this[_0xacc49e(0xaa)]=0xa,this[_0xacc49e(0xa7)]={'sheet':id(_0xacc49e(0xa7)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0xacc49e(0x9e)]=player,this[_0xacc49e(0xc4)]=0x0,this[_0xacc49e(0xc3)]=![],this[_0xacc49e(0xac)]=[],this[_0xacc49e(0xbe)]=![],this[_0xacc49e(0x9c)]={'x':this['speaker']['x'],'y':this[_0xacc49e(0x9e)]['y'],'w':0xc,'h':0x1};}[_0x360fa1(0xa1)](){var _0x18d983=_0x360fa1;this[_0x18d983(0xbb)]=this[_0x18d983(0xc0)];for(let _0x2f85fd=0x0;_0x2f85fd<this[_0x18d983(0xbb)][_0x18d983(0xa2)];_0x2f85fd++){this[_0x18d983(0xbb)][_0x2f85fd]='';}}[_0x360fa1(0xab)](_0x38b3e3){var _0x5e2953=_0x360fa1;this[_0x5e2953(0xc3)]=!![],this[_0x5e2953(0xac)]=_0x38b3e3,this['nextDialogue']();}[_0x360fa1(0x98)](){var _0x5eb63e=_0x360fa1;this[_0x5eb63e(0xc0)]=this[_0x5eb63e(0xac)][0x0][_0x5eb63e(0xbc)],this['speaker']=this[_0x5eb63e(0xac)][0x0][_0x5eb63e(0x9e)],this['textProgress']='',this['splittedText']=[],this['dialoguesQueue'][_0x5eb63e(0xa8)](0x0,0x1);}['nextLetter'](){var _0x323d01=_0x360fa1;this[_0x323d01(0xbb)][_0x323d01(0xa2)]<this[_0x323d01(0xc0)][_0x323d01(0xa2)]?(this[_0x323d01(0xbe)]=![],this[_0x323d01(0xa3)]+=0x1*meta['deltaTime'],this['frameCounter']>this[_0x323d01(0x9b)]&&(this['frameCounter']=0x0,this[_0x323d01(0xbb)]+=this[_0x323d01(0xc0)][this['textProgress']['length']],this[_0x323d01(0xa9)]=getLines(c,this[_0x323d01(0xbb)],this[_0x323d01(0x9c)]['w']*meta[_0x323d01(0xc7)]*meta[_0x323d01(0xa0)]))):this['finished']=!![];switch(this[_0x323d01(0xc0)][this[_0x323d01(0xbb)]['length']]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x323d01(0xb2)]();break;}}['compute'](){var _0x927229=_0x360fa1;if(!this[_0x927229(0xc3)])return;this[_0x927229(0x9e)][_0x927229(0xba)]&&(this[_0x927229(0xc3)]=![]),this['textbox']['x']=this[_0x927229(0x9e)]['x']+this[_0x927229(0x9e)]['w']/0x2-this[_0x927229(0x9c)]['w']/0x2,this['textbox']['y']=this['speaker']['y']-1.5,this[_0x927229(0xb2)](),!this['finished']?this[_0x927229(0x9e)][_0x927229(0xa4)][this[_0x927229(0xc4)]]['paused']&&(this[_0x927229(0xc4)]=Math[_0x927229(0xc1)]()*0x6|0x0,this[_0x927229(0x9e)]['voice'][this[_0x927229(0xc4)]]['playy']()):this[_0x927229(0x9e)][_0x927229(0xa4)][this[_0x927229(0xc4)]][_0x927229(0xa5)]();}[_0x360fa1(0x99)](){var _0x493abd=_0x360fa1;if(!this['active'])return;c['textAlign']='left',c[_0x493abd(0xb9)]=this[_0x493abd(0xaa)]*meta[_0x493abd(0xa0)]+'px'+_0x493abd(0xb3),c['fillStyle']='#f9f5ef';for(let _0x449da0=0x0;_0x449da0<this[_0x493abd(0xa9)][_0x493abd(0xa2)];_0x449da0++){c[_0x493abd(0x9d)](this[_0x493abd(0xa9)][_0x449da0],(this[_0x493abd(0x9c)]['x']+map['x'])*meta[_0x493abd(0xc7)]*meta['ratio'],(this['textbox']['y']+map['y'])*meta[_0x493abd(0xc7)]*meta[_0x493abd(0xa0)]+this[_0x493abd(0xaa)]*meta[_0x493abd(0xa0)]*(_0x449da0+0x1)/1.2);}if(this[_0x493abd(0xbe)]){}}}function getLines(_0xbc7d07,_0x351145,_0x113430){var _0x336f98=_0x360fa1,_0x42e9d6=_0x351145[_0x336f98(0xbf)]('\x20'),_0x5c400a=[],_0x537842=_0x42e9d6[0x0];for(var _0x25dbf9=0x1;_0x25dbf9<_0x42e9d6[_0x336f98(0xa2)];_0x25dbf9++){var _0x55022c=_0x42e9d6[_0x25dbf9],_0x190bca=_0xbc7d07[_0x336f98(0xb7)](_0x537842+'\x20'+_0x55022c)['width'];_0x190bca<_0x113430?_0x537842+='\x20'+_0x55022c:(_0x5c400a['push'](_0x537842),_0x537842=_0x55022c);}return _0x5c400a['push'](_0x537842),_0x5c400a;}