var _0x3ffe31=_0x5042;(function(_0x5e7552,_0x4efee0){var _0x36884d=_0x5042,_0x534a6b=_0x5e7552();while(!![]){try{var _0x9691b2=parseInt(_0x36884d(0x17e))/0x1*(-parseInt(_0x36884d(0x175))/0x2)+parseInt(_0x36884d(0x164))/0x3*(parseInt(_0x36884d(0x171))/0x4)+-parseInt(_0x36884d(0x15d))/0x5*(-parseInt(_0x36884d(0x14d))/0x6)+-parseInt(_0x36884d(0x17b))/0x7*(parseInt(_0x36884d(0x14e))/0x8)+parseInt(_0x36884d(0x176))/0x9+-parseInt(_0x36884d(0x149))/0xa*(-parseInt(_0x36884d(0x16b))/0xb)+parseInt(_0x36884d(0x150))/0xc*(-parseInt(_0x36884d(0x147))/0xd);if(_0x9691b2===_0x4efee0)break;else _0x534a6b['push'](_0x534a6b['shift']());}catch(_0x33b370){_0x534a6b['push'](_0x534a6b['shift']());}}}(_0x31de,0x8279d));function _0x5042(_0x11d286,_0x326d87){var _0x534b16=_0x31de();return _0x5042=function(_0x20954d,_0x241591){_0x20954d=_0x20954d-0x144;var _0x3e99fd=_0x534b16[_0x20954d];return _0x3e99fd;},_0x5042(_0x11d286,_0x326d87);}var _0x241591=(function(){var _0x4e6dff=!![];return function(_0x390fe9,_0x948ca){var _0x564a67=_0x4e6dff?function(){var _0x87d312=_0x5042;if(_0x948ca){var _0x24a243=_0x948ca[_0x87d312(0x15f)](_0x390fe9,arguments);return _0x948ca=null,_0x24a243;}}:function(){};return _0x4e6dff=![],_0x564a67;};}()),_0x20954d=_0x241591(this,function(){var _0x28d27d=_0x5042,_0x4c05f7;try{var _0xbf4c60=Function(_0x28d27d(0x146)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4c05f7=_0xbf4c60();}catch(_0x3a6761){_0x4c05f7=window;}var _0x44e474=new RegExp(_0x28d27d(0x181),'g'),_0x4b3d64=_0x28d27d(0x154)[_0x28d27d(0x158)](_0x44e474,'')[_0x28d27d(0x151)](';'),_0x1b6394,_0x486e11,_0x43e398,_0x1267bb,_0x581b62=function(_0x595184,_0x313896,_0x39b427){var _0x2c1dcd=_0x28d27d;if(_0x595184['length']!=_0x313896)return![];for(var _0x1a7dda=0x0;_0x1a7dda<_0x313896;_0x1a7dda++){for(var _0x2aa115=0x0;_0x2aa115<_0x39b427['length'];_0x2aa115+=0x2){if(_0x1a7dda==_0x39b427[_0x2aa115]&&_0x595184[_0x2c1dcd(0x155)](_0x1a7dda)!=_0x39b427[_0x2aa115+0x1])return![];}}return!![];},_0x38a165=function(_0x51b1d4,_0x2e64d1,_0x533982){return _0x581b62(_0x2e64d1,_0x533982,_0x51b1d4);},_0x23b66a=function(_0x4d8ca8,_0x8c6c95,_0x5512dc){return _0x38a165(_0x8c6c95,_0x4d8ca8,_0x5512dc);},_0x3abc70=function(_0x388280,_0x461501,_0x4e15e6){return _0x23b66a(_0x461501,_0x4e15e6,_0x388280);};for(var _0x2d994d in _0x4c05f7){if(_0x581b62(_0x2d994d,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1b6394=_0x2d994d;break;}}for(var _0x5dd25c in _0x4c05f7[_0x1b6394]){if(_0x3abc70(0x6,_0x5dd25c,[0x5,0x6e,0x0,0x64])){_0x486e11=_0x5dd25c;break;}}for(var _0x45ca17 in _0x4c05f7[_0x1b6394]){if(_0x23b66a(_0x45ca17,[0x7,0x6e,0x0,0x6c],0x8)){_0x43e398=_0x45ca17;break;}}if(!('~'>_0x486e11))for(var _0x1a7b73 in _0x4c05f7[_0x1b6394][_0x43e398]){if(_0x38a165([0x7,0x65,0x0,0x68],_0x1a7b73,0x8)){_0x1267bb=_0x1a7b73;break;}}if(!_0x1b6394||!_0x4c05f7[_0x1b6394])return;var _0xdc09f=_0x4c05f7[_0x1b6394][_0x486e11],_0x320ca2=!!_0x4c05f7[_0x1b6394][_0x43e398]&&_0x4c05f7[_0x1b6394][_0x43e398][_0x1267bb],_0x4a856a=_0xdc09f||_0x320ca2;if(!_0x4a856a)return;var _0x3bb405=![];for(var _0x1116d3=0x0;_0x1116d3<_0x4b3d64['length'];_0x1116d3++){var _0x486e11=_0x4b3d64[_0x1116d3],_0x1a73de=_0x486e11[0x0]===String[_0x28d27d(0x148)](0x2e)?_0x486e11[_0x28d27d(0x180)](0x1):_0x486e11,_0x46caae=_0x4a856a['length']-_0x1a73de[_0x28d27d(0x152)],_0x1036a8=_0x4a856a[_0x28d27d(0x178)](_0x1a73de,_0x46caae),_0x3bbcf7=_0x1036a8!==-0x1&&_0x1036a8===_0x46caae;_0x3bbcf7&&((_0x4a856a[_0x28d27d(0x152)]==_0x486e11[_0x28d27d(0x152)]||_0x486e11[_0x28d27d(0x178)]('.')===0x0)&&(_0x3bb405=!![]));}if(!_0x3bb405){var _0x2b01da=new RegExp(_0x28d27d(0x145),'g'),_0x4e25cd=_0x28d27d(0x179)['replace'](_0x2b01da,'');_0x4c05f7[_0x1b6394][_0x43e398]=_0x4e25cd;}});function _0x31de(){var _0x19262f=['render','finished','3384425ynvrzR','fontSize','apply','frameCounter','left','splice','nextLetter','113379iFNEtL','font','resetTextProgress','active','textAlign','fillStyle','pressButton','3267evFEMO','measureText','compute','wholeText','speaker','ratio','12NRwIQz','removed','tilesize','textbox','664GiUSON','9041391LgYhzz','fillText','indexOf','saYbouWgt:blaJOnkvEZHxOHsmUysVCOIfCL','playy','19558rSovSI','pause','nextDialogue','2568GupvDi','voice','slice','[IAVALvZjwYRZwQUqMQEKYxFRJvkFAAzKJAxkSDCQkyCTXIyDvLqDEjpXkxzkkKzAJwFBDyC]','#f9f5ef','textProgress','[sYWgJOvEZHxOHsmUysVCOIfCL]','return\x20(function()\x20','2517801FfIeYY','fromCharCode','15050oIDfvt','splittedText','cameraFocus','text','6PuZnSj','784rWaNhs','baseSlowness','36RZNyfj','split','length','deltaTime','IAVAsaLantvoZjwnaYnRdreZ.gitwhub.QUiqoM;QElKocalhYxoFsRJtvkFAAzKJAxkSDCQkyCTXIyDvLqDEjpXkxzkkKzAJwFBDyC','charCodeAt','push','currentAudio','replace','random','dialoguesQueue'];_0x31de=function(){return _0x19262f;};return _0x31de();}_0x20954d();class DialogueEngine{constructor(){var _0x4b597c=_0x5042;this[_0x4b597c(0x16e)]='',this[_0x4b597c(0x144)]='',this['splittedText']=[],this[_0x4b597c(0x14f)]=0x3,this[_0x4b597c(0x160)]=0x0,this['savedCameraFocus']=map[_0x4b597c(0x14b)],this[_0x4b597c(0x15e)]=0xa,this[_0x4b597c(0x16a)]={'sheet':id(_0x4b597c(0x16a)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x4b597c(0x16f)]=player,this[_0x4b597c(0x157)]=0x0,this[_0x4b597c(0x167)]=![],this[_0x4b597c(0x15a)]=[],this[_0x4b597c(0x15c)]=![],this[_0x4b597c(0x174)]={'x':this['speaker']['x'],'y':this[_0x4b597c(0x16f)]['y'],'w':0xc,'h':0x1};}[_0x3ffe31(0x166)](){var _0x4bc6ad=_0x3ffe31;this[_0x4bc6ad(0x144)]=this[_0x4bc6ad(0x16e)];for(let _0x5aedb7=0x0;_0x5aedb7<this[_0x4bc6ad(0x144)][_0x4bc6ad(0x152)];_0x5aedb7++){this[_0x4bc6ad(0x144)][_0x5aedb7]='';}}['loadDialogueQueue'](_0x490ed7){var _0x121251=_0x3ffe31;this[_0x121251(0x167)]=!![],this['dialoguesQueue']=_0x490ed7,this[_0x121251(0x17d)]();}['nextDialogue'](){var _0x127c28=_0x3ffe31;this['wholeText']=this['dialoguesQueue'][0x0][_0x127c28(0x14c)],this[_0x127c28(0x16f)]=this[_0x127c28(0x15a)][0x0]['speaker'],this[_0x127c28(0x144)]='',this[_0x127c28(0x14a)]=[],this[_0x127c28(0x15a)][_0x127c28(0x162)](0x0,0x1);}['nextLetter'](){var _0x53ec13=_0x3ffe31;this[_0x53ec13(0x144)][_0x53ec13(0x152)]<this['wholeText'][_0x53ec13(0x152)]?(this[_0x53ec13(0x15c)]=![],this[_0x53ec13(0x160)]+=0x1*meta[_0x53ec13(0x153)],this[_0x53ec13(0x160)]>this[_0x53ec13(0x14f)]&&(this[_0x53ec13(0x160)]=0x0,this[_0x53ec13(0x144)]+=this[_0x53ec13(0x16e)][this['textProgress'][_0x53ec13(0x152)]],this['splittedText']=getLines(c,this['textProgress'],this['textbox']['w']*meta['tilesize']*meta[_0x53ec13(0x170)]))):this['finished']=!![];switch(this[_0x53ec13(0x16e)][this[_0x53ec13(0x144)]['length']]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x53ec13(0x163)]();break;}}[_0x3ffe31(0x16d)](){var _0xc7b872=_0x3ffe31;if(!this[_0xc7b872(0x167)])return;this[_0xc7b872(0x16f)][_0xc7b872(0x172)]&&(this[_0xc7b872(0x167)]=![]),this[_0xc7b872(0x174)]['x']=this[_0xc7b872(0x16f)]['x']+this[_0xc7b872(0x16f)]['w']/0x2-this[_0xc7b872(0x174)]['w']/0x2,this[_0xc7b872(0x174)]['y']=this[_0xc7b872(0x16f)]['y']-1.5,this[_0xc7b872(0x163)](),!this[_0xc7b872(0x15c)]?this['speaker'][_0xc7b872(0x17f)][this[_0xc7b872(0x157)]]['paused']&&(this[_0xc7b872(0x157)]=Math[_0xc7b872(0x159)]()*0x6|0x0,this[_0xc7b872(0x16f)][_0xc7b872(0x17f)][this[_0xc7b872(0x157)]][_0xc7b872(0x17a)]()):this[_0xc7b872(0x16f)][_0xc7b872(0x17f)][this['currentAudio']][_0xc7b872(0x17c)]();}[_0x3ffe31(0x15b)](){var _0x12dcbe=_0x3ffe31;if(!this[_0x12dcbe(0x167)])return;c[_0x12dcbe(0x168)]=_0x12dcbe(0x161),c[_0x12dcbe(0x165)]=this['fontSize']*meta[_0x12dcbe(0x170)]+'px'+'\x20\x27VT323\x27',c[_0x12dcbe(0x169)]=_0x12dcbe(0x182);for(let _0xd4a105=0x0;_0xd4a105<this[_0x12dcbe(0x14a)][_0x12dcbe(0x152)];_0xd4a105++){c[_0x12dcbe(0x177)](this['splittedText'][_0xd4a105],(this['textbox']['x']+map['x'])*meta[_0x12dcbe(0x173)]*meta['ratio'],(this[_0x12dcbe(0x174)]['y']+map['y'])*meta[_0x12dcbe(0x173)]*meta[_0x12dcbe(0x170)]+this[_0x12dcbe(0x15e)]*meta[_0x12dcbe(0x170)]*(_0xd4a105+0x1)/1.2);}if(this[_0x12dcbe(0x15c)]){}}}function getLines(_0x2a9af2,_0x2fd946,_0x5bd9c2){var _0x59896f=_0x3ffe31,_0x509f32=_0x2fd946['split']('\x20'),_0x2bc7ab=[],_0x36b31d=_0x509f32[0x0];for(var _0x4a3729=0x1;_0x4a3729<_0x509f32[_0x59896f(0x152)];_0x4a3729++){var _0x384ec2=_0x509f32[_0x4a3729],_0x8ddafa=_0x2a9af2[_0x59896f(0x16c)](_0x36b31d+'\x20'+_0x384ec2)['width'];_0x8ddafa<_0x5bd9c2?_0x36b31d+='\x20'+_0x384ec2:(_0x2bc7ab[_0x59896f(0x156)](_0x36b31d),_0x36b31d=_0x384ec2);}return _0x2bc7ab[_0x59896f(0x156)](_0x36b31d),_0x2bc7ab;}