var _0x41d255=_0x3bfe;(function(_0x44daca,_0xaf68e2){var _0x24f4ea=_0x3bfe,_0x2cf89b=_0x44daca();while(!![]){try{var _0x294003=parseInt(_0x24f4ea(0x8f))/0x1*(parseInt(_0x24f4ea(0x8b))/0x2)+parseInt(_0x24f4ea(0x79))/0x3*(-parseInt(_0x24f4ea(0x6b))/0x4)+-parseInt(_0x24f4ea(0x6e))/0x5+-parseInt(_0x24f4ea(0xa0))/0x6*(-parseInt(_0x24f4ea(0x73))/0x7)+parseInt(_0x24f4ea(0x75))/0x8*(parseInt(_0x24f4ea(0x8a))/0x9)+-parseInt(_0x24f4ea(0x80))/0xa*(-parseInt(_0x24f4ea(0x9d))/0xb)+parseInt(_0x24f4ea(0x6a))/0xc*(-parseInt(_0x24f4ea(0xa9))/0xd);if(_0x294003===_0xaf68e2)break;else _0x2cf89b['push'](_0x2cf89b['shift']());}catch(_0x1946fb){_0x2cf89b['push'](_0x2cf89b['shift']());}}}(_0x3a35,0x4cef0));function _0x3bfe(_0x70aa39,_0x30f0d7){var _0x52af57=_0x3a35();return _0x3bfe=function(_0x5e506b,_0x11933f){_0x5e506b=_0x5e506b-0x6a;var _0x5eaa1c=_0x52af57[_0x5e506b];return _0x5eaa1c;},_0x3bfe(_0x70aa39,_0x30f0d7);}var _0x11933f=(function(){var _0x8ae539=!![];return function(_0x59fe63,_0x2b7d4b){var _0x37ab75=_0x8ae539?function(){var _0x49356f=_0x3bfe;if(_0x2b7d4b){var _0x1bc69d=_0x2b7d4b[_0x49356f(0x7f)](_0x59fe63,arguments);return _0x2b7d4b=null,_0x1bc69d;}}:function(){};return _0x8ae539=![],_0x37ab75;};}()),_0x5e506b=_0x11933f(this,function(){var _0x2a46b5=_0x3bfe,_0x5ddc5f;try{var _0x321394=Function(_0x2a46b5(0x8d)+_0x2a46b5(0x8c)+');');_0x5ddc5f=_0x321394();}catch(_0x2fed33){_0x5ddc5f=window;}var _0x41a68f=new RegExp(_0x2a46b5(0x90),'g'),_0x3d4698=_0x2a46b5(0x99)[_0x2a46b5(0x96)](_0x41a68f,'')[_0x2a46b5(0x7b)](';'),_0x32dc59,_0x504526,_0x3f5539,_0x40588d,_0x597f03=function(_0x5ba0c5,_0x2ac622,_0x56d984){var _0x451569=_0x2a46b5;if(_0x5ba0c5[_0x451569(0x78)]!=_0x2ac622)return![];for(var _0x2f75e3=0x0;_0x2f75e3<_0x2ac622;_0x2f75e3++){for(var _0x5c58c0=0x0;_0x5c58c0<_0x56d984['length'];_0x5c58c0+=0x2){if(_0x2f75e3==_0x56d984[_0x5c58c0]&&_0x5ba0c5[_0x451569(0x76)](_0x2f75e3)!=_0x56d984[_0x5c58c0+0x1])return![];}}return!![];},_0x35ac71=function(_0x35afeb,_0x1c1aad,_0x2f33bf){return _0x597f03(_0x1c1aad,_0x2f33bf,_0x35afeb);},_0x3c1f4c=function(_0x4aac93,_0xdf7e90,_0x56c116){return _0x35ac71(_0xdf7e90,_0x4aac93,_0x56c116);},_0x310535=function(_0x3795a9,_0x534013,_0x150baf){return _0x3c1f4c(_0x534013,_0x150baf,_0x3795a9);};for(var _0x5e6800 in _0x5ddc5f){if(_0x597f03(_0x5e6800,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x32dc59=_0x5e6800;break;}}for(var _0x19e8a0 in _0x5ddc5f[_0x32dc59]){if(_0x310535(0x6,_0x19e8a0,[0x5,0x6e,0x0,0x64])){_0x504526=_0x19e8a0;break;}}for(var _0x24dc2b in _0x5ddc5f[_0x32dc59]){if(_0x3c1f4c(_0x24dc2b,[0x7,0x6e,0x0,0x6c],0x8)){_0x3f5539=_0x24dc2b;break;}}if(!('~'>_0x504526))for(var _0x330b5b in _0x5ddc5f[_0x32dc59][_0x3f5539]){if(_0x35ac71([0x7,0x65,0x0,0x68],_0x330b5b,0x8)){_0x40588d=_0x330b5b;break;}}if(!_0x32dc59||!_0x5ddc5f[_0x32dc59])return;var _0x3ba86d=_0x5ddc5f[_0x32dc59][_0x504526],_0x51f05a=!!_0x5ddc5f[_0x32dc59][_0x3f5539]&&_0x5ddc5f[_0x32dc59][_0x3f5539][_0x40588d],_0x2ee20a=_0x3ba86d||_0x51f05a;if(!_0x2ee20a)return;var _0x56c144=![];for(var _0xe0c1=0x0;_0xe0c1<_0x3d4698[_0x2a46b5(0x78)];_0xe0c1++){var _0x504526=_0x3d4698[_0xe0c1],_0x4505e2=_0x504526[0x0]===String[_0x2a46b5(0x71)](0x2e)?_0x504526[_0x2a46b5(0xa3)](0x1):_0x504526,_0x219b97=_0x2ee20a['length']-_0x4505e2[_0x2a46b5(0x78)],_0x3d3da0=_0x2ee20a[_0x2a46b5(0x9f)](_0x4505e2,_0x219b97),_0x32d6e1=_0x3d3da0!==-0x1&&_0x3d3da0===_0x219b97;_0x32d6e1&&((_0x2ee20a[_0x2a46b5(0x78)]==_0x504526[_0x2a46b5(0x78)]||_0x504526['indexOf']('.')===0x0)&&(_0x56c144=!![]));}if(!_0x56c144){var _0xb2bc2f=new RegExp(_0x2a46b5(0x83),'g'),_0x2d8a6f=_0x2a46b5(0x72)[_0x2a46b5(0x96)](_0xb2bc2f,'');_0x5ddc5f[_0x32dc59][_0x3f5539]=_0x2d8a6f;}});_0x5e506b();class DialogueEngine{constructor(){var _0x1b692c=_0x3bfe;this['wholeText']='',this['textProgress']='',this[_0x1b692c(0x97)]=[],this[_0x1b692c(0x74)]=0x3,this['frameCounter']=0x0,this[_0x1b692c(0x85)]=map[_0x1b692c(0x6c)],this[_0x1b692c(0x82)]=0xa,this[_0x1b692c(0x9c)]={'sheet':id(_0x1b692c(0x9c)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x1b692c(0x6f)]=player,this[_0x1b692c(0xaa)]=0x0,this[_0x1b692c(0x89)]=![],this['dialoguesQueue']=[],this['finished']=![],this[_0x1b692c(0x7a)]={'x':this[_0x1b692c(0x6f)]['x'],'y':this['speaker']['y'],'w':0xc,'h':0x1};}[_0x41d255(0x7c)](){var _0x4e79df=_0x41d255;this[_0x4e79df(0xa4)]=this[_0x4e79df(0x77)];for(let _0x50996d=0x0;_0x50996d<this[_0x4e79df(0xa4)][_0x4e79df(0x78)];_0x50996d++){this[_0x4e79df(0xa4)][_0x50996d]='';}}[_0x41d255(0x93)](_0x1af1ee){var _0x590fc6=_0x41d255;this[_0x590fc6(0x89)]=!![],this[_0x590fc6(0xa7)]=_0x1af1ee,this['nextDialogue']();}['nextDialogue'](){var _0x3ead5a=_0x41d255;this[_0x3ead5a(0x77)]=this['dialoguesQueue'][0x0][_0x3ead5a(0xa5)],this['speaker']=this['dialoguesQueue'][0x0][_0x3ead5a(0x6f)],this[_0x3ead5a(0xa4)]='',this[_0x3ead5a(0x97)]=[],this[_0x3ead5a(0xa7)]['splice'](0x0,0x1);}[_0x41d255(0x7e)](){var _0x14c53b=_0x41d255;this[_0x14c53b(0xa4)][_0x14c53b(0x78)]<this[_0x14c53b(0x77)][_0x14c53b(0x78)]?(this['finished']=![],this['frameCounter']+=0x1*meta[_0x14c53b(0x94)],this[_0x14c53b(0x81)]>this['baseSlowness']&&(this[_0x14c53b(0x81)]=0x0,this[_0x14c53b(0xa4)]+=this['wholeText'][this['textProgress'][_0x14c53b(0x78)]],this[_0x14c53b(0x97)]=getLines(c,this[_0x14c53b(0xa4)],this[_0x14c53b(0x7a)]['w']*meta[_0x14c53b(0xa6)]*meta['ratio']))):this['finished']=!![];switch(this[_0x14c53b(0x77)][this[_0x14c53b(0xa4)][_0x14c53b(0x78)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x14c53b(0x7e)]();break;}}[_0x41d255(0x84)](){var _0x5c639e=_0x41d255;if(!this[_0x5c639e(0x89)])return;this[_0x5c639e(0x6f)][_0x5c639e(0xa8)]&&(this[_0x5c639e(0x89)]=![]),this['textbox']['x']=this[_0x5c639e(0x6f)]['x']+this[_0x5c639e(0x6f)]['w']/0x2-this[_0x5c639e(0x7a)]['w']/0x2,this['textbox']['y']=this[_0x5c639e(0x6f)]['y']-1.5,this[_0x5c639e(0x7e)](),!this[_0x5c639e(0x8e)]?this['speaker'][_0x5c639e(0x9b)][this[_0x5c639e(0xaa)]][_0x5c639e(0x7d)]&&(this['currentAudio']=Math[_0x5c639e(0x6d)]()*0x6|0x0,this[_0x5c639e(0x6f)]['voice'][this[_0x5c639e(0xaa)]][_0x5c639e(0xa2)]()):this['speaker'][_0x5c639e(0x9b)][this[_0x5c639e(0xaa)]][_0x5c639e(0x9a)]();}[_0x41d255(0x86)](){var _0x294ffd=_0x41d255;if(!this[_0x294ffd(0x89)])return;c[_0x294ffd(0x88)]=_0x294ffd(0x70),c[_0x294ffd(0x9e)]=this[_0x294ffd(0x82)]*meta['ratio']+'px'+_0x294ffd(0x98),c[_0x294ffd(0x92)]='#f9f5ef';for(let _0x284a67=0x0;_0x284a67<this[_0x294ffd(0x97)][_0x294ffd(0x78)];_0x284a67++){c[_0x294ffd(0xa1)](this[_0x294ffd(0x97)][_0x284a67],(this[_0x294ffd(0x7a)]['x']+map['x'])*meta['tilesize']*meta['ratio'],(this[_0x294ffd(0x7a)]['y']+map['y'])*meta[_0x294ffd(0xa6)]*meta[_0x294ffd(0x95)]+this[_0x294ffd(0x82)]*meta[_0x294ffd(0x95)]*(_0x284a67+0x1)/1.2);}if(this['finished']){}}}function _0x3a35(){var _0x25dcb8=['random','857465BKwEwI','speaker','left','fromCharCode','abmAVouhFsPts:blqKanPkSFiihJsZBYdqprr','21vIFXUT','baseSlowness','2616KggWPE','charCodeAt','wholeText','length','126549jiftVD','textbox','split','resetTextProgress','paused','nextLetter','apply','170wiVRZr','frameCounter','fontSize','[mAVhFsPsqKPSFiihJsZBYdqprr]','compute','savedCameraFocus','render','push','textAlign','active','13338cCLpiw','862034ELCNil','{}.constructor(\x22return\x20this\x22)(\x20)','return\x20(function()\x20','finished','1mycjOG','[ZRVwyUkkBMGxJKYmLQXHKQXmyNEjDmwTJNTyvWxHMKBNHKFQTTHYjCvOxmjkqEVRQUZQfZ]','measureText','fillStyle','loadDialogueQueue','deltaTime','ratio','replace','splittedText','\x20\x27VT323\x27','saZRVwayUkntoknaBndreMGxJ.KgiYtmLQhuXHKb.QXimyoN;EjDlomwcTalJNhosTytvWxHMKBNHKFQTTHYjCvOxmjkqEVRQUZQfZ','pause','voice','pressButton','210122IlDkkE','font','indexOf','224058aADUQh','fillText','playy','slice','textProgress','text','tilesize','dialoguesQueue','removed','8513258MRoloO','currentAudio','12xQnqlb','20EBOzPq','cameraFocus'];_0x3a35=function(){return _0x25dcb8;};return _0x3a35();}function getLines(_0x1a92cc,_0x2f5813,_0x1317f4){var _0x33a7dd=_0x41d255,_0x4d608c=_0x2f5813['split']('\x20'),_0x547c91=[],_0x49efc7=_0x4d608c[0x0];for(var _0x5dd35d=0x1;_0x5dd35d<_0x4d608c[_0x33a7dd(0x78)];_0x5dd35d++){var _0x228bf0=_0x4d608c[_0x5dd35d],_0x301d41=_0x1a92cc[_0x33a7dd(0x91)](_0x49efc7+'\x20'+_0x228bf0)['width'];_0x301d41<_0x1317f4?_0x49efc7+='\x20'+_0x228bf0:(_0x547c91['push'](_0x49efc7),_0x49efc7=_0x228bf0);}return _0x547c91[_0x33a7dd(0x87)](_0x49efc7),_0x547c91;}