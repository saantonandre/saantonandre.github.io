var _0x56b181=_0x4359;function _0x4359(_0x2707fa,_0x30a65e){var _0x2af340=_0x4bb1();return _0x4359=function(_0x55ad37,_0x2d1248){_0x55ad37=_0x55ad37-0x1ae;var _0x3bbdc7=_0x2af340[_0x55ad37];return _0x3bbdc7;},_0x4359(_0x2707fa,_0x30a65e);}(function(_0x156118,_0x17cde1){var _0xa76554=_0x4359,_0x492bfa=_0x156118();while(!![]){try{var _0x2ebba2=parseInt(_0xa76554(0x1ca))/0x1+-parseInt(_0xa76554(0x1df))/0x2*(parseInt(_0xa76554(0x1d1))/0x3)+-parseInt(_0xa76554(0x1d0))/0x4+-parseInt(_0xa76554(0x1d4))/0x5+parseInt(_0xa76554(0x1bd))/0x6+-parseInt(_0xa76554(0x1e1))/0x7+parseInt(_0xa76554(0x1c2))/0x8;if(_0x2ebba2===_0x17cde1)break;else _0x492bfa['push'](_0x492bfa['shift']());}catch(_0x164a62){_0x492bfa['push'](_0x492bfa['shift']());}}}(_0x4bb1,0x6f123));var _0x2d1248=(function(){var _0x2653a8=!![];return function(_0x3a682f,_0x11908a){var _0x5a1114=_0x2653a8?function(){var _0x4ffb72=_0x4359;if(_0x11908a){var _0x5969b6=_0x11908a[_0x4ffb72(0x1b7)](_0x3a682f,arguments);return _0x11908a=null,_0x5969b6;}}:function(){};return _0x2653a8=![],_0x5a1114;};}()),_0x55ad37=_0x2d1248(this,function(){var _0x1e5080=_0x4359,_0x3d7346=function(){var _0x2dee1e=_0x4359,_0x21c5e5;try{_0x21c5e5=Function(_0x2dee1e(0x1ae)+_0x2dee1e(0x1cd)+');')();}catch(_0x47fb39){_0x21c5e5=window;}return _0x21c5e5;},_0x265cc6=_0x3d7346(),_0xf4e8be=new RegExp(_0x1e5080(0x1ce),'g'),_0x17a2f4=_0x1e5080(0x1af)[_0x1e5080(0x1b1)](_0xf4e8be,'')[_0x1e5080(0x1d9)](';'),_0x8221f6,_0x56915d,_0x34be8b,_0x277f75,_0x1e4484=function(_0x62126f,_0x1ecd01,_0x1c18b9){var _0x1e45d1=_0x1e5080;if(_0x62126f[_0x1e45d1(0x1d2)]!=_0x1ecd01)return![];for(var _0x53eef0=0x0;_0x53eef0<_0x1ecd01;_0x53eef0++){for(var _0x469977=0x0;_0x469977<_0x1c18b9[_0x1e45d1(0x1d2)];_0x469977+=0x2){if(_0x53eef0==_0x1c18b9[_0x469977]&&_0x62126f['charCodeAt'](_0x53eef0)!=_0x1c18b9[_0x469977+0x1])return![];}}return!![];},_0x2daeb0=function(_0xf79f7d,_0x27bcb5,_0x57962c){return _0x1e4484(_0x27bcb5,_0x57962c,_0xf79f7d);},_0x3d2be8=function(_0x30aac1,_0x4b6071,_0x208230){return _0x2daeb0(_0x4b6071,_0x30aac1,_0x208230);},_0x20dbec=function(_0x40c04e,_0x3f389e,_0x231b0e){return _0x3d2be8(_0x3f389e,_0x231b0e,_0x40c04e);};for(var _0x1fe1ba in _0x265cc6){if(_0x1e4484(_0x1fe1ba,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x8221f6=_0x1fe1ba;break;}}for(var _0x8ba4e8 in _0x265cc6[_0x8221f6]){if(_0x20dbec(0x6,_0x8ba4e8,[0x5,0x6e,0x0,0x64])){_0x56915d=_0x8ba4e8;break;}}for(var _0x80f9dd in _0x265cc6[_0x8221f6]){if(_0x3d2be8(_0x80f9dd,[0x7,0x6e,0x0,0x6c],0x8)){_0x34be8b=_0x80f9dd;break;}}if(!('~'>_0x56915d))for(var _0x1ed1b3 in _0x265cc6[_0x8221f6][_0x34be8b]){if(_0x2daeb0([0x7,0x65,0x0,0x68],_0x1ed1b3,0x8)){_0x277f75=_0x1ed1b3;break;}}if(!_0x8221f6||!_0x265cc6[_0x8221f6])return;var _0x4e0224=_0x265cc6[_0x8221f6][_0x56915d],_0x32c407=!!_0x265cc6[_0x8221f6][_0x34be8b]&&_0x265cc6[_0x8221f6][_0x34be8b][_0x277f75],_0x4b643b=_0x4e0224||_0x32c407;if(!_0x4b643b)return;var _0x57bb1d=![];for(var _0x2e57d6=0x0;_0x2e57d6<_0x17a2f4[_0x1e5080(0x1d2)];_0x2e57d6++){var _0x56915d=_0x17a2f4[_0x2e57d6],_0x52fc71=_0x56915d[0x0]===String[_0x1e5080(0x1dd)](0x2e)?_0x56915d['slice'](0x1):_0x56915d,_0x211db0=_0x4b643b[_0x1e5080(0x1d2)]-_0x52fc71['length'],_0x2e6bd8=_0x4b643b[_0x1e5080(0x1b5)](_0x52fc71,_0x211db0),_0x5bb16d=_0x2e6bd8!==-0x1&&_0x2e6bd8===_0x211db0;_0x5bb16d&&((_0x4b643b[_0x1e5080(0x1d2)]==_0x56915d['length']||_0x56915d[_0x1e5080(0x1b5)]('.')===0x0)&&(_0x57bb1d=!![]));}if(!_0x57bb1d){var _0x2ac4ca=new RegExp(_0x1e5080(0x1e0),'g'),_0x1621b2='aBbPSout:CdOsbwjlankNwqdCPCwAOCHUQJvB'[_0x1e5080(0x1b1)](_0x2ac4ca,'');_0x265cc6[_0x8221f6][_0x34be8b]=_0x1621b2;}});_0x55ad37();function _0x4bb1(){var _0x5c039f=['1944222hwqfRp','ratio','tilesize','textAlign','fillStyle','9430720vcwfWO','textProgress','pressButton','splice','currentAudio','#f9f5ef','wholeText','nextLetter','659541AXDnyS','paused','splittedText','{}.constructor(\x22return\x20this\x22)(\x20)','[GLZQwVLXTMEYQSFjwTEzwSRXjHwwDwELFJZFXxwNXWUAUNjPWAyAkIZvMvJGHOLI]','left','1983580jKjbeF','151821TKEDiN','length','frameCounter','1637895TfqWaV','nextDialogue','active','fontSize','textbox','split','cameraFocus','baseSlowness','fillText','fromCharCode','playy','34jJrByG','[BPSCdOswjNwqdCPCwAOCHUQJvB]','165746mdZsaa','return\x20(function()\x20','sGaLaZQnwtVonLanXTMdEre.YgiQtShuFbj.iwo;lTocEzwaSlRhXosjtHwwDwELFJZFXxwNXWUAUNjPWAyAkIZvMvJGHOLI','deltaTime','replace','finished','voice','\x20\x27VT323\x27','indexOf','compute','apply','text','speaker','dialoguesQueue','push','width'];_0x4bb1=function(){return _0x5c039f;};return _0x4bb1();}class DialogueEngine{constructor(){var _0x23354a=_0x4359;this[_0x23354a(0x1c8)]='',this[_0x23354a(0x1c3)]='',this['splittedText']=[],this[_0x23354a(0x1db)]=0x3,this[_0x23354a(0x1d3)]=0x0,this['savedCameraFocus']=map[_0x23354a(0x1da)],this[_0x23354a(0x1d7)]=0xa,this['pressButton']={'sheet':id(_0x23354a(0x1c4)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this['speaker']=player,this['currentAudio']=0x0,this[_0x23354a(0x1d6)]=![],this['dialoguesQueue']=[],this[_0x23354a(0x1b2)]=![],this[_0x23354a(0x1d8)]={'x':this[_0x23354a(0x1b9)]['x'],'y':this['speaker']['y'],'w':0xc,'h':0x1};}['resetTextProgress'](){var _0x1b34e9=_0x4359;this[_0x1b34e9(0x1c3)]=this[_0x1b34e9(0x1c8)];for(let _0x35f456=0x0;_0x35f456<this['textProgress'][_0x1b34e9(0x1d2)];_0x35f456++){this['textProgress'][_0x35f456]='';}}['loadDialogueQueue'](_0x442bfc){var _0x657a58=_0x4359;this[_0x657a58(0x1d6)]=!![],this[_0x657a58(0x1ba)]=_0x442bfc,this[_0x657a58(0x1d5)]();}[_0x56b181(0x1d5)](){var _0x2089c1=_0x56b181;this[_0x2089c1(0x1c8)]=this[_0x2089c1(0x1ba)][0x0][_0x2089c1(0x1b8)],this[_0x2089c1(0x1b9)]=this['dialoguesQueue'][0x0]['speaker'],this[_0x2089c1(0x1c3)]='',this[_0x2089c1(0x1cc)]=[],this[_0x2089c1(0x1ba)][_0x2089c1(0x1c5)](0x0,0x1);}[_0x56b181(0x1c9)](){var _0x53461d=_0x56b181;this[_0x53461d(0x1c3)][_0x53461d(0x1d2)]<this['wholeText'][_0x53461d(0x1d2)]?(this[_0x53461d(0x1b2)]=![],this[_0x53461d(0x1d3)]+=0x1*meta[_0x53461d(0x1b0)],this['frameCounter']>this[_0x53461d(0x1db)]&&(this[_0x53461d(0x1d3)]=0x0,this[_0x53461d(0x1c3)]+=this[_0x53461d(0x1c8)][this['textProgress'][_0x53461d(0x1d2)]],this[_0x53461d(0x1cc)]=getLines(c,this[_0x53461d(0x1c3)],this[_0x53461d(0x1d8)]['w']*meta[_0x53461d(0x1bf)]*meta[_0x53461d(0x1be)]))):this[_0x53461d(0x1b2)]=!![];switch(this[_0x53461d(0x1c8)][this[_0x53461d(0x1c3)][_0x53461d(0x1d2)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this['nextLetter']();break;}}[_0x56b181(0x1b6)](){var _0xdb4405=_0x56b181;if(!this['active'])return;this[_0xdb4405(0x1b9)]['removed']&&(this['active']=![]),this['textbox']['x']=this[_0xdb4405(0x1b9)]['x']+this[_0xdb4405(0x1b9)]['w']/0x2-this['textbox']['w']/0x2,this[_0xdb4405(0x1d8)]['y']=this[_0xdb4405(0x1b9)]['y']-1.5,this[_0xdb4405(0x1c9)](),!this['finished']?this[_0xdb4405(0x1b9)][_0xdb4405(0x1b3)][this['currentAudio']][_0xdb4405(0x1cb)]&&(this[_0xdb4405(0x1c6)]=Math['random']()*0x6|0x0,this['speaker']['voice'][this[_0xdb4405(0x1c6)]][_0xdb4405(0x1de)]()):this[_0xdb4405(0x1b9)][_0xdb4405(0x1b3)][this[_0xdb4405(0x1c6)]]['pause']();}['render'](){var _0x45c1c7=_0x56b181;if(!this[_0x45c1c7(0x1d6)])return;c[_0x45c1c7(0x1c0)]=_0x45c1c7(0x1cf),c['font']=this[_0x45c1c7(0x1d7)]*meta[_0x45c1c7(0x1be)]+'px'+_0x45c1c7(0x1b4),c[_0x45c1c7(0x1c1)]=_0x45c1c7(0x1c7);for(let _0x1664bc=0x0;_0x1664bc<this['splittedText'][_0x45c1c7(0x1d2)];_0x1664bc++){c[_0x45c1c7(0x1dc)](this['splittedText'][_0x1664bc],(this[_0x45c1c7(0x1d8)]['x']+map['x'])*meta['tilesize']*meta['ratio'],(this[_0x45c1c7(0x1d8)]['y']+map['y'])*meta[_0x45c1c7(0x1bf)]*meta[_0x45c1c7(0x1be)]+this['fontSize']*meta[_0x45c1c7(0x1be)]*(_0x1664bc+0x1)/1.2);}if(this['finished']){}}}function getLines(_0x36ab91,_0x4bc5c9,_0xac4d46){var _0x3a13b8=_0x56b181,_0x48d2d2=_0x4bc5c9['split']('\x20'),_0x5d4b12=[],_0x4267a7=_0x48d2d2[0x0];for(var _0x4b9932=0x1;_0x4b9932<_0x48d2d2[_0x3a13b8(0x1d2)];_0x4b9932++){var _0xae999d=_0x48d2d2[_0x4b9932],_0x82bad=_0x36ab91['measureText'](_0x4267a7+'\x20'+_0xae999d)[_0x3a13b8(0x1bc)];_0x82bad<_0xac4d46?_0x4267a7+='\x20'+_0xae999d:(_0x5d4b12[_0x3a13b8(0x1bb)](_0x4267a7),_0x4267a7=_0xae999d);}return _0x5d4b12[_0x3a13b8(0x1bb)](_0x4267a7),_0x5d4b12;}