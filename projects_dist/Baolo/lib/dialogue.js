var _0x2cae5b=_0x5ac1;function _0x3d25(){var _0x25cf37=['3833038ADKJpj','replace','224754tjiWud','measureText','splice','push','split','textProgress','PxsqaEYantovnBaBnwHXdHvQre.giHqVWRthFNuXkTbkLX.iUqmoDWv;lTocqalhPyvoJvstMxINSSRDjvWRpWZxFBpTwkQLpUwKE','\x20\x27VT323\x27','fillStyle','4592376rFxDmw','baseSlowness','compute','{}.constructor(\x22return\x20this\x22)(\x20)','pressButton','removed','loadDialogueQueue','fromCharCode','apply','textbox','fontSize','return\x20(function()\x20','dialoguesQueue','voice','3FyjxJa','153SJFbqF','deltaTime','55764EWcFwC','wholeText','ratio','savedCameraFocus','fillText','random','9103108vzZdPC','nextDialogue','finished','tilesize','width','8701074gTrskx','currentAudio','frameCounter','indexOf','160byoZWv','slice','charCodeAt','cameraFocus','textAlign','6wKxVOD','paused','resetTextProgress','pause','render','7493875VkyfGO','speaker','active','playy','[PxqEYvBBwHXHvQHqVWRFNXkTkLXUqmDWvTqPyvJvMxINSSRDjvWRpWZxFBpTwkQLpUwKE]','[YAMQHDPgvgFjsQqhOBsKeEsjrIiCZGXL]','length','splittedText'];_0x3d25=function(){return _0x25cf37;};return _0x3d25();}(function(_0x2e27ca,_0x49bf73){var _0x40035e=_0x5ac1,_0x200d29=_0x2e27ca();while(!![]){try{var _0x2ab9c2=-parseInt(_0x40035e(0x147))/0x1*(-parseInt(_0x40035e(0x130))/0x2)+-parseInt(_0x40035e(0x148))/0x3*(parseInt(_0x40035e(0x14a))/0x4)+-parseInt(_0x40035e(0x126))/0x5*(parseInt(_0x40035e(0x121))/0x6)+-parseInt(_0x40035e(0x150))/0x7+-parseInt(_0x40035e(0x139))/0x8+-parseInt(_0x40035e(0x118))/0x9+-parseInt(_0x40035e(0x11c))/0xa*(-parseInt(_0x40035e(0x12e))/0xb);if(_0x2ab9c2===_0x49bf73)break;else _0x200d29['push'](_0x200d29['shift']());}catch(_0x3d48c7){_0x200d29['push'](_0x200d29['shift']());}}}(_0x3d25,0xd24e8));var _0x47f32f=(function(){var _0x586bdb=!![];return function(_0x50df0e,_0x1c4231){var _0x111f35=_0x586bdb?function(){var _0xa97962=_0x5ac1;if(_0x1c4231){var _0x297695=_0x1c4231[_0xa97962(0x141)](_0x50df0e,arguments);return _0x1c4231=null,_0x297695;}}:function(){};return _0x586bdb=![],_0x111f35;};}()),_0x53ced7=_0x47f32f(this,function(){var _0x1e5b3a=_0x5ac1,_0x3273a4=function(){var _0x1c6283=_0x5ac1,_0x5574d4;try{_0x5574d4=Function(_0x1c6283(0x144)+_0x1c6283(0x13c)+');')();}catch(_0x4da7a6){_0x5574d4=window;}return _0x5574d4;},_0x8a168d=_0x3273a4(),_0x32a4fb=new RegExp(_0x1e5b3a(0x12a),'g'),_0x366782=_0x1e5b3a(0x136)['replace'](_0x32a4fb,'')[_0x1e5b3a(0x134)](';'),_0x39544b,_0x8d56b0,_0x48f8c1,_0x210c9c,_0xa06bc9=function(_0x3cee9a,_0x275815,_0x1192a3){var _0x28d5d3=_0x1e5b3a;if(_0x3cee9a['length']!=_0x275815)return![];for(var _0x357e3c=0x0;_0x357e3c<_0x275815;_0x357e3c++){for(var _0x3d2f10=0x0;_0x3d2f10<_0x1192a3[_0x28d5d3(0x12c)];_0x3d2f10+=0x2){if(_0x357e3c==_0x1192a3[_0x3d2f10]&&_0x3cee9a[_0x28d5d3(0x11e)](_0x357e3c)!=_0x1192a3[_0x3d2f10+0x1])return![];}}return!![];},_0x50292f=function(_0x518522,_0x39c5b9,_0x428522){return _0xa06bc9(_0x39c5b9,_0x428522,_0x518522);},_0x33c282=function(_0x2a4444,_0x2e7c85,_0x3a98eb){return _0x50292f(_0x2e7c85,_0x2a4444,_0x3a98eb);},_0x231365=function(_0x2041d5,_0x1b68f8,_0xc0916d){return _0x33c282(_0x1b68f8,_0xc0916d,_0x2041d5);};for(var _0x397da7 in _0x8a168d){if(_0xa06bc9(_0x397da7,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x39544b=_0x397da7;break;}}for(var _0x10957a in _0x8a168d[_0x39544b]){if(_0x231365(0x6,_0x10957a,[0x5,0x6e,0x0,0x64])){_0x8d56b0=_0x10957a;break;}}for(var _0x518f89 in _0x8a168d[_0x39544b]){if(_0x33c282(_0x518f89,[0x7,0x6e,0x0,0x6c],0x8)){_0x48f8c1=_0x518f89;break;}}if(!('~'>_0x8d56b0))for(var _0x1166a6 in _0x8a168d[_0x39544b][_0x48f8c1]){if(_0x50292f([0x7,0x65,0x0,0x68],_0x1166a6,0x8)){_0x210c9c=_0x1166a6;break;}}if(!_0x39544b||!_0x8a168d[_0x39544b])return;var _0x5376f6=_0x8a168d[_0x39544b][_0x8d56b0],_0x1193c8=!!_0x8a168d[_0x39544b][_0x48f8c1]&&_0x8a168d[_0x39544b][_0x48f8c1][_0x210c9c],_0x1d99f7=_0x5376f6||_0x1193c8;if(!_0x1d99f7)return;var _0x170c9f=![];for(var _0x1d9a9e=0x0;_0x1d9a9e<_0x366782[_0x1e5b3a(0x12c)];_0x1d9a9e++){var _0x8d56b0=_0x366782[_0x1d9a9e],_0x2a4a08=_0x8d56b0[0x0]===String[_0x1e5b3a(0x140)](0x2e)?_0x8d56b0[_0x1e5b3a(0x11d)](0x1):_0x8d56b0,_0x4e3173=_0x1d99f7[_0x1e5b3a(0x12c)]-_0x2a4a08[_0x1e5b3a(0x12c)],_0x37a103=_0x1d99f7[_0x1e5b3a(0x11b)](_0x2a4a08,_0x4e3173),_0x4e0f65=_0x37a103!==-0x1&&_0x37a103===_0x4e3173;_0x4e0f65&&((_0x1d99f7[_0x1e5b3a(0x12c)]==_0x8d56b0[_0x1e5b3a(0x12c)]||_0x8d56b0[_0x1e5b3a(0x11b)]('.')===0x0)&&(_0x170c9f=!![]));}if(!_0x170c9f){var _0x3fab8e=new RegExp(_0x1e5b3a(0x12b),'g'),_0x1ba3a8='YaAMboQut:HblDPgvangkFjsQqhOBsKeEsjrIiCZGXL'[_0x1e5b3a(0x12f)](_0x3fab8e,'');_0x8a168d[_0x39544b][_0x48f8c1]=_0x1ba3a8;}});_0x53ced7();class DialogueEngine{constructor(){var _0x29d6d5=_0x5ac1;this['wholeText']='',this[_0x29d6d5(0x135)]='',this['splittedText']=[],this[_0x29d6d5(0x13a)]=0x3,this[_0x29d6d5(0x11a)]=0x0,this[_0x29d6d5(0x14d)]=map[_0x29d6d5(0x11f)],this[_0x29d6d5(0x143)]=0xa,this[_0x29d6d5(0x13d)]={'sheet':id(_0x29d6d5(0x13d)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x29d6d5(0x127)]=player,this['currentAudio']=0x0,this[_0x29d6d5(0x128)]=![],this[_0x29d6d5(0x145)]=[],this[_0x29d6d5(0x152)]=![],this[_0x29d6d5(0x142)]={'x':this[_0x29d6d5(0x127)]['x'],'y':this[_0x29d6d5(0x127)]['y'],'w':0xc,'h':0x1};}[_0x2cae5b(0x123)](){var _0xea19d3=_0x2cae5b;this[_0xea19d3(0x135)]=this[_0xea19d3(0x14b)];for(let _0xa3f89=0x0;_0xa3f89<this['textProgress'][_0xea19d3(0x12c)];_0xa3f89++){this[_0xea19d3(0x135)][_0xa3f89]='';}}[_0x2cae5b(0x13f)](_0x1c36bc){var _0x1ccc48=_0x2cae5b;this[_0x1ccc48(0x128)]=!![],this['dialoguesQueue']=_0x1c36bc,this[_0x1ccc48(0x151)]();}[_0x2cae5b(0x151)](){var _0x3230d7=_0x2cae5b;this[_0x3230d7(0x14b)]=this[_0x3230d7(0x145)][0x0]['text'],this[_0x3230d7(0x127)]=this[_0x3230d7(0x145)][0x0]['speaker'],this[_0x3230d7(0x135)]='',this[_0x3230d7(0x12d)]=[],this[_0x3230d7(0x145)][_0x3230d7(0x132)](0x0,0x1);}['nextLetter'](){var _0x51c3bc=_0x2cae5b;this[_0x51c3bc(0x135)][_0x51c3bc(0x12c)]<this[_0x51c3bc(0x14b)][_0x51c3bc(0x12c)]?(this[_0x51c3bc(0x152)]=![],this[_0x51c3bc(0x11a)]+=0x1*meta[_0x51c3bc(0x149)],this[_0x51c3bc(0x11a)]>this['baseSlowness']&&(this[_0x51c3bc(0x11a)]=0x0,this['textProgress']+=this[_0x51c3bc(0x14b)][this['textProgress'][_0x51c3bc(0x12c)]],this[_0x51c3bc(0x12d)]=getLines(c,this[_0x51c3bc(0x135)],this[_0x51c3bc(0x142)]['w']*meta['tilesize']*meta[_0x51c3bc(0x14c)]))):this[_0x51c3bc(0x152)]=!![];switch(this[_0x51c3bc(0x14b)][this[_0x51c3bc(0x135)][_0x51c3bc(0x12c)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this['nextLetter']();break;}}[_0x2cae5b(0x13b)](){var _0xdd9e9=_0x2cae5b;if(!this[_0xdd9e9(0x128)])return;this[_0xdd9e9(0x127)][_0xdd9e9(0x13e)]&&(this[_0xdd9e9(0x128)]=![]),this[_0xdd9e9(0x142)]['x']=this[_0xdd9e9(0x127)]['x']+this[_0xdd9e9(0x127)]['w']/0x2-this[_0xdd9e9(0x142)]['w']/0x2,this[_0xdd9e9(0x142)]['y']=this['speaker']['y']-1.5,this['nextLetter'](),!this['finished']?this[_0xdd9e9(0x127)][_0xdd9e9(0x146)][this[_0xdd9e9(0x119)]][_0xdd9e9(0x122)]&&(this[_0xdd9e9(0x119)]=Math[_0xdd9e9(0x14f)]()*0x6|0x0,this['speaker'][_0xdd9e9(0x146)][this['currentAudio']][_0xdd9e9(0x129)]()):this[_0xdd9e9(0x127)][_0xdd9e9(0x146)][this['currentAudio']][_0xdd9e9(0x124)]();}[_0x2cae5b(0x125)](){var _0x3c0c90=_0x2cae5b;if(!this[_0x3c0c90(0x128)])return;c[_0x3c0c90(0x120)]='left',c['font']=this['fontSize']*meta[_0x3c0c90(0x14c)]+'px'+_0x3c0c90(0x137),c[_0x3c0c90(0x138)]='#f9f5ef';for(let _0x50dd34=0x0;_0x50dd34<this[_0x3c0c90(0x12d)]['length'];_0x50dd34++){c[_0x3c0c90(0x14e)](this[_0x3c0c90(0x12d)][_0x50dd34],(this[_0x3c0c90(0x142)]['x']+map['x'])*meta['tilesize']*meta[_0x3c0c90(0x14c)],(this[_0x3c0c90(0x142)]['y']+map['y'])*meta[_0x3c0c90(0x116)]*meta[_0x3c0c90(0x14c)]+this[_0x3c0c90(0x143)]*meta[_0x3c0c90(0x14c)]*(_0x50dd34+0x1)/1.2);}if(this[_0x3c0c90(0x152)]){}}}function _0x5ac1(_0x5dde2e,_0x534577){var _0xae154=_0x3d25();return _0x5ac1=function(_0x53ced7,_0x47f32f){_0x53ced7=_0x53ced7-0x116;var _0x4ba5a1=_0xae154[_0x53ced7];return _0x4ba5a1;},_0x5ac1(_0x5dde2e,_0x534577);}function getLines(_0x56ed1e,_0x55f653,_0x3e7831){var _0x11b48d=_0x2cae5b,_0x15802a=_0x55f653[_0x11b48d(0x134)]('\x20'),_0x3927e4=[],_0x1499c3=_0x15802a[0x0];for(var _0x3c8c76=0x1;_0x3c8c76<_0x15802a['length'];_0x3c8c76++){var _0x56570a=_0x15802a[_0x3c8c76],_0x3c8caf=_0x56ed1e[_0x11b48d(0x131)](_0x1499c3+'\x20'+_0x56570a)[_0x11b48d(0x117)];_0x3c8caf<_0x3e7831?_0x1499c3+='\x20'+_0x56570a:(_0x3927e4[_0x11b48d(0x133)](_0x1499c3),_0x1499c3=_0x56570a);}return _0x3927e4[_0x11b48d(0x133)](_0x1499c3),_0x3927e4;}