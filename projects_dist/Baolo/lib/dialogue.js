var _0x52e027=_0x12d4;(function(_0x440cd0,_0x5a9945){var _0x5b9f0b=_0x12d4,_0x5ed062=_0x440cd0();while(!![]){try{var _0x25b84f=-parseInt(_0x5b9f0b(0xf6))/0x1+parseInt(_0x5b9f0b(0xf4))/0x2+-parseInt(_0x5b9f0b(0xf3))/0x3+-parseInt(_0x5b9f0b(0x102))/0x4*(-parseInt(_0x5b9f0b(0x101))/0x5)+parseInt(_0x5b9f0b(0x113))/0x6+parseInt(_0x5b9f0b(0x100))/0x7+parseInt(_0x5b9f0b(0xfa))/0x8;if(_0x25b84f===_0x5a9945)break;else _0x5ed062['push'](_0x5ed062['shift']());}catch(_0x4549ac){_0x5ed062['push'](_0x5ed062['shift']());}}}(_0x13c4,0x72a48));function _0x12d4(_0x33fe77,_0x6bce95){var _0x33a5aa=_0x13c4();return _0x12d4=function(_0x11e757,_0x411121){_0x11e757=_0x11e757-0xe7;var _0x2903c6=_0x33a5aa[_0x11e757];return _0x2903c6;},_0x12d4(_0x33fe77,_0x6bce95);}function _0x13c4(){var _0x34b260=['indexOf','currentAudio','pressButton','[wPZPEzUBjWYIULAvfDCfSZwJyVGHWfqDLNGfzNmTAPNCXfpyJKJFLkmJkVWwARzZzUHPk]','353034bxJElT','abKoyAurct:blxanskWLgjLCAWgZjpviGUK','dialoguesQueue','cameraFocus','replace','render','wholeText','baseSlowness','textbox','nextLetter','measureText','removed','nextDialogue','compute','#f9f5ef','fontSize','ratio','1943136WZubqH','709146TkhWLQ','finished','362265hHhQyn','frameCounter','{}.constructor(\x22return\x20this\x22)(\x20)','pause','6100072udaxMU','return\x20(function()\x20','splittedText','speaker','textAlign','splice','1675625IkKTmz','15lyDRet','85676jnYQkW','push','split','active','left','voice','fillText','fromCharCode','textProgress','length','paused','tilesize','width'];_0x13c4=function(){return _0x34b260;};return _0x13c4();}var _0x411121=(function(){var _0x27fb72=!![];return function(_0x45dc59,_0x1d4418){var _0x451884=_0x27fb72?function(){if(_0x1d4418){var _0x119a4e=_0x1d4418['apply'](_0x45dc59,arguments);return _0x1d4418=null,_0x119a4e;}}:function(){};return _0x27fb72=![],_0x451884;};}()),_0x11e757=_0x411121(this,function(){var _0x3ef725=_0x12d4,_0x1abe15=function(){var _0x64c4fc=_0x12d4,_0x5b6731;try{_0x5b6731=Function(_0x64c4fc(0xfb)+_0x64c4fc(0xf8)+');')();}catch(_0x46f653){_0x5b6731=window;}return _0x5b6731;},_0x4cc8db=_0x1abe15(),_0x21e0a2=new RegExp(_0x3ef725(0x112),'g'),_0x5c0ebc='saantwPoZnPEzaUBjWndre.gYIithuULAb.ivfo;loDcCfSZwaJylVhostGHWfqDLNGfzNmTAPNCXfpyJKJFLkmJkVWwARzZzUHPk'[_0x3ef725(0x117)](_0x21e0a2,'')[_0x3ef725(0x104)](';'),_0x4c05d1,_0x34eb53,_0x5007a7,_0xc8919e,_0x22178c=function(_0x5170fa,_0x3dd996,_0x40570a){if(_0x5170fa['length']!=_0x3dd996)return![];for(var _0x40da7b=0x0;_0x40da7b<_0x3dd996;_0x40da7b++){for(var _0x1e8a01=0x0;_0x1e8a01<_0x40570a['length'];_0x1e8a01+=0x2){if(_0x40da7b==_0x40570a[_0x1e8a01]&&_0x5170fa['charCodeAt'](_0x40da7b)!=_0x40570a[_0x1e8a01+0x1])return![];}}return!![];},_0xe0a49a=function(_0x180c75,_0x4dd025,_0x2b8e70){return _0x22178c(_0x4dd025,_0x2b8e70,_0x180c75);},_0x23f2d1=function(_0x5e9196,_0xde0078,_0x47c116){return _0xe0a49a(_0xde0078,_0x5e9196,_0x47c116);},_0x5102ef=function(_0x46adb2,_0x10b1b4,_0x329d7a){return _0x23f2d1(_0x10b1b4,_0x329d7a,_0x46adb2);};for(var _0x48b34b in _0x4cc8db){if(_0x22178c(_0x48b34b,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4c05d1=_0x48b34b;break;}}for(var _0x55c3fd in _0x4cc8db[_0x4c05d1]){if(_0x5102ef(0x6,_0x55c3fd,[0x5,0x6e,0x0,0x64])){_0x34eb53=_0x55c3fd;break;}}for(var _0x72c789 in _0x4cc8db[_0x4c05d1]){if(_0x23f2d1(_0x72c789,[0x7,0x6e,0x0,0x6c],0x8)){_0x5007a7=_0x72c789;break;}}if(!('~'>_0x34eb53))for(var _0x4ba7dd in _0x4cc8db[_0x4c05d1][_0x5007a7]){if(_0xe0a49a([0x7,0x65,0x0,0x68],_0x4ba7dd,0x8)){_0xc8919e=_0x4ba7dd;break;}}if(!_0x4c05d1||!_0x4cc8db[_0x4c05d1])return;var _0x5d209d=_0x4cc8db[_0x4c05d1][_0x34eb53],_0x34fa36=!!_0x4cc8db[_0x4c05d1][_0x5007a7]&&_0x4cc8db[_0x4c05d1][_0x5007a7][_0xc8919e],_0x512182=_0x5d209d||_0x34fa36;if(!_0x512182)return;var _0x1cba9f=![];for(var _0x110e17=0x0;_0x110e17<_0x5c0ebc[_0x3ef725(0x10b)];_0x110e17++){var _0x34eb53=_0x5c0ebc[_0x110e17],_0x3cd2d1=_0x34eb53[0x0]===String[_0x3ef725(0x109)](0x2e)?_0x34eb53['slice'](0x1):_0x34eb53,_0xfe4f97=_0x512182[_0x3ef725(0x10b)]-_0x3cd2d1[_0x3ef725(0x10b)],_0x14f3d1=_0x512182[_0x3ef725(0x10f)](_0x3cd2d1,_0xfe4f97),_0x552fa9=_0x14f3d1!==-0x1&&_0x14f3d1===_0xfe4f97;_0x552fa9&&((_0x512182['length']==_0x34eb53[_0x3ef725(0x10b)]||_0x34eb53[_0x3ef725(0x10f)]('.')===0x0)&&(_0x1cba9f=!![]));}if(!_0x1cba9f){var _0x323888=new RegExp('[KyArcxsWLgjLCAWgZjpviGUK]','g'),_0x4f9497=_0x3ef725(0x114)[_0x3ef725(0x117)](_0x323888,'');_0x4cc8db[_0x4c05d1][_0x5007a7]=_0x4f9497;}});_0x11e757();class DialogueEngine{constructor(){var _0xce2de3=_0x12d4;this[_0xce2de3(0xe8)]='',this['textProgress']='',this[_0xce2de3(0xfc)]=[],this[_0xce2de3(0xe9)]=0x3,this[_0xce2de3(0xf7)]=0x0,this['savedCameraFocus']=map[_0xce2de3(0x116)],this[_0xce2de3(0xf1)]=0xa,this[_0xce2de3(0x111)]={'sheet':id(_0xce2de3(0x111)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0xce2de3(0xfd)]=player,this[_0xce2de3(0x110)]=0x0,this[_0xce2de3(0x105)]=![],this['dialoguesQueue']=[],this[_0xce2de3(0xf5)]=![],this[_0xce2de3(0xea)]={'x':this[_0xce2de3(0xfd)]['x'],'y':this[_0xce2de3(0xfd)]['y'],'w':0xc,'h':0x1};}['resetTextProgress'](){var _0x189e3a=_0x12d4;this[_0x189e3a(0x10a)]=this[_0x189e3a(0xe8)];for(let _0x211eae=0x0;_0x211eae<this[_0x189e3a(0x10a)]['length'];_0x211eae++){this['textProgress'][_0x211eae]='';}}['loadDialogueQueue'](_0x2dee82){var _0x1eed32=_0x12d4;this[_0x1eed32(0x105)]=!![],this['dialoguesQueue']=_0x2dee82,this[_0x1eed32(0xee)]();}[_0x52e027(0xee)](){var _0x10715c=_0x52e027;this[_0x10715c(0xe8)]=this[_0x10715c(0x115)][0x0]['text'],this[_0x10715c(0xfd)]=this['dialoguesQueue'][0x0][_0x10715c(0xfd)],this[_0x10715c(0x10a)]='',this[_0x10715c(0xfc)]=[],this[_0x10715c(0x115)][_0x10715c(0xff)](0x0,0x1);}[_0x52e027(0xeb)](){var _0x138cbb=_0x52e027;this['textProgress']['length']<this[_0x138cbb(0xe8)][_0x138cbb(0x10b)]?(this[_0x138cbb(0xf5)]=![],this[_0x138cbb(0xf7)]+=0x1*meta['deltaTime'],this[_0x138cbb(0xf7)]>this[_0x138cbb(0xe9)]&&(this[_0x138cbb(0xf7)]=0x0,this[_0x138cbb(0x10a)]+=this[_0x138cbb(0xe8)][this['textProgress'][_0x138cbb(0x10b)]],this[_0x138cbb(0xfc)]=getLines(c,this['textProgress'],this['textbox']['w']*meta['tilesize']*meta['ratio']))):this['finished']=!![];switch(this[_0x138cbb(0xe8)][this[_0x138cbb(0x10a)]['length']]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x138cbb(0xeb)]();break;}}[_0x52e027(0xef)](){var _0x5d1f12=_0x52e027;if(!this[_0x5d1f12(0x105)])return;this[_0x5d1f12(0xfd)][_0x5d1f12(0xed)]&&(this[_0x5d1f12(0x105)]=![]),this[_0x5d1f12(0xea)]['x']=this[_0x5d1f12(0xfd)]['x']+this[_0x5d1f12(0xfd)]['w']/0x2-this[_0x5d1f12(0xea)]['w']/0x2,this[_0x5d1f12(0xea)]['y']=this[_0x5d1f12(0xfd)]['y']-1.5,this[_0x5d1f12(0xeb)](),!this[_0x5d1f12(0xf5)]?this[_0x5d1f12(0xfd)][_0x5d1f12(0x107)][this['currentAudio']][_0x5d1f12(0x10c)]&&(this['currentAudio']=Math['random']()*0x6|0x0,this[_0x5d1f12(0xfd)]['voice'][this[_0x5d1f12(0x110)]]['playy']()):this[_0x5d1f12(0xfd)][_0x5d1f12(0x107)][this[_0x5d1f12(0x110)]][_0x5d1f12(0xf9)]();}[_0x52e027(0xe7)](){var _0x4d8f21=_0x52e027;if(!this[_0x4d8f21(0x105)])return;c[_0x4d8f21(0xfe)]=_0x4d8f21(0x106),c['font']=this[_0x4d8f21(0xf1)]*meta[_0x4d8f21(0xf2)]+'px'+'\x20\x27VT323\x27',c['fillStyle']=_0x4d8f21(0xf0);for(let _0x1a7067=0x0;_0x1a7067<this[_0x4d8f21(0xfc)]['length'];_0x1a7067++){c[_0x4d8f21(0x108)](this[_0x4d8f21(0xfc)][_0x1a7067],(this[_0x4d8f21(0xea)]['x']+map['x'])*meta[_0x4d8f21(0x10d)]*meta[_0x4d8f21(0xf2)],(this[_0x4d8f21(0xea)]['y']+map['y'])*meta['tilesize']*meta['ratio']+this[_0x4d8f21(0xf1)]*meta[_0x4d8f21(0xf2)]*(_0x1a7067+0x1)/1.2);}if(this[_0x4d8f21(0xf5)]){}}}function getLines(_0xf5447e,_0x4ced71,_0x3491ef){var _0x36bd69=_0x52e027,_0x4cf0db=_0x4ced71[_0x36bd69(0x104)]('\x20'),_0x3d7c0b=[],_0x5a139f=_0x4cf0db[0x0];for(var _0x526408=0x1;_0x526408<_0x4cf0db[_0x36bd69(0x10b)];_0x526408++){var _0x3ca9db=_0x4cf0db[_0x526408],_0x34c75a=_0xf5447e[_0x36bd69(0xec)](_0x5a139f+'\x20'+_0x3ca9db)[_0x36bd69(0x10e)];_0x34c75a<_0x3491ef?_0x5a139f+='\x20'+_0x3ca9db:(_0x3d7c0b[_0x36bd69(0x103)](_0x5a139f),_0x5a139f=_0x3ca9db);}return _0x3d7c0b[_0x36bd69(0x103)](_0x5a139f),_0x3d7c0b;}