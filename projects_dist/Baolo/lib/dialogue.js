function _0x2770(_0x14ada7,_0x5835e7){var _0x350eb6=_0x281a();return _0x2770=function(_0x1cfd91,_0x428f41){_0x1cfd91=_0x1cfd91-0xda;var _0x46bf53=_0x350eb6[_0x1cfd91];return _0x46bf53;},_0x2770(_0x14ada7,_0x5835e7);}function _0x281a(){var _0xe1c5d4=['currentAudio','pause','nextDialogue','baseSlowness','587862QMQPJb','\x20\x27VT323\x27','savedCameraFocus','width','finished','deltaTime','paused','splittedText','wholeText','textbox','ratio','textAlign','length','fillText','playy','charCodeAt','sMaManPTtoknSaXnxWdreKXJ.fCgiWtqhub.yiKKZUo;lCoxcalhovTWAsRNQtFDPQRFYCKRYyKBmPwAmxqUJFZJGYZWEBfyJ','21HuOWWM','voice','138688BRPziN','2405bjqViH','push','render','3qatfgD','indexOf','[MMPTkSXxWKXJfCWqyKKZUCxvTWARNQFDPQRFYCKRYyKBmPwAmxqUJFZJGYZWEBfyJ]','splice','3465930UVnqZC','{}.constructor(\x22return\x20this\x22)(\x20)','replace','font','textProgress','return\x20(function()\x20','active','speaker','slice','422662bpzRZi','dialoguesQueue','UBabogutBYHJAx:xbmUlanBkrvQMryLVTpgrxm','tilesize','split','nextLetter','fontSize','216uYTcbM','frameCounter','cameraFocus','left','removed','571856vsFUEi','apply','pressButton','#f9f5ef','resetTextProgress','375741VeDqXa'];_0x281a=function(){return _0xe1c5d4;};return _0x281a();}var _0x5c46a7=_0x2770;(function(_0x3ccba9,_0x4b6da2){var _0x210eaa=_0x2770,_0x425999=_0x3ccba9();while(!![]){try{var _0xbcb3c=parseInt(_0x210eaa(0xed))/0x1+-parseInt(_0x210eaa(0xfe))/0x2*(-parseInt(_0x210eaa(0xf1))/0x3)+-parseInt(_0x210eaa(0x105))/0x4*(parseInt(_0x210eaa(0xee))/0x5)+parseInt(_0x210eaa(0xda))/0x6*(parseInt(_0x210eaa(0xeb))/0x7)+-parseInt(_0x210eaa(0x10a))/0x8+-parseInt(_0x210eaa(0x10f))/0x9+-parseInt(_0x210eaa(0xf5))/0xa;if(_0xbcb3c===_0x4b6da2)break;else _0x425999['push'](_0x425999['shift']());}catch(_0x5d1530){_0x425999['push'](_0x425999['shift']());}}}(_0x281a,0x269c8));var _0x428f41=(function(){var _0xd138c2=!![];return function(_0x3c4d66,_0x18170e){var _0x2a6428=_0xd138c2?function(){var _0x14628c=_0x2770;if(_0x18170e){var _0x254f67=_0x18170e[_0x14628c(0x10b)](_0x3c4d66,arguments);return _0x18170e=null,_0x254f67;}}:function(){};return _0xd138c2=![],_0x2a6428;};}()),_0x1cfd91=_0x428f41(this,function(){var _0x4a4db9=_0x2770,_0x40a80a=function(){var _0x24477d=_0x2770,_0x4ad92e;try{_0x4ad92e=Function(_0x24477d(0xfa)+_0x24477d(0xf6)+');')();}catch(_0x6fc9d0){_0x4ad92e=window;}return _0x4ad92e;},_0xf8a7c0=_0x40a80a(),_0x2af6d5=new RegExp(_0x4a4db9(0xf3),'g'),_0xaf99d=_0x4a4db9(0xea)[_0x4a4db9(0xf7)](_0x2af6d5,'')[_0x4a4db9(0x102)](';'),_0xd562f7,_0x54565a,_0x2bf685,_0x1aa9da,_0x21a481=function(_0x59d680,_0xc91a78,_0x43e846){var _0xb51416=_0x4a4db9;if(_0x59d680['length']!=_0xc91a78)return![];for(var _0x16bb55=0x0;_0x16bb55<_0xc91a78;_0x16bb55++){for(var _0x5a6ccc=0x0;_0x5a6ccc<_0x43e846['length'];_0x5a6ccc+=0x2){if(_0x16bb55==_0x43e846[_0x5a6ccc]&&_0x59d680[_0xb51416(0xe9)](_0x16bb55)!=_0x43e846[_0x5a6ccc+0x1])return![];}}return!![];},_0x46ecdc=function(_0x47cc93,_0x21f23f,_0x2b63c0){return _0x21a481(_0x21f23f,_0x2b63c0,_0x47cc93);},_0x3cfb59=function(_0x14dc85,_0xbb2ace,_0x45e76c){return _0x46ecdc(_0xbb2ace,_0x14dc85,_0x45e76c);},_0x202f5e=function(_0x3ae76c,_0x19b33f,_0xc8a8de){return _0x3cfb59(_0x19b33f,_0xc8a8de,_0x3ae76c);};for(var _0x2ad79b in _0xf8a7c0){if(_0x21a481(_0x2ad79b,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xd562f7=_0x2ad79b;break;}}for(var _0x26be7b in _0xf8a7c0[_0xd562f7]){if(_0x202f5e(0x6,_0x26be7b,[0x5,0x6e,0x0,0x64])){_0x54565a=_0x26be7b;break;}}for(var _0x57310a in _0xf8a7c0[_0xd562f7]){if(_0x3cfb59(_0x57310a,[0x7,0x6e,0x0,0x6c],0x8)){_0x2bf685=_0x57310a;break;}}if(!('~'>_0x54565a))for(var _0x569914 in _0xf8a7c0[_0xd562f7][_0x2bf685]){if(_0x46ecdc([0x7,0x65,0x0,0x68],_0x569914,0x8)){_0x1aa9da=_0x569914;break;}}if(!_0xd562f7||!_0xf8a7c0[_0xd562f7])return;var _0x442c0d=_0xf8a7c0[_0xd562f7][_0x54565a],_0x498c5d=!!_0xf8a7c0[_0xd562f7][_0x2bf685]&&_0xf8a7c0[_0xd562f7][_0x2bf685][_0x1aa9da],_0x8105a3=_0x442c0d||_0x498c5d;if(!_0x8105a3)return;var _0xa519ac=![];for(var _0x5a5ad7=0x0;_0x5a5ad7<_0xaf99d[_0x4a4db9(0xe6)];_0x5a5ad7++){var _0x54565a=_0xaf99d[_0x5a5ad7],_0x4b1c65=_0x54565a[0x0]===String['fromCharCode'](0x2e)?_0x54565a[_0x4a4db9(0xfd)](0x1):_0x54565a,_0x48b7ff=_0x8105a3[_0x4a4db9(0xe6)]-_0x4b1c65[_0x4a4db9(0xe6)],_0x346bae=_0x8105a3[_0x4a4db9(0xf2)](_0x4b1c65,_0x48b7ff),_0x6437b0=_0x346bae!==-0x1&&_0x346bae===_0x48b7ff;_0x6437b0&&((_0x8105a3[_0x4a4db9(0xe6)]==_0x54565a[_0x4a4db9(0xe6)]||_0x54565a[_0x4a4db9(0xf2)]('.')===0x0)&&(_0xa519ac=!![]));}if(!_0xa519ac){var _0x117904=new RegExp('[UBgBYHJAxxmUBrvQMryLVTpgrxm]','g'),_0x2d1777=_0x4a4db9(0x100)[_0x4a4db9(0xf7)](_0x117904,'');_0xf8a7c0[_0xd562f7][_0x2bf685]=_0x2d1777;}});_0x1cfd91();class DialogueEngine{constructor(){var _0x12bdfa=_0x2770;this[_0x12bdfa(0xe2)]='',this['textProgress']='',this[_0x12bdfa(0xe1)]=[],this[_0x12bdfa(0x113)]=0x3,this[_0x12bdfa(0x106)]=0x0,this[_0x12bdfa(0xdc)]=map[_0x12bdfa(0x107)],this[_0x12bdfa(0x104)]=0xa,this[_0x12bdfa(0x10c)]={'sheet':id('pressButton'),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x12bdfa(0xfc)]=player,this[_0x12bdfa(0x110)]=0x0,this[_0x12bdfa(0xfb)]=![],this[_0x12bdfa(0xff)]=[],this[_0x12bdfa(0xde)]=![],this['textbox']={'x':this['speaker']['x'],'y':this[_0x12bdfa(0xfc)]['y'],'w':0xc,'h':0x1};}[_0x5c46a7(0x10e)](){var _0x5c6f1c=_0x5c46a7;this[_0x5c6f1c(0xf9)]=this[_0x5c6f1c(0xe2)];for(let _0x4d1a00=0x0;_0x4d1a00<this[_0x5c6f1c(0xf9)][_0x5c6f1c(0xe6)];_0x4d1a00++){this[_0x5c6f1c(0xf9)][_0x4d1a00]='';}}['loadDialogueQueue'](_0x141a73){var _0x5101fd=_0x5c46a7;this[_0x5101fd(0xfb)]=!![],this[_0x5101fd(0xff)]=_0x141a73,this[_0x5101fd(0x112)]();}[_0x5c46a7(0x112)](){var _0x391763=_0x5c46a7;this[_0x391763(0xe2)]=this[_0x391763(0xff)][0x0]['text'],this[_0x391763(0xfc)]=this['dialoguesQueue'][0x0]['speaker'],this[_0x391763(0xf9)]='',this['splittedText']=[],this['dialoguesQueue'][_0x391763(0xf4)](0x0,0x1);}[_0x5c46a7(0x103)](){var _0xde0c37=_0x5c46a7;this[_0xde0c37(0xf9)][_0xde0c37(0xe6)]<this[_0xde0c37(0xe2)][_0xde0c37(0xe6)]?(this[_0xde0c37(0xde)]=![],this[_0xde0c37(0x106)]+=0x1*meta[_0xde0c37(0xdf)],this[_0xde0c37(0x106)]>this[_0xde0c37(0x113)]&&(this[_0xde0c37(0x106)]=0x0,this[_0xde0c37(0xf9)]+=this[_0xde0c37(0xe2)][this['textProgress'][_0xde0c37(0xe6)]],this[_0xde0c37(0xe1)]=getLines(c,this[_0xde0c37(0xf9)],this[_0xde0c37(0xe3)]['w']*meta['tilesize']*meta[_0xde0c37(0xe4)]))):this['finished']=!![];switch(this[_0xde0c37(0xe2)][this[_0xde0c37(0xf9)]['length']]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0xde0c37(0x103)]();break;}}['compute'](){var _0x248df5=_0x5c46a7;if(!this['active'])return;this[_0x248df5(0xfc)][_0x248df5(0x109)]&&(this[_0x248df5(0xfb)]=![]),this[_0x248df5(0xe3)]['x']=this[_0x248df5(0xfc)]['x']+this['speaker']['w']/0x2-this[_0x248df5(0xe3)]['w']/0x2,this[_0x248df5(0xe3)]['y']=this['speaker']['y']-1.5,this[_0x248df5(0x103)](),!this[_0x248df5(0xde)]?this['speaker'][_0x248df5(0xec)][this[_0x248df5(0x110)]][_0x248df5(0xe0)]&&(this['currentAudio']=Math['random']()*0x6|0x0,this[_0x248df5(0xfc)][_0x248df5(0xec)][this[_0x248df5(0x110)]][_0x248df5(0xe8)]()):this[_0x248df5(0xfc)][_0x248df5(0xec)][this[_0x248df5(0x110)]][_0x248df5(0x111)]();}[_0x5c46a7(0xf0)](){var _0x59aaf5=_0x5c46a7;if(!this[_0x59aaf5(0xfb)])return;c[_0x59aaf5(0xe5)]=_0x59aaf5(0x108),c[_0x59aaf5(0xf8)]=this[_0x59aaf5(0x104)]*meta['ratio']+'px'+_0x59aaf5(0xdb),c['fillStyle']=_0x59aaf5(0x10d);for(let _0x3e7f11=0x0;_0x3e7f11<this[_0x59aaf5(0xe1)][_0x59aaf5(0xe6)];_0x3e7f11++){c[_0x59aaf5(0xe7)](this[_0x59aaf5(0xe1)][_0x3e7f11],(this['textbox']['x']+map['x'])*meta[_0x59aaf5(0x101)]*meta[_0x59aaf5(0xe4)],(this['textbox']['y']+map['y'])*meta['tilesize']*meta[_0x59aaf5(0xe4)]+this['fontSize']*meta[_0x59aaf5(0xe4)]*(_0x3e7f11+0x1)/1.2);}if(this[_0x59aaf5(0xde)]){}}}function getLines(_0x55ffe5,_0x38233c,_0x44af9d){var _0x3123ba=_0x5c46a7,_0x2fd742=_0x38233c[_0x3123ba(0x102)]('\x20'),_0x1d8983=[],_0x1f297c=_0x2fd742[0x0];for(var _0xd1fb89=0x1;_0xd1fb89<_0x2fd742[_0x3123ba(0xe6)];_0xd1fb89++){var _0x46eded=_0x2fd742[_0xd1fb89],_0x348a8c=_0x55ffe5['measureText'](_0x1f297c+'\x20'+_0x46eded)[_0x3123ba(0xdd)];_0x348a8c<_0x44af9d?_0x1f297c+='\x20'+_0x46eded:(_0x1d8983[_0x3123ba(0xef)](_0x1f297c),_0x1f297c=_0x46eded);}return _0x1d8983[_0x3123ba(0xef)](_0x1f297c),_0x1d8983;}