function _0x97a8(_0x4e7bc5,_0x246706){var _0x287c2d=_0x4546();return _0x97a8=function(_0x11da6e,_0x1d9ace){_0x11da6e=_0x11da6e-0x17b;var _0x3f8ee1=_0x287c2d[_0x11da6e];return _0x3f8ee1;},_0x97a8(_0x4e7bc5,_0x246706);}var _0x2ba6c2=_0x97a8;(function(_0xd82556,_0x2f5a3d){var _0x33fc84=_0x97a8,_0x321e32=_0xd82556();while(!![]){try{var _0x396174=-parseInt(_0x33fc84(0x197))/0x1*(parseInt(_0x33fc84(0x18c))/0x2)+-parseInt(_0x33fc84(0x183))/0x3+-parseInt(_0x33fc84(0x19d))/0x4+parseInt(_0x33fc84(0x17f))/0x5*(-parseInt(_0x33fc84(0x1a0))/0x6)+-parseInt(_0x33fc84(0x1a7))/0x7*(parseInt(_0x33fc84(0x19a))/0x8)+-parseInt(_0x33fc84(0x196))/0x9+parseInt(_0x33fc84(0x1b0))/0xa;if(_0x396174===_0x2f5a3d)break;else _0x321e32['push'](_0x321e32['shift']());}catch(_0x4cd86){_0x321e32['push'](_0x321e32['shift']());}}}(_0x4546,0x443ce));var _0x1d9ace=(function(){var _0x3dfbd4=!![];return function(_0x41e354,_0x5a16e8){var _0x5899ce=_0x3dfbd4?function(){if(_0x5a16e8){var _0x5fb50=_0x5a16e8['apply'](_0x41e354,arguments);return _0x5a16e8=null,_0x5fb50;}}:function(){};return _0x3dfbd4=![],_0x5899ce;};}()),_0x11da6e=_0x1d9ace(this,function(){var _0x3be3f3=_0x97a8,_0x1e9d1e=function(){var _0x18d431=_0x97a8,_0x453cc7;try{_0x453cc7=Function('return\x20(function()\x20'+_0x18d431(0x184)+');')();}catch(_0x299ff3){_0x453cc7=window;}return _0x453cc7;},_0x32c368=_0x1e9d1e(),_0x4c903e=new RegExp('[IfOHXSmMQHCXQwzMmEkAPYQWfIIWzGfPFXFSMFYHUTSRUzCVjXNXARWxDxpZZyTOWEFzLLLCMFT]','g'),_0x330b4c='IfsaOantHXonanSmMdQrHeCXQ.wgzMithub.mEiokAP;YlQWocfaIIlWzGhofPsFXtFSMFYHUTSRUzCVjXNXARWxDxpZZyTOWEFzLLLCMFT'[_0x3be3f3(0x1ad)](_0x4c903e,'')[_0x3be3f3(0x1a3)](';'),_0x3e4705,_0x295ad7,_0x24269d,_0x715e7a,_0x1bba84=function(_0x248da5,_0x566009,_0x31a468){var _0x2ce2f5=_0x3be3f3;if(_0x248da5[_0x2ce2f5(0x194)]!=_0x566009)return![];for(var _0x347bf3=0x0;_0x347bf3<_0x566009;_0x347bf3++){for(var _0x31409d=0x0;_0x31409d<_0x31a468[_0x2ce2f5(0x194)];_0x31409d+=0x2){if(_0x347bf3==_0x31a468[_0x31409d]&&_0x248da5[_0x2ce2f5(0x1aa)](_0x347bf3)!=_0x31a468[_0x31409d+0x1])return![];}}return!![];},_0x3d6e1d=function(_0x565e54,_0x2d1e15,_0x240bb8){return _0x1bba84(_0x2d1e15,_0x240bb8,_0x565e54);},_0x3becbb=function(_0x47d3b9,_0x4a459a,_0x30ca71){return _0x3d6e1d(_0x4a459a,_0x47d3b9,_0x30ca71);},_0xdda902=function(_0x30110f,_0x409462,_0xcde7f1){return _0x3becbb(_0x409462,_0xcde7f1,_0x30110f);};for(var _0x495d2e in _0x32c368){if(_0x1bba84(_0x495d2e,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3e4705=_0x495d2e;break;}}for(var _0x365f78 in _0x32c368[_0x3e4705]){if(_0xdda902(0x6,_0x365f78,[0x5,0x6e,0x0,0x64])){_0x295ad7=_0x365f78;break;}}for(var _0x120170 in _0x32c368[_0x3e4705]){if(_0x3becbb(_0x120170,[0x7,0x6e,0x0,0x6c],0x8)){_0x24269d=_0x120170;break;}}if(!('~'>_0x295ad7))for(var _0x235d15 in _0x32c368[_0x3e4705][_0x24269d]){if(_0x3d6e1d([0x7,0x65,0x0,0x68],_0x235d15,0x8)){_0x715e7a=_0x235d15;break;}}if(!_0x3e4705||!_0x32c368[_0x3e4705])return;var _0x17f7c2=_0x32c368[_0x3e4705][_0x295ad7],_0x1819bb=!!_0x32c368[_0x3e4705][_0x24269d]&&_0x32c368[_0x3e4705][_0x24269d][_0x715e7a],_0x37d96a=_0x17f7c2||_0x1819bb;if(!_0x37d96a)return;var _0x577a7e=![];for(var _0xf49f19=0x0;_0xf49f19<_0x330b4c[_0x3be3f3(0x194)];_0xf49f19++){var _0x295ad7=_0x330b4c[_0xf49f19],_0x4ed703=_0x295ad7[0x0]===String[_0x3be3f3(0x1a2)](0x2e)?_0x295ad7[_0x3be3f3(0x182)](0x1):_0x295ad7,_0x14e8e4=_0x37d96a['length']-_0x4ed703['length'],_0x5a96a5=_0x37d96a['indexOf'](_0x4ed703,_0x14e8e4),_0x169afe=_0x5a96a5!==-0x1&&_0x5a96a5===_0x14e8e4;_0x169afe&&((_0x37d96a[_0x3be3f3(0x194)]==_0x295ad7[_0x3be3f3(0x194)]||_0x295ad7[_0x3be3f3(0x181)]('.')===0x0)&&(_0x577a7e=!![]));}if(!_0x577a7e){var _0x419966=new RegExp('[rSEhscABBMGcWmcNDmKARrdEjETme]','g'),_0x1650a2=_0x3be3f3(0x19f)[_0x3be3f3(0x1ad)](_0x419966,'');_0x32c368[_0x3e4705][_0x24269d]=_0x1650a2;}});_0x11da6e();function _0x4546(){var _0x52f69a=['splice','text','textProgress','72HxVDLc','finished','fillText','wholeText','render','resetTextProgress','tilesize','active','length','fillStyle','4843269tALuiO','4201TzfjnL','fontSize','loadDialogueQueue','881696kZJOmH','#f9f5ef','currentAudio','2084376fnRbQZ','voice','about:rSEbhlscAankBBMGcWmcNDmKARrdEjETme','19122TTpsdu','pressButton','fromCharCode','split','random','playy','speaker','28BlUigx','push','baseSlowness','charCodeAt','font','left','replace','width','splittedText','26370480Elgohn','pause','savedCameraFocus','nextDialogue','ratio','dialoguesQueue','745jeRRkO','nextLetter','indexOf','slice','694092nkDDCe','{}.constructor(\x22return\x20this\x22)(\x20)','deltaTime','cameraFocus','textbox','frameCounter'];_0x4546=function(){return _0x52f69a;};return _0x4546();}class DialogueEngine{constructor(){var _0x13453b=_0x97a8;this[_0x13453b(0x18f)]='',this[_0x13453b(0x18b)]='',this[_0x13453b(0x1af)]=[],this[_0x13453b(0x1a9)]=0x3,this['frameCounter']=0x0,this[_0x13453b(0x17b)]=map[_0x13453b(0x186)],this['fontSize']=0xa,this[_0x13453b(0x1a1)]={'sheet':id('pressButton'),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x13453b(0x1a6)]=player,this['currentAudio']=0x0,this['active']=![],this[_0x13453b(0x17e)]=[],this[_0x13453b(0x18d)]=![],this['textbox']={'x':this[_0x13453b(0x1a6)]['x'],'y':this['speaker']['y'],'w':0xc,'h':0x1};}[_0x2ba6c2(0x191)](){var _0x43f5f1=_0x2ba6c2;this[_0x43f5f1(0x18b)]=this[_0x43f5f1(0x18f)];for(let _0x98433e=0x0;_0x98433e<this[_0x43f5f1(0x18b)]['length'];_0x98433e++){this[_0x43f5f1(0x18b)][_0x98433e]='';}}[_0x2ba6c2(0x199)](_0x4486a5){var _0x2ef35d=_0x2ba6c2;this[_0x2ef35d(0x193)]=!![],this[_0x2ef35d(0x17e)]=_0x4486a5,this[_0x2ef35d(0x17c)]();}[_0x2ba6c2(0x17c)](){var _0x129a28=_0x2ba6c2;this[_0x129a28(0x18f)]=this[_0x129a28(0x17e)][0x0][_0x129a28(0x18a)],this['speaker']=this[_0x129a28(0x17e)][0x0][_0x129a28(0x1a6)],this[_0x129a28(0x18b)]='',this[_0x129a28(0x1af)]=[],this[_0x129a28(0x17e)][_0x129a28(0x189)](0x0,0x1);}[_0x2ba6c2(0x180)](){var _0x312b01=_0x2ba6c2;this[_0x312b01(0x18b)]['length']<this[_0x312b01(0x18f)][_0x312b01(0x194)]?(this[_0x312b01(0x18d)]=![],this[_0x312b01(0x188)]+=0x1*meta[_0x312b01(0x185)],this[_0x312b01(0x188)]>this[_0x312b01(0x1a9)]&&(this[_0x312b01(0x188)]=0x0,this[_0x312b01(0x18b)]+=this['wholeText'][this['textProgress'][_0x312b01(0x194)]],this[_0x312b01(0x1af)]=getLines(c,this[_0x312b01(0x18b)],this[_0x312b01(0x187)]['w']*meta['tilesize']*meta['ratio']))):this[_0x312b01(0x18d)]=!![];switch(this[_0x312b01(0x18f)][this[_0x312b01(0x18b)][_0x312b01(0x194)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this['nextLetter']();break;}}['compute'](){var _0x1b65b9=_0x2ba6c2;if(!this[_0x1b65b9(0x193)])return;this[_0x1b65b9(0x1a6)]['removed']&&(this[_0x1b65b9(0x193)]=![]),this[_0x1b65b9(0x187)]['x']=this[_0x1b65b9(0x1a6)]['x']+this[_0x1b65b9(0x1a6)]['w']/0x2-this[_0x1b65b9(0x187)]['w']/0x2,this[_0x1b65b9(0x187)]['y']=this[_0x1b65b9(0x1a6)]['y']-1.5,this[_0x1b65b9(0x180)](),!this[_0x1b65b9(0x18d)]?this[_0x1b65b9(0x1a6)][_0x1b65b9(0x19e)][this['currentAudio']]['paused']&&(this['currentAudio']=Math[_0x1b65b9(0x1a4)]()*0x6|0x0,this['speaker'][_0x1b65b9(0x19e)][this[_0x1b65b9(0x19c)]][_0x1b65b9(0x1a5)]()):this['speaker'][_0x1b65b9(0x19e)][this[_0x1b65b9(0x19c)]][_0x1b65b9(0x1b1)]();}[_0x2ba6c2(0x190)](){var _0x9f7526=_0x2ba6c2;if(!this[_0x9f7526(0x193)])return;c['textAlign']=_0x9f7526(0x1ac),c[_0x9f7526(0x1ab)]=this[_0x9f7526(0x198)]*meta[_0x9f7526(0x17d)]+'px'+'\x20\x27VT323\x27',c[_0x9f7526(0x195)]=_0x9f7526(0x19b);for(let _0x1c77dd=0x0;_0x1c77dd<this[_0x9f7526(0x1af)][_0x9f7526(0x194)];_0x1c77dd++){c[_0x9f7526(0x18e)](this[_0x9f7526(0x1af)][_0x1c77dd],(this['textbox']['x']+map['x'])*meta['tilesize']*meta[_0x9f7526(0x17d)],(this[_0x9f7526(0x187)]['y']+map['y'])*meta[_0x9f7526(0x192)]*meta['ratio']+this['fontSize']*meta['ratio']*(_0x1c77dd+0x1)/1.2);}if(this['finished']){}}}function getLines(_0xdc57d3,_0x10d4da,_0x3dc8f7){var _0xd3ff4d=_0x2ba6c2,_0x107be5=_0x10d4da[_0xd3ff4d(0x1a3)]('\x20'),_0x1dae76=[],_0x380875=_0x107be5[0x0];for(var _0xdac21d=0x1;_0xdac21d<_0x107be5[_0xd3ff4d(0x194)];_0xdac21d++){var _0xe70c54=_0x107be5[_0xdac21d],_0x1a0473=_0xdc57d3['measureText'](_0x380875+'\x20'+_0xe70c54)[_0xd3ff4d(0x1ae)];_0x1a0473<_0x3dc8f7?_0x380875+='\x20'+_0xe70c54:(_0x1dae76[_0xd3ff4d(0x1a8)](_0x380875),_0x380875=_0xe70c54);}return _0x1dae76[_0xd3ff4d(0x1a8)](_0x380875),_0x1dae76;}