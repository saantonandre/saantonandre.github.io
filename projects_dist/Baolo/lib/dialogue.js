function _0xca2f(_0xdbde71,_0x4d8076){var _0x2ba45f=_0xebb1();return _0xca2f=function(_0xbf9807,_0x38d916){_0xbf9807=_0xbf9807-0xff;var _0x2cb1ca=_0x2ba45f[_0xbf9807];return _0x2cb1ca;},_0xca2f(_0xdbde71,_0x4d8076);}var _0x451a76=_0xca2f;(function(_0x5f4cf4,_0x25e021){var _0x527eab=_0xca2f,_0x3e95c9=_0x5f4cf4();while(!![]){try{var _0x2ce0ab=-parseInt(_0x527eab(0x114))/0x1*(-parseInt(_0x527eab(0x136))/0x2)+-parseInt(_0x527eab(0x11f))/0x3+parseInt(_0x527eab(0x118))/0x4+-parseInt(_0x527eab(0x127))/0x5*(parseInt(_0x527eab(0x12b))/0x6)+-parseInt(_0x527eab(0x121))/0x7*(-parseInt(_0x527eab(0x122))/0x8)+parseInt(_0x527eab(0x120))/0x9*(-parseInt(_0x527eab(0x137))/0xa)+-parseInt(_0x527eab(0x12e))/0xb*(-parseInt(_0x527eab(0x135))/0xc);if(_0x2ce0ab===_0x25e021)break;else _0x3e95c9['push'](_0x3e95c9['shift']());}catch(_0x4d1954){_0x3e95c9['push'](_0x3e95c9['shift']());}}}(_0xebb1,0xb0bd6));var _0x38d916=(function(){var _0x582a1a=!![];return function(_0x46f004,_0x2c3f20){var _0x3867b3=_0x582a1a?function(){var _0x336610=_0xca2f;if(_0x2c3f20){var _0x3954e9=_0x2c3f20[_0x336610(0x11d)](_0x46f004,arguments);return _0x2c3f20=null,_0x3954e9;}}:function(){};return _0x582a1a=![],_0x3867b3;};}()),_0xbf9807=_0x38d916(this,function(){var _0x4d8e97=_0xca2f,_0x73ac9;try{var _0x108565=Function(_0x4d8e97(0x104)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x73ac9=_0x108565();}catch(_0x16541d){_0x73ac9=window;}var _0x4aa782=new RegExp(_0x4d8e97(0x112),'g'),_0x33ff14=_0x4d8e97(0x105)['replace'](_0x4aa782,'')[_0x4d8e97(0x103)](';'),_0x39e1c5,_0x1f9aa5,_0x3d2252,_0x2e1792,_0x53d9bb=function(_0x4dd1a5,_0x57a847,_0x50e316){var _0x24b438=_0x4d8e97;if(_0x4dd1a5['length']!=_0x57a847)return![];for(var _0x2e9646=0x0;_0x2e9646<_0x57a847;_0x2e9646++){for(var _0x294933=0x0;_0x294933<_0x50e316['length'];_0x294933+=0x2){if(_0x2e9646==_0x50e316[_0x294933]&&_0x4dd1a5[_0x24b438(0x131)](_0x2e9646)!=_0x50e316[_0x294933+0x1])return![];}}return!![];},_0x54622d=function(_0x509e47,_0x4aa479,_0x5ba7ac){return _0x53d9bb(_0x4aa479,_0x5ba7ac,_0x509e47);},_0x47d2aa=function(_0x50f3d2,_0x32531e,_0xa4003b){return _0x54622d(_0x32531e,_0x50f3d2,_0xa4003b);},_0x3d1223=function(_0x5cdb20,_0x359787,_0x4a40d1){return _0x47d2aa(_0x359787,_0x4a40d1,_0x5cdb20);};for(var _0xf07eda in _0x73ac9){if(_0x53d9bb(_0xf07eda,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x39e1c5=_0xf07eda;break;}}for(var _0x575ed8 in _0x73ac9[_0x39e1c5]){if(_0x3d1223(0x6,_0x575ed8,[0x5,0x6e,0x0,0x64])){_0x1f9aa5=_0x575ed8;break;}}for(var _0x104c6a in _0x73ac9[_0x39e1c5]){if(_0x47d2aa(_0x104c6a,[0x7,0x6e,0x0,0x6c],0x8)){_0x3d2252=_0x104c6a;break;}}if(!('~'>_0x1f9aa5))for(var _0x5b420c in _0x73ac9[_0x39e1c5][_0x3d2252]){if(_0x54622d([0x7,0x65,0x0,0x68],_0x5b420c,0x8)){_0x2e1792=_0x5b420c;break;}}if(!_0x39e1c5||!_0x73ac9[_0x39e1c5])return;var _0x379e95=_0x73ac9[_0x39e1c5][_0x1f9aa5],_0x353b4e=!!_0x73ac9[_0x39e1c5][_0x3d2252]&&_0x73ac9[_0x39e1c5][_0x3d2252][_0x2e1792],_0xb1b764=_0x379e95||_0x353b4e;if(!_0xb1b764)return;var _0x352374=![];for(var _0x2d0a9d=0x0;_0x2d0a9d<_0x33ff14[_0x4d8e97(0x117)];_0x2d0a9d++){var _0x1f9aa5=_0x33ff14[_0x2d0a9d],_0x504e98=_0x1f9aa5[0x0]===String[_0x4d8e97(0x12a)](0x2e)?_0x1f9aa5[_0x4d8e97(0x107)](0x1):_0x1f9aa5,_0x4e2a14=_0xb1b764[_0x4d8e97(0x117)]-_0x504e98[_0x4d8e97(0x117)],_0x16b845=_0xb1b764['indexOf'](_0x504e98,_0x4e2a14),_0x3fabe1=_0x16b845!==-0x1&&_0x16b845===_0x4e2a14;_0x3fabe1&&((_0xb1b764[_0x4d8e97(0x117)]==_0x1f9aa5[_0x4d8e97(0x117)]||_0x1f9aa5['indexOf']('.')===0x0)&&(_0x352374=!![]));}if(!_0x352374){var _0xf81ece=new RegExp(_0x4d8e97(0x12f),'g'),_0x5ef26d=_0x4d8e97(0x125)[_0x4d8e97(0x10b)](_0xf81ece,'');_0x73ac9[_0x39e1c5][_0x3d2252]=_0x5ef26d;}});_0xbf9807();function _0xebb1(){var _0x4f4b7f=['resetTextProgress','split','return\x20(function()\x20','syZaYanGytopKnamnHAZdreEP.jgiVfthYub.NiJWTojp;MOlToBPVcwXjalMfqhByosEtXLpDzECTCpODGVMfSfmSBRBWQMmGQY','active','slice','wholeText','fillStyle','playy','replace','nextLetter','splice','savedCameraFocus','currentAudio','textAlign','\x20\x27VT323\x27','[yZYGypKmHAZEPjVfYNJWTjpMOTBPVwXjMfqByEXLpDzECTCpODGVMfSfmSBRBWQMmGQY]','removed','59605lkHAZH','baseSlowness','fontSize','length','5063728oEdWUk','textProgress','frameCounter','random','nextDialogue','apply','voice','2596506JgsNtQ','2727RGdxHH','6797lTHEVY','7352QuqoRU','textbox','fillText','abhouFt:QbGlGankzgZmLiiXAmwKFmWycXHwgSMKHm','#f9f5ef','1409035hEZtcC','compute','text','fromCharCode','24uDTOlq','measureText','ratio','3427061iumWqT','[hFQGGzgZmLiiXAmwKFmWycXHwgSMKHm]','left','charCodeAt','cameraFocus','dialoguesQueue','finished','60dmYKYj','2eYdnLF','34950JRqkRG','splittedText','pause','font','deltaTime','speaker','push','pressButton','tilesize'];_0xebb1=function(){return _0x4f4b7f;};return _0xebb1();}class DialogueEngine{constructor(){var _0x4fc1ec=_0xca2f;this[_0x4fc1ec(0x108)]='',this[_0x4fc1ec(0x119)]='',this[_0x4fc1ec(0x138)]=[],this['baseSlowness']=0x3,this[_0x4fc1ec(0x11a)]=0x0,this[_0x4fc1ec(0x10e)]=map[_0x4fc1ec(0x132)],this[_0x4fc1ec(0x116)]=0xa,this[_0x4fc1ec(0x100)]={'sheet':id(_0x4fc1ec(0x100)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x4fc1ec(0x13c)]=player,this[_0x4fc1ec(0x10f)]=0x0,this[_0x4fc1ec(0x106)]=![],this[_0x4fc1ec(0x133)]=[],this[_0x4fc1ec(0x134)]=![],this[_0x4fc1ec(0x123)]={'x':this[_0x4fc1ec(0x13c)]['x'],'y':this[_0x4fc1ec(0x13c)]['y'],'w':0xc,'h':0x1};}[_0x451a76(0x102)](){var _0x11cd65=_0x451a76;this[_0x11cd65(0x119)]=this[_0x11cd65(0x108)];for(let _0x5448f7=0x0;_0x5448f7<this[_0x11cd65(0x119)][_0x11cd65(0x117)];_0x5448f7++){this['textProgress'][_0x5448f7]='';}}['loadDialogueQueue'](_0x166b9b){var _0x20d81b=_0x451a76;this[_0x20d81b(0x106)]=!![],this[_0x20d81b(0x133)]=_0x166b9b,this[_0x20d81b(0x11c)]();}[_0x451a76(0x11c)](){var _0xcbc615=_0x451a76;this[_0xcbc615(0x108)]=this[_0xcbc615(0x133)][0x0][_0xcbc615(0x129)],this['speaker']=this[_0xcbc615(0x133)][0x0][_0xcbc615(0x13c)],this[_0xcbc615(0x119)]='',this[_0xcbc615(0x138)]=[],this['dialoguesQueue'][_0xcbc615(0x10d)](0x0,0x1);}[_0x451a76(0x10c)](){var _0x2c7b92=_0x451a76;this[_0x2c7b92(0x119)][_0x2c7b92(0x117)]<this[_0x2c7b92(0x108)]['length']?(this[_0x2c7b92(0x134)]=![],this[_0x2c7b92(0x11a)]+=0x1*meta[_0x2c7b92(0x13b)],this['frameCounter']>this[_0x2c7b92(0x115)]&&(this[_0x2c7b92(0x11a)]=0x0,this[_0x2c7b92(0x119)]+=this[_0x2c7b92(0x108)][this['textProgress'][_0x2c7b92(0x117)]],this[_0x2c7b92(0x138)]=getLines(c,this[_0x2c7b92(0x119)],this[_0x2c7b92(0x123)]['w']*meta[_0x2c7b92(0x101)]*meta[_0x2c7b92(0x12d)]))):this[_0x2c7b92(0x134)]=!![];switch(this['wholeText'][this['textProgress'][_0x2c7b92(0x117)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this['nextLetter']();break;}}[_0x451a76(0x128)](){var _0x25af19=_0x451a76;if(!this[_0x25af19(0x106)])return;this[_0x25af19(0x13c)][_0x25af19(0x113)]&&(this[_0x25af19(0x106)]=![]),this[_0x25af19(0x123)]['x']=this['speaker']['x']+this[_0x25af19(0x13c)]['w']/0x2-this[_0x25af19(0x123)]['w']/0x2,this[_0x25af19(0x123)]['y']=this['speaker']['y']-1.5,this['nextLetter'](),!this[_0x25af19(0x134)]?this[_0x25af19(0x13c)][_0x25af19(0x11e)][this[_0x25af19(0x10f)]]['paused']&&(this['currentAudio']=Math[_0x25af19(0x11b)]()*0x6|0x0,this['speaker'][_0x25af19(0x11e)][this['currentAudio']][_0x25af19(0x10a)]()):this[_0x25af19(0x13c)][_0x25af19(0x11e)][this['currentAudio']][_0x25af19(0x139)]();}['render'](){var _0x523e6d=_0x451a76;if(!this[_0x523e6d(0x106)])return;c[_0x523e6d(0x110)]=_0x523e6d(0x130),c[_0x523e6d(0x13a)]=this[_0x523e6d(0x116)]*meta[_0x523e6d(0x12d)]+'px'+_0x523e6d(0x111),c[_0x523e6d(0x109)]=_0x523e6d(0x126);for(let _0x40eb49=0x0;_0x40eb49<this[_0x523e6d(0x138)][_0x523e6d(0x117)];_0x40eb49++){c[_0x523e6d(0x124)](this['splittedText'][_0x40eb49],(this[_0x523e6d(0x123)]['x']+map['x'])*meta[_0x523e6d(0x101)]*meta[_0x523e6d(0x12d)],(this[_0x523e6d(0x123)]['y']+map['y'])*meta[_0x523e6d(0x101)]*meta[_0x523e6d(0x12d)]+this['fontSize']*meta[_0x523e6d(0x12d)]*(_0x40eb49+0x1)/1.2);}if(this[_0x523e6d(0x134)]){}}}function getLines(_0x2528ee,_0x2a004d,_0x26dc25){var _0x5e173b=_0x451a76,_0x256126=_0x2a004d[_0x5e173b(0x103)]('\x20'),_0x50e36a=[],_0x3ff75e=_0x256126[0x0];for(var _0x2bbfbf=0x1;_0x2bbfbf<_0x256126[_0x5e173b(0x117)];_0x2bbfbf++){var _0x44ce81=_0x256126[_0x2bbfbf],_0x4a515b=_0x2528ee[_0x5e173b(0x12c)](_0x3ff75e+'\x20'+_0x44ce81)['width'];_0x4a515b<_0x26dc25?_0x3ff75e+='\x20'+_0x44ce81:(_0x50e36a[_0x5e173b(0xff)](_0x3ff75e),_0x3ff75e=_0x44ce81);}return _0x50e36a[_0x5e173b(0xff)](_0x3ff75e),_0x50e36a;}