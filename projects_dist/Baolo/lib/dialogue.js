var _0x42e048=_0x3a93;(function(_0x396975,_0x23bbf5){var _0x13ff1d=_0x3a93,_0x41db7f=_0x396975();while(!![]){try{var _0x160959=parseInt(_0x13ff1d(0x146))/0x1*(parseInt(_0x13ff1d(0x168))/0x2)+-parseInt(_0x13ff1d(0x141))/0x3*(parseInt(_0x13ff1d(0x15f))/0x4)+-parseInt(_0x13ff1d(0x170))/0x5*(-parseInt(_0x13ff1d(0x16a))/0x6)+parseInt(_0x13ff1d(0x166))/0x7+-parseInt(_0x13ff1d(0x155))/0x8+parseInt(_0x13ff1d(0x14b))/0x9*(parseInt(_0x13ff1d(0x15a))/0xa)+parseInt(_0x13ff1d(0x14e))/0xb*(parseInt(_0x13ff1d(0x16e))/0xc);if(_0x160959===_0x23bbf5)break;else _0x41db7f['push'](_0x41db7f['shift']());}catch(_0x264251){_0x41db7f['push'](_0x41db7f['shift']());}}}(_0x1262,0xd8a80));var _0x417d68=(function(){var _0xfe4370=!![];return function(_0x1d68b9,_0x5e2f02){var _0x332918=_0xfe4370?function(){var _0xece863=_0x3a93;if(_0x5e2f02){var _0x178039=_0x5e2f02[_0xece863(0x171)](_0x1d68b9,arguments);return _0x5e2f02=null,_0x178039;}}:function(){};return _0xfe4370=![],_0x332918;};}()),_0x576d33=_0x417d68(this,function(){var _0x1d1f22=_0x3a93,_0x47f117;try{var _0x2c806d=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x47f117=_0x2c806d();}catch(_0x5996b5){_0x47f117=window;}var _0x56b191=new RegExp('[jVWULLYGWFpJGzJZLkQLXwxLGkRxvPzOkmWEjCzKExUzxwKQINKyEITEYIN]','g'),_0x252915=_0x1d1f22(0x148)[_0x1d1f22(0x173)](_0x56b191,'')['split'](';'),_0x3130db,_0x5ae085,_0x5cfbee,_0x2b4711,_0x4a9a1d=function(_0x3f3cac,_0xdf348e,_0x13a304){var _0x3c0f3b=_0x1d1f22;if(_0x3f3cac[_0x3c0f3b(0x161)]!=_0xdf348e)return![];for(var _0x4b248e=0x0;_0x4b248e<_0xdf348e;_0x4b248e++){for(var _0x368316=0x0;_0x368316<_0x13a304[_0x3c0f3b(0x161)];_0x368316+=0x2){if(_0x4b248e==_0x13a304[_0x368316]&&_0x3f3cac[_0x3c0f3b(0x176)](_0x4b248e)!=_0x13a304[_0x368316+0x1])return![];}}return!![];},_0x4b31c1=function(_0x37024c,_0x2a918b,_0x37fe02){return _0x4a9a1d(_0x2a918b,_0x37fe02,_0x37024c);},_0x582597=function(_0x2c9eb6,_0x18678d,_0x407b20){return _0x4b31c1(_0x18678d,_0x2c9eb6,_0x407b20);},_0x232e44=function(_0x12a034,_0x4b3f7d,_0x2b5273){return _0x582597(_0x4b3f7d,_0x2b5273,_0x12a034);};for(var _0x1bb7ff in _0x47f117){if(_0x4a9a1d(_0x1bb7ff,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3130db=_0x1bb7ff;break;}}for(var _0x309907 in _0x47f117[_0x3130db]){if(_0x232e44(0x6,_0x309907,[0x5,0x6e,0x0,0x64])){_0x5ae085=_0x309907;break;}}for(var _0x5147a0 in _0x47f117[_0x3130db]){if(_0x582597(_0x5147a0,[0x7,0x6e,0x0,0x6c],0x8)){_0x5cfbee=_0x5147a0;break;}}if(!('~'>_0x5ae085))for(var _0x564ce1 in _0x47f117[_0x3130db][_0x5cfbee]){if(_0x4b31c1([0x7,0x65,0x0,0x68],_0x564ce1,0x8)){_0x2b4711=_0x564ce1;break;}}if(!_0x3130db||!_0x47f117[_0x3130db])return;var _0x3073cd=_0x47f117[_0x3130db][_0x5ae085],_0x322f21=!!_0x47f117[_0x3130db][_0x5cfbee]&&_0x47f117[_0x3130db][_0x5cfbee][_0x2b4711],_0x23200b=_0x3073cd||_0x322f21;if(!_0x23200b)return;var _0x3be9e1=![];for(var _0x177194=0x0;_0x177194<_0x252915[_0x1d1f22(0x161)];_0x177194++){var _0x5ae085=_0x252915[_0x177194],_0x5e72fd=_0x5ae085[0x0]===String[_0x1d1f22(0x160)](0x2e)?_0x5ae085[_0x1d1f22(0x152)](0x1):_0x5ae085,_0x36a3d2=_0x23200b[_0x1d1f22(0x161)]-_0x5e72fd[_0x1d1f22(0x161)],_0x37bff9=_0x23200b[_0x1d1f22(0x177)](_0x5e72fd,_0x36a3d2),_0x5ea0fd=_0x37bff9!==-0x1&&_0x37bff9===_0x36a3d2;_0x5ea0fd&&((_0x23200b['length']==_0x5ae085[_0x1d1f22(0x161)]||_0x5ae085[_0x1d1f22(0x177)]('.')===0x0)&&(_0x3be9e1=!![]));}if(!_0x3be9e1){var _0x3a6592=new RegExp(_0x1d1f22(0x17d),'g'),_0x3cf71e=_0x1d1f22(0x17a)[_0x1d1f22(0x173)](_0x3a6592,'');_0x47f117[_0x3130db][_0x5cfbee]=_0x3cf71e;}});_0x576d33();class DialogueEngine{constructor(){var _0x37c155=_0x3a93;this['wholeText']='',this['textProgress']='',this[_0x37c155(0x179)]=[],this[_0x37c155(0x16b)]=0x3,this[_0x37c155(0x15c)]=0x0,this[_0x37c155(0x150)]=map[_0x37c155(0x15b)],this[_0x37c155(0x16f)]=0xa,this[_0x37c155(0x151)]={'sheet':id(_0x37c155(0x151)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x37c155(0x158)]=player,this[_0x37c155(0x169)]=0x0,this[_0x37c155(0x17e)]=![],this[_0x37c155(0x154)]=[],this[_0x37c155(0x14d)]=![],this[_0x37c155(0x17c)]={'x':this[_0x37c155(0x158)]['x'],'y':this['speaker']['y'],'w':0xc,'h':0x1};}[_0x42e048(0x159)](){var _0x1bfd53=_0x42e048;this[_0x1bfd53(0x16c)]=this[_0x1bfd53(0x178)];for(let _0x50c7e6=0x0;_0x50c7e6<this[_0x1bfd53(0x16c)][_0x1bfd53(0x161)];_0x50c7e6++){this[_0x1bfd53(0x16c)][_0x50c7e6]='';}}[_0x42e048(0x157)](_0x1efb06){var _0x117f85=_0x42e048;this[_0x117f85(0x17e)]=!![],this[_0x117f85(0x154)]=_0x1efb06,this[_0x117f85(0x14c)]();}[_0x42e048(0x14c)](){var _0x2b6d70=_0x42e048;this[_0x2b6d70(0x178)]=this[_0x2b6d70(0x154)][0x0][_0x2b6d70(0x15d)],this[_0x2b6d70(0x158)]=this[_0x2b6d70(0x154)][0x0][_0x2b6d70(0x158)],this[_0x2b6d70(0x16c)]='',this[_0x2b6d70(0x179)]=[],this[_0x2b6d70(0x154)][_0x2b6d70(0x163)](0x0,0x1);}[_0x42e048(0x142)](){var _0x129caa=_0x42e048;this[_0x129caa(0x16c)]['length']<this['wholeText'][_0x129caa(0x161)]?(this[_0x129caa(0x14d)]=![],this[_0x129caa(0x15c)]+=0x1*meta[_0x129caa(0x14a)],this[_0x129caa(0x15c)]>this[_0x129caa(0x16b)]&&(this['frameCounter']=0x0,this[_0x129caa(0x16c)]+=this['wholeText'][this[_0x129caa(0x16c)][_0x129caa(0x161)]],this[_0x129caa(0x179)]=getLines(c,this[_0x129caa(0x16c)],this['textbox']['w']*meta[_0x129caa(0x145)]*meta[_0x129caa(0x167)]))):this[_0x129caa(0x14d)]=!![];switch(this[_0x129caa(0x178)][this[_0x129caa(0x16c)]['length']]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x129caa(0x142)]();break;}}[_0x42e048(0x17b)](){var _0x46c549=_0x42e048;if(!this[_0x46c549(0x17e)])return;this[_0x46c549(0x158)][_0x46c549(0x144)]&&(this[_0x46c549(0x17e)]=![]),this[_0x46c549(0x17c)]['x']=this[_0x46c549(0x158)]['x']+this[_0x46c549(0x158)]['w']/0x2-this['textbox']['w']/0x2,this[_0x46c549(0x17c)]['y']=this[_0x46c549(0x158)]['y']-1.5,this[_0x46c549(0x142)](),!this[_0x46c549(0x14d)]?this[_0x46c549(0x158)][_0x46c549(0x13f)][this['currentAudio']]['paused']&&(this[_0x46c549(0x169)]=Math[_0x46c549(0x149)]()*0x6|0x0,this[_0x46c549(0x158)][_0x46c549(0x13f)][this['currentAudio']][_0x46c549(0x140)]()):this[_0x46c549(0x158)][_0x46c549(0x13f)][this[_0x46c549(0x169)]][_0x46c549(0x175)]();}[_0x42e048(0x143)](){var _0x142e45=_0x42e048;if(!this['active'])return;c[_0x142e45(0x15e)]=_0x142e45(0x165),c[_0x142e45(0x164)]=this[_0x142e45(0x16f)]*meta['ratio']+'px'+_0x142e45(0x16d),c[_0x142e45(0x153)]=_0x142e45(0x14f);for(let _0x39cca5=0x0;_0x39cca5<this[_0x142e45(0x179)][_0x142e45(0x161)];_0x39cca5++){c[_0x142e45(0x174)](this[_0x142e45(0x179)][_0x39cca5],(this['textbox']['x']+map['x'])*meta[_0x142e45(0x145)]*meta[_0x142e45(0x167)],(this[_0x142e45(0x17c)]['y']+map['y'])*meta['tilesize']*meta['ratio']+this[_0x142e45(0x16f)]*meta[_0x142e45(0x167)]*(_0x39cca5+0x1)/1.2);}if(this[_0x142e45(0x14d)]){}}}function _0x3a93(_0x59b392,_0x38d812){var _0x402367=_0x1262();return _0x3a93=function(_0x576d33,_0x417d68){_0x576d33=_0x576d33-0x13f;var _0x122fdf=_0x402367[_0x576d33];return _0x122fdf;},_0x3a93(_0x59b392,_0x38d812);}function _0x1262(){var _0x3d5e31=['pressButton','slice','fillStyle','dialoguesQueue','11221752XbJMHp','width','loadDialogueQueue','speaker','resetTextProgress','5690030dqwSeL','cameraFocus','frameCounter','text','textAlign','325004HQWyTh','fromCharCode','length','push','splice','font','left','2479267WZvGhL','ratio','16adDtKV','currentAudio','18Ufdvaq','baseSlowness','textProgress','\x20\x27VT323\x27','11100lLpqlM','fontSize','81870zKmwzp','apply','measureText','replace','fillText','pause','charCodeAt','indexOf','wholeText','splittedText','abhozuUth:blpAdaGnGkieXKZryEcQYZhNQq','compute','textbox','[hzUhpAdGGieXKZryEcQYZhNQq]','active','voice','playy','12fhvaUH','nextLetter','render','removed','tilesize','106727ciGuKf','split','saajVnWUtonaLLndYrGe.giWtFpJGhzJZubLkQ.LXio;wloxcLaGlhoksRxtvPzOkmWEjCzKExUzxwKQINKyEITEYIN','random','deltaTime','9SHXfxm','nextDialogue','finished','9383kJiygZ','#f9f5ef','savedCameraFocus'];_0x1262=function(){return _0x3d5e31;};return _0x1262();}function getLines(_0x304637,_0x908f97,_0x335d06){var _0x3d339c=_0x42e048,_0x42ab49=_0x908f97[_0x3d339c(0x147)]('\x20'),_0x47bc84=[],_0x37e818=_0x42ab49[0x0];for(var _0x2a4065=0x1;_0x2a4065<_0x42ab49[_0x3d339c(0x161)];_0x2a4065++){var _0x71de08=_0x42ab49[_0x2a4065],_0x2bafb7=_0x304637[_0x3d339c(0x172)](_0x37e818+'\x20'+_0x71de08)[_0x3d339c(0x156)];_0x2bafb7<_0x335d06?_0x37e818+='\x20'+_0x71de08:(_0x47bc84[_0x3d339c(0x162)](_0x37e818),_0x37e818=_0x71de08);}return _0x47bc84['push'](_0x37e818),_0x47bc84;}