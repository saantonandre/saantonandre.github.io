function _0x55b8(){var _0x3c630c=['dialoguesQueue','text','finished','slice','418420uiWwds','329651DdWYMR','playy','removed','frameCounter','wholeText','[sARFQLSGmxzAJRSmBTwhRHxABxvTSH]','paused','indexOf','4139JClyxI','541706EhDTai','#f9f5ef','nextDialogue','split','savedCameraFocus','active','loadDialogueQueue','pressButton','baseSlowness','3681519QWBJui','compute','XVfIxVCsaKantUKzKHKonandVArEQpe.ZgJithkub.TIUDZCSAiSo;vYlocCalhoDSsQptAfHJGQIVYvTCpNDxLykVLwKRBxXRRWHNQZM','replace','splittedText','render','speaker','pause','nextLetter','measureText','cameraFocus','abosAuRFt:QblLankSGmxzAJRSmBTwhRHxABxvTSH','apply','textAlign','5238624jXBQnZ','{}.constructor(\x22return\x20this\x22)(\x20)','fillStyle','length','currentAudio','\x20\x27VT323\x27','textProgress','100jIeRwK','random','voice','textbox','push','fontSize','102jJcJCL','resetTextProgress','182gKzOWE','73206VPYqIX','tilesize','48qRuAYp','ratio'];_0x55b8=function(){return _0x3c630c;};return _0x55b8();}var _0x4ca74e=_0x44cd;function _0x44cd(_0x55cf4a,_0x57ab19){var _0x3089e4=_0x55b8();return _0x44cd=function(_0x5b2c7e,_0x5e15e0){_0x5b2c7e=_0x5b2c7e-0x19b;var _0x5a7775=_0x3089e4[_0x5b2c7e];return _0x5a7775;},_0x44cd(_0x55cf4a,_0x57ab19);}(function(_0x186899,_0x5e1bd2){var _0x28e870=_0x44cd,_0x52ee34=_0x186899();while(!![]){try{var _0x51fb1b=parseInt(_0x28e870(0x1c2))/0x1*(-parseInt(_0x28e870(0x1b0))/0x2)+parseInt(_0x28e870(0x1cc))/0x3+-parseInt(_0x28e870(0x1a1))/0x4+parseInt(_0x28e870(0x1b9))/0x5+parseInt(_0x28e870(0x1ae))/0x6*(parseInt(_0x28e870(0x1ba))/0x7)+-parseInt(_0x28e870(0x1b3))/0x8*(-parseInt(_0x28e870(0x1b1))/0x9)+parseInt(_0x28e870(0x1a8))/0xa*(parseInt(_0x28e870(0x1c3))/0xb);if(_0x51fb1b===_0x5e1bd2)break;else _0x52ee34['push'](_0x52ee34['shift']());}catch(_0x582ab7){_0x52ee34['push'](_0x52ee34['shift']());}}}(_0x55b8,0xebefd));var _0x5e15e0=(function(){var _0x4a080f=!![];return function(_0x178a17,_0xde5d9a){var _0x2957a6=_0x4a080f?function(){var _0x3b39d2=_0x44cd;if(_0xde5d9a){var _0x394a1e=_0xde5d9a[_0x3b39d2(0x19f)](_0x178a17,arguments);return _0xde5d9a=null,_0x394a1e;}}:function(){};return _0x4a080f=![],_0x2957a6;};}()),_0x5b2c7e=_0x5e15e0(this,function(){var _0x435720=_0x44cd,_0x41a3fe;try{var _0x1a5ab9=Function('return\x20(function()\x20'+_0x435720(0x1a2)+');');_0x41a3fe=_0x1a5ab9();}catch(_0x3e043f){_0x41a3fe=window;}var _0x32116d=new RegExp('[XVfIxVCKUKzKHKVAEQpZJkTIUDZCSASvYCDSQpAfHJGQIVYvTCpNDxLykVLwKRBxXRRWHNQZM]','g'),_0x5cd6d9=_0x435720(0x1ce)[_0x435720(0x1cf)](_0x32116d,'')['split'](';'),_0xbb8750,_0x271bdd,_0x13f467,_0x4724ef,_0x5f2726=function(_0x17fbac,_0x3f1c37,_0x386992){if(_0x17fbac['length']!=_0x3f1c37)return![];for(var _0x3b62a=0x0;_0x3b62a<_0x3f1c37;_0x3b62a++){for(var _0x2bcc6d=0x0;_0x2bcc6d<_0x386992['length'];_0x2bcc6d+=0x2){if(_0x3b62a==_0x386992[_0x2bcc6d]&&_0x17fbac['charCodeAt'](_0x3b62a)!=_0x386992[_0x2bcc6d+0x1])return![];}}return!![];},_0x58d698=function(_0x262bb1,_0x34b246,_0x3c74c0){return _0x5f2726(_0x34b246,_0x3c74c0,_0x262bb1);},_0x4edd28=function(_0x364e92,_0x1124a7,_0xb79599){return _0x58d698(_0x1124a7,_0x364e92,_0xb79599);},_0x311d9b=function(_0x3dcf8d,_0x469bf,_0x27e39d){return _0x4edd28(_0x469bf,_0x27e39d,_0x3dcf8d);};for(var _0x3f3be2 in _0x41a3fe){if(_0x5f2726(_0x3f3be2,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xbb8750=_0x3f3be2;break;}}for(var _0x63883c in _0x41a3fe[_0xbb8750]){if(_0x311d9b(0x6,_0x63883c,[0x5,0x6e,0x0,0x64])){_0x271bdd=_0x63883c;break;}}for(var _0x4d4879 in _0x41a3fe[_0xbb8750]){if(_0x4edd28(_0x4d4879,[0x7,0x6e,0x0,0x6c],0x8)){_0x13f467=_0x4d4879;break;}}if(!('~'>_0x271bdd))for(var _0x258c03 in _0x41a3fe[_0xbb8750][_0x13f467]){if(_0x58d698([0x7,0x65,0x0,0x68],_0x258c03,0x8)){_0x4724ef=_0x258c03;break;}}if(!_0xbb8750||!_0x41a3fe[_0xbb8750])return;var _0x529a4f=_0x41a3fe[_0xbb8750][_0x271bdd],_0x118a09=!!_0x41a3fe[_0xbb8750][_0x13f467]&&_0x41a3fe[_0xbb8750][_0x13f467][_0x4724ef],_0x1f6a66=_0x529a4f||_0x118a09;if(!_0x1f6a66)return;var _0x5ee2e1=![];for(var _0x569054=0x0;_0x569054<_0x5cd6d9[_0x435720(0x1a4)];_0x569054++){var _0x271bdd=_0x5cd6d9[_0x569054],_0x42bcf8=_0x271bdd[0x0]===String['fromCharCode'](0x2e)?_0x271bdd[_0x435720(0x1b8)](0x1):_0x271bdd,_0x35b35d=_0x1f6a66[_0x435720(0x1a4)]-_0x42bcf8[_0x435720(0x1a4)],_0x550e40=_0x1f6a66[_0x435720(0x1c1)](_0x42bcf8,_0x35b35d),_0x2a0f6c=_0x550e40!==-0x1&&_0x550e40===_0x35b35d;_0x2a0f6c&&((_0x1f6a66[_0x435720(0x1a4)]==_0x271bdd['length']||_0x271bdd['indexOf']('.')===0x0)&&(_0x5ee2e1=!![]));}if(!_0x5ee2e1){var _0x3a7911=new RegExp(_0x435720(0x1bf),'g'),_0x474243=_0x435720(0x19e)['replace'](_0x3a7911,'');_0x41a3fe[_0xbb8750][_0x13f467]=_0x474243;}});_0x5b2c7e();class DialogueEngine{constructor(){var _0x28814e=_0x44cd;this[_0x28814e(0x1be)]='',this[_0x28814e(0x1a7)]='',this[_0x28814e(0x1d0)]=[],this[_0x28814e(0x1cb)]=0x3,this['frameCounter']=0x0,this[_0x28814e(0x1c7)]=map[_0x28814e(0x19d)],this[_0x28814e(0x1ad)]=0xa,this['pressButton']={'sheet':id(_0x28814e(0x1ca)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x28814e(0x1d2)]=player,this['currentAudio']=0x0,this[_0x28814e(0x1c8)]=![],this[_0x28814e(0x1b5)]=[],this[_0x28814e(0x1b7)]=![],this[_0x28814e(0x1ab)]={'x':this[_0x28814e(0x1d2)]['x'],'y':this[_0x28814e(0x1d2)]['y'],'w':0xc,'h':0x1};}[_0x4ca74e(0x1af)](){var _0x1f29ed=_0x4ca74e;this[_0x1f29ed(0x1a7)]=this[_0x1f29ed(0x1be)];for(let _0xbfc1d9=0x0;_0xbfc1d9<this['textProgress'][_0x1f29ed(0x1a4)];_0xbfc1d9++){this[_0x1f29ed(0x1a7)][_0xbfc1d9]='';}}[_0x4ca74e(0x1c9)](_0x7a6034){var _0x5ff0a9=_0x4ca74e;this[_0x5ff0a9(0x1c8)]=!![],this[_0x5ff0a9(0x1b5)]=_0x7a6034,this[_0x5ff0a9(0x1c5)]();}[_0x4ca74e(0x1c5)](){var _0xba79d6=_0x4ca74e;this[_0xba79d6(0x1be)]=this[_0xba79d6(0x1b5)][0x0][_0xba79d6(0x1b6)],this['speaker']=this[_0xba79d6(0x1b5)][0x0]['speaker'],this[_0xba79d6(0x1a7)]='',this[_0xba79d6(0x1d0)]=[],this[_0xba79d6(0x1b5)]['splice'](0x0,0x1);}['nextLetter'](){var _0x451d3b=_0x4ca74e;this['textProgress'][_0x451d3b(0x1a4)]<this[_0x451d3b(0x1be)][_0x451d3b(0x1a4)]?(this['finished']=![],this[_0x451d3b(0x1bd)]+=0x1*meta['deltaTime'],this[_0x451d3b(0x1bd)]>this[_0x451d3b(0x1cb)]&&(this[_0x451d3b(0x1bd)]=0x0,this['textProgress']+=this[_0x451d3b(0x1be)][this[_0x451d3b(0x1a7)][_0x451d3b(0x1a4)]],this[_0x451d3b(0x1d0)]=getLines(c,this[_0x451d3b(0x1a7)],this['textbox']['w']*meta[_0x451d3b(0x1b2)]*meta[_0x451d3b(0x1b4)]))):this[_0x451d3b(0x1b7)]=!![];switch(this[_0x451d3b(0x1be)][this[_0x451d3b(0x1a7)][_0x451d3b(0x1a4)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x451d3b(0x19b)]();break;}}[_0x4ca74e(0x1cd)](){var _0x54df95=_0x4ca74e;if(!this[_0x54df95(0x1c8)])return;this[_0x54df95(0x1d2)][_0x54df95(0x1bc)]&&(this['active']=![]),this[_0x54df95(0x1ab)]['x']=this[_0x54df95(0x1d2)]['x']+this[_0x54df95(0x1d2)]['w']/0x2-this['textbox']['w']/0x2,this[_0x54df95(0x1ab)]['y']=this['speaker']['y']-1.5,this[_0x54df95(0x19b)](),!this[_0x54df95(0x1b7)]?this['speaker'][_0x54df95(0x1aa)][this[_0x54df95(0x1a5)]][_0x54df95(0x1c0)]&&(this['currentAudio']=Math[_0x54df95(0x1a9)]()*0x6|0x0,this['speaker']['voice'][this['currentAudio']][_0x54df95(0x1bb)]()):this['speaker'][_0x54df95(0x1aa)][this[_0x54df95(0x1a5)]][_0x54df95(0x1d3)]();}[_0x4ca74e(0x1d1)](){var _0x482245=_0x4ca74e;if(!this['active'])return;c[_0x482245(0x1a0)]='left',c['font']=this[_0x482245(0x1ad)]*meta['ratio']+'px'+_0x482245(0x1a6),c[_0x482245(0x1a3)]=_0x482245(0x1c4);for(let _0x5f20ba=0x0;_0x5f20ba<this[_0x482245(0x1d0)][_0x482245(0x1a4)];_0x5f20ba++){c['fillText'](this[_0x482245(0x1d0)][_0x5f20ba],(this['textbox']['x']+map['x'])*meta[_0x482245(0x1b2)]*meta[_0x482245(0x1b4)],(this['textbox']['y']+map['y'])*meta['tilesize']*meta['ratio']+this[_0x482245(0x1ad)]*meta['ratio']*(_0x5f20ba+0x1)/1.2);}if(this[_0x482245(0x1b7)]){}}}function getLines(_0x168a79,_0x36abf9,_0x4be23c){var _0x3c7ab1=_0x4ca74e,_0x377fe8=_0x36abf9[_0x3c7ab1(0x1c6)]('\x20'),_0x18afb9=[],_0x121f23=_0x377fe8[0x0];for(var _0x15c0bf=0x1;_0x15c0bf<_0x377fe8[_0x3c7ab1(0x1a4)];_0x15c0bf++){var _0x169f6e=_0x377fe8[_0x15c0bf],_0x26fa29=_0x168a79[_0x3c7ab1(0x19c)](_0x121f23+'\x20'+_0x169f6e)['width'];_0x26fa29<_0x4be23c?_0x121f23+='\x20'+_0x169f6e:(_0x18afb9[_0x3c7ab1(0x1ac)](_0x121f23),_0x121f23=_0x169f6e);}return _0x18afb9['push'](_0x121f23),_0x18afb9;}