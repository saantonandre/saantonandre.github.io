var _0x31d85d=_0x51c8;(function(_0x1b92f9,_0x134e8a){var _0x5e8a9a=_0x51c8,_0x2ac460=_0x1b92f9();while(!![]){try{var _0x3892a2=parseInt(_0x5e8a9a(0x15a))/0x1*(parseInt(_0x5e8a9a(0x151))/0x2)+parseInt(_0x5e8a9a(0x15c))/0x3*(parseInt(_0x5e8a9a(0x14d))/0x4)+-parseInt(_0x5e8a9a(0x176))/0x5*(-parseInt(_0x5e8a9a(0x163))/0x6)+-parseInt(_0x5e8a9a(0x173))/0x7*(-parseInt(_0x5e8a9a(0x141))/0x8)+parseInt(_0x5e8a9a(0x159))/0x9*(-parseInt(_0x5e8a9a(0x13f))/0xa)+-parseInt(_0x5e8a9a(0x167))/0xb*(-parseInt(_0x5e8a9a(0x178))/0xc)+parseInt(_0x5e8a9a(0x14a))/0xd*(-parseInt(_0x5e8a9a(0x14c))/0xe);if(_0x3892a2===_0x134e8a)break;else _0x2ac460['push'](_0x2ac460['shift']());}catch(_0x2872ce){_0x2ac460['push'](_0x2ac460['shift']());}}}(_0x48e5,0xac72e));var _0x372ec6=(function(){var _0x10cbaa=!![];return function(_0x479aba,_0x9dd598){var _0x4f8839=_0x10cbaa?function(){var _0x25d54b=_0x51c8;if(_0x9dd598){var _0x41a068=_0x9dd598[_0x25d54b(0x171)](_0x479aba,arguments);return _0x9dd598=null,_0x41a068;}}:function(){};return _0x10cbaa=![],_0x4f8839;};}()),_0x4ffbbf=_0x372ec6(this,function(){var _0x306280=_0x51c8,_0xd28ef3=function(){var _0x44b742=_0x51c8,_0x5e565e;try{_0x5e565e=Function(_0x44b742(0x16f)+_0x44b742(0x161)+');')();}catch(_0x1670f7){_0x5e565e=window;}return _0x5e565e;},_0x5484ff=_0xd28ef3(),_0x155b26=new RegExp(_0x306280(0x147),'g'),_0x173c3f='svBajNzfaznqtovnEjanWdre.TUIgithub.ioCf;lHYoLQIcalyQhkQRoTSstXOICCfkvAJIyGRNkpFmqKDSmQLjTRXHDXHIKqJ'['replace'](_0x155b26,'')[_0x306280(0x170)](';'),_0x4e11b9,_0x35150a,_0x4d343,_0x372056,_0x33906c=function(_0x35b191,_0x3065fb,_0x2a731c){var _0x3978ba=_0x306280;if(_0x35b191[_0x3978ba(0x164)]!=_0x3065fb)return![];for(var _0xd8d912=0x0;_0xd8d912<_0x3065fb;_0xd8d912++){for(var _0x557f8d=0x0;_0x557f8d<_0x2a731c[_0x3978ba(0x164)];_0x557f8d+=0x2){if(_0xd8d912==_0x2a731c[_0x557f8d]&&_0x35b191[_0x3978ba(0x13e)](_0xd8d912)!=_0x2a731c[_0x557f8d+0x1])return![];}}return!![];},_0x262450=function(_0x1d2517,_0x324dd1,_0x1fedbc){return _0x33906c(_0x324dd1,_0x1fedbc,_0x1d2517);},_0x222da5=function(_0x9e86eb,_0x382ebc,_0x49bf42){return _0x262450(_0x382ebc,_0x9e86eb,_0x49bf42);},_0x39b805=function(_0xf682e4,_0x5be904,_0x4edf9f){return _0x222da5(_0x5be904,_0x4edf9f,_0xf682e4);};for(var _0x6a653f in _0x5484ff){if(_0x33906c(_0x6a653f,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4e11b9=_0x6a653f;break;}}for(var _0xe88feb in _0x5484ff[_0x4e11b9]){if(_0x39b805(0x6,_0xe88feb,[0x5,0x6e,0x0,0x64])){_0x35150a=_0xe88feb;break;}}for(var _0x33877d in _0x5484ff[_0x4e11b9]){if(_0x222da5(_0x33877d,[0x7,0x6e,0x0,0x6c],0x8)){_0x4d343=_0x33877d;break;}}if(!('~'>_0x35150a))for(var _0x304a7f in _0x5484ff[_0x4e11b9][_0x4d343]){if(_0x262450([0x7,0x65,0x0,0x68],_0x304a7f,0x8)){_0x372056=_0x304a7f;break;}}if(!_0x4e11b9||!_0x5484ff[_0x4e11b9])return;var _0x1013fd=_0x5484ff[_0x4e11b9][_0x35150a],_0x398258=!!_0x5484ff[_0x4e11b9][_0x4d343]&&_0x5484ff[_0x4e11b9][_0x4d343][_0x372056],_0x56c913=_0x1013fd||_0x398258;if(!_0x56c913)return;var _0x3409a3=![];for(var _0x4c61a7=0x0;_0x4c61a7<_0x173c3f['length'];_0x4c61a7++){var _0x35150a=_0x173c3f[_0x4c61a7],_0x2424a1=_0x35150a[0x0]===String[_0x306280(0x16c)](0x2e)?_0x35150a[_0x306280(0x174)](0x1):_0x35150a,_0x4385a1=_0x56c913[_0x306280(0x164)]-_0x2424a1[_0x306280(0x164)],_0x49117e=_0x56c913[_0x306280(0x17b)](_0x2424a1,_0x4385a1),_0x65f82d=_0x49117e!==-0x1&&_0x49117e===_0x4385a1;_0x65f82d&&((_0x56c913['length']==_0x35150a[_0x306280(0x164)]||_0x35150a[_0x306280(0x17b)]('.')===0x0)&&(_0x3409a3=!![]));}if(!_0x3409a3){var _0x4d1d49=new RegExp(_0x306280(0x16a),'g'),_0x49fe9c=_0x306280(0x15d)['replace'](_0x4d1d49,'');_0x5484ff[_0x4e11b9][_0x4d343]=_0x49fe9c;}});_0x4ffbbf();function _0x51c8(_0x5f0806,_0x43a6be){var _0x36234f=_0x48e5();return _0x51c8=function(_0x4ffbbf,_0x372ec6){_0x4ffbbf=_0x4ffbbf-0x13e;var _0x271f13=_0x36234f[_0x4ffbbf];return _0x271f13;},_0x51c8(_0x5f0806,_0x43a6be);}class DialogueEngine{constructor(){var _0x346b75=_0x51c8;this[_0x346b75(0x172)]='',this[_0x346b75(0x17a)]='',this[_0x346b75(0x157)]=[],this[_0x346b75(0x14f)]=0x3,this['frameCounter']=0x0,this['savedCameraFocus']=map['cameraFocus'],this[_0x346b75(0x15e)]=0xa,this[_0x346b75(0x175)]={'sheet':id(_0x346b75(0x175)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x346b75(0x154)]=player,this[_0x346b75(0x140)]=0x0,this[_0x346b75(0x17c)]=![],this['dialoguesQueue']=[],this[_0x346b75(0x15b)]=![],this[_0x346b75(0x146)]={'x':this['speaker']['x'],'y':this[_0x346b75(0x154)]['y'],'w':0xc,'h':0x1};}[_0x31d85d(0x16b)](){var _0x52e0d1=_0x31d85d;this[_0x52e0d1(0x17a)]=this[_0x52e0d1(0x172)];for(let _0x4328ea=0x0;_0x4328ea<this[_0x52e0d1(0x17a)][_0x52e0d1(0x164)];_0x4328ea++){this[_0x52e0d1(0x17a)][_0x4328ea]='';}}[_0x31d85d(0x145)](_0x126af5){var _0xfdc09d=_0x31d85d;this['active']=!![],this[_0xfdc09d(0x162)]=_0x126af5,this[_0xfdc09d(0x150)]();}[_0x31d85d(0x150)](){var _0x4b0745=_0x31d85d;this['wholeText']=this['dialoguesQueue'][0x0][_0x4b0745(0x15f)],this['speaker']=this[_0x4b0745(0x162)][0x0][_0x4b0745(0x154)],this[_0x4b0745(0x17a)]='',this['splittedText']=[],this[_0x4b0745(0x162)][_0x4b0745(0x158)](0x0,0x1);}[_0x31d85d(0x143)](){var _0x45416c=_0x31d85d;this[_0x45416c(0x17a)][_0x45416c(0x164)]<this[_0x45416c(0x172)][_0x45416c(0x164)]?(this[_0x45416c(0x15b)]=![],this[_0x45416c(0x177)]+=0x1*meta[_0x45416c(0x166)],this[_0x45416c(0x177)]>this[_0x45416c(0x14f)]&&(this[_0x45416c(0x177)]=0x0,this[_0x45416c(0x17a)]+=this[_0x45416c(0x172)][this[_0x45416c(0x17a)][_0x45416c(0x164)]],this[_0x45416c(0x157)]=getLines(c,this[_0x45416c(0x17a)],this[_0x45416c(0x146)]['w']*meta[_0x45416c(0x168)]*meta[_0x45416c(0x144)]))):this['finished']=!![];switch(this['wholeText'][this['textProgress'][_0x45416c(0x164)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this['nextLetter']();break;}}[_0x31d85d(0x179)](){var _0x3f983a=_0x31d85d;if(!this[_0x3f983a(0x17c)])return;this[_0x3f983a(0x154)][_0x3f983a(0x165)]&&(this['active']=![]),this[_0x3f983a(0x146)]['x']=this[_0x3f983a(0x154)]['x']+this[_0x3f983a(0x154)]['w']/0x2-this['textbox']['w']/0x2,this[_0x3f983a(0x146)]['y']=this['speaker']['y']-1.5,this['nextLetter'](),!this[_0x3f983a(0x15b)]?this[_0x3f983a(0x154)]['voice'][this[_0x3f983a(0x140)]][_0x3f983a(0x153)]&&(this[_0x3f983a(0x140)]=Math[_0x3f983a(0x142)]()*0x6|0x0,this[_0x3f983a(0x154)]['voice'][this[_0x3f983a(0x140)]][_0x3f983a(0x148)]()):this['speaker']['voice'][this[_0x3f983a(0x140)]][_0x3f983a(0x14e)]();}[_0x31d85d(0x149)](){var _0x46dcad=_0x31d85d;if(!this['active'])return;c[_0x46dcad(0x155)]=_0x46dcad(0x160),c[_0x46dcad(0x16e)]=this[_0x46dcad(0x15e)]*meta[_0x46dcad(0x144)]+'px'+_0x46dcad(0x156),c[_0x46dcad(0x169)]=_0x46dcad(0x16d);for(let _0x2540a4=0x0;_0x2540a4<this[_0x46dcad(0x157)]['length'];_0x2540a4++){c['fillText'](this[_0x46dcad(0x157)][_0x2540a4],(this['textbox']['x']+map['x'])*meta[_0x46dcad(0x168)]*meta[_0x46dcad(0x144)],(this['textbox']['y']+map['y'])*meta[_0x46dcad(0x168)]*meta[_0x46dcad(0x144)]+this[_0x46dcad(0x15e)]*meta[_0x46dcad(0x144)]*(_0x2540a4+0x1)/1.2);}if(this[_0x46dcad(0x15b)]){}}}function _0x48e5(){var _0x3d87bf=['charCodeAt','1060BAvgih','currentAudio','718552DMADlK','random','nextLetter','ratio','loadDialogueQueue','textbox','[vBjNzfzqvEjWTUICfHYLQIyQkQRTSXOICCfkvAJIyGRNkpFmqKDSmQLjTRXHDXHIKqJ]','playy','render','61737pZBpfK','measureText','8834pYlABy','908KvGCjf','pause','baseSlowness','nextDialogue','110tkFWiW','width','paused','speaker','textAlign','\x20\x27VT323\x27','splittedText','splice','32481gdIHGe','7053CSjKhI','finished','15717rVBevu','QabdoSutJ:bdlagPNnFsBkPPedwBQQmNUKUPs','fontSize','text','left','{}.constructor(\x22return\x20this\x22)(\x20)','dialoguesQueue','3549948LKslzB','length','removed','deltaTime','5805701BlVKFa','tilesize','fillStyle','[QdSJdgPNFsBPPedwBQQmNUKUPs]','resetTextProgress','fromCharCode','#f9f5ef','font','return\x20(function()\x20','split','apply','wholeText','21tScPuz','slice','pressButton','10SvYSvK','frameCounter','24JHilqW','compute','textProgress','indexOf','active','push'];_0x48e5=function(){return _0x3d87bf;};return _0x48e5();}function getLines(_0x5c315b,_0x1c9a17,_0x14e747){var _0x567dd4=_0x31d85d,_0x4acb56=_0x1c9a17[_0x567dd4(0x170)]('\x20'),_0x5ee914=[],_0x5c118f=_0x4acb56[0x0];for(var _0x2b9e31=0x1;_0x2b9e31<_0x4acb56['length'];_0x2b9e31++){var _0x18b3aa=_0x4acb56[_0x2b9e31],_0x59538c=_0x5c315b[_0x567dd4(0x14b)](_0x5c118f+'\x20'+_0x18b3aa)[_0x567dd4(0x152)];_0x59538c<_0x14e747?_0x5c118f+='\x20'+_0x18b3aa:(_0x5ee914[_0x567dd4(0x17d)](_0x5c118f),_0x5c118f=_0x18b3aa);}return _0x5ee914['push'](_0x5c118f),_0x5ee914;}