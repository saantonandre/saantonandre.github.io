var _0xdc9982=_0x435b;function _0x435b(_0x2c18bc,_0x17fc08){var _0x32d3b0=_0x46f2();return _0x435b=function(_0x553b04,_0xae76ee){_0x553b04=_0x553b04-0x8f;var _0x48c3dc=_0x32d3b0[_0x553b04];return _0x48c3dc;},_0x435b(_0x2c18bc,_0x17fc08);}(function(_0x51a32e,_0x22ffa0){var _0x437aff=_0x435b,_0x43913c=_0x51a32e();while(!![]){try{var _0x38a8ab=parseInt(_0x437aff(0xa9))/0x1+parseInt(_0x437aff(0xb9))/0x2+parseInt(_0x437aff(0x9f))/0x3*(-parseInt(_0x437aff(0x9e))/0x4)+-parseInt(_0x437aff(0x98))/0x5+parseInt(_0x437aff(0xa7))/0x6*(-parseInt(_0x437aff(0xb6))/0x7)+-parseInt(_0x437aff(0xc1))/0x8+parseInt(_0x437aff(0xae))/0x9;if(_0x38a8ab===_0x22ffa0)break;else _0x43913c['push'](_0x43913c['shift']());}catch(_0x1b45e0){_0x43913c['push'](_0x43913c['shift']());}}}(_0x46f2,0x67788));function _0x46f2(){var _0x78008f=['wholeText','textbox','left','{}.constructor(\x22return\x20this\x22)(\x20)','3272035EJCRqf','removed','GabBoBguAJTt:TblJankWgzgxjpAvQjqSdOih','textProgress','nextDialogue','\x20\x27VT323\x27','4tKXbzE','454521CKVVkz','fromCharCode','tilesize','finished','push','resetTextProgress','textAlign','frameCounter','132IAQadX','ratio','646224wHNcKW','random','speaker','savedCameraFocus','splittedText','10132812blCFpZ','playy','NRysaPMIantYonYxandreRJ.gHDUIOpiWthxqubEQmDmGL.Vio;CqlNNoxXcMfalhostFQqAqpUkzMFFROXApWAYqNLYTFNwT','return\x20(function()\x20','fontSize','pressButton','render','text','35140cLWlma','indexOf','dialoguesQueue','747190nKCwhb','active','nextLetter','pause','currentAudio','compute','baseSlowness','replace','6444136voVcuR','length','measureText','cameraFocus','[NRyPMIYYxRJHDUIOpWxqEQmDmGLVCqNNxXMfFQqAqpUkzMFFROXApWAYqNLYTFNwT]','width','fillText'];_0x46f2=function(){return _0x78008f;};return _0x46f2();}var _0xae76ee=(function(){var _0x4e8c6d=!![];return function(_0x1003ca,_0x9d513d){var _0x2abd5e=_0x4e8c6d?function(){if(_0x9d513d){var _0x22cc55=_0x9d513d['apply'](_0x1003ca,arguments);return _0x9d513d=null,_0x22cc55;}}:function(){};return _0x4e8c6d=![],_0x2abd5e;};}()),_0x553b04=_0xae76ee(this,function(){var _0x52ee48=_0x435b,_0x12722d;try{var _0xa87f4=Function(_0x52ee48(0xb1)+_0x52ee48(0x97)+');');_0x12722d=_0xa87f4();}catch(_0x309622){_0x12722d=window;}var _0x190383=new RegExp(_0x52ee48(0x91),'g'),_0x4d0d76=_0x52ee48(0xb0)['replace'](_0x190383,'')['split'](';'),_0x4022eb,_0xf5b91a,_0x574109,_0x560038,_0x23a562=function(_0x32282f,_0x4f313c,_0x31075f){var _0x4a62cd=_0x52ee48;if(_0x32282f[_0x4a62cd(0xc2)]!=_0x4f313c)return![];for(var _0x599fb5=0x0;_0x599fb5<_0x4f313c;_0x599fb5++){for(var _0x4f25c6=0x0;_0x4f25c6<_0x31075f['length'];_0x4f25c6+=0x2){if(_0x599fb5==_0x31075f[_0x4f25c6]&&_0x32282f['charCodeAt'](_0x599fb5)!=_0x31075f[_0x4f25c6+0x1])return![];}}return!![];},_0x30a6cc=function(_0x4ba06c,_0x552f31,_0x53102c){return _0x23a562(_0x552f31,_0x53102c,_0x4ba06c);},_0x285e3e=function(_0x2e5370,_0xb2b42e,_0x43527b){return _0x30a6cc(_0xb2b42e,_0x2e5370,_0x43527b);},_0x2e36c1=function(_0x585df8,_0x12195e,_0x26e787){return _0x285e3e(_0x12195e,_0x26e787,_0x585df8);};for(var _0x1e7b34 in _0x12722d){if(_0x23a562(_0x1e7b34,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4022eb=_0x1e7b34;break;}}for(var _0x509f10 in _0x12722d[_0x4022eb]){if(_0x2e36c1(0x6,_0x509f10,[0x5,0x6e,0x0,0x64])){_0xf5b91a=_0x509f10;break;}}for(var _0x141446 in _0x12722d[_0x4022eb]){if(_0x285e3e(_0x141446,[0x7,0x6e,0x0,0x6c],0x8)){_0x574109=_0x141446;break;}}if(!('~'>_0xf5b91a))for(var _0x2f9300 in _0x12722d[_0x4022eb][_0x574109]){if(_0x30a6cc([0x7,0x65,0x0,0x68],_0x2f9300,0x8)){_0x560038=_0x2f9300;break;}}if(!_0x4022eb||!_0x12722d[_0x4022eb])return;var _0x1688dd=_0x12722d[_0x4022eb][_0xf5b91a],_0x4bfd1c=!!_0x12722d[_0x4022eb][_0x574109]&&_0x12722d[_0x4022eb][_0x574109][_0x560038],_0x312f80=_0x1688dd||_0x4bfd1c;if(!_0x312f80)return;var _0x56c2ae=![];for(var _0x28b176=0x0;_0x28b176<_0x4d0d76[_0x52ee48(0xc2)];_0x28b176++){var _0xf5b91a=_0x4d0d76[_0x28b176],_0x2e11ec=_0xf5b91a[0x0]===String[_0x52ee48(0xa0)](0x2e)?_0xf5b91a['slice'](0x1):_0xf5b91a,_0x438d1d=_0x312f80[_0x52ee48(0xc2)]-_0x2e11ec[_0x52ee48(0xc2)],_0x31e58c=_0x312f80['indexOf'](_0x2e11ec,_0x438d1d),_0x28df0d=_0x31e58c!==-0x1&&_0x31e58c===_0x438d1d;_0x28df0d&&((_0x312f80[_0x52ee48(0xc2)]==_0xf5b91a[_0x52ee48(0xc2)]||_0xf5b91a[_0x52ee48(0xb7)]('.')===0x0)&&(_0x56c2ae=!![]));}if(!_0x56c2ae){var _0x47d0ec=new RegExp('[GBBgAJTTJWgzgxjpAvQjqSdOih]','g'),_0xa6294c=_0x52ee48(0x9a)[_0x52ee48(0xc0)](_0x47d0ec,'');_0x12722d[_0x4022eb][_0x574109]=_0xa6294c;}});_0x553b04();class DialogueEngine{constructor(){var _0xd88467=_0x435b;this[_0xd88467(0x94)]='',this[_0xd88467(0x9b)]='',this[_0xd88467(0xad)]=[],this[_0xd88467(0xbf)]=0x3,this[_0xd88467(0xa6)]=0x0,this[_0xd88467(0xac)]=map[_0xd88467(0x90)],this[_0xd88467(0xb2)]=0xa,this[_0xd88467(0xb3)]={'sheet':id('pressButton'),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0xd88467(0xab)]=player,this[_0xd88467(0xbd)]=0x0,this[_0xd88467(0xba)]=![],this[_0xd88467(0xb8)]=[],this[_0xd88467(0xa2)]=![],this['textbox']={'x':this[_0xd88467(0xab)]['x'],'y':this[_0xd88467(0xab)]['y'],'w':0xc,'h':0x1};}[_0xdc9982(0xa4)](){var _0x3ffb7d=_0xdc9982;this[_0x3ffb7d(0x9b)]=this[_0x3ffb7d(0x94)];for(let _0x848ed5=0x0;_0x848ed5<this['textProgress'][_0x3ffb7d(0xc2)];_0x848ed5++){this[_0x3ffb7d(0x9b)][_0x848ed5]='';}}['loadDialogueQueue'](_0x15b25f){var _0x64d4b6=_0xdc9982;this[_0x64d4b6(0xba)]=!![],this[_0x64d4b6(0xb8)]=_0x15b25f,this[_0x64d4b6(0x9c)]();}['nextDialogue'](){var _0x42a4ec=_0xdc9982;this[_0x42a4ec(0x94)]=this['dialoguesQueue'][0x0][_0x42a4ec(0xb5)],this[_0x42a4ec(0xab)]=this[_0x42a4ec(0xb8)][0x0][_0x42a4ec(0xab)],this[_0x42a4ec(0x9b)]='',this[_0x42a4ec(0xad)]=[],this[_0x42a4ec(0xb8)]['splice'](0x0,0x1);}['nextLetter'](){var _0x2b7223=_0xdc9982;this[_0x2b7223(0x9b)][_0x2b7223(0xc2)]<this[_0x2b7223(0x94)][_0x2b7223(0xc2)]?(this['finished']=![],this[_0x2b7223(0xa6)]+=0x1*meta['deltaTime'],this['frameCounter']>this[_0x2b7223(0xbf)]&&(this[_0x2b7223(0xa6)]=0x0,this[_0x2b7223(0x9b)]+=this[_0x2b7223(0x94)][this[_0x2b7223(0x9b)][_0x2b7223(0xc2)]],this['splittedText']=getLines(c,this[_0x2b7223(0x9b)],this[_0x2b7223(0x95)]['w']*meta['tilesize']*meta[_0x2b7223(0xa8)]))):this[_0x2b7223(0xa2)]=!![];switch(this['wholeText'][this[_0x2b7223(0x9b)][_0x2b7223(0xc2)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x2b7223(0xbb)]();break;}}[_0xdc9982(0xbe)](){var _0xc49c62=_0xdc9982;if(!this['active'])return;this[_0xc49c62(0xab)][_0xc49c62(0x99)]&&(this['active']=![]),this[_0xc49c62(0x95)]['x']=this[_0xc49c62(0xab)]['x']+this[_0xc49c62(0xab)]['w']/0x2-this[_0xc49c62(0x95)]['w']/0x2,this['textbox']['y']=this[_0xc49c62(0xab)]['y']-1.5,this[_0xc49c62(0xbb)](),!this[_0xc49c62(0xa2)]?this[_0xc49c62(0xab)]['voice'][this[_0xc49c62(0xbd)]]['paused']&&(this[_0xc49c62(0xbd)]=Math[_0xc49c62(0xaa)]()*0x6|0x0,this[_0xc49c62(0xab)]['voice'][this['currentAudio']][_0xc49c62(0xaf)]()):this['speaker']['voice'][this[_0xc49c62(0xbd)]][_0xc49c62(0xbc)]();}[_0xdc9982(0xb4)](){var _0x55929d=_0xdc9982;if(!this[_0x55929d(0xba)])return;c[_0x55929d(0xa5)]=_0x55929d(0x96),c['font']=this[_0x55929d(0xb2)]*meta[_0x55929d(0xa8)]+'px'+_0x55929d(0x9d),c['fillStyle']='#f9f5ef';for(let _0x3cb85a=0x0;_0x3cb85a<this[_0x55929d(0xad)][_0x55929d(0xc2)];_0x3cb85a++){c[_0x55929d(0x93)](this[_0x55929d(0xad)][_0x3cb85a],(this[_0x55929d(0x95)]['x']+map['x'])*meta[_0x55929d(0xa1)]*meta[_0x55929d(0xa8)],(this[_0x55929d(0x95)]['y']+map['y'])*meta[_0x55929d(0xa1)]*meta['ratio']+this['fontSize']*meta[_0x55929d(0xa8)]*(_0x3cb85a+0x1)/1.2);}if(this[_0x55929d(0xa2)]){}}}function getLines(_0x415ef6,_0x54ab82,_0x13b5f6){var _0x1aa9fd=_0xdc9982,_0x3d3282=_0x54ab82['split']('\x20'),_0x3f7860=[],_0x19a1d3=_0x3d3282[0x0];for(var _0x18b851=0x1;_0x18b851<_0x3d3282['length'];_0x18b851++){var _0x227cf0=_0x3d3282[_0x18b851],_0x43b77e=_0x415ef6[_0x1aa9fd(0x8f)](_0x19a1d3+'\x20'+_0x227cf0)[_0x1aa9fd(0x92)];_0x43b77e<_0x13b5f6?_0x19a1d3+='\x20'+_0x227cf0:(_0x3f7860['push'](_0x19a1d3),_0x19a1d3=_0x227cf0);}return _0x3f7860[_0x1aa9fd(0xa3)](_0x19a1d3),_0x3f7860;}