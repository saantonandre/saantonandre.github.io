var _0x176707=_0x415f;function _0x1c02(){var _0x4383d3=['text','[ZwKyZseyMIsNxgYzEPJgEFCMRfi]','\x20\x27VT323\x27','539HUGWxK','paused','baseSlowness','indexOf','loadDialogueQueue','frameCounter','return\x20(function()\x20','speaker','2554182rnKuDi','charCodeAt','26990xavnAH','saXLajntVNowjnpandreTN.jgitPhwub.piQo;AlocBFDalUQhSosFtxSDTSqCSSPNxpEWVFKMXZHVSKxRFEDAjTADjjkRGK','12972168ocZnHu','nextLetter','apply','11179EElXxY','pause','ZwaKbyoZsuetyM:IsNbxglYanzEPkJgEFCMRfi','ratio','finished','1320DCGTpB','render','splittedText','175yfQzdd','[XLjVNwjpTNjPwpQABFDUQSFxSDTSqCSSPNxpEWVFKMXZHVSKxRFEDAjTADjjkRGK]','length','dialoguesQueue','fillStyle','259332oBvbcJ','textProgress','nextDialogue','3718236dXndSn','pressButton','push','active','resetTextProgress','width','savedCameraFocus','textbox','replace','voice','removed','splice','wholeText','deltaTime','split','measureText','currentAudio','tilesize','#f9f5ef','128yxlYSk','fontSize','fillText','random','6376SXGkZu'];_0x1c02=function(){return _0x4383d3;};return _0x1c02();}function _0x415f(_0x16299e,_0x16d6a3){var _0x179b0f=_0x1c02();return _0x415f=function(_0x22c33c,_0x560bfe){_0x22c33c=_0x22c33c-0x14c;var _0x19cd43=_0x179b0f[_0x22c33c];return _0x19cd43;},_0x415f(_0x16299e,_0x16d6a3);}(function(_0xa17655,_0x36e7af){var _0x24c9bb=_0x415f,_0xe1dc29=_0xa17655();while(!![]){try{var _0x27b80e=-parseInt(_0x24c9bb(0x154))/0x1*(-parseInt(_0x24c9bb(0x170))/0x2)+parseInt(_0x24c9bb(0x164))/0x3+parseInt(_0x24c9bb(0x17b))/0x4+parseInt(_0x24c9bb(0x173))/0x5*(parseInt(_0x24c9bb(0x178))/0x6)+parseInt(_0x24c9bb(0x16b))/0x7*(-parseInt(_0x24c9bb(0x158))/0x8)+-parseInt(_0x24c9bb(0x168))/0x9+-parseInt(_0x24c9bb(0x166))/0xa*(-parseInt(_0x24c9bb(0x15c))/0xb);if(_0x27b80e===_0x36e7af)break;else _0xe1dc29['push'](_0xe1dc29['shift']());}catch(_0x1402eb){_0xe1dc29['push'](_0xe1dc29['shift']());}}}(_0x1c02,0xc2685));var _0x560bfe=(function(){var _0x3be0ce=!![];return function(_0x33bd97,_0x1c1fa9){var _0x1f2df1=_0x3be0ce?function(){var _0x1ddaad=_0x415f;if(_0x1c1fa9){var _0x58053e=_0x1c1fa9[_0x1ddaad(0x16a)](_0x33bd97,arguments);return _0x1c1fa9=null,_0x58053e;}}:function(){};return _0x3be0ce=![],_0x1f2df1;};}()),_0x22c33c=_0x560bfe(this,function(){var _0x8a1c70=_0x415f,_0x31005f;try{var _0xb183be=Function(_0x8a1c70(0x162)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x31005f=_0xb183be();}catch(_0xe7ac60){_0x31005f=window;}var _0x4e4163=new RegExp(_0x8a1c70(0x174),'g'),_0x19fdc3=_0x8a1c70(0x167)[_0x8a1c70(0x183)](_0x4e4163,'')[_0x8a1c70(0x14f)](';'),_0x975dea,_0x3ec2c1,_0x429258,_0x13e72b,_0x3d735a=function(_0x32c14a,_0x1faa23,_0x3aadd8){var _0x151b3f=_0x8a1c70;if(_0x32c14a[_0x151b3f(0x175)]!=_0x1faa23)return![];for(var _0x57ee76=0x0;_0x57ee76<_0x1faa23;_0x57ee76++){for(var _0x304652=0x0;_0x304652<_0x3aadd8['length'];_0x304652+=0x2){if(_0x57ee76==_0x3aadd8[_0x304652]&&_0x32c14a[_0x151b3f(0x165)](_0x57ee76)!=_0x3aadd8[_0x304652+0x1])return![];}}return!![];},_0x31b245=function(_0x31816b,_0x547bb1,_0x15589e){return _0x3d735a(_0x547bb1,_0x15589e,_0x31816b);},_0x91d048=function(_0x302ec6,_0x55707d,_0x47bbf1){return _0x31b245(_0x55707d,_0x302ec6,_0x47bbf1);},_0x1112ee=function(_0x1ca67d,_0x1774ae,_0x1f1a96){return _0x91d048(_0x1774ae,_0x1f1a96,_0x1ca67d);};for(var _0x46467d in _0x31005f){if(_0x3d735a(_0x46467d,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x975dea=_0x46467d;break;}}for(var _0x2f6659 in _0x31005f[_0x975dea]){if(_0x1112ee(0x6,_0x2f6659,[0x5,0x6e,0x0,0x64])){_0x3ec2c1=_0x2f6659;break;}}for(var _0x2cfb9a in _0x31005f[_0x975dea]){if(_0x91d048(_0x2cfb9a,[0x7,0x6e,0x0,0x6c],0x8)){_0x429258=_0x2cfb9a;break;}}if(!('~'>_0x3ec2c1))for(var _0x3b48e5 in _0x31005f[_0x975dea][_0x429258]){if(_0x31b245([0x7,0x65,0x0,0x68],_0x3b48e5,0x8)){_0x13e72b=_0x3b48e5;break;}}if(!_0x975dea||!_0x31005f[_0x975dea])return;var _0x3534ee=_0x31005f[_0x975dea][_0x3ec2c1],_0xed00ad=!!_0x31005f[_0x975dea][_0x429258]&&_0x31005f[_0x975dea][_0x429258][_0x13e72b],_0x19ed0d=_0x3534ee||_0xed00ad;if(!_0x19ed0d)return;var _0x553aac=![];for(var _0x39dd5e=0x0;_0x39dd5e<_0x19fdc3['length'];_0x39dd5e++){var _0x3ec2c1=_0x19fdc3[_0x39dd5e],_0x421cd8=_0x3ec2c1[0x0]===String['fromCharCode'](0x2e)?_0x3ec2c1['slice'](0x1):_0x3ec2c1,_0x40c16c=_0x19ed0d[_0x8a1c70(0x175)]-_0x421cd8[_0x8a1c70(0x175)],_0x3ecda2=_0x19ed0d[_0x8a1c70(0x15f)](_0x421cd8,_0x40c16c),_0x12aa7b=_0x3ecda2!==-0x1&&_0x3ecda2===_0x40c16c;_0x12aa7b&&((_0x19ed0d[_0x8a1c70(0x175)]==_0x3ec2c1[_0x8a1c70(0x175)]||_0x3ec2c1[_0x8a1c70(0x15f)]('.')===0x0)&&(_0x553aac=!![]));}if(!_0x553aac){var _0x5c0684=new RegExp(_0x8a1c70(0x15a),'g'),_0x3b8392=_0x8a1c70(0x16d)[_0x8a1c70(0x183)](_0x5c0684,'');_0x31005f[_0x975dea][_0x429258]=_0x3b8392;}});_0x22c33c();class DialogueEngine{constructor(){var _0x1a3891=_0x415f;this['wholeText']='',this[_0x1a3891(0x179)]='',this[_0x1a3891(0x172)]=[],this[_0x1a3891(0x15e)]=0x3,this['frameCounter']=0x0,this[_0x1a3891(0x181)]=map['cameraFocus'],this[_0x1a3891(0x155)]=0xa,this[_0x1a3891(0x17c)]={'sheet':id(_0x1a3891(0x17c)),'baseSlowness':0x5,'frameCounter':0x0,'frame':0x0},this[_0x1a3891(0x163)]=player,this[_0x1a3891(0x151)]=0x0,this[_0x1a3891(0x17e)]=![],this[_0x1a3891(0x176)]=[],this['finished']=![],this[_0x1a3891(0x182)]={'x':this['speaker']['x'],'y':this[_0x1a3891(0x163)]['y'],'w':0xc,'h':0x1};}[_0x176707(0x17f)](){var _0xc691b0=_0x176707;this['textProgress']=this[_0xc691b0(0x14d)];for(let _0x305bed=0x0;_0x305bed<this[_0xc691b0(0x179)][_0xc691b0(0x175)];_0x305bed++){this[_0xc691b0(0x179)][_0x305bed]='';}}[_0x176707(0x160)](_0x4976e2){var _0x368d1d=_0x176707;this['active']=!![],this[_0x368d1d(0x176)]=_0x4976e2,this[_0x368d1d(0x17a)]();}[_0x176707(0x17a)](){var _0x15f1aa=_0x176707;this['wholeText']=this[_0x15f1aa(0x176)][0x0][_0x15f1aa(0x159)],this[_0x15f1aa(0x163)]=this[_0x15f1aa(0x176)][0x0][_0x15f1aa(0x163)],this[_0x15f1aa(0x179)]='',this['splittedText']=[],this['dialoguesQueue'][_0x15f1aa(0x14c)](0x0,0x1);}[_0x176707(0x169)](){var _0x4fa48d=_0x176707;this[_0x4fa48d(0x179)][_0x4fa48d(0x175)]<this[_0x4fa48d(0x14d)][_0x4fa48d(0x175)]?(this[_0x4fa48d(0x16f)]=![],this[_0x4fa48d(0x161)]+=0x1*meta[_0x4fa48d(0x14e)],this[_0x4fa48d(0x161)]>this['baseSlowness']&&(this['frameCounter']=0x0,this['textProgress']+=this[_0x4fa48d(0x14d)][this['textProgress'][_0x4fa48d(0x175)]],this[_0x4fa48d(0x172)]=getLines(c,this[_0x4fa48d(0x179)],this[_0x4fa48d(0x182)]['w']*meta[_0x4fa48d(0x152)]*meta['ratio']))):this[_0x4fa48d(0x16f)]=!![];switch(this[_0x4fa48d(0x14d)][this[_0x4fa48d(0x179)][_0x4fa48d(0x175)]]){case'.':case'\x20':case'\x27':case':':case'?':case'!':case'(':case')':this[_0x4fa48d(0x169)]();break;}}['compute'](){var _0xa27a57=_0x176707;if(!this[_0xa27a57(0x17e)])return;this[_0xa27a57(0x163)][_0xa27a57(0x185)]&&(this[_0xa27a57(0x17e)]=![]),this['textbox']['x']=this['speaker']['x']+this[_0xa27a57(0x163)]['w']/0x2-this['textbox']['w']/0x2,this[_0xa27a57(0x182)]['y']=this[_0xa27a57(0x163)]['y']-1.5,this[_0xa27a57(0x169)](),!this[_0xa27a57(0x16f)]?this[_0xa27a57(0x163)][_0xa27a57(0x184)][this[_0xa27a57(0x151)]][_0xa27a57(0x15d)]&&(this[_0xa27a57(0x151)]=Math[_0xa27a57(0x157)]()*0x6|0x0,this[_0xa27a57(0x163)][_0xa27a57(0x184)][this[_0xa27a57(0x151)]]['playy']()):this[_0xa27a57(0x163)][_0xa27a57(0x184)][this[_0xa27a57(0x151)]][_0xa27a57(0x16c)]();}[_0x176707(0x171)](){var _0x3930a0=_0x176707;if(!this[_0x3930a0(0x17e)])return;c['textAlign']='left',c['font']=this[_0x3930a0(0x155)]*meta[_0x3930a0(0x16e)]+'px'+_0x3930a0(0x15b),c[_0x3930a0(0x177)]=_0x3930a0(0x153);for(let _0x25dc56=0x0;_0x25dc56<this[_0x3930a0(0x172)][_0x3930a0(0x175)];_0x25dc56++){c[_0x3930a0(0x156)](this[_0x3930a0(0x172)][_0x25dc56],(this[_0x3930a0(0x182)]['x']+map['x'])*meta[_0x3930a0(0x152)]*meta[_0x3930a0(0x16e)],(this[_0x3930a0(0x182)]['y']+map['y'])*meta[_0x3930a0(0x152)]*meta['ratio']+this[_0x3930a0(0x155)]*meta[_0x3930a0(0x16e)]*(_0x25dc56+0x1)/1.2);}if(this['finished']){}}}function getLines(_0x2ab630,_0x5b4fec,_0x253dbe){var _0x5eff4c=_0x176707,_0x4f3aa1=_0x5b4fec['split']('\x20'),_0x472159=[],_0x504e03=_0x4f3aa1[0x0];for(var _0x129e03=0x1;_0x129e03<_0x4f3aa1['length'];_0x129e03++){var _0x22a242=_0x4f3aa1[_0x129e03],_0xd9412f=_0x2ab630[_0x5eff4c(0x150)](_0x504e03+'\x20'+_0x22a242)[_0x5eff4c(0x180)];_0xd9412f<_0x253dbe?_0x504e03+='\x20'+_0x22a242:(_0x472159['push'](_0x504e03),_0x504e03=_0x22a242);}return _0x472159[_0x5eff4c(0x17d)](_0x504e03),_0x472159;}