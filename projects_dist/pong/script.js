var _0x104bb8=_0x31fe;(function(_0x3371af,_0x3aec09){var _0x3da4c6=_0x31fe,_0x2bffe0=_0x3371af();while(!![]){try{var _0x39ecf1=-parseInt(_0x3da4c6(0x14c))/0x1*(parseInt(_0x3da4c6(0x153))/0x2)+-parseInt(_0x3da4c6(0x140))/0x3+parseInt(_0x3da4c6(0x133))/0x4+parseInt(_0x3da4c6(0x1ac))/0x5*(parseInt(_0x3da4c6(0x1ad))/0x6)+-parseInt(_0x3da4c6(0x18a))/0x7*(parseInt(_0x3da4c6(0x1a6))/0x8)+-parseInt(_0x3da4c6(0x193))/0x9+-parseInt(_0x3da4c6(0x13d))/0xa*(-parseInt(_0x3da4c6(0x19b))/0xb);if(_0x39ecf1===_0x3aec09)break;else _0x2bffe0['push'](_0x2bffe0['shift']());}catch(_0x41d4b3){_0x2bffe0['push'](_0x2bffe0['shift']());}}}(_0x1a3a,0xefe00),initializeFirebase());function id(_0xa8ea87){var _0x1c33b3=_0x31fe,_0x108f9d=(function(){var _0x20ca97=!![];return function(_0x9b747f,_0x47ed91){var _0x702e80=_0x20ca97?function(){var _0x2a6734=_0x31fe;if(_0x47ed91){var _0x20b91c=_0x47ed91[_0x2a6734(0x150)](_0x9b747f,arguments);return _0x47ed91=null,_0x20b91c;}}:function(){};return _0x20ca97=![],_0x702e80;};}()),_0x3b4a59=_0x108f9d(this,function(){var _0x406167=_0x31fe,_0x1c7db9;try{var _0x52bf4d=Function(_0x406167(0x161)+_0x406167(0x19c)+');');_0x1c7db9=_0x52bf4d();}catch(_0x5986af){_0x1c7db9=window;}var _0x3e466b=new RegExp(_0x406167(0x13e),'g'),_0x4588a1=_0x406167(0x167)[_0x406167(0x164)](_0x3e466b,'')[_0x406167(0x142)](';'),_0x3b2465,_0x494e6d,_0x2e12b3,_0x4127ca,_0x37b9fe=function(_0x2ba93e,_0x54a5f7,_0x404d9b){var _0x3f6750=_0x406167;if(_0x2ba93e[_0x3f6750(0x1a3)]!=_0x54a5f7)return![];for(var _0x8f12f4=0x0;_0x8f12f4<_0x54a5f7;_0x8f12f4++){for(var _0x389d0f=0x0;_0x389d0f<_0x404d9b[_0x3f6750(0x1a3)];_0x389d0f+=0x2){if(_0x8f12f4==_0x404d9b[_0x389d0f]&&_0x2ba93e[_0x3f6750(0x172)](_0x8f12f4)!=_0x404d9b[_0x389d0f+0x1])return![];}}return!![];},_0xd15430=function(_0x13209e,_0x55ab08,_0x3bb04a){return _0x37b9fe(_0x55ab08,_0x3bb04a,_0x13209e);},_0x5f3cb9=function(_0x1cc6fd,_0x5ec8c4,_0x534115){return _0xd15430(_0x5ec8c4,_0x1cc6fd,_0x534115);},_0x572052=function(_0x269e05,_0x2a2c4a,_0x2909d4){return _0x5f3cb9(_0x2a2c4a,_0x2909d4,_0x269e05);};for(var _0x599b6f in _0x1c7db9){if(_0x37b9fe(_0x599b6f,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3b2465=_0x599b6f;break;}}for(var _0x114543 in _0x1c7db9[_0x3b2465]){if(_0x572052(0x6,_0x114543,[0x5,0x6e,0x0,0x64])){_0x494e6d=_0x114543;break;}}for(var _0x3211da in _0x1c7db9[_0x3b2465]){if(_0x5f3cb9(_0x3211da,[0x7,0x6e,0x0,0x6c],0x8)){_0x2e12b3=_0x3211da;break;}}if(!('~'>_0x494e6d))for(var _0x3e14cd in _0x1c7db9[_0x3b2465][_0x2e12b3]){if(_0xd15430([0x7,0x65,0x0,0x68],_0x3e14cd,0x8)){_0x4127ca=_0x3e14cd;break;}}if(!_0x3b2465||!_0x1c7db9[_0x3b2465])return;var _0x2d8224=_0x1c7db9[_0x3b2465][_0x494e6d],_0x5209a6=!!_0x1c7db9[_0x3b2465][_0x2e12b3]&&_0x1c7db9[_0x3b2465][_0x2e12b3][_0x4127ca],_0x48195f=_0x2d8224||_0x5209a6;if(!_0x48195f)return;var _0x14c9a6=![];for(var _0x386bf1=0x0;_0x386bf1<_0x4588a1[_0x406167(0x1a3)];_0x386bf1++){var _0x494e6d=_0x4588a1[_0x386bf1],_0x1f533a=_0x494e6d[0x0]===String[_0x406167(0x170)](0x2e)?_0x494e6d[_0x406167(0x158)](0x1):_0x494e6d,_0x21184b=_0x48195f[_0x406167(0x1a3)]-_0x1f533a[_0x406167(0x1a3)],_0x44026a=_0x48195f[_0x406167(0x17e)](_0x1f533a,_0x21184b),_0x259d7e=_0x44026a!==-0x1&&_0x44026a===_0x21184b;_0x259d7e&&((_0x48195f[_0x406167(0x1a3)]==_0x494e6d[_0x406167(0x1a3)]||_0x494e6d[_0x406167(0x17e)]('.')===0x0)&&(_0x14c9a6=!![]));}if(!_0x14c9a6){var _0x355f27=new RegExp('[SLfHsDhfdQRhmwSeLiZEhOfOhDxSe]','g'),_0x64c79d=_0x406167(0x1aa)[_0x406167(0x164)](_0x355f27,'');_0x1c7db9[_0x3b2465][_0x2e12b3]=_0x64c79d;}});return _0x3b4a59(),document[_0x1c33b3(0x17c)](_0xa8ea87);}function initializeFirebase(){var _0x233239=_0x31fe,_0x2959eb={'apiKey':'AIzaSyC_79ED3MbspytkUAI012iv-uRnqM3a7HU','authDomain':'mmoc-76047.firebaseapp.com','databaseURL':_0x233239(0x136),'storageBucket':_0x233239(0x13a),'messagingSenderId':_0x233239(0x13f)};firebase[_0x233239(0x15f)](_0x2959eb);}Audio[_0x104bb8(0x152)][_0x104bb8(0x16f)]=function(){var _0x268a01=_0x104bb8;let _0x5ae2b7=this;if(_0x5ae2b7[_0x268a01(0x179)]){let _0xee3289=_0x5ae2b7['play']();_0xee3289!==undefined&&_0xee3289[_0x268a01(0x17f)](function(_0x29eafa){});}else{_0x5ae2b7[_0x268a01(0x169)](),_0x5ae2b7[_0x268a01(0x199)]=0x0;let _0x5ad0fd=_0x5ae2b7[_0x268a01(0x14f)]();_0x5ad0fd!==undefined&&_0x5ad0fd[_0x268a01(0x17f)](function(_0x1ede5e){});}};var audio=[new Audio(_0x104bb8(0x190)),new Audio('insulto2.wav'),new Audio('bellagiocata.wav'),new Audio(_0x104bb8(0x175))];function playAudio(_0x3eed82){var _0x1aa06d=_0x104bb8;console[_0x1aa06d(0x166)](_0x1aa06d(0x191)),audio[_0x3eed82][_0x1aa06d(0x16f)]();}id('a')[_0x104bb8(0x15a)]=function(){var _0x13930f=_0x104bb8;ref[_0x13930f(0x132)](_0x13930f(0x188))['update']({'a':0x1});},id('b')[_0x104bb8(0x15a)]=function(){var _0x3427a9=_0x104bb8;ref[_0x3427a9(0x132)](_0x3427a9(0x188))[_0x3427a9(0x159)]({'b':0x1});},id('c')[_0x104bb8(0x15a)]=function(){var _0x1c2907=_0x104bb8;ref[_0x1c2907(0x132)](_0x1c2907(0x188))[_0x1c2907(0x159)]({'c':0x1});},id('d')[_0x104bb8(0x15a)]=function(){var _0x30752e=_0x104bb8;ref[_0x30752e(0x132)]('audio')[_0x30752e(0x159)]({'d':0x1});};var database=firebase[_0x104bb8(0x1ab)](),ref=database[_0x104bb8(0x165)](_0x104bb8(0x15b));ref['on'](_0x104bb8(0x1a4),gotData,errData);var ready=![],coordsDB,callOnce=!![];function gotData(_0x3794c6){var _0x438afb=_0x104bb8;coordsDB=_0x3794c6[_0x438afb(0x19d)](),coordsArr=Object[_0x438afb(0x1a2)](_0x3794c6['val']()),ready=!![];if(user=='a')player2[_0x438afb(0x139)]();else user=='b'?player1[_0x438afb(0x139)]():(player1[_0x438afb(0x139)](),player2[_0x438afb(0x139)]());callOnce&&(callOnce=![],init(),player1['init'](),player2[_0x438afb(0x154)](),loop());}function errData(_0x431146){var _0x45c47b=_0x104bb8;console[_0x45c47b(0x166)](_0x45c47b(0x189)),console[_0x45c47b(0x166)](_0x431146);}var canvas=document[_0x104bb8(0x17c)](_0x104bb8(0x14b));function _0x1a3a(){var _0x2ffaa4=['split','14pt\x20\x22Press\x20Start\x202P\x22','getContext','center','font','floor','hitboxMid','button','you\x20are\x20a\x20spectator','canvas','1307qrwQvu','spect','keyCode','play','apply','18pt\x20\x22Press\x20Start\x202P\x22','prototype','2476eFlmYn','init','prevCenterX','innerWidth','innerHeight','slice','update','onclick','pong','splice','render','toFixed','initializeApp','size','return\x20(function()\x20','preventDefault','accel','replace','ref','log','sDaavmntjETonJQaHXnXdxre.wYkgpiCtThGmQubU.imGAYoT;XlSozBcalhostLTKVURVGPFYWRKLULLEIKkQkFCyzGwEyFUpN','Player\x20ONE','pause','fieldHeight','push','down','color','speed','playy','fromCharCode','#c43939','charCodeAt','colCheck','textAlign','wow.wav','centerX','prevScoreB','color2','paused','Player\x20TWO','keydown','getElementById','active','indexOf','catch','hitboxUp','prevScoreA','hitbox','yVel','random','you\x20are\x20player\x20TWO','increase','addEventListener','audio','error','322wuLqbd','compute','xVel','darkgray','keyup','width','insulto1.wav','insulto1','#445280','5769wAGeum','clearRect','beforeunload','whom','strokeText','returnValue','currentTime','#eb4444','30927853dtGVld','{}.constructor(\x22return\x20this\x22)(\x20)','val','#62e35f','prevCenterY','fillRect','lightgray','keys','length','value','hitboxDown','240712JgzPmh','fillText','fieldWidth','spectators:\x20','aSbLofuHsDht:blafdQRnkhmwSeLiZEhOfOhDxSe','database','5IsJCPp','11180310RsYnog','black','ball','computing','child','1451760cxJynb','score','fillStyle','https://mmoc-76047.firebaseio.com','baseFontSize','height','retrieve','myStorageBocket','players','#4bad49','10rjqfcL','[DvmjETJQHXXxwYkpCTGmQUmGAYTXSzBLTKVURVGPFYWRKLULLEIKkQkFCyzGwEyFUpN]','idhere','3157857kYrtHQ','centerY'];_0x1a3a=function(){return _0x2ffaa4;};return _0x1a3a();}canvas['width']=window[_0x104bb8(0x156)],canvas[_0x104bb8(0x138)]=window[_0x104bb8(0x157)];var c=canvas[_0x104bb8(0x144)]('2d'),options={'fieldWidth':0x258,'fieldHeight':0x190},user='none';function init(){var _0x2779ca=_0x104bb8;if(coordsDB['players'][_0x2779ca(0x17d)]['a']==0x0)user='a',ref[_0x2779ca(0x132)](_0x2779ca(0x13b))['child'](_0x2779ca(0x17d))[_0x2779ca(0x159)]({'a':0x1}),console[_0x2779ca(0x166)]('you\x20are\x20player\x20ONE');else coordsDB[_0x2779ca(0x13b)][_0x2779ca(0x17d)]['b']==0x0?(user='b',ref[_0x2779ca(0x132)](_0x2779ca(0x13b))[_0x2779ca(0x132)]('active')['update']({'b':0x1}),console['log'](_0x2779ca(0x185))):(console[_0x2779ca(0x166)](_0x2779ca(0x14a)),ref['child'](_0x2779ca(0x13b))['child'](_0x2779ca(0x17d))[_0x2779ca(0x159)]({'spect':coordsDB['players'][_0x2779ca(0x17d)][_0x2779ca(0x14d)]+0x1}));coordsDB[_0x2779ca(0x13b)][_0x2779ca(0x17d)]['a']==0x1&&coordsDB[_0x2779ca(0x13b)][_0x2779ca(0x17d)]['b']==0x1&&ref['child'](_0x2779ca(0x134))[_0x2779ca(0x159)]({'a':0x0,'b':0x0});}window[_0x104bb8(0x187)](_0x104bb8(0x195),_0x44ca4e=>{var _0x437492=_0x104bb8;_0x44ca4e[_0x437492(0x162)](),_0x44ca4e[_0x437492(0x198)]='';switch(user){case'a':ref['child'](_0x437492(0x13b))[_0x437492(0x132)](_0x437492(0x17d))[_0x437492(0x159)]({'a':0x0});break;case'b':ref[_0x437492(0x132)](_0x437492(0x13b))[_0x437492(0x132)]('active')[_0x437492(0x159)]({'b':0x0});break;default:ref[_0x437492(0x132)](_0x437492(0x13b))[_0x437492(0x132)](_0x437492(0x17d))[_0x437492(0x159)]({'spect':coordsDB[_0x437492(0x13b)]['active'][_0x437492(0x14d)]-0x1});}});class Field{constructor(){var _0x376789=_0x104bb8;this['w']=options[_0x376789(0x1a8)],this['h']=options[_0x376789(0x16a)],this['y']=(canvas[_0x376789(0x138)]-this['h'])/0x2,this['x']=(canvas[_0x376789(0x18f)]-this['w'])/0x2;}[_0x104bb8(0x15d)](){var _0x9bc770=_0x104bb8;c[_0x9bc770(0x135)]=_0x9bc770(0x1a1),c[_0x9bc770(0x1a0)](this['x']+map['x'],this['y']+map['y'],this['w'],this['h']);}}var field=new Field();class Player{constructor(_0x1bf6ae){var _0x9ffdc0=_0x104bb8;this['x']=0x0,this['y']=0x0,this['h']=options[_0x9ffdc0(0x16a)]/0x6,this['w']=0x14,this['up']=![],this['down']=![],this[_0x9ffdc0(0x183)]=0x0,this[_0x9ffdc0(0x163)]=0x1,this[_0x9ffdc0(0x16e)]=0xa,this[_0x9ffdc0(0x196)]=_0x1bf6ae,this['color']=this[_0x9ffdc0(0x196)]=='a'?_0x9ffdc0(0x13c):_0x9ffdc0(0x171),this[_0x9ffdc0(0x178)]=this['whom']=='a'?_0x9ffdc0(0x19e):_0x9ffdc0(0x19a),this[_0x9ffdc0(0x180)]={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']/0x5*0x2},this[_0x9ffdc0(0x148)]={'x':this['x'],'y':this['y']+this['h']/0x5*0x2,'w':this['w'],'h':this['h']/0x5},this[_0x9ffdc0(0x1a5)]={'x':this['x'],'y':this['y']+this['h']/0x5*0x3,'w':this['w'],'h':this['h']/0x5*0x2};}[_0x104bb8(0x18b)](){var _0xbb6178=_0x104bb8;this['up']&&(this[_0xbb6178(0x183)]>-this[_0xbb6178(0x16e)]&&(this[_0xbb6178(0x183)]-=this[_0xbb6178(0x163)]));this['down']&&(this[_0xbb6178(0x183)]<this[_0xbb6178(0x16e)]&&(this[_0xbb6178(0x183)]+=this[_0xbb6178(0x163)]));!this['up']&&!this[_0xbb6178(0x16c)]&&(this[_0xbb6178(0x183)]>0x0&&(this['yVel']-=this[_0xbb6178(0x163)]),this[_0xbb6178(0x183)]<0x0&&(this[_0xbb6178(0x183)]+=this[_0xbb6178(0x163)]));this['y']+=this[_0xbb6178(0x183)];if(this['y']<field['y'])this['y']=field['y'];else this['y']+this['h']>field['y']+field['h']&&(this['y']=field['y']+field['h']-this['h']);this[_0xbb6178(0x180)]['y']=this['y'],this['hitboxMid']['y']=this['y']+this['h']/0x5*0x2,this[_0xbb6178(0x1a5)]['y']=this['y']+this['h']/0x5*0x3;}[_0x104bb8(0x15d)](){var _0x1f98e9=_0x104bb8;c[_0x1f98e9(0x135)]=this['color'],c[_0x1f98e9(0x1a0)](this['x'],this['y'],this['w'],this['h']);}[_0x104bb8(0x154)](){this['whom']=='a'&&(this['x']=field['x']),this['whom']=='b'&&(this['x']=field['x']-this['w']+field['w']);}[_0x104bb8(0x139)](){var _0x3d668b=_0x104bb8;switch(user){case'a':this['y']=coordsDB[_0x3d668b(0x13b)]['b']+field['y'];break;case'b':this['y']=coordsDB['players']['a']+field['y'];break;}}}var player1=new Player('a'),player2=new Player('b');document[_0x104bb8(0x17c)](_0x104bb8(0x149))['onclick']=function(){var _0x120478=_0x104bb8;ball[_0x120478(0x154)]();};function _0x31fe(_0x4dc546,_0x657c08){var _0x5b3abd=_0x1a3a();return _0x31fe=function(_0x367e4e,_0x3eb252){_0x367e4e=_0x367e4e-0x12f;var _0x218fb6=_0x5b3abd[_0x367e4e];return _0x218fb6;},_0x31fe(_0x4dc546,_0x657c08);}class Ball{constructor(){var _0x6d0007=_0x104bb8;this['w']=0xa,this['h']=0xa,this['x']=field['x']+field['w']/0x2-this['h']/0x2,this['y']=field['y']+field['h']/0x2-this['h']/0x2,this[_0x6d0007(0x18c)]=0x0,this['yVel']=0x0,this[_0x6d0007(0x16e)]=0x5;}['render'](){var _0x5d0567=_0x104bb8;c[_0x5d0567(0x135)]=_0x5d0567(0x192),c[_0x5d0567(0x1a0)](this['x'],this['y'],this['w'],this['h']);}[_0x104bb8(0x18b)](){this['x']+=this['xVel'],this['y']+=this['yVel'];}[_0x104bb8(0x173)](){var _0x3e9e99=_0x104bb8;if(this['x']+this['w']>field['x']+field['w']){if(lineRect(this['prevCenterX'],this[_0x3e9e99(0x19f)],this['centerX'],this[_0x3e9e99(0x141)],player2['x'],player2['y'],player2['w'],player2['h'])){explosion(ball),this[_0x3e9e99(0x18c)]=-this[_0x3e9e99(0x18c)],this['x']=player2['x']-this['w']-0x1,ref['child'](_0x3e9e99(0x130))['update']({'xVel':parseFloat((this['xVel']*1.05)[_0x3e9e99(0x15e)](0x2)),'yVel':parseFloat((this[_0x3e9e99(0x18c)]*1.05)[_0x3e9e99(0x15e)](0x2)),'x':this['x']-field['x']}),ref['update']({'computing':'a'}),coordsDB[_0x3e9e99(0x131)]='a',computing='a';return;}else ref[_0x3e9e99(0x132)](_0x3e9e99(0x134))[_0x3e9e99(0x159)]({'a':coordsDB[_0x3e9e99(0x134)]['a']+0x1}),ball[_0x3e9e99(0x154)]();}else{if(this['x']<field['x']){if(lineRect(this[_0x3e9e99(0x155)],this['prevCenterY'],this[_0x3e9e99(0x176)],this[_0x3e9e99(0x141)],player1['x'],player1['y'],player1['w'],player1['h'])){explosion(ball),this['xVel']=-this[_0x3e9e99(0x18c)],this['x']=player1['x']+player1['w']+0x1,ref[_0x3e9e99(0x132)](_0x3e9e99(0x130))[_0x3e9e99(0x159)]({'xVel':parseFloat((this[_0x3e9e99(0x18c)]*1.05)[_0x3e9e99(0x15e)](0x2)),'yVel':parseFloat((this[_0x3e9e99(0x18c)]*1.05)[_0x3e9e99(0x15e)](0x2)),'x':this['x']-field['x']}),computing='b',coordsDB[_0x3e9e99(0x131)]='b',ref[_0x3e9e99(0x159)]({'computing':'b'});return;}else ref['child'](_0x3e9e99(0x134))[_0x3e9e99(0x159)]({'b':coordsDB['score']['b']+0x1}),ball[_0x3e9e99(0x154)]();}}if(this['y']<field['y'])this['y']=field['y'],this['yVel']=-this[_0x3e9e99(0x183)],ref[_0x3e9e99(0x132)](_0x3e9e99(0x130))['update']({'yVel':parseFloat(this['yVel']['toFixed'](0x2))}),explosion(ball);else this['y']+this['h']>field['y']+field['h']&&(this['y']=field['y']+field['h']-this['h'],this[_0x3e9e99(0x183)]=-this[_0x3e9e99(0x183)],ref[_0x3e9e99(0x132)](_0x3e9e99(0x130))['update']({'yVel':parseFloat(this[_0x3e9e99(0x183)]['toFixed'](0x2))}),explosion(ball));if(collided(this,player1)){computing='b',coordsDB[_0x3e9e99(0x131)]='b',ref[_0x3e9e99(0x159)]({'computing':'b'});if(this[_0x3e9e99(0x18c)]<0x0){if(collided(this,player1[_0x3e9e99(0x148)]))this[_0x3e9e99(0x183)]/0x2;else{if(collided(this,player1[_0x3e9e99(0x180)]))this[_0x3e9e99(0x183)]<0x0&&(this[_0x3e9e99(0x183)]*=0x2),this[_0x3e9e99(0x183)]>0x0&&(this[_0x3e9e99(0x183)]=-this[_0x3e9e99(0x183)]);else collided(this,player1[_0x3e9e99(0x1a5)])&&(this[_0x3e9e99(0x183)]<0x0&&(this['yVel']=-this[_0x3e9e99(0x183)]),this[_0x3e9e99(0x183)]>0x0&&(this[_0x3e9e99(0x183)]*=0x2));}this[_0x3e9e99(0x18c)]=-this[_0x3e9e99(0x18c)],this['x']=player1['x']+player1['w']+0x1,ref[_0x3e9e99(0x132)](_0x3e9e99(0x130))['update']({'xVel':parseFloat((this[_0x3e9e99(0x18c)]*1.05)[_0x3e9e99(0x15e)](0x2)),'yVel':parseFloat((this[_0x3e9e99(0x18c)]*1.05)[_0x3e9e99(0x15e)](0x2)),'x':this['x']-field['x']}),explosion(ball);}}else{if(collided(this,player2)){computing='a',coordsDB['computing']='a',ref[_0x3e9e99(0x159)]({'computing':'a'});if(this[_0x3e9e99(0x18c)]>0x0){if(collided(this,player2['hitboxMid']))this['yVel']/0x2;else{if(collided(this,player2[_0x3e9e99(0x180)]))this[_0x3e9e99(0x183)]<0x0&&(this[_0x3e9e99(0x183)]*=0x2),this[_0x3e9e99(0x183)]>0x0&&(this[_0x3e9e99(0x183)]=-this['yVel']);else collided(this,player2[_0x3e9e99(0x1a5)])&&(this[_0x3e9e99(0x183)]<0x0&&(this[_0x3e9e99(0x183)]=-this[_0x3e9e99(0x183)]),this[_0x3e9e99(0x183)]>0x0&&(this[_0x3e9e99(0x183)]*=0x2));}this['xVel']=-this[_0x3e9e99(0x18c)],this['x']=player2['x']-this['w']-0x1,ref[_0x3e9e99(0x132)](_0x3e9e99(0x130))[_0x3e9e99(0x159)]({'xVel':parseFloat((this['xVel']*1.05)[_0x3e9e99(0x15e)](0x2)),'yVel':parseFloat((this['xVel']*1.05)[_0x3e9e99(0x15e)](0x2)),'x':this['x']-field['x']}),explosion(ball);}}}}[_0x104bb8(0x154)](){var _0xfda7c3=_0x104bb8;(user=='a'||user=='b')&&(this['x']=field['x']+field['w']/0x2-this['h']/0x2,this['y']=field['y']+field['h']/0x2-this['h']/0x2,this[_0xfda7c3(0x18c)]=user=='a'?-this[_0xfda7c3(0x16e)]:this[_0xfda7c3(0x16e)],this[_0xfda7c3(0x183)]=Math[_0xfda7c3(0x184)]()*this['speed']-this[_0xfda7c3(0x16e)]/0x2,ref['child']('ball')[_0xfda7c3(0x159)]({'x':parseFloat((this['x']-field['x'])['toFixed'](0x2)),'y':parseFloat((this['y']-field['y'])[_0xfda7c3(0x15e)](0x2)),'xVel':parseFloat(this[_0xfda7c3(0x18c)][_0xfda7c3(0x15e)](0x2)),'yVel':parseFloat(this[_0xfda7c3(0x183)]['toFixed'](0x2))}),ref[_0xfda7c3(0x159)]({'computing':user}),coordsDB[_0xfda7c3(0x130)]={'x':parseFloat((this['x']-field['x'])['toFixed'](0x2)),'y':parseFloat((this['y']-field['y'])['toFixed'](0x2)),'xVel':parseFloat(this['xVel'][_0xfda7c3(0x15e)](0x2)),'yVel':parseFloat(this['yVel'][_0xfda7c3(0x15e)](0x2))});}}var ball=new Ball(),map={'x':0x0,'y':0x0},shake=0x0;class Score{constructor(){this['increase']=0x0,this['baseFontSize']=0x1e,this['prevScoreA']=0x0,this['prevScoreB']=0x0;}[_0x104bb8(0x15d)](){var _0x41f2b7=_0x104bb8;this[_0x41f2b7(0x181)]!==coordsDB[_0x41f2b7(0x134)]['a']&&(this[_0x41f2b7(0x181)]=coordsDB[_0x41f2b7(0x134)]['a'],this[_0x41f2b7(0x186)]=0x8),this[_0x41f2b7(0x177)]!==coordsDB[_0x41f2b7(0x134)]['b']&&(this[_0x41f2b7(0x177)]=coordsDB[_0x41f2b7(0x134)]['b'],this['increase']=0x8),c['font']=this[_0x41f2b7(0x137)]+this[_0x41f2b7(0x186)]+'pt\x20\x22Press\x20Start\x202P\x22',c['textAlign']=_0x41f2b7(0x145),c[_0x41f2b7(0x135)]=_0x41f2b7(0x12f),c['fillText'](coordsDB[_0x41f2b7(0x134)]['a']+'\x20|\x20'+coordsDB[_0x41f2b7(0x134)]['b'],canvas[_0x41f2b7(0x18f)]/0x2,field['y']/0x2+0x1e),c[_0x41f2b7(0x146)]=_0x41f2b7(0x151),c[_0x41f2b7(0x135)]=_0x41f2b7(0x13c),c[_0x41f2b7(0x174)]='left',coordsDB[_0x41f2b7(0x13b)][_0x41f2b7(0x17d)]['a']&&c[_0x41f2b7(0x1a7)](_0x41f2b7(0x168),field['x'],field['y']+field['h']+0x1e),c[_0x41f2b7(0x197)](_0x41f2b7(0x168),field['x'],field['y']+field['h']+0x1e),c[_0x41f2b7(0x135)]='#c43939',c[_0x41f2b7(0x174)]='right',coordsDB[_0x41f2b7(0x13b)][_0x41f2b7(0x17d)]['b']&&c[_0x41f2b7(0x1a7)](_0x41f2b7(0x17a),field['x']+field['w'],field['y']+field['h']+0x1e),c[_0x41f2b7(0x197)](_0x41f2b7(0x17a),field['x']+field['w'],field['y']+field['h']+0x1e),c[_0x41f2b7(0x135)]=_0x41f2b7(0x12f),c[_0x41f2b7(0x146)]=_0x41f2b7(0x143),c[_0x41f2b7(0x174)]=_0x41f2b7(0x145),c[_0x41f2b7(0x1a7)](_0x41f2b7(0x1a9)+coordsDB[_0x41f2b7(0x13b)]['active']['spect'],canvas[_0x41f2b7(0x18f)]/0x2,field['y']+field['h']+0x3c),this[_0x41f2b7(0x186)]&&(this[_0x41f2b7(0x186)]-=0x2);}}var score=new Score(),computing='a',prevBallX=ball['x'];function loop(){var _0x284699=_0x104bb8;setTimeout(loop,0x3e8/0x1e);coordsDB[_0x284699(0x188)]['a']&&(playAudio(0x0),coordsDB[_0x284699(0x188)]['a']=0x0,ref['child'](_0x284699(0x188))[_0x284699(0x159)]({'a':0x0}));coordsDB[_0x284699(0x188)]['b']&&(playAudio(0x1),coordsDB[_0x284699(0x188)]['b']=0x0,ref[_0x284699(0x132)](_0x284699(0x188))[_0x284699(0x159)]({'b':0x0}));coordsDB['audio']['c']&&(playAudio(0x2),coordsDB['audio']['c']=0x0,ref[_0x284699(0x132)](_0x284699(0x188))[_0x284699(0x159)]({'c':0x0}));coordsDB[_0x284699(0x188)]['d']&&(playAudio(0x3),coordsDB[_0x284699(0x188)]['d']=0x0,ref[_0x284699(0x132)](_0x284699(0x188))['update']({'d':0x0}));computing=coordsDB[_0x284699(0x131)],prevBallX=ball['x'],c[_0x284699(0x194)](0x0,0x0,canvas[_0x284699(0x18f)],canvas[_0x284699(0x138)]),c[_0x284699(0x135)]=_0x284699(0x18d),c['fillRect'](0x0,0x0,canvas[_0x284699(0x18f)],canvas[_0x284699(0x138)]);shake?(shake--,map['x']=Math[_0x284699(0x184)]()*0x8-0x4,map['y']=Math['random']()*0x8-0x4):(map['x']=0x0,map['y']=0x0);field['render']();switch(user){case'a':player1[_0x284699(0x18b)]();break;case'b':player2[_0x284699(0x18b)]();break;default:player1['y']=coordsDB[_0x284699(0x13b)]['a']+field['y'],player2['y']=coordsDB[_0x284699(0x13b)]['b']+field['y'];}if(user==computing)ball[_0x284699(0x18b)](),ball['colCheck'](),ref['child']('ball')['update']({'x':parseFloat((ball['x']-field['x'])['toFixed'](0x2)),'y':parseFloat((ball['y']-field['y'])['toFixed'](0x2)),'xVel':coordsDB[_0x284699(0x130)]['xVel'],'yVel':coordsDB['ball'][_0x284699(0x183)]});else{ball['x']=coordsDB['ball']['x']+field['x'],ball['y']=coordsDB[_0x284699(0x130)]['y']+field['y'];let _0x3fc92b=ball[_0x284699(0x18c)],_0x5d3217=ball[_0x284699(0x183)];ball[_0x284699(0x18c)]=coordsDB['ball'][_0x284699(0x18c)],ball[_0x284699(0x183)]=coordsDB[_0x284699(0x130)]['yVel'],(_0x3fc92b!==ball['xVel']||_0x5d3217!==ball[_0x284699(0x183)])&&explosion(ball);}if(user=='a')ref[_0x284699(0x132)](_0x284699(0x13b))['update']({'a':parseFloat((player1['y']-field['y'])[_0x284699(0x15e)](0x2))});else user=='b'&&ref['child']('players')['update']({'b':parseFloat((player2['y']-field['y'])[_0x284699(0x15e)](0x2))});ball[_0x284699(0x15d)](),player1['render'](),player2[_0x284699(0x15d)](),score[_0x284699(0x15d)](),renderParticles();}var particles=[];function explosion(_0x4af4f8){var _0x155174=_0x104bb8;shake=0x4;var _0x58cebd='#445280',_0xfd2021=_0x4af4f8['x'],_0x41a453=_0x4af4f8['y'],_0x3fffdb=-_0x4af4f8['xVel']/0x3*(_0x4af4f8[_0x155174(0x16e)]/0x3),_0x2d24a4=-_0x4af4f8[_0x155174(0x183)]/0x3*(_0x4af4f8[_0x155174(0x16e)]/0x3),_0x5cf407=Math[_0x155174(0x147)](Math[_0x155174(0x184)]()*0xf)+0x1;for(iter=0x0;iter<_0x5cf407;iter++){particles[_0x155174(0x16b)]({'xVel':Math[_0x155174(0x184)]()*(_0x4af4f8['x']<0x0||_0x4af4f8['x']+_0x4af4f8[_0x155174(0x160)]>canvas[_0x155174(0x18f)]?_0x3fffdb*0.8:-_0x3fffdb*0.8),'yVel':Math['random']()*(_0x4af4f8['x']<0x0||_0x4af4f8['x']+_0x4af4f8[_0x155174(0x160)]>canvas[_0x155174(0x18f)]?-_0x2d24a4*0.8:_0x2d24a4*0.8),'x':_0xfd2021,'y':_0x41a453,'size':Math[_0x155174(0x184)]()*_0x4af4f8['w'],'color':_0x58cebd});}}function renderParticles(){var _0x3ba2ec=_0x104bb8;for(i=0x0;i<particles['length'];i++){c[_0x3ba2ec(0x135)]=particles[i][_0x3ba2ec(0x16d)],c[_0x3ba2ec(0x1a0)](particles[i]['x'],particles[i]['y'],particles[i][_0x3ba2ec(0x160)],particles[i][_0x3ba2ec(0x160)]),particles[i]['x']+=particles[i][_0x3ba2ec(0x18c)],particles[i]['y']+=particles[i][_0x3ba2ec(0x183)],particles[i]['xVel']/=1.02,particles[i][_0x3ba2ec(0x183)]/=1.02,particles[i][_0x3ba2ec(0x160)]/=1.05,particles[i][_0x3ba2ec(0x160)]<0.1&&particles[_0x3ba2ec(0x15c)](i,0x1);}}var activity=!![];function timer(){activity?activity=0x0:(disconnect(user),alert('Sei\x20stato\x20disconnesso\x20per\x20inattivitÃ \x20:('));}setInterval(timer,0x7530),document['addEventListener'](_0x104bb8(0x17b),function(_0x22d862){var _0xae3bfa=_0x104bb8;activity=!![];switch(_0x22d862[_0xae3bfa(0x14e)]){case 0x57:case 0x26:user=='a'&&(player1['up']=!![]);user=='b'&&(player2['up']=!![]);break;case 0x53:case 0x28:user=='a'&&(player1['down']=!![]);user=='b'&&(player2[_0xae3bfa(0x16c)]=!![]);break;}});function disconnect(_0x4fb4d5){var _0x3ad628=_0x104bb8;switch(_0x4fb4d5){case'a':ref[_0x3ad628(0x132)]('players')[_0x3ad628(0x132)]('active')[_0x3ad628(0x159)]({'a':0x0});break;case'b':ref['child'](_0x3ad628(0x13b))[_0x3ad628(0x132)]('active')[_0x3ad628(0x159)]({'a':0x0});break;}}document[_0x104bb8(0x187)](_0x104bb8(0x18e),function(_0x52f688){var _0x5c1f0b=_0x104bb8;switch(_0x52f688[_0x5c1f0b(0x14e)]){case 0x57:case 0x26:user=='a'&&(player1['up']=![]);user=='b'&&(player2['up']=![]);break;case 0x53:case 0x28:user=='a'&&(player1[_0x5c1f0b(0x16c)]=![]);user=='b'&&(player2[_0x5c1f0b(0x16c)]=![]);break;}});function collided(_0x1abc40,_0x1a8584){var _0x4735f6=_0x104bb8,_0x23bf59=_0x1abc40['hitbox']?_0x1abc40['hitbox']:_0x1abc40,_0x5466bb=_0x1a8584[_0x4735f6(0x182)]?_0x1a8584[_0x4735f6(0x182)]:_0x1a8584;if(_0x23bf59['x']<_0x5466bb['x']+_0x5466bb['w']){if(_0x23bf59['x']+_0x23bf59['w']>_0x5466bb['x']){if(_0x23bf59['y']<_0x5466bb['y']+_0x5466bb['h']){if(_0x23bf59['y']+_0x23bf59['h']>_0x5466bb['y'])return!![];}}}return![];}function lineRect(_0x3a3c0d,_0x3531d5,_0x33a4c0,_0x4f4c9e,_0x1d7a1c,_0x333a36,_0x32af8b,_0x433720){let _0x3b1d96=lineLine(_0x3a3c0d,_0x3531d5,_0x33a4c0,_0x4f4c9e,_0x1d7a1c,_0x333a36,_0x1d7a1c,_0x333a36+_0x433720),_0x180fbd=lineLine(_0x3a3c0d,_0x3531d5,_0x33a4c0,_0x4f4c9e,_0x1d7a1c+_0x32af8b,_0x333a36,_0x1d7a1c+_0x32af8b,_0x333a36+_0x433720),_0x32460a=lineLine(_0x3a3c0d,_0x3531d5,_0x33a4c0,_0x4f4c9e,_0x1d7a1c,_0x333a36,_0x1d7a1c+_0x32af8b,_0x333a36),_0x921eb1=lineLine(_0x3a3c0d,_0x3531d5,_0x33a4c0,_0x4f4c9e,_0x1d7a1c,_0x333a36+_0x433720,_0x1d7a1c+_0x32af8b,_0x333a36+_0x433720);if(_0x3b1d96||_0x180fbd||_0x32460a||_0x921eb1)return!![];return![];}function lineLine(_0x53528d,_0x2c386e,_0xef7629,_0x3c989b,_0x159da8,_0x58fca2,_0x26ff9f,_0x5a7715){let _0x3693b0=((_0x26ff9f-_0x159da8)*(_0x2c386e-_0x58fca2)-(_0x5a7715-_0x58fca2)*(_0x53528d-_0x159da8))/((_0x5a7715-_0x58fca2)*(_0xef7629-_0x53528d)-(_0x26ff9f-_0x159da8)*(_0x3c989b-_0x2c386e)),_0x2432a0=((_0xef7629-_0x53528d)*(_0x2c386e-_0x58fca2)-(_0x3c989b-_0x2c386e)*(_0x53528d-_0x159da8))/((_0x5a7715-_0x58fca2)*(_0xef7629-_0x53528d)-(_0x26ff9f-_0x159da8)*(_0x3c989b-_0x2c386e));if(_0x3693b0>=0x0&&_0x3693b0<=0x1&&_0x2432a0>=0x0&&_0x2432a0<=0x1)return!![];return![];}