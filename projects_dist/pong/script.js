var _0xae1702=_0x49be;(function(_0x4c2c7b,_0x50d89a){var _0x146500=_0x49be,_0x244a8f=_0x4c2c7b();while(!![]){try{var _0x58e166=parseInt(_0x146500(0x197))/0x1+parseInt(_0x146500(0x1ee))/0x2*(parseInt(_0x146500(0x1b4))/0x3)+parseInt(_0x146500(0x17c))/0x4*(parseInt(_0x146500(0x1b8))/0x5)+-parseInt(_0x146500(0x1ed))/0x6+parseInt(_0x146500(0x1c6))/0x7*(-parseInt(_0x146500(0x19c))/0x8)+-parseInt(_0x146500(0x1e5))/0x9*(parseInt(_0x146500(0x17f))/0xa)+parseInt(_0x146500(0x1ea))/0xb;if(_0x58e166===_0x50d89a)break;else _0x244a8f['push'](_0x244a8f['shift']());}catch(_0x4ad1fc){_0x244a8f['push'](_0x244a8f['shift']());}}}(_0x2364,0x1bb8d),initializeFirebase());function id(_0x4a9084){var _0x45c54f=_0x49be,_0x145702=(function(){var _0x76563d=!![];return function(_0x1407fa,_0x193e29){var _0x297959=_0x76563d?function(){if(_0x193e29){var _0x3b4f0e=_0x193e29['apply'](_0x1407fa,arguments);return _0x193e29=null,_0x3b4f0e;}}:function(){};return _0x76563d=![],_0x297959;};}()),_0x2c53b8=_0x145702(this,function(){var _0x431066=_0x49be,_0x377d0d=function(){var _0x1e27dd=_0x49be,_0x53de1f;try{_0x53de1f=Function(_0x1e27dd(0x1d4)+_0x1e27dd(0x19a)+');')();}catch(_0x5deea5){_0x53de1f=window;}return _0x53de1f;},_0x4cfaf8=_0x377d0d(),_0x39541e=new RegExp(_0x431066(0x1e4),'g'),_0x27fb28=_0x431066(0x18c)[_0x431066(0x1ba)](_0x39541e,'')[_0x431066(0x1ae)](';'),_0x4a3592,_0xe3da3c,_0x53880c,_0x248a9e,_0x3920dc=function(_0x23836d,_0x1246f7,_0x3ab376){var _0x227cd2=_0x431066;if(_0x23836d[_0x227cd2(0x1c9)]!=_0x1246f7)return![];for(var _0x458ded=0x0;_0x458ded<_0x1246f7;_0x458ded++){for(var _0x28212a=0x0;_0x28212a<_0x3ab376['length'];_0x28212a+=0x2){if(_0x458ded==_0x3ab376[_0x28212a]&&_0x23836d[_0x227cd2(0x185)](_0x458ded)!=_0x3ab376[_0x28212a+0x1])return![];}}return!![];},_0x164949=function(_0x17db6d,_0x36dd94,_0x973358){return _0x3920dc(_0x36dd94,_0x973358,_0x17db6d);},_0x4da3e9=function(_0x4a7830,_0x329328,_0x2669d8){return _0x164949(_0x329328,_0x4a7830,_0x2669d8);},_0x24ae2f=function(_0x358c00,_0x410de8,_0x38c28d){return _0x4da3e9(_0x410de8,_0x38c28d,_0x358c00);};for(var _0x561045 in _0x4cfaf8){if(_0x3920dc(_0x561045,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4a3592=_0x561045;break;}}for(var _0x1878a0 in _0x4cfaf8[_0x4a3592]){if(_0x24ae2f(0x6,_0x1878a0,[0x5,0x6e,0x0,0x64])){_0xe3da3c=_0x1878a0;break;}}for(var _0x5b457b in _0x4cfaf8[_0x4a3592]){if(_0x4da3e9(_0x5b457b,[0x7,0x6e,0x0,0x6c],0x8)){_0x53880c=_0x5b457b;break;}}if(!('~'>_0xe3da3c))for(var _0x526b98 in _0x4cfaf8[_0x4a3592][_0x53880c]){if(_0x164949([0x7,0x65,0x0,0x68],_0x526b98,0x8)){_0x248a9e=_0x526b98;break;}}if(!_0x4a3592||!_0x4cfaf8[_0x4a3592])return;var _0x419957=_0x4cfaf8[_0x4a3592][_0xe3da3c],_0x56ce74=!!_0x4cfaf8[_0x4a3592][_0x53880c]&&_0x4cfaf8[_0x4a3592][_0x53880c][_0x248a9e],_0x402d1b=_0x419957||_0x56ce74;if(!_0x402d1b)return;var _0x1e17b3=![];for(var _0x50757f=0x0;_0x50757f<_0x27fb28[_0x431066(0x1c9)];_0x50757f++){var _0xe3da3c=_0x27fb28[_0x50757f],_0x59f031=_0xe3da3c[0x0]===String[_0x431066(0x1a1)](0x2e)?_0xe3da3c[_0x431066(0x196)](0x1):_0xe3da3c,_0x5bf41b=_0x402d1b[_0x431066(0x1c9)]-_0x59f031[_0x431066(0x1c9)],_0x51ee12=_0x402d1b['indexOf'](_0x59f031,_0x5bf41b),_0xcf41e5=_0x51ee12!==-0x1&&_0x51ee12===_0x5bf41b;_0xcf41e5&&((_0x402d1b['length']==_0xe3da3c[_0x431066(0x1c9)]||_0xe3da3c['indexOf']('.')===0x0)&&(_0x1e17b3=!![]));}if(!_0x1e17b3){var _0x14e646=new RegExp(_0x431066(0x1b3),'g'),_0x2e9e55='azJvbImcoutA:bBlaFnkJZdfxEDNQRAQimZIB'['replace'](_0x14e646,'');_0x4cfaf8[_0x4a3592][_0x53880c]=_0x2e9e55;}});return _0x2c53b8(),document[_0x45c54f(0x1bc)](_0x4a9084);}function initializeFirebase(){var _0x25eab8=_0x49be,_0x3b4069={'apiKey':_0x25eab8(0x1a7),'authDomain':'mmoc-76047.firebaseapp.com','databaseURL':_0x25eab8(0x1ce),'storageBucket':_0x25eab8(0x19b),'messagingSenderId':_0x25eab8(0x1c2)};firebase[_0x25eab8(0x1b0)](_0x3b4069);}function _0x49be(_0x4729e0,_0x581b8b){var _0x4bb38e=_0x2364();return _0x49be=function(_0x4a9e74,_0x88aef){_0x4a9e74=_0x4a9e74-0x177;var _0x4f7b63=_0x4bb38e[_0x4a9e74];return _0x4f7b63;},_0x49be(_0x4729e0,_0x581b8b);}Audio[_0xae1702(0x189)]['playy']=function(){var _0x193887=_0xae1702;let _0x568046=this;if(_0x568046['paused']){let _0x381cac=_0x568046[_0x193887(0x1d2)]();_0x381cac!==undefined&&_0x381cac['catch'](function(_0x497413){});}else{_0x568046[_0x193887(0x17e)](),_0x568046[_0x193887(0x199)]=0x0;let _0x4299b2=_0x568046['play']();_0x4299b2!==undefined&&_0x4299b2[_0x193887(0x1a4)](function(_0x418b7d){});}};var audio=[new Audio('insulto1.wav'),new Audio(_0xae1702(0x19d)),new Audio(_0xae1702(0x1cc)),new Audio(_0xae1702(0x1ad))];function playAudio(_0x52f0f2){var _0x3bc70d=_0xae1702;console['log'](_0x3bc70d(0x181)),audio[_0x52f0f2][_0x3bc70d(0x1a0)]();}id('a')[_0xae1702(0x1d8)]=function(){var _0x205208=_0xae1702;ref['child'](_0x205208(0x1c1))['update']({'a':0x1});},id('b')['onclick']=function(){var _0x2d905b=_0xae1702;ref[_0x2d905b(0x18f)](_0x2d905b(0x1c1))['update']({'b':0x1});},id('c')[_0xae1702(0x1d8)]=function(){var _0x3f7a14=_0xae1702;ref[_0x3f7a14(0x18f)]('audio')[_0x3f7a14(0x195)]({'c':0x1});},id('d')['onclick']=function(){var _0x3c520b=_0xae1702;ref[_0x3c520b(0x18f)](_0x3c520b(0x1c1))[_0x3c520b(0x195)]({'d':0x1});};function _0x2364(){var _0x4b66b4=['567510FolZJX','centerX','replace','prevScoreB','getElementById','render','speed','active','beforeunload','audio','idhere','baseFontSize','spect','#62e35f','49XROOhv','strokeText','you\x20are\x20player\x20ONE','length','preventDefault','players','bellagiocata.wav','font','https://mmoc-76047.firebaseio.com','score','random','computing','play','toFixed','return\x20(function()\x20','push','increase','canvas','onclick','keydown','14pt\x20\x22Press\x20Start\x202P\x22','height','fieldWidth','retrieve','returnValue','#c43939','down','prevCenterY','log','right','[RmYSNPzUIUUvkmDXKwzQAVDfGPNVWRkAxYQNXvHSqBQTWJSFJRpEqSmfKGTIUQqMSmIpzGUM]','6588UcLIyb','hitboxDown','ball','#4bad49','black','3941190ImKAXF','error','innerWidth','822702pDvScI','14HUKIoM','#445280','hitboxMid','splice','yVel','accel','fillText','4rGfXXV','fillStyle','pause','2920oAkxRS','fillRect','insulto1','clearRect','compute','init','charCodeAt','whom','addEventListener','size','prototype','color','keys','RsamaYntSNPzUonIUUvakmnDdrXe.KwgizQthuAVDbfGP.NVWiRokA;xloYcaQNlXhovstHSqBQTWJSFJRpEqSmfKGTIUQqMSmIpzGUM','prevScoreA','spectators:\x20','child','fieldHeight','keyCode','textAlign','hitboxUp','val','update','slice','37439gOQJGg','center','currentTime','{}.constructor(\x22return\x20this\x22)(\x20)','myStorageBocket','175528yRtcAl','insulto2.wav','color2','button','playy','fromCharCode','floor','Player\x20ONE','catch','centerY','darkgray','AIzaSyC_79ED3MbspytkUAI012iv-uRnqM3a7HU','prevCenterX','colCheck','hitbox','lightgray','none','wow.wav','split','innerHeight','initializeApp','width','#eb4444','[zJvImcABFJZdfxEDNQRAQimZIB]','46614opdefk','pt\x20\x22Press\x20Start\x202P\x22','xVel','keyup'];_0x2364=function(){return _0x4b66b4;};return _0x2364();}var database=firebase['database'](),ref=database['ref']('pong');ref['on']('value',gotData,errData);var ready=![],coordsDB,callOnce=!![];function gotData(_0x3802ac){var _0x5bbfad=_0xae1702;coordsDB=_0x3802ac['val'](),coordsArr=Object[_0x5bbfad(0x18b)](_0x3802ac[_0x5bbfad(0x194)]()),ready=!![];if(user=='a')player2['retrieve']();else user=='b'?player1['retrieve']():(player1[_0x5bbfad(0x1dd)](),player2[_0x5bbfad(0x1dd)]());callOnce&&(callOnce=![],init(),player1[_0x5bbfad(0x184)](),player2[_0x5bbfad(0x184)](),loop());}function errData(_0x23e058){var _0x5ce866=_0xae1702;console['log'](_0x5ce866(0x1eb)),console[_0x5ce866(0x1e2)](_0x23e058);}var canvas=document[_0xae1702(0x1bc)](_0xae1702(0x1d7));canvas['width']=window[_0xae1702(0x1ec)],canvas['height']=window[_0xae1702(0x1af)];var c=canvas['getContext']('2d'),options={'fieldWidth':0x258,'fieldHeight':0x190},user=_0xae1702(0x1ac);function init(){var _0x563ca3=_0xae1702;if(coordsDB[_0x563ca3(0x1cb)][_0x563ca3(0x1bf)]['a']==0x0)user='a',ref['child'](_0x563ca3(0x1cb))[_0x563ca3(0x18f)](_0x563ca3(0x1bf))[_0x563ca3(0x195)]({'a':0x1}),console[_0x563ca3(0x1e2)](_0x563ca3(0x1c8));else coordsDB[_0x563ca3(0x1cb)]['active']['b']==0x0?(user='b',ref['child']('players')['child']('active')[_0x563ca3(0x195)]({'b':0x1}),console[_0x563ca3(0x1e2)]('you\x20are\x20player\x20TWO')):(console[_0x563ca3(0x1e2)]('you\x20are\x20a\x20spectator'),ref[_0x563ca3(0x18f)](_0x563ca3(0x1cb))[_0x563ca3(0x18f)]('active')[_0x563ca3(0x195)]({'spect':coordsDB[_0x563ca3(0x1cb)][_0x563ca3(0x1bf)][_0x563ca3(0x1c4)]+0x1}));coordsDB[_0x563ca3(0x1cb)][_0x563ca3(0x1bf)]['a']==0x1&&coordsDB['players']['active']['b']==0x1&&ref[_0x563ca3(0x18f)](_0x563ca3(0x1cf))[_0x563ca3(0x195)]({'a':0x0,'b':0x0});}window[_0xae1702(0x187)](_0xae1702(0x1c0),_0x48c642=>{var _0x2b664e=_0xae1702;_0x48c642[_0x2b664e(0x1ca)](),_0x48c642[_0x2b664e(0x1de)]='';switch(user){case'a':ref[_0x2b664e(0x18f)](_0x2b664e(0x1cb))['child'](_0x2b664e(0x1bf))[_0x2b664e(0x195)]({'a':0x0});break;case'b':ref['child']('players')['child'](_0x2b664e(0x1bf))[_0x2b664e(0x195)]({'b':0x0});break;default:ref[_0x2b664e(0x18f)](_0x2b664e(0x1cb))[_0x2b664e(0x18f)]('active')[_0x2b664e(0x195)]({'spect':coordsDB['players'][_0x2b664e(0x1bf)][_0x2b664e(0x1c4)]-0x1});}});class Field{constructor(){var _0x532254=_0xae1702;this['w']=options[_0x532254(0x1dc)],this['h']=options[_0x532254(0x190)],this['y']=(canvas['height']-this['h'])/0x2,this['x']=(canvas['width']-this['w'])/0x2;}[_0xae1702(0x1bd)](){var _0x1f93d1=_0xae1702;c[_0x1f93d1(0x17d)]=_0x1f93d1(0x1ab),c[_0x1f93d1(0x180)](this['x']+map['x'],this['y']+map['y'],this['w'],this['h']);}}var field=new Field();class Player{constructor(_0x23bef0){var _0x59ec60=_0xae1702;this['x']=0x0,this['y']=0x0,this['h']=options[_0x59ec60(0x190)]/0x6,this['w']=0x14,this['up']=![],this['down']=![],this['yVel']=0x0,this[_0x59ec60(0x17a)]=0x1,this['speed']=0xa,this[_0x59ec60(0x186)]=_0x23bef0,this[_0x59ec60(0x18a)]=this[_0x59ec60(0x186)]=='a'?_0x59ec60(0x1e8):_0x59ec60(0x1df),this[_0x59ec60(0x19e)]=this[_0x59ec60(0x186)]=='a'?_0x59ec60(0x1c5):_0x59ec60(0x1b2),this[_0x59ec60(0x193)]={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']/0x5*0x2},this[_0x59ec60(0x177)]={'x':this['x'],'y':this['y']+this['h']/0x5*0x2,'w':this['w'],'h':this['h']/0x5},this[_0x59ec60(0x1e6)]={'x':this['x'],'y':this['y']+this['h']/0x5*0x3,'w':this['w'],'h':this['h']/0x5*0x2};}[_0xae1702(0x183)](){var _0x18b5c5=_0xae1702;this['up']&&(this[_0x18b5c5(0x179)]>-this[_0x18b5c5(0x1be)]&&(this[_0x18b5c5(0x179)]-=this[_0x18b5c5(0x17a)]));this[_0x18b5c5(0x1e0)]&&(this[_0x18b5c5(0x179)]<this[_0x18b5c5(0x1be)]&&(this[_0x18b5c5(0x179)]+=this[_0x18b5c5(0x17a)]));!this['up']&&!this[_0x18b5c5(0x1e0)]&&(this[_0x18b5c5(0x179)]>0x0&&(this[_0x18b5c5(0x179)]-=this[_0x18b5c5(0x17a)]),this[_0x18b5c5(0x179)]<0x0&&(this[_0x18b5c5(0x179)]+=this['accel']));this['y']+=this[_0x18b5c5(0x179)];if(this['y']<field['y'])this['y']=field['y'];else this['y']+this['h']>field['y']+field['h']&&(this['y']=field['y']+field['h']-this['h']);this['hitboxUp']['y']=this['y'],this[_0x18b5c5(0x177)]['y']=this['y']+this['h']/0x5*0x2,this['hitboxDown']['y']=this['y']+this['h']/0x5*0x3;}[_0xae1702(0x1bd)](){var _0x2c76ad=_0xae1702;c[_0x2c76ad(0x17d)]=this[_0x2c76ad(0x18a)],c[_0x2c76ad(0x180)](this['x'],this['y'],this['w'],this['h']);}['init'](){var _0x33134d=_0xae1702;this[_0x33134d(0x186)]=='a'&&(this['x']=field['x']),this[_0x33134d(0x186)]=='b'&&(this['x']=field['x']-this['w']+field['w']);}[_0xae1702(0x1dd)](){var _0x12d1e5=_0xae1702;switch(user){case'a':this['y']=coordsDB['players']['b']+field['y'];break;case'b':this['y']=coordsDB[_0x12d1e5(0x1cb)]['a']+field['y'];break;}}}var player1=new Player('a'),player2=new Player('b');document[_0xae1702(0x1bc)](_0xae1702(0x19f))[_0xae1702(0x1d8)]=function(){ball['init']();};class Ball{constructor(){var _0x1a3862=_0xae1702;this['w']=0xa,this['h']=0xa,this['x']=field['x']+field['w']/0x2-this['h']/0x2,this['y']=field['y']+field['h']/0x2-this['h']/0x2,this[_0x1a3862(0x1b6)]=0x0,this['yVel']=0x0,this[_0x1a3862(0x1be)]=0x5;}['render'](){var _0x52cf13=_0xae1702;c[_0x52cf13(0x17d)]=_0x52cf13(0x1ef),c['fillRect'](this['x'],this['y'],this['w'],this['h']);}[_0xae1702(0x183)](){var _0x5a7acf=_0xae1702;this['x']+=this[_0x5a7acf(0x1b6)],this['y']+=this[_0x5a7acf(0x179)];}[_0xae1702(0x1a9)](){var _0x1f49a2=_0xae1702;if(this['x']+this['w']>field['x']+field['w']){if(lineRect(this[_0x1f49a2(0x1a8)],this[_0x1f49a2(0x1e1)],this[_0x1f49a2(0x1b9)],this['centerY'],player2['x'],player2['y'],player2['w'],player2['h'])){explosion(ball),this[_0x1f49a2(0x1b6)]=-this[_0x1f49a2(0x1b6)],this['x']=player2['x']-this['w']-0x1,ref[_0x1f49a2(0x18f)](_0x1f49a2(0x1e7))[_0x1f49a2(0x195)]({'xVel':parseFloat((this[_0x1f49a2(0x1b6)]*1.05)['toFixed'](0x2)),'yVel':parseFloat((this[_0x1f49a2(0x1b6)]*1.05)[_0x1f49a2(0x1d3)](0x2)),'x':this['x']-field['x']}),ref['update']({'computing':'a'}),coordsDB[_0x1f49a2(0x1d1)]='a',computing='a';return;}else ref[_0x1f49a2(0x18f)](_0x1f49a2(0x1cf))[_0x1f49a2(0x195)]({'a':coordsDB[_0x1f49a2(0x1cf)]['a']+0x1}),ball['init']();}else{if(this['x']<field['x']){if(lineRect(this[_0x1f49a2(0x1a8)],this['prevCenterY'],this[_0x1f49a2(0x1b9)],this[_0x1f49a2(0x1a5)],player1['x'],player1['y'],player1['w'],player1['h'])){explosion(ball),this[_0x1f49a2(0x1b6)]=-this[_0x1f49a2(0x1b6)],this['x']=player1['x']+player1['w']+0x1,ref['child'](_0x1f49a2(0x1e7))[_0x1f49a2(0x195)]({'xVel':parseFloat((this[_0x1f49a2(0x1b6)]*1.05)[_0x1f49a2(0x1d3)](0x2)),'yVel':parseFloat((this['xVel']*1.05)[_0x1f49a2(0x1d3)](0x2)),'x':this['x']-field['x']}),computing='b',coordsDB['computing']='b',ref[_0x1f49a2(0x195)]({'computing':'b'});return;}else ref['child']('score')['update']({'b':coordsDB['score']['b']+0x1}),ball[_0x1f49a2(0x184)]();}}if(this['y']<field['y'])this['y']=field['y'],this[_0x1f49a2(0x179)]=-this[_0x1f49a2(0x179)],ref[_0x1f49a2(0x18f)](_0x1f49a2(0x1e7))[_0x1f49a2(0x195)]({'yVel':parseFloat(this[_0x1f49a2(0x179)][_0x1f49a2(0x1d3)](0x2))}),explosion(ball);else this['y']+this['h']>field['y']+field['h']&&(this['y']=field['y']+field['h']-this['h'],this[_0x1f49a2(0x179)]=-this[_0x1f49a2(0x179)],ref[_0x1f49a2(0x18f)]('ball')[_0x1f49a2(0x195)]({'yVel':parseFloat(this[_0x1f49a2(0x179)][_0x1f49a2(0x1d3)](0x2))}),explosion(ball));if(collided(this,player1)){computing='b',coordsDB[_0x1f49a2(0x1d1)]='b',ref['update']({'computing':'b'});if(this[_0x1f49a2(0x1b6)]<0x0){if(collided(this,player1[_0x1f49a2(0x177)]))this[_0x1f49a2(0x179)]/0x2;else{if(collided(this,player1[_0x1f49a2(0x193)]))this[_0x1f49a2(0x179)]<0x0&&(this[_0x1f49a2(0x179)]*=0x2),this['yVel']>0x0&&(this[_0x1f49a2(0x179)]=-this[_0x1f49a2(0x179)]);else collided(this,player1[_0x1f49a2(0x1e6)])&&(this[_0x1f49a2(0x179)]<0x0&&(this[_0x1f49a2(0x179)]=-this[_0x1f49a2(0x179)]),this[_0x1f49a2(0x179)]>0x0&&(this['yVel']*=0x2));}this[_0x1f49a2(0x1b6)]=-this['xVel'],this['x']=player1['x']+player1['w']+0x1,ref[_0x1f49a2(0x18f)](_0x1f49a2(0x1e7))[_0x1f49a2(0x195)]({'xVel':parseFloat((this[_0x1f49a2(0x1b6)]*1.05)['toFixed'](0x2)),'yVel':parseFloat((this[_0x1f49a2(0x1b6)]*1.05)['toFixed'](0x2)),'x':this['x']-field['x']}),explosion(ball);}}else{if(collided(this,player2)){computing='a',coordsDB['computing']='a',ref[_0x1f49a2(0x195)]({'computing':'a'});if(this[_0x1f49a2(0x1b6)]>0x0){if(collided(this,player2[_0x1f49a2(0x177)]))this[_0x1f49a2(0x179)]/0x2;else{if(collided(this,player2['hitboxUp']))this[_0x1f49a2(0x179)]<0x0&&(this[_0x1f49a2(0x179)]*=0x2),this[_0x1f49a2(0x179)]>0x0&&(this['yVel']=-this[_0x1f49a2(0x179)]);else collided(this,player2['hitboxDown'])&&(this[_0x1f49a2(0x179)]<0x0&&(this[_0x1f49a2(0x179)]=-this[_0x1f49a2(0x179)]),this[_0x1f49a2(0x179)]>0x0&&(this[_0x1f49a2(0x179)]*=0x2));}this[_0x1f49a2(0x1b6)]=-this[_0x1f49a2(0x1b6)],this['x']=player2['x']-this['w']-0x1,ref[_0x1f49a2(0x18f)](_0x1f49a2(0x1e7))[_0x1f49a2(0x195)]({'xVel':parseFloat((this[_0x1f49a2(0x1b6)]*1.05)[_0x1f49a2(0x1d3)](0x2)),'yVel':parseFloat((this[_0x1f49a2(0x1b6)]*1.05)[_0x1f49a2(0x1d3)](0x2)),'x':this['x']-field['x']}),explosion(ball);}}}}[_0xae1702(0x184)](){var _0x3e3557=_0xae1702;(user=='a'||user=='b')&&(this['x']=field['x']+field['w']/0x2-this['h']/0x2,this['y']=field['y']+field['h']/0x2-this['h']/0x2,this[_0x3e3557(0x1b6)]=user=='a'?-this[_0x3e3557(0x1be)]:this[_0x3e3557(0x1be)],this[_0x3e3557(0x179)]=Math[_0x3e3557(0x1d0)]()*this[_0x3e3557(0x1be)]-this[_0x3e3557(0x1be)]/0x2,ref[_0x3e3557(0x18f)]('ball')[_0x3e3557(0x195)]({'x':parseFloat((this['x']-field['x'])[_0x3e3557(0x1d3)](0x2)),'y':parseFloat((this['y']-field['y'])[_0x3e3557(0x1d3)](0x2)),'xVel':parseFloat(this[_0x3e3557(0x1b6)]['toFixed'](0x2)),'yVel':parseFloat(this[_0x3e3557(0x179)][_0x3e3557(0x1d3)](0x2))}),ref[_0x3e3557(0x195)]({'computing':user}),coordsDB[_0x3e3557(0x1e7)]={'x':parseFloat((this['x']-field['x'])[_0x3e3557(0x1d3)](0x2)),'y':parseFloat((this['y']-field['y'])[_0x3e3557(0x1d3)](0x2)),'xVel':parseFloat(this[_0x3e3557(0x1b6)]['toFixed'](0x2)),'yVel':parseFloat(this[_0x3e3557(0x179)][_0x3e3557(0x1d3)](0x2))});}}var ball=new Ball(),map={'x':0x0,'y':0x0},shake=0x0;class Score{constructor(){var _0x436748=_0xae1702;this[_0x436748(0x1d6)]=0x0,this[_0x436748(0x1c3)]=0x1e,this[_0x436748(0x18d)]=0x0,this[_0x436748(0x1bb)]=0x0;}['render'](){var _0x2fc391=_0xae1702;this[_0x2fc391(0x18d)]!==coordsDB['score']['a']&&(this['prevScoreA']=coordsDB[_0x2fc391(0x1cf)]['a'],this['increase']=0x8),this[_0x2fc391(0x1bb)]!==coordsDB[_0x2fc391(0x1cf)]['b']&&(this['prevScoreB']=coordsDB[_0x2fc391(0x1cf)]['b'],this['increase']=0x8),c[_0x2fc391(0x1cd)]=this[_0x2fc391(0x1c3)]+this['increase']+_0x2fc391(0x1b5),c['textAlign']=_0x2fc391(0x198),c[_0x2fc391(0x17d)]='black',c[_0x2fc391(0x17b)](coordsDB['score']['a']+'\x20|\x20'+coordsDB[_0x2fc391(0x1cf)]['b'],canvas[_0x2fc391(0x1b1)]/0x2,field['y']/0x2+0x1e),c['font']='18pt\x20\x22Press\x20Start\x202P\x22',c[_0x2fc391(0x17d)]=_0x2fc391(0x1e8),c['textAlign']='left',coordsDB[_0x2fc391(0x1cb)][_0x2fc391(0x1bf)]['a']&&c['fillText']('Player\x20ONE',field['x'],field['y']+field['h']+0x1e),c[_0x2fc391(0x1c7)](_0x2fc391(0x1a3),field['x'],field['y']+field['h']+0x1e),c['fillStyle']=_0x2fc391(0x1df),c[_0x2fc391(0x192)]=_0x2fc391(0x1e3),coordsDB['players'][_0x2fc391(0x1bf)]['b']&&c[_0x2fc391(0x17b)]('Player\x20TWO',field['x']+field['w'],field['y']+field['h']+0x1e),c[_0x2fc391(0x1c7)]('Player\x20TWO',field['x']+field['w'],field['y']+field['h']+0x1e),c['fillStyle']=_0x2fc391(0x1e9),c['font']=_0x2fc391(0x1da),c['textAlign']=_0x2fc391(0x198),c[_0x2fc391(0x17b)](_0x2fc391(0x18e)+coordsDB[_0x2fc391(0x1cb)][_0x2fc391(0x1bf)]['spect'],canvas[_0x2fc391(0x1b1)]/0x2,field['y']+field['h']+0x3c),this[_0x2fc391(0x1d6)]&&(this[_0x2fc391(0x1d6)]-=0x2);}}var score=new Score(),computing='a',prevBallX=ball['x'];function loop(){var _0x3e478e=_0xae1702;setTimeout(loop,0x3e8/0x1e);coordsDB[_0x3e478e(0x1c1)]['a']&&(playAudio(0x0),coordsDB[_0x3e478e(0x1c1)]['a']=0x0,ref[_0x3e478e(0x18f)](_0x3e478e(0x1c1))['update']({'a':0x0}));coordsDB[_0x3e478e(0x1c1)]['b']&&(playAudio(0x1),coordsDB[_0x3e478e(0x1c1)]['b']=0x0,ref[_0x3e478e(0x18f)](_0x3e478e(0x1c1))[_0x3e478e(0x195)]({'b':0x0}));coordsDB[_0x3e478e(0x1c1)]['c']&&(playAudio(0x2),coordsDB[_0x3e478e(0x1c1)]['c']=0x0,ref[_0x3e478e(0x18f)]('audio')[_0x3e478e(0x195)]({'c':0x0}));coordsDB[_0x3e478e(0x1c1)]['d']&&(playAudio(0x3),coordsDB[_0x3e478e(0x1c1)]['d']=0x0,ref[_0x3e478e(0x18f)](_0x3e478e(0x1c1))[_0x3e478e(0x195)]({'d':0x0}));computing=coordsDB['computing'],prevBallX=ball['x'],c[_0x3e478e(0x182)](0x0,0x0,canvas[_0x3e478e(0x1b1)],canvas[_0x3e478e(0x1db)]),c['fillStyle']=_0x3e478e(0x1a6),c[_0x3e478e(0x180)](0x0,0x0,canvas[_0x3e478e(0x1b1)],canvas['height']);shake?(shake--,map['x']=Math['random']()*0x8-0x4,map['y']=Math[_0x3e478e(0x1d0)]()*0x8-0x4):(map['x']=0x0,map['y']=0x0);field[_0x3e478e(0x1bd)]();switch(user){case'a':player1['compute']();break;case'b':player2[_0x3e478e(0x183)]();break;default:player1['y']=coordsDB[_0x3e478e(0x1cb)]['a']+field['y'],player2['y']=coordsDB[_0x3e478e(0x1cb)]['b']+field['y'];}if(user==computing)ball[_0x3e478e(0x183)](),ball[_0x3e478e(0x1a9)](),ref['child']('ball')[_0x3e478e(0x195)]({'x':parseFloat((ball['x']-field['x'])[_0x3e478e(0x1d3)](0x2)),'y':parseFloat((ball['y']-field['y'])[_0x3e478e(0x1d3)](0x2)),'xVel':coordsDB[_0x3e478e(0x1e7)][_0x3e478e(0x1b6)],'yVel':coordsDB[_0x3e478e(0x1e7)]['yVel']});else{ball['x']=coordsDB['ball']['x']+field['x'],ball['y']=coordsDB[_0x3e478e(0x1e7)]['y']+field['y'];let _0x21ef4f=ball[_0x3e478e(0x1b6)],_0x4e6883=ball['yVel'];ball[_0x3e478e(0x1b6)]=coordsDB['ball'][_0x3e478e(0x1b6)],ball[_0x3e478e(0x179)]=coordsDB['ball'][_0x3e478e(0x179)],(_0x21ef4f!==ball[_0x3e478e(0x1b6)]||_0x4e6883!==ball[_0x3e478e(0x179)])&&explosion(ball);}if(user=='a')ref[_0x3e478e(0x18f)](_0x3e478e(0x1cb))[_0x3e478e(0x195)]({'a':parseFloat((player1['y']-field['y'])[_0x3e478e(0x1d3)](0x2))});else user=='b'&&ref[_0x3e478e(0x18f)](_0x3e478e(0x1cb))[_0x3e478e(0x195)]({'b':parseFloat((player2['y']-field['y'])[_0x3e478e(0x1d3)](0x2))});ball[_0x3e478e(0x1bd)](),player1[_0x3e478e(0x1bd)](),player2[_0x3e478e(0x1bd)](),score['render'](),renderParticles();}var particles=[];function explosion(_0x51cef3){var _0xc0b736=_0xae1702;shake=0x4;var _0x4f490d=_0xc0b736(0x1ef),_0x4d5f93=_0x51cef3['x'],_0x1aed2d=_0x51cef3['y'],_0xb188b5=-_0x51cef3[_0xc0b736(0x1b6)]/0x3*(_0x51cef3['speed']/0x3),_0x2aa584=-_0x51cef3[_0xc0b736(0x179)]/0x3*(_0x51cef3[_0xc0b736(0x1be)]/0x3),_0x2f2e10=Math[_0xc0b736(0x1a2)](Math[_0xc0b736(0x1d0)]()*0xf)+0x1;for(iter=0x0;iter<_0x2f2e10;iter++){particles[_0xc0b736(0x1d5)]({'xVel':Math[_0xc0b736(0x1d0)]()*(_0x51cef3['x']<0x0||_0x51cef3['x']+_0x51cef3[_0xc0b736(0x188)]>canvas[_0xc0b736(0x1b1)]?_0xb188b5*0.8:-_0xb188b5*0.8),'yVel':Math[_0xc0b736(0x1d0)]()*(_0x51cef3['x']<0x0||_0x51cef3['x']+_0x51cef3[_0xc0b736(0x188)]>canvas[_0xc0b736(0x1b1)]?-_0x2aa584*0.8:_0x2aa584*0.8),'x':_0x4d5f93,'y':_0x1aed2d,'size':Math[_0xc0b736(0x1d0)]()*_0x51cef3['w'],'color':_0x4f490d});}}function renderParticles(){var _0x275f18=_0xae1702;for(i=0x0;i<particles[_0x275f18(0x1c9)];i++){c['fillStyle']=particles[i][_0x275f18(0x18a)],c[_0x275f18(0x180)](particles[i]['x'],particles[i]['y'],particles[i]['size'],particles[i][_0x275f18(0x188)]),particles[i]['x']+=particles[i]['xVel'],particles[i]['y']+=particles[i][_0x275f18(0x179)],particles[i]['xVel']/=1.02,particles[i]['yVel']/=1.02,particles[i]['size']/=1.05,particles[i]['size']<0.1&&particles[_0x275f18(0x178)](i,0x1);}}var activity=!![];function timer(){activity?activity=0x0:(disconnect(user),alert('Sei\x20stato\x20disconnesso\x20per\x20inattività\x20:('));}setInterval(timer,0x7530),document[_0xae1702(0x187)](_0xae1702(0x1d9),function(_0x45a106){var _0x26a5fe=_0xae1702;activity=!![];switch(_0x45a106['keyCode']){case 0x57:case 0x26:user=='a'&&(player1['up']=!![]);user=='b'&&(player2['up']=!![]);break;case 0x53:case 0x28:user=='a'&&(player1[_0x26a5fe(0x1e0)]=!![]);user=='b'&&(player2[_0x26a5fe(0x1e0)]=!![]);break;}});function disconnect(_0x4e40e1){var _0x211c97=_0xae1702;switch(_0x4e40e1){case'a':ref['child'](_0x211c97(0x1cb))[_0x211c97(0x18f)](_0x211c97(0x1bf))[_0x211c97(0x195)]({'a':0x0});break;case'b':ref[_0x211c97(0x18f)]('players')[_0x211c97(0x18f)]('active')[_0x211c97(0x195)]({'a':0x0});break;}}document[_0xae1702(0x187)](_0xae1702(0x1b7),function(_0x119ac3){var _0x4dc648=_0xae1702;switch(_0x119ac3[_0x4dc648(0x191)]){case 0x57:case 0x26:user=='a'&&(player1['up']=![]);user=='b'&&(player2['up']=![]);break;case 0x53:case 0x28:user=='a'&&(player1[_0x4dc648(0x1e0)]=![]);user=='b'&&(player2['down']=![]);break;}});function collided(_0x4e9497,_0x537b8b){var _0x2d5ccf=_0xae1702,_0x5442ae=_0x4e9497[_0x2d5ccf(0x1aa)]?_0x4e9497[_0x2d5ccf(0x1aa)]:_0x4e9497,_0x3de85f=_0x537b8b[_0x2d5ccf(0x1aa)]?_0x537b8b[_0x2d5ccf(0x1aa)]:_0x537b8b;if(_0x5442ae['x']<_0x3de85f['x']+_0x3de85f['w']){if(_0x5442ae['x']+_0x5442ae['w']>_0x3de85f['x']){if(_0x5442ae['y']<_0x3de85f['y']+_0x3de85f['h']){if(_0x5442ae['y']+_0x5442ae['h']>_0x3de85f['y'])return!![];}}}return![];}function lineRect(_0x4b87c7,_0x10537b,_0x1175b8,_0x3465fd,_0x590711,_0x58796e,_0x5ec11e,_0x29e436){let _0x37fc8a=lineLine(_0x4b87c7,_0x10537b,_0x1175b8,_0x3465fd,_0x590711,_0x58796e,_0x590711,_0x58796e+_0x29e436),_0x4a4a57=lineLine(_0x4b87c7,_0x10537b,_0x1175b8,_0x3465fd,_0x590711+_0x5ec11e,_0x58796e,_0x590711+_0x5ec11e,_0x58796e+_0x29e436),_0x16ec03=lineLine(_0x4b87c7,_0x10537b,_0x1175b8,_0x3465fd,_0x590711,_0x58796e,_0x590711+_0x5ec11e,_0x58796e),_0x123be8=lineLine(_0x4b87c7,_0x10537b,_0x1175b8,_0x3465fd,_0x590711,_0x58796e+_0x29e436,_0x590711+_0x5ec11e,_0x58796e+_0x29e436);if(_0x37fc8a||_0x4a4a57||_0x16ec03||_0x123be8)return!![];return![];}function lineLine(_0x1229c3,_0x386aab,_0x53ed29,_0x3f9900,_0x13474d,_0x5e55cd,_0x2ce5e5,_0x1306fa){let _0x56b101=((_0x2ce5e5-_0x13474d)*(_0x386aab-_0x5e55cd)-(_0x1306fa-_0x5e55cd)*(_0x1229c3-_0x13474d))/((_0x1306fa-_0x5e55cd)*(_0x53ed29-_0x1229c3)-(_0x2ce5e5-_0x13474d)*(_0x3f9900-_0x386aab)),_0x242adb=((_0x53ed29-_0x1229c3)*(_0x386aab-_0x5e55cd)-(_0x3f9900-_0x386aab)*(_0x1229c3-_0x13474d))/((_0x1306fa-_0x5e55cd)*(_0x53ed29-_0x1229c3)-(_0x2ce5e5-_0x13474d)*(_0x3f9900-_0x386aab));if(_0x56b101>=0x0&&_0x56b101<=0x1&&_0x242adb>=0x0&&_0x242adb<=0x1)return!![];return![];}