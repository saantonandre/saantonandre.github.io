const _0x364d87=_0x480d;function _0x480d(_0x1e46ee,_0xec5f7e){const _0x47c608=_0x3a76();return _0x480d=function(_0x3269d2,_0x1bbc60){_0x3269d2=_0x3269d2-0x196;let _0x47d216=_0x47c608[_0x3269d2];return _0x47d216;},_0x480d(_0x1e46ee,_0xec5f7e);}(function(_0x227490,_0x3c6f10){const _0x235022=_0x480d,_0x3b4598=_0x227490();while(!![]){try{const _0x3b5f62=-parseInt(_0x235022(0x1a8))/0x1+-parseInt(_0x235022(0x19f))/0x2*(parseInt(_0x235022(0x1c8))/0x3)+parseInt(_0x235022(0x199))/0x4+-parseInt(_0x235022(0x1b8))/0x5+-parseInt(_0x235022(0x1c2))/0x6*(-parseInt(_0x235022(0x1a4))/0x7)+-parseInt(_0x235022(0x1cf))/0x8+parseInt(_0x235022(0x1c1))/0x9;if(_0x3b5f62===_0x3c6f10)break;else _0x3b4598['push'](_0x3b4598['shift']());}catch(_0x536991){_0x3b4598['push'](_0x3b4598['shift']());}}}(_0x3a76,0x3fd28));const _0x1bbc60=(function(){let _0x25d7c0=!![];return function(_0x588223,_0x4034aa){const _0x2b608b=_0x25d7c0?function(){const _0x393a16=_0x480d;if(_0x4034aa){const _0x56b6e6=_0x4034aa[_0x393a16(0x1a0)](_0x588223,arguments);return _0x4034aa=null,_0x56b6e6;}}:function(){};return _0x25d7c0=![],_0x2b608b;};}()),_0x3269d2=_0x1bbc60(this,function(){const _0x2c453e=_0x480d;let _0x1b33c8;try{const _0x6cbc6c=Function(_0x2c453e(0x1d7)+_0x2c453e(0x1b3)+');');_0x1b33c8=_0x6cbc6c();}catch(_0x3c95fa){_0x1b33c8=window;}const _0x3ac2f6=new RegExp(_0x2c453e(0x1b2),'g'),_0x39fb5b=_0x2c453e(0x1c7)[_0x2c453e(0x198)](_0x3ac2f6,'')[_0x2c453e(0x1a3)](';');let _0x143a0b,_0x2abb01,_0xb9f2c1,_0x2646a6;const _0xa31889=function(_0x153593,_0x84c032,_0x442aee){const _0x2967a2=_0x2c453e;if(_0x153593[_0x2967a2(0x1af)]!=_0x84c032)return![];for(let _0x175d8e=0x0;_0x175d8e<_0x84c032;_0x175d8e++){for(let _0x1007e1=0x0;_0x1007e1<_0x442aee['length'];_0x1007e1+=0x2){if(_0x175d8e==_0x442aee[_0x1007e1]&&_0x153593[_0x2967a2(0x1d3)](_0x175d8e)!=_0x442aee[_0x1007e1+0x1])return![];}}return!![];},_0x54637d=function(_0x513483,_0x1e7064,_0x37d130){return _0xa31889(_0x1e7064,_0x37d130,_0x513483);},_0xfe517=function(_0x1968a1,_0x287501,_0x54af8a){return _0x54637d(_0x287501,_0x1968a1,_0x54af8a);},_0x17adbe=function(_0x593dac,_0x43e9ec,_0x16bd5a){return _0xfe517(_0x43e9ec,_0x16bd5a,_0x593dac);};for(let _0x5165b4 in _0x1b33c8){if(_0xa31889(_0x5165b4,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x143a0b=_0x5165b4;break;}}for(let _0x4013af in _0x1b33c8[_0x143a0b]){if(_0x17adbe(0x6,_0x4013af,[0x5,0x6e,0x0,0x64])){_0x2abb01=_0x4013af;break;}}for(let _0x32c4b7 in _0x1b33c8[_0x143a0b]){if(_0xfe517(_0x32c4b7,[0x7,0x6e,0x0,0x6c],0x8)){_0xb9f2c1=_0x32c4b7;break;}}if(!('~'>_0x2abb01))for(let _0x50e9ed in _0x1b33c8[_0x143a0b][_0xb9f2c1]){if(_0x54637d([0x7,0x65,0x0,0x68],_0x50e9ed,0x8)){_0x2646a6=_0x50e9ed;break;}}if(!_0x143a0b||!_0x1b33c8[_0x143a0b])return;const _0x2b7e0b=_0x1b33c8[_0x143a0b][_0x2abb01],_0x36c3cf=!!_0x1b33c8[_0x143a0b][_0xb9f2c1]&&_0x1b33c8[_0x143a0b][_0xb9f2c1][_0x2646a6],_0x464ce7=_0x2b7e0b||_0x36c3cf;if(!_0x464ce7)return;let _0xca8f32=![];for(let _0x135c82=0x0;_0x135c82<_0x39fb5b[_0x2c453e(0x1af)];_0x135c82++){const _0x463f6c=_0x39fb5b[_0x135c82],_0x3b377e=_0x463f6c[0x0]===String[_0x2c453e(0x1b4)](0x2e)?_0x463f6c[_0x2c453e(0x1ad)](0x1):_0x463f6c,_0x3c784e=_0x464ce7[_0x2c453e(0x1af)]-_0x3b377e[_0x2c453e(0x1af)],_0x239530=_0x464ce7[_0x2c453e(0x1cc)](_0x3b377e,_0x3c784e),_0x2bd7e8=_0x239530!==-0x1&&_0x239530===_0x3c784e;_0x2bd7e8&&((_0x464ce7[_0x2c453e(0x1af)]==_0x463f6c[_0x2c453e(0x1af)]||_0x463f6c[_0x2c453e(0x1cc)]('.')===0x0)&&(_0xca8f32=!![]));}if(!_0xca8f32){const _0x1ab0bb=new RegExp('[PxeEchBWBFTiAPjvDSqsfXiMRHQv]','g'),_0x4d0b90=_0x2c453e(0x1ca)[_0x2c453e(0x198)](_0x1ab0bb,'');_0x1b33c8[_0x143a0b][_0xb9f2c1]=_0x4d0b90;}});_0x3269d2();function _0x3a76(){const _0x2b5aa2=['cyan','223072ldATVh','canRotate','pushAtPos','purple','formation','slice','speed','length','moveLeft','render','[NPIOEMFMAGmjmFYFVqfEZUmpZPDSRBFJCNVBqKDMOMWNfkWfApHzzfOqfMGTymFvGxxp]','{}.constructor(\x22return\x20this\x22)(\x20)','fromCharCode','cellSize','ticks','strokeStyle','1253665utKXLO','push','beginPath','compute','cols','score','tetromino','checkLines','cells','6994485ljXPDr','6ziKgEU','rot','clearAtPos','initialX','counter','sNPIOaEMFaMntoAnGanmjdre.mFgYFiVqthfEuZUmpZPDSRbBFJC.iNVoB;lqoKcaDMlhOostMWNfkWfApHzzfOqfMGTymFvGxxp','1251732FLmSEx','shape','aPxboute:EcbhlaBnWkBFTiAPjvDSqsfXiMRHQv','yellow','indexOf','checkCols','shapes','1062024dgXNbp','blue','addEventListener','nextShape','charCodeAt','fillRect','moveRight','initBoard','return\x20(function()\x20','green','hardDrop','initialY','orange','replace','380716etzYqJ','which','black','random','updateFormation','colors','2fHCMlH','apply','closePath','fillStyle','split','2890118xLnTNv','splice','red'];_0x3a76=function(){return _0x2b5aa2;};return _0x3a76();}class Tetromino{constructor(){const _0x4e97a3=_0x480d;this['initialX']=0x5,this[_0x4e97a3(0x196)]=0x0,this['x']=this[_0x4e97a3(0x1c5)],this['y']=this['initialY'],this[_0x4e97a3(0x1c9)],this[_0x4e97a3(0x1ac)]=[],this[_0x4e97a3(0x1c3)]=0x0,this['shapes']=['I','O','Z','ZR','L','LR','T'];let _0x590443=[[[0x1,0x1],[0x1,0x1]]],_0xdeb927=[[[0x2],[0x2],[0x2],[0x2]],[[0x2,0x2,0x2,0x2]]],_0x4fd6d8=[[[0x3],[0x3],[0x3,0x3]],[[0x3,0x3,0x3],[0x3]],[[0x3,0x3],[0x0,0x3],[0x0,0x3]],[[0x0,0x0,0x3],[0x3,0x3,0x3]]],_0x261eef=[[[0x0,0x4],[0x0,0x4],[0x4,0x4]],[[0x4],[0x4,0x4,0x4]],[[0x4,0x4],[0x4],[0x4]],[[0x4,0x4,0x4],[0x0,0x0,0x4]]],_0x39a031=[[[0x5,0x5],[0x0,0x5,0x5]],[[0x0,0x5],[0x5,0x5],[0x5]]],_0x378026=[[[0x0,0x6,0x6],[0x6,0x6]],[[0x6],[0x6,0x6],[0x0,0x6]]],_0x1e7f1e=[[[0x7,0x7,0x7],[0x0,0x7]],[[0x0,0x7],[0x7,0x7],[0x0,0x7]],[[0x0,0x7],[0x7,0x7,0x7]],[[0x7],[0x7,0x7],[0x7]]];this[_0x4e97a3(0x1ce)]=[],this['shapes']['push'](_0x1e7f1e),this[_0x4e97a3(0x1ce)][_0x4e97a3(0x1b9)](_0xdeb927),this[_0x4e97a3(0x1ce)][_0x4e97a3(0x1b9)](_0x590443),this[_0x4e97a3(0x1ce)]['push'](_0x39a031),this[_0x4e97a3(0x1ce)][_0x4e97a3(0x1b9)](_0x378026),this['shapes'][_0x4e97a3(0x1b9)](_0x4fd6d8),this[_0x4e97a3(0x1ce)]['push'](_0x261eef),this[_0x4e97a3(0x1d2)]();}[_0x364d87(0x1d2)](){const _0x1a0343=_0x364d87;this[_0x1a0343(0x1c9)]=this[_0x1a0343(0x1ce)][Math[_0x1a0343(0x19c)]()*0x7|0x0],this[_0x1a0343(0x1c3)]=0x0,this[_0x1a0343(0x19d)]();}['updateFormation'](){const _0x13a3e3=_0x364d87;this[_0x13a3e3(0x1ac)]=this[_0x13a3e3(0x1c9)][this[_0x13a3e3(0x1c3)]][_0x13a3e3(0x1ad)]();}}class Tetris{constructor(){const _0x3b8050=_0x364d87;this[_0x3b8050(0x1b5)]=0x19,this['cellsValue']=0x2,this[_0x3b8050(0x1ae)]=0x1,this[_0x3b8050(0x1c0)]=[],this['tetromino']=new Tetromino(),this['colors']=[_0x3b8050(0x1cb),_0x3b8050(0x1a7),_0x3b8050(0x197),_0x3b8050(0x1d0),_0x3b8050(0x1a6),_0x3b8050(0x1d8),_0x3b8050(0x1ab)],this['w']=0xc,this['h']=0x16,this[_0x3b8050(0x1bd)]=0x0,this['ticks']=0x1e,this[_0x3b8050(0x1c6)]=0x0,this['cols']={'L':0x0,'R':0x0,'T':0x0,'B':0x0},document[_0x3b8050(0x1d1)]('keyup',function(_0x4c5508){const _0x1f377f=_0x3b8050;let _0x41a39f=_0x4c5508[_0x1f377f(0x19a)];switch(_0x41a39f){case 0x25:tetris[_0x1f377f(0x1b0)]();break;case 0x26:tetris['rotate']();break;case 0x27:tetris[_0x1f377f(0x1d5)]();break;case 0x28:tetris[_0x1f377f(0x1d9)]();break;}}),this[_0x3b8050(0x1d6)](),this[_0x3b8050(0x1aa)](this['tetromino']['x'],this[_0x3b8050(0x1be)]['y']);}[_0x364d87(0x1d6)](){const _0x3bc561=_0x364d87;this[_0x3bc561(0x1c0)]=[];for(let _0x13ecde=0x0;_0x13ecde<this['w'];_0x13ecde++){this['cells'][_0x3bc561(0x1b9)]([]);for(let _0x26f6ea=0x0;_0x26f6ea<this['h'];_0x26f6ea++){this[_0x3bc561(0x1c0)][_0x13ecde][_0x3bc561(0x1b9)](0x0);}}}[_0x364d87(0x1aa)](_0x3318aa,_0x4cc7af){const _0x3c9f6d=_0x364d87;for(let _0xcec4a0=0x0;_0xcec4a0<this['tetromino'][_0x3c9f6d(0x1ac)][_0x3c9f6d(0x1af)];_0xcec4a0++){for(let _0x3113c7=0x0;_0x3113c7<this[_0x3c9f6d(0x1be)][_0x3c9f6d(0x1ac)][_0xcec4a0][_0x3c9f6d(0x1af)];_0x3113c7++){if(this[_0x3c9f6d(0x1be)][_0x3c9f6d(0x1ac)][_0xcec4a0][_0x3113c7]==0x0)continue;this[_0x3c9f6d(0x1c0)][_0x3318aa+_0x3113c7][_0x4cc7af+_0xcec4a0]=this[_0x3c9f6d(0x1be)][_0x3c9f6d(0x1ac)][_0xcec4a0][_0x3113c7];}}}[_0x364d87(0x1c4)](_0x111c89,_0x3940b8){const _0x4dd7c3=_0x364d87;for(let _0x32cbf2=0x0;_0x32cbf2<this[_0x4dd7c3(0x1be)][_0x4dd7c3(0x1ac)][_0x4dd7c3(0x1af)];_0x32cbf2++){for(let _0x4ab360=0x0;_0x4ab360<this[_0x4dd7c3(0x1be)]['formation'][_0x32cbf2][_0x4dd7c3(0x1af)];_0x4ab360++){this['tetromino'][_0x4dd7c3(0x1ac)][_0x32cbf2][_0x4ab360]&&(this[_0x4dd7c3(0x1c0)][_0x111c89+_0x4ab360][_0x3940b8+_0x32cbf2]=0x0);}}}[_0x364d87(0x1d9)](){const _0x25261c=_0x364d87;while(!this['cols']['B']){this[_0x25261c(0x1bb)]();}}[_0x364d87(0x1cd)](){const _0x2fdf49=_0x364d87;this[_0x2fdf49(0x1c4)](this['tetromino']['x'],this[_0x2fdf49(0x1be)]['y']);let _0x18b22f=this[_0x2fdf49(0x1be)][_0x2fdf49(0x1ac)],_0x3cffcf=this[_0x2fdf49(0x1be)]['x'],_0x4e1c3a=this[_0x2fdf49(0x1be)]['y'];this[_0x2fdf49(0x1bc)]['L']=0x0,this[_0x2fdf49(0x1bc)]['R']=0x0,this[_0x2fdf49(0x1bc)]['T']=0x0,this['cols']['B']=0x0;for(let _0x4408e6=0x0;_0x4408e6<_0x18b22f[_0x2fdf49(0x1af)];_0x4408e6++){for(let _0x291048=0x0;_0x291048<_0x18b22f[_0x4408e6][_0x2fdf49(0x1af)];_0x291048++){if(_0x18b22f[_0x4408e6][_0x291048]==0x0)continue;if(_0x291048+_0x3cffcf-0x1<0x0)this[_0x2fdf49(0x1bc)]['L']=0x1;else this[_0x2fdf49(0x1c0)][_0x291048+_0x3cffcf-0x1][_0x4408e6+_0x4e1c3a]&&(this[_0x2fdf49(0x1bc)]['L']=0x1);if(_0x291048+_0x3cffcf+0x1>=this['w'])this[_0x2fdf49(0x1bc)]['R']=0x1;else this['cells'][_0x291048+_0x3cffcf+0x1][_0x4408e6+_0x4e1c3a]&&(this[_0x2fdf49(0x1bc)]['R']=0x1);if(_0x4408e6+_0x4e1c3a-0x1<0x0)this[_0x2fdf49(0x1bc)]['T']=0x1;else this[_0x2fdf49(0x1c0)][_0x291048+_0x3cffcf][_0x4408e6+_0x4e1c3a-0x1]&&(this['cols']['T']=0x1);if(_0x4408e6+_0x4e1c3a+0x1>=this['h'])this['cols']['B']=0x1;else this['cells'][_0x291048+_0x3cffcf][_0x4408e6+_0x4e1c3a+0x1]&&(this[_0x2fdf49(0x1bc)]['B']=0x1);}}this[_0x2fdf49(0x1aa)](this[_0x2fdf49(0x1be)]['x'],this[_0x2fdf49(0x1be)]['y']);}[_0x364d87(0x1a9)](){const _0x30e286=_0x364d87;this[_0x30e286(0x1c4)](this[_0x30e286(0x1be)]['x'],this[_0x30e286(0x1be)]['y']);let _0x4b9488=this[_0x30e286(0x1be)][_0x30e286(0x1c3)]+0x1;_0x4b9488>=this[_0x30e286(0x1be)]['shape'][_0x30e286(0x1af)]&&(_0x4b9488=0x0);let _0x5ab877=this['tetromino'][_0x30e286(0x1c9)][_0x4b9488],_0x17fad5=this['tetromino']['x'],_0x2d1924=this[_0x30e286(0x1be)]['y'];for(let _0x19f1e2=0x0;_0x19f1e2<_0x5ab877['length'];_0x19f1e2++){for(let _0x12cfca=0x0;_0x12cfca<_0x5ab877[_0x19f1e2][_0x30e286(0x1af)];_0x12cfca++){if(_0x5ab877[_0x19f1e2][_0x12cfca]==0x0)continue;if(_0x19f1e2+_0x2d1924<0x0||_0x19f1e2+_0x2d1924>=this['h']||_0x12cfca+_0x17fad5<0x0||_0x12cfca+_0x17fad5>=this['w'])return this['pushAtPos'](this['tetromino']['x'],this[_0x30e286(0x1be)]['y']),![];else{if(this['cells'][_0x12cfca+_0x17fad5][_0x19f1e2+_0x2d1924])return this[_0x30e286(0x1aa)](this[_0x30e286(0x1be)]['x'],this['tetromino']['y']),![];}}}return this[_0x30e286(0x1aa)](this[_0x30e286(0x1be)]['x'],this[_0x30e286(0x1be)]['y']),!![];}['moveLeft'](){const _0x2abc64=_0x364d87;if(this[_0x2abc64(0x1bc)]['L'])return;this['clearAtPos'](this[_0x2abc64(0x1be)]['x'],this[_0x2abc64(0x1be)]['y']),this[_0x2abc64(0x1be)]['x']--,this[_0x2abc64(0x1aa)](this[_0x2abc64(0x1be)]['x'],this[_0x2abc64(0x1be)]['y']),this[_0x2abc64(0x1cd)]();}[_0x364d87(0x1d5)](){const _0x171e61=_0x364d87;if(this['cols']['R'])return;this[_0x171e61(0x1c4)](this[_0x171e61(0x1be)]['x'],this[_0x171e61(0x1be)]['y']),this['tetromino']['x']++,this['pushAtPos'](this[_0x171e61(0x1be)]['x'],this['tetromino']['y']),this[_0x171e61(0x1cd)]();}['rotate'](){const _0x5ce7f2=_0x364d87;if(!this[_0x5ce7f2(0x1a9)]())return;this[_0x5ce7f2(0x1c4)](this[_0x5ce7f2(0x1be)]['x'],this[_0x5ce7f2(0x1be)]['y']),this[_0x5ce7f2(0x1be)][_0x5ce7f2(0x1c3)]++,this[_0x5ce7f2(0x1be)][_0x5ce7f2(0x1c3)]>this['tetromino'][_0x5ce7f2(0x1c9)][_0x5ce7f2(0x1af)]-0x1&&(this[_0x5ce7f2(0x1be)][_0x5ce7f2(0x1c3)]=0x0),this[_0x5ce7f2(0x1be)][_0x5ce7f2(0x19d)](),this[_0x5ce7f2(0x1aa)](this[_0x5ce7f2(0x1be)]['x'],this['tetromino']['y']),this[_0x5ce7f2(0x1cd)]();}[_0x364d87(0x1bf)](){const _0x4f0b30=_0x364d87;for(let _0x343c73=0x0;_0x343c73<this['h'];_0x343c73++){let _0x37a9c3=!![];for(let _0x437253=0x0;_0x437253<this['w'];_0x437253++){this[_0x4f0b30(0x1c0)][_0x437253][_0x343c73]==0x0&&(_0x37a9c3=![]);}if(_0x37a9c3){for(let _0x281e8c=0x0;_0x281e8c<this['w'];_0x281e8c++){this['cells'][_0x281e8c]['splice'](_0x343c73,0x1),this[_0x4f0b30(0x1c0)][_0x281e8c][_0x4f0b30(0x1a5)](0x0,0x0,0x0);}this[_0x4f0b30(0x1bf)]();return;}}}[_0x364d87(0x1bb)](){const _0x53fffb=_0x364d87;this['cols']['B']?(this[_0x53fffb(0x1be)]['x']=this['tetromino'][_0x53fffb(0x1c5)],this[_0x53fffb(0x1be)]['y']=this[_0x53fffb(0x1be)][_0x53fffb(0x196)],this[_0x53fffb(0x1be)][_0x53fffb(0x1d2)](),this['pushAtPos'](this['tetromino']['x'],this[_0x53fffb(0x1be)]['y']),this[_0x53fffb(0x1cd)](),this[_0x53fffb(0x1bf)]()):(this[_0x53fffb(0x1c4)](this['tetromino']['x'],this[_0x53fffb(0x1be)]['y']),this[_0x53fffb(0x1be)]['y']++,this[_0x53fffb(0x1aa)](this['tetromino']['x'],this[_0x53fffb(0x1be)]['y']),this['checkCols'](),this[_0x53fffb(0x1bf)]());}[_0x364d87(0x1b1)](){const _0x1f6b87=_0x364d87;this[_0x1f6b87(0x1c6)]++;this['counter']>=this[_0x1f6b87(0x1b6)]&&(this['counter']=0x0,this['compute']());c[_0x1f6b87(0x1a2)]=_0x1f6b87(0x19b),c[_0x1f6b87(0x1d4)](0x0,0x0,this['w']*this[_0x1f6b87(0x1b5)],this['h']*this[_0x1f6b87(0x1b5)]);for(let _0x2b9cbe=0x0;_0x2b9cbe<this['w'];_0x2b9cbe++){for(let _0x439841=0x0;_0x439841<this['h'];_0x439841++){this[_0x1f6b87(0x1c0)][_0x2b9cbe][_0x439841]!=0x0&&(c[_0x1f6b87(0x1a2)]=this[_0x1f6b87(0x19e)][this[_0x1f6b87(0x1c0)][_0x2b9cbe][_0x439841]-0x1],c[_0x1f6b87(0x1d4)](_0x2b9cbe*this['cellSize'],_0x439841*this[_0x1f6b87(0x1b5)],this[_0x1f6b87(0x1b5)],this[_0x1f6b87(0x1b5)])),c[_0x1f6b87(0x1b7)]=_0x1f6b87(0x19b),c[_0x1f6b87(0x1ba)](),c['rect'](_0x2b9cbe*this[_0x1f6b87(0x1b5)],_0x439841*this[_0x1f6b87(0x1b5)],this[_0x1f6b87(0x1b5)],this[_0x1f6b87(0x1b5)]),c[_0x1f6b87(0x1a1)](),c['stroke']();}}}}