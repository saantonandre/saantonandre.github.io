const _0x52a6a1=_0x221f;function _0x4a7f(){const _0x34389a=['counter','speed','initialY','clearAtPos','4034WIyeQV','452NMwwlC','render','284952ufmpso','split','replace','checkCols','fillRect','initBoard','indexOf','[ROwJcWsOVjiFZgyjONAsWxNZjQUgM]','strokeStyle','slice','pushAtPos','fromCharCode','which','canRotate','1915cTPsuC','apply','2082872etAfyA','formation','cellSize','initialX','shapes','nextShape','charCodeAt','score','21837Xjsnou','colors','cells','rot','blue','length','4390920NRQLkm','splice','moveRight','beginPath','ticks','black','cols','shape','[EQJYODXZNTvfxITwjXDCpDJNOSOMOHwOXPAJIQGxwADIECWVSNHXGfCDJBAUPwW]','return\x20(function()\x20','compute','rotate','updateFormation','moveLeft','3019688nvluon','yellow','cyan','{}.constructor(\x22return\x20this\x22)(\x20)','9xqSCtX','rect','hardDrop','99PgFRPJ','fillStyle','12408TnMRnZ','201DfyQNK','closePath','checkLines','tetromino','push'];_0x4a7f=function(){return _0x34389a;};return _0x4a7f();}(function(_0xa141ed,_0x14c857){const _0x37242d=_0x221f,_0x4c2b46=_0xa141ed();while(!![]){try{const _0x1ee84c=-parseInt(_0x37242d(0x155))/0x1*(parseInt(_0x37242d(0x15e))/0x2)+parseInt(_0x37242d(0x179))/0x3*(parseInt(_0x37242d(0x15f))/0x4)+parseInt(_0x37242d(0x16f))/0x5*(-parseInt(_0x37242d(0x154))/0x6)+parseInt(_0x37242d(0x14b))/0x7+-parseInt(_0x37242d(0x171))/0x8*(parseInt(_0x37242d(0x14f))/0x9)+parseInt(_0x37242d(0x17f))/0xa+-parseInt(_0x37242d(0x152))/0xb*(-parseInt(_0x37242d(0x161))/0xc);if(_0x1ee84c===_0x14c857)break;else _0x4c2b46['push'](_0x4c2b46['shift']());}catch(_0x91a903){_0x4c2b46['push'](_0x4c2b46['shift']());}}}(_0x4a7f,0x6d981));const _0x5e4f53=(function(){let _0x966042=!![];return function(_0x3f1dc1,_0x48e6c5){const _0xe02097=_0x966042?function(){const _0xb16c9f=_0x221f;if(_0x48e6c5){const _0x442989=_0x48e6c5[_0xb16c9f(0x170)](_0x3f1dc1,arguments);return _0x48e6c5=null,_0x442989;}}:function(){};return _0x966042=![],_0xe02097;};}()),_0x112d5c=_0x5e4f53(this,function(){const _0x582920=_0x221f,_0x529bd2=function(){const _0x140f8a=_0x221f;let _0x45628f;try{_0x45628f=Function(_0x140f8a(0x146)+_0x140f8a(0x14e)+');')();}catch(_0xde2bd0){_0x45628f=window;}return _0x45628f;},_0x4f332a=_0x529bd2(),_0x1b3b69=new RegExp(_0x582920(0x145),'g'),_0x75a36e='EsQaJantonYODaXZnNdrTvfxIe.TwgijXDthubCpD.JiNo;OSOlMocOHawOlhXostPAJIQGxwADIECWVSNHXGfCDJBAUPwW'[_0x582920(0x163)](_0x1b3b69,'')[_0x582920(0x162)](';');let _0x3a7a15,_0x10a564,_0x2ef55c,_0x36e50c;const _0x4dec35=function(_0x391b3b,_0x3e2f52,_0x33ebf2){const _0x35d248=_0x582920;if(_0x391b3b[_0x35d248(0x17e)]!=_0x3e2f52)return![];for(let _0xd3bc38=0x0;_0xd3bc38<_0x3e2f52;_0xd3bc38++){for(let _0x352d84=0x0;_0x352d84<_0x33ebf2[_0x35d248(0x17e)];_0x352d84+=0x2){if(_0xd3bc38==_0x33ebf2[_0x352d84]&&_0x391b3b[_0x35d248(0x177)](_0xd3bc38)!=_0x33ebf2[_0x352d84+0x1])return![];}}return!![];},_0x33b270=function(_0x1142a0,_0x3e4094,_0x22d122){return _0x4dec35(_0x3e4094,_0x22d122,_0x1142a0);},_0x2035bc=function(_0x4bf972,_0x9f4248,_0x97ae0d){return _0x33b270(_0x9f4248,_0x4bf972,_0x97ae0d);},_0x317abf=function(_0xa9f2dc,_0x322e99,_0x3cbad5){return _0x2035bc(_0x322e99,_0x3cbad5,_0xa9f2dc);};for(let _0x4ac021 in _0x4f332a){if(_0x4dec35(_0x4ac021,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3a7a15=_0x4ac021;break;}}for(let _0x24286b in _0x4f332a[_0x3a7a15]){if(_0x317abf(0x6,_0x24286b,[0x5,0x6e,0x0,0x64])){_0x10a564=_0x24286b;break;}}for(let _0x39721a in _0x4f332a[_0x3a7a15]){if(_0x2035bc(_0x39721a,[0x7,0x6e,0x0,0x6c],0x8)){_0x2ef55c=_0x39721a;break;}}if(!('~'>_0x10a564))for(let _0x3d1cfe in _0x4f332a[_0x3a7a15][_0x2ef55c]){if(_0x33b270([0x7,0x65,0x0,0x68],_0x3d1cfe,0x8)){_0x36e50c=_0x3d1cfe;break;}}if(!_0x3a7a15||!_0x4f332a[_0x3a7a15])return;const _0x1b900b=_0x4f332a[_0x3a7a15][_0x10a564],_0x31a995=!!_0x4f332a[_0x3a7a15][_0x2ef55c]&&_0x4f332a[_0x3a7a15][_0x2ef55c][_0x36e50c],_0xc5f2a=_0x1b900b||_0x31a995;if(!_0xc5f2a)return;let _0x528a0d=![];for(let _0x303303=0x0;_0x303303<_0x75a36e[_0x582920(0x17e)];_0x303303++){const _0x7af29=_0x75a36e[_0x303303],_0x3e340e=_0x7af29[0x0]===String[_0x582920(0x16c)](0x2e)?_0x7af29['slice'](0x1):_0x7af29,_0x665f4b=_0xc5f2a[_0x582920(0x17e)]-_0x3e340e[_0x582920(0x17e)],_0x1c02bd=_0xc5f2a['indexOf'](_0x3e340e,_0x665f4b),_0x33cee5=_0x1c02bd!==-0x1&&_0x1c02bd===_0x665f4b;_0x33cee5&&((_0xc5f2a[_0x582920(0x17e)]==_0x7af29[_0x582920(0x17e)]||_0x7af29[_0x582920(0x167)]('.')===0x0)&&(_0x528a0d=!![]));}if(!_0x528a0d){const _0x5b3ba1=new RegExp(_0x582920(0x168),'g'),_0x300c73='RabOowJcWsut:bOlVjaiFZgynjkONAsWxNZjQUgM'[_0x582920(0x163)](_0x5b3ba1,'');_0x4f332a[_0x3a7a15][_0x2ef55c]=_0x300c73;}});_0x112d5c();class Tetromino{constructor(){const _0x30adbb=_0x221f;this[_0x30adbb(0x174)]=0x5,this[_0x30adbb(0x15c)]=0x0,this['x']=this[_0x30adbb(0x174)],this['y']=this[_0x30adbb(0x15c)],this[_0x30adbb(0x186)],this[_0x30adbb(0x172)]=[],this[_0x30adbb(0x17c)]=0x0,this[_0x30adbb(0x175)]=['I','O','Z','ZR','L','LR','T'];let _0x38822d=[[[0x1,0x1],[0x1,0x1]]],_0x24743e=[[[0x2],[0x2],[0x2],[0x2]],[[0x2,0x2,0x2,0x2]]],_0x4ad37a=[[[0x3],[0x3],[0x3,0x3]],[[0x3,0x3,0x3],[0x3]],[[0x3,0x3],[0x0,0x3],[0x0,0x3]],[[0x0,0x0,0x3],[0x3,0x3,0x3]]],_0x143ce1=[[[0x0,0x4],[0x0,0x4],[0x4,0x4]],[[0x4],[0x4,0x4,0x4]],[[0x4,0x4],[0x4],[0x4]],[[0x4,0x4,0x4],[0x0,0x0,0x4]]],_0x2f82ca=[[[0x5,0x5],[0x0,0x5,0x5]],[[0x0,0x5],[0x5,0x5],[0x5]]],_0x190fac=[[[0x0,0x6,0x6],[0x6,0x6]],[[0x6],[0x6,0x6],[0x0,0x6]]],_0x37fa77=[[[0x7,0x7,0x7],[0x0,0x7]],[[0x0,0x7],[0x7,0x7],[0x0,0x7]],[[0x0,0x7],[0x7,0x7,0x7]],[[0x7],[0x7,0x7],[0x7]]];this[_0x30adbb(0x175)]=[],this[_0x30adbb(0x175)][_0x30adbb(0x159)](_0x37fa77),this[_0x30adbb(0x175)]['push'](_0x24743e),this[_0x30adbb(0x175)]['push'](_0x38822d),this[_0x30adbb(0x175)]['push'](_0x2f82ca),this[_0x30adbb(0x175)][_0x30adbb(0x159)](_0x190fac),this[_0x30adbb(0x175)][_0x30adbb(0x159)](_0x4ad37a),this[_0x30adbb(0x175)][_0x30adbb(0x159)](_0x143ce1),this[_0x30adbb(0x176)]();}[_0x52a6a1(0x176)](){const _0x1124e7=_0x52a6a1;this[_0x1124e7(0x186)]=this['shapes'][Math['random']()*0x7|0x0],this['rot']=0x0,this[_0x1124e7(0x149)]();}[_0x52a6a1(0x149)](){const _0x12ac43=_0x52a6a1;this[_0x12ac43(0x172)]=this[_0x12ac43(0x186)][this['rot']][_0x12ac43(0x16a)]();}}function _0x221f(_0x466545,_0x316884){const _0x6c88a7=_0x4a7f();return _0x221f=function(_0x112d5c,_0x5e4f53){_0x112d5c=_0x112d5c-0x145;let _0x380bee=_0x6c88a7[_0x112d5c];return _0x380bee;},_0x221f(_0x466545,_0x316884);}class Tetris{constructor(){const _0x22ab86=_0x52a6a1;this[_0x22ab86(0x173)]=0x19,this['cellsValue']=0x2,this[_0x22ab86(0x15b)]=0x1,this[_0x22ab86(0x17b)]=[],this['tetromino']=new Tetromino(),this[_0x22ab86(0x17a)]=[_0x22ab86(0x14c),_0x22ab86(0x14d),'orange',_0x22ab86(0x17d),'red','green','purple'],this['w']=0xc,this['h']=0x16,this[_0x22ab86(0x178)]=0x0,this[_0x22ab86(0x183)]=0x1e,this['counter']=0x0,this[_0x22ab86(0x185)]={'L':0x0,'R':0x0,'T':0x0,'B':0x0},document['addEventListener']('keyup',function(_0x269988){const _0x353f70=_0x22ab86;let _0x12d019=_0x269988[_0x353f70(0x16d)];switch(_0x12d019){case 0x25:tetris[_0x353f70(0x14a)]();break;case 0x26:tetris[_0x353f70(0x148)]();break;case 0x27:tetris[_0x353f70(0x181)]();break;case 0x28:tetris['hardDrop']();break;}}),this[_0x22ab86(0x166)](),this[_0x22ab86(0x16b)](this['tetromino']['x'],this[_0x22ab86(0x158)]['y']);}['initBoard'](){const _0x3a7fbc=_0x52a6a1;this[_0x3a7fbc(0x17b)]=[];for(let _0xd7e495=0x0;_0xd7e495<this['w'];_0xd7e495++){this['cells']['push']([]);for(let _0x1a106d=0x0;_0x1a106d<this['h'];_0x1a106d++){this['cells'][_0xd7e495][_0x3a7fbc(0x159)](0x0);}}}[_0x52a6a1(0x16b)](_0x52cada,_0xaa6921){const _0x271ec2=_0x52a6a1;for(let _0x42503f=0x0;_0x42503f<this[_0x271ec2(0x158)][_0x271ec2(0x172)][_0x271ec2(0x17e)];_0x42503f++){for(let _0x264252=0x0;_0x264252<this[_0x271ec2(0x158)]['formation'][_0x42503f][_0x271ec2(0x17e)];_0x264252++){if(this[_0x271ec2(0x158)][_0x271ec2(0x172)][_0x42503f][_0x264252]==0x0)continue;this[_0x271ec2(0x17b)][_0x52cada+_0x264252][_0xaa6921+_0x42503f]=this[_0x271ec2(0x158)][_0x271ec2(0x172)][_0x42503f][_0x264252];}}}[_0x52a6a1(0x15d)](_0x503158,_0x123e5c){const _0x2a75d8=_0x52a6a1;for(let _0x4f1f8e=0x0;_0x4f1f8e<this[_0x2a75d8(0x158)][_0x2a75d8(0x172)][_0x2a75d8(0x17e)];_0x4f1f8e++){for(let _0x1e47e2=0x0;_0x1e47e2<this['tetromino']['formation'][_0x4f1f8e]['length'];_0x1e47e2++){this[_0x2a75d8(0x158)][_0x2a75d8(0x172)][_0x4f1f8e][_0x1e47e2]&&(this['cells'][_0x503158+_0x1e47e2][_0x123e5c+_0x4f1f8e]=0x0);}}}[_0x52a6a1(0x151)](){const _0xaf19e8=_0x52a6a1;while(!this[_0xaf19e8(0x185)]['B']){this[_0xaf19e8(0x147)]();}}['checkCols'](){const _0xcdbe3f=_0x52a6a1;this[_0xcdbe3f(0x15d)](this['tetromino']['x'],this[_0xcdbe3f(0x158)]['y']);let _0x2515f2=this[_0xcdbe3f(0x158)]['formation'],_0x2fa2b9=this[_0xcdbe3f(0x158)]['x'],_0x2473dc=this['tetromino']['y'];this[_0xcdbe3f(0x185)]['L']=0x0,this[_0xcdbe3f(0x185)]['R']=0x0,this['cols']['T']=0x0,this[_0xcdbe3f(0x185)]['B']=0x0;for(let _0x5bcb43=0x0;_0x5bcb43<_0x2515f2[_0xcdbe3f(0x17e)];_0x5bcb43++){for(let _0x23fdd0=0x0;_0x23fdd0<_0x2515f2[_0x5bcb43][_0xcdbe3f(0x17e)];_0x23fdd0++){if(_0x2515f2[_0x5bcb43][_0x23fdd0]==0x0)continue;if(_0x23fdd0+_0x2fa2b9-0x1<0x0)this[_0xcdbe3f(0x185)]['L']=0x1;else this['cells'][_0x23fdd0+_0x2fa2b9-0x1][_0x5bcb43+_0x2473dc]&&(this[_0xcdbe3f(0x185)]['L']=0x1);if(_0x23fdd0+_0x2fa2b9+0x1>=this['w'])this['cols']['R']=0x1;else this[_0xcdbe3f(0x17b)][_0x23fdd0+_0x2fa2b9+0x1][_0x5bcb43+_0x2473dc]&&(this[_0xcdbe3f(0x185)]['R']=0x1);if(_0x5bcb43+_0x2473dc-0x1<0x0)this[_0xcdbe3f(0x185)]['T']=0x1;else this[_0xcdbe3f(0x17b)][_0x23fdd0+_0x2fa2b9][_0x5bcb43+_0x2473dc-0x1]&&(this[_0xcdbe3f(0x185)]['T']=0x1);if(_0x5bcb43+_0x2473dc+0x1>=this['h'])this['cols']['B']=0x1;else this[_0xcdbe3f(0x17b)][_0x23fdd0+_0x2fa2b9][_0x5bcb43+_0x2473dc+0x1]&&(this[_0xcdbe3f(0x185)]['B']=0x1);}}this[_0xcdbe3f(0x16b)](this[_0xcdbe3f(0x158)]['x'],this[_0xcdbe3f(0x158)]['y']);}[_0x52a6a1(0x16e)](){const _0x192908=_0x52a6a1;this[_0x192908(0x15d)](this[_0x192908(0x158)]['x'],this['tetromino']['y']);let _0x5023cf=this['tetromino'][_0x192908(0x17c)]+0x1;_0x5023cf>=this[_0x192908(0x158)]['shape']['length']&&(_0x5023cf=0x0);let _0x4ef7b=this[_0x192908(0x158)][_0x192908(0x186)][_0x5023cf],_0x3942d3=this[_0x192908(0x158)]['x'],_0x16bdae=this['tetromino']['y'];for(let _0x175bce=0x0;_0x175bce<_0x4ef7b['length'];_0x175bce++){for(let _0x348923=0x0;_0x348923<_0x4ef7b[_0x175bce][_0x192908(0x17e)];_0x348923++){if(_0x4ef7b[_0x175bce][_0x348923]==0x0)continue;if(_0x175bce+_0x16bdae<0x0||_0x175bce+_0x16bdae>=this['h']||_0x348923+_0x3942d3<0x0||_0x348923+_0x3942d3>=this['w'])return this[_0x192908(0x16b)](this[_0x192908(0x158)]['x'],this[_0x192908(0x158)]['y']),![];else{if(this[_0x192908(0x17b)][_0x348923+_0x3942d3][_0x175bce+_0x16bdae])return this[_0x192908(0x16b)](this['tetromino']['x'],this[_0x192908(0x158)]['y']),![];}}}return this['pushAtPos'](this[_0x192908(0x158)]['x'],this[_0x192908(0x158)]['y']),!![];}[_0x52a6a1(0x14a)](){const _0x572fad=_0x52a6a1;if(this[_0x572fad(0x185)]['L'])return;this[_0x572fad(0x15d)](this[_0x572fad(0x158)]['x'],this[_0x572fad(0x158)]['y']),this[_0x572fad(0x158)]['x']--,this[_0x572fad(0x16b)](this['tetromino']['x'],this[_0x572fad(0x158)]['y']),this[_0x572fad(0x164)]();}[_0x52a6a1(0x181)](){const _0x2ba34a=_0x52a6a1;if(this['cols']['R'])return;this[_0x2ba34a(0x15d)](this[_0x2ba34a(0x158)]['x'],this[_0x2ba34a(0x158)]['y']),this[_0x2ba34a(0x158)]['x']++,this[_0x2ba34a(0x16b)](this[_0x2ba34a(0x158)]['x'],this[_0x2ba34a(0x158)]['y']),this[_0x2ba34a(0x164)]();}['rotate'](){const _0x6002ed=_0x52a6a1;if(!this['canRotate']())return;this['clearAtPos'](this[_0x6002ed(0x158)]['x'],this['tetromino']['y']),this[_0x6002ed(0x158)][_0x6002ed(0x17c)]++,this[_0x6002ed(0x158)][_0x6002ed(0x17c)]>this[_0x6002ed(0x158)][_0x6002ed(0x186)]['length']-0x1&&(this[_0x6002ed(0x158)][_0x6002ed(0x17c)]=0x0),this['tetromino'][_0x6002ed(0x149)](),this[_0x6002ed(0x16b)](this[_0x6002ed(0x158)]['x'],this[_0x6002ed(0x158)]['y']),this['checkCols']();}['checkLines'](){const _0x34e315=_0x52a6a1;for(let _0x21e97f=0x0;_0x21e97f<this['h'];_0x21e97f++){let _0x2568b3=!![];for(let _0x1002f3=0x0;_0x1002f3<this['w'];_0x1002f3++){this['cells'][_0x1002f3][_0x21e97f]==0x0&&(_0x2568b3=![]);}if(_0x2568b3){for(let _0x58736f=0x0;_0x58736f<this['w'];_0x58736f++){this[_0x34e315(0x17b)][_0x58736f]['splice'](_0x21e97f,0x1),this['cells'][_0x58736f][_0x34e315(0x180)](0x0,0x0,0x0);}this[_0x34e315(0x157)]();return;}}}[_0x52a6a1(0x147)](){const _0x2d02ea=_0x52a6a1;this[_0x2d02ea(0x185)]['B']?(this[_0x2d02ea(0x158)]['x']=this[_0x2d02ea(0x158)][_0x2d02ea(0x174)],this['tetromino']['y']=this['tetromino'][_0x2d02ea(0x15c)],this[_0x2d02ea(0x158)]['nextShape'](),this[_0x2d02ea(0x16b)](this[_0x2d02ea(0x158)]['x'],this[_0x2d02ea(0x158)]['y']),this['checkCols'](),this[_0x2d02ea(0x157)]()):(this[_0x2d02ea(0x15d)](this[_0x2d02ea(0x158)]['x'],this[_0x2d02ea(0x158)]['y']),this['tetromino']['y']++,this[_0x2d02ea(0x16b)](this[_0x2d02ea(0x158)]['x'],this[_0x2d02ea(0x158)]['y']),this[_0x2d02ea(0x164)](),this['checkLines']());}[_0x52a6a1(0x160)](){const _0x1f61bd=_0x52a6a1;this[_0x1f61bd(0x15a)]++;this[_0x1f61bd(0x15a)]>=this[_0x1f61bd(0x183)]&&(this['counter']=0x0,this['compute']());c[_0x1f61bd(0x153)]='black',c[_0x1f61bd(0x165)](0x0,0x0,this['w']*this[_0x1f61bd(0x173)],this['h']*this['cellSize']);for(let _0x2ba4da=0x0;_0x2ba4da<this['w'];_0x2ba4da++){for(let _0x2bb01a=0x0;_0x2bb01a<this['h'];_0x2bb01a++){this[_0x1f61bd(0x17b)][_0x2ba4da][_0x2bb01a]!=0x0&&(c[_0x1f61bd(0x153)]=this[_0x1f61bd(0x17a)][this[_0x1f61bd(0x17b)][_0x2ba4da][_0x2bb01a]-0x1],c[_0x1f61bd(0x165)](_0x2ba4da*this[_0x1f61bd(0x173)],_0x2bb01a*this[_0x1f61bd(0x173)],this[_0x1f61bd(0x173)],this[_0x1f61bd(0x173)])),c[_0x1f61bd(0x169)]=_0x1f61bd(0x184),c[_0x1f61bd(0x182)](),c[_0x1f61bd(0x150)](_0x2ba4da*this[_0x1f61bd(0x173)],_0x2bb01a*this['cellSize'],this['cellSize'],this[_0x1f61bd(0x173)]),c[_0x1f61bd(0x156)](),c['stroke']();}}}}