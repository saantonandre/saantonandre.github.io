const _0x2d6c8e=_0x5505;function _0x5505(_0x480b95,_0x327164){const _0x24f760=_0x35cf();return _0x5505=function(_0x27e811,_0x14c411){_0x27e811=_0x27e811-0x1f3;let _0x139a25=_0x24f760[_0x27e811];return _0x139a25;},_0x5505(_0x480b95,_0x327164);}(function(_0x5a8e50,_0xa9dfc6){const _0x525e50=_0x5505,_0x1dca6a=_0x5a8e50();while(!![]){try{const _0x3fe8db=-parseInt(_0x525e50(0x222))/0x1*(parseInt(_0x525e50(0x202))/0x2)+parseInt(_0x525e50(0x1fe))/0x3*(-parseInt(_0x525e50(0x20a))/0x4)+parseInt(_0x525e50(0x21e))/0x5+parseInt(_0x525e50(0x1f5))/0x6+parseInt(_0x525e50(0x213))/0x7+-parseInt(_0x525e50(0x1f8))/0x8*(parseInt(_0x525e50(0x209))/0x9)+-parseInt(_0x525e50(0x221))/0xa*(-parseInt(_0x525e50(0x225))/0xb);if(_0x3fe8db===_0xa9dfc6)break;else _0x1dca6a['push'](_0x1dca6a['shift']());}catch(_0x4af3e6){_0x1dca6a['push'](_0x1dca6a['shift']());}}}(_0x35cf,0x1c981));const _0x14c411=(function(){let _0x305633=!![];return function(_0x8282ad,_0x36449a){const _0x1bcabf=_0x305633?function(){const _0x2c5cbe=_0x5505;if(_0x36449a){const _0x32d82e=_0x36449a[_0x2c5cbe(0x20b)](_0x8282ad,arguments);return _0x36449a=null,_0x32d82e;}}:function(){};return _0x305633=![],_0x1bcabf;};}()),_0x27e811=_0x14c411(this,function(){const _0x3b7416=_0x5505,_0x2dd538=function(){let _0x697175;try{_0x697175=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x134232){_0x697175=window;}return _0x697175;},_0x48c051=_0x2dd538(),_0x25e8e9=new RegExp(_0x3b7416(0x204),'g'),_0x2589dc=_0x3b7416(0x203)[_0x3b7416(0x1fc)](_0x25e8e9,'')[_0x3b7416(0x1fa)](';');let _0x1088dd,_0x4f7abb,_0x5a957c,_0xcc6d94;const _0x3ab542=function(_0x2218f0,_0x3d38f0,_0x459b27){const _0x1d02d4=_0x3b7416;if(_0x2218f0['length']!=_0x3d38f0)return![];for(let _0x374e34=0x0;_0x374e34<_0x3d38f0;_0x374e34++){for(let _0x4eb908=0x0;_0x4eb908<_0x459b27['length'];_0x4eb908+=0x2){if(_0x374e34==_0x459b27[_0x4eb908]&&_0x2218f0[_0x1d02d4(0x1fb)](_0x374e34)!=_0x459b27[_0x4eb908+0x1])return![];}}return!![];},_0x5ca998=function(_0x1bf288,_0x474aec,_0x57a0b4){return _0x3ab542(_0x474aec,_0x57a0b4,_0x1bf288);},_0x473a0e=function(_0x21db1b,_0x4f2b24,_0x2e7ce9){return _0x5ca998(_0x4f2b24,_0x21db1b,_0x2e7ce9);},_0x3a9bca=function(_0x1b04f7,_0x2c2029,_0x476ad1){return _0x473a0e(_0x2c2029,_0x476ad1,_0x1b04f7);};for(let _0x261428 in _0x48c051){if(_0x3ab542(_0x261428,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1088dd=_0x261428;break;}}for(let _0x40967b in _0x48c051[_0x1088dd]){if(_0x3a9bca(0x6,_0x40967b,[0x5,0x6e,0x0,0x64])){_0x4f7abb=_0x40967b;break;}}for(let _0x4541c6 in _0x48c051[_0x1088dd]){if(_0x473a0e(_0x4541c6,[0x7,0x6e,0x0,0x6c],0x8)){_0x5a957c=_0x4541c6;break;}}if(!('~'>_0x4f7abb))for(let _0x320a24 in _0x48c051[_0x1088dd][_0x5a957c]){if(_0x5ca998([0x7,0x65,0x0,0x68],_0x320a24,0x8)){_0xcc6d94=_0x320a24;break;}}if(!_0x1088dd||!_0x48c051[_0x1088dd])return;const _0x3bcbf5=_0x48c051[_0x1088dd][_0x4f7abb],_0x8d9675=!!_0x48c051[_0x1088dd][_0x5a957c]&&_0x48c051[_0x1088dd][_0x5a957c][_0xcc6d94],_0x247a51=_0x3bcbf5||_0x8d9675;if(!_0x247a51)return;let _0x32355c=![];for(let _0x295748=0x0;_0x295748<_0x2589dc[_0x3b7416(0x1f4)];_0x295748++){const _0x189949=_0x2589dc[_0x295748],_0x478ff8=_0x189949[0x0]===String[_0x3b7416(0x200)](0x2e)?_0x189949[_0x3b7416(0x220)](0x1):_0x189949,_0x2fdf73=_0x247a51['length']-_0x478ff8['length'],_0x3d8a1d=_0x247a51[_0x3b7416(0x21d)](_0x478ff8,_0x2fdf73),_0x33ee6a=_0x3d8a1d!==-0x1&&_0x3d8a1d===_0x2fdf73;_0x33ee6a&&((_0x247a51[_0x3b7416(0x1f4)]==_0x189949[_0x3b7416(0x1f4)]||_0x189949[_0x3b7416(0x21d)]('.')===0x0)&&(_0x32355c=!![]));}if(!_0x32355c){const _0x4dcdf4=new RegExp(_0x3b7416(0x227),'g'),_0x36053b='AabIOouAt:bliankyYsHTAVqOFRDKZpeyYqBWiHP'[_0x3b7416(0x1fc)](_0x4dcdf4,'');_0x48c051[_0x1088dd][_0x5a957c]=_0x36053b;}});_0x27e811();import{Room,RoomsMap,resetRoomID}from'./components/room.js';function _0x35cf(){const _0x49a437=['jointID','spacedRooms','11EmtHim','fillRect','[AIOAiyYsHTAVqOFRDKZpeyYqBWiHP]','random','createRoom','getJointedChunks','Out\x20of\x20space\x20exit','find','Khaki','roomsPool','jointedChunks','length','92772qRxarp','log','fillStyle','67128mvgbIr','joints','split','charCodeAt','replace','distance','3iMrJMs','generate','fromCharCode','populate','2zxlxPS','skaKajnJtKoGnandjECLreM.giZwRthub.ioS;loWcaljhostKDfkEfJywvyVykETyLkQBJvGHByVNqYVNUTNmRTQRVZOFkkTESZOTmIN','[kKjJKGjECLMZwRSWjKDfkEfJywvyVykETyLkQBJvGHByVNqYVNUTNmRTQRVZOFkkTESZOTmIN]','availableNeighbors','jointRoomsU','height','propagateJointID','234XpuojI','762580ofKRHy','apply','assignTypes','filter','link','assignJointsID','joint','initialize','warn','1549051HsvoGC','links','splice','width','type','roomsMap','push','Brown','shapeJoints','render','indexOf','32540DULXZT','RoyalBlue','slice','5121470vJDryU','229478ZjhFnq'];_0x35cf=function(){return _0x49a437;};return _0x35cf();}export class MapGenerator{constructor(){const _0x19bfaa=_0x5505;this['w']=0x0,this['h']=0x0,this[_0x19bfaa(0x218)]=new RoomsMap(),this[_0x19bfaa(0x22e)]=[],this['spacedRooms']=[],this[_0x19bfaa(0x1f3)]=[];}[_0x2d6c8e(0x1ff)]=(_0x5b97e0=0xb,_0x3349fd=0xb,_0x4110a6=0x10,_0x530dcd=!![],_0x7438d9=![])=>{const _0x50ae63=_0x2d6c8e;resetRoomID(),this[_0x50ae63(0x211)](_0x5b97e0,_0x3349fd),this[_0x50ae63(0x201)](_0x4110a6),this[_0x50ae63(0x20c)]();if(_0x530dcd)return this['assignJoints'](_0x7438d9),this[_0x50ae63(0x1f3)];};[_0x2d6c8e(0x211)]=(_0x345be3,_0x1c02af)=>{const _0x297be1=_0x2d6c8e;this[_0x297be1(0x218)][_0x297be1(0x1f4)]=0x0,this[_0x297be1(0x22e)][_0x297be1(0x1f4)]=0x0,this[_0x297be1(0x224)][_0x297be1(0x1f4)]=0x0,this[_0x297be1(0x1f3)][_0x297be1(0x1f4)]=0x0,this['w']=_0x345be3,this['h']=_0x1c02af;for(let _0x51cecf=0x0;_0x51cecf<this['w'];_0x51cecf++){this[_0x297be1(0x218)]['push']([]);for(let _0x3643b7=0x0;_0x3643b7<this['h'];_0x3643b7++){this[_0x297be1(0x218)][_0x51cecf][_0x297be1(0x219)](0x0);}}};[_0x2d6c8e(0x229)]=(_0x333964,_0x332475,_0x19fcb9=0x0)=>{const _0xd575f=_0x2d6c8e;let _0x532b68=new Room(_0x333964,_0x332475,_0x19fcb9);return this['roomsMap'][_0x333964][_0xd575f(0x215)](_0x332475,0x1,_0x532b68),this[_0xd575f(0x22e)][_0xd575f(0x219)](_0x532b68),this[_0xd575f(0x224)][_0xd575f(0x219)](_0x532b68),_0x532b68;};[_0x2d6c8e(0x201)]=_0x267d34=>{const _0x57227c=_0x2d6c8e;let _0x310db5=this['w']/0x2|0x0,_0x46b7ba=this['h']/0x2|0x0;this[_0x57227c(0x229)](_0x310db5,_0x46b7ba);let _0xc7cacd=0x0;while(this[_0x57227c(0x22e)]['length']<_0x267d34){if(this[_0x57227c(0x224)]['length']===0x0){console[_0x57227c(0x212)](_0x57227c(0x22b));break;}let _0x3d5c0b=Math[_0x57227c(0x228)]()*this[_0x57227c(0x224)][_0x57227c(0x1f4)]|0x0,_0x349781=this[_0x57227c(0x224)][_0x3d5c0b],_0x4090be=this[_0x57227c(0x218)][_0x57227c(0x205)](_0x349781);if(_0x4090be[_0x57227c(0x1f4)]===0x0){this['spacedRooms'][_0x57227c(0x215)](_0x3d5c0b,0x1),_0xc7cacd++;continue;}let _0x553981=_0x4090be[Math['random']()*_0x4090be['length']|0x0];this['createRoom'](_0x553981['x'],_0x553981['y'])[_0x57227c(0x20e)](_0x349781),_0xc7cacd++;if(_0xc7cacd>_0x267d34*0x3){console[_0x57227c(0x212)]('Too\x20many\x20attemps\x20to\x20reach\x20desired\x20amount\x20of\x20rooms\x20count\x20\x0a\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inhabited\x20rooms:\x20'+this['roomsPool'][_0x57227c(0x1f4)]);break;}}console[_0x57227c(0x1f6)]('Iterations:\x20'+_0xc7cacd);};[_0x2d6c8e(0x20c)]=()=>{const _0x143af8=_0x2d6c8e;let _0x1fd458=this[_0x143af8(0x22e)][Math[_0x143af8(0x228)]()*this['roomsPool']['length']|0x0];_0x1fd458[_0x143af8(0x217)]=0x1;let _0x2041e4=_0x1fd458,_0x1d591e=0x0;for(let _0xf4897e of this[_0x143af8(0x22e)]){let _0x217629=_0xf4897e['distance'](_0x1fd458);_0x217629>_0x1d591e&&(_0x1d591e=_0x217629,_0x2041e4=_0xf4897e);}_0x2041e4[_0x143af8(0x217)]=0x3;let _0x2e6505=_0x1fd458;_0x1d591e=0x0;for(let _0x5d5ae3 of this[_0x143af8(0x22e)]){let _0x4c3f8d=_0x5d5ae3['distance'](_0x1fd458)+_0x5d5ae3[_0x143af8(0x1fd)](_0x2041e4);_0x4c3f8d>_0x1d591e&&(_0x1d591e=_0x4c3f8d,_0x2e6505=_0x5d5ae3);}_0x2e6505['type']=0x2;};['assignJoints']=(_0x2f26e9=![])=>{const _0x223039=_0x2d6c8e;for(let _0x5eacac of this['roomsPool']){if(_0x5eacac[_0x223039(0x217)]!==0x0||_0x5eacac[_0x223039(0x1f9)][_0x223039(0x1f4)]>0x0)continue;for(let _0xb2684b of _0x5eacac[_0x223039(0x214)]){let _0x2e871d=this['roomsMap'][_0xb2684b['x']][_0xb2684b['y']];if(_0x2e871d[_0x223039(0x217)]===0x0&&_0x2e871d['joints'][_0x223039(0x1f4)]===0x0){_0x5eacac[_0x223039(0x210)](_0x2e871d);break;}}}this[_0x223039(0x21b)](),this[_0x223039(0x20f)](),this[_0x223039(0x1f3)]=this[_0x223039(0x22a)](![]),_0x2f26e9&&this[_0x223039(0x206)]();};['assignJointsID'](){const _0x129caa=_0x2d6c8e;for(let _0x2d4f8c of this[_0x129caa(0x22e)]){for(let _0x447399 of _0x2d4f8c['joints']){let _0x2ff543=this[_0x129caa(0x218)][_0x447399['x']][_0x447399['y']];this['propagateJointID'](_0x2d4f8c,_0x2ff543);}}}[_0x2d6c8e(0x208)](_0x51dc97,_0x25cfe0){const _0x4c8791=_0x2d6c8e;if(_0x25cfe0[_0x4c8791(0x223)]===_0x51dc97['jointID'])return;_0x25cfe0['jointID']=_0x51dc97[_0x4c8791(0x223)];for(let _0x337db3 of _0x25cfe0[_0x4c8791(0x1f9)]){let _0x4a8756=this[_0x4c8791(0x218)][_0x337db3['x']][_0x337db3['y']];this['propagateJointID'](_0x25cfe0,_0x4a8756);}}[_0x2d6c8e(0x22a)](_0x48b3b6=!![]){const _0x4151b9=_0x2d6c8e;let _0x514621=[],_0x554536=[];for(let _0x5c752b of this[_0x4151b9(0x22e)]){if(_0x48b3b6&&_0x5c752b[_0x4151b9(0x1f9)][_0x4151b9(0x1f4)]===0x0)continue;if(_0x514621['find'](_0xfb949b=>_0xfb949b===_0x5c752b[_0x4151b9(0x223)])!==undefined)continue;_0x514621[_0x4151b9(0x219)](_0x5c752b[_0x4151b9(0x223)]),_0x554536['push'](this[_0x4151b9(0x22e)][_0x4151b9(0x20d)](_0x259d97=>_0x259d97['jointID']==_0x5c752b[_0x4151b9(0x223)]));}return _0x554536;}[_0x2d6c8e(0x206)](){const _0xa9706=_0x2d6c8e;for(let _0x5f3f49 of this['jointedChunks']){if(_0x5f3f49[_0xa9706(0x1f4)]!==0x4)continue;let _0x4834cd=_0x5f3f49[_0xa9706(0x22c)](_0x1182dd=>_0x1182dd[_0xa9706(0x1f9)][_0xa9706(0x1f4)]==0x1),_0xbad81d=_0x5f3f49[_0xa9706(0x22c)](_0x3f2267=>_0x3f2267[_0xa9706(0x1f9)][_0xa9706(0x1f4)]==0x1&&_0x3f2267!==_0x4834cd);if(!_0x4834cd||!_0xbad81d)continue;_0x4834cd[_0xa9706(0x1fd)](_0xbad81d)==0x1&&(_0x4834cd[_0xa9706(0x210)](_0xbad81d),_0x4834cd[_0xa9706(0x210)](_0x5f3f49[_0xa9706(0x22c)](_0x1defe2=>_0x1defe2[_0xa9706(0x1fd)](_0x4834cd)>0x1)));}}['shapeJoints']=(_0x138db9=!![])=>{const _0x3f7f24=_0x2d6c8e;for(let _0x20f968 of this[_0x3f7f24(0x22e)]){if(_0x20f968['type']!==0x0||_0x20f968['joints'][_0x3f7f24(0x1f4)]>0x0)continue;if(_0x138db9&&Math[_0x3f7f24(0x228)]()*0x2|0x0)continue;_0x20f968[_0x3f7f24(0x214)]['sort'](()=>Math[_0x3f7f24(0x228)]()-0.5);for(let _0x2cec06 of _0x20f968[_0x3f7f24(0x214)]){let _0x3dce2e=this[_0x3f7f24(0x218)][_0x2cec06['x']][_0x2cec06['y']];if(_0x3dce2e[_0x3f7f24(0x217)]===0x0&&_0x3dce2e[_0x3f7f24(0x1f9)][_0x3f7f24(0x1f4)]===0x1){_0x20f968['joint'](_0x3dce2e);break;}}}};[_0x2d6c8e(0x21c)]=(_0x511cad,_0x5efbef,_0x1de156=0x14)=>{const _0x27fdb1=_0x2d6c8e;_0x511cad['width']=_0x1de156*this['w'],_0x511cad[_0x27fdb1(0x207)]=_0x1de156*this['h'],_0x5efbef['clear'](),_0x5efbef[_0x27fdb1(0x1f7)]='black',_0x5efbef[_0x27fdb1(0x226)](0x0,0x0,_0x511cad[_0x27fdb1(0x216)],_0x511cad[_0x27fdb1(0x207)]);for(let _0x4dbf24 of this['roomsPool']){let _0x5815cb=['Lavender',_0x27fdb1(0x21f),_0x27fdb1(0x22d),_0x27fdb1(0x21a)];_0x5efbef[_0x27fdb1(0x1f7)]=_0x5815cb[_0x4dbf24[_0x27fdb1(0x217)]],_0x5efbef[_0x27fdb1(0x226)](_0x4dbf24['x']*_0x1de156+_0x1de156/0xa,_0x4dbf24['y']*_0x1de156+_0x1de156/0xa,_0x1de156-_0x1de156/0x5,_0x1de156-_0x1de156/0x5);for(let _0x5a7df1 of _0x4dbf24['links']){let _0x2022cb=this['roomsMap'][_0x5a7df1['x']][_0x5a7df1['y']];_0x5efbef['fillStyle']=_0x5815cb[0x0],_0x5efbef['fillRect']((_0x4dbf24['x']+_0x2022cb['x'])/0x2*_0x1de156+_0x1de156/0x2-_0x1de156/0xa,(_0x4dbf24['y']+_0x2022cb['y'])/0x2*_0x1de156+_0x1de156/0x2-_0x1de156/0xa,_0x1de156/0x5,_0x1de156/0x5);}for(let _0x2242b7 of _0x4dbf24[_0x27fdb1(0x1f9)]){let _0x4b9a48=this[_0x27fdb1(0x218)][_0x2242b7['x']][_0x2242b7['y']];_0x5efbef[_0x27fdb1(0x1f7)]=_0x5815cb[0x0],_0x5efbef[_0x27fdb1(0x226)]((_0x4dbf24['x']+_0x4b9a48['x'])/0x2*_0x1de156+_0x1de156/0xa,(_0x4dbf24['y']+_0x4b9a48['y'])/0x2*_0x1de156+_0x1de156/0xa,_0x1de156-_0x1de156/0x5,_0x1de156-_0x1de156/0x5);}}};}