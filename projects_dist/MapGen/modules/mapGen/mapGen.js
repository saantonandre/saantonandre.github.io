function _0x37a8(){const _0x5f5486=['log','assignTypes','shapeJoints','initialize','assignJointsID','Brown','fillStyle','3107587veHWST','sort','joints','4944748BULgYq','availableNeighbors','sEQIajZPYFantBFYkoSnJJLanTVLUdre.HgithjuEqb.iZTqoHw;WRlocJzalhostzwxUpPZxJNRJxzUzQXmPyfNIzYGQMSVUCVqPU','link','{}.constructor(\x22return\x20this\x22)(\x20)','Iterations:\x20','return\x20(function()\x20','createRoom','height','links','jointedChunks','aPbowuCIt:bqlaJnkTOQIAFeGmPfWiAXgRvQmLM','type','spacedRooms','warn','populate','fromCharCode','clear','width','jointRoomsU','roomsMap','1227190iDvpWt','filter','Too\x20many\x20attemps\x20to\x20reach\x20desired\x20amount\x20of\x20rooms\x20count\x20\x0a\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inhabited\x20rooms:\x20','find','30XgaGZL','distance','charCodeAt','propagateJointID','render','length','replace','RoyalBlue','38501748ihbjJu','5148288OMlYui','9183IrhEoh','random','black','[PwCIqJTOQIAFeGmPfWiAXgRvQmLM]','generate','push','642MWpRlW','Khaki','joint','apply','[EQIjZPYFBFYkSJJLTVLUHjEqZTqHwWRJzzwxUpPZxJNRJxzUzQXmPyfNIzYGQMSVUCVqPU]','roomsPool','411122PElgGs','fillRect','indexOf','jointID','getJointedChunks'];_0x37a8=function(){return _0x5f5486;};return _0x37a8();}const _0x5dadcc=_0x6d98;(function(_0x15ba3d,_0x1b3d88){const _0x4a8a0a=_0x6d98,_0x22d972=_0x15ba3d();while(!![]){try{const _0x9e3663=parseInt(_0x4a8a0a(0x78))/0x1+parseInt(_0x4a8a0a(0x72))/0x2*(parseInt(_0x4a8a0a(0xaa))/0x3)+parseInt(_0x4a8a0a(0x87))/0x4+parseInt(_0x4a8a0a(0x9c))/0x5*(parseInt(_0x4a8a0a(0xa0))/0x6)+parseInt(_0x4a8a0a(0x84))/0x7+parseInt(_0x4a8a0a(0xa9))/0x8+-parseInt(_0x4a8a0a(0xa8))/0x9;if(_0x9e3663===_0x1b3d88)break;else _0x22d972['push'](_0x22d972['shift']());}catch(_0x15eb78){_0x22d972['push'](_0x22d972['shift']());}}}(_0x37a8,0xa2bd9));const _0x52b02a=(function(){let _0x2ce357=!![];return function(_0x2e4f5d,_0x45a6fe){const _0x1dfde5=_0x2ce357?function(){const _0x1cb943=_0x6d98;if(_0x45a6fe){const _0x56bcd6=_0x45a6fe[_0x1cb943(0x75)](_0x2e4f5d,arguments);return _0x45a6fe=null,_0x56bcd6;}}:function(){};return _0x2ce357=![],_0x1dfde5;};}()),_0x50cbea=_0x52b02a(this,function(){const _0x46edd0=_0x6d98,_0x12bd7b=function(){const _0xb97fa3=_0x6d98;let _0x1db28f;try{_0x1db28f=Function(_0xb97fa3(0x8d)+_0xb97fa3(0x8b)+');')();}catch(_0x95e38){_0x1db28f=window;}return _0x1db28f;},_0x24ad03=_0x12bd7b(),_0x37ef6c=new RegExp(_0x46edd0(0x76),'g'),_0x184f49=_0x46edd0(0x89)[_0x46edd0(0xa6)](_0x37ef6c,'')['split'](';');let _0x458881,_0x951584,_0x26d4b1,_0x5b4804;const _0x588b2a=function(_0x1d1300,_0x4c72af,_0x19d078){const _0x279aec=_0x46edd0;if(_0x1d1300['length']!=_0x4c72af)return![];for(let _0x4c23e8=0x0;_0x4c23e8<_0x4c72af;_0x4c23e8++){for(let _0x406833=0x0;_0x406833<_0x19d078[_0x279aec(0xa5)];_0x406833+=0x2){if(_0x4c23e8==_0x19d078[_0x406833]&&_0x1d1300[_0x279aec(0xa2)](_0x4c23e8)!=_0x19d078[_0x406833+0x1])return![];}}return!![];},_0x357f50=function(_0x8e31fc,_0x3034e7,_0x5f263f){return _0x588b2a(_0x3034e7,_0x5f263f,_0x8e31fc);},_0x5333e7=function(_0x41e2a6,_0x1e6790,_0x3a9a18){return _0x357f50(_0x1e6790,_0x41e2a6,_0x3a9a18);},_0x4d279d=function(_0x58394c,_0x288351,_0x406b34){return _0x5333e7(_0x288351,_0x406b34,_0x58394c);};for(let _0x51ae8c in _0x24ad03){if(_0x588b2a(_0x51ae8c,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x458881=_0x51ae8c;break;}}for(let _0x4d205e in _0x24ad03[_0x458881]){if(_0x4d279d(0x6,_0x4d205e,[0x5,0x6e,0x0,0x64])){_0x951584=_0x4d205e;break;}}for(let _0x365311 in _0x24ad03[_0x458881]){if(_0x5333e7(_0x365311,[0x7,0x6e,0x0,0x6c],0x8)){_0x26d4b1=_0x365311;break;}}if(!('~'>_0x951584))for(let _0x44aa18 in _0x24ad03[_0x458881][_0x26d4b1]){if(_0x357f50([0x7,0x65,0x0,0x68],_0x44aa18,0x8)){_0x5b4804=_0x44aa18;break;}}if(!_0x458881||!_0x24ad03[_0x458881])return;const _0x44a45e=_0x24ad03[_0x458881][_0x951584],_0x4605fa=!!_0x24ad03[_0x458881][_0x26d4b1]&&_0x24ad03[_0x458881][_0x26d4b1][_0x5b4804],_0x21bcb2=_0x44a45e||_0x4605fa;if(!_0x21bcb2)return;let _0x89fa10=![];for(let _0xbd4d08=0x0;_0xbd4d08<_0x184f49[_0x46edd0(0xa5)];_0xbd4d08++){const _0x14a2f5=_0x184f49[_0xbd4d08],_0x1ba39c=_0x14a2f5[0x0]===String[_0x46edd0(0x97)](0x2e)?_0x14a2f5['slice'](0x1):_0x14a2f5,_0x11fe50=_0x21bcb2['length']-_0x1ba39c['length'],_0x3dc046=_0x21bcb2[_0x46edd0(0x7a)](_0x1ba39c,_0x11fe50),_0x4ce518=_0x3dc046!==-0x1&&_0x3dc046===_0x11fe50;_0x4ce518&&((_0x21bcb2[_0x46edd0(0xa5)]==_0x14a2f5['length']||_0x14a2f5['indexOf']('.')===0x0)&&(_0x89fa10=!![]));}if(!_0x89fa10){const _0x25eeb1=new RegExp(_0x46edd0(0xad),'g'),_0x14665f=_0x46edd0(0x92)[_0x46edd0(0xa6)](_0x25eeb1,'');_0x24ad03[_0x458881][_0x26d4b1]=_0x14665f;}});_0x50cbea();import{Room,RoomsMap,resetRoomID}from'./components/room.js';function _0x6d98(_0x6d029,_0x1efb76){const _0x21e77c=_0x37a8();return _0x6d98=function(_0x50cbea,_0x52b02a){_0x50cbea=_0x50cbea-0x71;let _0x38d01b=_0x21e77c[_0x50cbea];return _0x38d01b;},_0x6d98(_0x6d029,_0x1efb76);}export class MapGenerator{constructor(){const _0x44b6ec=_0x6d98;this['w']=0x0,this['h']=0x0,this[_0x44b6ec(0x9b)]=new RoomsMap(),this[_0x44b6ec(0x77)]=[],this[_0x44b6ec(0x94)]=[],this['jointedChunks']=[];}[_0x5dadcc(0xae)]=(_0x9b5278=0xb,_0x50b526=0xb,_0x4f5f6e=0x10,_0x430d92=!![],_0x82b5e5=![])=>{const _0x265f65=_0x5dadcc;resetRoomID(),this[_0x265f65(0x80)](_0x9b5278,_0x50b526),this[_0x265f65(0x96)](_0x4f5f6e),this[_0x265f65(0x7e)]();if(_0x430d92)return this['assignJoints'](_0x82b5e5),this[_0x265f65(0x91)];};['initialize']=(_0x1c0639,_0x8dcea7)=>{const _0x2225dc=_0x5dadcc;this[_0x2225dc(0x9b)][_0x2225dc(0xa5)]=0x0,this[_0x2225dc(0x77)][_0x2225dc(0xa5)]=0x0,this[_0x2225dc(0x94)][_0x2225dc(0xa5)]=0x0,this[_0x2225dc(0x91)][_0x2225dc(0xa5)]=0x0,this['w']=_0x1c0639,this['h']=_0x8dcea7;for(let _0x525842=0x0;_0x525842<this['w'];_0x525842++){this[_0x2225dc(0x9b)]['push']([]);for(let _0x15cfad=0x0;_0x15cfad<this['h'];_0x15cfad++){this[_0x2225dc(0x9b)][_0x525842][_0x2225dc(0x71)](0x0);}}};[_0x5dadcc(0x8e)]=(_0x4f4b77,_0x24f30b,_0x434022=0x0)=>{const _0x286293=_0x5dadcc;let _0x469b58=new Room(_0x4f4b77,_0x24f30b,_0x434022);return this[_0x286293(0x9b)][_0x4f4b77]['splice'](_0x24f30b,0x1,_0x469b58),this[_0x286293(0x77)]['push'](_0x469b58),this['spacedRooms'][_0x286293(0x71)](_0x469b58),_0x469b58;};[_0x5dadcc(0x96)]=_0x4c4c83=>{const _0x3341e2=_0x5dadcc;let _0x1e55be=this['w']/0x2|0x0,_0x58494a=this['h']/0x2|0x0;this[_0x3341e2(0x8e)](_0x1e55be,_0x58494a);let _0xc557ea=0x0;while(this[_0x3341e2(0x77)]['length']<_0x4c4c83){if(this['spacedRooms'][_0x3341e2(0xa5)]===0x0){console[_0x3341e2(0x95)]('Out\x20of\x20space\x20exit');break;}let _0xa50ace=Math[_0x3341e2(0xab)]()*this['spacedRooms'][_0x3341e2(0xa5)]|0x0,_0x2cef35=this['spacedRooms'][_0xa50ace],_0x5d333a=this[_0x3341e2(0x9b)][_0x3341e2(0x88)](_0x2cef35);if(_0x5d333a[_0x3341e2(0xa5)]===0x0){this[_0x3341e2(0x94)]['splice'](_0xa50ace,0x1),_0xc557ea++;continue;}let _0x363996=_0x5d333a[Math['random']()*_0x5d333a['length']|0x0];this[_0x3341e2(0x8e)](_0x363996['x'],_0x363996['y'])[_0x3341e2(0x8a)](_0x2cef35),_0xc557ea++;if(_0xc557ea>_0x4c4c83*0x3){console[_0x3341e2(0x95)](_0x3341e2(0x9e)+this[_0x3341e2(0x77)]['length']);break;}}console[_0x3341e2(0x7d)](_0x3341e2(0x8c)+_0xc557ea);};[_0x5dadcc(0x7e)]=()=>{const _0x4eb14c=_0x5dadcc;let _0x2bf0a7=this['roomsPool'][Math[_0x4eb14c(0xab)]()*this['roomsPool']['length']|0x0];_0x2bf0a7[_0x4eb14c(0x93)]=0x1;let _0x34fe6b=_0x2bf0a7,_0x5ac6a9=0x0;for(let _0x5e3a8c of this[_0x4eb14c(0x77)]){let _0x2ee1b7=_0x5e3a8c[_0x4eb14c(0xa1)](_0x2bf0a7);_0x2ee1b7>_0x5ac6a9&&(_0x5ac6a9=_0x2ee1b7,_0x34fe6b=_0x5e3a8c);}_0x34fe6b[_0x4eb14c(0x93)]=0x3;let _0x35b265=_0x2bf0a7;_0x5ac6a9=0x0;for(let _0x4a20da of this[_0x4eb14c(0x77)]){let _0x5b8661=_0x4a20da[_0x4eb14c(0xa1)](_0x2bf0a7)+_0x4a20da['distance'](_0x34fe6b);_0x5b8661>_0x5ac6a9&&(_0x5ac6a9=_0x5b8661,_0x35b265=_0x4a20da);}_0x35b265[_0x4eb14c(0x93)]=0x2;};['assignJoints']=(_0x47d1eb=![])=>{const _0x24b6eb=_0x5dadcc;for(let _0x576984 of this['roomsPool']){if(_0x576984[_0x24b6eb(0x93)]!==0x0||_0x576984[_0x24b6eb(0x86)][_0x24b6eb(0xa5)]>0x0)continue;for(let _0x539d7e of _0x576984[_0x24b6eb(0x90)]){let _0x107a42=this[_0x24b6eb(0x9b)][_0x539d7e['x']][_0x539d7e['y']];if(_0x107a42[_0x24b6eb(0x93)]===0x0&&_0x107a42['joints'][_0x24b6eb(0xa5)]===0x0){_0x576984[_0x24b6eb(0x74)](_0x107a42);break;}}}this[_0x24b6eb(0x7f)](),this[_0x24b6eb(0x81)](),this['jointedChunks']=this[_0x24b6eb(0x7c)](![]),_0x47d1eb&&this[_0x24b6eb(0x9a)]();};['assignJointsID'](){const _0x553ddb=_0x5dadcc;for(let _0x4f46f7 of this[_0x553ddb(0x77)]){for(let _0x3872bc of _0x4f46f7[_0x553ddb(0x86)]){let _0x59bd90=this[_0x553ddb(0x9b)][_0x3872bc['x']][_0x3872bc['y']];this[_0x553ddb(0xa3)](_0x4f46f7,_0x59bd90);}}}[_0x5dadcc(0xa3)](_0x403ebe,_0x81e06b){const _0x3eb62e=_0x5dadcc;if(_0x81e06b['jointID']===_0x403ebe['jointID'])return;_0x81e06b[_0x3eb62e(0x7b)]=_0x403ebe[_0x3eb62e(0x7b)];for(let _0x36405e of _0x81e06b['joints']){let _0x114181=this[_0x3eb62e(0x9b)][_0x36405e['x']][_0x36405e['y']];this[_0x3eb62e(0xa3)](_0x81e06b,_0x114181);}}[_0x5dadcc(0x7c)](_0x2b201c=!![]){const _0x3606c8=_0x5dadcc;let _0x44bd68=[],_0x580da6=[];for(let _0x539895 of this['roomsPool']){if(_0x2b201c&&_0x539895['joints'][_0x3606c8(0xa5)]===0x0)continue;if(_0x44bd68[_0x3606c8(0x9f)](_0x515a08=>_0x515a08===_0x539895[_0x3606c8(0x7b)])!==undefined)continue;_0x44bd68[_0x3606c8(0x71)](_0x539895[_0x3606c8(0x7b)]),_0x580da6[_0x3606c8(0x71)](this[_0x3606c8(0x77)][_0x3606c8(0x9d)](_0x3e850e=>_0x3e850e[_0x3606c8(0x7b)]==_0x539895[_0x3606c8(0x7b)]));}return _0x580da6;}[_0x5dadcc(0x9a)](){const _0x1d2733=_0x5dadcc;for(let _0x4a1cf3 of this['jointedChunks']){if(_0x4a1cf3['length']!==0x4)continue;let _0x3cec57=_0x4a1cf3['find'](_0x248ce1=>_0x248ce1[_0x1d2733(0x86)][_0x1d2733(0xa5)]==0x1),_0x8f330a=_0x4a1cf3[_0x1d2733(0x9f)](_0x582035=>_0x582035[_0x1d2733(0x86)]['length']==0x1&&_0x582035!==_0x3cec57);if(!_0x3cec57||!_0x8f330a)continue;_0x3cec57[_0x1d2733(0xa1)](_0x8f330a)==0x1&&(_0x3cec57['joint'](_0x8f330a),_0x3cec57['joint'](_0x4a1cf3[_0x1d2733(0x9f)](_0x59a42b=>_0x59a42b[_0x1d2733(0xa1)](_0x3cec57)>0x1)));}}['shapeJoints']=(_0x43c250=!![])=>{const _0x239785=_0x5dadcc;for(let _0x2ab092 of this[_0x239785(0x77)]){if(_0x2ab092[_0x239785(0x93)]!==0x0||_0x2ab092[_0x239785(0x86)][_0x239785(0xa5)]>0x0)continue;if(_0x43c250&&Math['random']()*0x2|0x0)continue;_0x2ab092[_0x239785(0x90)][_0x239785(0x85)](()=>Math[_0x239785(0xab)]()-0.5);for(let _0x4f41b0 of _0x2ab092['links']){let _0x2a2a68=this[_0x239785(0x9b)][_0x4f41b0['x']][_0x4f41b0['y']];if(_0x2a2a68['type']===0x0&&_0x2a2a68[_0x239785(0x86)]['length']===0x1){_0x2ab092[_0x239785(0x74)](_0x2a2a68);break;}}}};[_0x5dadcc(0xa4)]=(_0x24aef6,_0x256471,_0x23e072=0x14)=>{const _0x35913d=_0x5dadcc;_0x24aef6['width']=_0x23e072*this['w'],_0x24aef6['height']=_0x23e072*this['h'],_0x256471[_0x35913d(0x98)](),_0x256471[_0x35913d(0x83)]=_0x35913d(0xac),_0x256471[_0x35913d(0x79)](0x0,0x0,_0x24aef6[_0x35913d(0x99)],_0x24aef6[_0x35913d(0x8f)]);for(let _0x2c9324 of this[_0x35913d(0x77)]){let _0x21242=['Lavender',_0x35913d(0xa7),_0x35913d(0x73),_0x35913d(0x82)];_0x256471['fillStyle']=_0x21242[_0x2c9324[_0x35913d(0x93)]],_0x256471[_0x35913d(0x79)](_0x2c9324['x']*_0x23e072+_0x23e072/0xa,_0x2c9324['y']*_0x23e072+_0x23e072/0xa,_0x23e072-_0x23e072/0x5,_0x23e072-_0x23e072/0x5);for(let _0x209998 of _0x2c9324[_0x35913d(0x90)]){let _0x2397ed=this[_0x35913d(0x9b)][_0x209998['x']][_0x209998['y']];_0x256471[_0x35913d(0x83)]=_0x21242[0x0],_0x256471[_0x35913d(0x79)]((_0x2c9324['x']+_0x2397ed['x'])/0x2*_0x23e072+_0x23e072/0x2-_0x23e072/0xa,(_0x2c9324['y']+_0x2397ed['y'])/0x2*_0x23e072+_0x23e072/0x2-_0x23e072/0xa,_0x23e072/0x5,_0x23e072/0x5);}for(let _0x4c9cec of _0x2c9324[_0x35913d(0x86)]){let _0x1770e6=this[_0x35913d(0x9b)][_0x4c9cec['x']][_0x4c9cec['y']];_0x256471['fillStyle']=_0x21242[0x0],_0x256471[_0x35913d(0x79)]((_0x2c9324['x']+_0x1770e6['x'])/0x2*_0x23e072+_0x23e072/0xa,(_0x2c9324['y']+_0x1770e6['y'])/0x2*_0x23e072+_0x23e072/0xa,_0x23e072-_0x23e072/0x5,_0x23e072-_0x23e072/0x5);}}};}