const _0x49c59d=_0x3ada;function _0x5591(){const _0x1b2adc=['Brown','3182796sbKsBW','665BXgvTZ','distance','assignJoints','warn','41068procgh','charCodeAt','jointRoomsU','filter','fillRect','populate','4201641dkWtGr','push','46100jXrHnb','return\x20(function()\x20','joint','assignJointsID','20149490byIHau','links','shapeJoints','createRoom','Too\x20many\x20attemps\x20to\x20reach\x20desired\x20amount\x20of\x20rooms\x20count\x20\x0a\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inhabited\x20rooms:\x20','replace','indexOf','propagateJointID','6459740GKrNMg','joints','7040898HFyTBk','find','[WHhEhRdwQiDfjxHDODAgVvMBEhwpzRW]','60dQiYQa','abouWHht:EbhRldankwQiDfjxHDODAgVvMBEhwpzRW','log','link','roomsPool','width','type','24mYNfCo','length','roomsMap','spacedRooms','random','clear','getJointedChunks','Lavender','[SqjMjwEZfjkfEVMLkGUJQYzTzNDyKzwBGUMRwvDxJELXDNXACfMqIfTFMYWGFwN]','RoyalBlue','{}.constructor(\x22return\x20this\x22)(\x20)','Iterations:\x20','height','saSqjanMjwEZtfonanjkfdErVeML.kGgithuUbJQ.iYozT;lzNocDalhyosKzwBtGUMRwvDxJELXDNXACfMqIfTFMYWGFwN','split','initialize','jointID','assignTypes','Out\x20of\x20space\x20exit','jointedChunks','fillStyle','generate'];_0x5591=function(){return _0x1b2adc;};return _0x5591();}(function(_0x193f59,_0x137f35){const _0x4064ed=_0x3ada,_0x268007=_0x193f59();while(!![]){try{const _0x4159c5=-parseInt(_0x4064ed(0x1e8))/0x1*(-parseInt(_0x4064ed(0x1f9))/0x2)+parseInt(_0x4064ed(0x1e6))/0x3+-parseInt(_0x4064ed(0x1e0))/0x4*(-parseInt(_0x4064ed(0x1dc))/0x5)+-parseInt(_0x4064ed(0x1f6))/0x6+parseInt(_0x4064ed(0x1f4))/0x7+parseInt(_0x4064ed(0x200))/0x8*(-parseInt(_0x4064ed(0x1db))/0x9)+-parseInt(_0x4064ed(0x1ec))/0xa;if(_0x4159c5===_0x137f35)break;else _0x268007['push'](_0x268007['shift']());}catch(_0xd1eecc){_0x268007['push'](_0x268007['shift']());}}}(_0x5591,0xc8cf2));const _0x3643f2=(function(){let _0x17e396=!![];return function(_0x4ec940,_0x67cd70){const _0xef28fe=_0x17e396?function(){if(_0x67cd70){const _0x4aebac=_0x67cd70['apply'](_0x4ec940,arguments);return _0x67cd70=null,_0x4aebac;}}:function(){};return _0x17e396=![],_0xef28fe;};}()),_0x3c8be8=_0x3643f2(this,function(){const _0x1fd710=_0x3ada,_0x406d82=function(){const _0x586586=_0x3ada;let _0xb63863;try{_0xb63863=Function(_0x586586(0x1e9)+_0x586586(0x20a)+');')();}catch(_0xd5d61d){_0xb63863=window;}return _0xb63863;},_0x5f1f5f=_0x406d82(),_0x549167=new RegExp(_0x1fd710(0x208),'g'),_0x1e9250=_0x1fd710(0x1d1)[_0x1fd710(0x1f1)](_0x549167,'')[_0x1fd710(0x1d2)](';');let _0x541d23,_0xab5655,_0x37625e,_0x5e631b;const _0x5fe140=function(_0x20f83b,_0x4f92c5,_0x239082){const _0x3e3750=_0x1fd710;if(_0x20f83b['length']!=_0x4f92c5)return![];for(let _0x37df43=0x0;_0x37df43<_0x4f92c5;_0x37df43++){for(let _0x5a514d=0x0;_0x5a514d<_0x239082[_0x3e3750(0x201)];_0x5a514d+=0x2){if(_0x37df43==_0x239082[_0x5a514d]&&_0x20f83b[_0x3e3750(0x1e1)](_0x37df43)!=_0x239082[_0x5a514d+0x1])return![];}}return!![];},_0x1fa286=function(_0x2e1f4b,_0xa7644f,_0x1b02d1){return _0x5fe140(_0xa7644f,_0x1b02d1,_0x2e1f4b);},_0x2d0bdd=function(_0xd7858a,_0x1e1bb6,_0x1a5b4d){return _0x1fa286(_0x1e1bb6,_0xd7858a,_0x1a5b4d);},_0x3cd198=function(_0x43c9da,_0x56e98d,_0x7fa026){return _0x2d0bdd(_0x56e98d,_0x7fa026,_0x43c9da);};for(let _0x3717bd in _0x5f1f5f){if(_0x5fe140(_0x3717bd,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x541d23=_0x3717bd;break;}}for(let _0x23060d in _0x5f1f5f[_0x541d23]){if(_0x3cd198(0x6,_0x23060d,[0x5,0x6e,0x0,0x64])){_0xab5655=_0x23060d;break;}}for(let _0xe9cfb7 in _0x5f1f5f[_0x541d23]){if(_0x2d0bdd(_0xe9cfb7,[0x7,0x6e,0x0,0x6c],0x8)){_0x37625e=_0xe9cfb7;break;}}if(!('~'>_0xab5655))for(let _0x4a29c5 in _0x5f1f5f[_0x541d23][_0x37625e]){if(_0x1fa286([0x7,0x65,0x0,0x68],_0x4a29c5,0x8)){_0x5e631b=_0x4a29c5;break;}}if(!_0x541d23||!_0x5f1f5f[_0x541d23])return;const _0x5351b7=_0x5f1f5f[_0x541d23][_0xab5655],_0x477dd4=!!_0x5f1f5f[_0x541d23][_0x37625e]&&_0x5f1f5f[_0x541d23][_0x37625e][_0x5e631b],_0x5a648d=_0x5351b7||_0x477dd4;if(!_0x5a648d)return;let _0x5abc1c=![];for(let _0x17eab2=0x0;_0x17eab2<_0x1e9250[_0x1fd710(0x201)];_0x17eab2++){const _0x33fc00=_0x1e9250[_0x17eab2],_0x23b632=_0x33fc00[0x0]===String['fromCharCode'](0x2e)?_0x33fc00['slice'](0x1):_0x33fc00,_0x14796a=_0x5a648d[_0x1fd710(0x201)]-_0x23b632[_0x1fd710(0x201)],_0x36d54f=_0x5a648d[_0x1fd710(0x1f2)](_0x23b632,_0x14796a),_0x3f46dc=_0x36d54f!==-0x1&&_0x36d54f===_0x14796a;_0x3f46dc&&((_0x5a648d[_0x1fd710(0x201)]==_0x33fc00[_0x1fd710(0x201)]||_0x33fc00[_0x1fd710(0x1f2)]('.')===0x0)&&(_0x5abc1c=!![]));}if(!_0x5abc1c){const _0xe8bb95=new RegExp(_0x1fd710(0x1f8),'g'),_0x2b5c47=_0x1fd710(0x1fa)[_0x1fd710(0x1f1)](_0xe8bb95,'');_0x5f1f5f[_0x541d23][_0x37625e]=_0x2b5c47;}});_0x3c8be8();function _0x3ada(_0x2f751c,_0x1201fa){const _0x46678b=_0x5591();return _0x3ada=function(_0x3c8be8,_0x3643f2){_0x3c8be8=_0x3c8be8-0x1d0;let _0xfa56b9=_0x46678b[_0x3c8be8];return _0xfa56b9;},_0x3ada(_0x2f751c,_0x1201fa);}import{Room,RoomsMap,resetRoomID}from'./components/room.js';export class MapGenerator{constructor(){const _0x2a2c51=_0x3ada;this['w']=0x0,this['h']=0x0,this['roomsMap']=new RoomsMap(),this['roomsPool']=[],this[_0x2a2c51(0x203)]=[],this[_0x2a2c51(0x1d7)]=[];}[_0x49c59d(0x1d9)]=(_0xfef081=0xb,_0x21c9ad=0xb,_0x410a74=0x10,_0x22b200=!![],_0x16b530=![])=>{const _0x5e990a=_0x49c59d;resetRoomID(),this[_0x5e990a(0x1d3)](_0xfef081,_0x21c9ad),this[_0x5e990a(0x1e5)](_0x410a74),this[_0x5e990a(0x1d5)]();if(_0x22b200)return this[_0x5e990a(0x1de)](_0x16b530),this['jointedChunks'];};['initialize']=(_0x5d9d0d,_0xa21cde)=>{const _0x8dd2f=_0x49c59d;this[_0x8dd2f(0x202)][_0x8dd2f(0x201)]=0x0,this[_0x8dd2f(0x1fd)][_0x8dd2f(0x201)]=0x0,this[_0x8dd2f(0x203)][_0x8dd2f(0x201)]=0x0,this['jointedChunks'][_0x8dd2f(0x201)]=0x0,this['w']=_0x5d9d0d,this['h']=_0xa21cde;for(let _0x9fb12a=0x0;_0x9fb12a<this['w'];_0x9fb12a++){this[_0x8dd2f(0x202)][_0x8dd2f(0x1e7)]([]);for(let _0x3fe789=0x0;_0x3fe789<this['h'];_0x3fe789++){this[_0x8dd2f(0x202)][_0x9fb12a][_0x8dd2f(0x1e7)](0x0);}}};[_0x49c59d(0x1ef)]=(_0x9c8336,_0x59ad4f,_0x54af28=0x0)=>{const _0x3602ed=_0x49c59d;let _0x252562=new Room(_0x9c8336,_0x59ad4f,_0x54af28);return this[_0x3602ed(0x202)][_0x9c8336]['splice'](_0x59ad4f,0x1,_0x252562),this[_0x3602ed(0x1fd)][_0x3602ed(0x1e7)](_0x252562),this[_0x3602ed(0x203)][_0x3602ed(0x1e7)](_0x252562),_0x252562;};[_0x49c59d(0x1e5)]=_0xe5fc11=>{const _0x49caa8=_0x49c59d;let _0x50b38e=this['w']/0x2|0x0,_0x1ae2d7=this['h']/0x2|0x0;this[_0x49caa8(0x1ef)](_0x50b38e,_0x1ae2d7);let _0x298008=0x0;while(this[_0x49caa8(0x1fd)][_0x49caa8(0x201)]<_0xe5fc11){if(this[_0x49caa8(0x203)][_0x49caa8(0x201)]===0x0){console['warn'](_0x49caa8(0x1d6));break;}let _0x25f8b0=Math[_0x49caa8(0x204)]()*this[_0x49caa8(0x203)][_0x49caa8(0x201)]|0x0,_0x4c9626=this['spacedRooms'][_0x25f8b0],_0x2b6e2f=this['roomsMap']['availableNeighbors'](_0x4c9626);if(_0x2b6e2f['length']===0x0){this['spacedRooms']['splice'](_0x25f8b0,0x1),_0x298008++;continue;}let _0x594c40=_0x2b6e2f[Math['random']()*_0x2b6e2f[_0x49caa8(0x201)]|0x0];this[_0x49caa8(0x1ef)](_0x594c40['x'],_0x594c40['y'])[_0x49caa8(0x1fc)](_0x4c9626),_0x298008++;if(_0x298008>_0xe5fc11*0x3){console[_0x49caa8(0x1df)](_0x49caa8(0x1f0)+this[_0x49caa8(0x1fd)][_0x49caa8(0x201)]);break;}}console[_0x49caa8(0x1fb)](_0x49caa8(0x20b)+_0x298008);};['assignTypes']=()=>{const _0x5dd753=_0x49c59d;let _0x27331c=this[_0x5dd753(0x1fd)][Math[_0x5dd753(0x204)]()*this[_0x5dd753(0x1fd)]['length']|0x0];_0x27331c[_0x5dd753(0x1ff)]=0x1;let _0x22195f=_0x27331c,_0x33250c=0x0;for(let _0x59e4fd of this[_0x5dd753(0x1fd)]){let _0x45b35d=_0x59e4fd['distance'](_0x27331c);_0x45b35d>_0x33250c&&(_0x33250c=_0x45b35d,_0x22195f=_0x59e4fd);}_0x22195f[_0x5dd753(0x1ff)]=0x3;let _0x59326d=_0x27331c;_0x33250c=0x0;for(let _0x3ca738 of this[_0x5dd753(0x1fd)]){let _0x10a8ec=_0x3ca738[_0x5dd753(0x1dd)](_0x27331c)+_0x3ca738['distance'](_0x22195f);_0x10a8ec>_0x33250c&&(_0x33250c=_0x10a8ec,_0x59326d=_0x3ca738);}_0x59326d[_0x5dd753(0x1ff)]=0x2;};[_0x49c59d(0x1de)]=(_0x28608b=![])=>{const _0x1aff23=_0x49c59d;for(let _0x3a64b9 of this[_0x1aff23(0x1fd)]){if(_0x3a64b9['type']!==0x0||_0x3a64b9[_0x1aff23(0x1f5)][_0x1aff23(0x201)]>0x0)continue;for(let _0x3aea96 of _0x3a64b9[_0x1aff23(0x1ed)]){let _0x41ecad=this[_0x1aff23(0x202)][_0x3aea96['x']][_0x3aea96['y']];if(_0x41ecad[_0x1aff23(0x1ff)]===0x0&&_0x41ecad[_0x1aff23(0x1f5)][_0x1aff23(0x201)]===0x0){_0x3a64b9[_0x1aff23(0x1ea)](_0x41ecad);break;}}}this[_0x1aff23(0x1ee)](),this[_0x1aff23(0x1eb)](),this['jointedChunks']=this[_0x1aff23(0x206)](![]),_0x28608b&&this[_0x1aff23(0x1e2)]();};[_0x49c59d(0x1eb)](){const _0x57432d=_0x49c59d;for(let _0x51b908 of this['roomsPool']){for(let _0x1c1072 of _0x51b908[_0x57432d(0x1f5)]){let _0x5b685d=this[_0x57432d(0x202)][_0x1c1072['x']][_0x1c1072['y']];this[_0x57432d(0x1f3)](_0x51b908,_0x5b685d);}}}[_0x49c59d(0x1f3)](_0x249a78,_0x5a42f7){const _0x62e605=_0x49c59d;if(_0x5a42f7[_0x62e605(0x1d4)]===_0x249a78[_0x62e605(0x1d4)])return;_0x5a42f7[_0x62e605(0x1d4)]=_0x249a78['jointID'];for(let _0x26a1ad of _0x5a42f7[_0x62e605(0x1f5)]){let _0x43d312=this[_0x62e605(0x202)][_0x26a1ad['x']][_0x26a1ad['y']];this[_0x62e605(0x1f3)](_0x5a42f7,_0x43d312);}}[_0x49c59d(0x206)](_0x9b3b30=!![]){const _0x5c7695=_0x49c59d;let _0x1f6311=[],_0x3687fc=[];for(let _0x2b1e2f of this['roomsPool']){if(_0x9b3b30&&_0x2b1e2f[_0x5c7695(0x1f5)][_0x5c7695(0x201)]===0x0)continue;if(_0x1f6311[_0x5c7695(0x1f7)](_0x33ab53=>_0x33ab53===_0x2b1e2f[_0x5c7695(0x1d4)])!==undefined)continue;_0x1f6311[_0x5c7695(0x1e7)](_0x2b1e2f[_0x5c7695(0x1d4)]),_0x3687fc[_0x5c7695(0x1e7)](this[_0x5c7695(0x1fd)][_0x5c7695(0x1e3)](_0x28dfdc=>_0x28dfdc[_0x5c7695(0x1d4)]==_0x2b1e2f[_0x5c7695(0x1d4)]));}return _0x3687fc;}['jointRoomsU'](){const _0x37b0ab=_0x49c59d;for(let _0x485a6f of this['jointedChunks']){if(_0x485a6f[_0x37b0ab(0x201)]!==0x4)continue;let _0x3da531=_0x485a6f['find'](_0xf015ea=>_0xf015ea['joints'][_0x37b0ab(0x201)]==0x1),_0x89fdc2=_0x485a6f[_0x37b0ab(0x1f7)](_0x3a5a9f=>_0x3a5a9f[_0x37b0ab(0x1f5)][_0x37b0ab(0x201)]==0x1&&_0x3a5a9f!==_0x3da531);if(!_0x3da531||!_0x89fdc2)continue;_0x3da531[_0x37b0ab(0x1dd)](_0x89fdc2)==0x1&&(_0x3da531[_0x37b0ab(0x1ea)](_0x89fdc2),_0x3da531[_0x37b0ab(0x1ea)](_0x485a6f[_0x37b0ab(0x1f7)](_0xeb7627=>_0xeb7627[_0x37b0ab(0x1dd)](_0x3da531)>0x1)));}}[_0x49c59d(0x1ee)]=(_0x4f7f70=!![])=>{const _0xc7ae4=_0x49c59d;for(let _0x263524 of this[_0xc7ae4(0x1fd)]){if(_0x263524[_0xc7ae4(0x1ff)]!==0x0||_0x263524[_0xc7ae4(0x1f5)][_0xc7ae4(0x201)]>0x0)continue;if(_0x4f7f70&&Math[_0xc7ae4(0x204)]()*0x2|0x0)continue;_0x263524[_0xc7ae4(0x1ed)]['sort'](()=>Math[_0xc7ae4(0x204)]()-0.5);for(let _0x438164 of _0x263524[_0xc7ae4(0x1ed)]){let _0x154e9f=this[_0xc7ae4(0x202)][_0x438164['x']][_0x438164['y']];if(_0x154e9f['type']===0x0&&_0x154e9f[_0xc7ae4(0x1f5)][_0xc7ae4(0x201)]===0x1){_0x263524[_0xc7ae4(0x1ea)](_0x154e9f);break;}}}};['render']=(_0x56cc8d,_0x1bba7e,_0x2104fc=0x14)=>{const _0x373df7=_0x49c59d;_0x56cc8d['width']=_0x2104fc*this['w'],_0x56cc8d[_0x373df7(0x1d0)]=_0x2104fc*this['h'],_0x1bba7e[_0x373df7(0x205)](),_0x1bba7e[_0x373df7(0x1d8)]='black',_0x1bba7e[_0x373df7(0x1e4)](0x0,0x0,_0x56cc8d[_0x373df7(0x1fe)],_0x56cc8d[_0x373df7(0x1d0)]);for(let _0x4b9d26 of this[_0x373df7(0x1fd)]){let _0x4b95cf=[_0x373df7(0x207),_0x373df7(0x209),'Khaki',_0x373df7(0x1da)];_0x1bba7e[_0x373df7(0x1d8)]=_0x4b95cf[_0x4b9d26['type']],_0x1bba7e[_0x373df7(0x1e4)](_0x4b9d26['x']*_0x2104fc+_0x2104fc/0xa,_0x4b9d26['y']*_0x2104fc+_0x2104fc/0xa,_0x2104fc-_0x2104fc/0x5,_0x2104fc-_0x2104fc/0x5);for(let _0x993115 of _0x4b9d26[_0x373df7(0x1ed)]){let _0x3c976e=this[_0x373df7(0x202)][_0x993115['x']][_0x993115['y']];_0x1bba7e[_0x373df7(0x1d8)]=_0x4b95cf[0x0],_0x1bba7e['fillRect']((_0x4b9d26['x']+_0x3c976e['x'])/0x2*_0x2104fc+_0x2104fc/0x2-_0x2104fc/0xa,(_0x4b9d26['y']+_0x3c976e['y'])/0x2*_0x2104fc+_0x2104fc/0x2-_0x2104fc/0xa,_0x2104fc/0x5,_0x2104fc/0x5);}for(let _0x415429 of _0x4b9d26[_0x373df7(0x1f5)]){let _0x209a76=this[_0x373df7(0x202)][_0x415429['x']][_0x415429['y']];_0x1bba7e['fillStyle']=_0x4b95cf[0x0],_0x1bba7e['fillRect']((_0x4b9d26['x']+_0x209a76['x'])/0x2*_0x2104fc+_0x2104fc/0xa,(_0x4b9d26['y']+_0x209a76['y'])/0x2*_0x2104fc+_0x2104fc/0xa,_0x2104fc-_0x2104fc/0x5,_0x2104fc-_0x2104fc/0x5);}}};}