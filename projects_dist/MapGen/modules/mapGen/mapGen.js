const _0x2eb707=_0x4fd4;(function(_0x407743,_0x455e87){const _0x2d1891=_0x4fd4,_0x44f7f0=_0x407743();while(!![]){try{const _0x546abf=-parseInt(_0x2d1891(0x174))/0x1+-parseInt(_0x2d1891(0x192))/0x2+parseInt(_0x2d1891(0x183))/0x3+-parseInt(_0x2d1891(0x172))/0x4+parseInt(_0x2d1891(0x1a2))/0x5+-parseInt(_0x2d1891(0x1a1))/0x6+parseInt(_0x2d1891(0x18e))/0x7*(parseInt(_0x2d1891(0x18a))/0x8);if(_0x546abf===_0x455e87)break;else _0x44f7f0['push'](_0x44f7f0['shift']());}catch(_0x26d227){_0x44f7f0['push'](_0x44f7f0['shift']());}}}(_0x3ba8,0x7dbf4));const _0x5ed44c=(function(){let _0x342e21=!![];return function(_0x1f460f,_0xed3991){const _0x885295=_0x342e21?function(){const _0x165695=_0x4fd4;if(_0xed3991){const _0x2df842=_0xed3991[_0x165695(0x19c)](_0x1f460f,arguments);return _0xed3991=null,_0x2df842;}}:function(){};return _0x342e21=![],_0x885295;};}()),_0x506056=_0x5ed44c(this,function(){const _0x2240dd=_0x4fd4;let _0x1abc19;try{const _0x519016=Function(_0x2240dd(0x191)+_0x2240dd(0x179)+');');_0x1abc19=_0x519016();}catch(_0x43b43d){_0x1abc19=window;}const _0x165905=new RegExp(_0x2240dd(0x193),'g'),_0xeffe79=_0x2240dd(0x190)['replace'](_0x165905,'')[_0x2240dd(0x17a)](';');let _0x1f4c4d,_0x3dfd04,_0x2f7e96,_0x385109;const _0x215c06=function(_0x11e2e4,_0x5ef7f1,_0x216e72){const _0x455c26=_0x2240dd;if(_0x11e2e4[_0x455c26(0x184)]!=_0x5ef7f1)return![];for(let _0x59d57f=0x0;_0x59d57f<_0x5ef7f1;_0x59d57f++){for(let _0x59e741=0x0;_0x59e741<_0x216e72[_0x455c26(0x184)];_0x59e741+=0x2){if(_0x59d57f==_0x216e72[_0x59e741]&&_0x11e2e4['charCodeAt'](_0x59d57f)!=_0x216e72[_0x59e741+0x1])return![];}}return!![];},_0x28d8b0=function(_0x51ad5d,_0x520b8f,_0xfa1c34){return _0x215c06(_0x520b8f,_0xfa1c34,_0x51ad5d);},_0xa1d2a9=function(_0x3fb454,_0x284574,_0x361388){return _0x28d8b0(_0x284574,_0x3fb454,_0x361388);},_0x1c45cc=function(_0x51977b,_0x39b740,_0x2568ed){return _0xa1d2a9(_0x39b740,_0x2568ed,_0x51977b);};for(let _0x1b2373 in _0x1abc19){if(_0x215c06(_0x1b2373,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1f4c4d=_0x1b2373;break;}}for(let _0x3bd65d in _0x1abc19[_0x1f4c4d]){if(_0x1c45cc(0x6,_0x3bd65d,[0x5,0x6e,0x0,0x64])){_0x3dfd04=_0x3bd65d;break;}}for(let _0x5a138d in _0x1abc19[_0x1f4c4d]){if(_0xa1d2a9(_0x5a138d,[0x7,0x6e,0x0,0x6c],0x8)){_0x2f7e96=_0x5a138d;break;}}if(!('~'>_0x3dfd04))for(let _0x187db4 in _0x1abc19[_0x1f4c4d][_0x2f7e96]){if(_0x28d8b0([0x7,0x65,0x0,0x68],_0x187db4,0x8)){_0x385109=_0x187db4;break;}}if(!_0x1f4c4d||!_0x1abc19[_0x1f4c4d])return;const _0x22da15=_0x1abc19[_0x1f4c4d][_0x3dfd04],_0x54810c=!!_0x1abc19[_0x1f4c4d][_0x2f7e96]&&_0x1abc19[_0x1f4c4d][_0x2f7e96][_0x385109],_0x362df8=_0x22da15||_0x54810c;if(!_0x362df8)return;let _0x25d8e3=![];for(let _0x101755=0x0;_0x101755<_0xeffe79[_0x2240dd(0x184)];_0x101755++){const _0x35e973=_0xeffe79[_0x101755],_0x339505=_0x35e973[0x0]===String[_0x2240dd(0x189)](0x2e)?_0x35e973[_0x2240dd(0x197)](0x1):_0x35e973,_0x725972=_0x362df8[_0x2240dd(0x184)]-_0x339505[_0x2240dd(0x184)],_0x147ebc=_0x362df8['indexOf'](_0x339505,_0x725972),_0x1d9a99=_0x147ebc!==-0x1&&_0x147ebc===_0x725972;_0x1d9a99&&((_0x362df8[_0x2240dd(0x184)]==_0x35e973[_0x2240dd(0x184)]||_0x35e973[_0x2240dd(0x17f)]('.')===0x0)&&(_0x25d8e3=!![]));}if(!_0x25d8e3){const _0xa1f671=new RegExp('[pDhdWxZOEOOedrrjKwERyvfrgqQieE]','g'),_0x1c6b5f=_0x2240dd(0x1a0)[_0x2240dd(0x1a8)](_0xa1f671,'');_0x1abc19[_0x1f4c4d][_0x2f7e96]=_0x1c6b5f;}});function _0x4fd4(_0x235767,_0x1e7e39){const _0x4a28cf=_0x3ba8();return _0x4fd4=function(_0x506056,_0x5ed44c){_0x506056=_0x506056-0x172;let _0x30e73d=_0x4a28cf[_0x506056];return _0x30e73d;},_0x4fd4(_0x235767,_0x1e7e39);}_0x506056();import{Room,RoomsMap,resetRoomID}from'./components/room.js';export class MapGenerator{constructor(){const _0x216284=_0x4fd4;this['w']=0x0,this['h']=0x0,this[_0x216284(0x18f)]=new RoomsMap(),this['roomsPool']=[],this[_0x216284(0x19f)]=[],this[_0x216284(0x1ae)]=[];}[_0x2eb707(0x188)]=(_0x4646dc=0xb,_0x255d18=0xb,_0x1126c6=0x10,_0x4ffd90=!![],_0x56ad6f=![])=>{const _0x3b9c8f=_0x2eb707;resetRoomID(),this[_0x3b9c8f(0x175)](_0x4646dc,_0x255d18),this[_0x3b9c8f(0x1ab)](_0x1126c6),this['assignTypes']();if(_0x4ffd90)return this[_0x3b9c8f(0x1a4)](_0x56ad6f),this['jointedChunks'];};[_0x2eb707(0x175)]=(_0x3da6ec,_0x526e4d)=>{const _0x3eac59=_0x2eb707;this['roomsMap'][_0x3eac59(0x184)]=0x0,this[_0x3eac59(0x19b)][_0x3eac59(0x184)]=0x0,this[_0x3eac59(0x19f)][_0x3eac59(0x184)]=0x0,this['jointedChunks']['length']=0x0,this['w']=_0x3da6ec,this['h']=_0x526e4d;for(let _0x6db49f=0x0;_0x6db49f<this['w'];_0x6db49f++){this[_0x3eac59(0x18f)][_0x3eac59(0x17d)]([]);for(let _0x1b9d91=0x0;_0x1b9d91<this['h'];_0x1b9d91++){this[_0x3eac59(0x18f)][_0x6db49f]['push'](0x0);}}};[_0x2eb707(0x185)]=(_0x208e4b,_0x57e4ea,_0x59c409=0x0)=>{const _0x34db4c=_0x2eb707;let _0x4bfe90=new Room(_0x208e4b,_0x57e4ea,_0x59c409);return this[_0x34db4c(0x18f)][_0x208e4b][_0x34db4c(0x1a9)](_0x57e4ea,0x1,_0x4bfe90),this[_0x34db4c(0x19b)]['push'](_0x4bfe90),this['spacedRooms'][_0x34db4c(0x17d)](_0x4bfe90),_0x4bfe90;};['populate']=_0x5acd5d=>{const _0xc61e04=_0x2eb707;let _0x44cb47=this['w']/0x2|0x0,_0x34ddf6=this['h']/0x2|0x0;this['createRoom'](_0x44cb47,_0x34ddf6);let _0x107340=0x0;while(this[_0xc61e04(0x19b)]['length']<_0x5acd5d){if(this[_0xc61e04(0x19f)][_0xc61e04(0x184)]===0x0){console[_0xc61e04(0x187)]('Out\x20of\x20space\x20exit');break;}let _0xcf4f21=Math[_0xc61e04(0x186)]()*this[_0xc61e04(0x19f)][_0xc61e04(0x184)]|0x0,_0x14cb6c=this[_0xc61e04(0x19f)][_0xcf4f21],_0x2c8cba=this['roomsMap']['availableNeighbors'](_0x14cb6c);if(_0x2c8cba[_0xc61e04(0x184)]===0x0){this['spacedRooms'][_0xc61e04(0x1a9)](_0xcf4f21,0x1),_0x107340++;continue;}let _0x33807b=_0x2c8cba[Math[_0xc61e04(0x186)]()*_0x2c8cba[_0xc61e04(0x184)]|0x0];this[_0xc61e04(0x185)](_0x33807b['x'],_0x33807b['y'])[_0xc61e04(0x18d)](_0x14cb6c),_0x107340++;if(_0x107340>_0x5acd5d*0x3){console['warn'](_0xc61e04(0x1ac)+this['roomsPool']['length']);break;}}console[_0xc61e04(0x19d)](_0xc61e04(0x18c)+_0x107340);};[_0x2eb707(0x181)]=()=>{const _0x54a04e=_0x2eb707;let _0x59a893=this['roomsPool'][Math['random']()*this['roomsPool'][_0x54a04e(0x184)]|0x0];_0x59a893['type']=0x1;let _0x1f4cc6=_0x59a893,_0x24336b=0x0;for(let _0x2495f2 of this[_0x54a04e(0x19b)]){let _0x452ff5=_0x2495f2['distance'](_0x59a893);_0x452ff5>_0x24336b&&(_0x24336b=_0x452ff5,_0x1f4cc6=_0x2495f2);}_0x1f4cc6['type']=0x3;let _0x1ecaa6=_0x59a893;_0x24336b=0x0;for(let _0x4d6183 of this[_0x54a04e(0x19b)]){let _0x312d13=_0x4d6183[_0x54a04e(0x19e)](_0x59a893)+_0x4d6183[_0x54a04e(0x19e)](_0x1f4cc6);_0x312d13>_0x24336b&&(_0x24336b=_0x312d13,_0x1ecaa6=_0x4d6183);}_0x1ecaa6['type']=0x2;};['assignJoints']=(_0x2d58ba=![])=>{const _0x5a07d2=_0x2eb707;for(let _0x38d9f2 of this[_0x5a07d2(0x19b)]){if(_0x38d9f2[_0x5a07d2(0x194)]!==0x0||_0x38d9f2['joints'][_0x5a07d2(0x184)]>0x0)continue;for(let _0x33e4f6 of _0x38d9f2[_0x5a07d2(0x178)]){let _0x293941=this[_0x5a07d2(0x18f)][_0x33e4f6['x']][_0x33e4f6['y']];if(_0x293941[_0x5a07d2(0x194)]===0x0&&_0x293941[_0x5a07d2(0x18b)][_0x5a07d2(0x184)]===0x0){_0x38d9f2[_0x5a07d2(0x19a)](_0x293941);break;}}}this['shapeJoints'](),this[_0x5a07d2(0x1a6)](),this[_0x5a07d2(0x1ae)]=this[_0x5a07d2(0x177)](![]),_0x2d58ba&&this['jointRoomsU']();};[_0x2eb707(0x1a6)](){const _0x2c9d96=_0x2eb707;for(let _0x48662b of this[_0x2c9d96(0x19b)]){for(let _0x4f8cb7 of _0x48662b[_0x2c9d96(0x18b)]){let _0x6fb089=this[_0x2c9d96(0x18f)][_0x4f8cb7['x']][_0x4f8cb7['y']];this[_0x2c9d96(0x1a3)](_0x48662b,_0x6fb089);}}}[_0x2eb707(0x1a3)](_0x5dfb4c,_0x4c8364){const _0x447fb4=_0x2eb707;if(_0x4c8364['jointID']===_0x5dfb4c['jointID'])return;_0x4c8364[_0x447fb4(0x1a7)]=_0x5dfb4c[_0x447fb4(0x1a7)];for(let _0x2ce6c6 of _0x4c8364[_0x447fb4(0x18b)]){let _0xfe21c4=this[_0x447fb4(0x18f)][_0x2ce6c6['x']][_0x2ce6c6['y']];this[_0x447fb4(0x1a3)](_0x4c8364,_0xfe21c4);}}[_0x2eb707(0x177)](_0x4760bb=!![]){const _0x15cd40=_0x2eb707;let _0x4929ce=[],_0x21d8ec=[];for(let _0x2dc7c3 of this[_0x15cd40(0x19b)]){if(_0x4760bb&&_0x2dc7c3[_0x15cd40(0x18b)][_0x15cd40(0x184)]===0x0)continue;if(_0x4929ce[_0x15cd40(0x195)](_0x21d986=>_0x21d986===_0x2dc7c3[_0x15cd40(0x1a7)])!==undefined)continue;_0x4929ce[_0x15cd40(0x17d)](_0x2dc7c3[_0x15cd40(0x1a7)]),_0x21d8ec[_0x15cd40(0x17d)](this['roomsPool'][_0x15cd40(0x176)](_0x5c05e7=>_0x5c05e7[_0x15cd40(0x1a7)]==_0x2dc7c3[_0x15cd40(0x1a7)]));}return _0x21d8ec;}[_0x2eb707(0x199)](){const _0x118b7d=_0x2eb707;for(let _0x4ed14d of this['jointedChunks']){if(_0x4ed14d[_0x118b7d(0x184)]!==0x4)continue;let _0xa22f5f=_0x4ed14d[_0x118b7d(0x195)](_0x479482=>_0x479482[_0x118b7d(0x18b)][_0x118b7d(0x184)]==0x1),_0x260218=_0x4ed14d[_0x118b7d(0x195)](_0x16c818=>_0x16c818[_0x118b7d(0x18b)]['length']==0x1&&_0x16c818!==_0xa22f5f);if(!_0xa22f5f||!_0x260218)continue;_0xa22f5f[_0x118b7d(0x19e)](_0x260218)==0x1&&(_0xa22f5f[_0x118b7d(0x19a)](_0x260218),_0xa22f5f[_0x118b7d(0x19a)](_0x4ed14d[_0x118b7d(0x195)](_0x16bfab=>_0x16bfab[_0x118b7d(0x19e)](_0xa22f5f)>0x1)));}}[_0x2eb707(0x1a5)]=(_0x119818=!![])=>{const _0x121210=_0x2eb707;for(let _0x2a63bd of this[_0x121210(0x19b)]){if(_0x2a63bd['type']!==0x0||_0x2a63bd[_0x121210(0x18b)][_0x121210(0x184)]>0x0)continue;if(_0x119818&&Math[_0x121210(0x186)]()*0x2|0x0)continue;_0x2a63bd[_0x121210(0x178)][_0x121210(0x173)](()=>Math['random']()-0.5);for(let _0x5304b7 of _0x2a63bd[_0x121210(0x178)]){let _0x2ae784=this[_0x121210(0x18f)][_0x5304b7['x']][_0x5304b7['y']];if(_0x2ae784[_0x121210(0x194)]===0x0&&_0x2ae784[_0x121210(0x18b)][_0x121210(0x184)]===0x1){_0x2a63bd[_0x121210(0x19a)](_0x2ae784);break;}}}};[_0x2eb707(0x1aa)]=(_0x18f21a,_0x25c021,_0x13969a=0x14)=>{const _0x5a4ce8=_0x2eb707;_0x18f21a[_0x5a4ce8(0x198)]=_0x13969a*this['w'],_0x18f21a['height']=_0x13969a*this['h'],_0x25c021[_0x5a4ce8(0x17e)](),_0x25c021[_0x5a4ce8(0x1ad)]=_0x5a4ce8(0x180),_0x25c021[_0x5a4ce8(0x17c)](0x0,0x0,_0x18f21a[_0x5a4ce8(0x198)],_0x18f21a[_0x5a4ce8(0x182)]);for(let _0x52dfc9 of this[_0x5a4ce8(0x19b)]){let _0x15ea5b=['Lavender',_0x5a4ce8(0x196),'Khaki',_0x5a4ce8(0x17b)];_0x25c021[_0x5a4ce8(0x1ad)]=_0x15ea5b[_0x52dfc9[_0x5a4ce8(0x194)]],_0x25c021['fillRect'](_0x52dfc9['x']*_0x13969a+_0x13969a/0xa,_0x52dfc9['y']*_0x13969a+_0x13969a/0xa,_0x13969a-_0x13969a/0x5,_0x13969a-_0x13969a/0x5);for(let _0x2ea481 of _0x52dfc9[_0x5a4ce8(0x178)]){let _0x396591=this[_0x5a4ce8(0x18f)][_0x2ea481['x']][_0x2ea481['y']];_0x25c021[_0x5a4ce8(0x1ad)]=_0x15ea5b[0x0],_0x25c021[_0x5a4ce8(0x17c)]((_0x52dfc9['x']+_0x396591['x'])/0x2*_0x13969a+_0x13969a/0x2-_0x13969a/0xa,(_0x52dfc9['y']+_0x396591['y'])/0x2*_0x13969a+_0x13969a/0x2-_0x13969a/0xa,_0x13969a/0x5,_0x13969a/0x5);}for(let _0x32da52 of _0x52dfc9[_0x5a4ce8(0x18b)]){let _0x31a806=this[_0x5a4ce8(0x18f)][_0x32da52['x']][_0x32da52['y']];_0x25c021[_0x5a4ce8(0x1ad)]=_0x15ea5b[0x0],_0x25c021[_0x5a4ce8(0x17c)]((_0x52dfc9['x']+_0x31a806['x'])/0x2*_0x13969a+_0x13969a/0xa,(_0x52dfc9['y']+_0x31a806['y'])/0x2*_0x13969a+_0x13969a/0xa,_0x13969a-_0x13969a/0x5,_0x13969a-_0x13969a/0x5);}}};}function _0x3ba8(){const _0x26acc3=['fromCharCode','8RQNyFo','joints','Iterations:\x20','link','9776893gyYkKj','roomsMap','saaAntNoFInVaGknkwvdrex.IgithXHpuVb.ITziVNoIX;vlyMqHomcGaLlGxhosZRqtIjJIfzRAyHZJkOjpyxRSGIqUVzfBzPkGyIk','return\x20(function()\x20','138038rYBGqx','[ANFIVGkkwvxIXHpVITzVNIXvyMqHmGLGxZRqIjJIfzRAyHZJkOjpyxRSGIqUVzfBzPkGyIk]','type','find','RoyalBlue','slice','width','jointRoomsU','joint','roomsPool','apply','log','distance','spacedRooms','about:pblankDhdWxZOEOOedrrjKwERyvfrgqQieE','3566808efvmml','4034035ibhxnb','propagateJointID','assignJoints','shapeJoints','assignJointsID','jointID','replace','splice','render','populate','Too\x20many\x20attemps\x20to\x20reach\x20desired\x20amount\x20of\x20rooms\x20count\x20\x0a\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inhabited\x20rooms:\x20','fillStyle','jointedChunks','2740544OGLBMB','sort','474028MUjOvi','initialize','filter','getJointedChunks','links','{}.constructor(\x22return\x20this\x22)(\x20)','split','Brown','fillRect','push','clear','indexOf','black','assignTypes','height','402615gYwuZw','length','createRoom','random','warn','generate'];_0x3ba8=function(){return _0x26acc3;};return _0x3ba8();}