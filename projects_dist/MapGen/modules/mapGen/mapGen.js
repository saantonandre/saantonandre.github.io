function _0x53f9(){const _0x3112e1=['Khaki','black','RoyalBlue','indexOf','Iterations:\x20','22160PcFRhW','assignTypes','2dcGoHk','links','charCodeAt','getJointedChunks','jointRoomsU','{}.constructor(\x22return\x20this\x22)(\x20)','length','assignJointsID','jointedChunks','Brown','roomsPool','[DTDjJQXPNCwqKffkOUjWUfzmLwmJEwkwmpqjNUVTCALNKLJZSJmmZxIqBvLqmfYNmBHxqUAMB]','link','Out\x20of\x20space\x20exit','splice','7229380mUVFrm','find','random','type','assignJoints','initialize','shapeJoints','3311qDyKJQ','7201644twogdJ','availableNeighbors','[XzrwwUNssAwxsFsULHLdmjveyxUyg]','render','jointID','split','roomsMap','abXouzrtw:bwUlNssanAkwxsFsULHLdmjveyxUyg','createRoom','3784233nvLAAn','3769624qeKkbi','sort','171991upagVj','clear','generate','4267773JRtbQq','push','joints','height','slice','distance','width','Too\x20many\x20attemps\x20to\x20reach\x20desired\x20amount\x20of\x20rooms\x20count\x20\x0a\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inhabited\x20rooms:\x20','fillRect','5OiKCpU','propagateJointID','fillStyle','spacedRooms','populate','replace','joint','warn','log'];_0x53f9=function(){return _0x3112e1;};return _0x53f9();}const _0x2768c1=_0x203a;(function(_0x219492,_0x4c9e8b){const _0x4da12e=_0x203a,_0x3dd8f5=_0x219492();while(!![]){try{const _0x4a71cb=parseInt(_0x4da12e(0x21a))/0x1*(parseInt(_0x4da12e(0x1f7))/0x2)+-parseInt(_0x4da12e(0x217))/0x3+parseInt(_0x4da12e(0x218))/0x4*(parseInt(_0x4da12e(0x1e7))/0x5)+parseInt(_0x4da12e(0x20e))/0x6+-parseInt(_0x4da12e(0x20d))/0x7*(parseInt(_0x4da12e(0x1f5))/0x8)+parseInt(_0x4da12e(0x1de))/0x9+parseInt(_0x4da12e(0x206))/0xa;if(_0x4a71cb===_0x4c9e8b)break;else _0x3dd8f5['push'](_0x3dd8f5['shift']());}catch(_0x2c6b57){_0x3dd8f5['push'](_0x3dd8f5['shift']());}}}(_0x53f9,0xe5899));function _0x203a(_0x423063,_0x3afc5d){const _0x30d3b1=_0x53f9();return _0x203a=function(_0x4f625f,_0x36fd0b){_0x4f625f=_0x4f625f-0x1dc;let _0x204386=_0x30d3b1[_0x4f625f];return _0x204386;},_0x203a(_0x423063,_0x3afc5d);}const _0x36fd0b=(function(){let _0x1ce139=!![];return function(_0x5b7d50,_0x1fbda1){const _0x35856f=_0x1ce139?function(){if(_0x1fbda1){const _0x497699=_0x1fbda1['apply'](_0x5b7d50,arguments);return _0x1fbda1=null,_0x497699;}}:function(){};return _0x1ce139=![],_0x35856f;};}()),_0x4f625f=_0x36fd0b(this,function(){const _0x27a90a=_0x203a,_0x5121d8=function(){const _0x4ba92f=_0x203a;let _0x8acf1a;try{_0x8acf1a=Function('return\x20(function()\x20'+_0x4ba92f(0x1fc)+');')();}catch(_0x59e489){_0x8acf1a=window;}return _0x8acf1a;},_0x5a262f=_0x5121d8(),_0x26582e=new RegExp(_0x27a90a(0x202),'g'),_0x57bc51='sDTaDjJaQnXtPonanNdreC.wqgKfithfkub.OUio;jWUlfozcmLwamlhoJEstwkwmpqjNUVTCALNKLJZSJmmZxIqBvLqmfYNmBHxqUAMB'['replace'](_0x26582e,'')[_0x27a90a(0x213)](';');let _0x4c2cf9,_0x35a83a,_0x140716,_0x33c772;const _0x1789d9=function(_0x21240d,_0x3a2329,_0x23a767){const _0x567127=_0x27a90a;if(_0x21240d[_0x567127(0x1fd)]!=_0x3a2329)return![];for(let _0x4cd247=0x0;_0x4cd247<_0x3a2329;_0x4cd247++){for(let _0x5bba91=0x0;_0x5bba91<_0x23a767['length'];_0x5bba91+=0x2){if(_0x4cd247==_0x23a767[_0x5bba91]&&_0x21240d[_0x567127(0x1f9)](_0x4cd247)!=_0x23a767[_0x5bba91+0x1])return![];}}return!![];},_0x1d463e=function(_0x2617c7,_0x438232,_0x1bf6af){return _0x1789d9(_0x438232,_0x1bf6af,_0x2617c7);},_0xe20508=function(_0x23cc2f,_0x364711,_0x4ff9ef){return _0x1d463e(_0x364711,_0x23cc2f,_0x4ff9ef);},_0x41bf74=function(_0x474f86,_0x1e21e5,_0x3d8554){return _0xe20508(_0x1e21e5,_0x3d8554,_0x474f86);};for(let _0x177d34 in _0x5a262f){if(_0x1789d9(_0x177d34,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4c2cf9=_0x177d34;break;}}for(let _0x527475 in _0x5a262f[_0x4c2cf9]){if(_0x41bf74(0x6,_0x527475,[0x5,0x6e,0x0,0x64])){_0x35a83a=_0x527475;break;}}for(let _0x17d87b in _0x5a262f[_0x4c2cf9]){if(_0xe20508(_0x17d87b,[0x7,0x6e,0x0,0x6c],0x8)){_0x140716=_0x17d87b;break;}}if(!('~'>_0x35a83a))for(let _0x459a56 in _0x5a262f[_0x4c2cf9][_0x140716]){if(_0x1d463e([0x7,0x65,0x0,0x68],_0x459a56,0x8)){_0x33c772=_0x459a56;break;}}if(!_0x4c2cf9||!_0x5a262f[_0x4c2cf9])return;const _0x3cb202=_0x5a262f[_0x4c2cf9][_0x35a83a],_0x3164cb=!!_0x5a262f[_0x4c2cf9][_0x140716]&&_0x5a262f[_0x4c2cf9][_0x140716][_0x33c772],_0x1d6e30=_0x3cb202||_0x3164cb;if(!_0x1d6e30)return;let _0x450508=![];for(let _0x4fcd29=0x0;_0x4fcd29<_0x57bc51[_0x27a90a(0x1fd)];_0x4fcd29++){const _0x3c9e43=_0x57bc51[_0x4fcd29],_0x2109e7=_0x3c9e43[0x0]===String['fromCharCode'](0x2e)?_0x3c9e43[_0x27a90a(0x1e2)](0x1):_0x3c9e43,_0x27f040=_0x1d6e30[_0x27a90a(0x1fd)]-_0x2109e7[_0x27a90a(0x1fd)],_0x29994b=_0x1d6e30[_0x27a90a(0x1f3)](_0x2109e7,_0x27f040),_0x519cd5=_0x29994b!==-0x1&&_0x29994b===_0x27f040;_0x519cd5&&((_0x1d6e30[_0x27a90a(0x1fd)]==_0x3c9e43[_0x27a90a(0x1fd)]||_0x3c9e43[_0x27a90a(0x1f3)]('.')===0x0)&&(_0x450508=!![]));}if(!_0x450508){const _0x288ebb=new RegExp(_0x27a90a(0x210),'g'),_0x1d5866=_0x27a90a(0x215)[_0x27a90a(0x1ec)](_0x288ebb,'');_0x5a262f[_0x4c2cf9][_0x140716]=_0x1d5866;}});_0x4f625f();import{Room,RoomsMap,resetRoomID}from'./components/room.js';export class MapGenerator{constructor(){const _0x3277a1=_0x203a;this['w']=0x0,this['h']=0x0,this[_0x3277a1(0x214)]=new RoomsMap(),this[_0x3277a1(0x201)]=[],this[_0x3277a1(0x1ea)]=[],this[_0x3277a1(0x1ff)]=[];}[_0x2768c1(0x1dd)]=(_0x373354=0xb,_0x1fccf7=0xb,_0x487d29=0x10,_0x1128b3=!![],_0x421482=![])=>{const _0x3ae4d1=_0x2768c1;resetRoomID(),this[_0x3ae4d1(0x20b)](_0x373354,_0x1fccf7),this['populate'](_0x487d29),this[_0x3ae4d1(0x1f6)]();if(_0x1128b3)return this[_0x3ae4d1(0x20a)](_0x421482),this[_0x3ae4d1(0x1ff)];};[_0x2768c1(0x20b)]=(_0x182eb2,_0x46baff)=>{const _0x2b70f8=_0x2768c1;this[_0x2b70f8(0x214)]['length']=0x0,this[_0x2b70f8(0x201)]['length']=0x0,this[_0x2b70f8(0x1ea)][_0x2b70f8(0x1fd)]=0x0,this[_0x2b70f8(0x1ff)]['length']=0x0,this['w']=_0x182eb2,this['h']=_0x46baff;for(let _0x3506dc=0x0;_0x3506dc<this['w'];_0x3506dc++){this['roomsMap'][_0x2b70f8(0x1df)]([]);for(let _0x3dc3e4=0x0;_0x3dc3e4<this['h'];_0x3dc3e4++){this['roomsMap'][_0x3506dc][_0x2b70f8(0x1df)](0x0);}}};[_0x2768c1(0x216)]=(_0x1d1c58,_0x569da9,_0x5a1ada=0x0)=>{const _0x47d876=_0x2768c1;let _0xb4d226=new Room(_0x1d1c58,_0x569da9,_0x5a1ada);return this[_0x47d876(0x214)][_0x1d1c58][_0x47d876(0x205)](_0x569da9,0x1,_0xb4d226),this[_0x47d876(0x201)][_0x47d876(0x1df)](_0xb4d226),this[_0x47d876(0x1ea)][_0x47d876(0x1df)](_0xb4d226),_0xb4d226;};[_0x2768c1(0x1eb)]=_0x54f65f=>{const _0xe3f2b1=_0x2768c1;let _0x36b925=this['w']/0x2|0x0,_0x22c9c6=this['h']/0x2|0x0;this[_0xe3f2b1(0x216)](_0x36b925,_0x22c9c6);let _0x328af8=0x0;while(this[_0xe3f2b1(0x201)]['length']<_0x54f65f){if(this[_0xe3f2b1(0x1ea)][_0xe3f2b1(0x1fd)]===0x0){console[_0xe3f2b1(0x1ee)](_0xe3f2b1(0x204));break;}let _0x29ffdc=Math[_0xe3f2b1(0x208)]()*this[_0xe3f2b1(0x1ea)][_0xe3f2b1(0x1fd)]|0x0,_0x6b1fff=this[_0xe3f2b1(0x1ea)][_0x29ffdc],_0x379a42=this[_0xe3f2b1(0x214)][_0xe3f2b1(0x20f)](_0x6b1fff);if(_0x379a42[_0xe3f2b1(0x1fd)]===0x0){this[_0xe3f2b1(0x1ea)][_0xe3f2b1(0x205)](_0x29ffdc,0x1),_0x328af8++;continue;}let _0x4df050=_0x379a42[Math[_0xe3f2b1(0x208)]()*_0x379a42[_0xe3f2b1(0x1fd)]|0x0];this[_0xe3f2b1(0x216)](_0x4df050['x'],_0x4df050['y'])[_0xe3f2b1(0x203)](_0x6b1fff),_0x328af8++;if(_0x328af8>_0x54f65f*0x3){console['warn'](_0xe3f2b1(0x1e5)+this[_0xe3f2b1(0x201)][_0xe3f2b1(0x1fd)]);break;}}console[_0xe3f2b1(0x1ef)](_0xe3f2b1(0x1f4)+_0x328af8);};[_0x2768c1(0x1f6)]=()=>{const _0x54f34f=_0x2768c1;let _0xfacd50=this[_0x54f34f(0x201)][Math[_0x54f34f(0x208)]()*this['roomsPool'][_0x54f34f(0x1fd)]|0x0];_0xfacd50['type']=0x1;let _0x29673a=_0xfacd50,_0x3f5132=0x0;for(let _0x204134 of this[_0x54f34f(0x201)]){let _0x5c2907=_0x204134[_0x54f34f(0x1e3)](_0xfacd50);_0x5c2907>_0x3f5132&&(_0x3f5132=_0x5c2907,_0x29673a=_0x204134);}_0x29673a[_0x54f34f(0x209)]=0x3;let _0x1074c9=_0xfacd50;_0x3f5132=0x0;for(let _0x48389a of this[_0x54f34f(0x201)]){let _0x4ca239=_0x48389a[_0x54f34f(0x1e3)](_0xfacd50)+_0x48389a['distance'](_0x29673a);_0x4ca239>_0x3f5132&&(_0x3f5132=_0x4ca239,_0x1074c9=_0x48389a);}_0x1074c9[_0x54f34f(0x209)]=0x2;};[_0x2768c1(0x20a)]=(_0x1a0e1d=![])=>{const _0xea07a7=_0x2768c1;for(let _0x75134b of this['roomsPool']){if(_0x75134b[_0xea07a7(0x209)]!==0x0||_0x75134b[_0xea07a7(0x1e0)][_0xea07a7(0x1fd)]>0x0)continue;for(let _0x5ba8ef of _0x75134b['links']){let _0x34d6f0=this[_0xea07a7(0x214)][_0x5ba8ef['x']][_0x5ba8ef['y']];if(_0x34d6f0['type']===0x0&&_0x34d6f0[_0xea07a7(0x1e0)][_0xea07a7(0x1fd)]===0x0){_0x75134b[_0xea07a7(0x1ed)](_0x34d6f0);break;}}}this[_0xea07a7(0x20c)](),this[_0xea07a7(0x1fe)](),this[_0xea07a7(0x1ff)]=this[_0xea07a7(0x1fa)](![]),_0x1a0e1d&&this[_0xea07a7(0x1fb)]();};['assignJointsID'](){const _0x1c7691=_0x2768c1;for(let _0x21a0cb of this[_0x1c7691(0x201)]){for(let _0x2926f2 of _0x21a0cb['joints']){let _0x204504=this['roomsMap'][_0x2926f2['x']][_0x2926f2['y']];this[_0x1c7691(0x1e8)](_0x21a0cb,_0x204504);}}}[_0x2768c1(0x1e8)](_0x924020,_0x4a991c){const _0x454bdd=_0x2768c1;if(_0x4a991c[_0x454bdd(0x212)]===_0x924020['jointID'])return;_0x4a991c[_0x454bdd(0x212)]=_0x924020['jointID'];for(let _0x3d177d of _0x4a991c[_0x454bdd(0x1e0)]){let _0x29dbd8=this[_0x454bdd(0x214)][_0x3d177d['x']][_0x3d177d['y']];this[_0x454bdd(0x1e8)](_0x4a991c,_0x29dbd8);}}[_0x2768c1(0x1fa)](_0x389b4e=!![]){const _0x55233a=_0x2768c1;let _0x2d4a0d=[],_0x41db51=[];for(let _0x50274a of this[_0x55233a(0x201)]){if(_0x389b4e&&_0x50274a[_0x55233a(0x1e0)][_0x55233a(0x1fd)]===0x0)continue;if(_0x2d4a0d['find'](_0x4b419a=>_0x4b419a===_0x50274a[_0x55233a(0x212)])!==undefined)continue;_0x2d4a0d[_0x55233a(0x1df)](_0x50274a[_0x55233a(0x212)]),_0x41db51[_0x55233a(0x1df)](this[_0x55233a(0x201)]['filter'](_0x4f7def=>_0x4f7def[_0x55233a(0x212)]==_0x50274a[_0x55233a(0x212)]));}return _0x41db51;}['jointRoomsU'](){const _0x1abf7a=_0x2768c1;for(let _0x418512 of this[_0x1abf7a(0x1ff)]){if(_0x418512[_0x1abf7a(0x1fd)]!==0x4)continue;let _0x5abdbc=_0x418512[_0x1abf7a(0x207)](_0x4fff84=>_0x4fff84[_0x1abf7a(0x1e0)][_0x1abf7a(0x1fd)]==0x1),_0x22e318=_0x418512['find'](_0x3eac5b=>_0x3eac5b[_0x1abf7a(0x1e0)][_0x1abf7a(0x1fd)]==0x1&&_0x3eac5b!==_0x5abdbc);if(!_0x5abdbc||!_0x22e318)continue;_0x5abdbc[_0x1abf7a(0x1e3)](_0x22e318)==0x1&&(_0x5abdbc['joint'](_0x22e318),_0x5abdbc[_0x1abf7a(0x1ed)](_0x418512[_0x1abf7a(0x207)](_0x2bd8f9=>_0x2bd8f9['distance'](_0x5abdbc)>0x1)));}}['shapeJoints']=(_0x4ff449=!![])=>{const _0x14dc10=_0x2768c1;for(let _0x63b85c of this[_0x14dc10(0x201)]){if(_0x63b85c[_0x14dc10(0x209)]!==0x0||_0x63b85c['joints']['length']>0x0)continue;if(_0x4ff449&&Math[_0x14dc10(0x208)]()*0x2|0x0)continue;_0x63b85c[_0x14dc10(0x1f8)][_0x14dc10(0x219)](()=>Math['random']()-0.5);for(let _0x297369 of _0x63b85c[_0x14dc10(0x1f8)]){let _0x10c4ed=this['roomsMap'][_0x297369['x']][_0x297369['y']];if(_0x10c4ed[_0x14dc10(0x209)]===0x0&&_0x10c4ed[_0x14dc10(0x1e0)][_0x14dc10(0x1fd)]===0x1){_0x63b85c[_0x14dc10(0x1ed)](_0x10c4ed);break;}}}};[_0x2768c1(0x211)]=(_0x39fd78,_0x45d972,_0x18a0e7=0x14)=>{const _0x4533b4=_0x2768c1;_0x39fd78[_0x4533b4(0x1e4)]=_0x18a0e7*this['w'],_0x39fd78[_0x4533b4(0x1e1)]=_0x18a0e7*this['h'],_0x45d972[_0x4533b4(0x1dc)](),_0x45d972['fillStyle']=_0x4533b4(0x1f1),_0x45d972[_0x4533b4(0x1e6)](0x0,0x0,_0x39fd78[_0x4533b4(0x1e4)],_0x39fd78[_0x4533b4(0x1e1)]);for(let _0x5cf24d of this['roomsPool']){let _0x9eddb3=['Lavender',_0x4533b4(0x1f2),_0x4533b4(0x1f0),_0x4533b4(0x200)];_0x45d972[_0x4533b4(0x1e9)]=_0x9eddb3[_0x5cf24d[_0x4533b4(0x209)]],_0x45d972['fillRect'](_0x5cf24d['x']*_0x18a0e7+_0x18a0e7/0xa,_0x5cf24d['y']*_0x18a0e7+_0x18a0e7/0xa,_0x18a0e7-_0x18a0e7/0x5,_0x18a0e7-_0x18a0e7/0x5);for(let _0x1df119 of _0x5cf24d[_0x4533b4(0x1f8)]){let _0x5ec9ea=this[_0x4533b4(0x214)][_0x1df119['x']][_0x1df119['y']];_0x45d972[_0x4533b4(0x1e9)]=_0x9eddb3[0x0],_0x45d972[_0x4533b4(0x1e6)]((_0x5cf24d['x']+_0x5ec9ea['x'])/0x2*_0x18a0e7+_0x18a0e7/0x2-_0x18a0e7/0xa,(_0x5cf24d['y']+_0x5ec9ea['y'])/0x2*_0x18a0e7+_0x18a0e7/0x2-_0x18a0e7/0xa,_0x18a0e7/0x5,_0x18a0e7/0x5);}for(let _0x37cecf of _0x5cf24d[_0x4533b4(0x1e0)]){let _0x51f63f=this[_0x4533b4(0x214)][_0x37cecf['x']][_0x37cecf['y']];_0x45d972[_0x4533b4(0x1e9)]=_0x9eddb3[0x0],_0x45d972[_0x4533b4(0x1e6)]((_0x5cf24d['x']+_0x51f63f['x'])/0x2*_0x18a0e7+_0x18a0e7/0xa,(_0x5cf24d['y']+_0x51f63f['y'])/0x2*_0x18a0e7+_0x18a0e7/0xa,_0x18a0e7-_0x18a0e7/0x5,_0x18a0e7-_0x18a0e7/0x5);}}};}