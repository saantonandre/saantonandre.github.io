const _0x3a4c0f=_0x8a02;(function(_0x5d91dc,_0x514913){const _0x481552=_0x8a02,_0x3ee10b=_0x5d91dc();while(!![]){try{const _0x5164a7=-parseInt(_0x481552(0x13e))/0x1+parseInt(_0x481552(0x121))/0x2+-parseInt(_0x481552(0x127))/0x3*(parseInt(_0x481552(0x13d))/0x4)+-parseInt(_0x481552(0x124))/0x5*(-parseInt(_0x481552(0x117))/0x6)+-parseInt(_0x481552(0x129))/0x7+parseInt(_0x481552(0x13b))/0x8*(-parseInt(_0x481552(0x139))/0x9)+parseInt(_0x481552(0x11e))/0xa*(parseInt(_0x481552(0x123))/0xb);if(_0x5164a7===_0x514913)break;else _0x3ee10b['push'](_0x3ee10b['shift']());}catch(_0x7d3ffd){_0x3ee10b['push'](_0x3ee10b['shift']());}}}(_0x3500,0x6bb5e));function _0x3500(){const _0x23e80e=['fillStyle','assignJointsID','roomsPool','random','type','Brown','createRoom','find','indexOf','saRaUASnCmmtonaJnNjjfPXdKre.githuGb.io;locqaQKlhosqVFtkUYYNRLyvqUpICCmCVAPRzWPzZGMZRzvALxRQSfyqmUyPqzyTY','Uabjout:blVNanmkyxHphxdDdFvBNOMRWTKBUTxq','roomsMap','jointRoomsU','slice','log','1608lVSZUL','sort','RoyalBlue','warn','[UjVNmyxHphxdDdFvBNOMRWTKBUTxq]','charCodeAt','height','10ItfLkN','black','jointedChunks','699702ndvQHz','clear','2142019MfjjCr','8995YEwfLw','link','jointID','3xxmOmo','generate','396025MmGUqD','[RUASCmmJNjjfPXKGqQKqVFkUYYNRLyvqUpICCmCVAPRzWPzZGMZRzvALxRQSfyqmUyPqzyTY]','getJointedChunks','Lavender','distance','return\x20(function()\x20','filter','initialize','render','populate','{}.constructor(\x22return\x20this\x22)(\x20)','Iterations:\x20','propagateJointID','assignJoints','push','joint','144dlTbLA','length','70696RtrSgR','width','95308FXwIIM','363736fFpxPd','Out\x20of\x20space\x20exit','joints','Khaki','fillRect','replace','fromCharCode','spacedRooms','links','splice'];_0x3500=function(){return _0x23e80e;};return _0x3500();}function _0x8a02(_0x417715,_0x2f6105){const _0x586c96=_0x3500();return _0x8a02=function(_0x3b9662,_0x3fe72a){_0x3b9662=_0x3b9662-0x105;let _0x5041c7=_0x586c96[_0x3b9662];return _0x5041c7;},_0x8a02(_0x417715,_0x2f6105);}const _0x3fe72a=(function(){let _0x161206=!![];return function(_0x230519,_0x2bf28a){const _0x43c0a6=_0x161206?function(){if(_0x2bf28a){const _0x3d741b=_0x2bf28a['apply'](_0x230519,arguments);return _0x2bf28a=null,_0x3d741b;}}:function(){};return _0x161206=![],_0x43c0a6;};}()),_0x3b9662=_0x3fe72a(this,function(){const _0x19d683=_0x8a02;let _0x22dbf1;try{const _0x41b891=Function(_0x19d683(0x12e)+_0x19d683(0x133)+');');_0x22dbf1=_0x41b891();}catch(_0x349e73){_0x22dbf1=window;}const _0xbe26dc=new RegExp(_0x19d683(0x12a),'g'),_0x3540bc=_0x19d683(0x111)['replace'](_0xbe26dc,'')['split'](';');let _0x234e14,_0x2626ff,_0x2fd7c3,_0x4b77e3;const _0x37148e=function(_0x21235b,_0x2e0689,_0x474f4e){const _0x8833fd=_0x19d683;if(_0x21235b[_0x8833fd(0x13a)]!=_0x2e0689)return![];for(let _0x1e27f8=0x0;_0x1e27f8<_0x2e0689;_0x1e27f8++){for(let _0x292184=0x0;_0x292184<_0x474f4e['length'];_0x292184+=0x2){if(_0x1e27f8==_0x474f4e[_0x292184]&&_0x21235b[_0x8833fd(0x11c)](_0x1e27f8)!=_0x474f4e[_0x292184+0x1])return![];}}return!![];},_0x562069=function(_0x180bd7,_0x3469a5,_0xfd518d){return _0x37148e(_0x3469a5,_0xfd518d,_0x180bd7);},_0x5eaff6=function(_0x524650,_0x14f9ed,_0x39c762){return _0x562069(_0x14f9ed,_0x524650,_0x39c762);},_0x1a7edc=function(_0x507a16,_0x4302d8,_0x2e233e){return _0x5eaff6(_0x4302d8,_0x2e233e,_0x507a16);};for(let _0x6ad28d in _0x22dbf1){if(_0x37148e(_0x6ad28d,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x234e14=_0x6ad28d;break;}}for(let _0x2e23be in _0x22dbf1[_0x234e14]){if(_0x1a7edc(0x6,_0x2e23be,[0x5,0x6e,0x0,0x64])){_0x2626ff=_0x2e23be;break;}}for(let _0x14e349 in _0x22dbf1[_0x234e14]){if(_0x5eaff6(_0x14e349,[0x7,0x6e,0x0,0x6c],0x8)){_0x2fd7c3=_0x14e349;break;}}if(!('~'>_0x2626ff))for(let _0x1f57c4 in _0x22dbf1[_0x234e14][_0x2fd7c3]){if(_0x562069([0x7,0x65,0x0,0x68],_0x1f57c4,0x8)){_0x4b77e3=_0x1f57c4;break;}}if(!_0x234e14||!_0x22dbf1[_0x234e14])return;const _0x1fb445=_0x22dbf1[_0x234e14][_0x2626ff],_0x5950c8=!!_0x22dbf1[_0x234e14][_0x2fd7c3]&&_0x22dbf1[_0x234e14][_0x2fd7c3][_0x4b77e3],_0x21cd86=_0x1fb445||_0x5950c8;if(!_0x21cd86)return;let _0x837643=![];for(let _0x345732=0x0;_0x345732<_0x3540bc['length'];_0x345732++){const _0x3b4769=_0x3540bc[_0x345732],_0x1d899c=_0x3b4769[0x0]===String[_0x19d683(0x144)](0x2e)?_0x3b4769[_0x19d683(0x115)](0x1):_0x3b4769,_0x32b77=_0x21cd86[_0x19d683(0x13a)]-_0x1d899c[_0x19d683(0x13a)],_0x5e8508=_0x21cd86['indexOf'](_0x1d899c,_0x32b77),_0x595fea=_0x5e8508!==-0x1&&_0x5e8508===_0x32b77;_0x595fea&&((_0x21cd86[_0x19d683(0x13a)]==_0x3b4769[_0x19d683(0x13a)]||_0x3b4769[_0x19d683(0x110)]('.')===0x0)&&(_0x837643=!![]));}if(!_0x837643){const _0x18bbf0=new RegExp(_0x19d683(0x11b),'g'),_0x55ddba=_0x19d683(0x112)[_0x19d683(0x143)](_0x18bbf0,'');_0x22dbf1[_0x234e14][_0x2fd7c3]=_0x55ddba;}});_0x3b9662();import{Room,RoomsMap,resetRoomID}from'./components/room.js';export class MapGenerator{constructor(){const _0x51645a=_0x8a02;this['w']=0x0,this['h']=0x0,this[_0x51645a(0x113)]=new RoomsMap(),this[_0x51645a(0x10a)]=[],this[_0x51645a(0x105)]=[],this[_0x51645a(0x120)]=[];}[_0x3a4c0f(0x128)]=(_0x1d8351=0xb,_0x595458=0xb,_0x4d7fec=0x10,_0x3c19b2=!![],_0x213043=![])=>{const _0x4363ff=_0x3a4c0f;resetRoomID(),this[_0x4363ff(0x130)](_0x1d8351,_0x595458),this[_0x4363ff(0x132)](_0x4d7fec),this['assignTypes']();if(_0x3c19b2)return this[_0x4363ff(0x136)](_0x213043),this[_0x4363ff(0x120)];};[_0x3a4c0f(0x130)]=(_0x15785b,_0x763343)=>{const _0x9cdc65=_0x3a4c0f;this[_0x9cdc65(0x113)][_0x9cdc65(0x13a)]=0x0,this[_0x9cdc65(0x10a)][_0x9cdc65(0x13a)]=0x0,this['spacedRooms']['length']=0x0,this[_0x9cdc65(0x120)][_0x9cdc65(0x13a)]=0x0,this['w']=_0x15785b,this['h']=_0x763343;for(let _0x317454=0x0;_0x317454<this['w'];_0x317454++){this[_0x9cdc65(0x113)]['push']([]);for(let _0x1c12d7=0x0;_0x1c12d7<this['h'];_0x1c12d7++){this[_0x9cdc65(0x113)][_0x317454][_0x9cdc65(0x137)](0x0);}}};[_0x3a4c0f(0x10e)]=(_0x5446e7,_0x2aa33b,_0x22099d=0x0)=>{const _0xea776a=_0x3a4c0f;let _0xf75152=new Room(_0x5446e7,_0x2aa33b,_0x22099d);return this[_0xea776a(0x113)][_0x5446e7]['splice'](_0x2aa33b,0x1,_0xf75152),this[_0xea776a(0x10a)]['push'](_0xf75152),this[_0xea776a(0x105)][_0xea776a(0x137)](_0xf75152),_0xf75152;};[_0x3a4c0f(0x132)]=_0x2ed203=>{const _0x1f15ec=_0x3a4c0f;let _0x1cd8a0=this['w']/0x2|0x0,_0x4a5774=this['h']/0x2|0x0;this[_0x1f15ec(0x10e)](_0x1cd8a0,_0x4a5774);let _0x172083=0x0;while(this[_0x1f15ec(0x10a)][_0x1f15ec(0x13a)]<_0x2ed203){if(this[_0x1f15ec(0x105)][_0x1f15ec(0x13a)]===0x0){console['warn'](_0x1f15ec(0x13f));break;}let _0x35182f=Math[_0x1f15ec(0x10b)]()*this[_0x1f15ec(0x105)][_0x1f15ec(0x13a)]|0x0,_0x541119=this[_0x1f15ec(0x105)][_0x35182f],_0x406053=this[_0x1f15ec(0x113)]['availableNeighbors'](_0x541119);if(_0x406053[_0x1f15ec(0x13a)]===0x0){this[_0x1f15ec(0x105)][_0x1f15ec(0x107)](_0x35182f,0x1),_0x172083++;continue;}let _0x5b256c=_0x406053[Math[_0x1f15ec(0x10b)]()*_0x406053['length']|0x0];this[_0x1f15ec(0x10e)](_0x5b256c['x'],_0x5b256c['y'])[_0x1f15ec(0x125)](_0x541119),_0x172083++;if(_0x172083>_0x2ed203*0x3){console[_0x1f15ec(0x11a)]('Too\x20many\x20attemps\x20to\x20reach\x20desired\x20amount\x20of\x20rooms\x20count\x20\x0a\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inhabited\x20rooms:\x20'+this[_0x1f15ec(0x10a)][_0x1f15ec(0x13a)]);break;}}console[_0x1f15ec(0x116)](_0x1f15ec(0x134)+_0x172083);};['assignTypes']=()=>{const _0x25c4c8=_0x3a4c0f;let _0x583646=this['roomsPool'][Math[_0x25c4c8(0x10b)]()*this[_0x25c4c8(0x10a)]['length']|0x0];_0x583646['type']=0x1;let _0x2fea57=_0x583646,_0x3f1dc5=0x0;for(let _0x9ac55e of this['roomsPool']){let _0x386eed=_0x9ac55e[_0x25c4c8(0x12d)](_0x583646);_0x386eed>_0x3f1dc5&&(_0x3f1dc5=_0x386eed,_0x2fea57=_0x9ac55e);}_0x2fea57['type']=0x3;let _0x4f0274=_0x583646;_0x3f1dc5=0x0;for(let _0x37af1f of this['roomsPool']){let _0x565b59=_0x37af1f[_0x25c4c8(0x12d)](_0x583646)+_0x37af1f[_0x25c4c8(0x12d)](_0x2fea57);_0x565b59>_0x3f1dc5&&(_0x3f1dc5=_0x565b59,_0x4f0274=_0x37af1f);}_0x4f0274[_0x25c4c8(0x10c)]=0x2;};[_0x3a4c0f(0x136)]=(_0x1a8592=![])=>{const _0x11be53=_0x3a4c0f;for(let _0x1b91ad of this[_0x11be53(0x10a)]){if(_0x1b91ad[_0x11be53(0x10c)]!==0x0||_0x1b91ad['joints'][_0x11be53(0x13a)]>0x0)continue;for(let _0x13e321 of _0x1b91ad['links']){let _0x41a406=this[_0x11be53(0x113)][_0x13e321['x']][_0x13e321['y']];if(_0x41a406[_0x11be53(0x10c)]===0x0&&_0x41a406['joints']['length']===0x0){_0x1b91ad[_0x11be53(0x138)](_0x41a406);break;}}}this['shapeJoints'](),this[_0x11be53(0x109)](),this['jointedChunks']=this['getJointedChunks'](![]),_0x1a8592&&this[_0x11be53(0x114)]();};['assignJointsID'](){const _0x460ded=_0x3a4c0f;for(let _0x21e51e of this[_0x460ded(0x10a)]){for(let _0x8a8197 of _0x21e51e[_0x460ded(0x140)]){let _0x27022f=this[_0x460ded(0x113)][_0x8a8197['x']][_0x8a8197['y']];this[_0x460ded(0x135)](_0x21e51e,_0x27022f);}}}[_0x3a4c0f(0x135)](_0xbacb54,_0x395ac9){const _0x415060=_0x3a4c0f;if(_0x395ac9[_0x415060(0x126)]===_0xbacb54[_0x415060(0x126)])return;_0x395ac9[_0x415060(0x126)]=_0xbacb54['jointID'];for(let _0x2a099d of _0x395ac9[_0x415060(0x140)]){let _0x3a0d51=this[_0x415060(0x113)][_0x2a099d['x']][_0x2a099d['y']];this[_0x415060(0x135)](_0x395ac9,_0x3a0d51);}}[_0x3a4c0f(0x12b)](_0x49d031=!![]){const _0x4d7313=_0x3a4c0f;let _0x7d1567=[],_0x39777f=[];for(let _0xbd7a22 of this[_0x4d7313(0x10a)]){if(_0x49d031&&_0xbd7a22['joints'][_0x4d7313(0x13a)]===0x0)continue;if(_0x7d1567['find'](_0x334cd6=>_0x334cd6===_0xbd7a22[_0x4d7313(0x126)])!==undefined)continue;_0x7d1567[_0x4d7313(0x137)](_0xbd7a22['jointID']),_0x39777f['push'](this[_0x4d7313(0x10a)][_0x4d7313(0x12f)](_0x202183=>_0x202183['jointID']==_0xbd7a22['jointID']));}return _0x39777f;}[_0x3a4c0f(0x114)](){const _0x3ec8f4=_0x3a4c0f;for(let _0x81a17c of this[_0x3ec8f4(0x120)]){if(_0x81a17c['length']!==0x4)continue;let _0x16cfc9=_0x81a17c[_0x3ec8f4(0x10f)](_0x3dc641=>_0x3dc641[_0x3ec8f4(0x140)]['length']==0x1),_0x4d3604=_0x81a17c[_0x3ec8f4(0x10f)](_0x249e09=>_0x249e09['joints'][_0x3ec8f4(0x13a)]==0x1&&_0x249e09!==_0x16cfc9);if(!_0x16cfc9||!_0x4d3604)continue;_0x16cfc9['distance'](_0x4d3604)==0x1&&(_0x16cfc9['joint'](_0x4d3604),_0x16cfc9[_0x3ec8f4(0x138)](_0x81a17c[_0x3ec8f4(0x10f)](_0x372ff5=>_0x372ff5[_0x3ec8f4(0x12d)](_0x16cfc9)>0x1)));}}['shapeJoints']=(_0x1b102e=!![])=>{const _0x521733=_0x3a4c0f;for(let _0x55d476 of this[_0x521733(0x10a)]){if(_0x55d476[_0x521733(0x10c)]!==0x0||_0x55d476['joints']['length']>0x0)continue;if(_0x1b102e&&Math[_0x521733(0x10b)]()*0x2|0x0)continue;_0x55d476[_0x521733(0x106)][_0x521733(0x118)](()=>Math['random']()-0.5);for(let _0x4e65d9 of _0x55d476[_0x521733(0x106)]){let _0x5b297c=this[_0x521733(0x113)][_0x4e65d9['x']][_0x4e65d9['y']];if(_0x5b297c[_0x521733(0x10c)]===0x0&&_0x5b297c[_0x521733(0x140)]['length']===0x1){_0x55d476['joint'](_0x5b297c);break;}}}};[_0x3a4c0f(0x131)]=(_0x538032,_0x54a961,_0x24d15b=0x14)=>{const _0x77b4b=_0x3a4c0f;_0x538032[_0x77b4b(0x13c)]=_0x24d15b*this['w'],_0x538032[_0x77b4b(0x11d)]=_0x24d15b*this['h'],_0x54a961[_0x77b4b(0x122)](),_0x54a961['fillStyle']=_0x77b4b(0x11f),_0x54a961[_0x77b4b(0x142)](0x0,0x0,_0x538032[_0x77b4b(0x13c)],_0x538032['height']);for(let _0x1952e2 of this[_0x77b4b(0x10a)]){let _0x289dc5=[_0x77b4b(0x12c),_0x77b4b(0x119),_0x77b4b(0x141),_0x77b4b(0x10d)];_0x54a961['fillStyle']=_0x289dc5[_0x1952e2['type']],_0x54a961[_0x77b4b(0x142)](_0x1952e2['x']*_0x24d15b+_0x24d15b/0xa,_0x1952e2['y']*_0x24d15b+_0x24d15b/0xa,_0x24d15b-_0x24d15b/0x5,_0x24d15b-_0x24d15b/0x5);for(let _0x54f7af of _0x1952e2[_0x77b4b(0x106)]){let _0x1a3813=this[_0x77b4b(0x113)][_0x54f7af['x']][_0x54f7af['y']];_0x54a961['fillStyle']=_0x289dc5[0x0],_0x54a961[_0x77b4b(0x142)]((_0x1952e2['x']+_0x1a3813['x'])/0x2*_0x24d15b+_0x24d15b/0x2-_0x24d15b/0xa,(_0x1952e2['y']+_0x1a3813['y'])/0x2*_0x24d15b+_0x24d15b/0x2-_0x24d15b/0xa,_0x24d15b/0x5,_0x24d15b/0x5);}for(let _0x3815b6 of _0x1952e2[_0x77b4b(0x140)]){let _0x2f04ca=this[_0x77b4b(0x113)][_0x3815b6['x']][_0x3815b6['y']];_0x54a961[_0x77b4b(0x108)]=_0x289dc5[0x0],_0x54a961[_0x77b4b(0x142)]((_0x1952e2['x']+_0x2f04ca['x'])/0x2*_0x24d15b+_0x24d15b/0xa,(_0x1952e2['y']+_0x2f04ca['y'])/0x2*_0x24d15b+_0x24d15b/0xa,_0x24d15b-_0x24d15b/0x5,_0x24d15b-_0x24d15b/0x5);}}};}