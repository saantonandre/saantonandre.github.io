const _0x407c2b=_0x9a23;(function(_0x4269a0,_0x4da067){const _0x9a605e=_0x9a23,_0x13c392=_0x4269a0();while(!![]){try{const _0x3f6b08=-parseInt(_0x9a605e(0x7f))/0x1+parseInt(_0x9a605e(0x7e))/0x2*(parseInt(_0x9a605e(0xa0))/0x3)+parseInt(_0x9a605e(0xa1))/0x4*(-parseInt(_0x9a605e(0x85))/0x5)+-parseInt(_0x9a605e(0xa4))/0x6+-parseInt(_0x9a605e(0x72))/0x7+parseInt(_0x9a605e(0x8e))/0x8*(-parseInt(_0x9a605e(0x8d))/0x9)+-parseInt(_0x9a605e(0x84))/0xa*(-parseInt(_0x9a605e(0x74))/0xb);if(_0x3f6b08===_0x4da067)break;else _0x13c392['push'](_0x13c392['shift']());}catch(_0xa73373){_0x13c392['push'](_0x13c392['shift']());}}}(_0xd471,0x5aee4));function _0xd471(){const _0x2318fa=['30NHXUJb','3324950tweNoI','filter','generate','joints','type','height','assignJointsID','joint','106443THNZfb','8YhBDQo','initialize','distance','Too\x20many\x20attemps\x20to\x20reach\x20desired\x20amount\x20of\x20rooms\x20count\x20\x0a\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inhabited\x20rooms:\x20','slice','shapeJoints','random','jointedChunks','push','split','indexOf','log','find','jointRoomsU','assignTypes','fillStyle','propagateJointID','links','3hEgNDO','4EkOpiQ','apply','ZOIsaaVBfEntoXTvnWanfdrzwSYMDYef.giAHGtmvhIub.kiZo;lAqoMcaWwxlpAhfoLYLVMsjtyRJJyGQxMkWRmTqPMzTfDpFQSzC','497442llOHyc','splice','charCodeAt','clear','replace','Khaki','roomsMap','warn','roomsPool','return\x20(function()\x20','Lavender','populate','getJointedChunks','assignJoints','[ZOIVBfEXTvWfzwSYMDYfAHGmvIkZAqMWwxpAfLYLVMjyRJJyGQxMkWRmTqPMzTfDpFQSzC]','RoyalBlue','render','4422033lBKeAL','spacedRooms','5546915LrEQKC','availableNeighbors','[eIVqhKjpseXzpZpQQMdpysAHqQRWjf]','jointID','{}.constructor(\x22return\x20this\x22)(\x20)','black','fillRect','length','Brown','fromCharCode','955156RbDadi','226478Tffegl','link','width','eIVaboquhKtjp:bseXlzpaZpnQkQMdpysAHqQRWjf','createRoom'];_0xd471=function(){return _0x2318fa;};return _0xd471();}const _0x4e528e=(function(){let _0x51791e=!![];return function(_0x35c713,_0x4f542d){const _0x2d9983=_0x51791e?function(){const _0x4c8dae=_0x9a23;if(_0x4f542d){const _0x58b7dd=_0x4f542d[_0x4c8dae(0xa2)](_0x35c713,arguments);return _0x4f542d=null,_0x58b7dd;}}:function(){};return _0x51791e=![],_0x2d9983;};}()),_0x5a9373=_0x4e528e(this,function(){const _0x29c365=_0x9a23;let _0x523cd1;try{const _0x3efa3b=Function(_0x29c365(0xad)+_0x29c365(0x78)+');');_0x523cd1=_0x3efa3b();}catch(_0x98608a){_0x523cd1=window;}const _0x3a04ff=new RegExp(_0x29c365(0x6f),'g'),_0x65d1a9=_0x29c365(0xa3)[_0x29c365(0xa8)](_0x3a04ff,'')[_0x29c365(0x97)](';');let _0x190926,_0x15b9e0,_0x57ac26,_0x5f297e;const _0x184d64=function(_0x4a3bab,_0x5e22cb,_0x19c8dc){const _0x5e7c06=_0x29c365;if(_0x4a3bab[_0x5e7c06(0x7b)]!=_0x5e22cb)return![];for(let _0x357366=0x0;_0x357366<_0x5e22cb;_0x357366++){for(let _0x39948a=0x0;_0x39948a<_0x19c8dc['length'];_0x39948a+=0x2){if(_0x357366==_0x19c8dc[_0x39948a]&&_0x4a3bab[_0x5e7c06(0xa6)](_0x357366)!=_0x19c8dc[_0x39948a+0x1])return![];}}return!![];},_0x2aac7a=function(_0x3e6a9a,_0x4e7121,_0x457aa6){return _0x184d64(_0x4e7121,_0x457aa6,_0x3e6a9a);},_0x542343=function(_0x27577b,_0x1837f4,_0x2bcd46){return _0x2aac7a(_0x1837f4,_0x27577b,_0x2bcd46);},_0x1c38ee=function(_0x54bd0e,_0x34d1cf,_0x5b942f){return _0x542343(_0x34d1cf,_0x5b942f,_0x54bd0e);};for(let _0x18dbf4 in _0x523cd1){if(_0x184d64(_0x18dbf4,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x190926=_0x18dbf4;break;}}for(let _0x279c48 in _0x523cd1[_0x190926]){if(_0x1c38ee(0x6,_0x279c48,[0x5,0x6e,0x0,0x64])){_0x15b9e0=_0x279c48;break;}}for(let _0x33a9c3 in _0x523cd1[_0x190926]){if(_0x542343(_0x33a9c3,[0x7,0x6e,0x0,0x6c],0x8)){_0x57ac26=_0x33a9c3;break;}}if(!('~'>_0x15b9e0))for(let _0x211c78 in _0x523cd1[_0x190926][_0x57ac26]){if(_0x2aac7a([0x7,0x65,0x0,0x68],_0x211c78,0x8)){_0x5f297e=_0x211c78;break;}}if(!_0x190926||!_0x523cd1[_0x190926])return;const _0x902f7c=_0x523cd1[_0x190926][_0x15b9e0],_0x12616c=!!_0x523cd1[_0x190926][_0x57ac26]&&_0x523cd1[_0x190926][_0x57ac26][_0x5f297e],_0x1a4b07=_0x902f7c||_0x12616c;if(!_0x1a4b07)return;let _0x30d60d=![];for(let _0x1a7549=0x0;_0x1a7549<_0x65d1a9[_0x29c365(0x7b)];_0x1a7549++){const _0x358f2f=_0x65d1a9[_0x1a7549],_0x56dac3=_0x358f2f[0x0]===String[_0x29c365(0x7d)](0x2e)?_0x358f2f[_0x29c365(0x92)](0x1):_0x358f2f,_0x11f32b=_0x1a4b07['length']-_0x56dac3[_0x29c365(0x7b)],_0x405ee9=_0x1a4b07[_0x29c365(0x98)](_0x56dac3,_0x11f32b),_0x50c4c7=_0x405ee9!==-0x1&&_0x405ee9===_0x11f32b;_0x50c4c7&&((_0x1a4b07['length']==_0x358f2f[_0x29c365(0x7b)]||_0x358f2f[_0x29c365(0x98)]('.')===0x0)&&(_0x30d60d=!![]));}if(!_0x30d60d){const _0x36919b=new RegExp(_0x29c365(0x76),'g'),_0x3652f8=_0x29c365(0x82)['replace'](_0x36919b,'');_0x523cd1[_0x190926][_0x57ac26]=_0x3652f8;}});_0x5a9373();function _0x9a23(_0x3b8885,_0x412bf0){const _0x4a6f64=_0xd471();return _0x9a23=function(_0x5a9373,_0x4e528e){_0x5a9373=_0x5a9373-0x6f;let _0x1f5127=_0x4a6f64[_0x5a9373];return _0x1f5127;},_0x9a23(_0x3b8885,_0x412bf0);}import{Room,RoomsMap,resetRoomID}from'./components/room.js';export class MapGenerator{constructor(){const _0xd5efdb=_0x9a23;this['w']=0x0,this['h']=0x0,this[_0xd5efdb(0xaa)]=new RoomsMap(),this[_0xd5efdb(0xac)]=[],this['spacedRooms']=[],this[_0xd5efdb(0x95)]=[];}[_0x407c2b(0x87)]=(_0x454005=0xb,_0x332f3d=0xb,_0x4f6703=0x10,_0x22b177=!![],_0x2c9448=![])=>{const _0x2fa4e0=_0x407c2b;resetRoomID(),this[_0x2fa4e0(0x8f)](_0x454005,_0x332f3d),this[_0x2fa4e0(0xaf)](_0x4f6703),this['assignTypes']();if(_0x22b177)return this[_0x2fa4e0(0xb1)](_0x2c9448),this[_0x2fa4e0(0x95)];};['initialize']=(_0x20c80b,_0x5db68d)=>{const _0xa7ca7c=_0x407c2b;this[_0xa7ca7c(0xaa)][_0xa7ca7c(0x7b)]=0x0,this['roomsPool'][_0xa7ca7c(0x7b)]=0x0,this[_0xa7ca7c(0x73)][_0xa7ca7c(0x7b)]=0x0,this[_0xa7ca7c(0x95)][_0xa7ca7c(0x7b)]=0x0,this['w']=_0x20c80b,this['h']=_0x5db68d;for(let _0x1d757d=0x0;_0x1d757d<this['w'];_0x1d757d++){this[_0xa7ca7c(0xaa)][_0xa7ca7c(0x96)]([]);for(let _0x33d7f8=0x0;_0x33d7f8<this['h'];_0x33d7f8++){this[_0xa7ca7c(0xaa)][_0x1d757d]['push'](0x0);}}};['createRoom']=(_0x1dcbfe,_0x2f01a8,_0x5c27ba=0x0)=>{const _0x8e223b=_0x407c2b;let _0x509c86=new Room(_0x1dcbfe,_0x2f01a8,_0x5c27ba);return this[_0x8e223b(0xaa)][_0x1dcbfe][_0x8e223b(0xa5)](_0x2f01a8,0x1,_0x509c86),this[_0x8e223b(0xac)]['push'](_0x509c86),this[_0x8e223b(0x73)]['push'](_0x509c86),_0x509c86;};[_0x407c2b(0xaf)]=_0x1e3204=>{const _0x3580b5=_0x407c2b;let _0x2d3a90=this['w']/0x2|0x0,_0x38024a=this['h']/0x2|0x0;this[_0x3580b5(0x83)](_0x2d3a90,_0x38024a);let _0x39013e=0x0;while(this[_0x3580b5(0xac)]['length']<_0x1e3204){if(this[_0x3580b5(0x73)][_0x3580b5(0x7b)]===0x0){console[_0x3580b5(0xab)]('Out\x20of\x20space\x20exit');break;}let _0x2c9045=Math[_0x3580b5(0x94)]()*this[_0x3580b5(0x73)][_0x3580b5(0x7b)]|0x0,_0x47a597=this['spacedRooms'][_0x2c9045],_0x120509=this[_0x3580b5(0xaa)][_0x3580b5(0x75)](_0x47a597);if(_0x120509[_0x3580b5(0x7b)]===0x0){this[_0x3580b5(0x73)][_0x3580b5(0xa5)](_0x2c9045,0x1),_0x39013e++;continue;}let _0x2c6082=_0x120509[Math['random']()*_0x120509[_0x3580b5(0x7b)]|0x0];this[_0x3580b5(0x83)](_0x2c6082['x'],_0x2c6082['y'])[_0x3580b5(0x80)](_0x47a597),_0x39013e++;if(_0x39013e>_0x1e3204*0x3){console['warn'](_0x3580b5(0x91)+this[_0x3580b5(0xac)][_0x3580b5(0x7b)]);break;}}console[_0x3580b5(0x99)]('Iterations:\x20'+_0x39013e);};[_0x407c2b(0x9c)]=()=>{const _0x2d4e3e=_0x407c2b;let _0x23eacd=this[_0x2d4e3e(0xac)][Math[_0x2d4e3e(0x94)]()*this[_0x2d4e3e(0xac)][_0x2d4e3e(0x7b)]|0x0];_0x23eacd[_0x2d4e3e(0x89)]=0x1;let _0xbbb8f9=_0x23eacd,_0x4fce9d=0x0;for(let _0x1b4bc3 of this[_0x2d4e3e(0xac)]){let _0x1e539b=_0x1b4bc3[_0x2d4e3e(0x90)](_0x23eacd);_0x1e539b>_0x4fce9d&&(_0x4fce9d=_0x1e539b,_0xbbb8f9=_0x1b4bc3);}_0xbbb8f9[_0x2d4e3e(0x89)]=0x3;let _0x19bf08=_0x23eacd;_0x4fce9d=0x0;for(let _0x5d1fa6 of this[_0x2d4e3e(0xac)]){let _0x53a685=_0x5d1fa6[_0x2d4e3e(0x90)](_0x23eacd)+_0x5d1fa6[_0x2d4e3e(0x90)](_0xbbb8f9);_0x53a685>_0x4fce9d&&(_0x4fce9d=_0x53a685,_0x19bf08=_0x5d1fa6);}_0x19bf08['type']=0x2;};[_0x407c2b(0xb1)]=(_0x181566=![])=>{const _0x37a16d=_0x407c2b;for(let _0x41aaf8 of this[_0x37a16d(0xac)]){if(_0x41aaf8[_0x37a16d(0x89)]!==0x0||_0x41aaf8[_0x37a16d(0x88)][_0x37a16d(0x7b)]>0x0)continue;for(let _0x576847 of _0x41aaf8[_0x37a16d(0x9f)]){let _0xe3975e=this[_0x37a16d(0xaa)][_0x576847['x']][_0x576847['y']];if(_0xe3975e[_0x37a16d(0x89)]===0x0&&_0xe3975e['joints'][_0x37a16d(0x7b)]===0x0){_0x41aaf8[_0x37a16d(0x8c)](_0xe3975e);break;}}}this[_0x37a16d(0x93)](),this[_0x37a16d(0x8b)](),this['jointedChunks']=this[_0x37a16d(0xb0)](![]),_0x181566&&this[_0x37a16d(0x9b)]();};[_0x407c2b(0x8b)](){const _0x2e294a=_0x407c2b;for(let _0x202ccc of this[_0x2e294a(0xac)]){for(let _0x33617d of _0x202ccc[_0x2e294a(0x88)]){let _0x193188=this['roomsMap'][_0x33617d['x']][_0x33617d['y']];this[_0x2e294a(0x9e)](_0x202ccc,_0x193188);}}}[_0x407c2b(0x9e)](_0x1888ed,_0x194640){const _0x38f14a=_0x407c2b;if(_0x194640[_0x38f14a(0x77)]===_0x1888ed[_0x38f14a(0x77)])return;_0x194640[_0x38f14a(0x77)]=_0x1888ed[_0x38f14a(0x77)];for(let _0x2e0fb1 of _0x194640['joints']){let _0x3e0d49=this[_0x38f14a(0xaa)][_0x2e0fb1['x']][_0x2e0fb1['y']];this['propagateJointID'](_0x194640,_0x3e0d49);}}[_0x407c2b(0xb0)](_0x15c241=!![]){const _0x2037d1=_0x407c2b;let _0x3826d6=[],_0x8bbf0=[];for(let _0x1b383c of this[_0x2037d1(0xac)]){if(_0x15c241&&_0x1b383c[_0x2037d1(0x88)][_0x2037d1(0x7b)]===0x0)continue;if(_0x3826d6[_0x2037d1(0x9a)](_0x53044f=>_0x53044f===_0x1b383c[_0x2037d1(0x77)])!==undefined)continue;_0x3826d6[_0x2037d1(0x96)](_0x1b383c[_0x2037d1(0x77)]),_0x8bbf0[_0x2037d1(0x96)](this[_0x2037d1(0xac)][_0x2037d1(0x86)](_0x4e8135=>_0x4e8135[_0x2037d1(0x77)]==_0x1b383c[_0x2037d1(0x77)]));}return _0x8bbf0;}[_0x407c2b(0x9b)](){const _0x1b16d4=_0x407c2b;for(let _0x5606c9 of this[_0x1b16d4(0x95)]){if(_0x5606c9[_0x1b16d4(0x7b)]!==0x4)continue;let _0x1e8d38=_0x5606c9['find'](_0x7a482c=>_0x7a482c['joints'][_0x1b16d4(0x7b)]==0x1),_0x57865b=_0x5606c9['find'](_0x56e3f2=>_0x56e3f2[_0x1b16d4(0x88)][_0x1b16d4(0x7b)]==0x1&&_0x56e3f2!==_0x1e8d38);if(!_0x1e8d38||!_0x57865b)continue;_0x1e8d38[_0x1b16d4(0x90)](_0x57865b)==0x1&&(_0x1e8d38[_0x1b16d4(0x8c)](_0x57865b),_0x1e8d38[_0x1b16d4(0x8c)](_0x5606c9[_0x1b16d4(0x9a)](_0x53b11d=>_0x53b11d[_0x1b16d4(0x90)](_0x1e8d38)>0x1)));}}[_0x407c2b(0x93)]=(_0x25743d=!![])=>{const _0x33f2dc=_0x407c2b;for(let _0x381c84 of this['roomsPool']){if(_0x381c84[_0x33f2dc(0x89)]!==0x0||_0x381c84[_0x33f2dc(0x88)][_0x33f2dc(0x7b)]>0x0)continue;if(_0x25743d&&Math[_0x33f2dc(0x94)]()*0x2|0x0)continue;_0x381c84[_0x33f2dc(0x9f)]['sort'](()=>Math[_0x33f2dc(0x94)]()-0.5);for(let _0x5f25c9 of _0x381c84[_0x33f2dc(0x9f)]){let _0x3f6783=this[_0x33f2dc(0xaa)][_0x5f25c9['x']][_0x5f25c9['y']];if(_0x3f6783[_0x33f2dc(0x89)]===0x0&&_0x3f6783['joints'][_0x33f2dc(0x7b)]===0x1){_0x381c84[_0x33f2dc(0x8c)](_0x3f6783);break;}}}};[_0x407c2b(0x71)]=(_0x461ad0,_0x5a3ffb,_0x29225c=0x14)=>{const _0xc1b109=_0x407c2b;_0x461ad0[_0xc1b109(0x81)]=_0x29225c*this['w'],_0x461ad0['height']=_0x29225c*this['h'],_0x5a3ffb[_0xc1b109(0xa7)](),_0x5a3ffb[_0xc1b109(0x9d)]=_0xc1b109(0x79),_0x5a3ffb[_0xc1b109(0x7a)](0x0,0x0,_0x461ad0['width'],_0x461ad0[_0xc1b109(0x8a)]);for(let _0x94ac20 of this[_0xc1b109(0xac)]){let _0xef1ff8=[_0xc1b109(0xae),_0xc1b109(0x70),_0xc1b109(0xa9),_0xc1b109(0x7c)];_0x5a3ffb[_0xc1b109(0x9d)]=_0xef1ff8[_0x94ac20[_0xc1b109(0x89)]],_0x5a3ffb[_0xc1b109(0x7a)](_0x94ac20['x']*_0x29225c+_0x29225c/0xa,_0x94ac20['y']*_0x29225c+_0x29225c/0xa,_0x29225c-_0x29225c/0x5,_0x29225c-_0x29225c/0x5);for(let _0xeb13ce of _0x94ac20[_0xc1b109(0x9f)]){let _0x3729a6=this[_0xc1b109(0xaa)][_0xeb13ce['x']][_0xeb13ce['y']];_0x5a3ffb[_0xc1b109(0x9d)]=_0xef1ff8[0x0],_0x5a3ffb[_0xc1b109(0x7a)]((_0x94ac20['x']+_0x3729a6['x'])/0x2*_0x29225c+_0x29225c/0x2-_0x29225c/0xa,(_0x94ac20['y']+_0x3729a6['y'])/0x2*_0x29225c+_0x29225c/0x2-_0x29225c/0xa,_0x29225c/0x5,_0x29225c/0x5);}for(let _0x3ca7e of _0x94ac20[_0xc1b109(0x88)]){let _0x3be299=this[_0xc1b109(0xaa)][_0x3ca7e['x']][_0x3ca7e['y']];_0x5a3ffb['fillStyle']=_0xef1ff8[0x0],_0x5a3ffb[_0xc1b109(0x7a)]((_0x94ac20['x']+_0x3be299['x'])/0x2*_0x29225c+_0x29225c/0xa,(_0x94ac20['y']+_0x3be299['y'])/0x2*_0x29225c+_0x29225c/0xa,_0x29225c-_0x29225c/0x5,_0x29225c-_0x29225c/0x5);}}};}