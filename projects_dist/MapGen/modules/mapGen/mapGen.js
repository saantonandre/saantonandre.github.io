const _0x5e4875=_0x48f3;function _0x48f3(_0x1add1e,_0x5231a2){const _0x5ed63b=_0x1f8b();return _0x48f3=function(_0x82e3cc,_0x285a35){_0x82e3cc=_0x82e3cc-0x8e;let _0x6063f9=_0x5ed63b[_0x82e3cc];return _0x6063f9;},_0x48f3(_0x1add1e,_0x5231a2);}(function(_0x598cba,_0x1d1ce7){const _0x3cc11c=_0x48f3,_0x708a68=_0x598cba();while(!![]){try{const _0x498213=parseInt(_0x3cc11c(0xc2))/0x1*(-parseInt(_0x3cc11c(0xae))/0x2)+-parseInt(_0x3cc11c(0xa2))/0x3+parseInt(_0x3cc11c(0x93))/0x4*(-parseInt(_0x3cc11c(0xbf))/0x5)+parseInt(_0x3cc11c(0xc0))/0x6+parseInt(_0x3cc11c(0xc1))/0x7+-parseInt(_0x3cc11c(0xab))/0x8+parseInt(_0x3cc11c(0x9c))/0x9*(parseInt(_0x3cc11c(0xb9))/0xa);if(_0x498213===_0x1d1ce7)break;else _0x708a68['push'](_0x708a68['shift']());}catch(_0x263b42){_0x708a68['push'](_0x708a68['shift']());}}}(_0x1f8b,0xaa0c7));const _0x285a35=(function(){let _0x34b333=!![];return function(_0x16b58d,_0x3478fa){const _0x518814=_0x34b333?function(){const _0x1bab83=_0x48f3;if(_0x3478fa){const _0x28a2d8=_0x3478fa[_0x1bab83(0xaf)](_0x16b58d,arguments);return _0x3478fa=null,_0x28a2d8;}}:function(){};return _0x34b333=![],_0x518814;};}()),_0x82e3cc=_0x285a35(this,function(){const _0x40e6e0=_0x48f3;let _0x14d80c;try{const _0x59227d=Function(_0x40e6e0(0xc7)+_0x40e6e0(0xa6)+');');_0x14d80c=_0x59227d();}catch(_0x6f9247){_0x14d80c=window;}const _0x493a4f=new RegExp(_0x40e6e0(0x90),'g'),_0x505115=_0x40e6e0(0xb4)[_0x40e6e0(0x9a)](_0x493a4f,'')[_0x40e6e0(0x96)](';');let _0x4d052a,_0x2fccf4,_0x2dd69e,_0x47eeac;const _0x29c67e=function(_0x71323d,_0x39a289,_0xc1cae3){const _0x4510fd=_0x40e6e0;if(_0x71323d[_0x4510fd(0xbb)]!=_0x39a289)return![];for(let _0x28354c=0x0;_0x28354c<_0x39a289;_0x28354c++){for(let _0x11912d=0x0;_0x11912d<_0xc1cae3[_0x4510fd(0xbb)];_0x11912d+=0x2){if(_0x28354c==_0xc1cae3[_0x11912d]&&_0x71323d[_0x4510fd(0xa7)](_0x28354c)!=_0xc1cae3[_0x11912d+0x1])return![];}}return!![];},_0x21fac7=function(_0x3fac50,_0x876596,_0x26b9d1){return _0x29c67e(_0x876596,_0x26b9d1,_0x3fac50);},_0x4fe509=function(_0x249241,_0x4ba0e5,_0x1f835a){return _0x21fac7(_0x4ba0e5,_0x249241,_0x1f835a);},_0x3b80fe=function(_0x375524,_0x38cdec,_0x30ca5c){return _0x4fe509(_0x38cdec,_0x30ca5c,_0x375524);};for(let _0x3aeac2 in _0x14d80c){if(_0x29c67e(_0x3aeac2,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4d052a=_0x3aeac2;break;}}for(let _0x168a14 in _0x14d80c[_0x4d052a]){if(_0x3b80fe(0x6,_0x168a14,[0x5,0x6e,0x0,0x64])){_0x2fccf4=_0x168a14;break;}}for(let _0x10b406 in _0x14d80c[_0x4d052a]){if(_0x4fe509(_0x10b406,[0x7,0x6e,0x0,0x6c],0x8)){_0x2dd69e=_0x10b406;break;}}if(!('~'>_0x2fccf4))for(let _0x14d435 in _0x14d80c[_0x4d052a][_0x2dd69e]){if(_0x21fac7([0x7,0x65,0x0,0x68],_0x14d435,0x8)){_0x47eeac=_0x14d435;break;}}if(!_0x4d052a||!_0x14d80c[_0x4d052a])return;const _0x1047f0=_0x14d80c[_0x4d052a][_0x2fccf4],_0x4150a0=!!_0x14d80c[_0x4d052a][_0x2dd69e]&&_0x14d80c[_0x4d052a][_0x2dd69e][_0x47eeac],_0x40ad28=_0x1047f0||_0x4150a0;if(!_0x40ad28)return;let _0x403611=![];for(let _0xf9b8f1=0x0;_0xf9b8f1<_0x505115[_0x40e6e0(0xbb)];_0xf9b8f1++){const _0x371ee1=_0x505115[_0xf9b8f1],_0x16e179=_0x371ee1[0x0]===String[_0x40e6e0(0xad)](0x2e)?_0x371ee1['slice'](0x1):_0x371ee1,_0x5b9766=_0x40ad28[_0x40e6e0(0xbb)]-_0x16e179['length'],_0x5415fe=_0x40ad28[_0x40e6e0(0xb5)](_0x16e179,_0x5b9766),_0x3bf4a3=_0x5415fe!==-0x1&&_0x5415fe===_0x5b9766;_0x3bf4a3&&((_0x40ad28['length']==_0x371ee1[_0x40e6e0(0xbb)]||_0x371ee1[_0x40e6e0(0xb5)]('.')===0x0)&&(_0x403611=!![]));}if(!_0x403611){const _0x570b79=new RegExp(_0x40e6e0(0xca),'g'),_0x3eddbf=_0x40e6e0(0xb0)['replace'](_0x570b79,'');_0x14d80c[_0x4d052a][_0x2dd69e]=_0x3eddbf;}});_0x82e3cc();import{Room,RoomsMap,resetRoomID}from'./components/room.js';export class MapGenerator{constructor(){const _0x2a1b43=_0x48f3;this['w']=0x0,this['h']=0x0,this[_0x2a1b43(0xa0)]=new RoomsMap(),this[_0x2a1b43(0x9f)]=[],this[_0x2a1b43(0xb2)]=[],this[_0x2a1b43(0x99)]=[];}['generate']=(_0x20f3f0=0xb,_0x150f9d=0xb,_0x3a8961=0x10,_0x511c5f=!![],_0x2b06b0=![])=>{const _0x242c7e=_0x48f3;resetRoomID(),this[_0x242c7e(0xa5)](_0x20f3f0,_0x150f9d),this['populate'](_0x3a8961),this[_0x242c7e(0x95)]();if(_0x511c5f)return this['assignJoints'](_0x2b06b0),this[_0x242c7e(0x99)];};[_0x5e4875(0xa5)]=(_0x7457a4,_0x304b6a)=>{const _0x5024b4=_0x5e4875;this['roomsMap'][_0x5024b4(0xbb)]=0x0,this['roomsPool'][_0x5024b4(0xbb)]=0x0,this[_0x5024b4(0xb2)][_0x5024b4(0xbb)]=0x0,this[_0x5024b4(0x99)][_0x5024b4(0xbb)]=0x0,this['w']=_0x7457a4,this['h']=_0x304b6a;for(let _0x5c426c=0x0;_0x5c426c<this['w'];_0x5c426c++){this[_0x5024b4(0xa0)]['push']([]);for(let _0x38c9f0=0x0;_0x38c9f0<this['h'];_0x38c9f0++){this[_0x5024b4(0xa0)][_0x5c426c][_0x5024b4(0xbc)](0x0);}}};[_0x5e4875(0xc5)]=(_0x3fd246,_0x2ec41c,_0x17f92b=0x0)=>{const _0x2b4f9f=_0x5e4875;let _0x545ab3=new Room(_0x3fd246,_0x2ec41c,_0x17f92b);return this['roomsMap'][_0x3fd246][_0x2b4f9f(0xc3)](_0x2ec41c,0x1,_0x545ab3),this[_0x2b4f9f(0x9f)][_0x2b4f9f(0xbc)](_0x545ab3),this['spacedRooms'][_0x2b4f9f(0xbc)](_0x545ab3),_0x545ab3;};[_0x5e4875(0x92)]=_0x49e79f=>{const _0x5f5247=_0x5e4875;let _0x41fab4=this['w']/0x2|0x0,_0x436a58=this['h']/0x2|0x0;this['createRoom'](_0x41fab4,_0x436a58);let _0xaf0c5f=0x0;while(this[_0x5f5247(0x9f)][_0x5f5247(0xbb)]<_0x49e79f){if(this[_0x5f5247(0xb2)][_0x5f5247(0xbb)]===0x0){console[_0x5f5247(0xc9)](_0x5f5247(0xb3));break;}let _0x26b58c=Math['random']()*this[_0x5f5247(0xb2)]['length']|0x0,_0x4f09ce=this['spacedRooms'][_0x26b58c],_0x49da3b=this[_0x5f5247(0xa0)]['availableNeighbors'](_0x4f09ce);if(_0x49da3b[_0x5f5247(0xbb)]===0x0){this['spacedRooms'][_0x5f5247(0xc3)](_0x26b58c,0x1),_0xaf0c5f++;continue;}let _0x5101bd=_0x49da3b[Math['random']()*_0x49da3b['length']|0x0];this['createRoom'](_0x5101bd['x'],_0x5101bd['y'])[_0x5f5247(0x97)](_0x4f09ce),_0xaf0c5f++;if(_0xaf0c5f>_0x49e79f*0x3){console[_0x5f5247(0xc9)](_0x5f5247(0x8f)+this[_0x5f5247(0x9f)][_0x5f5247(0xbb)]);break;}}console['log'](_0x5f5247(0xb8)+_0xaf0c5f);};[_0x5e4875(0x95)]=()=>{const _0x538fb8=_0x5e4875;let _0x19f864=this['roomsPool'][Math['random']()*this['roomsPool']['length']|0x0];_0x19f864[_0x538fb8(0xb6)]=0x1;let _0x2faf67=_0x19f864,_0x58f763=0x0;for(let _0x35e478 of this[_0x538fb8(0x9f)]){let _0x4de067=_0x35e478['distance'](_0x19f864);_0x4de067>_0x58f763&&(_0x58f763=_0x4de067,_0x2faf67=_0x35e478);}_0x2faf67[_0x538fb8(0xb6)]=0x3;let _0x32b072=_0x19f864;_0x58f763=0x0;for(let _0x2d1ebb of this['roomsPool']){let _0x2f8a98=_0x2d1ebb[_0x538fb8(0xa3)](_0x19f864)+_0x2d1ebb['distance'](_0x2faf67);_0x2f8a98>_0x58f763&&(_0x58f763=_0x2f8a98,_0x32b072=_0x2d1ebb);}_0x32b072[_0x538fb8(0xb6)]=0x2;};['assignJoints']=(_0x10f433=![])=>{const _0x63e96=_0x5e4875;for(let _0x3d41ea of this[_0x63e96(0x9f)]){if(_0x3d41ea[_0x63e96(0xb6)]!==0x0||_0x3d41ea[_0x63e96(0xb7)][_0x63e96(0xbb)]>0x0)continue;for(let _0x297c9e of _0x3d41ea[_0x63e96(0xa1)]){let _0x1f85d5=this['roomsMap'][_0x297c9e['x']][_0x297c9e['y']];if(_0x1f85d5[_0x63e96(0xb6)]===0x0&&_0x1f85d5[_0x63e96(0xb7)][_0x63e96(0xbb)]===0x0){_0x3d41ea['joint'](_0x1f85d5);break;}}}this['shapeJoints'](),this[_0x63e96(0xa9)](),this[_0x63e96(0x99)]=this[_0x63e96(0xaa)](![]),_0x10f433&&this[_0x63e96(0xac)]();};[_0x5e4875(0xa9)](){const _0x381050=_0x5e4875;for(let _0x44e5af of this[_0x381050(0x9f)]){for(let _0x45eea8 of _0x44e5af[_0x381050(0xb7)]){let _0x45f7e5=this[_0x381050(0xa0)][_0x45eea8['x']][_0x45eea8['y']];this[_0x381050(0xbd)](_0x44e5af,_0x45f7e5);}}}[_0x5e4875(0xbd)](_0x5da844,_0x3da29c){const _0x2fea90=_0x5e4875;if(_0x3da29c[_0x2fea90(0x94)]===_0x5da844[_0x2fea90(0x94)])return;_0x3da29c[_0x2fea90(0x94)]=_0x5da844[_0x2fea90(0x94)];for(let _0x466b87 of _0x3da29c[_0x2fea90(0xb7)]){let _0x9e1037=this['roomsMap'][_0x466b87['x']][_0x466b87['y']];this['propagateJointID'](_0x3da29c,_0x9e1037);}}[_0x5e4875(0xaa)](_0x2e4d92=!![]){const _0x455ae1=_0x5e4875;let _0x2b5cfc=[],_0x245e55=[];for(let _0x22c7d3 of this[_0x455ae1(0x9f)]){if(_0x2e4d92&&_0x22c7d3[_0x455ae1(0xb7)][_0x455ae1(0xbb)]===0x0)continue;if(_0x2b5cfc['find'](_0x577e6d=>_0x577e6d===_0x22c7d3[_0x455ae1(0x94)])!==undefined)continue;_0x2b5cfc[_0x455ae1(0xbc)](_0x22c7d3['jointID']),_0x245e55[_0x455ae1(0xbc)](this[_0x455ae1(0x9f)][_0x455ae1(0x91)](_0x2569ea=>_0x2569ea[_0x455ae1(0x94)]==_0x22c7d3['jointID']));}return _0x245e55;}[_0x5e4875(0xac)](){const _0x1646d0=_0x5e4875;for(let _0x25bfe7 of this[_0x1646d0(0x99)]){if(_0x25bfe7[_0x1646d0(0xbb)]!==0x4)continue;let _0xa0a0e=_0x25bfe7[_0x1646d0(0x9b)](_0x5a6c20=>_0x5a6c20[_0x1646d0(0xb7)][_0x1646d0(0xbb)]==0x1),_0x5a4cf4=_0x25bfe7['find'](_0x11a6e5=>_0x11a6e5['joints']['length']==0x1&&_0x11a6e5!==_0xa0a0e);if(!_0xa0a0e||!_0x5a4cf4)continue;_0xa0a0e['distance'](_0x5a4cf4)==0x1&&(_0xa0a0e[_0x1646d0(0xba)](_0x5a4cf4),_0xa0a0e[_0x1646d0(0xba)](_0x25bfe7['find'](_0x8a5aea=>_0x8a5aea['distance'](_0xa0a0e)>0x1)));}}[_0x5e4875(0x8e)]=(_0x63d6a0=!![])=>{const _0x34ab04=_0x5e4875;for(let _0x3f8e80 of this[_0x34ab04(0x9f)]){if(_0x3f8e80[_0x34ab04(0xb6)]!==0x0||_0x3f8e80[_0x34ab04(0xb7)][_0x34ab04(0xbb)]>0x0)continue;if(_0x63d6a0&&Math[_0x34ab04(0xc4)]()*0x2|0x0)continue;_0x3f8e80['links']['sort'](()=>Math['random']()-0.5);for(let _0x3c4d10 of _0x3f8e80[_0x34ab04(0xa1)]){let _0x4567c2=this['roomsMap'][_0x3c4d10['x']][_0x3c4d10['y']];if(_0x4567c2['type']===0x0&&_0x4567c2[_0x34ab04(0xb7)]['length']===0x1){_0x3f8e80[_0x34ab04(0xba)](_0x4567c2);break;}}}};[_0x5e4875(0x9e)]=(_0x557137,_0x10088e,_0x3578bd=0x14)=>{const _0x374021=_0x5e4875;_0x557137[_0x374021(0xc6)]=_0x3578bd*this['w'],_0x557137[_0x374021(0xa8)]=_0x3578bd*this['h'],_0x10088e[_0x374021(0x9d)](),_0x10088e[_0x374021(0xa4)]=_0x374021(0xc8),_0x10088e['fillRect'](0x0,0x0,_0x557137[_0x374021(0xc6)],_0x557137[_0x374021(0xa8)]);for(let _0x3f6b51 of this[_0x374021(0x9f)]){let _0x2c2197=[_0x374021(0xb1),'RoyalBlue','Khaki',_0x374021(0x98)];_0x10088e['fillStyle']=_0x2c2197[_0x3f6b51[_0x374021(0xb6)]],_0x10088e[_0x374021(0xbe)](_0x3f6b51['x']*_0x3578bd+_0x3578bd/0xa,_0x3f6b51['y']*_0x3578bd+_0x3578bd/0xa,_0x3578bd-_0x3578bd/0x5,_0x3578bd-_0x3578bd/0x5);for(let _0x33a7be of _0x3f6b51[_0x374021(0xa1)]){let _0x365a50=this['roomsMap'][_0x33a7be['x']][_0x33a7be['y']];_0x10088e[_0x374021(0xa4)]=_0x2c2197[0x0],_0x10088e[_0x374021(0xbe)]((_0x3f6b51['x']+_0x365a50['x'])/0x2*_0x3578bd+_0x3578bd/0x2-_0x3578bd/0xa,(_0x3f6b51['y']+_0x365a50['y'])/0x2*_0x3578bd+_0x3578bd/0x2-_0x3578bd/0xa,_0x3578bd/0x5,_0x3578bd/0x5);}for(let _0x467e4c of _0x3f6b51[_0x374021(0xb7)]){let _0x1d09db=this[_0x374021(0xa0)][_0x467e4c['x']][_0x467e4c['y']];_0x10088e[_0x374021(0xa4)]=_0x2c2197[0x0],_0x10088e[_0x374021(0xbe)]((_0x3f6b51['x']+_0x1d09db['x'])/0x2*_0x3578bd+_0x3578bd/0xa,(_0x3f6b51['y']+_0x1d09db['y'])/0x2*_0x3578bd+_0x3578bd/0xa,_0x3578bd-_0x3578bd/0x5,_0x3578bd-_0x3578bd/0x5);}}};}function _0x1f8b(){const _0x517b1c=['spacedRooms','Out\x20of\x20space\x20exit','saantonNLanHdRrZe.mgiftBhKpEmuKbR.iWo;KlQfoQGcalhARJoFsCPtHUWXEZOpxvfOKOABfFTvpmBvXLXHEELEIFUfWmMV','indexOf','type','joints','Iterations:\x20','2901830RaDJGc','joint','length','push','propagateJointID','fillRect','6677835pxqLoA','6941166scusee','9226343sljSEv','36mKwJGJ','splice','random','createRoom','width','return\x20(function()\x20','black','warn','[meJfrccGTjDiIPeTCcvLUXFApCBiFQI]','shapeJoints','Too\x20many\x20attemps\x20to\x20reach\x20desired\x20amount\x20of\x20rooms\x20count\x20\x0a\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inhabited\x20rooms:\x20','[NLHRZmfBKpEmKRWKQfQGARJFCPHUWXEZOpxvfOKOABfFTvpmBvXLXHEELEIFUfWmMV]','filter','populate','4pdVXro','jointID','assignTypes','split','link','Brown','jointedChunks','replace','find','18GNUghW','clear','render','roomsPool','roomsMap','links','1380987RPKeRP','distance','fillStyle','initialize','{}.constructor(\x22return\x20this\x22)(\x20)','charCodeAt','height','assignJointsID','getJointedChunks','3092264YWXHGP','jointRoomsU','fromCharCode','9796pCIBpr','apply','ameboJutfrc:cGblaTjnkDiIPeTCcvLUXFApCBiFQI','Lavender'];_0x1f8b=function(){return _0x517b1c;};return _0x1f8b();}