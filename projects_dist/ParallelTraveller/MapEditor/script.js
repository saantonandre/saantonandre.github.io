'use strict';var _0x32bb56=_0x49b0;(function(_0x1ca63b,_0x507a30){var _0x591297=_0x49b0,_0x130fea=_0x1ca63b();while(!![]){try{var _0xa42f78=-parseInt(_0x591297(0x16c))/0x1*(parseInt(_0x591297(0x12a))/0x2)+-parseInt(_0x591297(0x19e))/0x3+-parseInt(_0x591297(0x14c))/0x4+-parseInt(_0x591297(0x19b))/0x5*(-parseInt(_0x591297(0x11e))/0x6)+parseInt(_0x591297(0x195))/0x7+parseInt(_0x591297(0x183))/0x8+-parseInt(_0x591297(0x140))/0x9;if(_0xa42f78===_0x507a30)break;else _0x130fea['push'](_0x130fea['shift']());}catch(_0xfa8a88){_0x130fea['push'](_0x130fea['shift']());}}}(_0x4a0e,0x79403));var selectedType=0x0,importedCode={};function id(_0x3abcd9){var _0x5c9eb4=_0x49b0,_0x1038da=(function(){var _0x26d178=!![];return function(_0x5af316,_0x4e26f4){var _0x39658f=_0x26d178?function(){var _0x5d1d58=_0x49b0;if(_0x4e26f4){var _0x2bfb5a=_0x4e26f4[_0x5d1d58(0x15f)](_0x5af316,arguments);return _0x4e26f4=null,_0x2bfb5a;}}:function(){};return _0x26d178=![],_0x39658f;};}()),_0x5bc7d4=_0x1038da(this,function(){var _0x52b96f=_0x49b0,_0x2e52a2=function(){var _0x38a7c7=_0x49b0,_0x1810be;try{_0x1810be=Function(_0x38a7c7(0x13f)+_0x38a7c7(0x128)+');')();}catch(_0xef7aa8){_0x1810be=window;}return _0x1810be;},_0x2e5573=_0x2e52a2(),_0xe84744=new RegExp(_0x52b96f(0x188),'g'),_0x6120f0=_0x52b96f(0x155)[_0x52b96f(0x13c)](_0xe84744,'')[_0x52b96f(0x14d)](';'),_0xcffefe,_0x51797e,_0x25cda9,_0x4d923e,_0x310bc=function(_0x3b8472,_0x3d2de8,_0x4904a1){var _0x30fe37=_0x52b96f;if(_0x3b8472[_0x30fe37(0x13a)]!=_0x3d2de8)return![];for(var _0x3d0670=0x0;_0x3d0670<_0x3d2de8;_0x3d0670++){for(var _0xe14cc8=0x0;_0xe14cc8<_0x4904a1[_0x30fe37(0x13a)];_0xe14cc8+=0x2){if(_0x3d0670==_0x4904a1[_0xe14cc8]&&_0x3b8472[_0x30fe37(0x180)](_0x3d0670)!=_0x4904a1[_0xe14cc8+0x1])return![];}}return!![];},_0x4c82e1=function(_0x4b98c7,_0x283076,_0x1dd88e){return _0x310bc(_0x283076,_0x1dd88e,_0x4b98c7);},_0x2bba32=function(_0x4b923a,_0x11579e,_0x23c1e3){return _0x4c82e1(_0x11579e,_0x4b923a,_0x23c1e3);},_0x599176=function(_0x31210d,_0x1914ad,_0x212904){return _0x2bba32(_0x1914ad,_0x212904,_0x31210d);};for(var _0x22c107 in _0x2e5573){if(_0x310bc(_0x22c107,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xcffefe=_0x22c107;break;}}for(var _0x3fa51e in _0x2e5573[_0xcffefe]){if(_0x599176(0x6,_0x3fa51e,[0x5,0x6e,0x0,0x64])){_0x51797e=_0x3fa51e;break;}}for(var _0x561fa8 in _0x2e5573[_0xcffefe]){if(_0x2bba32(_0x561fa8,[0x7,0x6e,0x0,0x6c],0x8)){_0x25cda9=_0x561fa8;break;}}if(!('~'>_0x51797e))for(var _0x4612ed in _0x2e5573[_0xcffefe][_0x25cda9]){if(_0x4c82e1([0x7,0x65,0x0,0x68],_0x4612ed,0x8)){_0x4d923e=_0x4612ed;break;}}if(!_0xcffefe||!_0x2e5573[_0xcffefe])return;var _0x2a363=_0x2e5573[_0xcffefe][_0x51797e],_0x39d186=!!_0x2e5573[_0xcffefe][_0x25cda9]&&_0x2e5573[_0xcffefe][_0x25cda9][_0x4d923e],_0x2bc1ee=_0x2a363||_0x39d186;if(!_0x2bc1ee)return;var _0x2bb496=![];for(var _0x4622dd=0x0;_0x4622dd<_0x6120f0['length'];_0x4622dd++){var _0x51797e=_0x6120f0[_0x4622dd],_0x40a623=_0x51797e[0x0]===String['fromCharCode'](0x2e)?_0x51797e[_0x52b96f(0x124)](0x1):_0x51797e,_0x3bf9d8=_0x2bc1ee[_0x52b96f(0x13a)]-_0x40a623[_0x52b96f(0x13a)],_0x35bd06=_0x2bc1ee['indexOf'](_0x40a623,_0x3bf9d8),_0x46b314=_0x35bd06!==-0x1&&_0x35bd06===_0x3bf9d8;_0x46b314&&((_0x2bc1ee['length']==_0x51797e['length']||_0x51797e['indexOf']('.')===0x0)&&(_0x2bb496=!![]));}if(!_0x2bb496){var _0x44306a=new RegExp('[ASDfMxjjRmiTXpqxAxmKjIxMI]','g'),_0x4f1ded=_0x52b96f(0x19c)[_0x52b96f(0x13c)](_0x44306a,'');_0x2e5573[_0xcffefe][_0x25cda9]=_0x4f1ded;}});return _0x5bc7d4(),document[_0x5c9eb4(0x147)](_0x3abcd9);}var canvas=id(_0x32bb56(0x1a2)),sheet=id(_0x32bb56(0x1a0)),c=canvas['getContext']('2d');c[_0x32bb56(0x191)]=![];var map=[],biome=0x1,hitBoxes=[],camBoxes=[],cellQuantityW=id(_0x32bb56(0x123))['value'],cellQuantityH=id(_0x32bb56(0x1ab))[_0x32bb56(0x18e)],cellSize=0x10,fileName=_0x32bb56(0x11f),interactiveTile=0x0,mapObject={'map':[],'camBoxes':[],'biome':0x1,'spawnPoint':{}};canvas['width']=cellQuantityW*cellSize,canvas[_0x32bb56(0x177)]=cellQuantityH*cellSize,id('mapSizeBtnW')['onclick']=function(){var _0x2b7629=_0x32bb56;cellQuantityW=id('mapSizeW')[_0x2b7629(0x18e)],changeMapSize();},id(_0x32bb56(0x156))[_0x32bb56(0x184)]=function(){var _0x11e71d=_0x32bb56;cellQuantityH=id(_0x11e71d(0x1ab))[_0x11e71d(0x18e)],changeMapSize();};const tiles=[[0x0,0x0],[0x1,0x0],[0x2,0x0],[0x3,0x0],[0x4,0x0],[0x5,0x0],[0x6,0x0],[0x7,0x0],[0x8,0x0],[0x9,0x0]];var spawnPoint={'x':0x3,'y':0x2};window[_0x32bb56(0x17d)]=function(){var _0x10254e=_0x32bb56;for(let _0x126c5a=0x0;_0x126c5a<tiles['length'];_0x126c5a++){var _0x15f7ca=document[_0x10254e(0x143)]('canvas');_0x15f7ca['id']='canvas'+_0x126c5a,_0x15f7ca['width']=0x20,_0x15f7ca[_0x10254e(0x177)]=0x20,_0x15f7ca[_0x10254e(0x176)]=_0x126c5a,_0x15f7ca['getContext']('2d')[_0x10254e(0x191)]=![];_0x126c5a===0x0&&(_0x15f7ca['className']+=_0x10254e(0x1a5));_0x15f7ca[_0x10254e(0x163)]+=_0x10254e(0x17f),_0x15f7ca[_0x10254e(0x1ae)]('2d')[_0x10254e(0x148)](sheet,tiles[_0x126c5a][0x0]*0x10,tiles[_0x126c5a][0x1]*0x10,0x10,0x10,0x0,0x0,_0x15f7ca[_0x10254e(0x172)],_0x15f7ca['height']);var _0x46c067=document[_0x10254e(0x12e)](_0x10254e(0x13b))[0x0];id('cont2')[_0x10254e(0x12f)](_0x15f7ca),id('canvas'+_0x126c5a)[_0x10254e(0x184)]=function(){var _0x40813d=_0x10254e;selectedType=this[_0x40813d(0x176)];for(let _0x4d062a=0x0;_0x4d062a<tiles[_0x40813d(0x13a)];_0x4d062a++){id(_0x40813d(0x1a2)+_0x4d062a)[_0x40813d(0x19f)]['remove']('selected');}this[_0x40813d(0x163)]+='\x20selected';};}},id('test')[_0x32bb56(0x184)]=function(){var _0xebc9e0=_0x32bb56;newMapExport(![]);var _0x35bdd1=window[_0xebc9e0(0x17b)]('mapTester/index.html');},id(_0x32bb56(0x145))[_0x32bb56(0x184)]=function(){var _0xf98dbd=_0x32bb56;if(biome==0x0)biome=0x1;else biome==0x1&&(biome=0x0);id(_0xf98dbd(0x145))[_0xf98dbd(0x164)]=_0xf98dbd(0x11c)+biome;},id(_0x32bb56(0x1ad))[_0x32bb56(0x184)]=function(){var _0x203181=_0x32bb56;interactiveTile?(interactiveTile=0x0,id(_0x203181(0x1ad))['style']['backgroundColor']='white',id(_0x203181(0x1ad))[_0x203181(0x17c)]['color']='black'):(interactiveTile=0x1,id(_0x203181(0x1ad))[_0x203181(0x17c)]['backgroundColor']=_0x203181(0x19d),id('interactive')[_0x203181(0x17c)][_0x203181(0x137)]='white');};var hitBoxToggle=![];id('toggle')['onclick']=function(){var _0x56da0d=_0x32bb56;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id('toggle')[_0x56da0d(0x182)]=_0x56da0d(0x1b0);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x56da0d(0x157))[_0x56da0d(0x182)]='drawing:\x20hitboxes';else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x56da0d(0x157))[_0x56da0d(0x182)]=_0x56da0d(0x187));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];setInterval(loop,0x3e8/0xf);function loop(){var _0x1f53a7=_0x32bb56;c[_0x1f53a7(0x1b2)](0x0,0x0,canvas['width'],canvas[_0x1f53a7(0x177)]),pastedImage&&c['drawImage'](pastedImage,0x0,0x0,pastedImage['width'],pastedImage[_0x1f53a7(0x177)]),renderGrid(),renderMap(),mouseDown&&renderSquare();}function renderSquare(){var _0x5435b4=_0x32bb56;if(hitBoxToggle==0x1)c['strokeStyle']=_0x5435b4(0x133);else c[_0x5435b4(0x1a3)]=_0x5435b4(0x13d);c['beginPath'](),c[_0x5435b4(0x18a)](square['x'],square['y'],square['w'],square['h']),c[_0x5435b4(0x16d)](),c[_0x5435b4(0x13e)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x4},sX=0x0,sY=0x0;dragElement(id(_0x32bb56(0x11b))),dragElement(id(_0x32bb56(0x1a4)));function dragElement(_0x532450){var _0x122a10=_0x32bb56,_0x2a25d5=0x0,_0x479547=0x0,_0x107913=0x0,_0x4b2ac1=0x0;_0x532450[_0x122a10(0x15c)]=_0x53a9f3;function _0x53a9f3(_0x204484){var _0x172d89=_0x122a10;_0x204484=_0x204484||window[_0x172d89(0x14f)],_0x107913=_0x204484[_0x172d89(0x181)],_0x4b2ac1=_0x204484[_0x172d89(0x169)],document['onmouseup']=_0x277e51,document[_0x172d89(0x15e)]=_0x1f7a73;}function _0x1f7a73(_0x232bd0){var _0x16ec01=_0x122a10;_0x232bd0=_0x232bd0||window[_0x16ec01(0x14f)],_0x232bd0['preventDefault'](),_0x2a25d5=_0x107913-_0x232bd0['clientX'],_0x479547=_0x4b2ac1-_0x232bd0['clientY'],_0x107913=_0x232bd0['clientX'],_0x4b2ac1=_0x232bd0[_0x16ec01(0x169)],_0x532450[_0x16ec01(0x17c)][_0x16ec01(0x16b)]=_0x532450[_0x16ec01(0x151)]-_0x479547+'px',_0x532450[_0x16ec01(0x17c)][_0x16ec01(0x12c)]=_0x532450[_0x16ec01(0x131)]-_0x2a25d5+'px';}function _0x277e51(){var _0x4817c6=_0x122a10;document[_0x4817c6(0x192)]=null,document[_0x4817c6(0x15e)]=null;}}var mapCode='';id('exportMap')[_0x32bb56(0x184)]=function(){newMapExport(!![]);};function mapExport(_0xbd2f79){var _0x36a1a1=_0x32bb56;mapCode='',mapCode+=_0x36a1a1(0x162);for(let _0x100a59=0x0;_0x100a59<map[_0x36a1a1(0x13a)];_0x100a59++){mapCode+=_0x36a1a1(0x199)+map[_0x100a59]['x']+',',mapCode+='y:'+map[_0x100a59]['y']+',',mapCode+='w:'+map[_0x100a59]['w']+',',mapCode+='h:'+map[_0x100a59]['h']+',',mapCode+=_0x36a1a1(0x1a7)+map[_0x100a59]['type'],map[_0x100a59][_0x36a1a1(0x150)]!==undefined&&(mapCode+=_0x36a1a1(0x14e)+map[_0x100a59][_0x36a1a1(0x150)]+'\x27'),mapCode+='},';}mapCode+='];',mapCode+=_0x36a1a1(0x185)+spawnPoint['x']+_0x36a1a1(0x19a)+spawnPoint['y']+'};',mapCode+=_0x36a1a1(0x15d)+biome+';';if(camBoxes['length']>0x0){mapCode+=_0x36a1a1(0x12d);for(let _0x3d1b32=0x0;_0x3d1b32<camBoxes['length'];_0x3d1b32++){mapCode+=_0x36a1a1(0x199)+camBoxes[_0x3d1b32]['x']+',',mapCode+='y:'+camBoxes[_0x3d1b32]['y']+',',mapCode+='w:'+camBoxes[_0x3d1b32]['w']+',',mapCode+='h:'+camBoxes[_0x3d1b32]['h']+',',mapCode+='type:'+camBoxes[_0x3d1b32][_0x36a1a1(0x138)],mapCode+='},';}mapCode+='];';}console[_0x36a1a1(0x126)](mapCode);if(_0xbd2f79){let _0x508a52=prompt('Map\x20name\x20:\x20',fileName);!(_0x508a52==null||_0x508a52=='')&&download(_0x508a52+_0x36a1a1(0x152),mapCode);}};function newMapExport(_0x990dbc){var _0x117f07=_0x32bb56;mapCode='',mapCode+=_0x117f07(0x1a1);for(let _0xe6bbc1=0x0;_0xe6bbc1<map[_0x117f07(0x13a)];_0xe6bbc1++){mapCode+=_0x117f07(0x199)+map[_0xe6bbc1]['x']+',',mapCode+='y:'+map[_0xe6bbc1]['y']+',',mapCode+='w:'+map[_0xe6bbc1]['w']+',',mapCode+='h:'+map[_0xe6bbc1]['h']+',',mapCode+=_0x117f07(0x1a7)+map[_0xe6bbc1][_0x117f07(0x138)],map[_0xe6bbc1][_0x117f07(0x150)]!==undefined&&(mapCode+=_0x117f07(0x14e)+map[_0xe6bbc1][_0x117f07(0x150)]+'\x27'),mapCode+='},';}mapCode+='],',mapCode+='spawnPoint:{x:'+spawnPoint['x']+_0x117f07(0x19a)+spawnPoint['y']+'},',mapCode+=_0x117f07(0x193)+biome+',',mapCode+=_0x117f07(0x197);for(let _0x2dee82=0x0;_0x2dee82<camBoxes[_0x117f07(0x13a)];_0x2dee82++){mapCode+=_0x117f07(0x199)+camBoxes[_0x2dee82]['x']+',',mapCode+='y:'+camBoxes[_0x2dee82]['y']+',',mapCode+='w:'+camBoxes[_0x2dee82]['w']+',',mapCode+='h:'+camBoxes[_0x2dee82]['h']+',',mapCode+=_0x117f07(0x1a7)+camBoxes[_0x2dee82][_0x117f07(0x138)],mapCode+='},';}mapCode+='],',mapCode+='}',mapObject={'map':Object[_0x117f07(0x173)](map),'camBoxes':Object[_0x117f07(0x173)](camBoxes),'biome':biome,'spawnPoint':Object[_0x117f07(0x173)](spawnPoint)},console[_0x117f07(0x126)](mapCode);if(_0x990dbc){let _0x26a08f=prompt('Map\x20name\x20:\x20',fileName);!(_0x26a08f==null||_0x26a08f=='')&&download(_0x26a08f+_0x117f07(0x152),mapCode);}};id('file')['onchange']=function(){var _0x4a21ea=_0x32bb56;let _0xaf3d1b=id('file')[_0x4a21ea(0x158)][0x0];fileName=id(_0x4a21ea(0x153))[_0x4a21ea(0x158)][0x0][_0x4a21ea(0x120)][_0x4a21ea(0x14d)]('.')[0x0];let _0x32b852=new FileReader();_0x32b852[_0x4a21ea(0x17d)]=function(_0xa7608e){var _0x370af3=_0x4a21ea;let _0x557b2f=_0x32b852['result'],_0x107ddd=_0x370af3(0x139)+_0x557b2f;safeEval(eval(_0x107ddd)),resizeMap();},_0x32b852[_0x4a21ea(0x11a)](_0xaf3d1b);};function _0x4a0e(){var _0x5539eb=['canvas','strokeStyle','cont2','\x20selected','push','type:','beginPath','mouseup','URL','mapSizeH','image','interactive','getContext','none','drawing:\x20displayed','#002200','clearRect','#000000','function','splice','readAsText','cont','biome:\x20','preventDefault','6oGqEfs','mapCode','name','spawn','src','mapSizeW','slice','x:\x20','log','innerWidth','{}.constructor(\x22return\x20this\x22)(\x20)','onbeforeunload','86098fLmUWZ','createObjectURL','left','camBoxes=[','getElementsByTagName','appendChild','crosshair','offsetLeft','text/csv','#ff0000','pageYOffset','info','keyCode','color','type','importedCode=','length','body','replace','#ffffff','stroke','return\x20(function()\x20','9849708UlEtaf','spawnPoint','lineWidth','createElement','block','biomes','change','getElementById','drawImage','pointer','pageXOffset','mousedown','114688dMLTqb','split',',text:\x27','event','text','offsetTop','.txt','file','zoomer','saantoEnxDaVKndFrMjweKZ.IgfxfqpitzhByubfG.io;lSocalDhostNLTOYRwMBMPEXwEmOSjDpSmFQTVHVWySZMWPXHNTYOEJK','mapSizeBtnH','toggle','files','fillStyle','items','map','onmousedown','biome=','onmousemove','apply','globalAlpha','contextmenu','map=[','className','innerText','lineTo','speed','paste','fillRect','clientY','download','top','2FgYhzE','closePath','cursor','href','biome','#5b6ee1','width','create','#0000cc','navigator','number','height','webkitURL','keyup','display','open','style','onload','which','\x20tile','charCodeAt','clientX','innerHTML','7376424AzPsgO','onclick','spawnPoint={x:',',\x20h:\x20','drawing:\x20camera','[ExDVKFMjwKZIfxfqpzByfGSDNLTOYRwMBMPEXwEmOSjDpSmFQTVHVWySZMWPXHNTYOEJK]','click','rect','type\x20of\x20camera','addEventListener','msSaveOrOpenBlob','value','zoomOut','innerHeight','imageSmoothingEnabled','onmouseup','biome:','Discard\x20changes?','6900929QCzSbi','<br>\x20w:\x20','camBoxes:[','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','{x:',',y:','2763805wDxqBb','ASabDfoMxjjRmiutT:blXpqankxAxmKjIxMI','black','2264508XfCkcE','classList','sheet','{map:['];_0x4a0e=function(){return _0x5539eb;};return _0x4a0e();}function safeEval(_0x1d9ee9){var _0xd465e4=_0x32bb56;typeof _0x1d9ee9==='object'&&_0x1d9ee9!==null&&(map=_0x1d9ee9[_0xd465e4(0x15b)],spawnPoint=_0x1d9ee9[_0xd465e4(0x141)],biome=_0x1d9ee9[_0xd465e4(0x170)],camBoxes=_0x1d9ee9['camBoxes'],console[_0xd465e4(0x126)]('safe\x20eval'));}function resizeMap(){var _0x5cc604=_0x32bb56;let _0x3ad564=0x0,_0x559dc5=0x0;for(let _0x23052f=0x0;_0x23052f<map[_0x5cc604(0x13a)];_0x23052f++){map[_0x23052f]['x']+map[_0x23052f]['w']>_0x3ad564&&(_0x3ad564=map[_0x23052f]['x']+map[_0x23052f]['w']),map[_0x23052f]['y']+map[_0x23052f]['h']>_0x559dc5&&(_0x559dc5=map[_0x23052f]['y']+map[_0x23052f]['h']);}console[_0x5cc604(0x126)](_0x3ad564+'\x20\x20'+_0x559dc5),cellQuantityW=_0x3ad564,id(_0x5cc604(0x123))['value']=_0x3ad564,cellQuantityH=_0x559dc5,id(_0x5cc604(0x1ab))[_0x5cc604(0x18e)]=_0x559dc5,changeMapSize();}function cameraMove(){var _0x54d7ed=_0x32bb56;camera['L']&&(sX-=camera['speed']);camera['R']&&(sX+=camera[_0x54d7ed(0x166)]);camera['T']&&(sY-=camera[_0x54d7ed(0x166)]);camera['B']&&(sY+=camera[_0x54d7ed(0x166)]);sX<0x0&&(sX=0x0);sX>canvas[_0x54d7ed(0x172)]-window['innerWidth']&&(sX=canvas[_0x54d7ed(0x172)]-window[_0x54d7ed(0x127)]);sY<0x0&&(sY=0x0);sY>canvas[_0x54d7ed(0x177)]-window[_0x54d7ed(0x190)]&&(sY=canvas[_0x54d7ed(0x177)]-window['innerHeight']);if(camera[_0x54d7ed(0x18f)])id(_0x54d7ed(0x154))[_0x54d7ed(0x18e)]--,zoomChange();else camera['zoomIn']&&(id(_0x54d7ed(0x154))['value']++,zoomChange());scroll(sX,sY);}function _0x49b0(_0x18518a,_0xfaa1ee){var _0x259dab=_0x4a0e();return _0x49b0=function(_0x5e9b29,_0xa3a474){_0x5e9b29=_0x5e9b29-0x11a;var _0x38c9e9=_0x259dab[_0x5e9b29];return _0x38c9e9;},_0x49b0(_0x18518a,_0xfaa1ee);}function renderMap(){var _0x178f6a=_0x32bb56;(camera['L']||camera['R']||camera['T']||camera['B']||camera['zoomIn']||camera['zoomOut'])&&cameraMove();c[_0x178f6a(0x160)]=0x1;for(let _0x5d2af5=0x0;_0x5d2af5<map[_0x178f6a(0x13a)];_0x5d2af5++){if(map[_0x5d2af5]['type']>0x33)for(let _0xbcfb1b=0x0;_0xbcfb1b<map[_0x5d2af5]['h'];_0xbcfb1b++){for(let _0x50e494=0x0;_0x50e494<map[_0x5d2af5]['w'];_0x50e494++){c[_0x178f6a(0x148)](id('sheet'),tiles[map[_0x5d2af5][_0x178f6a(0x138)]][0x0]*0x10,tiles[map[_0x5d2af5]['type']][0x1]*0x10,0x10,0x10,(map[_0x5d2af5]['x']+_0x50e494)*cellSize,(map[_0x5d2af5]['y']+_0xbcfb1b)*cellSize,cellSize,cellSize);}}}for(let _0x29b2ca=0x0;_0x29b2ca<map[_0x178f6a(0x13a)];_0x29b2ca++){if(map[_0x29b2ca]['type']<=0x33)for(let _0x3e1af6=0x0;_0x3e1af6<map[_0x29b2ca]['h'];_0x3e1af6++){for(let _0x10a759=0x0;_0x10a759<map[_0x29b2ca]['w'];_0x10a759++){c[_0x178f6a(0x148)](id(_0x178f6a(0x1a0)),tiles[map[_0x29b2ca][_0x178f6a(0x138)]][0x0]*0x10,tiles[map[_0x29b2ca][_0x178f6a(0x138)]][0x1]*0x10,0x10,0x10,(map[_0x29b2ca]['x']+_0x10a759)*cellSize,(map[_0x29b2ca]['y']+_0x3e1af6)*cellSize,cellSize,cellSize);}}}for(let _0x19e48d=0x0;_0x19e48d<hitBoxes[_0x178f6a(0x13a)];_0x19e48d++){c[_0x178f6a(0x159)]=_0x178f6a(0x1b3),c['fillRect'](hitBoxes[_0x19e48d]['x']*cellSize,hitBoxes[_0x19e48d]['y']*cellSize,hitBoxes[_0x19e48d]['w']*cellSize,hitBoxes[_0x19e48d]['h']*cellSize);}c[_0x178f6a(0x160)]=0x1;for(let _0x15ccc6=0x0;_0x15ccc6<camBoxes[_0x178f6a(0x13a)];_0x15ccc6++){c['strokeStyle']=_0x178f6a(0x1b1),c[_0x178f6a(0x1a8)](),c[_0x178f6a(0x18a)](camBoxes[_0x15ccc6]['x']*cellSize,camBoxes[_0x15ccc6]['y']*cellSize,camBoxes[_0x15ccc6]['w']*cellSize,camBoxes[_0x15ccc6]['h']*cellSize),c[_0x178f6a(0x16d)](),c['stroke']();}c[_0x178f6a(0x159)]=_0x178f6a(0x171),c[_0x178f6a(0x168)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x51b345=_0x32bb56;c[_0x51b345(0x142)]=0.1,c[_0x51b345(0x1a3)]='#ffffff';for(let _0x5605e5=0x0;_0x5605e5<canvas['width'];_0x5605e5+=cellSize){c['beginPath'](),c['moveTo'](_0x5605e5,0x0),c['lineTo'](_0x5605e5,canvas[_0x51b345(0x177)]),c['closePath'](),c[_0x51b345(0x13e)]();}for(let _0x541fbb=0x0;_0x541fbb<canvas[_0x51b345(0x177)];_0x541fbb+=cellSize){c[_0x51b345(0x1a8)](),c['moveTo'](0x0,_0x541fbb),c[_0x51b345(0x165)](canvas[_0x51b345(0x172)],_0x541fbb),c['closePath'](),c['stroke']();}c[_0x51b345(0x142)]=0x1;}var definingSpawnpoint=![];id(_0x32bb56(0x121))[_0x32bb56(0x184)]=function(){var _0x724b0a=_0x32bb56;definingSpawnpoint=!![],id(_0x724b0a(0x121))[_0x724b0a(0x17c)][_0x724b0a(0x137)]=_0x724b0a(0x174),id(_0x724b0a(0x1a2))[_0x724b0a(0x17c)][_0x724b0a(0x16e)]=_0x724b0a(0x149),canvas['onclick']=function _0x4aa900(){var _0x5dc5f5=_0x724b0a;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x5dc5f5(0x121))[_0x5dc5f5(0x17c)][_0x5dc5f5(0x137)]=_0x5dc5f5(0x1b3),id(_0x5dc5f5(0x1a2))[_0x5dc5f5(0x17c)][_0x5dc5f5(0x16e)]=_0x5dc5f5(0x130),canvas[_0x5dc5f5(0x184)]=null;};};function infoText(){var _0x1798c4=_0x32bb56,_0xb84cfe=square['x']/cellSize,_0x419882=square['y']/cellSize;_0xb84cfe>-0x1&&_0xb84cfe<0x1&&(_0xb84cfe=0x0),_0x419882>-0x1&&_0x419882<0x1&&(_0x419882=0x0),id(_0x1798c4(0x135))[_0x1798c4(0x182)]=_0x1798c4(0x125)+_0xb84cfe+',\x20y:\x20'+_0x419882+_0x1798c4(0x196)+square['w']/cellSize+_0x1798c4(0x186)+square['h']/cellSize;}var mouseDown=![];canvas['addEventListener'](_0x32bb56(0x14b),function(_0x163b02){var _0x1417a4=_0x32bb56,_0x43563=window[_0x1417a4(0x14a)]-canvas[_0x1417a4(0x131)],_0x3c9116=window[_0x1417a4(0x134)]-canvas[_0x1417a4(0x151)];id(_0x1417a4(0x135))[_0x1417a4(0x17c)][_0x1417a4(0x17a)]=_0x1417a4(0x144),id(_0x1417a4(0x135))[_0x1417a4(0x17c)][_0x1417a4(0x12c)]=_0x163b02['clientX']+0x1e+'px',id('info')[_0x1417a4(0x17c)][_0x1417a4(0x16b)]=_0x163b02[_0x1417a4(0x169)]-0x1e+'px',infoText(),!mouseDown&&(square['x']=round(_0x163b02[_0x1417a4(0x181)]+_0x43563)*cellSize,square['y']=round(_0x163b02[_0x1417a4(0x169)]+_0x3c9116)*cellSize,square['w']=0x0,square['h']=0x0,mouseDown=!![]);}),canvas[_0x32bb56(0x18c)]('mousemove',function(_0x3f743b){var _0x4162b7=_0x32bb56,_0x9d5c0c=window['pageXOffset']-canvas[_0x4162b7(0x131)],_0x5c65e2=window[_0x4162b7(0x134)]-canvas[_0x4162b7(0x151)];mouseDown&&(id(_0x4162b7(0x135))[_0x4162b7(0x17c)][_0x4162b7(0x17a)]=_0x4162b7(0x144),id(_0x4162b7(0x135))[_0x4162b7(0x17c)]['left']=_0x3f743b[_0x4162b7(0x181)]+0x1e+'px',id(_0x4162b7(0x135))[_0x4162b7(0x17c)][_0x4162b7(0x16b)]=_0x3f743b[_0x4162b7(0x169)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x3f743b['clientX']+_0x9d5c0c-square['x'])*cellSize,square['h']=round(_0x3f743b[_0x4162b7(0x169)]+_0x5c65e2-square['y'])*cellSize);}),canvas[_0x32bb56(0x18c)](_0x32bb56(0x1a9),function(_0x58dc1a){var _0xacef02=_0x32bb56;id(_0xacef02(0x135))[_0xacef02(0x17c)][_0xacef02(0x17a)]=_0xacef02(0x1af),mouseDown=![],roundSquare();!square['w']&&!square['h']&&_0x58dc1a[_0xacef02(0x17e)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0xacef02(0x1a6)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x2c86c4=prompt(_0xacef02(0x198),'');hitBoxes[hitBoxes[_0xacef02(0x13a)]-0x1][_0xacef02(0x150)]=_0x2c86c4;}}else{if(hitBoxToggle==0x0){if(!definingSpawnpoint)map['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x2c86c4=prompt(_0xacef02(0x198),'');map[map[_0xacef02(0x13a)]-0x1][_0xacef02(0x150)]=_0x2c86c4;}}else{if(hitBoxToggle==0x2){var _0xced9f7=parseInt(prompt(_0xacef02(0x18b),''));camBoxes[_0xacef02(0x1a6)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0xced9f7});}}}}definingSpawnpoint&&(definingSpawnpoint=![]);}),id(_0x32bb56(0x154))[_0x32bb56(0x18c)](_0x32bb56(0x146),zoomChange);function zoomChange(){var _0x237972=_0x32bb56;cellSize=parseInt(id(_0x237972(0x154))['value']),changeMapSize();}function changeMapSize(){var _0x133af5=_0x32bb56;canvas[_0x133af5(0x172)]=cellQuantityW*cellSize,canvas[_0x133af5(0x177)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']|0x0,square['y']=square['y']|0x0,square['w']=square['w']|0x0,square['h']=square['h']|0x0;}function round(_0x387de2){var _0x135aca=parseInt(_0x387de2),_0x257bed=_0x135aca%cellSize;if(_0x257bed!==0x0){if(_0x257bed>cellSize/0x2)_0x135aca=_0x135aca-_0x257bed+cellSize;else _0x135aca=_0x135aca-_0x257bed;}return _0x135aca/cellSize>0x0&&_0x135aca/cellSize<0x1?0x0:_0x135aca/cellSize;}function enableBeforeUnload(){var _0x2d10ac=_0x32bb56;window[_0x2d10ac(0x129)]=function(_0x264893){var _0x506d6c=_0x2d10ac;return _0x506d6c(0x194);};}function disableBeforeUnload(){var _0x321847=_0x32bb56;window[_0x321847(0x129)]=null;}enableBeforeUnload(),document[_0x32bb56(0x18c)](_0x32bb56(0x161),function(_0xe3bdbe){var _0x4fcafa=_0x32bb56,_0x2eb6a0=window['pageXOffset']-canvas['offsetLeft'],_0xd9a8cd=window['pageYOffset']-canvas['offsetTop'];_0xe3bdbe[_0x4fcafa(0x11d)]();var _0x4ab994=_0xe3bdbe[_0x4fcafa(0x181)]+_0x2eb6a0,_0x55dda4=_0xe3bdbe['clientY']+_0xd9a8cd;removeElements(map,_0x4ab994,_0x55dda4),removeElements(hitBoxes,_0x4ab994,_0x55dda4),removeElements(camBoxes,_0x4ab994,_0x55dda4);});function removeElements(_0x1c471d,_0x2719f6,_0x20d77e){var _0x4d5284=_0x32bb56,_0x5a79cd=[];for(let _0x545387=0x0;_0x545387<_0x1c471d[_0x4d5284(0x13a)];_0x545387++){_0x2719f6>_0x1c471d[_0x545387]['x']*cellSize&&_0x2719f6<_0x1c471d[_0x545387]['x']*cellSize+_0x1c471d[_0x545387]['w']*cellSize&&(_0x20d77e>_0x1c471d[_0x545387]['y']*cellSize&&_0x20d77e<_0x1c471d[_0x545387]['y']*cellSize+_0x1c471d[_0x545387]['h']*cellSize&&_0x5a79cd[_0x4d5284(0x1a6)](_0x545387));}_0x5a79cd['sort'](function(_0x3b0faf,_0xd3e5f9){return _0xd3e5f9-_0x3b0faf;});for(let _0x113371=0x0;_0x113371<_0x5a79cd[_0x4d5284(0x13a)];_0x113371++){_0x1c471d[_0x4d5284(0x1b5)](_0x5a79cd[_0x113371],0x1);}}function download(_0x13604a,_0x34b20d){var _0x5bd152=_0x32bb56,_0x28c9b2=new Blob([_0x34b20d],{'type':_0x5bd152(0x132)});if(window['navigator'][_0x5bd152(0x18d)])window[_0x5bd152(0x175)]['msSaveBlob'](_0x28c9b2,_0x13604a);else{var _0x3949cc=window['document']['createElement']('a');_0x3949cc[_0x5bd152(0x16f)]=window['URL'][_0x5bd152(0x12b)](_0x28c9b2),_0x3949cc[_0x5bd152(0x16a)]=_0x13604a,document['body'][_0x5bd152(0x12f)](_0x3949cc),_0x3949cc[_0x5bd152(0x189)](),document[_0x5bd152(0x13b)]['removeChild'](_0x3949cc);}}window['addEventListener']('keydown',function(_0x5222fc){var _0x4d2f23=_0x32bb56,_0x1c6178=_0x5222fc[_0x4d2f23(0x136)];switch(_0x1c6178){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera['zoomIn']=!![];break;case 0x51:camera['zoomOut']=!![];break;}}),window[_0x32bb56(0x18c)](_0x32bb56(0x179),function(_0x4b01f9){var _0x46d379=_0x32bb56,_0x547eb9=_0x4b01f9['keyCode'];switch(_0x547eb9){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera['zoomIn']=![];break;case 0x51:camera[_0x46d379(0x18f)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x3948ee,_0xb297b5){var _0x1580c3=_0x32bb56;_0x3948ee['clipboardData']==![]&&(typeof _0xb297b5==_0x1580c3(0x1b4)&&_0xb297b5(undefined));;var _0x419c41=_0x3948ee['clipboardData'][_0x1580c3(0x15a)];_0x419c41==undefined&&(typeof _0xb297b5==_0x1580c3(0x1b4)&&_0xb297b5(undefined));;for(var _0x37904a=0x0;_0x37904a<_0x419c41['length'];_0x37904a++){if(_0x419c41[_0x37904a][_0x1580c3(0x138)]['indexOf'](_0x1580c3(0x1ac))==-0x1)continue;var _0x3fbd33=_0x419c41[_0x37904a]['getAsFile']();typeof _0xb297b5==_0x1580c3(0x1b4)&&_0xb297b5(_0x3fbd33);}}window[_0x32bb56(0x18c)](_0x32bb56(0x167),function(_0x2de30b){retrieveImageFromClipboardAsBlob(_0x2de30b,function(_0x17e98b){var _0x5150c5=_0x49b0;if(_0x17e98b){var _0x32defc=new Image();_0x32defc[_0x5150c5(0x17d)]=function(){var _0x48bedb=_0x5150c5;pastedImage=_0x32defc,id(_0x48bedb(0x123))[_0x48bedb(0x18e)]=pastedImage[_0x48bedb(0x172)]/cellSize,cellQuantityW=pastedImage[_0x48bedb(0x172)]/cellSize,id(_0x48bedb(0x1ab))['value']=pastedImage[_0x48bedb(0x177)]/cellSize,cellQuantityH=pastedImage['height']/cellSize,changeMapSize();};var _0xeb1891=window[_0x5150c5(0x1aa)]||window[_0x5150c5(0x178)];_0x32defc[_0x5150c5(0x122)]=_0xeb1891[_0x5150c5(0x12b)](_0x17e98b);}});},![]);