'use strict';var _0x481fa8=_0x5cd9;function _0xb854(){var _0x252359=['.txt','appendChild','2492686BhdeVC','height','interactive','1635132enPjFo','imageSmoothingEnabled','event','type','click','change','x:\x20','afCgDIboutQUf:wbPslYankFVKYDLYZxEryTrv','object','color','open','onclick','lineTo','biome:\x20','files','addEventListener','map','innerText','exportMap','image','length','rect','drawImage','black','top','items','split','moveTo','navigator','width','593352oKhQAp','2ifCfZG','beginPath','1692297ZArtmn','pageYOffset','camBoxes=[','closePath','innerHeight','type:','speed','selected','file','innerHTML','getContext','function','type\x20of\x20camera','block','\x20selected','Map\x20name\x20:\x20','msSaveOrOpenBlob','onbeforeunload','contextmenu','keydown','spawn','paste','mapCode','clientY','onmousemove','pageXOffset','safe\x20eval',',\x20h:\x20','mousemove','spawnPoint={x:','none','display','drawing:\x20camera','clipboardData',',y:','importedCode=','innerWidth','10KLgEfx','body','map=[','pointer','push','onmousedown','apply','replace','camBoxes','test','zoomOut','backgroundColor','mapSizeBtnH','style','text/csv','90SSgHuT','charCodeAt','onmouseup','camBoxes:[','[fCgDIQUfwPsYFVKYDLYZxEryTrv]','URL','left','Discard\x20changes?','biome','href','drawing:\x20hitboxes','mousedown','which','fillStyle','mapSizeH','cont2','2832152BDMhxQ','clientX','mapSizeW','saKZFmKAajntIoxnaGNDnpdrMem.giLthuxb.CioCDS;lXoPcEaJQRlhZostzkpfRSBwfvqTHpHjWpSQUzFFDVMPyNVZUDJFNQy','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','globalAlpha','cursor','{}.constructor(\x22return\x20this\x22)(\x20)','onchange','canvas','remove','offsetTop','removeChild','createElement','mapTester/index.html','indexOf','toggle','number','mouseup','keyCode','text','document','#002200','preventDefault','stroke','zoomer','return\x20(function()\x20',',text:\x27','strokeStyle','log','white','sort','offsetLeft','biome:','sheet','result','info','getElementsByTagName','{map:[','biomes','onload','1904601PinQAk','keyup','className','classList','spawnPoint:{x:','{x:','#5b6ee1','zoomIn','value','410786kFqzvI','create'];_0xb854=function(){return _0x252359;};return _0xb854();}(function(_0x5b66b0,_0x176f5b){var _0x1834fb=_0x5cd9,_0x37ea5f=_0x5b66b0();while(!![]){try{var _0x1f2a77=parseInt(_0x1834fb(0xa6))/0x1+parseInt(_0x1834fb(0xcc))/0x2*(-parseInt(_0x1834fb(0x9d))/0x3)+-parseInt(_0x1834fb(0xcb))/0x4+parseInt(_0x1834fb(0xf3))/0x5*(-parseInt(_0x1834fb(0xad))/0x6)+-parseInt(_0x1834fb(0xaa))/0x7+parseInt(_0x1834fb(0x112))/0x8+-parseInt(_0x1834fb(0xce))/0x9*(-parseInt(_0x1834fb(0x102))/0xa);if(_0x1f2a77===_0x176f5b)break;else _0x37ea5f['push'](_0x37ea5f['shift']());}catch(_0x437d5d){_0x37ea5f['push'](_0x37ea5f['shift']());}}}(_0xb854,0xbca93));var selectedType=0x0,importedCode={};function id(_0xee006d){var _0x51a851=(function(){var _0x5788f8=!![];return function(_0x137346,_0x15cf3f){var _0x39fc4c=_0x5788f8?function(){var _0x3cd420=_0x5cd9;if(_0x15cf3f){var _0x3210bb=_0x15cf3f[_0x3cd420(0xf9)](_0x137346,arguments);return _0x15cf3f=null,_0x3210bb;}}:function(){};return _0x5788f8=![],_0x39fc4c;};}()),_0x3592bd=_0x51a851(this,function(){var _0x5adf42=_0x5cd9,_0x352bba;try{var _0xbcc557=Function(_0x5adf42(0x8e)+_0x5adf42(0x119)+');');_0x352bba=_0xbcc557();}catch(_0x5ed22c){_0x352bba=window;}var _0x317919=new RegExp('[KZFmKAjIxGNDpMmLxCCDSXPEJQRZzkpfRSBwfvqTHpHjWpSQUzFFDVMPyNVZUDJFNQy]','g'),_0x17a001=_0x5adf42(0x115)['replace'](_0x317919,'')['split'](';'),_0x20d161,_0x59f63b,_0x110835,_0x4ef2c6,_0x31875d=function(_0x48d458,_0x5209c7,_0x54e6a3){var _0x26aca5=_0x5adf42;if(_0x48d458['length']!=_0x5209c7)return![];for(var _0x2ae3e9=0x0;_0x2ae3e9<_0x5209c7;_0x2ae3e9++){for(var _0x31d161=0x0;_0x31d161<_0x54e6a3[_0x26aca5(0xc1)];_0x31d161+=0x2){if(_0x2ae3e9==_0x54e6a3[_0x31d161]&&_0x48d458[_0x26aca5(0x103)](_0x2ae3e9)!=_0x54e6a3[_0x31d161+0x1])return![];}}return!![];},_0x68e194=function(_0x913dcf,_0x35544c,_0x5cf81f){return _0x31875d(_0x35544c,_0x5cf81f,_0x913dcf);},_0x53b2d3=function(_0x41c33d,_0x6b050f,_0x530ace){return _0x68e194(_0x6b050f,_0x41c33d,_0x530ace);},_0x8dc041=function(_0x220bbe,_0x33b840,_0x46e398){return _0x53b2d3(_0x33b840,_0x46e398,_0x220bbe);};for(var _0x4c4397 in _0x352bba){if(_0x31875d(_0x4c4397,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x20d161=_0x4c4397;break;}}for(var _0x1cc991 in _0x352bba[_0x20d161]){if(_0x8dc041(0x6,_0x1cc991,[0x5,0x6e,0x0,0x64])){_0x59f63b=_0x1cc991;break;}}for(var _0xaf3016 in _0x352bba[_0x20d161]){if(_0x53b2d3(_0xaf3016,[0x7,0x6e,0x0,0x6c],0x8)){_0x110835=_0xaf3016;break;}}if(!('~'>_0x59f63b))for(var _0x40188e in _0x352bba[_0x20d161][_0x110835]){if(_0x68e194([0x7,0x65,0x0,0x68],_0x40188e,0x8)){_0x4ef2c6=_0x40188e;break;}}if(!_0x20d161||!_0x352bba[_0x20d161])return;var _0x5781cc=_0x352bba[_0x20d161][_0x59f63b],_0x4d361f=!!_0x352bba[_0x20d161][_0x110835]&&_0x352bba[_0x20d161][_0x110835][_0x4ef2c6],_0x3420b2=_0x5781cc||_0x4d361f;if(!_0x3420b2)return;var _0x538a3a=![];for(var _0x3ee70a=0x0;_0x3ee70a<_0x17a001[_0x5adf42(0xc1)];_0x3ee70a++){var _0x59f63b=_0x17a001[_0x3ee70a],_0x5a080a=_0x59f63b[0x0]===String['fromCharCode'](0x2e)?_0x59f63b['slice'](0x1):_0x59f63b,_0x543604=_0x3420b2[_0x5adf42(0xc1)]-_0x5a080a[_0x5adf42(0xc1)],_0x629f30=_0x3420b2['indexOf'](_0x5a080a,_0x543604),_0x17f62c=_0x629f30!==-0x1&&_0x629f30===_0x543604;_0x17f62c&&((_0x3420b2['length']==_0x59f63b[_0x5adf42(0xc1)]||_0x59f63b['indexOf']('.')===0x0)&&(_0x538a3a=!![]));}if(!_0x538a3a){var _0x823c68=new RegExp(_0x5adf42(0x106),'g'),_0x4e5f05=_0x5adf42(0xb4)[_0x5adf42(0xfa)](_0x823c68,'');_0x352bba[_0x20d161][_0x110835]=_0x4e5f05;}});return _0x3592bd(),document['getElementById'](_0xee006d);}var canvas=id(_0x481fa8(0x11b)),sheet=id(_0x481fa8(0x96)),c=canvas[_0x481fa8(0xd8)]('2d');c['imageSmoothingEnabled']=![];var map=[],biome=0x1,hitBoxes=[],camBoxes=[],cellQuantityW=id(_0x481fa8(0x114))['value'],cellQuantityH=id(_0x481fa8(0x110))['value'],cellSize=0x10,fileName=_0x481fa8(0xe4),interactiveTile=0x0,mapObject={'map':[],'camBoxes':[],'biome':0x1,'spawnPoint':{}};canvas[_0x481fa8(0xca)]=cellQuantityW*cellSize,canvas[_0x481fa8(0xab)]=cellQuantityH*cellSize,id('mapSizeBtnW')[_0x481fa8(0xb8)]=function(){var _0xefb7e2=_0x481fa8;cellQuantityW=id(_0xefb7e2(0x114))[_0xefb7e2(0xa5)],changeMapSize();},id(_0x481fa8(0xff))[_0x481fa8(0xb8)]=function(){var _0x25b451=_0x481fa8;cellQuantityH=id(_0x25b451(0x110))[_0x25b451(0xa5)],changeMapSize();};const tiles=[[0x0,0x0],[0x1,0x0],[0x2,0x0],[0x3,0x0],[0x4,0x0],[0x5,0x0],[0x6,0x0],[0x7,0x0],[0x8,0x0],[0x9,0x0]];var spawnPoint={'x':0x3,'y':0x2};window['onload']=function(){var _0x5a03c0=_0x481fa8;for(let _0x2489ec=0x0;_0x2489ec<tiles['length'];_0x2489ec++){var _0x580e00=document['createElement']('canvas');_0x580e00['id']='canvas'+_0x2489ec,_0x580e00[_0x5a03c0(0xca)]=0x20,_0x580e00['height']=0x20,_0x580e00[_0x5a03c0(0x85)]=_0x2489ec,_0x580e00[_0x5a03c0(0xd8)]('2d')[_0x5a03c0(0xae)]=![];_0x2489ec===0x0&&(_0x580e00[_0x5a03c0(0x9f)]+='\x20selected');_0x580e00[_0x5a03c0(0x9f)]+='\x20tile',_0x580e00['getContext']('2d')[_0x5a03c0(0xc3)](sheet,tiles[_0x2489ec][0x0]*0x10,tiles[_0x2489ec][0x1]*0x10,0x10,0x10,0x0,0x0,_0x580e00[_0x5a03c0(0xca)],_0x580e00[_0x5a03c0(0xab)]);var _0x232772=document[_0x5a03c0(0x99)](_0x5a03c0(0xf4))[0x0];id(_0x5a03c0(0x111))['appendChild'](_0x580e00),id(_0x5a03c0(0x11b)+_0x2489ec)[_0x5a03c0(0xb8)]=function(){var _0x5ca9c2=_0x5a03c0;selectedType=this[_0x5ca9c2(0x85)];for(let _0x27b067=0x0;_0x27b067<tiles[_0x5ca9c2(0xc1)];_0x27b067++){id(_0x5ca9c2(0x11b)+_0x27b067)[_0x5ca9c2(0xa0)][_0x5ca9c2(0x11c)](_0x5ca9c2(0xd5));}this[_0x5ca9c2(0x9f)]+=_0x5ca9c2(0xdc);};}},id(_0x481fa8(0xfc))[_0x481fa8(0xb8)]=function(){var _0x36a861=_0x481fa8;newMapExport(![]);var _0x560670=window[_0x36a861(0xb7)](_0x36a861(0x120));},id(_0x481fa8(0x9b))[_0x481fa8(0xb8)]=function(){var _0x356483=_0x481fa8;if(biome==0x0)biome=0x1;else biome==0x1&&(biome=0x0);id(_0x356483(0x9b))[_0x356483(0xbe)]=_0x356483(0xba)+biome;},id('interactive')[_0x481fa8(0xb8)]=function(){var _0x2434da=_0x481fa8;interactiveTile?(interactiveTile=0x0,id('interactive')[_0x2434da(0x100)][_0x2434da(0xfe)]=_0x2434da(0x92),id(_0x2434da(0xac))['style']['color']=_0x2434da(0xc4)):(interactiveTile=0x1,id(_0x2434da(0xac))['style'][_0x2434da(0xfe)]=_0x2434da(0xc4),id('interactive')[_0x2434da(0x100)][_0x2434da(0xb6)]='white');};var hitBoxToggle=![];id('toggle')[_0x481fa8(0xb8)]=function(){var _0x26c0a4=_0x481fa8;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x26c0a4(0x84))[_0x26c0a4(0xd7)]='drawing:\x20displayed';else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id('toggle')[_0x26c0a4(0xd7)]=_0x26c0a4(0x10c);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id('toggle')[_0x26c0a4(0xd7)]=_0x26c0a4(0xee));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];setInterval(loop,0x3e8/0xf);function loop(){var _0x4bf8eb=_0x481fa8;c['clearRect'](0x0,0x0,canvas['width'],canvas['height']),pastedImage&&c['drawImage'](pastedImage,0x0,0x0,pastedImage[_0x4bf8eb(0xca)],pastedImage[_0x4bf8eb(0xab)]),renderGrid(),renderMap(),mouseDown&&renderSquare();}function renderSquare(){var _0x1c6d99=_0x481fa8;if(hitBoxToggle==0x1)c[_0x1c6d99(0x90)]='#ff0000';else c[_0x1c6d99(0x90)]='#ffffff';c[_0x1c6d99(0xcd)](),c[_0x1c6d99(0xc2)](square['x'],square['y'],square['w'],square['h']),c[_0x1c6d99(0xd1)](),c['stroke']();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x4},sX=0x0,sY=0x0;dragElement(id('cont')),dragElement(id('cont2'));function dragElement(_0x3bee83){var _0x5de972=_0x481fa8,_0x356520=0x0,_0xefb449=0x0,_0x547f4c=0x0,_0x38014e=0x0;_0x3bee83[_0x5de972(0xf8)]=_0x48cf92;function _0x48cf92(_0x4fdba2){var _0x509078=_0x5de972;_0x4fdba2=_0x4fdba2||window[_0x509078(0xaf)],_0x547f4c=_0x4fdba2[_0x509078(0x113)],_0x38014e=_0x4fdba2[_0x509078(0xe5)],document[_0x509078(0x104)]=_0x4fb538,document[_0x509078(0xe6)]=_0x592ecc;}function _0x592ecc(_0x5dc911){var _0x208b54=_0x5de972;_0x5dc911=_0x5dc911||window[_0x208b54(0xaf)],_0x5dc911[_0x208b54(0x8b)](),_0x356520=_0x547f4c-_0x5dc911[_0x208b54(0x113)],_0xefb449=_0x38014e-_0x5dc911[_0x208b54(0xe5)],_0x547f4c=_0x5dc911[_0x208b54(0x113)],_0x38014e=_0x5dc911[_0x208b54(0xe5)],_0x3bee83['style']['top']=_0x3bee83[_0x208b54(0x11d)]-_0xefb449+'px',_0x3bee83['style']['left']=_0x3bee83[_0x208b54(0x94)]-_0x356520+'px';}function _0x4fb538(){var _0x41d4af=_0x5de972;document['onmouseup']=null,document[_0x41d4af(0xe6)]=null;}}var mapCode='';id(_0x481fa8(0xbf))[_0x481fa8(0xb8)]=function(){newMapExport(!![]);};function mapExport(_0x36fa96){var _0x24cc5e=_0x481fa8;mapCode='',mapCode+=_0x24cc5e(0xf5);for(let _0x54f8dd=0x0;_0x54f8dd<map['length'];_0x54f8dd++){mapCode+='{x:'+map[_0x54f8dd]['x']+',',mapCode+='y:'+map[_0x54f8dd]['y']+',',mapCode+='w:'+map[_0x54f8dd]['w']+',',mapCode+='h:'+map[_0x54f8dd]['h']+',',mapCode+=_0x24cc5e(0xd3)+map[_0x54f8dd][_0x24cc5e(0xb0)],map[_0x54f8dd]['text']!==undefined&&(mapCode+=_0x24cc5e(0x8f)+map[_0x54f8dd][_0x24cc5e(0x88)]+'\x27'),mapCode+='},';}mapCode+='];',mapCode+=_0x24cc5e(0xeb)+spawnPoint['x']+',y:'+spawnPoint['y']+'};',mapCode+='biome='+biome+';';if(camBoxes[_0x24cc5e(0xc1)]>0x0){mapCode+=_0x24cc5e(0xd0);for(let _0x450d31=0x0;_0x450d31<camBoxes[_0x24cc5e(0xc1)];_0x450d31++){mapCode+=_0x24cc5e(0xa2)+camBoxes[_0x450d31]['x']+',',mapCode+='y:'+camBoxes[_0x450d31]['y']+',',mapCode+='w:'+camBoxes[_0x450d31]['w']+',',mapCode+='h:'+camBoxes[_0x450d31]['h']+',',mapCode+='type:'+camBoxes[_0x450d31][_0x24cc5e(0xb0)],mapCode+='},';}mapCode+='];';}console[_0x24cc5e(0x91)](mapCode);if(_0x36fa96){let _0x548e4c=prompt('Map\x20name\x20:\x20',fileName);!(_0x548e4c==null||_0x548e4c=='')&&download(_0x548e4c+_0x24cc5e(0xa8),mapCode);}};function newMapExport(_0xe29768){var _0x45ec3b=_0x481fa8;mapCode='',mapCode+=_0x45ec3b(0x9a);for(let _0x42c29e=0x0;_0x42c29e<map['length'];_0x42c29e++){mapCode+='{x:'+map[_0x42c29e]['x']+',',mapCode+='y:'+map[_0x42c29e]['y']+',',mapCode+='w:'+map[_0x42c29e]['w']+',',mapCode+='h:'+map[_0x42c29e]['h']+',',mapCode+=_0x45ec3b(0xd3)+map[_0x42c29e]['type'],map[_0x42c29e][_0x45ec3b(0x88)]!==undefined&&(mapCode+=_0x45ec3b(0x8f)+map[_0x42c29e][_0x45ec3b(0x88)]+'\x27'),mapCode+='},';}mapCode+='],',mapCode+=_0x45ec3b(0xa1)+spawnPoint['x']+_0x45ec3b(0xf0)+spawnPoint['y']+'},',mapCode+=_0x45ec3b(0x95)+biome+',',mapCode+=_0x45ec3b(0x105);for(let _0x38bcdd=0x0;_0x38bcdd<camBoxes['length'];_0x38bcdd++){mapCode+=_0x45ec3b(0xa2)+camBoxes[_0x38bcdd]['x']+',',mapCode+='y:'+camBoxes[_0x38bcdd]['y']+',',mapCode+='w:'+camBoxes[_0x38bcdd]['w']+',',mapCode+='h:'+camBoxes[_0x38bcdd]['h']+',',mapCode+=_0x45ec3b(0xd3)+camBoxes[_0x38bcdd][_0x45ec3b(0xb0)],mapCode+='},';}mapCode+='],',mapCode+='}',mapObject={'map':Object[_0x45ec3b(0xa7)](map),'camBoxes':Object[_0x45ec3b(0xa7)](camBoxes),'biome':biome,'spawnPoint':Object[_0x45ec3b(0xa7)](spawnPoint)},console[_0x45ec3b(0x91)](mapCode);if(_0xe29768){let _0x2a73a1=prompt(_0x45ec3b(0xdd),fileName);!(_0x2a73a1==null||_0x2a73a1=='')&&download(_0x2a73a1+'.txt',mapCode);}};id(_0x481fa8(0xd6))[_0x481fa8(0x11a)]=function(){var _0x2f44ce=_0x481fa8;let _0x8f7c0f=id(_0x2f44ce(0xd6))[_0x2f44ce(0xbb)][0x0];fileName=id('file')[_0x2f44ce(0xbb)][0x0]['name'][_0x2f44ce(0xc7)]('.')[0x0];let _0x510799=new FileReader();_0x510799[_0x2f44ce(0x9c)]=function(_0x2ce23a){var _0x27acd6=_0x2f44ce;let _0xbef759=_0x510799[_0x27acd6(0x97)],_0x35ac92=_0x27acd6(0xf1)+_0xbef759;safeEval(eval(_0x35ac92)),resizeMap();},_0x510799['readAsText'](_0x8f7c0f);};function safeEval(_0x3ca42f){var _0x3f5216=_0x481fa8;typeof _0x3ca42f===_0x3f5216(0xb5)&&_0x3ca42f!==null&&(map=_0x3ca42f[_0x3f5216(0xbd)],spawnPoint=_0x3ca42f['spawnPoint'],biome=_0x3ca42f[_0x3f5216(0x10a)],camBoxes=_0x3ca42f[_0x3f5216(0xfb)],console['log'](_0x3f5216(0xe8)));}function resizeMap(){var _0x3018af=_0x481fa8;let _0xe1e349=0x0,_0x103e67=0x0;for(let _0x11b867=0x0;_0x11b867<map[_0x3018af(0xc1)];_0x11b867++){map[_0x11b867]['x']+map[_0x11b867]['w']>_0xe1e349&&(_0xe1e349=map[_0x11b867]['x']+map[_0x11b867]['w']),map[_0x11b867]['y']+map[_0x11b867]['h']>_0x103e67&&(_0x103e67=map[_0x11b867]['y']+map[_0x11b867]['h']);}console['log'](_0xe1e349+'\x20\x20'+_0x103e67),cellQuantityW=_0xe1e349,id(_0x3018af(0x114))['value']=_0xe1e349,cellQuantityH=_0x103e67,id(_0x3018af(0x110))['value']=_0x103e67,changeMapSize();}function _0x5cd9(_0x5de5d6,_0x2cd55c){var _0x28b0a9=_0xb854();return _0x5cd9=function(_0x9c1741,_0x2d1cea){_0x9c1741=_0x9c1741-0x84;var _0x421a15=_0x28b0a9[_0x9c1741];return _0x421a15;},_0x5cd9(_0x5de5d6,_0x2cd55c);}function cameraMove(){var _0x23a0c6=_0x481fa8;camera['L']&&(sX-=camera[_0x23a0c6(0xd4)]);camera['R']&&(sX+=camera[_0x23a0c6(0xd4)]);camera['T']&&(sY-=camera['speed']);camera['B']&&(sY+=camera[_0x23a0c6(0xd4)]);sX<0x0&&(sX=0x0);sX>canvas[_0x23a0c6(0xca)]-window['innerWidth']&&(sX=canvas['width']-window[_0x23a0c6(0xf2)]);sY<0x0&&(sY=0x0);sY>canvas[_0x23a0c6(0xab)]-window[_0x23a0c6(0xd2)]&&(sY=canvas[_0x23a0c6(0xab)]-window[_0x23a0c6(0xd2)]);if(camera['zoomOut'])id('zoomer')[_0x23a0c6(0xa5)]--,zoomChange();else camera[_0x23a0c6(0xa4)]&&(id(_0x23a0c6(0x8d))[_0x23a0c6(0xa5)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x45d7ba=_0x481fa8;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x45d7ba(0xa4)]||camera[_0x45d7ba(0xfd)])&&cameraMove();c['globalAlpha']=0x1;for(let _0x7f3795=0x0;_0x7f3795<map[_0x45d7ba(0xc1)];_0x7f3795++){if(map[_0x7f3795][_0x45d7ba(0xb0)]>0x33)for(let _0x86bef5=0x0;_0x86bef5<map[_0x7f3795]['h'];_0x86bef5++){for(let _0x5c4a83=0x0;_0x5c4a83<map[_0x7f3795]['w'];_0x5c4a83++){c[_0x45d7ba(0xc3)](id(_0x45d7ba(0x96)),tiles[map[_0x7f3795]['type']][0x0]*0x10,tiles[map[_0x7f3795][_0x45d7ba(0xb0)]][0x1]*0x10,0x10,0x10,(map[_0x7f3795]['x']+_0x5c4a83)*cellSize,(map[_0x7f3795]['y']+_0x86bef5)*cellSize,cellSize,cellSize);}}}for(let _0x1a845e=0x0;_0x1a845e<map[_0x45d7ba(0xc1)];_0x1a845e++){if(map[_0x1a845e]['type']<=0x33)for(let _0x3b6422=0x0;_0x3b6422<map[_0x1a845e]['h'];_0x3b6422++){for(let _0xf6cbb5=0x0;_0xf6cbb5<map[_0x1a845e]['w'];_0xf6cbb5++){c[_0x45d7ba(0xc3)](id(_0x45d7ba(0x96)),tiles[map[_0x1a845e][_0x45d7ba(0xb0)]][0x0]*0x10,tiles[map[_0x1a845e][_0x45d7ba(0xb0)]][0x1]*0x10,0x10,0x10,(map[_0x1a845e]['x']+_0xf6cbb5)*cellSize,(map[_0x1a845e]['y']+_0x3b6422)*cellSize,cellSize,cellSize);}}}for(let _0x22a237=0x0;_0x22a237<hitBoxes[_0x45d7ba(0xc1)];_0x22a237++){c[_0x45d7ba(0x10f)]='#000000',c['fillRect'](hitBoxes[_0x22a237]['x']*cellSize,hitBoxes[_0x22a237]['y']*cellSize,hitBoxes[_0x22a237]['w']*cellSize,hitBoxes[_0x22a237]['h']*cellSize);}c[_0x45d7ba(0x117)]=0x1;for(let _0x29c8a8=0x0;_0x29c8a8<camBoxes[_0x45d7ba(0xc1)];_0x29c8a8++){c[_0x45d7ba(0x90)]=_0x45d7ba(0x8a),c[_0x45d7ba(0xcd)](),c[_0x45d7ba(0xc2)](camBoxes[_0x29c8a8]['x']*cellSize,camBoxes[_0x29c8a8]['y']*cellSize,camBoxes[_0x29c8a8]['w']*cellSize,camBoxes[_0x29c8a8]['h']*cellSize),c[_0x45d7ba(0xd1)](),c[_0x45d7ba(0x8c)]();}c['fillStyle']=_0x45d7ba(0xa3),c['fillRect'](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x193856=_0x481fa8;c['lineWidth']=0.1,c[_0x193856(0x90)]='#ffffff';for(let _0x34fdcc=0x0;_0x34fdcc<canvas[_0x193856(0xca)];_0x34fdcc+=cellSize){c[_0x193856(0xcd)](),c[_0x193856(0xc8)](_0x34fdcc,0x0),c[_0x193856(0xb9)](_0x34fdcc,canvas['height']),c['closePath'](),c[_0x193856(0x8c)]();}for(let _0xf14f4c=0x0;_0xf14f4c<canvas[_0x193856(0xab)];_0xf14f4c+=cellSize){c[_0x193856(0xcd)](),c[_0x193856(0xc8)](0x0,_0xf14f4c),c[_0x193856(0xb9)](canvas[_0x193856(0xca)],_0xf14f4c),c[_0x193856(0xd1)](),c[_0x193856(0x8c)]();}c['lineWidth']=0x1;}var definingSpawnpoint=![];id(_0x481fa8(0xe2))[_0x481fa8(0xb8)]=function(){var _0x2f8914=_0x481fa8;definingSpawnpoint=!![],id(_0x2f8914(0xe2))['style'][_0x2f8914(0xb6)]='#0000cc',id(_0x2f8914(0x11b))[_0x2f8914(0x100)][_0x2f8914(0x118)]=_0x2f8914(0xf6),canvas[_0x2f8914(0xb8)]=function _0x3293b0(){var _0x324ea3=_0x2f8914;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x324ea3(0xe2))['style'][_0x324ea3(0xb6)]='#000000',id(_0x324ea3(0x11b))[_0x324ea3(0x100)][_0x324ea3(0x118)]='crosshair',canvas[_0x324ea3(0xb8)]=null;};};function infoText(){var _0x4d87a7=_0x481fa8,_0x15d772=square['x']/cellSize,_0x4244ff=square['y']/cellSize;_0x15d772>-0x1&&_0x15d772<0x1&&(_0x15d772=0x0),_0x4244ff>-0x1&&_0x4244ff<0x1&&(_0x4244ff=0x0),id(_0x4d87a7(0x98))[_0x4d87a7(0xd7)]=_0x4d87a7(0xb3)+_0x15d772+',\x20y:\x20'+_0x4244ff+'<br>\x20w:\x20'+square['w']/cellSize+_0x4d87a7(0xe9)+square['h']/cellSize;}var mouseDown=![];canvas[_0x481fa8(0xbc)](_0x481fa8(0x10d),function(_0x2fc62b){var _0x5c8e36=_0x481fa8,_0x491dea=window[_0x5c8e36(0xe7)]-canvas[_0x5c8e36(0x94)],_0x5b1ad0=window[_0x5c8e36(0xcf)]-canvas[_0x5c8e36(0x11d)];id(_0x5c8e36(0x98))[_0x5c8e36(0x100)][_0x5c8e36(0xed)]=_0x5c8e36(0xdb),id(_0x5c8e36(0x98))[_0x5c8e36(0x100)][_0x5c8e36(0x108)]=_0x2fc62b['clientX']+0x1e+'px',id('info')[_0x5c8e36(0x100)][_0x5c8e36(0xc5)]=_0x2fc62b['clientY']-0x1e+'px',infoText(),!mouseDown&&(square['x']=round(_0x2fc62b[_0x5c8e36(0x113)]+_0x491dea)*cellSize,square['y']=round(_0x2fc62b[_0x5c8e36(0xe5)]+_0x5b1ad0)*cellSize,square['w']=0x0,square['h']=0x0,mouseDown=!![]);}),canvas[_0x481fa8(0xbc)](_0x481fa8(0xea),function(_0x1f8778){var _0x744914=_0x481fa8,_0x44cec3=window['pageXOffset']-canvas['offsetLeft'],_0x957463=window['pageYOffset']-canvas[_0x744914(0x11d)];mouseDown&&(id(_0x744914(0x98))[_0x744914(0x100)]['display']=_0x744914(0xdb),id('info')[_0x744914(0x100)][_0x744914(0x108)]=_0x1f8778[_0x744914(0x113)]+0x1e+'px',id(_0x744914(0x98))[_0x744914(0x100)][_0x744914(0xc5)]=_0x1f8778[_0x744914(0xe5)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x1f8778[_0x744914(0x113)]+_0x44cec3-square['x'])*cellSize,square['h']=round(_0x1f8778[_0x744914(0xe5)]+_0x957463-square['y'])*cellSize);}),canvas[_0x481fa8(0xbc)](_0x481fa8(0x86),function(_0x3ec753){var _0x178e3d=_0x481fa8;id(_0x178e3d(0x98))[_0x178e3d(0x100)][_0x178e3d(0xed)]=_0x178e3d(0xec),mouseDown=![],roundSquare();!square['w']&&!square['h']&&_0x3ec753[_0x178e3d(0x10e)]===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x6f54dd=prompt(_0x178e3d(0x116),'');hitBoxes[hitBoxes[_0x178e3d(0xc1)]-0x1][_0x178e3d(0x88)]=_0x6f54dd;}}else{if(hitBoxToggle==0x0){if(!definingSpawnpoint)map[_0x178e3d(0xf7)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x6f54dd=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');map[map[_0x178e3d(0xc1)]-0x1][_0x178e3d(0x88)]=_0x6f54dd;}}else{if(hitBoxToggle==0x2){var _0x44bd37=parseInt(prompt(_0x178e3d(0xda),''));camBoxes[_0x178e3d(0xf7)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x44bd37});}}}}definingSpawnpoint&&(definingSpawnpoint=![]);}),id(_0x481fa8(0x8d))['addEventListener'](_0x481fa8(0xb2),zoomChange);function zoomChange(){var _0x362950=_0x481fa8;cellSize=parseInt(id(_0x362950(0x8d))[_0x362950(0xa5)]),changeMapSize();}function changeMapSize(){var _0x23ab01=_0x481fa8;canvas[_0x23ab01(0xca)]=cellQuantityW*cellSize,canvas['height']=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']|0x0,square['y']=square['y']|0x0,square['w']=square['w']|0x0,square['h']=square['h']|0x0;}function round(_0x20a430){var _0x53a826=parseInt(_0x20a430),_0x3f84ab=_0x53a826%cellSize;if(_0x3f84ab!==0x0){if(_0x3f84ab>cellSize/0x2)_0x53a826=_0x53a826-_0x3f84ab+cellSize;else _0x53a826=_0x53a826-_0x3f84ab;}return _0x53a826/cellSize>0x0&&_0x53a826/cellSize<0x1?0x0:_0x53a826/cellSize;}function enableBeforeUnload(){var _0x315927=_0x481fa8;window[_0x315927(0xdf)]=function(_0x4e58ed){var _0x3adc6f=_0x315927;return _0x3adc6f(0x109);};}function disableBeforeUnload(){var _0x4c2d29=_0x481fa8;window[_0x4c2d29(0xdf)]=null;}enableBeforeUnload(),document[_0x481fa8(0xbc)](_0x481fa8(0xe0),function(_0x536463){var _0x3ca877=_0x481fa8,_0x1ad174=window['pageXOffset']-canvas[_0x3ca877(0x94)],_0x319534=window[_0x3ca877(0xcf)]-canvas[_0x3ca877(0x11d)];_0x536463[_0x3ca877(0x8b)]();var _0x5db261=_0x536463['clientX']+_0x1ad174,_0x2b1fa5=_0x536463[_0x3ca877(0xe5)]+_0x319534;removeElements(map,_0x5db261,_0x2b1fa5),removeElements(hitBoxes,_0x5db261,_0x2b1fa5),removeElements(camBoxes,_0x5db261,_0x2b1fa5);});function removeElements(_0x43c965,_0x58ee38,_0x50f773){var _0x59f52e=_0x481fa8,_0x2b12c5=[];for(let _0x26763b=0x0;_0x26763b<_0x43c965['length'];_0x26763b++){_0x58ee38>_0x43c965[_0x26763b]['x']*cellSize&&_0x58ee38<_0x43c965[_0x26763b]['x']*cellSize+_0x43c965[_0x26763b]['w']*cellSize&&(_0x50f773>_0x43c965[_0x26763b]['y']*cellSize&&_0x50f773<_0x43c965[_0x26763b]['y']*cellSize+_0x43c965[_0x26763b]['h']*cellSize&&_0x2b12c5[_0x59f52e(0xf7)](_0x26763b));}_0x2b12c5[_0x59f52e(0x93)](function(_0x1cb107,_0x5dd664){return _0x5dd664-_0x1cb107;});for(let _0x461ce9=0x0;_0x461ce9<_0x2b12c5[_0x59f52e(0xc1)];_0x461ce9++){_0x43c965['splice'](_0x2b12c5[_0x461ce9],0x1);}}function download(_0x4cdc99,_0x1b31ee){var _0x1375bc=_0x481fa8,_0x47e51f=new Blob([_0x1b31ee],{'type':_0x1375bc(0x101)});if(window[_0x1375bc(0xc9)][_0x1375bc(0xde)])window[_0x1375bc(0xc9)]['msSaveBlob'](_0x47e51f,_0x4cdc99);else{var _0x197579=window[_0x1375bc(0x89)][_0x1375bc(0x11f)]('a');_0x197579[_0x1375bc(0x10b)]=window[_0x1375bc(0x107)]['createObjectURL'](_0x47e51f),_0x197579['download']=_0x4cdc99,document[_0x1375bc(0xf4)][_0x1375bc(0xa9)](_0x197579),_0x197579[_0x1375bc(0xb1)](),document['body'][_0x1375bc(0x11e)](_0x197579);}}window[_0x481fa8(0xbc)](_0x481fa8(0xe1),function(_0x16e58b){var _0x3c8ec3=_0x481fa8,_0x350a0b=_0x16e58b[_0x3c8ec3(0x87)];switch(_0x350a0b){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera['zoomIn']=!![];break;case 0x51:camera[_0x3c8ec3(0xfd)]=!![];break;}}),window[_0x481fa8(0xbc)](_0x481fa8(0x9e),function(_0x5e7693){var _0xfa9176=_0x481fa8,_0xb1130a=_0x5e7693['keyCode'];switch(_0xb1130a){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0xfa9176(0xa4)]=![];break;case 0x51:camera[_0xfa9176(0xfd)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x1ea539,_0x149c75){var _0x5b1082=_0x481fa8;_0x1ea539[_0x5b1082(0xef)]==![]&&(typeof _0x149c75==_0x5b1082(0xd9)&&_0x149c75(undefined));;var _0x5393e1=_0x1ea539['clipboardData'][_0x5b1082(0xc6)];_0x5393e1==undefined&&(typeof _0x149c75==_0x5b1082(0xd9)&&_0x149c75(undefined));;for(var _0x2ec274=0x0;_0x2ec274<_0x5393e1['length'];_0x2ec274++){if(_0x5393e1[_0x2ec274][_0x5b1082(0xb0)][_0x5b1082(0x121)](_0x5b1082(0xc0))==-0x1)continue;var _0x249ba6=_0x5393e1[_0x2ec274]['getAsFile']();typeof _0x149c75=='function'&&_0x149c75(_0x249ba6);}}window[_0x481fa8(0xbc)](_0x481fa8(0xe3),function(_0x359129){retrieveImageFromClipboardAsBlob(_0x359129,function(_0xf81f6a){var _0x398958=_0x5cd9;if(_0xf81f6a){var _0x42bebf=new Image();_0x42bebf[_0x398958(0x9c)]=function(){var _0x4bf73a=_0x398958;pastedImage=_0x42bebf,id(_0x4bf73a(0x114))['value']=pastedImage[_0x4bf73a(0xca)]/cellSize,cellQuantityW=pastedImage[_0x4bf73a(0xca)]/cellSize,id(_0x4bf73a(0x110))[_0x4bf73a(0xa5)]=pastedImage[_0x4bf73a(0xab)]/cellSize,cellQuantityH=pastedImage['height']/cellSize,changeMapSize();};var _0x66cb8f=window[_0x398958(0x107)]||window['webkitURL'];_0x42bebf['src']=_0x66cb8f['createObjectURL'](_0xf81f6a);}});},![]);