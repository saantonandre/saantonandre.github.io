'use strict';var _0x586da8=_0x1aaf;(function(_0x1554c6,_0x70ba88){var _0x463f56=_0x1aaf,_0x45f5b9=_0x1554c6();while(!![]){try{var _0xd67adc=parseInt(_0x463f56(0x17d))/0x1+parseInt(_0x463f56(0x12d))/0x2*(parseInt(_0x463f56(0x130))/0x3)+-parseInt(_0x463f56(0x10b))/0x4*(parseInt(_0x463f56(0x16b))/0x5)+parseInt(_0x463f56(0x106))/0x6+parseInt(_0x463f56(0x170))/0x7+-parseInt(_0x463f56(0x15f))/0x8*(-parseInt(_0x463f56(0x16a))/0x9)+-parseInt(_0x463f56(0xf9))/0xa;if(_0xd67adc===_0x70ba88)break;else _0x45f5b9['push'](_0x45f5b9['shift']());}catch(_0xa67db5){_0x45f5b9['push'](_0x45f5b9['shift']());}}}(_0x5b41,0xcc705));var selectedType=0x0,importedCode={};function id(_0x2bb1cd){var _0x4f8f50=_0x1aaf,_0x4196b9=(function(){var _0x3bff10=!![];return function(_0x3bef36,_0xabad28){var _0x259fc4=_0x3bff10?function(){if(_0xabad28){var _0xff736a=_0xabad28['apply'](_0x3bef36,arguments);return _0xabad28=null,_0xff736a;}}:function(){};return _0x3bff10=![],_0x259fc4;};}()),_0x9504f6=_0x4196b9(this,function(){var _0x4aeb72=_0x1aaf,_0x1a1b5d;try{var _0x49f912=Function(_0x4aeb72(0xfa)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1a1b5d=_0x49f912();}catch(_0x557aa6){_0x1a1b5d=window;}var _0xd134f0=new RegExp(_0x4aeb72(0x111),'g'),_0x341a1d='LsaantZoynzIyCandEreH.giwtOkOhufb.MiSFUFOSUIoqj;localhomAstSTqNQLwTzkyQVCSRSJIMMCSQMLfzWJkqEHB'[_0x4aeb72(0xfc)](_0xd134f0,'')[_0x4aeb72(0x116)](';'),_0x49d581,_0x101f2e,_0x50ea74,_0x3a2069,_0x102d11=function(_0x188934,_0x485c1a,_0xf95d90){var _0x2c36e3=_0x4aeb72;if(_0x188934[_0x2c36e3(0x115)]!=_0x485c1a)return![];for(var _0x47bdc6=0x0;_0x47bdc6<_0x485c1a;_0x47bdc6++){for(var _0x26b1cb=0x0;_0x26b1cb<_0xf95d90[_0x2c36e3(0x115)];_0x26b1cb+=0x2){if(_0x47bdc6==_0xf95d90[_0x26b1cb]&&_0x188934['charCodeAt'](_0x47bdc6)!=_0xf95d90[_0x26b1cb+0x1])return![];}}return!![];},_0xa5e1cf=function(_0xdbaa25,_0x4dc516,_0x194434){return _0x102d11(_0x4dc516,_0x194434,_0xdbaa25);},_0x4bd4ff=function(_0x308f7f,_0x3b566f,_0x599381){return _0xa5e1cf(_0x3b566f,_0x308f7f,_0x599381);},_0x2ebe6e=function(_0x193fa2,_0x344647,_0x4e2bfa){return _0x4bd4ff(_0x344647,_0x4e2bfa,_0x193fa2);};for(var _0x2792b6 in _0x1a1b5d){if(_0x102d11(_0x2792b6,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x49d581=_0x2792b6;break;}}for(var _0x5ea989 in _0x1a1b5d[_0x49d581]){if(_0x2ebe6e(0x6,_0x5ea989,[0x5,0x6e,0x0,0x64])){_0x101f2e=_0x5ea989;break;}}for(var _0x77a228 in _0x1a1b5d[_0x49d581]){if(_0x4bd4ff(_0x77a228,[0x7,0x6e,0x0,0x6c],0x8)){_0x50ea74=_0x77a228;break;}}if(!('~'>_0x101f2e))for(var _0x160ae4 in _0x1a1b5d[_0x49d581][_0x50ea74]){if(_0xa5e1cf([0x7,0x65,0x0,0x68],_0x160ae4,0x8)){_0x3a2069=_0x160ae4;break;}}if(!_0x49d581||!_0x1a1b5d[_0x49d581])return;var _0xe7d5b=_0x1a1b5d[_0x49d581][_0x101f2e],_0x5b3803=!!_0x1a1b5d[_0x49d581][_0x50ea74]&&_0x1a1b5d[_0x49d581][_0x50ea74][_0x3a2069],_0x42c548=_0xe7d5b||_0x5b3803;if(!_0x42c548)return;var _0x15ece3=![];for(var _0x289960=0x0;_0x289960<_0x341a1d['length'];_0x289960++){var _0x101f2e=_0x341a1d[_0x289960],_0x255de6=_0x101f2e[0x0]===String[_0x4aeb72(0x13c)](0x2e)?_0x101f2e['slice'](0x1):_0x101f2e,_0x488b32=_0x42c548[_0x4aeb72(0x115)]-_0x255de6[_0x4aeb72(0x115)],_0x18e90c=_0x42c548['indexOf'](_0x255de6,_0x488b32),_0x4f7a60=_0x18e90c!==-0x1&&_0x18e90c===_0x488b32;_0x4f7a60&&((_0x42c548['length']==_0x101f2e[_0x4aeb72(0x115)]||_0x101f2e['indexOf']('.')===0x0)&&(_0x15ece3=!![]));}if(!_0x15ece3){var _0x2bdec0=new RegExp('[cDmhLSshYirJOvGdFwNyXvASSecX]','g'),_0x3b0760='abcDmohLSut:sblankhYirJOvGdFwNyXvASSecX'[_0x4aeb72(0xfc)](_0x2bdec0,'');_0x1a1b5d[_0x49d581][_0x50ea74]=_0x3b0760;}});return _0x9504f6(),document[_0x4f8f50(0x175)](_0x2bb1cd);}var canvas=id(_0x586da8(0x136)),sheet=id(_0x586da8(0x11d)),c=canvas[_0x586da8(0x132)]('2d');c[_0x586da8(0x16f)]=![];var map=[],biome=0x1,hitBoxes=[],camBoxes=[],cellQuantityW=id(_0x586da8(0x168))['value'],cellQuantityH=id(_0x586da8(0x103))[_0x586da8(0x166)],cellSize=0x10,fileName='mapCode',interactiveTile=0x0,mapObject={'map':[],'camBoxes':[],'biome':0x1,'spawnPoint':{}};canvas[_0x586da8(0x147)]=cellQuantityW*cellSize,canvas[_0x586da8(0x122)]=cellQuantityH*cellSize,id(_0x586da8(0x126))['onclick']=function(){var _0x184893=_0x586da8;cellQuantityW=id(_0x184893(0x168))['value'],changeMapSize();},id(_0x586da8(0x155))['onclick']=function(){var _0x314363=_0x586da8;cellQuantityH=id(_0x314363(0x103))['value'],changeMapSize();};const tiles=[[0x0,0x0],[0x1,0x0],[0x2,0x0],[0x3,0x0],[0x4,0x0],[0x5,0x0],[0x6,0x0],[0x7,0x0],[0x8,0x0],[0x9,0x0]];var spawnPoint={'x':0x3,'y':0x2};window[_0x586da8(0xee)]=function(){var _0x596b08=_0x586da8;for(let _0x45fc3f=0x0;_0x45fc3f<tiles[_0x596b08(0x115)];_0x45fc3f++){var _0x334b88=document[_0x596b08(0x157)]('canvas');_0x334b88['id']=_0x596b08(0x136)+_0x45fc3f,_0x334b88['width']=0x20,_0x334b88[_0x596b08(0x122)]=0x20,_0x334b88['number']=_0x45fc3f,_0x334b88[_0x596b08(0x132)]('2d')['imageSmoothingEnabled']=![];_0x45fc3f===0x0&&(_0x334b88[_0x596b08(0x10f)]+=_0x596b08(0x16c));_0x334b88['className']+=_0x596b08(0x119),_0x334b88[_0x596b08(0x132)]('2d')['drawImage'](sheet,tiles[_0x45fc3f][0x0]*0x10,tiles[_0x45fc3f][0x1]*0x10,0x10,0x10,0x0,0x0,_0x334b88[_0x596b08(0x147)],_0x334b88[_0x596b08(0x122)]);var _0x2000c6=document[_0x596b08(0x10d)](_0x596b08(0x14a))[0x0];id(_0x596b08(0x153))[_0x596b08(0x141)](_0x334b88),id(_0x596b08(0x136)+_0x45fc3f)[_0x596b08(0x12e)]=function(){var _0xe3edcc=_0x596b08;selectedType=this[_0xe3edcc(0xe9)];for(let _0x40ae6e=0x0;_0x40ae6e<tiles[_0xe3edcc(0x115)];_0x40ae6e++){id('canvas'+_0x40ae6e)[_0xe3edcc(0x10c)][_0xe3edcc(0x118)](_0xe3edcc(0x171));}this['className']+='\x20selected';};}},id(_0x586da8(0x133))[_0x586da8(0x12e)]=function(){var _0xb5114c=_0x586da8;newMapExport(![]);var _0x67df2f=window[_0xb5114c(0x173)]('mapTester/index.html');},id(_0x586da8(0x17f))[_0x586da8(0x12e)]=function(){var _0x5a1c01=_0x586da8;if(biome==0x0)biome=0x1;else biome==0x1&&(biome=0x0);id(_0x5a1c01(0x17f))['innerText']=_0x5a1c01(0x179)+biome;},id(_0x586da8(0x159))['onclick']=function(){var _0x2c821b=_0x586da8;interactiveTile?(interactiveTile=0x0,id('interactive')['style'][_0x2c821b(0xf6)]='white',id(_0x2c821b(0x159))[_0x2c821b(0x17a)][_0x2c821b(0xe6)]='black'):(interactiveTile=0x1,id('interactive')[_0x2c821b(0x17a)][_0x2c821b(0xf6)]=_0x2c821b(0xf0),id(_0x2c821b(0x159))['style'][_0x2c821b(0xe6)]=_0x2c821b(0x162));};var hitBoxToggle=![];id(_0x586da8(0x11e))[_0x586da8(0x12e)]=function(){var _0x9ca85f=_0x586da8;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x9ca85f(0x11e))[_0x9ca85f(0x110)]=_0x9ca85f(0x123);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x9ca85f(0x11e))['innerHTML']=_0x9ca85f(0x165);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id('toggle')[_0x9ca85f(0x110)]='drawing:\x20camera');}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];function _0x5b41(){var _0xc27fb8=['selected','zoomer','open','offsetTop','getElementById','exportMap','camBoxes:[','fillStyle','biome:\x20','style','beginPath','addEventListener','947192HAjyym','cont','biomes','cursor','color','#000000','createObjectURL','number','none','clearRect','mousedown','pageYOffset','onload','pageXOffset','black','biome:','webkitURL','{map:[','push','type:','backgroundColor','drawImage','mouseup','6314010intutF','return\x20(function()\x20','clipboardData','replace','{x:','<br>\x20w:\x20','name','event','text','keyCode','mapSizeH','keyup','zoomIn','2479824ZdSdsL','file','stroke','URL','safe\x20eval','1696tPVcvM','classList','getElementsByTagName','onbeforeunload','className','innerHTML','[LZyzIyCEHwOkOfMSFUFOSUIqjmASTqNQLwTzkyQVCSRSJIMMCSQMLfzWJkqEHB]','sort','click','onmouseup','length','split','rect','remove','\x20tile','spawn','left','block','sheet','toggle','camBoxes=[','clientX','strokeStyle','height','drawing:\x20displayed','top','getAsFile','mapSizeBtnW','keydown','importedCode=',',\x20y:\x20','innerWidth','Map\x20name\x20:\x20','change','1952Sxcvvh','onclick','map=[','267kZAloE','create','getContext','test','href','crosshair','canvas','x:\x20','msSaveOrOpenBlob','closePath','spawnPoint','type\x20of\x20camera','fromCharCode','onmousemove','download','offsetLeft','map','appendChild','log','Discard\x20changes?','function','fillRect','biome','width','document','type','body','#002200',',y:','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','moveTo','camBoxes','onchange','text/csv','innerHeight','cont2','biome=','mapSizeBtnH','paste','createElement','speed','interactive','display','info','navigator',',text:\x27','lineWidth','250576jDwrfU','clientY','spawnPoint:{x:','white','zoomOut','lineTo','drawing:\x20hitboxes','value','.txt','mapSizeW',',\x20h:\x20','108KInysx','11055fYmojY','\x20selected','files','indexOf','imageSmoothingEnabled','4081154vmmuEE'];_0x5b41=function(){return _0xc27fb8;};return _0x5b41();}setInterval(loop,0x3e8/0xf);function loop(){var _0x3eb1f7=_0x586da8;c[_0x3eb1f7(0xeb)](0x0,0x0,canvas[_0x3eb1f7(0x147)],canvas['height']),pastedImage&&c[_0x3eb1f7(0xf7)](pastedImage,0x0,0x0,pastedImage[_0x3eb1f7(0x147)],pastedImage[_0x3eb1f7(0x122)]),renderGrid(),renderMap(),mouseDown&&renderSquare();}function renderSquare(){var _0x50c49f=_0x586da8;if(hitBoxToggle==0x1)c[_0x50c49f(0x121)]='#ff0000';else c[_0x50c49f(0x121)]='#ffffff';c['beginPath'](),c[_0x50c49f(0x117)](square['x'],square['y'],square['w'],square['h']),c['closePath'](),c[_0x50c49f(0x108)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x4},sX=0x0,sY=0x0;dragElement(id(_0x586da8(0x17e))),dragElement(id(_0x586da8(0x153)));function dragElement(_0x1fc6b3){var _0x8c2476=0x0,_0x4b5fe0=0x0,_0x11d3ed=0x0,_0x48039a=0x0;_0x1fc6b3['onmousedown']=_0x233d5f;function _0x233d5f(_0x3faee3){var _0x53c4ec=_0x1aaf;_0x3faee3=_0x3faee3||window['event'],_0x11d3ed=_0x3faee3[_0x53c4ec(0x120)],_0x48039a=_0x3faee3['clientY'],document[_0x53c4ec(0x114)]=_0x9366c1,document[_0x53c4ec(0x13d)]=_0x14b818;}function _0x14b818(_0x5922d4){var _0x36b687=_0x1aaf;_0x5922d4=_0x5922d4||window[_0x36b687(0x100)],_0x5922d4['preventDefault'](),_0x8c2476=_0x11d3ed-_0x5922d4['clientX'],_0x4b5fe0=_0x48039a-_0x5922d4['clientY'],_0x11d3ed=_0x5922d4[_0x36b687(0x120)],_0x48039a=_0x5922d4[_0x36b687(0x160)],_0x1fc6b3[_0x36b687(0x17a)][_0x36b687(0x124)]=_0x1fc6b3['offsetTop']-_0x4b5fe0+'px',_0x1fc6b3['style'][_0x36b687(0x11b)]=_0x1fc6b3[_0x36b687(0x13f)]-_0x8c2476+'px';}function _0x9366c1(){var _0x43a459=_0x1aaf;document[_0x43a459(0x114)]=null,document['onmousemove']=null;}}var mapCode='';id(_0x586da8(0x176))[_0x586da8(0x12e)]=function(){newMapExport(!![]);};function mapExport(_0x203a30){var _0x59055c=_0x586da8;mapCode='',mapCode+=_0x59055c(0x12f);for(let _0x26e536=0x0;_0x26e536<map[_0x59055c(0x115)];_0x26e536++){mapCode+=_0x59055c(0xfd)+map[_0x26e536]['x']+',',mapCode+='y:'+map[_0x26e536]['y']+',',mapCode+='w:'+map[_0x26e536]['w']+',',mapCode+='h:'+map[_0x26e536]['h']+',',mapCode+=_0x59055c(0xf5)+map[_0x26e536][_0x59055c(0x149)],map[_0x26e536][_0x59055c(0x101)]!==undefined&&(mapCode+=_0x59055c(0x15d)+map[_0x26e536][_0x59055c(0x101)]+'\x27'),mapCode+='},';}mapCode+='];',mapCode+='spawnPoint={x:'+spawnPoint['x']+_0x59055c(0x14c)+spawnPoint['y']+'};',mapCode+=_0x59055c(0x154)+biome+';';if(camBoxes[_0x59055c(0x115)]>0x0){mapCode+=_0x59055c(0x11f);for(let _0x41162e=0x0;_0x41162e<camBoxes[_0x59055c(0x115)];_0x41162e++){mapCode+='{x:'+camBoxes[_0x41162e]['x']+',',mapCode+='y:'+camBoxes[_0x41162e]['y']+',',mapCode+='w:'+camBoxes[_0x41162e]['w']+',',mapCode+='h:'+camBoxes[_0x41162e]['h']+',',mapCode+=_0x59055c(0xf5)+camBoxes[_0x41162e][_0x59055c(0x149)],mapCode+='},';}mapCode+='];';}console['log'](mapCode);if(_0x203a30){let _0x4eb925=prompt('Map\x20name\x20:\x20',fileName);!(_0x4eb925==null||_0x4eb925=='')&&download(_0x4eb925+_0x59055c(0x167),mapCode);}};function _0x1aaf(_0x23bd62,_0x16053e){var _0x31945=_0x5b41();return _0x1aaf=function(_0x305691,_0x44c73c){_0x305691=_0x305691-0xe5;var _0x24e8c1=_0x31945[_0x305691];return _0x24e8c1;},_0x1aaf(_0x23bd62,_0x16053e);}function newMapExport(_0x1e4881){var _0x3aaa33=_0x586da8;mapCode='',mapCode+=_0x3aaa33(0xf3);for(let _0x113e83=0x0;_0x113e83<map[_0x3aaa33(0x115)];_0x113e83++){mapCode+=_0x3aaa33(0xfd)+map[_0x113e83]['x']+',',mapCode+='y:'+map[_0x113e83]['y']+',',mapCode+='w:'+map[_0x113e83]['w']+',',mapCode+='h:'+map[_0x113e83]['h']+',',mapCode+=_0x3aaa33(0xf5)+map[_0x113e83][_0x3aaa33(0x149)],map[_0x113e83][_0x3aaa33(0x101)]!==undefined&&(mapCode+=_0x3aaa33(0x15d)+map[_0x113e83][_0x3aaa33(0x101)]+'\x27'),mapCode+='},';}mapCode+='],',mapCode+=_0x3aaa33(0x161)+spawnPoint['x']+',y:'+spawnPoint['y']+'},',mapCode+=_0x3aaa33(0xf1)+biome+',',mapCode+=_0x3aaa33(0x177);for(let _0x4a7a98=0x0;_0x4a7a98<camBoxes[_0x3aaa33(0x115)];_0x4a7a98++){mapCode+='{x:'+camBoxes[_0x4a7a98]['x']+',',mapCode+='y:'+camBoxes[_0x4a7a98]['y']+',',mapCode+='w:'+camBoxes[_0x4a7a98]['w']+',',mapCode+='h:'+camBoxes[_0x4a7a98]['h']+',',mapCode+=_0x3aaa33(0xf5)+camBoxes[_0x4a7a98][_0x3aaa33(0x149)],mapCode+='},';}mapCode+='],',mapCode+='}',mapObject={'map':Object[_0x3aaa33(0x131)](map),'camBoxes':Object['create'](camBoxes),'biome':biome,'spawnPoint':Object[_0x3aaa33(0x131)](spawnPoint)},console[_0x3aaa33(0x142)](mapCode);if(_0x1e4881){let _0x3bbfa4=prompt(_0x3aaa33(0x12b),fileName);!(_0x3bbfa4==null||_0x3bbfa4=='')&&download(_0x3bbfa4+_0x3aaa33(0x167),mapCode);}};id(_0x586da8(0x107))[_0x586da8(0x150)]=function(){var _0x36d80c=_0x586da8;let _0x5758b7=id(_0x36d80c(0x107))['files'][0x0];fileName=id(_0x36d80c(0x107))[_0x36d80c(0x16d)][0x0][_0x36d80c(0xff)][_0x36d80c(0x116)]('.')[0x0];let _0x36f444=new FileReader();_0x36f444[_0x36d80c(0xee)]=function(_0x44ec0d){var _0x340208=_0x36d80c;let _0x212131=_0x36f444['result'],_0x3c8e58=_0x340208(0x128)+_0x212131;safeEval(eval(_0x3c8e58)),resizeMap();},_0x36f444['readAsText'](_0x5758b7);};function safeEval(_0x1b92da){var _0x23b761=_0x586da8;typeof _0x1b92da==='object'&&_0x1b92da!==null&&(map=_0x1b92da[_0x23b761(0x140)],spawnPoint=_0x1b92da[_0x23b761(0x13a)],biome=_0x1b92da[_0x23b761(0x146)],camBoxes=_0x1b92da[_0x23b761(0x14f)],console[_0x23b761(0x142)](_0x23b761(0x10a)));}function resizeMap(){var _0x26cce6=_0x586da8;let _0x2432c2=0x0,_0x198918=0x0;for(let _0x5d8b93=0x0;_0x5d8b93<map[_0x26cce6(0x115)];_0x5d8b93++){map[_0x5d8b93]['x']+map[_0x5d8b93]['w']>_0x2432c2&&(_0x2432c2=map[_0x5d8b93]['x']+map[_0x5d8b93]['w']),map[_0x5d8b93]['y']+map[_0x5d8b93]['h']>_0x198918&&(_0x198918=map[_0x5d8b93]['y']+map[_0x5d8b93]['h']);}console[_0x26cce6(0x142)](_0x2432c2+'\x20\x20'+_0x198918),cellQuantityW=_0x2432c2,id(_0x26cce6(0x168))[_0x26cce6(0x166)]=_0x2432c2,cellQuantityH=_0x198918,id('mapSizeH')[_0x26cce6(0x166)]=_0x198918,changeMapSize();}function cameraMove(){var _0xa36f72=_0x586da8;camera['L']&&(sX-=camera[_0xa36f72(0x158)]);camera['R']&&(sX+=camera[_0xa36f72(0x158)]);camera['T']&&(sY-=camera['speed']);camera['B']&&(sY+=camera['speed']);sX<0x0&&(sX=0x0);sX>canvas[_0xa36f72(0x147)]-window['innerWidth']&&(sX=canvas['width']-window[_0xa36f72(0x12a)]);sY<0x0&&(sY=0x0);sY>canvas[_0xa36f72(0x122)]-window[_0xa36f72(0x152)]&&(sY=canvas[_0xa36f72(0x122)]-window[_0xa36f72(0x152)]);if(camera['zoomOut'])id(_0xa36f72(0x172))['value']--,zoomChange();else camera['zoomIn']&&(id(_0xa36f72(0x172))[_0xa36f72(0x166)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x12086c=_0x586da8;(camera['L']||camera['R']||camera['T']||camera['B']||camera['zoomIn']||camera['zoomOut'])&&cameraMove();c['globalAlpha']=0x1;for(let _0xedb0af=0x0;_0xedb0af<map[_0x12086c(0x115)];_0xedb0af++){if(map[_0xedb0af]['type']>0x33)for(let _0x2d281=0x0;_0x2d281<map[_0xedb0af]['h'];_0x2d281++){for(let _0x370489=0x0;_0x370489<map[_0xedb0af]['w'];_0x370489++){c[_0x12086c(0xf7)](id('sheet'),tiles[map[_0xedb0af][_0x12086c(0x149)]][0x0]*0x10,tiles[map[_0xedb0af][_0x12086c(0x149)]][0x1]*0x10,0x10,0x10,(map[_0xedb0af]['x']+_0x370489)*cellSize,(map[_0xedb0af]['y']+_0x2d281)*cellSize,cellSize,cellSize);}}}for(let _0x389c7e=0x0;_0x389c7e<map[_0x12086c(0x115)];_0x389c7e++){if(map[_0x389c7e]['type']<=0x33)for(let _0x146948=0x0;_0x146948<map[_0x389c7e]['h'];_0x146948++){for(let _0x362c50=0x0;_0x362c50<map[_0x389c7e]['w'];_0x362c50++){c['drawImage'](id(_0x12086c(0x11d)),tiles[map[_0x389c7e][_0x12086c(0x149)]][0x0]*0x10,tiles[map[_0x389c7e][_0x12086c(0x149)]][0x1]*0x10,0x10,0x10,(map[_0x389c7e]['x']+_0x362c50)*cellSize,(map[_0x389c7e]['y']+_0x146948)*cellSize,cellSize,cellSize);}}}for(let _0x381f15=0x0;_0x381f15<hitBoxes[_0x12086c(0x115)];_0x381f15++){c[_0x12086c(0x178)]=_0x12086c(0xe7),c[_0x12086c(0x145)](hitBoxes[_0x381f15]['x']*cellSize,hitBoxes[_0x381f15]['y']*cellSize,hitBoxes[_0x381f15]['w']*cellSize,hitBoxes[_0x381f15]['h']*cellSize);}c['globalAlpha']=0x1;for(let _0x2eb578=0x0;_0x2eb578<camBoxes[_0x12086c(0x115)];_0x2eb578++){c['strokeStyle']=_0x12086c(0x14b),c[_0x12086c(0x17b)](),c[_0x12086c(0x117)](camBoxes[_0x2eb578]['x']*cellSize,camBoxes[_0x2eb578]['y']*cellSize,camBoxes[_0x2eb578]['w']*cellSize,camBoxes[_0x2eb578]['h']*cellSize),c[_0x12086c(0x139)](),c['stroke']();}c[_0x12086c(0x178)]='#5b6ee1',c[_0x12086c(0x145)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x36d90c=_0x586da8;c[_0x36d90c(0x15e)]=0.1,c['strokeStyle']='#ffffff';for(let _0x6e8d6b=0x0;_0x6e8d6b<canvas[_0x36d90c(0x147)];_0x6e8d6b+=cellSize){c['beginPath'](),c[_0x36d90c(0x14e)](_0x6e8d6b,0x0),c[_0x36d90c(0x164)](_0x6e8d6b,canvas[_0x36d90c(0x122)]),c['closePath'](),c['stroke']();}for(let _0x11c721=0x0;_0x11c721<canvas[_0x36d90c(0x122)];_0x11c721+=cellSize){c[_0x36d90c(0x17b)](),c['moveTo'](0x0,_0x11c721),c[_0x36d90c(0x164)](canvas[_0x36d90c(0x147)],_0x11c721),c[_0x36d90c(0x139)](),c[_0x36d90c(0x108)]();}c[_0x36d90c(0x15e)]=0x1;}var definingSpawnpoint=![];id(_0x586da8(0x11a))[_0x586da8(0x12e)]=function(){var _0x3923b1=_0x586da8;definingSpawnpoint=!![],id(_0x3923b1(0x11a))['style']['color']='#0000cc',id(_0x3923b1(0x136))[_0x3923b1(0x17a)][_0x3923b1(0xe5)]='pointer',canvas[_0x3923b1(0x12e)]=function _0x293fce(){var _0x3efde6=_0x3923b1;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x3efde6(0x11a))[_0x3efde6(0x17a)][_0x3efde6(0xe6)]=_0x3efde6(0xe7),id(_0x3efde6(0x136))['style'][_0x3efde6(0xe5)]=_0x3efde6(0x135),canvas[_0x3efde6(0x12e)]=null;};};function infoText(){var _0x4a8973=_0x586da8,_0x1cf1ab=square['x']/cellSize,_0x1784c8=square['y']/cellSize;_0x1cf1ab>-0x1&&_0x1cf1ab<0x1&&(_0x1cf1ab=0x0),_0x1784c8>-0x1&&_0x1784c8<0x1&&(_0x1784c8=0x0),id(_0x4a8973(0x15b))[_0x4a8973(0x110)]=_0x4a8973(0x137)+_0x1cf1ab+_0x4a8973(0x129)+_0x1784c8+_0x4a8973(0xfe)+square['w']/cellSize+_0x4a8973(0x169)+square['h']/cellSize;}var mouseDown=![];canvas[_0x586da8(0x17c)](_0x586da8(0xec),function(_0x95c77e){var _0xdc9972=_0x586da8,_0x1fa4ee=window[_0xdc9972(0xef)]-canvas[_0xdc9972(0x13f)],_0xd48092=window[_0xdc9972(0xed)]-canvas['offsetTop'];id('info')[_0xdc9972(0x17a)][_0xdc9972(0x15a)]=_0xdc9972(0x11c),id(_0xdc9972(0x15b))[_0xdc9972(0x17a)][_0xdc9972(0x11b)]=_0x95c77e[_0xdc9972(0x120)]+0x1e+'px',id('info')['style'][_0xdc9972(0x124)]=_0x95c77e['clientY']-0x1e+'px',infoText(),!mouseDown&&(square['x']=round(_0x95c77e['clientX']+_0x1fa4ee)*cellSize,square['y']=round(_0x95c77e[_0xdc9972(0x160)]+_0xd48092)*cellSize,square['w']=0x0,square['h']=0x0,mouseDown=!![]);}),canvas[_0x586da8(0x17c)]('mousemove',function(_0x284425){var _0x46e66a=_0x586da8,_0x3275a8=window[_0x46e66a(0xef)]-canvas[_0x46e66a(0x13f)],_0x192caf=window[_0x46e66a(0xed)]-canvas['offsetTop'];mouseDown&&(id('info')[_0x46e66a(0x17a)][_0x46e66a(0x15a)]='block',id(_0x46e66a(0x15b))[_0x46e66a(0x17a)]['left']=_0x284425[_0x46e66a(0x120)]+0x1e+'px',id(_0x46e66a(0x15b))[_0x46e66a(0x17a)]['top']=_0x284425['clientY']-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x284425[_0x46e66a(0x120)]+_0x3275a8-square['x'])*cellSize,square['h']=round(_0x284425['clientY']+_0x192caf-square['y'])*cellSize);}),canvas['addEventListener'](_0x586da8(0xf8),function(_0x2b6e61){var _0x51dd7c=_0x586da8;id(_0x51dd7c(0x15b))[_0x51dd7c(0x17a)][_0x51dd7c(0x15a)]=_0x51dd7c(0xea),mouseDown=![],roundSquare();!square['w']&&!square['h']&&_0x2b6e61['which']===0x1&&(square['w']=0x1,square['h']=0x1);if(square['w']&&square['h']){square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x51dd7c(0xf4)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x2eee43=prompt(_0x51dd7c(0x14d),'');hitBoxes[hitBoxes[_0x51dd7c(0x115)]-0x1][_0x51dd7c(0x101)]=_0x2eee43;}}else{if(hitBoxToggle==0x0){if(!definingSpawnpoint)map[_0x51dd7c(0xf4)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x2eee43=prompt(_0x51dd7c(0x14d),'');map[map[_0x51dd7c(0x115)]-0x1]['text']=_0x2eee43;}}else{if(hitBoxToggle==0x2){var _0x8a3966=parseInt(prompt(_0x51dd7c(0x13b),''));camBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x8a3966});}}}}definingSpawnpoint&&(definingSpawnpoint=![]);}),id(_0x586da8(0x172))[_0x586da8(0x17c)](_0x586da8(0x12c),zoomChange);function zoomChange(){var _0x1c3a07=_0x586da8;cellSize=parseInt(id(_0x1c3a07(0x172))[_0x1c3a07(0x166)]),changeMapSize();}function changeMapSize(){var _0x50196c=_0x586da8;canvas[_0x50196c(0x147)]=cellQuantityW*cellSize,canvas[_0x50196c(0x122)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function floorSquare(){square['x']=square['x']|0x0,square['y']=square['y']|0x0,square['w']=square['w']|0x0,square['h']=square['h']|0x0;}function round(_0x5a2f3a){var _0x4d7ba0=parseInt(_0x5a2f3a),_0x28aedc=_0x4d7ba0%cellSize;if(_0x28aedc!==0x0){if(_0x28aedc>cellSize/0x2)_0x4d7ba0=_0x4d7ba0-_0x28aedc+cellSize;else _0x4d7ba0=_0x4d7ba0-_0x28aedc;}return _0x4d7ba0/cellSize>0x0&&_0x4d7ba0/cellSize<0x1?0x0:_0x4d7ba0/cellSize;}function enableBeforeUnload(){var _0x98e627=_0x586da8;window[_0x98e627(0x10e)]=function(_0xc9dd0d){var _0x5de740=_0x98e627;return _0x5de740(0x143);};}function disableBeforeUnload(){var _0xbcc67=_0x586da8;window[_0xbcc67(0x10e)]=null;}enableBeforeUnload(),document['addEventListener']('contextmenu',function(_0x42a22f){var _0x16d894=_0x586da8,_0x4a6e75=window[_0x16d894(0xef)]-canvas['offsetLeft'],_0x1087ef=window[_0x16d894(0xed)]-canvas[_0x16d894(0x174)];_0x42a22f['preventDefault']();var _0x23a160=_0x42a22f[_0x16d894(0x120)]+_0x4a6e75,_0x30df66=_0x42a22f['clientY']+_0x1087ef;removeElements(map,_0x23a160,_0x30df66),removeElements(hitBoxes,_0x23a160,_0x30df66),removeElements(camBoxes,_0x23a160,_0x30df66);});function removeElements(_0x1d8f7f,_0x1d6799,_0x5bc012){var _0x55d7a0=_0x586da8,_0x123852=[];for(let _0x1c3c84=0x0;_0x1c3c84<_0x1d8f7f[_0x55d7a0(0x115)];_0x1c3c84++){_0x1d6799>_0x1d8f7f[_0x1c3c84]['x']*cellSize&&_0x1d6799<_0x1d8f7f[_0x1c3c84]['x']*cellSize+_0x1d8f7f[_0x1c3c84]['w']*cellSize&&(_0x5bc012>_0x1d8f7f[_0x1c3c84]['y']*cellSize&&_0x5bc012<_0x1d8f7f[_0x1c3c84]['y']*cellSize+_0x1d8f7f[_0x1c3c84]['h']*cellSize&&_0x123852[_0x55d7a0(0xf4)](_0x1c3c84));}_0x123852[_0x55d7a0(0x112)](function(_0x41c6ed,_0x10ef9d){return _0x10ef9d-_0x41c6ed;});for(let _0x13c62d=0x0;_0x13c62d<_0x123852[_0x55d7a0(0x115)];_0x13c62d++){_0x1d8f7f['splice'](_0x123852[_0x13c62d],0x1);}}function download(_0x39a1ed,_0x53b70b){var _0x46efcd=_0x586da8,_0x1e905d=new Blob([_0x53b70b],{'type':_0x46efcd(0x151)});if(window[_0x46efcd(0x15c)][_0x46efcd(0x138)])window[_0x46efcd(0x15c)]['msSaveBlob'](_0x1e905d,_0x39a1ed);else{var _0x4b9c78=window[_0x46efcd(0x148)][_0x46efcd(0x157)]('a');_0x4b9c78[_0x46efcd(0x134)]=window[_0x46efcd(0x109)]['createObjectURL'](_0x1e905d),_0x4b9c78[_0x46efcd(0x13e)]=_0x39a1ed,document['body'][_0x46efcd(0x141)](_0x4b9c78),_0x4b9c78[_0x46efcd(0x113)](),document['body']['removeChild'](_0x4b9c78);}}window['addEventListener'](_0x586da8(0x127),function(_0x579716){var _0x4772bf=_0x586da8,_0x19ee8e=_0x579716[_0x4772bf(0x102)];switch(_0x19ee8e){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x4772bf(0x105)]=!![];break;case 0x51:camera[_0x4772bf(0x163)]=!![];break;}}),window['addEventListener'](_0x586da8(0x104),function(_0x3548ee){var _0x21ce04=_0x586da8,_0x577fc7=_0x3548ee[_0x21ce04(0x102)];switch(_0x577fc7){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x21ce04(0x105)]=![];break;case 0x51:camera[_0x21ce04(0x163)]=![];break;case 0x52:toggleBoxes();break;}});var pastedImage;function retrieveImageFromClipboardAsBlob(_0x377280,_0x44d28f){var _0x58d3ce=_0x586da8;_0x377280[_0x58d3ce(0xfb)]==![]&&(typeof _0x44d28f==_0x58d3ce(0x144)&&_0x44d28f(undefined));;var _0x549d68=_0x377280['clipboardData']['items'];_0x549d68==undefined&&(typeof _0x44d28f==_0x58d3ce(0x144)&&_0x44d28f(undefined));;for(var _0xb56aba=0x0;_0xb56aba<_0x549d68[_0x58d3ce(0x115)];_0xb56aba++){if(_0x549d68[_0xb56aba][_0x58d3ce(0x149)][_0x58d3ce(0x16e)]('image')==-0x1)continue;var _0x496dd6=_0x549d68[_0xb56aba][_0x58d3ce(0x125)]();typeof _0x44d28f==_0x58d3ce(0x144)&&_0x44d28f(_0x496dd6);}}window[_0x586da8(0x17c)](_0x586da8(0x156),function(_0x1b2a3e){retrieveImageFromClipboardAsBlob(_0x1b2a3e,function(_0x4e179f){var _0x18ab66=_0x1aaf;if(_0x4e179f){var _0x320ce4=new Image();_0x320ce4[_0x18ab66(0xee)]=function(){var _0x3c12b0=_0x18ab66;pastedImage=_0x320ce4,id(_0x3c12b0(0x168))['value']=pastedImage['width']/cellSize,cellQuantityW=pastedImage[_0x3c12b0(0x147)]/cellSize,id(_0x3c12b0(0x103))[_0x3c12b0(0x166)]=pastedImage[_0x3c12b0(0x122)]/cellSize,cellQuantityH=pastedImage[_0x3c12b0(0x122)]/cellSize,changeMapSize();};var _0x57fff6=window[_0x18ab66(0x109)]||window[_0x18ab66(0xf2)];_0x320ce4['src']=_0x57fff6[_0x18ab66(0xe8)](_0x4e179f);}});},![]);