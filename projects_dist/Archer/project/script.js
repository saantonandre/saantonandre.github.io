'strict';const _0x4562bd=_0x52c5;(function(_0x356616,_0x3d2215){const _0x8b8457=_0x52c5,_0x31a7fa=_0x356616();while(!![]){try{const _0x50888b=-parseInt(_0x8b8457(0x76))/0x1+-parseInt(_0x8b8457(0x113))/0x2*(parseInt(_0x8b8457(0x79))/0x3)+parseInt(_0x8b8457(0xa7))/0x4+-parseInt(_0x8b8457(0xc4))/0x5*(parseInt(_0x8b8457(0x118))/0x6)+-parseInt(_0x8b8457(0xe3))/0x7*(-parseInt(_0x8b8457(0xd3))/0x8)+-parseInt(_0x8b8457(0x108))/0x9+parseInt(_0x8b8457(0xb9))/0xa;if(_0x50888b===_0x3d2215)break;else _0x31a7fa['push'](_0x31a7fa['shift']());}catch(_0x59c544){_0x31a7fa['push'](_0x31a7fa['shift']());}}}(_0x537a,0x463ed));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0x4562bd(0x72)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS[_0x4562bd(0x101)]('2d');CANVAS[_0x4562bd(0xc6)]=0x2e0,CANVAS[_0x4562bd(0xfc)]=0x1e0,CANVAS[_0x4562bd(0xe1)][_0x4562bd(0xb2)]=(window[_0x4562bd(0x69)]-CANVAS[_0x4562bd(0xc6)])/0x2+'px',CANVAS[_0x4562bd(0xe1)][_0x4562bd(0xee)]=(window[_0x4562bd(0x8b)]-CANVAS[_0x4562bd(0xfc)])/0x2+'px',c[_0x4562bd(0x6b)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x3d2d05){const _0x4ec6c6=(function(){let _0x197d8e=!![];return function(_0x155a15,_0x53e30d){const _0x37c50b=_0x197d8e?function(){const _0x3641ab=_0x52c5;if(_0x53e30d){const _0x558a60=_0x53e30d[_0x3641ab(0x10a)](_0x155a15,arguments);return _0x53e30d=null,_0x558a60;}}:function(){};return _0x197d8e=![],_0x37c50b;};}()),_0x422768=_0x4ec6c6(this,function(){const _0x4743d3=_0x52c5,_0x55db18=function(){const _0x201d25=_0x52c5;let _0x3aa5bb;try{_0x3aa5bb=Function(_0x201d25(0xad)+_0x201d25(0xc5)+');')();}catch(_0x12a532){_0x3aa5bb=window;}return _0x3aa5bb;},_0x4a1e2b=_0x55db18(),_0x1e0f76=new RegExp(_0x4743d3(0xac),'g'),_0x7485e9='saWJaPHmpnOtLYYWoSnaNHnSdRrvJe.gJSvOiStUSkhPGuQb.EiyxyoJp;jloKYcCCDVxfNZalhostOzwIAjjKMyRGTZXTfS'['replace'](_0x1e0f76,'')[_0x4743d3(0x82)](';');let _0x1cd3ff,_0x6bf886,_0x1df162,_0x9a329;const _0x2c62e9=function(_0x10405a,_0x43b77d,_0x2e7472){const _0x4147c1=_0x4743d3;if(_0x10405a[_0x4147c1(0xa0)]!=_0x43b77d)return![];for(let _0x211f12=0x0;_0x211f12<_0x43b77d;_0x211f12++){for(let _0x59c234=0x0;_0x59c234<_0x2e7472[_0x4147c1(0xa0)];_0x59c234+=0x2){if(_0x211f12==_0x2e7472[_0x59c234]&&_0x10405a[_0x4147c1(0x78)](_0x211f12)!=_0x2e7472[_0x59c234+0x1])return![];}}return!![];},_0x5b1334=function(_0x25f6f1,_0x5ec274,_0x2939ae){return _0x2c62e9(_0x5ec274,_0x2939ae,_0x25f6f1);},_0x4d932e=function(_0x288fea,_0x3d6eae,_0xdeacd){return _0x5b1334(_0x3d6eae,_0x288fea,_0xdeacd);},_0x2f5135=function(_0x34a6ba,_0x34bc9e,_0x30bab9){return _0x4d932e(_0x34bc9e,_0x30bab9,_0x34a6ba);};for(let _0x481f53 in _0x4a1e2b){if(_0x2c62e9(_0x481f53,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1cd3ff=_0x481f53;break;}}for(let _0x42da71 in _0x4a1e2b[_0x1cd3ff]){if(_0x2f5135(0x6,_0x42da71,[0x5,0x6e,0x0,0x64])){_0x6bf886=_0x42da71;break;}}for(let _0x16b365 in _0x4a1e2b[_0x1cd3ff]){if(_0x4d932e(_0x16b365,[0x7,0x6e,0x0,0x6c],0x8)){_0x1df162=_0x16b365;break;}}if(!('~'>_0x6bf886))for(let _0x40895f in _0x4a1e2b[_0x1cd3ff][_0x1df162]){if(_0x5b1334([0x7,0x65,0x0,0x68],_0x40895f,0x8)){_0x9a329=_0x40895f;break;}}if(!_0x1cd3ff||!_0x4a1e2b[_0x1cd3ff])return;const _0x491c88=_0x4a1e2b[_0x1cd3ff][_0x6bf886],_0x2bfdaf=!!_0x4a1e2b[_0x1cd3ff][_0x1df162]&&_0x4a1e2b[_0x1cd3ff][_0x1df162][_0x9a329],_0x4d39af=_0x491c88||_0x2bfdaf;if(!_0x4d39af)return;let _0x4086b4=![];for(let _0x65dde4=0x0;_0x65dde4<_0x7485e9['length'];_0x65dde4++){const _0x2fcfb4=_0x7485e9[_0x65dde4],_0x497284=_0x2fcfb4[0x0]===String[_0x4743d3(0xc1)](0x2e)?_0x2fcfb4[_0x4743d3(0x10f)](0x1):_0x2fcfb4,_0x7fd5c5=_0x4d39af[_0x4743d3(0xa0)]-_0x497284[_0x4743d3(0xa0)],_0x574957=_0x4d39af[_0x4743d3(0x6e)](_0x497284,_0x7fd5c5),_0x89a6f5=_0x574957!==-0x1&&_0x574957===_0x7fd5c5;_0x89a6f5&&((_0x4d39af['length']==_0x2fcfb4[_0x4743d3(0xa0)]||_0x2fcfb4[_0x4743d3(0x6e)]('.')===0x0)&&(_0x4086b4=!![]));}if(!_0x4086b4){const _0x15b1bd=new RegExp('[AAPKLiBYvCLQGVpdBcdiGPsKrNJKPPM]','g'),_0x7116c0=_0x4743d3(0xe8)[_0x4743d3(0x10d)](_0x15b1bd,'');_0x4a1e2b[_0x1cd3ff][_0x1df162]=_0x7116c0;}});return _0x422768(),document['getElementById'](_0x3d2d05);}var fpsDiv=id(_0x4562bd(0x89));function _0x52c5(_0x46c9de,_0x3e6e93){const _0x2ea886=_0x537a();return _0x52c5=function(_0x1920ff,_0x21ae3c){_0x1920ff=_0x1920ff-0x68;let _0x59772e=_0x2ea886[_0x1920ff];return _0x59772e;},_0x52c5(_0x46c9de,_0x3e6e93);}setInterval(function(){const _0x9e8ad5=_0x4562bd;fpsDiv['innerHTML']=_0x9e8ad5(0x119)+fps,fpsDiv[_0x9e8ad5(0x106)]+=_0x9e8ad5(0x11b)+DTR[_0x9e8ad5(0xeb)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x15b93f=_0x4562bd;this['x']=Math[_0x15b93f(0xa3)]()*0x8-0x4|0x0,this['y']=Math[_0x15b93f(0xa3)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x47a63c=_0x4562bd;this['x']=0x0,this['y']=0x0,this['yVel']=0x0,this['xVel']=0x0,this[_0x47a63c(0xf5)]=0x0,this[_0x47a63c(0xdf)]=0x0,this['active']=!![],this[_0x47a63c(0xab)]=!![],this[_0x47a63c(0xb5)]=!![],this[_0x47a63c(0xdc)]=0x0,this['lengthY']=0x0,this['damage']=0x1,this[_0x47a63c(0xed)]=0x0,this[_0x47a63c(0xbf)]=[_0x47a63c(0x9d),_0x47a63c(0xea)],this['points']={'x':0x0,'y':0x0};}[_0x4562bd(0x85)](){const _0x177b3a=_0x4562bd;Math[_0x177b3a(0x7e)](this[_0x177b3a(0xef)]*0x3)>Math[_0x177b3a(0x7e)](this[_0x177b3a(0xdc)])&&(this['lengthX']=this['xVel']*0x3,this[_0x177b3a(0xe4)]=this[_0x177b3a(0x70)]*0x3),this[_0x177b3a(0xc9)]['x']=this['x']+this['lengthX'],this[_0x177b3a(0xc9)]['y']=this['y']+this[_0x177b3a(0xe4)],c[_0x177b3a(0x107)](this['x']+map['x'],this['y']+map['y']),c['lineTo'](this['x']+this['lengthX']+map['x'],this['y']+this[_0x177b3a(0xe4)]+map['y']);}['compute'](){const _0x4bfb68=_0x4562bd;this['x']+=this[_0x4bfb68(0xef)]/DTR,this['y']+=this[_0x4bfb68(0x70)]/DTR;if(getTileData(this['x'],this['y'])['solid'])visualFxs[_0x4bfb68(0x8f)](new Explosion(this['x']+this['xVel'],this['y']+this[_0x4bfb68(0x70)],this[_0x4bfb68(0xed)])),this[_0x4bfb68(0xed)]==0x2&&(screenShake[_0x4bfb68(0x100)]=0x5),this[_0x4bfb68(0xef)]=0x0,this['yVel']=0x0,this[_0x4bfb68(0xdc)]/=0x2,this[_0x4bfb68(0xe4)]/=0x2,this[_0x4bfb68(0xab)]=![];else for(let _0x577bfa=monsters[_0x4bfb68(0xa0)]-0x1;_0x577bfa>=0x0;_0x577bfa--){let _0x5a563b=monsters[_0x577bfa];!_0x5a563b['dead']&&_0x5a563b[_0x4bfb68(0xa5)]&&((pointSquareCol(this,_0x5a563b)||pointSquareCol(this[_0x4bfb68(0xc9)],_0x5a563b))&&(this['active']=![],_0x5a563b['xVelExt']=this[_0x4bfb68(0xef)]/0x2,_0x5a563b['yVelExt']=this['yVel']/0x2,visualFxs[_0x4bfb68(0x8f)](new Explosion(this['x'],this['y'],this[_0x4bfb68(0xed)])),this['color']==0x2&&(screenShake[_0x4bfb68(0x100)]=0x5),this[_0x4bfb68(0xef)]=0x0,this[_0x4bfb68(0x70)]=0x0,this[_0x4bfb68(0xf5)]=this['x']-_0x5a563b['x'],this[_0x4bfb68(0xdf)]=this['y']-_0x5a563b['y'],_0x5a563b['arrows']['push'](this),_0x5a563b['hp']-=this[_0x4bfb68(0x117)],_0x5a563b[_0x4bfb68(0x103)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x1d88e8=_0x4562bd;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x1d88e8(0x70)]=0x0,this[_0x1d88e8(0xef)]=0x0,this['free']=!![],this[_0x1d88e8(0xb5)]=![],this['sheet']=id(_0x1d88e8(0x8d)),this[_0x1d88e8(0xa4)]=[0x5],this[_0x1d88e8(0xf7)]=[0x18],this['type']=0x0,this['damage']=0x5;}['compute'](){const _0x1141c4=_0x4562bd;this['x']+=this['xVel']/DTR,this['y']+=this[_0x1141c4(0x70)]/DTR,getTileData(this['x'],this['y'])['solid']?(enemyProjectiles[_0x1141c4(0x7f)](enemyProjectiles[_0x1141c4(0x6e)](this),0x1),visualFxs['push'](new Explosion(this['x']+this[_0x1141c4(0xef)],this['y']+this[_0x1141c4(0x70)],0x1)),this[_0x1141c4(0xef)]=0x0,this['yVel']=0x0,this['lengthX']/=0x2,this[_0x1141c4(0xe4)]/=0x2,this[_0x1141c4(0xab)]=![]):pointSquareCol(this,player)&&(enemyProjectiles['splice'](enemyProjectiles['indexOf'](this),0x1),player['xVelExt']+=this[_0x1141c4(0xef)]/0x2,player[_0x1141c4(0x115)]+=this[_0x1141c4(0x70)]/0x2,player['hp']-=this[_0x1141c4(0x117)],visualFxs[_0x1141c4(0x8f)](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x1141c4(0x100)]=0x5);}['draw'](){const _0x3b001d=_0x4562bd;c[_0x3b001d(0x110)](this[_0x3b001d(0x8d)],this[_0x3b001d(0xa4)][this[_0x3b001d(0xfe)]]*TILESIZE,this['actionY'][this['type']]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x1050fc,_0xa1c786,_0x431372){const _0x14b7a6=_0x4562bd;this[_0x14b7a6(0x8d)]=id('sheet'),this['x']=_0x1050fc-0x10,this['y']=_0xa1c786-0x10,this['w']=0x20,this['h']=0x20,this[_0x14b7a6(0xf2)]=0x0,this[_0x14b7a6(0xe9)]=0x0,this[_0x14b7a6(0x105)]=_0x431372-0x1,this[_0x14b7a6(0xa4)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x14b7a6(0xf7)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this['slowness']=0x4,this[_0x14b7a6(0xe2)]=![];}['draw'](){const _0x339b0d=_0x4562bd;c[_0x339b0d(0x110)](this['sheet'],this['actionX'][this[_0x339b0d(0x105)]][this['currentFrame']],this['actionY'][this[_0x339b0d(0x105)]][this['currentFrame']],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this[_0x339b0d(0xf2)]++,this[_0x339b0d(0xf2)]>this[_0x339b0d(0x96)]*DTR&&(this['frameCounter']=0x0,this['currentFrame']++,this[_0x339b0d(0xe9)]>this[_0x339b0d(0xa4)][this[_0x339b0d(0x105)]][_0x339b0d(0xa0)]-0x1&&(this[_0x339b0d(0xe2)]=!![]));}}class Collidable{constructor(){}[_0x4562bd(0x68)](){const _0x585133=_0x4562bd;let _0x6ac3e6;this[_0x585133(0x92)]['T']=0x0,this[_0x585133(0x92)]['B']=0x0,this[_0x585133(0x92)]['L']=0x0,this[_0x585133(0x92)]['R']=0x0,getTileData(this['x'],this['y'])[_0x585133(0x116)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x6ac3e6=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x585133(0x92)]['R'])/0x5/DTR,this['y']+=(this[_0x585133(0x92)]['T']-this[_0x585133(0x92)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x585133(0x116)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x6ac3e6=colCheck(this,generatedSquare),this['x']+=(this[_0x585133(0x92)]['L']-this[_0x585133(0x92)]['R'])/0x5/DTR,this['y']+=(this[_0x585133(0x92)]['T']-this[_0x585133(0x92)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x585133(0x116)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x6ac3e6=colCheck(this,generatedSquare),this['x']+=(this[_0x585133(0x92)]['L']-this[_0x585133(0x92)]['R'])/0x5/DTR,this['y']+=(this[_0x585133(0x92)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])['unpassable']&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x6ac3e6=colCheck(this,generatedSquare),this['x']+=(this[_0x585133(0x92)]['L']-this[_0x585133(0x92)]['R'])/0x5/DTR,this['y']+=(this[_0x585133(0x92)]['T']-this[_0x585133(0x92)]['B'])/0x5/DTR),this[_0x585133(0x92)]['B']&&(this[_0x585133(0x115)]>0x0&&(this[_0x585133(0x115)]*=-0.5)),this[_0x585133(0x92)]['T']&&(this['yVelExt']<0x0&&(this[_0x585133(0x115)]*=-0.5)),this[_0x585133(0x92)]['R']&&(this[_0x585133(0x6a)]>0x0&&(this[_0x585133(0x6a)]*=-0.5)),this[_0x585133(0x92)]['L']&&(this['xVelExt']<0x0&&(this[_0x585133(0x6a)]*=-0.5));}}class Player extends Collidable{constructor(_0x4e8edf,_0x47a2cd){const _0x4d9885=_0x4562bd;super(Collidable),this['x']=_0x4e8edf,this['y']=_0x47a2cd,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x4d9885(0x7b)]=0x3,this['yVel']=0x0,this[_0x4d9885(0xef)]=0x0,this[_0x4d9885(0x115)]=0x0,this['xVelExt']=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x4d9885(0x114)]=0xa,this[_0x4d9885(0x87)]=0x0,this[_0x4d9885(0xfb)]=0x0,this[_0x4d9885(0x92)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x4d9885(0xa4)]=[0x0,0x20,0x40],this[_0x4d9885(0xf7)]=[0x0,0x0,0x0],this[_0x4d9885(0x105)]=0x0,this['frameCounter']=0x0,this[_0x4d9885(0x96)]=0x6,this[_0x4d9885(0x84)]=0x0,this[_0x4d9885(0xcc)]=![],this[_0x4d9885(0xd2)]=0x14,this[_0x4d9885(0xa2)]=0x0,this[_0x4d9885(0xf9)]=0x0,this['arrowsArr']=[0x1,0x1,0x1,0x1,0x1],this[_0x4d9885(0x11d)]=0x3c,this[_0x4d9885(0xb8)]=0x0,this['arrowsCount']=0x4,this['hp']=0x64,this[_0x4d9885(0xbe)]=0x64,this['mp']=0x64,this[_0x4d9885(0x7c)]=0x64,this[_0x4d9885(0x10e)]=0.25,this[_0x4d9885(0x6f)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}[_0x4562bd(0xd9)](){const _0xf72a3b=_0x4562bd;let _0x3ca3d5=!![],_0x209c49;for(_0x209c49=0x0;_0x209c49<this[_0xf72a3b(0xb0)][_0xf72a3b(0xa0)];_0x209c49++){if(this[_0xf72a3b(0xb0)][_0x209c49]===0x0){_0x3ca3d5=![];break;}}this[_0xf72a3b(0x8a)]=_0x209c49;if(!_0x3ca3d5){this[_0xf72a3b(0xb8)]++;if(this[_0xf72a3b(0xb8)]>this[_0xf72a3b(0x11d)]*DTR)for(_0x209c49=0x0;_0x209c49<this[_0xf72a3b(0xb0)]['length'];_0x209c49++){if(this['arrowsArr'][_0x209c49]===0x0){Math[_0xf72a3b(0xa3)]()<this[_0xf72a3b(0x10e)]?this['arrowsArr'][_0x209c49]=0x2:this[_0xf72a3b(0xb0)][_0x209c49]=0x1;this[_0xf72a3b(0xb8)]=0x0;break;}}}else this['arrowCounter']=0x0;}['compute'](){const _0x12d3cb=_0x4562bd;this[_0x12d3cb(0xd9)](),this[_0x12d3cb(0x87)]=this['x']+this['w']/0x2,this[_0x12d3cb(0xfb)]=this['y']+this['h']/0x2,this[_0x12d3cb(0x68)]();Math[_0x12d3cb(0x7e)](this['xVelExt'])>0.01?this['xVelExt']-=this[_0x12d3cb(0x6a)]*0.1/DTR:this[_0x12d3cb(0x6a)]=0x0;Math[_0x12d3cb(0x7e)](this['yVelExt'])>0.01?this[_0x12d3cb(0x115)]-=this[_0x12d3cb(0x115)]*0.1/DTR:this[_0x12d3cb(0x115)]=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this['speed']=0x2:this[_0x12d3cb(0x7b)]=0x3;this['radians']=Math['atan2'](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x12d3cb(0xef)]=-this[_0x12d3cb(0x7b)];else!this['R']&&(this[_0x12d3cb(0xef)]=0x0);if(this['R'])this[_0x12d3cb(0xef)]=this[_0x12d3cb(0x7b)];else!this['L']&&(this[_0x12d3cb(0xef)]=0x0);if(this['T'])this[_0x12d3cb(0x70)]=-this[_0x12d3cb(0x7b)];else!this['B']&&(this[_0x12d3cb(0x70)]=0x0);if(this['B'])this['yVel']=this[_0x12d3cb(0x7b)];else!this['T']&&(this[_0x12d3cb(0x70)]=0x0);this['x']+=(this['xVel']+this[_0x12d3cb(0x6a)])/DTR,this['y']+=(this[_0x12d3cb(0x70)]+this['yVelExt'])/DTR;}[_0x4562bd(0x85)](){const _0xbf1be7=_0x4562bd;this[_0xbf1be7(0xef)]===0x0&&this[_0xbf1be7(0x70)]===0x0?this[_0xbf1be7(0x105)]=0x0:(this[_0xbf1be7(0xf2)]++,this[_0xbf1be7(0xf2)]>=this['slowness']*DTR&&(this[_0xbf1be7(0x105)]++,this[_0xbf1be7(0xf2)]=0x0,this[_0xbf1be7(0x105)]>=this[_0xbf1be7(0xa4)][_0xbf1be7(0xa0)]&&(this[_0xbf1be7(0x105)]=0x0))),c[_0xbf1be7(0xe0)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0xbf1be7(0xba)](this['radians']),c[_0xbf1be7(0x110)](id(_0xbf1be7(0x88)),this[_0xbf1be7(0xa4)][this[_0xbf1be7(0x105)]],this['actionY'][this[_0xbf1be7(0x105)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0xbf1be7(0x90)](),this[_0xbf1be7(0xa2)]&&(c[_0xbf1be7(0x110)](id(_0xbf1be7(0x8d)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0xbf1be7(0xa2)]--),this[_0xbf1be7(0x6f)]['active']&&this['drawBow']();}['drawBow'](){const _0xa3c8bc=_0x4562bd;this[_0xa3c8bc(0x6f)][_0xa3c8bc(0xf2)]++,this[_0xa3c8bc(0x6f)]['frameCounter']>=this['bow'][_0xa3c8bc(0x96)]*DTR&&(this['bow'][_0xa3c8bc(0x105)]++,this['bow'][_0xa3c8bc(0xf2)]=0x0,this['bow']['active']>=this['bow']['actionX']['length']&&(this[_0xa3c8bc(0x6f)][_0xa3c8bc(0xc2)]=![])),c['save'](),c[_0xa3c8bc(0xec)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0xa3c8bc(0xba)](this[_0xa3c8bc(0x84)]),c[_0xa3c8bc(0x110)](id(_0xa3c8bc(0x6f)),this['bow'][_0xa3c8bc(0xa4)][this[_0xa3c8bc(0x6f)][_0xa3c8bc(0x105)]],this[_0xa3c8bc(0x6f)][_0xa3c8bc(0xf7)][this[_0xa3c8bc(0x6f)][_0xa3c8bc(0x105)]],0x30,0x30,-this['bow']['w']/0x2,-this[_0xa3c8bc(0x6f)]['h'],this[_0xa3c8bc(0x6f)]['w'],this[_0xa3c8bc(0x6f)]['h']),c[_0xa3c8bc(0x90)]();}[_0x4562bd(0x11c)](){const _0x4999ca=_0x4562bd;this[_0x4999ca(0x6f)][_0x4999ca(0xc2)]=!![],this[_0x4999ca(0x6f)]['frameCounter']=0x0,this[_0x4999ca(0x6f)][_0x4999ca(0xe9)]=0x0,this[_0x4999ca(0x6f)][_0x4999ca(0x105)]=0x0;let _0x14e706=this['x']+this['w']/0x2,_0x328cec=this['y']+this['h']/0x2,_0x33db13=Mouse['x']-_0x14e706+Math[_0x4999ca(0xa3)]()*this[_0x4999ca(0xd2)]-this[_0x4999ca(0xd2)]/0x2,_0x57561e=Mouse['y']-_0x328cec+Math[_0x4999ca(0xa3)]()*this['precision']-this['precision']/0x2,_0x239af5=Math[_0x4999ca(0xf0)](_0x57561e,_0x33db13),_0x4f44f9=Math[_0x4999ca(0xbb)](_0x239af5),_0x50bebe=Math[_0x4999ca(0xf6)](_0x239af5),_0x1bea99=new Projectile();_0x1bea99['xVel']=_0x4f44f9*this[_0x4999ca(0x114)],_0x1bea99[_0x4999ca(0x70)]=_0x50bebe*this[_0x4999ca(0x114)],_0x1bea99['x']=_0x14e706,_0x1bea99['y']=_0x328cec,_0x1bea99['color']=this[_0x4999ca(0xb0)][0x0],playerArrows[_0x4999ca(0x8f)](_0x1bea99),this['arrowsArr'][_0x4999ca(0xd1)](),this[_0x4999ca(0xb0)][_0x4999ca(0x8f)](0x0);}['attack'](){const _0x52e5f3=_0x4562bd;if(!sword[_0x52e5f3(0xc2)]){sword[_0x52e5f3(0xc2)]=!![],sword[_0x52e5f3(0x11a)]=this[_0x52e5f3(0x84)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x12334f=this['x']+this['w']/0x2,_0x4a50e6=this['y']+this['h']/0x2,_0xf82f65=returnCosine(Mouse['x'],Mouse['y'],_0x12334f,_0x4a50e6);this[_0x52e5f3(0x6a)]=_0xf82f65[_0x52e5f3(0xbb)]*0xe,this[_0x52e5f3(0x115)]=_0xf82f65[_0x52e5f3(0xf6)]*0xe;}}}}var player=new Player(CANVAS[_0x4562bd(0xc6)]/0x2,CANVAS[_0x4562bd(0xfc)]/0x4*0x3);class UserInterface{constructor(){const _0x26b46c=_0x4562bd;this[_0x26b46c(0x8d)]=id(_0x26b46c(0xb3)),this['x']=0x14,this['y']=0x5,this['lClick']=![],this['rClick']=![],this[_0x26b46c(0xf9)]=0x0,this['layout']={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0x26b46c(0xbc)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this['hpBar']={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this['mpBar']={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x26b46c(0x6f)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x26b46c(0xcc)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x26b46c(0xcf)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x26b46c(0xb0)]=[0x1,0x1,0x1,0x1];}[_0x4562bd(0x85)](){const _0x4613f2=_0x4562bd;this[_0x4613f2(0x9b)]&&(c['globalAlpha']=0.5);c[_0x4613f2(0x110)](this[_0x4613f2(0x8d)],this[_0x4613f2(0x6f)]['crop']['x'],this[_0x4613f2(0x6f)][_0x4613f2(0xaf)]['y'],this['bow']['crop']['w'],this[_0x4613f2(0x6f)][_0x4613f2(0xaf)]['h'],this[_0x4613f2(0x6f)][_0x4613f2(0xc3)]['x'],this['bow'][_0x4613f2(0xc3)]['y'],this[_0x4613f2(0x6f)]['crop']['w'],this['bow']['crop']['h']);this[_0x4613f2(0x9b)]&&(c['globalAlpha']=0x1);this[_0x4613f2(0x83)]&&(c[_0x4613f2(0xca)]=0.5);c[_0x4613f2(0x110)](this[_0x4613f2(0x8d)],this[_0x4613f2(0xcc)][_0x4613f2(0xaf)]['x'],this[_0x4613f2(0xcc)][_0x4613f2(0xaf)]['y'],this[_0x4613f2(0xcc)][_0x4613f2(0xaf)]['w'],this[_0x4613f2(0xcc)][_0x4613f2(0xaf)]['h'],this[_0x4613f2(0xcc)][_0x4613f2(0xc3)]['x'],this[_0x4613f2(0xcc)][_0x4613f2(0xc3)]['y'],this['sword'][_0x4613f2(0xaf)]['w'],this[_0x4613f2(0xcc)]['crop']['h']);this[_0x4613f2(0x83)]&&(c['globalAlpha']=0x1);c[_0x4613f2(0x110)](this['sheet'],this['layout']['crop']['x'],this[_0x4613f2(0xa6)][_0x4613f2(0xaf)]['y'],this['layout'][_0x4613f2(0xaf)]['w'],this[_0x4613f2(0xa6)][_0x4613f2(0xaf)]['h'],this['layout']['pos']['x']+this['x'],this[_0x4613f2(0xa6)][_0x4613f2(0xc3)]['y']+this['y'],this[_0x4613f2(0xa6)][_0x4613f2(0xaf)]['w'],this[_0x4613f2(0xa6)]['crop']['h']),c[_0x4613f2(0x110)](this['sheet'],this[_0x4613f2(0xbc)][_0x4613f2(0xaf)][player[_0x4613f2(0xf9)]]['x'],this[_0x4613f2(0xbc)]['crop'][player['attacked']]['y'],this[_0x4613f2(0xbc)][_0x4613f2(0xaf)][player[_0x4613f2(0xf9)]]['w'],this[_0x4613f2(0xbc)][_0x4613f2(0xaf)][player['attacked']]['h'],this[_0x4613f2(0xbc)][_0x4613f2(0xc3)]['x']+this['x'],this[_0x4613f2(0xbc)][_0x4613f2(0xc3)]['y']+this['y'],this[_0x4613f2(0xbc)][_0x4613f2(0xaf)][player['attacked']]['w'],this['portrait'][_0x4613f2(0xaf)][player[_0x4613f2(0xf9)]]['h']),c['drawImage'](this[_0x4613f2(0x8d)],this[_0x4613f2(0x111)][_0x4613f2(0xaf)]['x'],this[_0x4613f2(0x111)]['crop']['y'],this['hpBar'][_0x4613f2(0xaf)]['w'],this[_0x4613f2(0x111)]['crop']['h'],this[_0x4613f2(0x111)]['pos']['x']+this['x'],this[_0x4613f2(0x111)][_0x4613f2(0xc3)]['y']+this['y'],this[_0x4613f2(0x111)][_0x4613f2(0xaf)]['w']/player[_0x4613f2(0xbe)]*player['hp'],this[_0x4613f2(0x111)][_0x4613f2(0xaf)]['h']),c[_0x4613f2(0x110)](this[_0x4613f2(0x8d)],this[_0x4613f2(0x93)][_0x4613f2(0xaf)]['x'],this['mpBar'][_0x4613f2(0xaf)]['y'],this['mpBar']['crop']['w'],this['mpBar'][_0x4613f2(0xaf)]['h'],this[_0x4613f2(0x93)][_0x4613f2(0xc3)]['x']+this['x'],this[_0x4613f2(0x93)][_0x4613f2(0xc3)]['y']+this['y'],this[_0x4613f2(0x93)][_0x4613f2(0xaf)]['w'],this[_0x4613f2(0x93)]['crop']['h']);for(let _0x307f75=0x0;_0x307f75<player[_0x4613f2(0xb0)][_0x4613f2(0xa0)];_0x307f75++){c[_0x4613f2(0x110)](this[_0x4613f2(0x8d)],this['arrow']['crop'][player[_0x4613f2(0xb0)][_0x307f75]]['x'],this[_0x4613f2(0xcf)][_0x4613f2(0xaf)][player['arrowsArr'][_0x307f75]]['y'],this[_0x4613f2(0xcf)][_0x4613f2(0xaf)][player[_0x4613f2(0xb0)][_0x307f75]]['w'],this[_0x4613f2(0xcf)]['crop'][player[_0x4613f2(0xb0)][_0x307f75]]['h'],this[_0x4613f2(0xcf)][_0x4613f2(0xc3)]['x']+this['x']-0xa*_0x307f75,this['arrow']['pos']['y']+this['y'],this[_0x4613f2(0xcf)][_0x4613f2(0xaf)][player[_0x4613f2(0xb0)][_0x307f75]]['w'],this[_0x4613f2(0xcf)][_0x4613f2(0xaf)][player[_0x4613f2(0xb0)][_0x307f75]]['h']);}c[_0x4613f2(0x99)]='14px\x20Arial',c[_0x4613f2(0xe6)]=_0x4613f2(0x77),c[_0x4613f2(0x97)]=_0x4613f2(0x71),c[_0x4613f2(0xfd)](player[_0x4613f2(0x8a)]+'/'+player[_0x4613f2(0xb0)][_0x4613f2(0xa0)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x14e218=_0x4562bd;let _0xfddaa6=player['x']+player['w']/0x2,_0x21e474=player['y']+player['h']/0x2,_0x771acd=_0xfddaa6,_0x3a07de=_0x21e474,_0x1d0807=![],_0x2600d2=0x0,_0x1cbdee=returnCosine(_0xfddaa6,_0x21e474,Mouse['x'],Mouse['y']),_0x3da7ba=[],_0x3ad532={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x1b5890={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x467110=0x4,_0x1a69c2={'x':0x0,'y':0x0};while(!_0x1d0807&&_0x2600d2<CANVAS[_0x14e218(0xc6)]*0x2/_0x467110){_0x771acd-=_0x1cbdee[_0x14e218(0xbb)]*_0x467110,_0x3a07de-=_0x1cbdee[_0x14e218(0xf6)]*_0x467110;getTileData(_0x771acd,_0x3a07de)['solid']&&(_0x3ad532=getTileData(_0x771acd,_0x3a07de)[_0x14e218(0x95)],_0x1b5890['x']=_0x3ad532['x'],_0x1b5890['y']=_0x3ad532['y'],_0x1b5890['w']=_0x3ad532['w'],_0x1b5890['h']=_0x3ad532['h'],_0x1b5890['x']+=_0x771acd-_0x771acd%TILESIZE,_0x1b5890['y']+=_0x3a07de-_0x3a07de%TILESIZE,_0x1d0807=!![]);_0x1a69c2['x']=_0x771acd,_0x1a69c2['y']=_0x3a07de;for(let _0x971c21=0x0;_0x971c21<monsters['length'];_0x971c21++){if(!monsters[_0x971c21][_0x14e218(0x8e)]&&pointSquareCol(_0x1a69c2,monsters[_0x971c21])){_0x1b5890['x']=monsters[_0x971c21]['x'],_0x1b5890['y']=monsters[_0x971c21]['y'],_0x1b5890['w']=monsters[_0x971c21]['w'],_0x1b5890['h']=monsters[_0x971c21]['h'],_0x1d0807=!![];break;}}_0x2600d2++;}_0x3da7ba=getRectSides(_0x1b5890);let _0x1e4905=[],_0x5bd016={},_0x2588d1;for(let _0x4db852=0x0;_0x4db852<_0x3da7ba[_0x14e218(0xa0)];_0x4db852++){_0x5bd016=intersect(_0xfddaa6,_0x21e474,_0x771acd,_0x3a07de,_0x3da7ba[_0x4db852]['x1'],_0x3da7ba[_0x4db852]['y1'],_0x3da7ba[_0x4db852]['x2'],_0x3da7ba[_0x4db852]['y2']),_0x5bd016&&_0x1e4905[_0x14e218(0x8f)](_0x5bd016);}let _0x3da807=Math['hypot'](_0xfddaa6-_0x771acd,_0x21e474-_0x3a07de),_0x4344d3=_0x771acd,_0x2854ab=_0x771acd;for(let _0x530396=0x0;_0x530396<_0x1e4905['length'];_0x530396++){_0x2588d1=Math[_0x14e218(0x9c)](_0xfddaa6-_0x771acd,_0x21e474-_0x3a07de),_0x2588d1<_0x3da807&&(_0x3da807=_0x2588d1,_0x4344d3=_0x1e4905[_0x530396]['x'],_0x2854ab=_0x1e4905[_0x530396]['y']);}c['strokeStyle']=_0x14e218(0xf4),c[_0x14e218(0x6d)](),c['moveTo'](_0xfddaa6+map['x'],_0x21e474+map['y']),c['lineTo'](_0x771acd+map['x'],_0x3a07de+map['y']),c[_0x14e218(0xbd)](),c[_0x14e218(0xf3)]='black';}function isObstructed(_0x555f0d,_0x35f550){const _0x47db99=_0x4562bd;let _0x4d58bd=_0x555f0d['x']+_0x555f0d['w']/0x2,_0x106c86=_0x555f0d['y']+_0x555f0d['h']/0x2,_0x1bb504=_0x35f550['x']+_0x35f550['w']/0x2,_0x539e6b=_0x35f550['y']+_0x35f550['h']/0x2,_0x13fbfa=Math[_0x47db99(0x9c)](_0x4d58bd-_0x1bb504,_0x106c86-_0x539e6b),_0x4bb064=_0x4d58bd,_0x195ec9=_0x106c86,_0x26f677=![],_0x9fbc8=0x0,_0x355449=returnCosine(_0x4d58bd,_0x106c86,_0x1bb504,_0x539e6b),_0x239f17=[],_0x5ac7b5={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x594eb9={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x4b454d=0x3,_0xb5f5f8={'x':0x0,'y':0x0};while(!_0x26f677&&_0x9fbc8<_0x13fbfa/_0x4b454d){_0x4bb064-=_0x355449[_0x47db99(0xbb)]*_0x4b454d,_0x195ec9-=_0x355449[_0x47db99(0xf6)]*_0x4b454d;if(getTileData(_0x4bb064,_0x195ec9)['solid'])return _0x5ac7b5=getTileData(_0x4bb064,_0x195ec9)[_0x47db99(0x95)],_0x594eb9['x']=_0x5ac7b5['x'],_0x594eb9['y']=_0x5ac7b5['y'],_0x594eb9['w']=_0x5ac7b5['w'],_0x594eb9['h']=_0x5ac7b5['h'],_0x594eb9['x']+=_0x4bb064-_0x4bb064%TILESIZE,_0x594eb9['y']+=_0x195ec9-_0x195ec9%TILESIZE,!![];_0xb5f5f8['x']=_0x4bb064,_0xb5f5f8['y']=_0x195ec9;if(pointSquareCol(_0xb5f5f8,_0x35f550))return![];_0x9fbc8++;}}function getRectSides(_0x1f1040){const _0x35d8bf=_0x4562bd;let _0x1e3151=[];return _0x1e3151[_0x35d8bf(0x8f)]({'x1':_0x1f1040['x'],'y1':_0x1f1040['y'],'x2':_0x1f1040['x']+_0x1f1040['w'],'y2':_0x1f1040['y']}),_0x1e3151['push']({'x1':_0x1f1040['x']+_0x1f1040['w'],'y1':_0x1f1040['y'],'x2':_0x1f1040['x']+_0x1f1040['w'],'y2':_0x1f1040['y']+_0x1f1040['h']}),_0x1e3151[_0x35d8bf(0x8f)]({'x1':_0x1f1040['x']+_0x1f1040['w'],'y1':_0x1f1040['y']+_0x1f1040['h'],'x2':_0x1f1040['x'],'y2':_0x1f1040['y']+_0x1f1040['h']}),_0x1e3151[_0x35d8bf(0x8f)]({'x1':_0x1f1040['x'],'y1':_0x1f1040['y']+_0x1f1040['h'],'x2':_0x1f1040['x'],'y2':_0x1f1040['y']}),_0x1e3151;}function init(){const _0x105be6=_0x4562bd;let _0x1429bf,_0x4bdeb3={};fetch(_0x105be6(0xb6))[_0x105be6(0xfa)](function(_0x4c2ea2){const _0xdf464d=_0x105be6;return _0x4c2ea2[_0xdf464d(0xae)]();})[_0x105be6(0xfa)](function(_0x23a2ff){const _0x40db87=_0x105be6;_0x1429bf=_0x23a2ff['tiles'];for(let _0x490106=0x0;_0x490106<_0x1429bf[_0x40db87(0xa0)];_0x490106++){_0x4bdeb3={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x4bdeb3['id']=_0x1429bf[_0x490106]['id'];if(_0x1429bf[_0x490106][_0x40db87(0xa1)](_0x40db87(0x98)))for(let _0x54fe56=0x0;_0x54fe56<_0x1429bf[_0x490106]['properties'][_0x40db87(0xa0)];_0x54fe56++){if(_0x1429bf[_0x490106][_0x40db87(0x98)][_0x54fe56])switch(_0x1429bf[_0x490106][_0x40db87(0x98)][_0x54fe56][_0x40db87(0xff)]){case'hole':_0x4bdeb3[_0x40db87(0xaa)]=!![],_0x4bdeb3['unpassable']=!![];break;case _0x40db87(0xd6):_0x4bdeb3[_0x40db87(0xd6)]=!![],_0x4bdeb3[_0x40db87(0x116)]=!![];break;}}TilesData[_0x40db87(0x8f)](_0x4bdeb3);}loop();});}init();var HP_BAR=id(_0x4562bd(0x75));function renderHpBars(){const _0x330552=_0x4562bd;for(let _0x2acf07=0x0;_0x2acf07<monsters[_0x330552(0xa0)];_0x2acf07++){if(monsters[_0x2acf07][_0x330552(0x8e)])continue;let _0x48685f=monsters[_0x2acf07]['hp']/monsters[_0x2acf07]['maxHp'],_0x5ad518=Math[_0x330552(0x7a)](TILESIZE*_0x48685f);c['drawImage'](HP_BAR,0x0,0x4,_0x5ad518,0x4,monsters[_0x2acf07]['x']+monsters[_0x2acf07]['w']/0x2-0x10+map['x']|0x0,monsters[_0x2acf07]['y']-0x8+map['y']|0x0,_0x5ad518|0x0,0x4|0x0),c[_0x330552(0x110)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x2acf07]['x']+monsters[_0x2acf07]['w']/0x2-0x10+map['x']|0x0,monsters[_0x2acf07]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x48bb62=_0x4562bd;this['width']=0x17,this[_0x48bb62(0xfc)]=0xf,this['x']=0x0,this['y']=0x0,this[_0x48bb62(0xc0)]=maps['m1'],this[_0x48bb62(0x8d)]=id(_0x48bb62(0x8d)),this[_0x48bb62(0xa8)]=id('grass');}[_0x4562bd(0x85)](){const _0x1e929a=_0x4562bd;for(let _0x4b18e3=0x0;_0x4b18e3<this[_0x1e929a(0xc0)][_0x1e929a(0xa0)];_0x4b18e3++){_0x4b18e3==0x1&&c[_0x1e929a(0x110)](this[_0x1e929a(0xa8)],0x0+this['x'],0x0+this['y'],CANVAS[_0x1e929a(0xc6)],CANVAS['height']);for(let _0x559fe6=0x0;_0x559fe6<this['tiles'][_0x4b18e3]['length'];_0x559fe6++){if(this[_0x1e929a(0xc0)][_0x4b18e3][_0x559fe6]===0x0)continue;c['drawImage'](this[_0x1e929a(0x8d)],(this[_0x1e929a(0xc0)][_0x4b18e3][_0x559fe6]-0x1)%0xf*TILESIZE,((this['tiles'][_0x4b18e3][_0x559fe6]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x559fe6%this[_0x1e929a(0xc6)]*TILESIZE+map['x'],(_0x559fe6/this['width']|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x38ccbc=_0x4562bd;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x38ccbc(0x84)]=0x2,this[_0x38ccbc(0x11a)]=0x0,this[_0x38ccbc(0xa4)]=[0x0],this[_0x38ccbc(0xf7)]=[0x0],this[_0x38ccbc(0x9a)]=[0x0,0x0,0x0,0x0],this['vfxY']=[0x0,0x80,0x100,0x180],this[_0x38ccbc(0xe9)]=0x0,this[_0x38ccbc(0xf2)]=0x0,this[_0x38ccbc(0x105)]=0x0,this[_0x38ccbc(0x96)]=0x3,this[_0x38ccbc(0xc2)]=![],this['sheet']=id(_0x38ccbc(0xcd)),this[_0x38ccbc(0xdd)]=id(_0x38ccbc(0xcc));}[_0x4562bd(0x109)](){const _0x5e010d=_0x4562bd;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x76120e,_0x44e963,_0x3a75c5;for(let _0x2270fc=0x0;_0x2270fc<monsters['length'];_0x2270fc++){if(monsters[_0x2270fc]['dead']||!monsters[_0x2270fc]['collidable'])continue;_0x76120e=monsters[_0x2270fc][_0x5e010d(0x95)]['x']+monsters[_0x2270fc][_0x5e010d(0x95)]['w']/0x2,_0x44e963=monsters[_0x2270fc][_0x5e010d(0x95)]['y']+monsters[_0x2270fc][_0x5e010d(0x95)]['h']/0x2,_0x3a75c5=(monsters[_0x2270fc]['w']+monsters[_0x2270fc]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x76120e,_0x44e963,_0x3a75c5)){let _0x117707=this['x']+this['w']/0x2,_0x38fb75=this['y']+this['h']/0x2,_0x415fc6=monsters[_0x2270fc]['x']-_0x117707,_0x1c57c3=monsters[_0x2270fc]['y']-_0x38fb75,_0x4666d0=Math[_0x5e010d(0xf0)](_0x1c57c3,_0x415fc6),_0x2b5611=Math['cos'](_0x4666d0),_0x11d62a=Math[_0x5e010d(0xf6)](_0x4666d0);monsters[_0x2270fc]['xVelExt']=_0x2b5611*0xa,monsters[_0x2270fc][_0x5e010d(0x115)]=_0x11d62a*0xa,monsters[_0x2270fc]['hp']-=0.25,monsters[_0x2270fc][_0x5e010d(0x103)]=0xf;}}}['draw'](){const _0x291e4e=_0x4562bd;this['frameCounter']++,this['frameCounter']>this[_0x291e4e(0x96)]*DTR&&(this['frameCounter']=0x0,this[_0x291e4e(0xe9)]++,this[_0x291e4e(0xe9)]>=this[_0x291e4e(0x9a)][_0x291e4e(0xa0)]&&(this[_0x291e4e(0xe9)]=0x0)),c[_0x291e4e(0x110)](this[_0x291e4e(0x8d)],this[_0x291e4e(0x9a)][this['currentFrame']],this[_0x291e4e(0xde)][this[_0x291e4e(0xe9)]],0x80,0x40,this['x']-0x40-player['xVelExt']*0x4+map['x'],this['y']-0x40-player[_0x291e4e(0x115)]*0x4+map['y'],0x80,0x40),c[_0x291e4e(0xe0)](),c[_0x291e4e(0xec)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x291e4e(0xba)](this[_0x291e4e(0x11a)]+this[_0x291e4e(0x84)]),c[_0x291e4e(0x110)](this['swordImg'],this[_0x291e4e(0xa4)][this[_0x291e4e(0x105)]],this['actionY'][this[_0x291e4e(0x105)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x291e4e(0x90)](),this['radians']-=0.5/DTR,this[_0x291e4e(0x84)]<=-0x9&&(this['active']=![],this[_0x291e4e(0x84)]=0x2),c['drawImage'](this[_0x291e4e(0x8d)],this['vfxX'][this[_0x291e4e(0xe9)]],this['vfxY'][this[_0x291e4e(0xe9)]]+0x40,0x80,0x40,this['x']-0x40-player[_0x291e4e(0x6a)]*0x4+map['x'],this['y']-player[_0x291e4e(0x115)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x4e4bba=_0x4562bd;monsters[_0x4e4bba(0x86)](function(_0x3da7a2,_0x39216c){const _0x284665=_0x4e4bba;if(_0x3da7a2[_0x284665(0x8e)]&&!_0x39216c['dead'])return-0x1;else return!_0x3da7a2[_0x284665(0x8e)]&&_0x39216c['dead']?0x1:_0x3da7a2['y']+0xf-_0x39216c['y'];});}function adjustCollidingMonsters(){const _0x4a497c=_0x4562bd;for(let _0x352883=0x0;_0x352883<monsters[_0x4a497c(0xa0)];_0x352883++){if(monsters[_0x352883][_0x4a497c(0x8e)])continue;monsters[_0x352883][_0x4a497c(0x92)]['T']=0x0,monsters[_0x352883][_0x4a497c(0x92)]['B']=0x0,monsters[_0x352883][_0x4a497c(0x92)]['L']=0x0,monsters[_0x352883]['col']['R']=0x0;for(let _0xcae79b=0x0;_0xcae79b<monsters[_0x4a497c(0xa0)];_0xcae79b++){if(monsters[_0xcae79b][_0x4a497c(0x8e)])continue;if(collided(monsters[_0x352883],monsters[_0xcae79b])){let _0x4fff35=colCheck(monsters[_0x352883],monsters[_0xcae79b]);switch(_0x4fff35){case'l':this[_0x4a497c(0xef)]<0x0&&(this[_0x4a497c(0xef)]=0x0);break;case'r':this[_0x4a497c(0xef)]>0x0&&(this[_0x4a497c(0xef)]=0x0);break;case'b':this['yVel']>0x0&&(this[_0x4a497c(0x70)]=0x0);break;case't':this[_0x4a497c(0x70)]<0x0&&(this[_0x4a497c(0x70)]=0x0);break;}monsters[_0x352883][_0x4a497c(0xef)]+=(monsters[_0x352883]['col']['L']-monsters[_0x352883][_0x4a497c(0x92)]['R'])/0x5,monsters[_0x352883][_0x4a497c(0x70)]+=(monsters[_0x352883][_0x4a497c(0x92)]['T']-monsters[_0x352883][_0x4a497c(0x92)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x5d6631,_0x122fbd){const _0x5de84b=_0x4562bd;super(Collidable),this['x']=_0x5d6631,this['y']=_0x122fbd,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x5de84b(0xef)]=0x0,this[_0x5de84b(0x70)]=0x0,this[_0x5de84b(0x6a)]=0x0,this[_0x5de84b(0x115)]=0x0,this[_0x5de84b(0x7b)]=0x2,this[_0x5de84b(0xb2)]=0x0,this['justDied']=![],this[_0x5de84b(0x103)]=0x0,this[_0x5de84b(0x8e)]=![],this[_0x5de84b(0xf1)]=[],this[_0x5de84b(0xbe)]=0x3,this['hp']=0x3,this[_0x5de84b(0xf2)]=0x0,this[_0x5de84b(0x96)]=0x4,this[_0x5de84b(0xe9)]=0x0,this[_0x5de84b(0xa5)]=!![],this['sheet']=id(_0x5de84b(0x8d)),this[_0x5de84b(0x105)]=0x0,this[_0x5de84b(0x92)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x5de84b(0x95)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x5de84b(0xa4)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x5de84b(0xf7)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x4562bd(0xcb)](){const _0x12c739=_0x4562bd;if(this[_0x12c739(0x105)]!==0x0){let _0x137482=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x3a19bf=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x7959e2=_0x137482>0x0?-0x1:0x1,_0x40a5a2=_0x3a19bf>0x0?-0x1:0x1,_0x27892b;_0x3a19bf!==0x0?_0x27892b=Math[_0x12c739(0x7e)](_0x137482)/(Math['abs'](_0x3a19bf)+Math[_0x12c739(0x7e)](_0x137482)):_0x27892b=0x0;this[_0x12c739(0xef)]=this['speed']*_0x27892b*_0x7959e2,this[_0x12c739(0x70)]=this[_0x12c739(0x7b)]*(0x1-_0x27892b)*_0x40a5a2;if(this['x']+this['w']<player['x'])this[_0x12c739(0xb2)]=![];else player['x']+player['w']<this['x']&&(this[_0x12c739(0xb2)]=!![]);}}[_0x4562bd(0x109)](){const _0x95be=_0x4562bd;if(!this[_0x95be(0x8e)]){this['followPlayer']();Math[_0x95be(0x7e)](this['xVelExt'])>0.01?this[_0x95be(0x6a)]*=0.9:this[_0x95be(0x6a)]=0x0;Math[_0x95be(0x7e)](this[_0x95be(0x115)])>0.01?this['yVelExt']*=0.9:this[_0x95be(0x115)]=0x0;(this['col']['T']&&this[_0x95be(0x70)]<0x0||this[_0x95be(0x92)]['B']&&this[_0x95be(0x70)]>0x0)&&(this['yVel']=0x0);(this[_0x95be(0x92)]['L']&&this[_0x95be(0xef)]<0x0||this['col']['R']&&this['xVel']>0x0)&&(this[_0x95be(0xef)]=0x0);this[_0x95be(0x105)]!==0x0&&(this['left']?this[_0x95be(0x105)]=0x2:this[_0x95be(0x105)]=0x1);this[_0x95be(0x68)](),this['x']+=(this[_0x95be(0xef)]+this[_0x95be(0x6a)])/DTR,this['y']+=(this[_0x95be(0x70)]+this['yVelExt'])/DTR;for(let _0x2662b1=0x0;_0x2662b1<this[_0x95be(0xf1)][_0x95be(0xa0)];_0x2662b1++){this[_0x95be(0xf1)][_0x2662b1]['x']=this['x']+this['arrows'][_0x2662b1]['xRel'],this[_0x95be(0xf1)][_0x2662b1]['y']=this['y']+this['arrows'][_0x2662b1][_0x95be(0xdf)];}this['hitbox']['x']=this['x']+0x6,this[_0x95be(0x95)]['y']=this['y']+0x4,this['hp']<=0x0&&(this['justDied']=!![]),this[_0x95be(0xf8)]&&(this[_0x95be(0x103)]=0x0,this[_0x95be(0x8e)]=!![],this[_0x95be(0x105)]=0x3,this[_0x95be(0xf2)]=0x0,this['currentFrame']=0x0,this[_0x95be(0x96)]=0xa);}}['draw'](){const _0x288014=_0x4562bd;this[_0x288014(0xf2)]++;this[_0x288014(0xf2)]>this[_0x288014(0x96)]*DTR&&(this[_0x288014(0xf2)]=0x0,this[_0x288014(0xe9)]++,this[_0x288014(0xe9)]>=this[_0x288014(0xa4)][this[_0x288014(0x105)]]['length']&&(this['action']==0x0&&(this['action']=0x1+this[_0x288014(0xb2)]),this[_0x288014(0xe9)]=0x0));this['action']==0x3&&(this[_0x288014(0xe9)]==this[_0x288014(0xa4)][this[_0x288014(0x105)]][_0x288014(0xa0)]-0x1&&(this['frameCounter']=0x0));if(!this['dead'])for(let _0x57f467=0x0;_0x57f467<this[_0x288014(0xf1)]['length'];_0x57f467++){this[_0x288014(0xf1)][_0x57f467][_0x288014(0x85)]();}this['justDamaged']>0x0&&(this[_0x288014(0x105)]=0x4,this[_0x288014(0xe9)]=0x0,this[_0x288014(0xd4)]=0x0,this[_0x288014(0x103)]-=0x1/DTR),c[_0x288014(0x110)](this[_0x288014(0x8d)],this[_0x288014(0xa4)][this[_0x288014(0x105)]][this[_0x288014(0xe9)]]*TILESIZE,this['actionY'][this[_0x288014(0x105)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}function _0x537a(){const _0x253e9b=['rotate','cos','portrait','stroke','maxHp','colors','tiles','fromCharCode','active','pos','15HMJnzm','{}.constructor(\x22return\x20this\x22)(\x20)','width','onclick','mousedown','points','globalAlpha','followPlayer','sword','sword-vfx','player.x\x20=\x20','arrow','set','shift','precision','832344CoRiwP','framecounter','lineWidth','solid','path','keyCode','computeQuiver','justShot','button','lengthX','swordImg','vfxY','yRel','save','style','ended','7iiSMie','lengthY','mousemove','textAlign','headY','AAaPKLibouBYvCLQGVt:pblankdBcdiGPsKrNJKPPM','currentFrame','#ff8db5','toPrecision','translate','color','top','xVel','atan2','arrows','frameCounter','strokeStyle','#ff0000','xRel','sin','actionY','justDied','attacked','then','centerY','height','fillText','type','name','counter','getContext','<br>mouseTile\x20id\x20=\x20','justDamaged','createGrid','action','innerHTML','moveTo','4844106CVxmyM','compute','apply','oncontextmenu','addEventListener','replace','critChance','slice','drawImage','hpBar','stats','2gfnhbk','arrowSpeed','yVelExt','unpassable','damage','369822YNGevG','FPS:\x20','radiansP','<br>DTR:\x20','shoot','arrowCD','checkCollisions','innerWidth','xVelExt','imageSmoothingEnabled','offsetLeft','beginPath','indexOf','bow','yVel','#2f4447','canvas','Goal','Obstacle','hp-bar','478531UeJPaT','center','charCodeAt','607647BywWNl','round','speed','maxMp','<br>mouseTile\x20pos\x20=\x20','abs','splice','Empty','headX','split','rClick','radians','draw','sort','centerX','player','FPS','arrowsCount','innerHeight','attacking','sheet','dead','push','restore','now','col','mpBar','offsetTop','hitbox','slowness','fillStyle','properties','font','vfxX','lClick','hypot','#8b5851','mouseup','Start','length','hasOwnProperty','noArrows','random','actionX','collidable','layout','178932fPuiwr','grass','closePath','hole','free','[WJPHmpOLYYWSNHSRvJJSvOSUSkPGQEyxyJpjKYCCDVxfNZOzwIAjjKMyRGTZXTfS]','return\x20(function()\x20','json','crop','arrowsArr','projSpeed','left','ui-sheet','clientY','friendly','./Archer.json','atkBox','arrowCounter','15431740uoJXgP'];_0x537a=function(){return _0x253e9b;};return _0x537a();}class Mole extends Collidable{constructor(_0x2709a5,_0x3331ed){const _0x537fd4=_0x4562bd;super(Collidable),this['x']=(_0x2709a5/TILESIZE|0x0)*TILESIZE,this['y']=(_0x3331ed/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this['yVel']=0x0,this[_0x537fd4(0x6a)]=0x0,this[_0x537fd4(0x115)]=0x0,this[_0x537fd4(0x7b)]=0x2,this[_0x537fd4(0xb2)]=0x0,this['justDied']=![],this[_0x537fd4(0x103)]=0x0,this[_0x537fd4(0x8e)]=![],this[_0x537fd4(0x8c)]=![],this[_0x537fd4(0xf1)]=[],this[_0x537fd4(0xbe)]=0x3,this['hp']=0x3,this[_0x537fd4(0xf2)]=0x0,this[_0x537fd4(0x96)]=0x4,this[_0x537fd4(0xe9)]=0x0,this[_0x537fd4(0x8d)]=id(_0x537fd4(0x8d)),this[_0x537fd4(0x105)]=0x0,this['collidable']=!![],this[_0x537fd4(0xd7)]=[],this[_0x537fd4(0x92)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x537fd4(0xa4)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this['actionY']=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this['counter']=0x0;}[_0x4562bd(0xcb)](){const _0x4f4dcd=_0x4562bd;this['atkBox']['x']=this['x']-0x5*TILESIZE,this[_0x4f4dcd(0xb7)]['y']=this['y']-0x5*TILESIZE,this[_0x4f4dcd(0xb7)]['w']=0xb*TILESIZE,this[_0x4f4dcd(0xb7)]['h']=0xb*TILESIZE;if(collided(this[_0x4f4dcd(0xb7)],player)){if(this[_0x4f4dcd(0x8c)]){if(this['currentFrame']==0x0&&this['frameCounter']==0x0){this[_0x4f4dcd(0x104)]();switch(this[_0x4f4dcd(0xd7)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x4f4dcd(0x105)]!==0x1&&(this[_0x4f4dcd(0x105)]=0x1,this[_0x4f4dcd(0xe9)]=0x0,this[_0x4f4dcd(0xf2)]=0x0);}else this['attacking']&&this[_0x4f4dcd(0x105)]!==0x0&&this['action']!==0x2&&(this[_0x4f4dcd(0x8c)]=![],this['collidable']=!![],this['action']=0x2,this['currentFrame']=0x0,this[_0x4f4dcd(0xf2)]=0x0);}[_0x4562bd(0x109)](){const _0xcf9f13=_0x4562bd;this['followPlayer'](),this[_0xcf9f13(0x95)]['x']=this['x']+(this['w']-0xe)/0x2,this['hitbox']['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x4ce756=0x0;_0x4ce756<this[_0xcf9f13(0xf1)]['length'];_0x4ce756++){this['arrows'][_0x4ce756]['x']=this['x']+this[_0xcf9f13(0xf1)][_0x4ce756][_0xcf9f13(0xf5)],this[_0xcf9f13(0xf1)][_0x4ce756]['y']=this['y']+this[_0xcf9f13(0xf1)][_0x4ce756]['yRel'];}this['hp']<=0x0&&(this[_0xcf9f13(0xf8)]=!![]),this[_0xcf9f13(0xf8)]&&(this[_0xcf9f13(0x103)]=0x0,this['dead']=!![],this['action']=0x3,this['frameCounter']=0x0,this[_0xcf9f13(0xe9)]=0x0,this['slowness']=0xa);}[_0x4562bd(0x85)](){const _0x5d6850=_0x4562bd;this[_0x5d6850(0xf2)]++;this[_0x5d6850(0x105)]==0x4?this[_0x5d6850(0x96)]=0x3:this[_0x5d6850(0x96)]=0x5;if(this['frameCounter']>this[_0x5d6850(0x96)]*DTR){this['frameCounter']=0x0,this[_0x5d6850(0xe9)]++;if(this['currentFrame']>=this['actionX'][this[_0x5d6850(0x105)]]['length']){if(this[_0x5d6850(0x8e)])this[_0x5d6850(0xe9)]=this[_0x5d6850(0xa4)][this[_0x5d6850(0x105)]][_0x5d6850(0xa0)]-0x1;else{if(this['action']==0x1)this[_0x5d6850(0x8c)]=!![],this[_0x5d6850(0xa5)]=![],this[_0x5d6850(0x105)]=0x4,this[_0x5d6850(0xe9)]=0x0;else this[_0x5d6850(0x105)]==0x2?(this[_0x5d6850(0x105)]=0x0,this['currentFrame']=0x0):this['currentFrame']=0x0;}}}if(!this['dead']){if(this[_0x5d6850(0x105)]==0x0)for(let _0x49af68=0x0;_0x49af68<this[_0x5d6850(0xf1)][_0x5d6850(0xa0)];_0x49af68++){this[_0x5d6850(0xf1)][_0x49af68][_0x5d6850(0x85)]();}}this['justDamaged']>0x0&&(this[_0x5d6850(0x105)]=0x3,this[_0x5d6850(0xe9)]=0x0,this[_0x5d6850(0xd4)]=0x0,this[_0x5d6850(0x103)]-=0x1/DTR,this['justDamaged']<=0x0&&(this['action']=0x0)),c[_0x5d6850(0x110)](this['sheet'],this[_0x5d6850(0xa4)][this['action']][this[_0x5d6850(0xe9)]]*TILESIZE,this[_0x5d6850(0xf7)][this[_0x5d6850(0x105)]][this[_0x5d6850(0xe9)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x4562bd(0x104)](){const _0x25b3c0=_0x4562bd;let _0x36e0e3=0xb,_0x43c958=[],_0x2b9819=this['x']+this['w']/0x2-TILESIZE*0x5,_0x4c537f=this['y']+this['h']/0x2-TILESIZE*0x5,_0x13fbf3;for(let _0x3b8fd8=0x0;_0x3b8fd8<_0x36e0e3;_0x3b8fd8++){_0x43c958[_0x3b8fd8]=[];for(let _0x53c403=0x0;_0x53c403<_0x36e0e3;_0x53c403++){_0x13fbf3=getTileData(_0x2b9819+_0x3b8fd8*TILESIZE,_0x4c537f+_0x53c403*TILESIZE),_0x13fbf3===![]?_0x43c958[_0x3b8fd8][_0x53c403]=_0x25b3c0(0x80):_0x43c958[_0x3b8fd8][_0x53c403]=_0x25b3c0(0x74);}}_0x43c958[0x5][0x5]=_0x25b3c0(0x9f),_0x43c958[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x25b3c0(0x73),this[_0x25b3c0(0xd7)]=findShortestPath([0x5,0x5],_0x43c958);}}class Flower extends Collidable{constructor(_0x346861,_0x370b01){const _0x2c4ed3=_0x4562bd;super(Collidable),this['x']=_0x346861,this['y']=_0x370b01,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x2c4ed3(0xef)]=0x0,this[_0x2c4ed3(0x70)]=0x0,this['xVelExt']=0x0,this[_0x2c4ed3(0x115)]=0x0,this[_0x2c4ed3(0x7b)]=0x2,this[_0x2c4ed3(0xb2)]=0x0,this['justDied']=![],this[_0x2c4ed3(0x103)]=0x0,this['dead']=![],this['arrows']=[],this[_0x2c4ed3(0xbe)]=0x3,this['hp']=0x3,this[_0x2c4ed3(0xf2)]=0x0,this[_0x2c4ed3(0x96)]=0x8,this['attacking']=![],this['currentFrame']=0x0,this[_0x2c4ed3(0x8d)]=id(_0x2c4ed3(0x8d)),this[_0x2c4ed3(0xd2)]=0x5,this['projSpeed']=0x8,this['collidable']=!![],this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x2c4ed3(0x95)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x2c4ed3(0x105)]=0x0,this[_0x2c4ed3(0xa4)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x2c4ed3(0xf7)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this['headX']=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this['headY']=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this['radians']=0x0,this[_0x2c4ed3(0xda)]=![];}[_0x4562bd(0x11c)](){const _0x592883=_0x4562bd;if(!isObstructed(this,player)){this[_0x592883(0x8c)]=!![];if(this[_0x592883(0xe9)]==0x2){if(!this[_0x592883(0xda)]){let _0x5666a5=new EnemyProjectile(),_0x56dc9f=this['x']+this['w']/0x2,_0x2976b8=this['y']+this['h']/0x2,_0x1290d6=player['x']+player['w']/0x2-_0x56dc9f+Math[_0x592883(0xa3)]()*this[_0x592883(0xd2)]-this[_0x592883(0xd2)]/0x2,_0x1efef7=player['y']+player['h']/0x2-_0x2976b8+Math[_0x592883(0xa3)]()*this[_0x592883(0xd2)]-this['precision']/0x2,_0x5933fd=Math[_0x592883(0xf0)](_0x1efef7,_0x1290d6),_0x431a53=Math[_0x592883(0xbb)](_0x5933fd),_0x50b6e1=Math['sin'](_0x5933fd);_0x5666a5['xVel']=_0x431a53*this['projSpeed'],_0x5666a5[_0x592883(0x70)]=_0x50b6e1*this[_0x592883(0xb1)],_0x5666a5['x']=_0x56dc9f,_0x5666a5['y']=_0x2976b8,enemyProjectiles[_0x592883(0x8f)](_0x5666a5),this[_0x592883(0xda)]=!![];}}else this[_0x592883(0xda)]=![];}else this['attacking']=![];}[_0x4562bd(0x109)](){const _0x5a293a=_0x4562bd;this[_0x5a293a(0x11c)](),this[_0x5a293a(0x95)]['x']=this['x']+this['w']/0x3,this[_0x5a293a(0x95)]['y']=this['y']+this['h']/0x5,this[_0x5a293a(0x84)]=Math[_0x5a293a(0xf0)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x1c638c=0x0;_0x1c638c<this[_0x5a293a(0xf1)]['length'];_0x1c638c++){this[_0x5a293a(0xf1)][_0x1c638c]['x']=this['x']+this['arrows'][_0x1c638c][_0x5a293a(0xf5)],this['arrows'][_0x1c638c]['y']=this['y']+this[_0x5a293a(0xf1)][_0x1c638c][_0x5a293a(0xdf)];}this['hp']<=0x0&&(this['justDied']=!![]),this[_0x5a293a(0xf8)]&&(this[_0x5a293a(0x103)]=0x0,this['dead']=!![],this[_0x5a293a(0x105)]=0x2,this[_0x5a293a(0xf2)]=0x0,this[_0x5a293a(0xe9)]=0x0,this[_0x5a293a(0x96)]=0xa);}['draw'](){const _0x280153=_0x4562bd;this[_0x280153(0xf2)]++;this[_0x280153(0xf2)]>this[_0x280153(0x96)]*DTR&&(this[_0x280153(0xf2)]=0x0,this[_0x280153(0xe9)]++,this[_0x280153(0xe9)]>=this[_0x280153(0xa4)][this[_0x280153(0x105)]]['length']&&(this[_0x280153(0x8e)]?this['currentFrame']=this[_0x280153(0xa4)][this[_0x280153(0x105)]][_0x280153(0xa0)]-0x1:this[_0x280153(0xe9)]=0x0));if(!this[_0x280153(0x8e)]){this[_0x280153(0x8c)]?this[_0x280153(0x105)]=0x1:this[_0x280153(0x105)]=0x0;for(let _0x40f6a0=0x0;_0x40f6a0<this[_0x280153(0xf1)][_0x280153(0xa0)];_0x40f6a0++){this[_0x280153(0xf1)][_0x40f6a0]['draw']();}}this[_0x280153(0x8c)]?this[_0x280153(0x96)]=0x4:this[_0x280153(0x96)]=0x8,this[_0x280153(0x103)]&&(this[_0x280153(0x105)]=0x2,this[_0x280153(0xe9)]=0x0,this[_0x280153(0xd4)]=0x0,this[_0x280153(0x103)]--),c[_0x280153(0x110)](this[_0x280153(0x8d)],this[_0x280153(0xa4)][this[_0x280153(0x105)]][this[_0x280153(0xe9)]]*TILESIZE,this[_0x280153(0xf7)][this[_0x280153(0x105)]][this[_0x280153(0xe9)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0x280153(0x105)]==0x0||this[_0x280153(0x105)]==0x1)&&(c[_0x280153(0xe0)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c['rotate'](this[_0x280153(0x84)]),c[_0x280153(0x110)](this[_0x280153(0x8d)],this[_0x280153(0x81)][this[_0x280153(0x105)]][this[_0x280153(0xe9)]]*TILESIZE,this[_0x280153(0xe7)][this[_0x280153(0x105)]][this[_0x280153(0xe9)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x280153(0x90)]());}}function getTileData(_0x3358f7,_0x312871){const _0x133510=_0x4562bd;let _0x1742b8=(_0x3358f7/TILESIZE|0x0)+(_0x312871/TILESIZE|0x0)*map[_0x133510(0xc6)];for(let _0x33227f=0x0;_0x33227f<map[_0x133510(0xc0)][_0x133510(0xa0)];_0x33227f++){for(let _0x46ba70=0x0;_0x46ba70<TilesData['length'];_0x46ba70++){if(TilesData[_0x46ba70]['id']==map[_0x133510(0xc0)][_0x33227f][_0x1742b8]-0x1)return TilesData[_0x46ba70];}}return![];}window[_0x4562bd(0xc7)]=function(){const _0x4d21de=_0x4562bd;player[_0x4d21de(0x8a)]!==0x0?player['shoot']():player[_0x4d21de(0xa2)]=0xa;},window[_0x4562bd(0x10b)]=function(_0x31e251){_0x31e251['preventDefault'](),player['attack']();},document[_0x4562bd(0x10c)](_0x4562bd(0xc8),function(_0x377fa4){const _0xa7dd7=_0x4562bd;switch(_0x377fa4[_0xa7dd7(0xdb)]){case 0x0:userInterface['lClick']=!![];break;case 0x2:userInterface['rClick']=!![];break;}}),document[_0x4562bd(0x10c)](_0x4562bd(0x9e),function(_0xcb57b4){const _0x544a79=_0x4562bd;switch(_0xcb57b4[_0x544a79(0xdb)]){case 0x0:userInterface['lClick']=![];break;case 0x2:userInterface['rClick']=![];break;}});var stats=id(_0x4562bd(0x112));function drawStats(){const _0x159723=_0x4562bd;stats['innerHTML']=_0x159723(0xce)+player['x'],stats[_0x159723(0x106)]+='<br>player.y\x20=\x20'+player['y'],stats[_0x159723(0x106)]+='<br>mouseTile.x\x20=\x20'+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x159723(0x106)]+='<br>mouseTile.y\x20=\x20'+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x159723(0x106)]+=_0x159723(0x7d)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x159723(0xc6)]),stats[_0x159723(0x106)]+=_0x159723(0x102)+map[_0x159723(0xc0)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x159723(0xc6)]],map[_0x159723(0xc0)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']],DEBUG&&(c['rect']((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x159723(0xbd)]());}window[_0x4562bd(0x10c)]('keydown',function(_0x5d27ef){const _0x23db48=_0x4562bd;switch(_0x5d27ef[_0x23db48(0xd8)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0x23db48(0x8f)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console['log'](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x1e7e67=0x0;_0x1e7e67<0x32;_0x1e7e67++){player['shoot'](),player[_0x23db48(0xb8)]=player[_0x23db48(0x11d)]*DTR,player['computeQuiver']();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x4562bd(0x10c)]('keyup',function(_0x4baa03){const _0x5a9baa=_0x4562bd;switch(_0x4baa03[_0x5a9baa(0xd8)]){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0x4562bd(0x10c)](_0x4562bd(0xe5),function(_0x5b9e73){const _0x43eda3=_0x4562bd;mousePP['x']=_0x5b9e73['clientX']-CANVAS[_0x43eda3(0x6c)],mousePP['y']=_0x5b9e73[_0x43eda3(0xb4)]-CANVAS[_0x43eda3(0x94)];});function moveCamera(){const _0x239efb=_0x4562bd;map['x']=-player['x']/0x3+CANVAS[_0x239efb(0xc6)]/0x6,map['y']=-player['y']/0x3+CANVAS[_0x239efb(0xfc)]/0x6,screenShake['counter']&&(screenShake['counter']--,screenShake[_0x239efb(0xd0)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x5a12ec=_0x4562bd;c[_0x5a12ec(0xd5)]=0x2,c[_0x5a12ec(0xf3)]=sampleArrow[_0x5a12ec(0xbf)][0x0],c[_0x5a12ec(0x6d)]();for(let _0x3ab908=playerArrows[_0x5a12ec(0xa0)]-0x1;_0x3ab908>=0x0;_0x3ab908--){if(!playerArrows[_0x3ab908][_0x5a12ec(0xc2)]||playerArrows[_0x3ab908]['color']!=0x1)continue;playerArrows[_0x3ab908][_0x5a12ec(0xab)]&&playerArrows[_0x3ab908][_0x5a12ec(0x109)]();if(playerArrows[_0x3ab908]!==undefined)playerArrows[_0x3ab908][_0x5a12ec(0x85)]();}c[_0x5a12ec(0xa9)](),c[_0x5a12ec(0xbd)](),c[_0x5a12ec(0xf3)]=sampleArrow['colors'][0x1],c['beginPath']();for(let _0x179298=playerArrows['length']-0x1;_0x179298>=0x0;_0x179298--){if(!playerArrows[_0x179298][_0x5a12ec(0xc2)]||playerArrows[_0x179298][_0x5a12ec(0xed)]!=0x2)continue;playerArrows[_0x179298][_0x5a12ec(0xab)]&&playerArrows[_0x179298][_0x5a12ec(0x109)]();if(playerArrows[_0x179298]!==undefined)playerArrows[_0x179298][_0x5a12ec(0x85)]();}c[_0x5a12ec(0xa9)](),c[_0x5a12ec(0xbd)]();}function loop(){const _0x37494a=_0x4562bd;fps++,c['clearRect'](0x0,0x0,CANVAS[_0x37494a(0xc6)],CANVAS[_0x37494a(0xfc)]),moveCamera(),map['draw'](),player['compute']();for(let _0x4c67a0=enemyProjectiles[_0x37494a(0xa0)]-0x1;_0x4c67a0>=0x0;_0x4c67a0--){enemyProjectiles[_0x4c67a0][_0x37494a(0x109)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0xd40179=0x0;_0xd40179<monsters['length'];_0xd40179++){!monsters[_0xd40179][_0x37494a(0x8e)]&&monsters[_0xd40179][_0x37494a(0x109)](),monsters[_0xd40179][_0x37494a(0x85)]();}player[_0x37494a(0x85)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x3e1038=enemyProjectiles['length']-0x1;_0x3e1038>=0x0;_0x3e1038--){enemyProjectiles[_0x3e1038][_0x37494a(0x85)]();}sword[_0x37494a(0xc2)]&&(sword[_0x37494a(0x109)](),sword[_0x37494a(0x85)]());for(let _0x36145c=visualFxs[_0x37494a(0xa0)]-0x1;_0x36145c>=0x0;_0x36145c--){!visualFxs[_0x36145c][_0x37494a(0xe2)]&&visualFxs[_0x36145c][_0x37494a(0x85)]();}userInterface[_0x37494a(0x85)](),drawStats();}var lastUpdate=Date[_0x4562bd(0x91)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0xa9ea32=_0x4562bd;var _0x3cf7b5=Date[_0xa9ea32(0x91)](),_0x7e7501=_0x3cf7b5-lastUpdate;lastUpdate=_0x3cf7b5,DTR=0x3e8/0x3c/_0x7e7501,!gamePaused&&loop();}