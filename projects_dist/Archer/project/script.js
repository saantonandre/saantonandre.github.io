'strict';const _0x14ed09=_0x443f;(function(_0x1d7f91,_0x441cec){const _0x2bd361=_0x443f,_0x12c017=_0x1d7f91();while(!![]){try{const _0x1ae7cf=-parseInt(_0x2bd361(0x221))/0x1*(parseInt(_0x2bd361(0x223))/0x2)+parseInt(_0x2bd361(0x247))/0x3+-parseInt(_0x2bd361(0x28e))/0x4*(-parseInt(_0x2bd361(0x245))/0x5)+parseInt(_0x2bd361(0x274))/0x6*(-parseInt(_0x2bd361(0x277))/0x7)+-parseInt(_0x2bd361(0x25d))/0x8+parseInt(_0x2bd361(0x202))/0x9*(-parseInt(_0x2bd361(0x242))/0xa)+parseInt(_0x2bd361(0x216))/0xb;if(_0x1ae7cf===_0x441cec)break;else _0x12c017['push'](_0x12c017['shift']());}catch(_0x4ef4bd){_0x12c017['push'](_0x12c017['shift']());}}}(_0x1c53,0x9a21a));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0x14ed09(0x22a)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS[_0x14ed09(0x211)]('2d');CANVAS[_0x14ed09(0x21b)]=0x2e0,CANVAS[_0x14ed09(0x263)]=0x1e0,CANVAS['style']['left']=(window[_0x14ed09(0x29e)]-CANVAS[_0x14ed09(0x21b)])/0x2+'px',CANVAS[_0x14ed09(0x25f)][_0x14ed09(0x28f)]=(window['innerHeight']-CANVAS[_0x14ed09(0x263)])/0x2+'px',c['imageSmoothingEnabled']=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x5ef75d){const _0x594a2e=_0x14ed09,_0x369ac7=(function(){let _0x17a824=!![];return function(_0x15ffbf,_0xaa3a44){const _0x31d67f=_0x17a824?function(){const _0x9091a2=_0x443f;if(_0xaa3a44){const _0x100ff9=_0xaa3a44[_0x9091a2(0x259)](_0x15ffbf,arguments);return _0xaa3a44=null,_0x100ff9;}}:function(){};return _0x17a824=![],_0x31d67f;};}()),_0x1f93d5=_0x369ac7(this,function(){const _0x209537=_0x443f,_0x295422=function(){const _0xccc092=_0x443f;let _0x3bb9be;try{_0x3bb9be=Function(_0xccc092(0x210)+_0xccc092(0x286)+');')();}catch(_0x4c712f){_0x3bb9be=window;}return _0x3bb9be;},_0x5490cd=_0x295422(),_0x5dfec9=new RegExp(_0x209537(0x207),'g'),_0x565e0e='sIaFanpVNFtJmoZDODnxaDnVVdFrOey.giyOqBQMthub.ioN;GAvAlocAalhoXstOTUfxWZqMKIWyTMKYTJzqqOQWTDQpzwAQMDf'[_0x209537(0x1ff)](_0x5dfec9,'')[_0x209537(0x235)](';');let _0x3fef7e,_0x230b41,_0x3fc7f1,_0x415ac8;const _0x465d57=function(_0x43386f,_0x723e96,_0x3e4f51){const _0x398c31=_0x209537;if(_0x43386f[_0x398c31(0x287)]!=_0x723e96)return![];for(let _0x476559=0x0;_0x476559<_0x723e96;_0x476559++){for(let _0x183ac0=0x0;_0x183ac0<_0x3e4f51[_0x398c31(0x287)];_0x183ac0+=0x2){if(_0x476559==_0x3e4f51[_0x183ac0]&&_0x43386f[_0x398c31(0x206)](_0x476559)!=_0x3e4f51[_0x183ac0+0x1])return![];}}return!![];},_0x3c2c2b=function(_0x240a62,_0x12d195,_0x33c2e7){return _0x465d57(_0x12d195,_0x33c2e7,_0x240a62);},_0x2d0925=function(_0x189738,_0x468de6,_0x46d93b){return _0x3c2c2b(_0x468de6,_0x189738,_0x46d93b);},_0x29b755=function(_0x42d17a,_0x4e8dc0,_0x1d38e8){return _0x2d0925(_0x4e8dc0,_0x1d38e8,_0x42d17a);};for(let _0x3b6db7 in _0x5490cd){if(_0x465d57(_0x3b6db7,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3fef7e=_0x3b6db7;break;}}for(let _0xe366c0 in _0x5490cd[_0x3fef7e]){if(_0x29b755(0x6,_0xe366c0,[0x5,0x6e,0x0,0x64])){_0x230b41=_0xe366c0;break;}}for(let _0x1dc7b7 in _0x5490cd[_0x3fef7e]){if(_0x2d0925(_0x1dc7b7,[0x7,0x6e,0x0,0x6c],0x8)){_0x3fc7f1=_0x1dc7b7;break;}}if(!('~'>_0x230b41))for(let _0x4d8d06 in _0x5490cd[_0x3fef7e][_0x3fc7f1]){if(_0x3c2c2b([0x7,0x65,0x0,0x68],_0x4d8d06,0x8)){_0x415ac8=_0x4d8d06;break;}}if(!_0x3fef7e||!_0x5490cd[_0x3fef7e])return;const _0x4e343e=_0x5490cd[_0x3fef7e][_0x230b41],_0x1c303b=!!_0x5490cd[_0x3fef7e][_0x3fc7f1]&&_0x5490cd[_0x3fef7e][_0x3fc7f1][_0x415ac8],_0x3c50f1=_0x4e343e||_0x1c303b;if(!_0x3c50f1)return;let _0x348191=![];for(let _0x51f2c=0x0;_0x51f2c<_0x565e0e[_0x209537(0x287)];_0x51f2c++){const _0x3b5b89=_0x565e0e[_0x51f2c],_0xd23c1c=_0x3b5b89[0x0]===String[_0x209537(0x217)](0x2e)?_0x3b5b89[_0x209537(0x25e)](0x1):_0x3b5b89,_0xbb308f=_0x3c50f1[_0x209537(0x287)]-_0xd23c1c['length'],_0x559811=_0x3c50f1[_0x209537(0x251)](_0xd23c1c,_0xbb308f),_0x441c8c=_0x559811!==-0x1&&_0x559811===_0xbb308f;_0x441c8c&&((_0x3c50f1[_0x209537(0x287)]==_0x3b5b89[_0x209537(0x287)]||_0x3b5b89[_0x209537(0x251)]('.')===0x0)&&(_0x348191=!![]));}if(!_0x348191){const _0x21b767=new RegExp(_0x209537(0x209),'g'),_0x3e1dbb='aJQPbOFoJYKutq:bXNVlIOanXTkqwrPwUOUgpAFTN'[_0x209537(0x1ff)](_0x21b767,'');_0x5490cd[_0x3fef7e][_0x3fc7f1]=_0x3e1dbb;}});return _0x1f93d5(),document[_0x594a2e(0x282)](_0x5ef75d);}var fpsDiv=id(_0x14ed09(0x290));setInterval(function(){const _0x2ce7e5=_0x14ed09;fpsDiv[_0x2ce7e5(0x296)]=_0x2ce7e5(0x1fa)+fps,fpsDiv[_0x2ce7e5(0x296)]+=_0x2ce7e5(0x21d)+DTR['toPrecision'](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x5e6eb5=_0x14ed09;this['x']=Math[_0x5e6eb5(0x24b)]()*0x8-0x4|0x0,this['y']=Math[_0x5e6eb5(0x24b)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x429632=_0x14ed09;this['x']=0x0,this['y']=0x0,this[_0x429632(0x241)]=0x0,this[_0x429632(0x298)]=0x0,this[_0x429632(0x29a)]=0x0,this[_0x429632(0x23d)]=0x0,this['active']=!![],this['free']=!![],this[_0x429632(0x25c)]=!![],this[_0x429632(0x28c)]=0x0,this[_0x429632(0x1f8)]=0x0,this[_0x429632(0x237)]=0x1,this[_0x429632(0x256)]=0x0,this[_0x429632(0x23e)]=['#8b5851','#ff8db5'],this[_0x429632(0x2a3)]={'x':0x0,'y':0x0};}[_0x14ed09(0x268)](){const _0x107755=_0x14ed09;Math[_0x107755(0x26a)](this[_0x107755(0x298)]*0x3)>Math[_0x107755(0x26a)](this[_0x107755(0x28c)])&&(this[_0x107755(0x28c)]=this['xVel']*0x3,this[_0x107755(0x1f8)]=this[_0x107755(0x241)]*0x3),this[_0x107755(0x2a3)]['x']=this['x']+this['lengthX'],this['points']['y']=this['y']+this[_0x107755(0x1f8)],c[_0x107755(0x276)](this['x']+map['x'],this['y']+map['y']),c['lineTo'](this['x']+this['lengthX']+map['x'],this['y']+this['lengthY']+map['y']);}[_0x14ed09(0x266)](){const _0x42e111=_0x14ed09;this['x']+=this['xVel']/DTR,this['y']+=this['yVel']/DTR;if(getTileData(this['x'],this['y'])[_0x42e111(0x25b)])visualFxs['push'](new Explosion(this['x']+this[_0x42e111(0x298)],this['y']+this[_0x42e111(0x241)],this[_0x42e111(0x256)])),this[_0x42e111(0x256)]==0x2&&(screenShake[_0x42e111(0x203)]=0x5),this['xVel']=0x0,this['yVel']=0x0,this[_0x42e111(0x28c)]/=0x2,this['lengthY']/=0x2,this[_0x42e111(0x22b)]=![];else for(let _0x3709ea=monsters[_0x42e111(0x287)]-0x1;_0x3709ea>=0x0;_0x3709ea--){let _0x4f838d=monsters[_0x3709ea];!_0x4f838d[_0x42e111(0x262)]&&_0x4f838d[_0x42e111(0x224)]&&((pointSquareCol(this,_0x4f838d)||pointSquareCol(this[_0x42e111(0x2a3)],_0x4f838d))&&(this[_0x42e111(0x269)]=![],_0x4f838d[_0x42e111(0x204)]=this[_0x42e111(0x298)]/0x2,_0x4f838d['yVelExt']=this[_0x42e111(0x241)]/0x2,visualFxs[_0x42e111(0x22c)](new Explosion(this['x'],this['y'],this[_0x42e111(0x256)])),this[_0x42e111(0x256)]==0x2&&(screenShake[_0x42e111(0x203)]=0x5),this[_0x42e111(0x298)]=0x0,this[_0x42e111(0x241)]=0x0,this[_0x42e111(0x29a)]=this['x']-_0x4f838d['x'],this[_0x42e111(0x23d)]=this['y']-_0x4f838d['y'],_0x4f838d[_0x42e111(0x1f5)][_0x42e111(0x22c)](this),_0x4f838d['hp']-=this['damage'],_0x4f838d[_0x42e111(0x26e)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x57f54d=_0x14ed09;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x57f54d(0x241)]=0x0,this[_0x57f54d(0x298)]=0x0,this[_0x57f54d(0x22b)]=!![],this[_0x57f54d(0x25c)]=![],this[_0x57f54d(0x1f7)]=id(_0x57f54d(0x1f7)),this['actionX']=[0x5],this[_0x57f54d(0x291)]=[0x18],this['type']=0x0,this[_0x57f54d(0x237)]=0x5;}[_0x14ed09(0x266)](){const _0x192d51=_0x14ed09;this['x']+=this['xVel']/DTR,this['y']+=this[_0x192d51(0x241)]/DTR,getTileData(this['x'],this['y'])[_0x192d51(0x25b)]?(enemyProjectiles[_0x192d51(0x2a0)](enemyProjectiles[_0x192d51(0x251)](this),0x1),visualFxs[_0x192d51(0x22c)](new Explosion(this['x']+this[_0x192d51(0x298)],this['y']+this['yVel'],0x1)),this[_0x192d51(0x298)]=0x0,this[_0x192d51(0x241)]=0x0,this[_0x192d51(0x28c)]/=0x2,this[_0x192d51(0x1f8)]/=0x2,this[_0x192d51(0x22b)]=![]):pointSquareCol(this,player)&&(enemyProjectiles['splice'](enemyProjectiles[_0x192d51(0x251)](this),0x1),player[_0x192d51(0x204)]+=this[_0x192d51(0x298)]/0x2,player[_0x192d51(0x284)]+=this[_0x192d51(0x241)]/0x2,player['hp']-=this['damage'],visualFxs['push'](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x192d51(0x203)]=0x5);}['draw'](){const _0x1c52f4=_0x14ed09;c[_0x1c52f4(0x232)](this[_0x1c52f4(0x1f7)],this[_0x1c52f4(0x29f)][this[_0x1c52f4(0x20b)]]*TILESIZE,this[_0x1c52f4(0x291)][this[_0x1c52f4(0x20b)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x5070e6,_0x3364f1,_0x139cb6){const _0x50df94=_0x14ed09;this['sheet']=id(_0x50df94(0x1f7)),this['x']=_0x5070e6-0x10,this['y']=_0x3364f1-0x10,this['w']=0x20,this['h']=0x20,this['frameCounter']=0x0,this[_0x50df94(0x20c)]=0x0,this[_0x50df94(0x261)]=_0x139cb6-0x1,this[_0x50df94(0x29f)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this['actionY']=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this['slowness']=0x4,this[_0x50df94(0x218)]=![];}[_0x14ed09(0x268)](){const _0x3dae00=_0x14ed09;c['drawImage'](this[_0x3dae00(0x1f7)],this[_0x3dae00(0x29f)][this[_0x3dae00(0x261)]][this[_0x3dae00(0x20c)]],this[_0x3dae00(0x291)][this[_0x3dae00(0x261)]][this[_0x3dae00(0x20c)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this['frameCounter']++,this['frameCounter']>this[_0x3dae00(0x27a)]*DTR&&(this[_0x3dae00(0x20e)]=0x0,this[_0x3dae00(0x20c)]++,this[_0x3dae00(0x20c)]>this['actionX'][this[_0x3dae00(0x261)]][_0x3dae00(0x287)]-0x1&&(this[_0x3dae00(0x218)]=!![]));}}class Collidable{constructor(){}[_0x14ed09(0x225)](){const _0x1dd3be=_0x14ed09;let _0x1f7fbe;this[_0x1dd3be(0x1fc)]['T']=0x0,this['col']['B']=0x0,this['col']['L']=0x0,this[_0x1dd3be(0x1fc)]['R']=0x0,getTileData(this['x'],this['y'])[_0x1dd3be(0x226)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x1f7fbe=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x1dd3be(0x1fc)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x1dd3be(0x1fc)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])['unpassable']&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x1f7fbe=colCheck(this,generatedSquare),this['x']+=(this[_0x1dd3be(0x1fc)]['L']-this[_0x1dd3be(0x1fc)]['R'])/0x5/DTR,this['y']+=(this[_0x1dd3be(0x1fc)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x1dd3be(0x226)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x1f7fbe=colCheck(this,generatedSquare),this['x']+=(this[_0x1dd3be(0x1fc)]['L']-this[_0x1dd3be(0x1fc)]['R'])/0x5/DTR,this['y']+=(this[_0x1dd3be(0x1fc)]['T']-this[_0x1dd3be(0x1fc)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x1dd3be(0x226)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x1f7fbe=colCheck(this,generatedSquare),this['x']+=(this[_0x1dd3be(0x1fc)]['L']-this[_0x1dd3be(0x1fc)]['R'])/0x5/DTR,this['y']+=(this[_0x1dd3be(0x1fc)]['T']-this[_0x1dd3be(0x1fc)]['B'])/0x5/DTR),this[_0x1dd3be(0x1fc)]['B']&&(this[_0x1dd3be(0x284)]>0x0&&(this[_0x1dd3be(0x284)]*=-0.5)),this[_0x1dd3be(0x1fc)]['T']&&(this[_0x1dd3be(0x284)]<0x0&&(this[_0x1dd3be(0x284)]*=-0.5)),this[_0x1dd3be(0x1fc)]['R']&&(this['xVelExt']>0x0&&(this[_0x1dd3be(0x204)]*=-0.5)),this[_0x1dd3be(0x1fc)]['L']&&(this[_0x1dd3be(0x204)]<0x0&&(this[_0x1dd3be(0x204)]*=-0.5));}}class Player extends Collidable{constructor(_0x33e341,_0x3faff9){const _0x3d0673=_0x14ed09;super(Collidable),this['x']=_0x33e341,this['y']=_0x3faff9,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x3d0673(0x25a)]=0x3,this['yVel']=0x0,this[_0x3d0673(0x298)]=0x0,this[_0x3d0673(0x284)]=0x0,this[_0x3d0673(0x204)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x3d0673(0x271)]=0xa,this[_0x3d0673(0x285)]=0x0,this['centerY']=0x0,this[_0x3d0673(0x1fc)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x3d0673(0x29f)]=[0x0,0x20,0x40],this['actionY']=[0x0,0x0,0x0],this[_0x3d0673(0x261)]=0x0,this['frameCounter']=0x0,this[_0x3d0673(0x27a)]=0x6,this[_0x3d0673(0x28d)]=0x0,this['sword']=![],this[_0x3d0673(0x1fd)]=0x14,this[_0x3d0673(0x231)]=0x0,this['attacked']=0x0,this[_0x3d0673(0x279)]=[0x1,0x1,0x1,0x1,0x1],this[_0x3d0673(0x27f)]=0x3c,this[_0x3d0673(0x239)]=0x0,this[_0x3d0673(0x260)]=0x4,this['hp']=0x64,this[_0x3d0673(0x230)]=0x64,this['mp']=0x64,this[_0x3d0673(0x29d)]=0x64,this[_0x3d0673(0x236)]=0.25,this[_0x3d0673(0x24d)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}[_0x14ed09(0x1f4)](){const _0x5e87c4=_0x14ed09;let _0x4a9d93=!![],_0x2f207a;for(_0x2f207a=0x0;_0x2f207a<this[_0x5e87c4(0x279)]['length'];_0x2f207a++){if(this[_0x5e87c4(0x279)][_0x2f207a]===0x0){_0x4a9d93=![];break;}}this['arrowsCount']=_0x2f207a;if(!_0x4a9d93){this[_0x5e87c4(0x239)]++;if(this[_0x5e87c4(0x239)]>this[_0x5e87c4(0x27f)]*DTR)for(_0x2f207a=0x0;_0x2f207a<this[_0x5e87c4(0x279)]['length'];_0x2f207a++){if(this[_0x5e87c4(0x279)][_0x2f207a]===0x0){Math[_0x5e87c4(0x24b)]()<this[_0x5e87c4(0x236)]?this[_0x5e87c4(0x279)][_0x2f207a]=0x2:this[_0x5e87c4(0x279)][_0x2f207a]=0x1;this[_0x5e87c4(0x239)]=0x0;break;}}}else this[_0x5e87c4(0x239)]=0x0;}[_0x14ed09(0x266)](){const _0x35d366=_0x14ed09;this['computeQuiver'](),this[_0x35d366(0x285)]=this['x']+this['w']/0x2,this[_0x35d366(0x21c)]=this['y']+this['h']/0x2,this[_0x35d366(0x225)]();Math[_0x35d366(0x26a)](this[_0x35d366(0x204)])>0.01?this[_0x35d366(0x204)]-=this['xVelExt']*0.1/DTR:this[_0x35d366(0x204)]=0x0;Math['abs'](this['yVelExt'])>0.01?this[_0x35d366(0x284)]-=this[_0x35d366(0x284)]*0.1/DTR:this[_0x35d366(0x284)]=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x35d366(0x25a)]=0x2:this[_0x35d366(0x25a)]=0x3;this[_0x35d366(0x28d)]=Math[_0x35d366(0x24a)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x35d366(0x298)]=-this['speed'];else!this['R']&&(this[_0x35d366(0x298)]=0x0);if(this['R'])this[_0x35d366(0x298)]=this[_0x35d366(0x25a)];else!this['L']&&(this['xVel']=0x0);if(this['T'])this[_0x35d366(0x241)]=-this[_0x35d366(0x25a)];else!this['B']&&(this[_0x35d366(0x241)]=0x0);if(this['B'])this[_0x35d366(0x241)]=this['speed'];else!this['T']&&(this[_0x35d366(0x241)]=0x0);this['x']+=(this[_0x35d366(0x298)]+this[_0x35d366(0x204)])/DTR,this['y']+=(this[_0x35d366(0x241)]+this[_0x35d366(0x284)])/DTR;}[_0x14ed09(0x268)](){const _0x212e6a=_0x14ed09;this['xVel']===0x0&&this[_0x212e6a(0x241)]===0x0?this[_0x212e6a(0x261)]=0x0:(this['frameCounter']++,this[_0x212e6a(0x20e)]>=this[_0x212e6a(0x27a)]*DTR&&(this[_0x212e6a(0x261)]++,this[_0x212e6a(0x20e)]=0x0,this[_0x212e6a(0x261)]>=this[_0x212e6a(0x29f)]['length']&&(this['action']=0x0))),c[_0x212e6a(0x1f9)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c['rotate'](this[_0x212e6a(0x28d)]),c[_0x212e6a(0x232)](id('player'),this['actionX'][this[_0x212e6a(0x261)]],this[_0x212e6a(0x291)][this[_0x212e6a(0x261)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x212e6a(0x283)](),this[_0x212e6a(0x231)]&&(c['drawImage'](id(_0x212e6a(0x1f7)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x212e6a(0x231)]--),this[_0x212e6a(0x24d)][_0x212e6a(0x269)]&&this[_0x212e6a(0x213)]();}[_0x14ed09(0x213)](){const _0x1993c8=_0x14ed09;this['bow'][_0x1993c8(0x20e)]++,this[_0x1993c8(0x24d)][_0x1993c8(0x20e)]>=this['bow'][_0x1993c8(0x27a)]*DTR&&(this[_0x1993c8(0x24d)]['action']++,this['bow'][_0x1993c8(0x20e)]=0x0,this[_0x1993c8(0x24d)]['active']>=this['bow'][_0x1993c8(0x29f)]['length']&&(this[_0x1993c8(0x24d)][_0x1993c8(0x269)]=![])),c[_0x1993c8(0x1f9)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c['rotate'](this[_0x1993c8(0x28d)]),c[_0x1993c8(0x232)](id(_0x1993c8(0x24d)),this[_0x1993c8(0x24d)][_0x1993c8(0x29f)][this[_0x1993c8(0x24d)][_0x1993c8(0x261)]],this['bow'][_0x1993c8(0x291)][this['bow'][_0x1993c8(0x261)]],0x30,0x30,-this[_0x1993c8(0x24d)]['w']/0x2,-this[_0x1993c8(0x24d)]['h'],this[_0x1993c8(0x24d)]['w'],this[_0x1993c8(0x24d)]['h']),c[_0x1993c8(0x283)]();}['shoot'](){const _0x4d280b=_0x14ed09;this[_0x4d280b(0x24d)][_0x4d280b(0x269)]=!![],this[_0x4d280b(0x24d)][_0x4d280b(0x20e)]=0x0,this[_0x4d280b(0x24d)][_0x4d280b(0x20c)]=0x0,this[_0x4d280b(0x24d)][_0x4d280b(0x261)]=0x0;let _0x4c86d6=this['x']+this['w']/0x2,_0x4af1cc=this['y']+this['h']/0x2,_0x1eef8a=Mouse['x']-_0x4c86d6+Math[_0x4d280b(0x24b)]()*this['precision']-this[_0x4d280b(0x1fd)]/0x2,_0x5c1ed1=Mouse['y']-_0x4af1cc+Math[_0x4d280b(0x24b)]()*this[_0x4d280b(0x1fd)]-this['precision']/0x2,_0x2e321a=Math['atan2'](_0x5c1ed1,_0x1eef8a),_0x2280ee=Math[_0x4d280b(0x264)](_0x2e321a),_0x1506b2=Math[_0x4d280b(0x234)](_0x2e321a),_0xdb0354=new Projectile();_0xdb0354[_0x4d280b(0x298)]=_0x2280ee*this[_0x4d280b(0x271)],_0xdb0354[_0x4d280b(0x241)]=_0x1506b2*this[_0x4d280b(0x271)],_0xdb0354['x']=_0x4c86d6,_0xdb0354['y']=_0x4af1cc,_0xdb0354[_0x4d280b(0x256)]=this[_0x4d280b(0x279)][0x0],playerArrows[_0x4d280b(0x22c)](_0xdb0354),this[_0x4d280b(0x279)]['shift'](),this[_0x4d280b(0x279)][_0x4d280b(0x22c)](0x0);}['attack'](){const _0xb4d890=_0x14ed09;if(!sword[_0xb4d890(0x269)]){sword[_0xb4d890(0x269)]=!![],sword[_0xb4d890(0x200)]=this['radians'];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x325227=this['x']+this['w']/0x2,_0x59c7fb=this['y']+this['h']/0x2,_0x33456a=returnCosine(Mouse['x'],Mouse['y'],_0x325227,_0x59c7fb);this[_0xb4d890(0x204)]=_0x33456a[_0xb4d890(0x264)]*0xe,this[_0xb4d890(0x284)]=_0x33456a[_0xb4d890(0x234)]*0xe;}}}}var player=new Player(CANVAS[_0x14ed09(0x21b)]/0x2,CANVAS['height']/0x4*0x3);class UserInterface{constructor(){const _0x599640=_0x14ed09;this[_0x599640(0x1f7)]=id(_0x599640(0x219)),this['x']=0x14,this['y']=0x5,this[_0x599640(0x212)]=![],this[_0x599640(0x297)]=![],this[_0x599640(0x20d)]=0x0,this[_0x599640(0x295)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this['portrait']={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0x599640(0x229)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0x599640(0x243)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x599640(0x24d)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x599640(0x27b)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x599640(0x24e)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x599640(0x279)]=[0x1,0x1,0x1,0x1];}['draw'](){const _0x560ed0=_0x14ed09;this[_0x560ed0(0x212)]&&(c['globalAlpha']=0.5);c[_0x560ed0(0x232)](this[_0x560ed0(0x1f7)],this[_0x560ed0(0x24d)][_0x560ed0(0x253)]['x'],this[_0x560ed0(0x24d)][_0x560ed0(0x253)]['y'],this['bow']['crop']['w'],this['bow'][_0x560ed0(0x253)]['h'],this[_0x560ed0(0x24d)][_0x560ed0(0x275)]['x'],this['bow'][_0x560ed0(0x275)]['y'],this[_0x560ed0(0x24d)][_0x560ed0(0x253)]['w'],this[_0x560ed0(0x24d)][_0x560ed0(0x253)]['h']);this[_0x560ed0(0x212)]&&(c[_0x560ed0(0x27d)]=0x1);this[_0x560ed0(0x297)]&&(c[_0x560ed0(0x27d)]=0.5);c['drawImage'](this[_0x560ed0(0x1f7)],this['sword'][_0x560ed0(0x253)]['x'],this[_0x560ed0(0x27b)]['crop']['y'],this[_0x560ed0(0x27b)][_0x560ed0(0x253)]['w'],this['sword'][_0x560ed0(0x253)]['h'],this['sword'][_0x560ed0(0x275)]['x'],this['sword'][_0x560ed0(0x275)]['y'],this[_0x560ed0(0x27b)][_0x560ed0(0x253)]['w'],this[_0x560ed0(0x27b)][_0x560ed0(0x253)]['h']);this[_0x560ed0(0x297)]&&(c['globalAlpha']=0x1);c['drawImage'](this[_0x560ed0(0x1f7)],this[_0x560ed0(0x295)]['crop']['x'],this[_0x560ed0(0x295)][_0x560ed0(0x253)]['y'],this[_0x560ed0(0x295)][_0x560ed0(0x253)]['w'],this[_0x560ed0(0x295)][_0x560ed0(0x253)]['h'],this[_0x560ed0(0x295)][_0x560ed0(0x275)]['x']+this['x'],this[_0x560ed0(0x295)]['pos']['y']+this['y'],this[_0x560ed0(0x295)][_0x560ed0(0x253)]['w'],this[_0x560ed0(0x295)][_0x560ed0(0x253)]['h']),c[_0x560ed0(0x232)](this['sheet'],this['portrait'][_0x560ed0(0x253)][player[_0x560ed0(0x20d)]]['x'],this[_0x560ed0(0x257)][_0x560ed0(0x253)][player[_0x560ed0(0x20d)]]['y'],this[_0x560ed0(0x257)][_0x560ed0(0x253)][player[_0x560ed0(0x20d)]]['w'],this[_0x560ed0(0x257)][_0x560ed0(0x253)][player['attacked']]['h'],this['portrait']['pos']['x']+this['x'],this['portrait']['pos']['y']+this['y'],this['portrait'][_0x560ed0(0x253)][player[_0x560ed0(0x20d)]]['w'],this[_0x560ed0(0x257)]['crop'][player[_0x560ed0(0x20d)]]['h']),c[_0x560ed0(0x232)](this[_0x560ed0(0x1f7)],this['hpBar'][_0x560ed0(0x253)]['x'],this[_0x560ed0(0x229)][_0x560ed0(0x253)]['y'],this[_0x560ed0(0x229)][_0x560ed0(0x253)]['w'],this[_0x560ed0(0x229)]['crop']['h'],this[_0x560ed0(0x229)][_0x560ed0(0x275)]['x']+this['x'],this[_0x560ed0(0x229)][_0x560ed0(0x275)]['y']+this['y'],this[_0x560ed0(0x229)][_0x560ed0(0x253)]['w']/player[_0x560ed0(0x230)]*player['hp'],this[_0x560ed0(0x229)]['crop']['h']),c['drawImage'](this[_0x560ed0(0x1f7)],this[_0x560ed0(0x243)][_0x560ed0(0x253)]['x'],this[_0x560ed0(0x243)][_0x560ed0(0x253)]['y'],this['mpBar'][_0x560ed0(0x253)]['w'],this[_0x560ed0(0x243)][_0x560ed0(0x253)]['h'],this[_0x560ed0(0x243)][_0x560ed0(0x275)]['x']+this['x'],this['mpBar'][_0x560ed0(0x275)]['y']+this['y'],this[_0x560ed0(0x243)]['crop']['w'],this[_0x560ed0(0x243)]['crop']['h']);for(let _0x29ab39=0x0;_0x29ab39<player[_0x560ed0(0x279)][_0x560ed0(0x287)];_0x29ab39++){c[_0x560ed0(0x232)](this[_0x560ed0(0x1f7)],this['arrow'][_0x560ed0(0x253)][player[_0x560ed0(0x279)][_0x29ab39]]['x'],this[_0x560ed0(0x24e)]['crop'][player[_0x560ed0(0x279)][_0x29ab39]]['y'],this[_0x560ed0(0x24e)][_0x560ed0(0x253)][player[_0x560ed0(0x279)][_0x29ab39]]['w'],this[_0x560ed0(0x24e)][_0x560ed0(0x253)][player[_0x560ed0(0x279)][_0x29ab39]]['h'],this['arrow'][_0x560ed0(0x275)]['x']+this['x']-0xa*_0x29ab39,this['arrow'][_0x560ed0(0x275)]['y']+this['y'],this[_0x560ed0(0x24e)][_0x560ed0(0x253)][player[_0x560ed0(0x279)][_0x29ab39]]['w'],this[_0x560ed0(0x24e)][_0x560ed0(0x253)][player[_0x560ed0(0x279)][_0x29ab39]]['h']);}c[_0x560ed0(0x227)]=_0x560ed0(0x246),c['textAlign']=_0x560ed0(0x222),c['fillStyle']=_0x560ed0(0x258),c[_0x560ed0(0x26b)](player[_0x560ed0(0x260)]+'/'+player[_0x560ed0(0x279)][_0x560ed0(0x287)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x3d41e8=_0x14ed09;let _0x416de9=player['x']+player['w']/0x2,_0x5c703f=player['y']+player['h']/0x2,_0x24f4aa=_0x416de9,_0x4e289b=_0x5c703f,_0x16f212=![],_0x2f39fc=0x0,_0x307cf3=returnCosine(_0x416de9,_0x5c703f,Mouse['x'],Mouse['y']),_0xdc10ac=[],_0x47a06e={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x1dc21e={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0xbe1dc1=0x4,_0x172333={'x':0x0,'y':0x0};while(!_0x16f212&&_0x2f39fc<CANVAS[_0x3d41e8(0x21b)]*0x2/_0xbe1dc1){_0x24f4aa-=_0x307cf3[_0x3d41e8(0x264)]*_0xbe1dc1,_0x4e289b-=_0x307cf3[_0x3d41e8(0x234)]*_0xbe1dc1;getTileData(_0x24f4aa,_0x4e289b)[_0x3d41e8(0x25b)]&&(_0x47a06e=getTileData(_0x24f4aa,_0x4e289b)['hitbox'],_0x1dc21e['x']=_0x47a06e['x'],_0x1dc21e['y']=_0x47a06e['y'],_0x1dc21e['w']=_0x47a06e['w'],_0x1dc21e['h']=_0x47a06e['h'],_0x1dc21e['x']+=_0x24f4aa-_0x24f4aa%TILESIZE,_0x1dc21e['y']+=_0x4e289b-_0x4e289b%TILESIZE,_0x16f212=!![]);_0x172333['x']=_0x24f4aa,_0x172333['y']=_0x4e289b;for(let _0x29f6e3=0x0;_0x29f6e3<monsters[_0x3d41e8(0x287)];_0x29f6e3++){if(!monsters[_0x29f6e3]['dead']&&pointSquareCol(_0x172333,monsters[_0x29f6e3])){_0x1dc21e['x']=monsters[_0x29f6e3]['x'],_0x1dc21e['y']=monsters[_0x29f6e3]['y'],_0x1dc21e['w']=monsters[_0x29f6e3]['w'],_0x1dc21e['h']=monsters[_0x29f6e3]['h'],_0x16f212=!![];break;}}_0x2f39fc++;}_0xdc10ac=getRectSides(_0x1dc21e);let _0x4c0201=[],_0x3f5bf4={},_0x29d50f;for(let _0x360fad=0x0;_0x360fad<_0xdc10ac[_0x3d41e8(0x287)];_0x360fad++){_0x3f5bf4=intersect(_0x416de9,_0x5c703f,_0x24f4aa,_0x4e289b,_0xdc10ac[_0x360fad]['x1'],_0xdc10ac[_0x360fad]['y1'],_0xdc10ac[_0x360fad]['x2'],_0xdc10ac[_0x360fad]['y2']),_0x3f5bf4&&_0x4c0201[_0x3d41e8(0x22c)](_0x3f5bf4);}let _0x11db30=Math['hypot'](_0x416de9-_0x24f4aa,_0x5c703f-_0x4e289b),_0x523d3f=_0x24f4aa,_0x4443fa=_0x24f4aa;for(let _0x2c8eb1=0x0;_0x2c8eb1<_0x4c0201['length'];_0x2c8eb1++){_0x29d50f=Math[_0x3d41e8(0x26c)](_0x416de9-_0x24f4aa,_0x5c703f-_0x4e289b),_0x29d50f<_0x11db30&&(_0x11db30=_0x29d50f,_0x523d3f=_0x4c0201[_0x2c8eb1]['x'],_0x4443fa=_0x4c0201[_0x2c8eb1]['y']);}c[_0x3d41e8(0x233)]=_0x3d41e8(0x288),c['beginPath'](),c[_0x3d41e8(0x276)](_0x416de9+map['x'],_0x5c703f+map['y']),c[_0x3d41e8(0x26f)](_0x24f4aa+map['x'],_0x4e289b+map['y']),c[_0x3d41e8(0x20f)](),c[_0x3d41e8(0x233)]=_0x3d41e8(0x28b);}function isObstructed(_0x31b950,_0x4dffbc){const _0x3340db=_0x14ed09;let _0x1579eb=_0x31b950['x']+_0x31b950['w']/0x2,_0x463ad9=_0x31b950['y']+_0x31b950['h']/0x2,_0x97ef5d=_0x4dffbc['x']+_0x4dffbc['w']/0x2,_0x2509a6=_0x4dffbc['y']+_0x4dffbc['h']/0x2,_0x4a0bdb=Math[_0x3340db(0x26c)](_0x1579eb-_0x97ef5d,_0x463ad9-_0x2509a6),_0x5e98a4=_0x1579eb,_0x352f56=_0x463ad9,_0x478916=![],_0x2ba010=0x0,_0x313aee=returnCosine(_0x1579eb,_0x463ad9,_0x97ef5d,_0x2509a6),_0x422213=[],_0x42c07d={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x1f6e70={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x34387d=0x3,_0x24037b={'x':0x0,'y':0x0};while(!_0x478916&&_0x2ba010<_0x4a0bdb/_0x34387d){_0x5e98a4-=_0x313aee[_0x3340db(0x264)]*_0x34387d,_0x352f56-=_0x313aee[_0x3340db(0x234)]*_0x34387d;if(getTileData(_0x5e98a4,_0x352f56)[_0x3340db(0x25b)])return _0x42c07d=getTileData(_0x5e98a4,_0x352f56)[_0x3340db(0x280)],_0x1f6e70['x']=_0x42c07d['x'],_0x1f6e70['y']=_0x42c07d['y'],_0x1f6e70['w']=_0x42c07d['w'],_0x1f6e70['h']=_0x42c07d['h'],_0x1f6e70['x']+=_0x5e98a4-_0x5e98a4%TILESIZE,_0x1f6e70['y']+=_0x352f56-_0x352f56%TILESIZE,!![];_0x24037b['x']=_0x5e98a4,_0x24037b['y']=_0x352f56;if(pointSquareCol(_0x24037b,_0x4dffbc))return![];_0x2ba010++;}}function getRectSides(_0x2da760){const _0x366aee=_0x14ed09;let _0x5d77d1=[];return _0x5d77d1[_0x366aee(0x22c)]({'x1':_0x2da760['x'],'y1':_0x2da760['y'],'x2':_0x2da760['x']+_0x2da760['w'],'y2':_0x2da760['y']}),_0x5d77d1[_0x366aee(0x22c)]({'x1':_0x2da760['x']+_0x2da760['w'],'y1':_0x2da760['y'],'x2':_0x2da760['x']+_0x2da760['w'],'y2':_0x2da760['y']+_0x2da760['h']}),_0x5d77d1[_0x366aee(0x22c)]({'x1':_0x2da760['x']+_0x2da760['w'],'y1':_0x2da760['y']+_0x2da760['h'],'x2':_0x2da760['x'],'y2':_0x2da760['y']+_0x2da760['h']}),_0x5d77d1[_0x366aee(0x22c)]({'x1':_0x2da760['x'],'y1':_0x2da760['y']+_0x2da760['h'],'x2':_0x2da760['x'],'y2':_0x2da760['y']}),_0x5d77d1;}function init(){const _0x3fb853=_0x14ed09;let _0x3ac6db,_0x40197a={};fetch(_0x3fb853(0x22f))[_0x3fb853(0x278)](function(_0x47b41d){return _0x47b41d['json']();})[_0x3fb853(0x278)](function(_0x41114b){const _0x1e8873=_0x3fb853;_0x3ac6db=_0x41114b[_0x1e8873(0x21a)];for(let _0x1d144f=0x0;_0x1d144f<_0x3ac6db[_0x1e8873(0x287)];_0x1d144f++){_0x40197a={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x40197a['id']=_0x3ac6db[_0x1d144f]['id'];if(_0x3ac6db[_0x1d144f][_0x1e8873(0x29c)]('properties'))for(let _0x5988f2=0x0;_0x5988f2<_0x3ac6db[_0x1d144f][_0x1e8873(0x255)][_0x1e8873(0x287)];_0x5988f2++){if(_0x3ac6db[_0x1d144f][_0x1e8873(0x255)][_0x5988f2])switch(_0x3ac6db[_0x1d144f][_0x1e8873(0x255)][_0x5988f2][_0x1e8873(0x289)]){case _0x1e8873(0x273):_0x40197a[_0x1e8873(0x273)]=!![],_0x40197a[_0x1e8873(0x226)]=!![];break;case _0x1e8873(0x25b):_0x40197a[_0x1e8873(0x25b)]=!![],_0x40197a[_0x1e8873(0x226)]=!![];break;}}TilesData[_0x1e8873(0x22c)](_0x40197a);}loop();});}init();var HP_BAR=id(_0x14ed09(0x201));function renderHpBars(){const _0x56139e=_0x14ed09;for(let _0x454a53=0x0;_0x454a53<monsters[_0x56139e(0x287)];_0x454a53++){if(monsters[_0x454a53][_0x56139e(0x262)])continue;let _0x4a4a66=monsters[_0x454a53]['hp']/monsters[_0x454a53][_0x56139e(0x230)],_0x1fb637=Math['round'](TILESIZE*_0x4a4a66);c[_0x56139e(0x232)](HP_BAR,0x0,0x4,_0x1fb637,0x4,monsters[_0x454a53]['x']+monsters[_0x454a53]['w']/0x2-0x10+map['x']|0x0,monsters[_0x454a53]['y']-0x8+map['y']|0x0,_0x1fb637|0x0,0x4|0x0),c['drawImage'](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x454a53]['x']+monsters[_0x454a53]['w']/0x2-0x10+map['x']|0x0,monsters[_0x454a53]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x467369=_0x14ed09;this[_0x467369(0x21b)]=0x17,this['height']=0xf,this['x']=0x0,this['y']=0x0,this[_0x467369(0x21a)]=maps['m1'],this['sheet']=id('sheet'),this[_0x467369(0x27e)]=id(_0x467369(0x27e));}[_0x14ed09(0x268)](){const _0x30ce1f=_0x14ed09;for(let _0x3e5cd2=0x0;_0x3e5cd2<this[_0x30ce1f(0x21a)]['length'];_0x3e5cd2++){_0x3e5cd2==0x1&&c['drawImage'](this['grass'],0x0+this['x'],0x0+this['y'],CANVAS[_0x30ce1f(0x21b)],CANVAS[_0x30ce1f(0x263)]);for(let _0x57d797=0x0;_0x57d797<this[_0x30ce1f(0x21a)][_0x3e5cd2]['length'];_0x57d797++){if(this[_0x30ce1f(0x21a)][_0x3e5cd2][_0x57d797]===0x0)continue;c[_0x30ce1f(0x232)](this[_0x30ce1f(0x1f7)],(this[_0x30ce1f(0x21a)][_0x3e5cd2][_0x57d797]-0x1)%0xf*TILESIZE,((this[_0x30ce1f(0x21a)][_0x3e5cd2][_0x57d797]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x57d797%this['width']*TILESIZE+map['x'],(_0x57d797/this[_0x30ce1f(0x21b)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();function _0x1c53(){const _0x3cb076=['./Archer.json','maxHp','noArrows','drawImage','strokeStyle','sin','split','critChance','damage','left','arrowCounter','createGrid','clearRect','player.x\x20=\x20','yRel','colors','<br>mouseTile.y\x20=\x20','Start','yVel','40ykNCie','mpBar','justDied','131915lvnhLE','14px\x20Arial','546042DeGRec','log','stats','atan2','random','Empty','bow','arrow','keydown','attacking','indexOf','path','crop','keyCode','properties','color','portrait','#2f4447','apply','speed','solid','friendly','621720Koikgf','slice','style','arrowsCount','action','dead','height','cos','shoot','compute','headY','draw','active','abs','fillText','hypot','projSpeed','justDamaged','lineTo','attack','arrowSpeed','atkBox','hole','18TJOmnx','pos','moveTo','2918699CxirKV','then','arrowsArr','slowness','sword','justShot','globalAlpha','grass','arrowCD','hitbox','offsetLeft','getElementById','restore','yVelExt','centerX','{}.constructor(\x22return\x20this\x22)(\x20)','length','#ff0000','name','clientX','black','lengthX','radians','36kFsamB','top','FPS','actionY','now','vfxX','headX','layout','innerHTML','rClick','xVel','<br>player.y\x20=\x20','xRel','followPlayer','hasOwnProperty','maxMp','innerWidth','actionX','splice','keyup','framecounter','points','sword-vfx','computeQuiver','arrows','onclick','sheet','lengthY','save','FPS:\x20','translate','col','precision','<br>mouseTile\x20id\x20=\x20','replace','radiansP','hp-bar','1663758hFFEmI','counter','xVelExt','vfxY','charCodeAt','[IFpVNFJmZDODxDVVFOyyOqBQMNGAvAAXOTUfxWZqMKIWyTMKYTJzqqOQWTDQpzwAQMDf]','beginPath','[JQPOFJYKqXNVIOXTqwrPwUOUgpAFTN]','set','type','currentFrame','attacked','frameCounter','stroke','return\x20(function()\x20','getContext','lClick','drawBow','button','rotate','25646588utfNrh','fromCharCode','ended','ui-sheet','tiles','width','centerY','<br>DTR:\x20','mousemove','closePath','addEventListener','51613XNkVNu','center','2EaMDOx','collidable','checkCollisions','unpassable','font','sort','hpBar','canvas','free','push','swordImg','offsetTop'];_0x1c53=function(){return _0x3cb076;};return _0x1c53();}class Sword{constructor(){const _0x373f27=_0x14ed09;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x373f27(0x28d)]=0x2,this[_0x373f27(0x200)]=0x0,this[_0x373f27(0x29f)]=[0x0],this[_0x373f27(0x291)]=[0x0],this[_0x373f27(0x293)]=[0x0,0x0,0x0,0x0],this[_0x373f27(0x205)]=[0x0,0x80,0x100,0x180],this[_0x373f27(0x20c)]=0x0,this[_0x373f27(0x20e)]=0x0,this['action']=0x0,this[_0x373f27(0x27a)]=0x3,this[_0x373f27(0x269)]=![],this[_0x373f27(0x1f7)]=id(_0x373f27(0x2a4)),this['swordImg']=id(_0x373f27(0x27b));}[_0x14ed09(0x266)](){const _0x5ac104=_0x14ed09;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x51c5c7,_0x59e7ba,_0x3f2a55;for(let _0x11f9b3=0x0;_0x11f9b3<monsters[_0x5ac104(0x287)];_0x11f9b3++){if(monsters[_0x11f9b3][_0x5ac104(0x262)]||!monsters[_0x11f9b3]['collidable'])continue;_0x51c5c7=monsters[_0x11f9b3]['hitbox']['x']+monsters[_0x11f9b3]['hitbox']['w']/0x2,_0x59e7ba=monsters[_0x11f9b3][_0x5ac104(0x280)]['y']+monsters[_0x11f9b3][_0x5ac104(0x280)]['h']/0x2,_0x3f2a55=(monsters[_0x11f9b3]['w']+monsters[_0x11f9b3]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x51c5c7,_0x59e7ba,_0x3f2a55)){let _0x4762d9=this['x']+this['w']/0x2,_0x2d00c1=this['y']+this['h']/0x2,_0xacd1df=monsters[_0x11f9b3]['x']-_0x4762d9,_0x29653e=monsters[_0x11f9b3]['y']-_0x2d00c1,_0x4322e9=Math[_0x5ac104(0x24a)](_0x29653e,_0xacd1df),_0x480328=Math[_0x5ac104(0x264)](_0x4322e9),_0x4a2f9e=Math[_0x5ac104(0x234)](_0x4322e9);monsters[_0x11f9b3][_0x5ac104(0x204)]=_0x480328*0xa,monsters[_0x11f9b3][_0x5ac104(0x284)]=_0x4a2f9e*0xa,monsters[_0x11f9b3]['hp']-=0.25,monsters[_0x11f9b3]['justDamaged']=0xf;}}}[_0x14ed09(0x268)](){const _0x18b2aa=_0x14ed09;this['frameCounter']++,this[_0x18b2aa(0x20e)]>this[_0x18b2aa(0x27a)]*DTR&&(this[_0x18b2aa(0x20e)]=0x0,this['currentFrame']++,this[_0x18b2aa(0x20c)]>=this[_0x18b2aa(0x293)][_0x18b2aa(0x287)]&&(this[_0x18b2aa(0x20c)]=0x0)),c['drawImage'](this['sheet'],this[_0x18b2aa(0x293)][this['currentFrame']],this[_0x18b2aa(0x205)][this[_0x18b2aa(0x20c)]],0x80,0x40,this['x']-0x40-player[_0x18b2aa(0x204)]*0x4+map['x'],this['y']-0x40-player[_0x18b2aa(0x284)]*0x4+map['y'],0x80,0x40),c[_0x18b2aa(0x1f9)](),c['translate'](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x18b2aa(0x215)](this[_0x18b2aa(0x200)]+this['radians']),c[_0x18b2aa(0x232)](this[_0x18b2aa(0x22d)],this[_0x18b2aa(0x29f)][this['action']],this[_0x18b2aa(0x291)][this[_0x18b2aa(0x261)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x18b2aa(0x283)](),this['radians']-=0.5/DTR,this[_0x18b2aa(0x28d)]<=-0x9&&(this[_0x18b2aa(0x269)]=![],this[_0x18b2aa(0x28d)]=0x2),c[_0x18b2aa(0x232)](this[_0x18b2aa(0x1f7)],this[_0x18b2aa(0x293)][this[_0x18b2aa(0x20c)]],this[_0x18b2aa(0x205)][this[_0x18b2aa(0x20c)]]+0x40,0x80,0x40,this['x']-0x40-player[_0x18b2aa(0x204)]*0x4+map['x'],this['y']-player[_0x18b2aa(0x284)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x175e57=_0x14ed09;monsters[_0x175e57(0x228)](function(_0x1be11e,_0x4f0d02){const _0x5c7f32=_0x175e57;if(_0x1be11e[_0x5c7f32(0x262)]&&!_0x4f0d02[_0x5c7f32(0x262)])return-0x1;else return!_0x1be11e[_0x5c7f32(0x262)]&&_0x4f0d02[_0x5c7f32(0x262)]?0x1:_0x1be11e['y']+0xf-_0x4f0d02['y'];});}function adjustCollidingMonsters(){const _0x2704b5=_0x14ed09;for(let _0x4149c2=0x0;_0x4149c2<monsters['length'];_0x4149c2++){if(monsters[_0x4149c2][_0x2704b5(0x262)])continue;monsters[_0x4149c2][_0x2704b5(0x1fc)]['T']=0x0,monsters[_0x4149c2][_0x2704b5(0x1fc)]['B']=0x0,monsters[_0x4149c2][_0x2704b5(0x1fc)]['L']=0x0,monsters[_0x4149c2][_0x2704b5(0x1fc)]['R']=0x0;for(let _0x3699f7=0x0;_0x3699f7<monsters[_0x2704b5(0x287)];_0x3699f7++){if(monsters[_0x3699f7]['dead'])continue;if(collided(monsters[_0x4149c2],monsters[_0x3699f7])){let _0xd28647=colCheck(monsters[_0x4149c2],monsters[_0x3699f7]);switch(_0xd28647){case'l':this['xVel']<0x0&&(this[_0x2704b5(0x298)]=0x0);break;case'r':this[_0x2704b5(0x298)]>0x0&&(this[_0x2704b5(0x298)]=0x0);break;case'b':this[_0x2704b5(0x241)]>0x0&&(this[_0x2704b5(0x241)]=0x0);break;case't':this[_0x2704b5(0x241)]<0x0&&(this[_0x2704b5(0x241)]=0x0);break;}monsters[_0x4149c2][_0x2704b5(0x298)]+=(monsters[_0x4149c2]['col']['L']-monsters[_0x4149c2][_0x2704b5(0x1fc)]['R'])/0x5,monsters[_0x4149c2][_0x2704b5(0x241)]+=(monsters[_0x4149c2][_0x2704b5(0x1fc)]['T']-monsters[_0x4149c2]['col']['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x495361,_0x42d331){const _0x555a93=_0x14ed09;super(Collidable),this['x']=_0x495361,this['y']=_0x42d331,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x555a93(0x298)]=0x0,this[_0x555a93(0x241)]=0x0,this[_0x555a93(0x204)]=0x0,this['yVelExt']=0x0,this[_0x555a93(0x25a)]=0x2,this['left']=0x0,this[_0x555a93(0x244)]=![],this[_0x555a93(0x26e)]=0x0,this['dead']=![],this[_0x555a93(0x1f5)]=[],this[_0x555a93(0x230)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0x555a93(0x27a)]=0x4,this['currentFrame']=0x0,this['collidable']=!![],this[_0x555a93(0x1f7)]=id('sheet'),this[_0x555a93(0x261)]=0x0,this[_0x555a93(0x1fc)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x555a93(0x280)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x555a93(0x29f)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x555a93(0x291)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}['followPlayer'](){const _0x5aa2c3=_0x14ed09;if(this[_0x5aa2c3(0x261)]!==0x0){let _0x2d8708=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0xd8149d=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x33684d=_0x2d8708>0x0?-0x1:0x1,_0x38e196=_0xd8149d>0x0?-0x1:0x1,_0x5b1c76;_0xd8149d!==0x0?_0x5b1c76=Math[_0x5aa2c3(0x26a)](_0x2d8708)/(Math[_0x5aa2c3(0x26a)](_0xd8149d)+Math[_0x5aa2c3(0x26a)](_0x2d8708)):_0x5b1c76=0x0;this[_0x5aa2c3(0x298)]=this[_0x5aa2c3(0x25a)]*_0x5b1c76*_0x33684d,this[_0x5aa2c3(0x241)]=this[_0x5aa2c3(0x25a)]*(0x1-_0x5b1c76)*_0x38e196;if(this['x']+this['w']<player['x'])this[_0x5aa2c3(0x238)]=![];else player['x']+player['w']<this['x']&&(this[_0x5aa2c3(0x238)]=!![]);}}[_0x14ed09(0x266)](){const _0x381f57=_0x14ed09;if(!this[_0x381f57(0x262)]){this[_0x381f57(0x29b)]();Math[_0x381f57(0x26a)](this[_0x381f57(0x204)])>0.01?this[_0x381f57(0x204)]*=0.9:this[_0x381f57(0x204)]=0x0;Math[_0x381f57(0x26a)](this['yVelExt'])>0.01?this[_0x381f57(0x284)]*=0.9:this[_0x381f57(0x284)]=0x0;(this[_0x381f57(0x1fc)]['T']&&this[_0x381f57(0x241)]<0x0||this[_0x381f57(0x1fc)]['B']&&this[_0x381f57(0x241)]>0x0)&&(this[_0x381f57(0x241)]=0x0);(this[_0x381f57(0x1fc)]['L']&&this[_0x381f57(0x298)]<0x0||this[_0x381f57(0x1fc)]['R']&&this[_0x381f57(0x298)]>0x0)&&(this[_0x381f57(0x298)]=0x0);this[_0x381f57(0x261)]!==0x0&&(this[_0x381f57(0x238)]?this[_0x381f57(0x261)]=0x2:this[_0x381f57(0x261)]=0x1);this[_0x381f57(0x225)](),this['x']+=(this[_0x381f57(0x298)]+this['xVelExt'])/DTR,this['y']+=(this[_0x381f57(0x241)]+this[_0x381f57(0x284)])/DTR;for(let _0x5c8ae0=0x0;_0x5c8ae0<this[_0x381f57(0x1f5)][_0x381f57(0x287)];_0x5c8ae0++){this[_0x381f57(0x1f5)][_0x5c8ae0]['x']=this['x']+this['arrows'][_0x5c8ae0][_0x381f57(0x29a)],this[_0x381f57(0x1f5)][_0x5c8ae0]['y']=this['y']+this[_0x381f57(0x1f5)][_0x5c8ae0]['yRel'];}this['hitbox']['x']=this['x']+0x6,this[_0x381f57(0x280)]['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x381f57(0x244)]=!![]),this['justDied']&&(this[_0x381f57(0x26e)]=0x0,this[_0x381f57(0x262)]=!![],this['action']=0x3,this[_0x381f57(0x20e)]=0x0,this[_0x381f57(0x20c)]=0x0,this[_0x381f57(0x27a)]=0xa);}}[_0x14ed09(0x268)](){const _0x51f1df=_0x14ed09;this[_0x51f1df(0x20e)]++;this[_0x51f1df(0x20e)]>this['slowness']*DTR&&(this[_0x51f1df(0x20e)]=0x0,this['currentFrame']++,this['currentFrame']>=this[_0x51f1df(0x29f)][this['action']]['length']&&(this['action']==0x0&&(this['action']=0x1+this[_0x51f1df(0x238)]),this[_0x51f1df(0x20c)]=0x0));this[_0x51f1df(0x261)]==0x3&&(this[_0x51f1df(0x20c)]==this[_0x51f1df(0x29f)][this['action']][_0x51f1df(0x287)]-0x1&&(this[_0x51f1df(0x20e)]=0x0));if(!this['dead'])for(let _0xcb3a5f=0x0;_0xcb3a5f<this[_0x51f1df(0x1f5)][_0x51f1df(0x287)];_0xcb3a5f++){this[_0x51f1df(0x1f5)][_0xcb3a5f][_0x51f1df(0x268)]();}this[_0x51f1df(0x26e)]>0x0&&(this['action']=0x4,this[_0x51f1df(0x20c)]=0x0,this['framecounter']=0x0,this[_0x51f1df(0x26e)]-=0x1/DTR),c['drawImage'](this[_0x51f1df(0x1f7)],this[_0x51f1df(0x29f)][this[_0x51f1df(0x261)]][this[_0x51f1df(0x20c)]]*TILESIZE,this[_0x51f1df(0x291)][this[_0x51f1df(0x261)]][this[_0x51f1df(0x20c)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x1f6d7d,_0xe4ebbe){const _0x29023f=_0x14ed09;super(Collidable),this['x']=(_0x1f6d7d/TILESIZE|0x0)*TILESIZE,this['y']=(_0xe4ebbe/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x29023f(0x298)]=0x0,this['yVel']=0x0,this[_0x29023f(0x204)]=0x0,this[_0x29023f(0x284)]=0x0,this[_0x29023f(0x25a)]=0x2,this['left']=0x0,this['justDied']=![],this['justDamaged']=0x0,this[_0x29023f(0x262)]=![],this[_0x29023f(0x250)]=![],this[_0x29023f(0x1f5)]=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x29023f(0x20e)]=0x0,this[_0x29023f(0x27a)]=0x4,this['currentFrame']=0x0,this[_0x29023f(0x1f7)]=id(_0x29023f(0x1f7)),this[_0x29023f(0x261)]=0x0,this[_0x29023f(0x224)]=!![],this[_0x29023f(0x252)]=[],this[_0x29023f(0x1fc)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x29023f(0x280)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0x29023f(0x272)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x29023f(0x29f)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this['actionY']=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this['counter']=0x0;}['followPlayer'](){const _0x117f2c=_0x14ed09;this[_0x117f2c(0x272)]['x']=this['x']-0x5*TILESIZE,this[_0x117f2c(0x272)]['y']=this['y']-0x5*TILESIZE,this['atkBox']['w']=0xb*TILESIZE,this[_0x117f2c(0x272)]['h']=0xb*TILESIZE;if(collided(this[_0x117f2c(0x272)],player)){if(this[_0x117f2c(0x250)]){if(this[_0x117f2c(0x20c)]==0x0&&this['frameCounter']==0x0){this[_0x117f2c(0x23a)]();switch(this[_0x117f2c(0x252)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x117f2c(0x261)]!==0x1&&(this[_0x117f2c(0x261)]=0x1,this[_0x117f2c(0x20c)]=0x0,this['frameCounter']=0x0);}else this[_0x117f2c(0x250)]&&this['action']!==0x0&&this[_0x117f2c(0x261)]!==0x2&&(this['attacking']=![],this['collidable']=!![],this[_0x117f2c(0x261)]=0x2,this[_0x117f2c(0x20c)]=0x0,this[_0x117f2c(0x20e)]=0x0);}[_0x14ed09(0x266)](){const _0x3f3d5f=_0x14ed09;this[_0x3f3d5f(0x29b)](),this[_0x3f3d5f(0x280)]['x']=this['x']+(this['w']-0xe)/0x2,this[_0x3f3d5f(0x280)]['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x3c968a=0x0;_0x3c968a<this[_0x3f3d5f(0x1f5)]['length'];_0x3c968a++){this[_0x3f3d5f(0x1f5)][_0x3c968a]['x']=this['x']+this['arrows'][_0x3c968a][_0x3f3d5f(0x29a)],this[_0x3f3d5f(0x1f5)][_0x3c968a]['y']=this['y']+this[_0x3f3d5f(0x1f5)][_0x3c968a][_0x3f3d5f(0x23d)];}this['hp']<=0x0&&(this[_0x3f3d5f(0x244)]=!![]),this[_0x3f3d5f(0x244)]&&(this['justDamaged']=0x0,this['dead']=!![],this['action']=0x3,this[_0x3f3d5f(0x20e)]=0x0,this[_0x3f3d5f(0x20c)]=0x0,this['slowness']=0xa);}[_0x14ed09(0x268)](){const _0x5c50aa=_0x14ed09;this[_0x5c50aa(0x20e)]++;this[_0x5c50aa(0x261)]==0x4?this[_0x5c50aa(0x27a)]=0x3:this[_0x5c50aa(0x27a)]=0x5;if(this['frameCounter']>this['slowness']*DTR){this[_0x5c50aa(0x20e)]=0x0,this[_0x5c50aa(0x20c)]++;if(this[_0x5c50aa(0x20c)]>=this['actionX'][this[_0x5c50aa(0x261)]][_0x5c50aa(0x287)]){if(this['dead'])this[_0x5c50aa(0x20c)]=this[_0x5c50aa(0x29f)][this[_0x5c50aa(0x261)]][_0x5c50aa(0x287)]-0x1;else{if(this[_0x5c50aa(0x261)]==0x1)this['attacking']=!![],this[_0x5c50aa(0x224)]=![],this[_0x5c50aa(0x261)]=0x4,this[_0x5c50aa(0x20c)]=0x0;else this['action']==0x2?(this['action']=0x0,this[_0x5c50aa(0x20c)]=0x0):this[_0x5c50aa(0x20c)]=0x0;}}}if(!this[_0x5c50aa(0x262)]){if(this['action']==0x0)for(let _0x5c723c=0x0;_0x5c723c<this[_0x5c50aa(0x1f5)][_0x5c50aa(0x287)];_0x5c723c++){this[_0x5c50aa(0x1f5)][_0x5c723c][_0x5c50aa(0x268)]();}}this['justDamaged']>0x0&&(this[_0x5c50aa(0x261)]=0x3,this[_0x5c50aa(0x20c)]=0x0,this[_0x5c50aa(0x2a2)]=0x0,this[_0x5c50aa(0x26e)]-=0x1/DTR,this[_0x5c50aa(0x26e)]<=0x0&&(this[_0x5c50aa(0x261)]=0x0)),c[_0x5c50aa(0x232)](this[_0x5c50aa(0x1f7)],this[_0x5c50aa(0x29f)][this[_0x5c50aa(0x261)]][this['currentFrame']]*TILESIZE,this[_0x5c50aa(0x291)][this[_0x5c50aa(0x261)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x14ed09(0x23a)](){const _0x4ef497=_0x14ed09;let _0x3621f2=0xb,_0x1af41c=[],_0x3abf0d=this['x']+this['w']/0x2-TILESIZE*0x5,_0x20ba7d=this['y']+this['h']/0x2-TILESIZE*0x5,_0x336165;for(let _0x2a3b56=0x0;_0x2a3b56<_0x3621f2;_0x2a3b56++){_0x1af41c[_0x2a3b56]=[];for(let _0x516f90=0x0;_0x516f90<_0x3621f2;_0x516f90++){_0x336165=getTileData(_0x3abf0d+_0x2a3b56*TILESIZE,_0x20ba7d+_0x516f90*TILESIZE),_0x336165===![]?_0x1af41c[_0x2a3b56][_0x516f90]=_0x4ef497(0x24c):_0x1af41c[_0x2a3b56][_0x516f90]='Obstacle';}}_0x1af41c[0x5][0x5]=_0x4ef497(0x240),_0x1af41c[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]='Goal',this['path']=findShortestPath([0x5,0x5],_0x1af41c);}}class Flower extends Collidable{constructor(_0x51bbbc,_0x23dbac){const _0x169fb9=_0x14ed09;super(Collidable),this['x']=_0x51bbbc,this['y']=_0x23dbac,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this[_0x169fb9(0x241)]=0x0,this[_0x169fb9(0x204)]=0x0,this[_0x169fb9(0x284)]=0x0,this[_0x169fb9(0x25a)]=0x2,this['left']=0x0,this[_0x169fb9(0x244)]=![],this[_0x169fb9(0x26e)]=0x0,this['dead']=![],this[_0x169fb9(0x1f5)]=[],this[_0x169fb9(0x230)]=0x3,this['hp']=0x3,this[_0x169fb9(0x20e)]=0x0,this[_0x169fb9(0x27a)]=0x8,this[_0x169fb9(0x250)]=![],this[_0x169fb9(0x20c)]=0x0,this['sheet']=id(_0x169fb9(0x1f7)),this[_0x169fb9(0x1fd)]=0x5,this[_0x169fb9(0x26d)]=0x8,this[_0x169fb9(0x224)]=!![],this[_0x169fb9(0x1fc)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x169fb9(0x280)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x169fb9(0x261)]=0x0,this[_0x169fb9(0x29f)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x169fb9(0x291)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this['headX']=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x169fb9(0x267)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x169fb9(0x28d)]=0x0,this[_0x169fb9(0x27c)]=![];}[_0x14ed09(0x265)](){const _0xb144c0=_0x14ed09;if(!isObstructed(this,player)){this[_0xb144c0(0x250)]=!![];if(this['currentFrame']==0x2){if(!this[_0xb144c0(0x27c)]){let _0xe160f3=new EnemyProjectile(),_0x554047=this['x']+this['w']/0x2,_0xd6b86e=this['y']+this['h']/0x2,_0x2e0814=player['x']+player['w']/0x2-_0x554047+Math['random']()*this[_0xb144c0(0x1fd)]-this[_0xb144c0(0x1fd)]/0x2,_0x387e33=player['y']+player['h']/0x2-_0xd6b86e+Math['random']()*this[_0xb144c0(0x1fd)]-this[_0xb144c0(0x1fd)]/0x2,_0x3d7c96=Math[_0xb144c0(0x24a)](_0x387e33,_0x2e0814),_0x26d0c3=Math[_0xb144c0(0x264)](_0x3d7c96),_0x1f2aa3=Math[_0xb144c0(0x234)](_0x3d7c96);_0xe160f3['xVel']=_0x26d0c3*this[_0xb144c0(0x26d)],_0xe160f3[_0xb144c0(0x241)]=_0x1f2aa3*this[_0xb144c0(0x26d)],_0xe160f3['x']=_0x554047,_0xe160f3['y']=_0xd6b86e,enemyProjectiles['push'](_0xe160f3),this[_0xb144c0(0x27c)]=!![];}}else this[_0xb144c0(0x27c)]=![];}else this[_0xb144c0(0x250)]=![];}['compute'](){const _0xfb8bbc=_0x14ed09;this['shoot'](),this[_0xfb8bbc(0x280)]['x']=this['x']+this['w']/0x3,this[_0xfb8bbc(0x280)]['y']=this['y']+this['h']/0x5,this['radians']=Math[_0xfb8bbc(0x24a)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x157450=0x0;_0x157450<this[_0xfb8bbc(0x1f5)]['length'];_0x157450++){this[_0xfb8bbc(0x1f5)][_0x157450]['x']=this['x']+this[_0xfb8bbc(0x1f5)][_0x157450]['xRel'],this[_0xfb8bbc(0x1f5)][_0x157450]['y']=this['y']+this[_0xfb8bbc(0x1f5)][_0x157450][_0xfb8bbc(0x23d)];}this['hp']<=0x0&&(this[_0xfb8bbc(0x244)]=!![]),this[_0xfb8bbc(0x244)]&&(this[_0xfb8bbc(0x26e)]=0x0,this['dead']=!![],this[_0xfb8bbc(0x261)]=0x2,this[_0xfb8bbc(0x20e)]=0x0,this[_0xfb8bbc(0x20c)]=0x0,this['slowness']=0xa);}[_0x14ed09(0x268)](){const _0x15fcbb=_0x14ed09;this[_0x15fcbb(0x20e)]++;this[_0x15fcbb(0x20e)]>this[_0x15fcbb(0x27a)]*DTR&&(this[_0x15fcbb(0x20e)]=0x0,this['currentFrame']++,this[_0x15fcbb(0x20c)]>=this[_0x15fcbb(0x29f)][this['action']][_0x15fcbb(0x287)]&&(this['dead']?this[_0x15fcbb(0x20c)]=this[_0x15fcbb(0x29f)][this['action']][_0x15fcbb(0x287)]-0x1:this[_0x15fcbb(0x20c)]=0x0));if(!this[_0x15fcbb(0x262)]){this[_0x15fcbb(0x250)]?this['action']=0x1:this[_0x15fcbb(0x261)]=0x0;for(let _0x55fd11=0x0;_0x55fd11<this[_0x15fcbb(0x1f5)][_0x15fcbb(0x287)];_0x55fd11++){this[_0x15fcbb(0x1f5)][_0x55fd11][_0x15fcbb(0x268)]();}}this[_0x15fcbb(0x250)]?this[_0x15fcbb(0x27a)]=0x4:this['slowness']=0x8,this[_0x15fcbb(0x26e)]&&(this[_0x15fcbb(0x261)]=0x2,this[_0x15fcbb(0x20c)]=0x0,this[_0x15fcbb(0x2a2)]=0x0,this[_0x15fcbb(0x26e)]--),c[_0x15fcbb(0x232)](this[_0x15fcbb(0x1f7)],this['actionX'][this[_0x15fcbb(0x261)]][this[_0x15fcbb(0x20c)]]*TILESIZE,this[_0x15fcbb(0x291)][this[_0x15fcbb(0x261)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0x15fcbb(0x261)]==0x0||this[_0x15fcbb(0x261)]==0x1)&&(c[_0x15fcbb(0x1f9)](),c[_0x15fcbb(0x1fb)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c['rotate'](this[_0x15fcbb(0x28d)]),c[_0x15fcbb(0x232)](this[_0x15fcbb(0x1f7)],this[_0x15fcbb(0x294)][this['action']][this['currentFrame']]*TILESIZE,this[_0x15fcbb(0x267)][this['action']][this[_0x15fcbb(0x20c)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x15fcbb(0x283)]());}}function _0x443f(_0x377f5b,_0xf665ea){const _0xfe5a29=_0x1c53();return _0x443f=function(_0x2f263a,_0x2ca266){_0x2f263a=_0x2f263a-0x1f4;let _0x3e7242=_0xfe5a29[_0x2f263a];return _0x3e7242;},_0x443f(_0x377f5b,_0xf665ea);}function getTileData(_0x3c0fa5,_0x400af5){const _0xb02890=_0x14ed09;let _0x251cff=(_0x3c0fa5/TILESIZE|0x0)+(_0x400af5/TILESIZE|0x0)*map[_0xb02890(0x21b)];for(let _0x428463=0x0;_0x428463<map['tiles']['length'];_0x428463++){for(let _0x5d259e=0x0;_0x5d259e<TilesData[_0xb02890(0x287)];_0x5d259e++){if(TilesData[_0x5d259e]['id']==map[_0xb02890(0x21a)][_0x428463][_0x251cff]-0x1)return TilesData[_0x5d259e];}}return![];}window[_0x14ed09(0x1f6)]=function(){const _0x44b43a=_0x14ed09;player['arrowsCount']!==0x0?player[_0x44b43a(0x265)]():player[_0x44b43a(0x231)]=0xa;},window['oncontextmenu']=function(_0x214454){const _0xc8b3ef=_0x14ed09;_0x214454['preventDefault'](),player[_0xc8b3ef(0x270)]();},document[_0x14ed09(0x220)]('mousedown',function(_0x264636){const _0x133b8f=_0x14ed09;switch(_0x264636[_0x133b8f(0x214)]){case 0x0:userInterface[_0x133b8f(0x212)]=!![];break;case 0x2:userInterface[_0x133b8f(0x297)]=!![];break;}}),document['addEventListener']('mouseup',function(_0x520148){const _0x55ca8a=_0x14ed09;switch(_0x520148[_0x55ca8a(0x214)]){case 0x0:userInterface[_0x55ca8a(0x212)]=![];break;case 0x2:userInterface['rClick']=![];break;}});var stats=id(_0x14ed09(0x249));function drawStats(){const _0x35a9ac=_0x14ed09;stats[_0x35a9ac(0x296)]=_0x35a9ac(0x23c)+player['x'],stats[_0x35a9ac(0x296)]+=_0x35a9ac(0x299)+player['y'],stats[_0x35a9ac(0x296)]+='<br>mouseTile.x\x20=\x20'+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x35a9ac(0x296)]+=_0x35a9ac(0x23f)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats['innerHTML']+='<br>mouseTile\x20pos\x20=\x20'+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x35a9ac(0x21b)]),stats['innerHTML']+=_0x35a9ac(0x1fe)+map[_0x35a9ac(0x21a)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x35a9ac(0x21b)]],map[_0x35a9ac(0x21a)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']],DEBUG&&(c['rect']((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x35a9ac(0x20f)]());}window[_0x14ed09(0x220)](_0x14ed09(0x24f),function(_0x2957bd){const _0xb734ce=_0x14ed09;switch(_0x2957bd[_0xb734ce(0x254)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0xb734ce(0x22c)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0xb734ce(0x248)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x63f4de=0x0;_0x63f4de<0x32;_0x63f4de++){player[_0xb734ce(0x265)](),player[_0xb734ce(0x239)]=player['arrowCD']*DTR,player['computeQuiver']();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x14ed09(0x220)](_0x14ed09(0x2a1),function(_0x3d5b2b){switch(_0x3d5b2b['keyCode']){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0x14ed09(0x220)](_0x14ed09(0x21e),function(_0x51b04a){const _0x4c3ddb=_0x14ed09;mousePP['x']=_0x51b04a[_0x4c3ddb(0x28a)]-CANVAS[_0x4c3ddb(0x281)],mousePP['y']=_0x51b04a['clientY']-CANVAS[_0x4c3ddb(0x22e)];});function moveCamera(){const _0x590ba5=_0x14ed09;map['x']=-player['x']/0x3+CANVAS['width']/0x6,map['y']=-player['y']/0x3+CANVAS[_0x590ba5(0x263)]/0x6,screenShake[_0x590ba5(0x203)]&&(screenShake[_0x590ba5(0x203)]--,screenShake[_0x590ba5(0x20a)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x295d74=_0x14ed09;c['lineWidth']=0x2,c['strokeStyle']=sampleArrow['colors'][0x0],c[_0x295d74(0x208)]();for(let _0x14c7e5=playerArrows[_0x295d74(0x287)]-0x1;_0x14c7e5>=0x0;_0x14c7e5--){if(!playerArrows[_0x14c7e5]['active']||playerArrows[_0x14c7e5][_0x295d74(0x256)]!=0x1)continue;playerArrows[_0x14c7e5][_0x295d74(0x22b)]&&playerArrows[_0x14c7e5]['compute']();if(playerArrows[_0x14c7e5]!==undefined)playerArrows[_0x14c7e5][_0x295d74(0x268)]();}c[_0x295d74(0x21f)](),c[_0x295d74(0x20f)](),c[_0x295d74(0x233)]=sampleArrow[_0x295d74(0x23e)][0x1],c[_0x295d74(0x208)]();for(let _0x4efdf1=playerArrows[_0x295d74(0x287)]-0x1;_0x4efdf1>=0x0;_0x4efdf1--){if(!playerArrows[_0x4efdf1][_0x295d74(0x269)]||playerArrows[_0x4efdf1]['color']!=0x2)continue;playerArrows[_0x4efdf1][_0x295d74(0x22b)]&&playerArrows[_0x4efdf1][_0x295d74(0x266)]();if(playerArrows[_0x4efdf1]!==undefined)playerArrows[_0x4efdf1][_0x295d74(0x268)]();}c[_0x295d74(0x21f)](),c['stroke']();}function loop(){const _0x50bef2=_0x14ed09;fps++,c[_0x50bef2(0x23b)](0x0,0x0,CANVAS[_0x50bef2(0x21b)],CANVAS['height']),moveCamera(),map[_0x50bef2(0x268)](),player[_0x50bef2(0x266)]();for(let _0x173971=enemyProjectiles[_0x50bef2(0x287)]-0x1;_0x173971>=0x0;_0x173971--){enemyProjectiles[_0x173971][_0x50bef2(0x266)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x12d3b6=0x0;_0x12d3b6<monsters[_0x50bef2(0x287)];_0x12d3b6++){!monsters[_0x12d3b6][_0x50bef2(0x262)]&&monsters[_0x12d3b6][_0x50bef2(0x266)](),monsters[_0x12d3b6][_0x50bef2(0x268)]();}player['draw'](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x1cf043=enemyProjectiles['length']-0x1;_0x1cf043>=0x0;_0x1cf043--){enemyProjectiles[_0x1cf043][_0x50bef2(0x268)]();}sword['active']&&(sword[_0x50bef2(0x266)](),sword['draw']());for(let _0x508fb2=visualFxs[_0x50bef2(0x287)]-0x1;_0x508fb2>=0x0;_0x508fb2--){!visualFxs[_0x508fb2][_0x50bef2(0x218)]&&visualFxs[_0x508fb2][_0x50bef2(0x268)]();}userInterface[_0x50bef2(0x268)](),drawStats();}var lastUpdate=Date[_0x14ed09(0x292)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){var _0x285ab7=Date['now'](),_0x92b6a9=_0x285ab7-lastUpdate;lastUpdate=_0x285ab7,DTR=0x3e8/0x3c/_0x92b6a9,!gamePaused&&loop();}