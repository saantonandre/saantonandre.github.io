'strict';const _0x96c55c=_0xae3b;(function(_0x3e7f42,_0x5d1956){const _0x34fcea=_0xae3b,_0x50254a=_0x3e7f42();while(!![]){try{const _0x49441f=parseInt(_0x34fcea(0x175))/0x1*(parseInt(_0x34fcea(0x1c6))/0x2)+-parseInt(_0x34fcea(0x1da))/0x3+parseInt(_0x34fcea(0x17f))/0x4*(parseInt(_0x34fcea(0x1a3))/0x5)+parseInt(_0x34fcea(0x16b))/0x6+parseInt(_0x34fcea(0x1a6))/0x7+parseInt(_0x34fcea(0x1e1))/0x8+-parseInt(_0x34fcea(0x178))/0x9*(parseInt(_0x34fcea(0x165))/0xa);if(_0x49441f===_0x5d1956)break;else _0x50254a['push'](_0x50254a['shift']());}catch(_0xf50e57){_0x50254a['push'](_0x50254a['shift']());}}}(_0x223c,0x65d0a));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0x96c55c(0x1ec)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS['getContext']('2d');CANVAS[_0x96c55c(0x1c5)]=0x2e0,CANVAS[_0x96c55c(0x193)]=0x1e0,CANVAS[_0x96c55c(0x1f3)]['left']=(window['innerWidth']-CANVAS[_0x96c55c(0x1c5)])/0x2+'px',CANVAS[_0x96c55c(0x1f3)][_0x96c55c(0x183)]=(window['innerHeight']-CANVAS[_0x96c55c(0x193)])/0x2+'px',c['imageSmoothingEnabled']=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x2d85bf){const _0x3f2b39=_0x96c55c,_0x593710=(function(){let _0x17c6e2=!![];return function(_0x51d638,_0x1032b4){const _0x5c6ab1=_0x17c6e2?function(){const _0x3776ee=_0xae3b;if(_0x1032b4){const _0x5b5cd=_0x1032b4[_0x3776ee(0x19b)](_0x51d638,arguments);return _0x1032b4=null,_0x5b5cd;}}:function(){};return _0x17c6e2=![],_0x5c6ab1;};}()),_0x22e0b5=_0x593710(this,function(){const _0x2cbe87=_0xae3b,_0xd588f3=function(){const _0x2f8cdb=_0xae3b;let _0x26c0b4;try{_0x26c0b4=Function(_0x2f8cdb(0x152)+_0x2f8cdb(0x1bb)+');')();}catch(_0x82a008){_0x26c0b4=window;}return _0x26c0b4;},_0x454fce=_0xd588f3(),_0x1232b1=new RegExp('[CzTkHjKQBwRASvFTfjGRqJKqvjzWVvKHZMJCNOyYCxmfAkjBBRmJXEHDTxGWzkxHTNPz]','g'),_0x368b9a=_0x2cbe87(0x1e8)[_0x2cbe87(0x179)](_0x1232b1,'')[_0x2cbe87(0x1a2)](';');let _0x56903e,_0x82db59,_0x2545d0,_0x171448;const _0x1dcaa4=function(_0xa7ed9d,_0x49bd24,_0x1d5ef7){const _0x51c35b=_0x2cbe87;if(_0xa7ed9d[_0x51c35b(0x159)]!=_0x49bd24)return![];for(let _0x299475=0x0;_0x299475<_0x49bd24;_0x299475++){for(let _0x1efe25=0x0;_0x1efe25<_0x1d5ef7[_0x51c35b(0x159)];_0x1efe25+=0x2){if(_0x299475==_0x1d5ef7[_0x1efe25]&&_0xa7ed9d[_0x51c35b(0x1cb)](_0x299475)!=_0x1d5ef7[_0x1efe25+0x1])return![];}}return!![];},_0x51d0c4=function(_0x2c0c8c,_0xe5d911,_0x4bcf64){return _0x1dcaa4(_0xe5d911,_0x4bcf64,_0x2c0c8c);},_0x449ec4=function(_0x1f89c7,_0x65fcea,_0x25bf11){return _0x51d0c4(_0x65fcea,_0x1f89c7,_0x25bf11);},_0x31695e=function(_0x139657,_0xfd26b8,_0x21af08){return _0x449ec4(_0xfd26b8,_0x21af08,_0x139657);};for(let _0x1e85fc in _0x454fce){if(_0x1dcaa4(_0x1e85fc,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x56903e=_0x1e85fc;break;}}for(let _0x4857e9 in _0x454fce[_0x56903e]){if(_0x31695e(0x6,_0x4857e9,[0x5,0x6e,0x0,0x64])){_0x82db59=_0x4857e9;break;}}for(let _0x4483c6 in _0x454fce[_0x56903e]){if(_0x449ec4(_0x4483c6,[0x7,0x6e,0x0,0x6c],0x8)){_0x2545d0=_0x4483c6;break;}}if(!('~'>_0x82db59))for(let _0xd58da9 in _0x454fce[_0x56903e][_0x2545d0]){if(_0x51d0c4([0x7,0x65,0x0,0x68],_0xd58da9,0x8)){_0x171448=_0xd58da9;break;}}if(!_0x56903e||!_0x454fce[_0x56903e])return;const _0x5e8119=_0x454fce[_0x56903e][_0x82db59],_0x2474a9=!!_0x454fce[_0x56903e][_0x2545d0]&&_0x454fce[_0x56903e][_0x2545d0][_0x171448],_0x8a1ed9=_0x5e8119||_0x2474a9;if(!_0x8a1ed9)return;let _0x246e12=![];for(let _0x2c40ea=0x0;_0x2c40ea<_0x368b9a[_0x2cbe87(0x159)];_0x2c40ea++){const _0x3f6428=_0x368b9a[_0x2c40ea],_0x5c313a=_0x3f6428[0x0]===String[_0x2cbe87(0x1d1)](0x2e)?_0x3f6428[_0x2cbe87(0x188)](0x1):_0x3f6428,_0xe41c4b=_0x8a1ed9[_0x2cbe87(0x159)]-_0x5c313a[_0x2cbe87(0x159)],_0x4c8542=_0x8a1ed9[_0x2cbe87(0x17c)](_0x5c313a,_0xe41c4b),_0x315973=_0x4c8542!==-0x1&&_0x4c8542===_0xe41c4b;_0x315973&&((_0x8a1ed9[_0x2cbe87(0x159)]==_0x3f6428[_0x2cbe87(0x159)]||_0x3f6428['indexOf']('.')===0x0)&&(_0x246e12=!![]));}if(!_0x246e12){const _0x4e4ce4=new RegExp(_0x2cbe87(0x15a),'g'),_0x2b4202=_0x2cbe87(0x1ca)[_0x2cbe87(0x179)](_0x4e4ce4,'');_0x454fce[_0x56903e][_0x2545d0]=_0x2b4202;}});return _0x22e0b5(),document[_0x3f2b39(0x18f)](_0x2d85bf);}var fpsDiv=id('FPS');function _0x223c(){const _0x1ab2d3=['hitbox','width','1488822kEOucw','set','projSpeed','properties','abpcouTIBedtN:NblaNOCDFnkwJSxTJACNvqsxTXT','charCodeAt','swordImg','player','splice','headY','hpBar','fromCharCode','frameCounter','stroke','framecounter','abs','lengthX','followPlayer','damage','oncontextmenu','245406OezeCA','ended','arrowsCount','arrowSpeed','offsetLeft','translate','preventDefault','147672GCynRh','path','name','atan2','points','closePath','justDamaged','CzsTaanktHonjanKdreQB.wRASgvFTifjGRthub.qiJKoq;lvjocazlhoWsVvKHZtMJCNOyYCxmfAkjBBRmJXEHDTxGWzkxHTNPz','centerY','random','compute','canvas','log','<br>mouseTile\x20pos\x20=\x20','Obstacle','color','innerHTML','button','style','vfxY','action','currentFrame','attack','actionY','yRel','hasOwnProperty','attacking','justDied','xRel','maxMp','noArrows','speed','vfxX','beginPath','return\x20(function()\x20','shoot','radians','unpassable','toPrecision','arrow','14px\x20Arial','length','[pcTIBedNNNOCDFwJSxTJACNvqsxTXT]','globalAlpha','xVel','attacked','checkCollisions','textAlign','onclick','yVel','sword','clearRect','<br>DTR:\x20','880EKVBLn','grass','./Archer.json','precision','hole','col','369906pQwrgX','round','left','Goal','cos','portrait','save','drawImage','rotate','ui-sheet','1MbQbKX','collidable','bow','109881BBmyuS','replace','tiles','radiansP','indexOf','mpBar','maxHp','52bSAjZk','keyup','rClick','offsetTop','top','stats','arrows','lengthY','arrowCD','slice','<br>mouseTile\x20id\x20=\x20','arrowCounter','free','atkBox','arrowsArr','now','getElementById','push','sin','font','height','restore','mousedown','actionX','addEventListener','strokeStyle','clientY','mouseup','apply','colors','pos','solid','crop','hp-bar','keyCode','split','287785DsnrrC','#ff0000','sheet','3262yvCnVY','then','lineTo','dead','counter','FPS:\x20','active','createGrid','#8b5851','mousemove','<br>mouseTile.y\x20=\x20','<br>mouseTile.x\x20=\x20','sort','moveTo','lineWidth','draw','keydown','computeQuiver','justShot','type','xVelExt','{}.constructor(\x22return\x20this\x22)(\x20)','lClick','yVelExt','slowness','layout','critChance','fillText','shift','Empty'];_0x223c=function(){return _0x1ab2d3;};return _0x223c();}setInterval(function(){const _0x4a20f7=_0x96c55c;fpsDiv['innerHTML']=_0x4a20f7(0x1ab)+fps,fpsDiv[_0x4a20f7(0x1f1)]+=_0x4a20f7(0x164)+DTR[_0x4a20f7(0x156)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){this['x']=Math['random']()*0x8-0x4|0x0,this['y']=Math['random']()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x4c01af=_0x96c55c;this['x']=0x0,this['y']=0x0,this[_0x4c01af(0x161)]=0x0,this[_0x4c01af(0x15c)]=0x0,this[_0x4c01af(0x14c)]=0x0,this[_0x4c01af(0x1f9)]=0x0,this[_0x4c01af(0x1ac)]=!![],this[_0x4c01af(0x18b)]=!![],this['friendly']=!![],this[_0x4c01af(0x1d6)]=0x0,this[_0x4c01af(0x186)]=0x0,this[_0x4c01af(0x1d8)]=0x1,this[_0x4c01af(0x1f0)]=0x0,this[_0x4c01af(0x19c)]=[_0x4c01af(0x1ae),'#ff8db5'],this['points']={'x':0x0,'y':0x0};}['draw'](){const _0x1f6b4a=_0x96c55c;Math[_0x1f6b4a(0x1d5)](this[_0x1f6b4a(0x15c)]*0x3)>Math[_0x1f6b4a(0x1d5)](this[_0x1f6b4a(0x1d6)])&&(this[_0x1f6b4a(0x1d6)]=this[_0x1f6b4a(0x15c)]*0x3,this['lengthY']=this[_0x1f6b4a(0x161)]*0x3),this[_0x1f6b4a(0x1e5)]['x']=this['x']+this[_0x1f6b4a(0x1d6)],this[_0x1f6b4a(0x1e5)]['y']=this['y']+this['lengthY'],c[_0x1f6b4a(0x1b3)](this['x']+map['x'],this['y']+map['y']),c[_0x1f6b4a(0x1a8)](this['x']+this[_0x1f6b4a(0x1d6)]+map['x'],this['y']+this[_0x1f6b4a(0x186)]+map['y']);}[_0x96c55c(0x1eb)](){const _0x1b9e3c=_0x96c55c;this['x']+=this[_0x1b9e3c(0x15c)]/DTR,this['y']+=this[_0x1b9e3c(0x161)]/DTR;if(getTileData(this['x'],this['y'])[_0x1b9e3c(0x19e)])visualFxs[_0x1b9e3c(0x190)](new Explosion(this['x']+this['xVel'],this['y']+this[_0x1b9e3c(0x161)],this[_0x1b9e3c(0x1f0)])),this['color']==0x2&&(screenShake[_0x1b9e3c(0x1aa)]=0x5),this[_0x1b9e3c(0x15c)]=0x0,this[_0x1b9e3c(0x161)]=0x0,this[_0x1b9e3c(0x1d6)]/=0x2,this[_0x1b9e3c(0x186)]/=0x2,this[_0x1b9e3c(0x18b)]=![];else for(let _0xe3ccec=monsters[_0x1b9e3c(0x159)]-0x1;_0xe3ccec>=0x0;_0xe3ccec--){let _0xd0a5e3=monsters[_0xe3ccec];!_0xd0a5e3[_0x1b9e3c(0x1a9)]&&_0xd0a5e3[_0x1b9e3c(0x176)]&&((pointSquareCol(this,_0xd0a5e3)||pointSquareCol(this[_0x1b9e3c(0x1e5)],_0xd0a5e3))&&(this[_0x1b9e3c(0x1ac)]=![],_0xd0a5e3[_0x1b9e3c(0x1ba)]=this[_0x1b9e3c(0x15c)]/0x2,_0xd0a5e3[_0x1b9e3c(0x1bd)]=this[_0x1b9e3c(0x161)]/0x2,visualFxs[_0x1b9e3c(0x190)](new Explosion(this['x'],this['y'],this[_0x1b9e3c(0x1f0)])),this[_0x1b9e3c(0x1f0)]==0x2&&(screenShake['counter']=0x5),this[_0x1b9e3c(0x15c)]=0x0,this[_0x1b9e3c(0x161)]=0x0,this[_0x1b9e3c(0x14c)]=this['x']-_0xd0a5e3['x'],this[_0x1b9e3c(0x1f9)]=this['y']-_0xd0a5e3['y'],_0xd0a5e3[_0x1b9e3c(0x185)]['push'](this),_0xd0a5e3['hp']-=this[_0x1b9e3c(0x1d8)],_0xd0a5e3[_0x1b9e3c(0x1e7)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x12da3d=_0x96c55c;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x12da3d(0x161)]=0x0,this[_0x12da3d(0x15c)]=0x0,this[_0x12da3d(0x18b)]=!![],this['friendly']=![],this[_0x12da3d(0x1a5)]=id(_0x12da3d(0x1a5)),this[_0x12da3d(0x196)]=[0x5],this['actionY']=[0x18],this[_0x12da3d(0x1b9)]=0x0,this['damage']=0x5;}['compute'](){const _0x57787e=_0x96c55c;this['x']+=this[_0x57787e(0x15c)]/DTR,this['y']+=this['yVel']/DTR,getTileData(this['x'],this['y'])['solid']?(enemyProjectiles[_0x57787e(0x1ce)](enemyProjectiles['indexOf'](this),0x1),visualFxs[_0x57787e(0x190)](new Explosion(this['x']+this[_0x57787e(0x15c)],this['y']+this[_0x57787e(0x161)],0x1)),this[_0x57787e(0x15c)]=0x0,this[_0x57787e(0x161)]=0x0,this['lengthX']/=0x2,this[_0x57787e(0x186)]/=0x2,this[_0x57787e(0x18b)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x57787e(0x1ce)](enemyProjectiles[_0x57787e(0x17c)](this),0x1),player['xVelExt']+=this[_0x57787e(0x15c)]/0x2,player['yVelExt']+=this[_0x57787e(0x161)]/0x2,player['hp']-=this[_0x57787e(0x1d8)],visualFxs[_0x57787e(0x190)](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x57787e(0x1aa)]=0x5);}[_0x96c55c(0x1b5)](){const _0x4bdb8b=_0x96c55c;c[_0x4bdb8b(0x172)](this[_0x4bdb8b(0x1a5)],this[_0x4bdb8b(0x196)][this[_0x4bdb8b(0x1b9)]]*TILESIZE,this[_0x4bdb8b(0x1f8)][this[_0x4bdb8b(0x1b9)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x3eb557,_0x4bdb2e,_0x5dd970){const _0x54b7d8=_0x96c55c;this[_0x54b7d8(0x1a5)]=id(_0x54b7d8(0x1a5)),this['x']=_0x3eb557-0x10,this['y']=_0x4bdb2e-0x10,this['w']=0x20,this['h']=0x20,this[_0x54b7d8(0x1d2)]=0x0,this[_0x54b7d8(0x1f6)]=0x0,this[_0x54b7d8(0x1f5)]=_0x5dd970-0x1,this[_0x54b7d8(0x196)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x54b7d8(0x1f8)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this[_0x54b7d8(0x1be)]=0x4,this[_0x54b7d8(0x1db)]=![];}[_0x96c55c(0x1b5)](){const _0x436a63=_0x96c55c;c[_0x436a63(0x172)](this[_0x436a63(0x1a5)],this[_0x436a63(0x196)][this[_0x436a63(0x1f5)]][this['currentFrame']],this['actionY'][this[_0x436a63(0x1f5)]][this[_0x436a63(0x1f6)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this[_0x436a63(0x1d2)]++,this[_0x436a63(0x1d2)]>this[_0x436a63(0x1be)]*DTR&&(this[_0x436a63(0x1d2)]=0x0,this[_0x436a63(0x1f6)]++,this['currentFrame']>this[_0x436a63(0x196)][this[_0x436a63(0x1f5)]][_0x436a63(0x159)]-0x1&&(this[_0x436a63(0x1db)]=!![]));}}class Collidable{constructor(){}[_0x96c55c(0x15e)](){const _0x5e2028=_0x96c55c;let _0x3a2490;this['col']['T']=0x0,this[_0x5e2028(0x16a)]['B']=0x0,this[_0x5e2028(0x16a)]['L']=0x0,this['col']['R']=0x0,getTileData(this['x'],this['y'])['unpassable']&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x3a2490=colCheck(this,generatedSquare),this['x']+=(this[_0x5e2028(0x16a)]['L']-this[_0x5e2028(0x16a)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x5e2028(0x16a)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])['unpassable']&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x3a2490=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x5e2028(0x16a)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x5e2028(0x16a)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x5e2028(0x155)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x3a2490=colCheck(this,generatedSquare),this['x']+=(this[_0x5e2028(0x16a)]['L']-this[_0x5e2028(0x16a)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this['col']['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x5e2028(0x155)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x3a2490=colCheck(this,generatedSquare),this['x']+=(this[_0x5e2028(0x16a)]['L']-this[_0x5e2028(0x16a)]['R'])/0x5/DTR,this['y']+=(this[_0x5e2028(0x16a)]['T']-this[_0x5e2028(0x16a)]['B'])/0x5/DTR),this[_0x5e2028(0x16a)]['B']&&(this['yVelExt']>0x0&&(this[_0x5e2028(0x1bd)]*=-0.5)),this[_0x5e2028(0x16a)]['T']&&(this['yVelExt']<0x0&&(this[_0x5e2028(0x1bd)]*=-0.5)),this[_0x5e2028(0x16a)]['R']&&(this[_0x5e2028(0x1ba)]>0x0&&(this['xVelExt']*=-0.5)),this['col']['L']&&(this[_0x5e2028(0x1ba)]<0x0&&(this[_0x5e2028(0x1ba)]*=-0.5));}}class Player extends Collidable{constructor(_0x4176de,_0x261e4d){const _0x2f8e4b=_0x96c55c;super(Collidable),this['x']=_0x4176de,this['y']=_0x261e4d,this['w']=TILESIZE,this['h']=TILESIZE,this['speed']=0x3,this[_0x2f8e4b(0x161)]=0x0,this[_0x2f8e4b(0x15c)]=0x0,this[_0x2f8e4b(0x1bd)]=0x0,this[_0x2f8e4b(0x1ba)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this['arrowSpeed']=0xa,this['centerX']=0x0,this['centerY']=0x0,this[_0x2f8e4b(0x16a)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['actionX']=[0x0,0x20,0x40],this[_0x2f8e4b(0x1f8)]=[0x0,0x0,0x0],this['action']=0x0,this['frameCounter']=0x0,this[_0x2f8e4b(0x1be)]=0x6,this[_0x2f8e4b(0x154)]=0x0,this[_0x2f8e4b(0x162)]=![],this[_0x2f8e4b(0x168)]=0x14,this[_0x2f8e4b(0x14e)]=0x0,this[_0x2f8e4b(0x15d)]=0x0,this[_0x2f8e4b(0x18d)]=[0x1,0x1,0x1,0x1,0x1],this[_0x2f8e4b(0x187)]=0x3c,this[_0x2f8e4b(0x18a)]=0x0,this[_0x2f8e4b(0x1dc)]=0x4,this['hp']=0x64,this[_0x2f8e4b(0x17e)]=0x64,this['mp']=0x64,this[_0x2f8e4b(0x14d)]=0x64,this[_0x2f8e4b(0x1c0)]=0.25,this[_0x2f8e4b(0x177)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}[_0x96c55c(0x1b7)](){const _0x5c8472=_0x96c55c;let _0x17cfa9=!![],_0x528453;for(_0x528453=0x0;_0x528453<this[_0x5c8472(0x18d)][_0x5c8472(0x159)];_0x528453++){if(this[_0x5c8472(0x18d)][_0x528453]===0x0){_0x17cfa9=![];break;}}this['arrowsCount']=_0x528453;if(!_0x17cfa9){this[_0x5c8472(0x18a)]++;if(this[_0x5c8472(0x18a)]>this[_0x5c8472(0x187)]*DTR)for(_0x528453=0x0;_0x528453<this[_0x5c8472(0x18d)][_0x5c8472(0x159)];_0x528453++){if(this[_0x5c8472(0x18d)][_0x528453]===0x0){Math[_0x5c8472(0x1ea)]()<this[_0x5c8472(0x1c0)]?this[_0x5c8472(0x18d)][_0x528453]=0x2:this[_0x5c8472(0x18d)][_0x528453]=0x1;this[_0x5c8472(0x18a)]=0x0;break;}}}else this[_0x5c8472(0x18a)]=0x0;}[_0x96c55c(0x1eb)](){const _0x3e1ddc=_0x96c55c;this['computeQuiver'](),this['centerX']=this['x']+this['w']/0x2,this[_0x3e1ddc(0x1e9)]=this['y']+this['h']/0x2,this[_0x3e1ddc(0x15e)]();Math[_0x3e1ddc(0x1d5)](this[_0x3e1ddc(0x1ba)])>0.01?this[_0x3e1ddc(0x1ba)]-=this[_0x3e1ddc(0x1ba)]*0.1/DTR:this[_0x3e1ddc(0x1ba)]=0x0;Math['abs'](this['yVelExt'])>0.01?this[_0x3e1ddc(0x1bd)]-=this['yVelExt']*0.1/DTR:this[_0x3e1ddc(0x1bd)]=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x3e1ddc(0x14f)]=0x2:this[_0x3e1ddc(0x14f)]=0x3;this['radians']=Math['atan2'](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this['xVel']=-this[_0x3e1ddc(0x14f)];else!this['R']&&(this[_0x3e1ddc(0x15c)]=0x0);if(this['R'])this[_0x3e1ddc(0x15c)]=this[_0x3e1ddc(0x14f)];else!this['L']&&(this[_0x3e1ddc(0x15c)]=0x0);if(this['T'])this['yVel']=-this[_0x3e1ddc(0x14f)];else!this['B']&&(this[_0x3e1ddc(0x161)]=0x0);if(this['B'])this[_0x3e1ddc(0x161)]=this[_0x3e1ddc(0x14f)];else!this['T']&&(this[_0x3e1ddc(0x161)]=0x0);this['x']+=(this['xVel']+this[_0x3e1ddc(0x1ba)])/DTR,this['y']+=(this['yVel']+this[_0x3e1ddc(0x1bd)])/DTR;}['draw'](){const _0x236f39=_0x96c55c;this[_0x236f39(0x15c)]===0x0&&this[_0x236f39(0x161)]===0x0?this[_0x236f39(0x1f5)]=0x0:(this['frameCounter']++,this[_0x236f39(0x1d2)]>=this[_0x236f39(0x1be)]*DTR&&(this['action']++,this[_0x236f39(0x1d2)]=0x0,this[_0x236f39(0x1f5)]>=this[_0x236f39(0x196)][_0x236f39(0x159)]&&(this[_0x236f39(0x1f5)]=0x0))),c[_0x236f39(0x171)](),c[_0x236f39(0x1df)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c['rotate'](this[_0x236f39(0x154)]),c[_0x236f39(0x172)](id(_0x236f39(0x1cd)),this[_0x236f39(0x196)][this[_0x236f39(0x1f5)]],this[_0x236f39(0x1f8)][this[_0x236f39(0x1f5)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x236f39(0x194)](),this['noArrows']&&(c[_0x236f39(0x172)](id(_0x236f39(0x1a5)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x236f39(0x14e)]--),this[_0x236f39(0x177)][_0x236f39(0x1ac)]&&this['drawBow']();}['drawBow'](){const _0x4ecdf8=_0x96c55c;this['bow']['frameCounter']++,this[_0x4ecdf8(0x177)][_0x4ecdf8(0x1d2)]>=this[_0x4ecdf8(0x177)]['slowness']*DTR&&(this['bow'][_0x4ecdf8(0x1f5)]++,this['bow'][_0x4ecdf8(0x1d2)]=0x0,this[_0x4ecdf8(0x177)]['active']>=this[_0x4ecdf8(0x177)][_0x4ecdf8(0x196)][_0x4ecdf8(0x159)]&&(this[_0x4ecdf8(0x177)][_0x4ecdf8(0x1ac)]=![])),c[_0x4ecdf8(0x171)](),c[_0x4ecdf8(0x1df)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x4ecdf8(0x173)](this[_0x4ecdf8(0x154)]),c['drawImage'](id(_0x4ecdf8(0x177)),this['bow']['actionX'][this[_0x4ecdf8(0x177)][_0x4ecdf8(0x1f5)]],this[_0x4ecdf8(0x177)][_0x4ecdf8(0x1f8)][this['bow'][_0x4ecdf8(0x1f5)]],0x30,0x30,-this[_0x4ecdf8(0x177)]['w']/0x2,-this[_0x4ecdf8(0x177)]['h'],this[_0x4ecdf8(0x177)]['w'],this[_0x4ecdf8(0x177)]['h']),c['restore']();}['shoot'](){const _0x1923e3=_0x96c55c;this[_0x1923e3(0x177)][_0x1923e3(0x1ac)]=!![],this[_0x1923e3(0x177)][_0x1923e3(0x1d2)]=0x0,this[_0x1923e3(0x177)][_0x1923e3(0x1f6)]=0x0,this[_0x1923e3(0x177)][_0x1923e3(0x1f5)]=0x0;let _0xb33329=this['x']+this['w']/0x2,_0x2d0944=this['y']+this['h']/0x2,_0x53cf62=Mouse['x']-_0xb33329+Math['random']()*this[_0x1923e3(0x168)]-this[_0x1923e3(0x168)]/0x2,_0x41182c=Mouse['y']-_0x2d0944+Math['random']()*this[_0x1923e3(0x168)]-this['precision']/0x2,_0x5e8428=Math[_0x1923e3(0x1e4)](_0x41182c,_0x53cf62),_0xe656bd=Math['cos'](_0x5e8428),_0x4c7260=Math[_0x1923e3(0x191)](_0x5e8428),_0x3789a5=new Projectile();_0x3789a5[_0x1923e3(0x15c)]=_0xe656bd*this[_0x1923e3(0x1dd)],_0x3789a5['yVel']=_0x4c7260*this[_0x1923e3(0x1dd)],_0x3789a5['x']=_0xb33329,_0x3789a5['y']=_0x2d0944,_0x3789a5[_0x1923e3(0x1f0)]=this[_0x1923e3(0x18d)][0x0],playerArrows[_0x1923e3(0x190)](_0x3789a5),this[_0x1923e3(0x18d)][_0x1923e3(0x1c2)](),this[_0x1923e3(0x18d)][_0x1923e3(0x190)](0x0);}['attack'](){const _0x491159=_0x96c55c;if(!sword['active']){sword[_0x491159(0x1ac)]=!![],sword[_0x491159(0x17b)]=this['radians'];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x41eafd=this['x']+this['w']/0x2,_0x8e22b0=this['y']+this['h']/0x2,_0x40d33d=returnCosine(Mouse['x'],Mouse['y'],_0x41eafd,_0x8e22b0);this[_0x491159(0x1ba)]=_0x40d33d[_0x491159(0x16f)]*0xe,this['yVelExt']=_0x40d33d[_0x491159(0x191)]*0xe;}}}}var player=new Player(CANVAS[_0x96c55c(0x1c5)]/0x2,CANVAS[_0x96c55c(0x193)]/0x4*0x3);class UserInterface{constructor(){const _0x56478a=_0x96c55c;this[_0x56478a(0x1a5)]=id(_0x56478a(0x174)),this['x']=0x14,this['y']=0x5,this[_0x56478a(0x1bc)]=![],this[_0x56478a(0x181)]=![],this['attacked']=0x0,this[_0x56478a(0x1bf)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0x56478a(0x170)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0x56478a(0x1d0)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0x56478a(0x17d)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this['bow']={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x56478a(0x162)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this['arrow']={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x56478a(0x18d)]=[0x1,0x1,0x1,0x1];}[_0x96c55c(0x1b5)](){const _0x1c0138=_0x96c55c;this[_0x1c0138(0x1bc)]&&(c[_0x1c0138(0x15b)]=0.5);c['drawImage'](this[_0x1c0138(0x1a5)],this[_0x1c0138(0x177)][_0x1c0138(0x19f)]['x'],this[_0x1c0138(0x177)][_0x1c0138(0x19f)]['y'],this[_0x1c0138(0x177)][_0x1c0138(0x19f)]['w'],this['bow'][_0x1c0138(0x19f)]['h'],this[_0x1c0138(0x177)][_0x1c0138(0x19d)]['x'],this[_0x1c0138(0x177)]['pos']['y'],this[_0x1c0138(0x177)][_0x1c0138(0x19f)]['w'],this['bow'][_0x1c0138(0x19f)]['h']);this[_0x1c0138(0x1bc)]&&(c[_0x1c0138(0x15b)]=0x1);this[_0x1c0138(0x181)]&&(c[_0x1c0138(0x15b)]=0.5);c['drawImage'](this[_0x1c0138(0x1a5)],this[_0x1c0138(0x162)][_0x1c0138(0x19f)]['x'],this[_0x1c0138(0x162)][_0x1c0138(0x19f)]['y'],this['sword'][_0x1c0138(0x19f)]['w'],this['sword'][_0x1c0138(0x19f)]['h'],this['sword']['pos']['x'],this[_0x1c0138(0x162)][_0x1c0138(0x19d)]['y'],this[_0x1c0138(0x162)][_0x1c0138(0x19f)]['w'],this[_0x1c0138(0x162)][_0x1c0138(0x19f)]['h']);this[_0x1c0138(0x181)]&&(c[_0x1c0138(0x15b)]=0x1);c[_0x1c0138(0x172)](this['sheet'],this[_0x1c0138(0x1bf)][_0x1c0138(0x19f)]['x'],this[_0x1c0138(0x1bf)][_0x1c0138(0x19f)]['y'],this['layout'][_0x1c0138(0x19f)]['w'],this['layout']['crop']['h'],this[_0x1c0138(0x1bf)][_0x1c0138(0x19d)]['x']+this['x'],this['layout'][_0x1c0138(0x19d)]['y']+this['y'],this[_0x1c0138(0x1bf)][_0x1c0138(0x19f)]['w'],this[_0x1c0138(0x1bf)][_0x1c0138(0x19f)]['h']),c[_0x1c0138(0x172)](this[_0x1c0138(0x1a5)],this[_0x1c0138(0x170)][_0x1c0138(0x19f)][player[_0x1c0138(0x15d)]]['x'],this[_0x1c0138(0x170)][_0x1c0138(0x19f)][player[_0x1c0138(0x15d)]]['y'],this[_0x1c0138(0x170)][_0x1c0138(0x19f)][player[_0x1c0138(0x15d)]]['w'],this[_0x1c0138(0x170)][_0x1c0138(0x19f)][player[_0x1c0138(0x15d)]]['h'],this[_0x1c0138(0x170)]['pos']['x']+this['x'],this[_0x1c0138(0x170)][_0x1c0138(0x19d)]['y']+this['y'],this[_0x1c0138(0x170)]['crop'][player[_0x1c0138(0x15d)]]['w'],this[_0x1c0138(0x170)][_0x1c0138(0x19f)][player[_0x1c0138(0x15d)]]['h']),c[_0x1c0138(0x172)](this['sheet'],this[_0x1c0138(0x1d0)][_0x1c0138(0x19f)]['x'],this['hpBar']['crop']['y'],this[_0x1c0138(0x1d0)][_0x1c0138(0x19f)]['w'],this['hpBar'][_0x1c0138(0x19f)]['h'],this['hpBar'][_0x1c0138(0x19d)]['x']+this['x'],this[_0x1c0138(0x1d0)][_0x1c0138(0x19d)]['y']+this['y'],this[_0x1c0138(0x1d0)][_0x1c0138(0x19f)]['w']/player[_0x1c0138(0x17e)]*player['hp'],this['hpBar'][_0x1c0138(0x19f)]['h']),c[_0x1c0138(0x172)](this[_0x1c0138(0x1a5)],this[_0x1c0138(0x17d)][_0x1c0138(0x19f)]['x'],this['mpBar'][_0x1c0138(0x19f)]['y'],this['mpBar'][_0x1c0138(0x19f)]['w'],this[_0x1c0138(0x17d)]['crop']['h'],this[_0x1c0138(0x17d)]['pos']['x']+this['x'],this[_0x1c0138(0x17d)][_0x1c0138(0x19d)]['y']+this['y'],this['mpBar']['crop']['w'],this['mpBar'][_0x1c0138(0x19f)]['h']);for(let _0x33574b=0x0;_0x33574b<player[_0x1c0138(0x18d)][_0x1c0138(0x159)];_0x33574b++){c[_0x1c0138(0x172)](this['sheet'],this['arrow'][_0x1c0138(0x19f)][player[_0x1c0138(0x18d)][_0x33574b]]['x'],this[_0x1c0138(0x157)]['crop'][player['arrowsArr'][_0x33574b]]['y'],this['arrow'][_0x1c0138(0x19f)][player['arrowsArr'][_0x33574b]]['w'],this['arrow']['crop'][player[_0x1c0138(0x18d)][_0x33574b]]['h'],this[_0x1c0138(0x157)]['pos']['x']+this['x']-0xa*_0x33574b,this[_0x1c0138(0x157)][_0x1c0138(0x19d)]['y']+this['y'],this[_0x1c0138(0x157)][_0x1c0138(0x19f)][player[_0x1c0138(0x18d)][_0x33574b]]['w'],this[_0x1c0138(0x157)][_0x1c0138(0x19f)][player[_0x1c0138(0x18d)][_0x33574b]]['h']);}c[_0x1c0138(0x192)]=_0x1c0138(0x158),c[_0x1c0138(0x15f)]='center',c['fillStyle']='#2f4447',c[_0x1c0138(0x1c1)](player[_0x1c0138(0x1dc)]+'/'+player[_0x1c0138(0x18d)][_0x1c0138(0x159)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x4a6477=_0x96c55c;let _0x30ced9=player['x']+player['w']/0x2,_0x47cf37=player['y']+player['h']/0x2,_0x51a11c=_0x30ced9,_0x2d5626=_0x47cf37,_0x32f5da=![],_0x2ae171=0x0,_0x540504=returnCosine(_0x30ced9,_0x47cf37,Mouse['x'],Mouse['y']),_0x187288=[],_0x5aed4b={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x2ea587={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x3aa017=0x4,_0x535c12={'x':0x0,'y':0x0};while(!_0x32f5da&&_0x2ae171<CANVAS[_0x4a6477(0x1c5)]*0x2/_0x3aa017){_0x51a11c-=_0x540504['cos']*_0x3aa017,_0x2d5626-=_0x540504[_0x4a6477(0x191)]*_0x3aa017;getTileData(_0x51a11c,_0x2d5626)[_0x4a6477(0x19e)]&&(_0x5aed4b=getTileData(_0x51a11c,_0x2d5626)[_0x4a6477(0x1c4)],_0x2ea587['x']=_0x5aed4b['x'],_0x2ea587['y']=_0x5aed4b['y'],_0x2ea587['w']=_0x5aed4b['w'],_0x2ea587['h']=_0x5aed4b['h'],_0x2ea587['x']+=_0x51a11c-_0x51a11c%TILESIZE,_0x2ea587['y']+=_0x2d5626-_0x2d5626%TILESIZE,_0x32f5da=!![]);_0x535c12['x']=_0x51a11c,_0x535c12['y']=_0x2d5626;for(let _0x17a470=0x0;_0x17a470<monsters['length'];_0x17a470++){if(!monsters[_0x17a470]['dead']&&pointSquareCol(_0x535c12,monsters[_0x17a470])){_0x2ea587['x']=monsters[_0x17a470]['x'],_0x2ea587['y']=monsters[_0x17a470]['y'],_0x2ea587['w']=monsters[_0x17a470]['w'],_0x2ea587['h']=monsters[_0x17a470]['h'],_0x32f5da=!![];break;}}_0x2ae171++;}_0x187288=getRectSides(_0x2ea587);let _0x5021ae=[],_0x47b644={},_0x18af21;for(let _0x3b8263=0x0;_0x3b8263<_0x187288[_0x4a6477(0x159)];_0x3b8263++){_0x47b644=intersect(_0x30ced9,_0x47cf37,_0x51a11c,_0x2d5626,_0x187288[_0x3b8263]['x1'],_0x187288[_0x3b8263]['y1'],_0x187288[_0x3b8263]['x2'],_0x187288[_0x3b8263]['y2']),_0x47b644&&_0x5021ae[_0x4a6477(0x190)](_0x47b644);}let _0xed5496=Math['hypot'](_0x30ced9-_0x51a11c,_0x47cf37-_0x2d5626),_0x3e8c87=_0x51a11c,_0x4c1608=_0x51a11c;for(let _0x19470a=0x0;_0x19470a<_0x5021ae[_0x4a6477(0x159)];_0x19470a++){_0x18af21=Math['hypot'](_0x30ced9-_0x51a11c,_0x47cf37-_0x2d5626),_0x18af21<_0xed5496&&(_0xed5496=_0x18af21,_0x3e8c87=_0x5021ae[_0x19470a]['x'],_0x4c1608=_0x5021ae[_0x19470a]['y']);}c['strokeStyle']=_0x4a6477(0x1a4),c[_0x4a6477(0x151)](),c[_0x4a6477(0x1b3)](_0x30ced9+map['x'],_0x47cf37+map['y']),c[_0x4a6477(0x1a8)](_0x51a11c+map['x'],_0x2d5626+map['y']),c[_0x4a6477(0x1d3)](),c['strokeStyle']='black';}function isObstructed(_0x38b2b9,_0x35057f){const _0x398fe3=_0x96c55c;let _0x14b317=_0x38b2b9['x']+_0x38b2b9['w']/0x2,_0x1b9f0b=_0x38b2b9['y']+_0x38b2b9['h']/0x2,_0x3fb884=_0x35057f['x']+_0x35057f['w']/0x2,_0x24d2e2=_0x35057f['y']+_0x35057f['h']/0x2,_0x507e26=Math['hypot'](_0x14b317-_0x3fb884,_0x1b9f0b-_0x24d2e2),_0x505931=_0x14b317,_0x522e2e=_0x1b9f0b,_0x127eed=![],_0x5d1d54=0x0,_0x5415fa=returnCosine(_0x14b317,_0x1b9f0b,_0x3fb884,_0x24d2e2),_0x13edca=[],_0x34b94a={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x5caaad={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x1f00ee=0x3,_0x515e16={'x':0x0,'y':0x0};while(!_0x127eed&&_0x5d1d54<_0x507e26/_0x1f00ee){_0x505931-=_0x5415fa[_0x398fe3(0x16f)]*_0x1f00ee,_0x522e2e-=_0x5415fa[_0x398fe3(0x191)]*_0x1f00ee;if(getTileData(_0x505931,_0x522e2e)[_0x398fe3(0x19e)])return _0x34b94a=getTileData(_0x505931,_0x522e2e)['hitbox'],_0x5caaad['x']=_0x34b94a['x'],_0x5caaad['y']=_0x34b94a['y'],_0x5caaad['w']=_0x34b94a['w'],_0x5caaad['h']=_0x34b94a['h'],_0x5caaad['x']+=_0x505931-_0x505931%TILESIZE,_0x5caaad['y']+=_0x522e2e-_0x522e2e%TILESIZE,!![];_0x515e16['x']=_0x505931,_0x515e16['y']=_0x522e2e;if(pointSquareCol(_0x515e16,_0x35057f))return![];_0x5d1d54++;}}function getRectSides(_0x476fdf){const _0x532aaf=_0x96c55c;let _0x1af168=[];return _0x1af168[_0x532aaf(0x190)]({'x1':_0x476fdf['x'],'y1':_0x476fdf['y'],'x2':_0x476fdf['x']+_0x476fdf['w'],'y2':_0x476fdf['y']}),_0x1af168[_0x532aaf(0x190)]({'x1':_0x476fdf['x']+_0x476fdf['w'],'y1':_0x476fdf['y'],'x2':_0x476fdf['x']+_0x476fdf['w'],'y2':_0x476fdf['y']+_0x476fdf['h']}),_0x1af168[_0x532aaf(0x190)]({'x1':_0x476fdf['x']+_0x476fdf['w'],'y1':_0x476fdf['y']+_0x476fdf['h'],'x2':_0x476fdf['x'],'y2':_0x476fdf['y']+_0x476fdf['h']}),_0x1af168[_0x532aaf(0x190)]({'x1':_0x476fdf['x'],'y1':_0x476fdf['y']+_0x476fdf['h'],'x2':_0x476fdf['x'],'y2':_0x476fdf['y']}),_0x1af168;}function init(){const _0x422e4e=_0x96c55c;let _0x20ea44,_0x41ab0f={};fetch(_0x422e4e(0x167))[_0x422e4e(0x1a7)](function(_0x1aafd8){return _0x1aafd8['json']();})[_0x422e4e(0x1a7)](function(_0xdde570){const _0xe82e03=_0x422e4e;_0x20ea44=_0xdde570[_0xe82e03(0x17a)];for(let _0x374fcd=0x0;_0x374fcd<_0x20ea44[_0xe82e03(0x159)];_0x374fcd++){_0x41ab0f={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x41ab0f['id']=_0x20ea44[_0x374fcd]['id'];if(_0x20ea44[_0x374fcd][_0xe82e03(0x1fa)](_0xe82e03(0x1c9)))for(let _0x498886=0x0;_0x498886<_0x20ea44[_0x374fcd][_0xe82e03(0x1c9)]['length'];_0x498886++){if(_0x20ea44[_0x374fcd][_0xe82e03(0x1c9)][_0x498886])switch(_0x20ea44[_0x374fcd][_0xe82e03(0x1c9)][_0x498886][_0xe82e03(0x1e3)]){case'hole':_0x41ab0f[_0xe82e03(0x169)]=!![],_0x41ab0f[_0xe82e03(0x155)]=!![];break;case'solid':_0x41ab0f[_0xe82e03(0x19e)]=!![],_0x41ab0f[_0xe82e03(0x155)]=!![];break;}}TilesData[_0xe82e03(0x190)](_0x41ab0f);}loop();});}init();var HP_BAR=id(_0x96c55c(0x1a0));function renderHpBars(){const _0xa563f8=_0x96c55c;for(let _0x13bfa2=0x0;_0x13bfa2<monsters['length'];_0x13bfa2++){if(monsters[_0x13bfa2][_0xa563f8(0x1a9)])continue;let _0x499dbd=monsters[_0x13bfa2]['hp']/monsters[_0x13bfa2][_0xa563f8(0x17e)],_0x2e8998=Math[_0xa563f8(0x16c)](TILESIZE*_0x499dbd);c[_0xa563f8(0x172)](HP_BAR,0x0,0x4,_0x2e8998,0x4,monsters[_0x13bfa2]['x']+monsters[_0x13bfa2]['w']/0x2-0x10+map['x']|0x0,monsters[_0x13bfa2]['y']-0x8+map['y']|0x0,_0x2e8998|0x0,0x4|0x0),c[_0xa563f8(0x172)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x13bfa2]['x']+monsters[_0x13bfa2]['w']/0x2-0x10+map['x']|0x0,monsters[_0x13bfa2]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0xcc0ae3=_0x96c55c;this[_0xcc0ae3(0x1c5)]=0x17,this[_0xcc0ae3(0x193)]=0xf,this['x']=0x0,this['y']=0x0,this['tiles']=maps['m1'],this[_0xcc0ae3(0x1a5)]=id(_0xcc0ae3(0x1a5)),this[_0xcc0ae3(0x166)]=id(_0xcc0ae3(0x166));}[_0x96c55c(0x1b5)](){const _0x4067f9=_0x96c55c;for(let _0x4ad522=0x0;_0x4ad522<this[_0x4067f9(0x17a)][_0x4067f9(0x159)];_0x4ad522++){_0x4ad522==0x1&&c[_0x4067f9(0x172)](this[_0x4067f9(0x166)],0x0+this['x'],0x0+this['y'],CANVAS['width'],CANVAS[_0x4067f9(0x193)]);for(let _0x4fadb8=0x0;_0x4fadb8<this[_0x4067f9(0x17a)][_0x4ad522]['length'];_0x4fadb8++){if(this[_0x4067f9(0x17a)][_0x4ad522][_0x4fadb8]===0x0)continue;c[_0x4067f9(0x172)](this['sheet'],(this[_0x4067f9(0x17a)][_0x4ad522][_0x4fadb8]-0x1)%0xf*TILESIZE,((this[_0x4067f9(0x17a)][_0x4ad522][_0x4fadb8]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x4fadb8%this[_0x4067f9(0x1c5)]*TILESIZE+map['x'],(_0x4fadb8/this['width']|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x11b368=_0x96c55c;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x11b368(0x154)]=0x2,this[_0x11b368(0x17b)]=0x0,this['actionX']=[0x0],this[_0x11b368(0x1f8)]=[0x0],this['vfxX']=[0x0,0x0,0x0,0x0],this[_0x11b368(0x1f4)]=[0x0,0x80,0x100,0x180],this['currentFrame']=0x0,this[_0x11b368(0x1d2)]=0x0,this[_0x11b368(0x1f5)]=0x0,this[_0x11b368(0x1be)]=0x3,this[_0x11b368(0x1ac)]=![],this[_0x11b368(0x1a5)]=id('sword-vfx'),this[_0x11b368(0x1cc)]=id(_0x11b368(0x162));}['compute'](){const _0x13e382=_0x96c55c;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x25c53c,_0x509a4f,_0x3feb7d;for(let _0x380df1=0x0;_0x380df1<monsters[_0x13e382(0x159)];_0x380df1++){if(monsters[_0x380df1][_0x13e382(0x1a9)]||!monsters[_0x380df1]['collidable'])continue;_0x25c53c=monsters[_0x380df1][_0x13e382(0x1c4)]['x']+monsters[_0x380df1][_0x13e382(0x1c4)]['w']/0x2,_0x509a4f=monsters[_0x380df1]['hitbox']['y']+monsters[_0x380df1][_0x13e382(0x1c4)]['h']/0x2,_0x3feb7d=(monsters[_0x380df1]['w']+monsters[_0x380df1]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x25c53c,_0x509a4f,_0x3feb7d)){let _0x548f05=this['x']+this['w']/0x2,_0x579156=this['y']+this['h']/0x2,_0x4490af=monsters[_0x380df1]['x']-_0x548f05,_0xca527f=monsters[_0x380df1]['y']-_0x579156,_0x228def=Math[_0x13e382(0x1e4)](_0xca527f,_0x4490af),_0x17f58b=Math['cos'](_0x228def),_0x1b1b59=Math['sin'](_0x228def);monsters[_0x380df1][_0x13e382(0x1ba)]=_0x17f58b*0xa,monsters[_0x380df1][_0x13e382(0x1bd)]=_0x1b1b59*0xa,monsters[_0x380df1]['hp']-=0.25,monsters[_0x380df1]['justDamaged']=0xf;}}}[_0x96c55c(0x1b5)](){const _0xbc071e=_0x96c55c;this[_0xbc071e(0x1d2)]++,this[_0xbc071e(0x1d2)]>this['slowness']*DTR&&(this[_0xbc071e(0x1d2)]=0x0,this[_0xbc071e(0x1f6)]++,this[_0xbc071e(0x1f6)]>=this[_0xbc071e(0x150)][_0xbc071e(0x159)]&&(this[_0xbc071e(0x1f6)]=0x0)),c[_0xbc071e(0x172)](this[_0xbc071e(0x1a5)],this[_0xbc071e(0x150)][this[_0xbc071e(0x1f6)]],this[_0xbc071e(0x1f4)][this[_0xbc071e(0x1f6)]],0x80,0x40,this['x']-0x40-player[_0xbc071e(0x1ba)]*0x4+map['x'],this['y']-0x40-player[_0xbc071e(0x1bd)]*0x4+map['y'],0x80,0x40),c['save'](),c['translate'](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0xbc071e(0x173)](this[_0xbc071e(0x17b)]+this[_0xbc071e(0x154)]),c[_0xbc071e(0x172)](this[_0xbc071e(0x1cc)],this[_0xbc071e(0x196)][this[_0xbc071e(0x1f5)]],this['actionY'][this[_0xbc071e(0x1f5)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0xbc071e(0x194)](),this[_0xbc071e(0x154)]-=0.5/DTR,this['radians']<=-0x9&&(this[_0xbc071e(0x1ac)]=![],this['radians']=0x2),c[_0xbc071e(0x172)](this[_0xbc071e(0x1a5)],this['vfxX'][this[_0xbc071e(0x1f6)]],this[_0xbc071e(0x1f4)][this['currentFrame']]+0x40,0x80,0x40,this['x']-0x40-player[_0xbc071e(0x1ba)]*0x4+map['x'],this['y']-player[_0xbc071e(0x1bd)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x119bda=_0x96c55c;monsters[_0x119bda(0x1b2)](function(_0x339968,_0x31fa27){const _0xed49d=_0x119bda;if(_0x339968['dead']&&!_0x31fa27[_0xed49d(0x1a9)])return-0x1;else return!_0x339968['dead']&&_0x31fa27[_0xed49d(0x1a9)]?0x1:_0x339968['y']+0xf-_0x31fa27['y'];});}function adjustCollidingMonsters(){const _0x598c5f=_0x96c55c;for(let _0x76677b=0x0;_0x76677b<monsters[_0x598c5f(0x159)];_0x76677b++){if(monsters[_0x76677b][_0x598c5f(0x1a9)])continue;monsters[_0x76677b][_0x598c5f(0x16a)]['T']=0x0,monsters[_0x76677b][_0x598c5f(0x16a)]['B']=0x0,monsters[_0x76677b]['col']['L']=0x0,monsters[_0x76677b][_0x598c5f(0x16a)]['R']=0x0;for(let _0x2d9d3d=0x0;_0x2d9d3d<monsters[_0x598c5f(0x159)];_0x2d9d3d++){if(monsters[_0x2d9d3d][_0x598c5f(0x1a9)])continue;if(collided(monsters[_0x76677b],monsters[_0x2d9d3d])){let _0x5bcf6a=colCheck(monsters[_0x76677b],monsters[_0x2d9d3d]);switch(_0x5bcf6a){case'l':this['xVel']<0x0&&(this[_0x598c5f(0x15c)]=0x0);break;case'r':this[_0x598c5f(0x15c)]>0x0&&(this[_0x598c5f(0x15c)]=0x0);break;case'b':this[_0x598c5f(0x161)]>0x0&&(this[_0x598c5f(0x161)]=0x0);break;case't':this[_0x598c5f(0x161)]<0x0&&(this['yVel']=0x0);break;}monsters[_0x76677b][_0x598c5f(0x15c)]+=(monsters[_0x76677b][_0x598c5f(0x16a)]['L']-monsters[_0x76677b][_0x598c5f(0x16a)]['R'])/0x5,monsters[_0x76677b][_0x598c5f(0x161)]+=(monsters[_0x76677b][_0x598c5f(0x16a)]['T']-monsters[_0x76677b][_0x598c5f(0x16a)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x5787be,_0x386736){const _0x57ca0b=_0x96c55c;super(Collidable),this['x']=_0x5787be,this['y']=_0x386736,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x57ca0b(0x15c)]=0x0,this['yVel']=0x0,this[_0x57ca0b(0x1ba)]=0x0,this['yVelExt']=0x0,this['speed']=0x2,this[_0x57ca0b(0x16d)]=0x0,this['justDied']=![],this[_0x57ca0b(0x1e7)]=0x0,this[_0x57ca0b(0x1a9)]=![],this[_0x57ca0b(0x185)]=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x57ca0b(0x1d2)]=0x0,this[_0x57ca0b(0x1be)]=0x4,this[_0x57ca0b(0x1f6)]=0x0,this[_0x57ca0b(0x176)]=!![],this[_0x57ca0b(0x1a5)]=id(_0x57ca0b(0x1a5)),this['action']=0x0,this[_0x57ca0b(0x16a)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x57ca0b(0x1c4)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x57ca0b(0x196)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x57ca0b(0x1f8)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x96c55c(0x1d7)](){const _0x7e2896=_0x96c55c;if(this[_0x7e2896(0x1f5)]!==0x0){let _0x4d3d81=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x7d6d31=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x2fc32e=_0x4d3d81>0x0?-0x1:0x1,_0x517168=_0x7d6d31>0x0?-0x1:0x1,_0x2d42f9;_0x7d6d31!==0x0?_0x2d42f9=Math[_0x7e2896(0x1d5)](_0x4d3d81)/(Math[_0x7e2896(0x1d5)](_0x7d6d31)+Math[_0x7e2896(0x1d5)](_0x4d3d81)):_0x2d42f9=0x0;this[_0x7e2896(0x15c)]=this[_0x7e2896(0x14f)]*_0x2d42f9*_0x2fc32e,this['yVel']=this[_0x7e2896(0x14f)]*(0x1-_0x2d42f9)*_0x517168;if(this['x']+this['w']<player['x'])this[_0x7e2896(0x16d)]=![];else player['x']+player['w']<this['x']&&(this[_0x7e2896(0x16d)]=!![]);}}[_0x96c55c(0x1eb)](){const _0x1d12cd=_0x96c55c;if(!this[_0x1d12cd(0x1a9)]){this['followPlayer']();Math[_0x1d12cd(0x1d5)](this[_0x1d12cd(0x1ba)])>0.01?this[_0x1d12cd(0x1ba)]*=0.9:this['xVelExt']=0x0;Math[_0x1d12cd(0x1d5)](this['yVelExt'])>0.01?this[_0x1d12cd(0x1bd)]*=0.9:this['yVelExt']=0x0;(this[_0x1d12cd(0x16a)]['T']&&this[_0x1d12cd(0x161)]<0x0||this[_0x1d12cd(0x16a)]['B']&&this['yVel']>0x0)&&(this['yVel']=0x0);(this[_0x1d12cd(0x16a)]['L']&&this[_0x1d12cd(0x15c)]<0x0||this['col']['R']&&this['xVel']>0x0)&&(this[_0x1d12cd(0x15c)]=0x0);this['action']!==0x0&&(this[_0x1d12cd(0x16d)]?this[_0x1d12cd(0x1f5)]=0x2:this['action']=0x1);this[_0x1d12cd(0x15e)](),this['x']+=(this[_0x1d12cd(0x15c)]+this[_0x1d12cd(0x1ba)])/DTR,this['y']+=(this[_0x1d12cd(0x161)]+this[_0x1d12cd(0x1bd)])/DTR;for(let _0x1569e6=0x0;_0x1569e6<this[_0x1d12cd(0x185)][_0x1d12cd(0x159)];_0x1569e6++){this[_0x1d12cd(0x185)][_0x1569e6]['x']=this['x']+this[_0x1d12cd(0x185)][_0x1569e6]['xRel'],this[_0x1d12cd(0x185)][_0x1569e6]['y']=this['y']+this[_0x1d12cd(0x185)][_0x1569e6][_0x1d12cd(0x1f9)];}this['hitbox']['x']=this['x']+0x6,this['hitbox']['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x1d12cd(0x14b)]=!![]),this[_0x1d12cd(0x14b)]&&(this[_0x1d12cd(0x1e7)]=0x0,this[_0x1d12cd(0x1a9)]=!![],this[_0x1d12cd(0x1f5)]=0x3,this['frameCounter']=0x0,this[_0x1d12cd(0x1f6)]=0x0,this[_0x1d12cd(0x1be)]=0xa);}}['draw'](){const _0x7c457c=_0x96c55c;this[_0x7c457c(0x1d2)]++;this[_0x7c457c(0x1d2)]>this[_0x7c457c(0x1be)]*DTR&&(this[_0x7c457c(0x1d2)]=0x0,this[_0x7c457c(0x1f6)]++,this[_0x7c457c(0x1f6)]>=this[_0x7c457c(0x196)][this[_0x7c457c(0x1f5)]][_0x7c457c(0x159)]&&(this[_0x7c457c(0x1f5)]==0x0&&(this['action']=0x1+this[_0x7c457c(0x16d)]),this['currentFrame']=0x0));this['action']==0x3&&(this[_0x7c457c(0x1f6)]==this[_0x7c457c(0x196)][this[_0x7c457c(0x1f5)]][_0x7c457c(0x159)]-0x1&&(this[_0x7c457c(0x1d2)]=0x0));if(!this[_0x7c457c(0x1a9)])for(let _0x2bcd5c=0x0;_0x2bcd5c<this['arrows'][_0x7c457c(0x159)];_0x2bcd5c++){this[_0x7c457c(0x185)][_0x2bcd5c]['draw']();}this[_0x7c457c(0x1e7)]>0x0&&(this[_0x7c457c(0x1f5)]=0x4,this['currentFrame']=0x0,this[_0x7c457c(0x1d4)]=0x0,this[_0x7c457c(0x1e7)]-=0x1/DTR),c[_0x7c457c(0x172)](this[_0x7c457c(0x1a5)],this[_0x7c457c(0x196)][this['action']][this[_0x7c457c(0x1f6)]]*TILESIZE,this[_0x7c457c(0x1f8)][this[_0x7c457c(0x1f5)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x308873,_0x493c20){const _0x2d759e=_0x96c55c;super(Collidable),this['x']=(_0x308873/TILESIZE|0x0)*TILESIZE,this['y']=(_0x493c20/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x2d759e(0x15c)]=0x0,this[_0x2d759e(0x161)]=0x0,this[_0x2d759e(0x1ba)]=0x0,this[_0x2d759e(0x1bd)]=0x0,this[_0x2d759e(0x14f)]=0x2,this[_0x2d759e(0x16d)]=0x0,this[_0x2d759e(0x14b)]=![],this[_0x2d759e(0x1e7)]=0x0,this['dead']=![],this[_0x2d759e(0x14a)]=![],this[_0x2d759e(0x185)]=[],this['maxHp']=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0x2d759e(0x1be)]=0x4,this['currentFrame']=0x0,this[_0x2d759e(0x1a5)]=id(_0x2d759e(0x1a5)),this[_0x2d759e(0x1f5)]=0x0,this['collidable']=!![],this[_0x2d759e(0x1e2)]=[],this[_0x2d759e(0x16a)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x2d759e(0x1c4)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0x2d759e(0x18c)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x2d759e(0x196)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this['actionY']=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this['counter']=0x0;}[_0x96c55c(0x1d7)](){const _0x5a7a38=_0x96c55c;this[_0x5a7a38(0x18c)]['x']=this['x']-0x5*TILESIZE,this[_0x5a7a38(0x18c)]['y']=this['y']-0x5*TILESIZE,this['atkBox']['w']=0xb*TILESIZE,this[_0x5a7a38(0x18c)]['h']=0xb*TILESIZE;if(collided(this['atkBox'],player)){if(this[_0x5a7a38(0x14a)]){if(this[_0x5a7a38(0x1f6)]==0x0&&this[_0x5a7a38(0x1d2)]==0x0){this[_0x5a7a38(0x1ad)]();switch(this[_0x5a7a38(0x1e2)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x5a7a38(0x1f5)]!==0x1&&(this['action']=0x1,this['currentFrame']=0x0,this[_0x5a7a38(0x1d2)]=0x0);}else this[_0x5a7a38(0x14a)]&&this[_0x5a7a38(0x1f5)]!==0x0&&this[_0x5a7a38(0x1f5)]!==0x2&&(this[_0x5a7a38(0x14a)]=![],this['collidable']=!![],this[_0x5a7a38(0x1f5)]=0x2,this[_0x5a7a38(0x1f6)]=0x0,this['frameCounter']=0x0);}['compute'](){const _0x1d7849=_0x96c55c;this[_0x1d7849(0x1d7)](),this['hitbox']['x']=this['x']+(this['w']-0xe)/0x2,this['hitbox']['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x6340a=0x0;_0x6340a<this['arrows'][_0x1d7849(0x159)];_0x6340a++){this[_0x1d7849(0x185)][_0x6340a]['x']=this['x']+this[_0x1d7849(0x185)][_0x6340a][_0x1d7849(0x14c)],this[_0x1d7849(0x185)][_0x6340a]['y']=this['y']+this[_0x1d7849(0x185)][_0x6340a][_0x1d7849(0x1f9)];}this['hp']<=0x0&&(this['justDied']=!![]),this[_0x1d7849(0x14b)]&&(this['justDamaged']=0x0,this[_0x1d7849(0x1a9)]=!![],this['action']=0x3,this[_0x1d7849(0x1d2)]=0x0,this['currentFrame']=0x0,this[_0x1d7849(0x1be)]=0xa);}[_0x96c55c(0x1b5)](){const _0xa9bba2=_0x96c55c;this[_0xa9bba2(0x1d2)]++;this[_0xa9bba2(0x1f5)]==0x4?this[_0xa9bba2(0x1be)]=0x3:this['slowness']=0x5;if(this[_0xa9bba2(0x1d2)]>this[_0xa9bba2(0x1be)]*DTR){this['frameCounter']=0x0,this[_0xa9bba2(0x1f6)]++;if(this[_0xa9bba2(0x1f6)]>=this[_0xa9bba2(0x196)][this[_0xa9bba2(0x1f5)]]['length']){if(this['dead'])this['currentFrame']=this[_0xa9bba2(0x196)][this[_0xa9bba2(0x1f5)]][_0xa9bba2(0x159)]-0x1;else{if(this[_0xa9bba2(0x1f5)]==0x1)this['attacking']=!![],this[_0xa9bba2(0x176)]=![],this[_0xa9bba2(0x1f5)]=0x4,this[_0xa9bba2(0x1f6)]=0x0;else this[_0xa9bba2(0x1f5)]==0x2?(this[_0xa9bba2(0x1f5)]=0x0,this[_0xa9bba2(0x1f6)]=0x0):this[_0xa9bba2(0x1f6)]=0x0;}}}if(!this[_0xa9bba2(0x1a9)]){if(this[_0xa9bba2(0x1f5)]==0x0)for(let _0x28d682=0x0;_0x28d682<this[_0xa9bba2(0x185)]['length'];_0x28d682++){this[_0xa9bba2(0x185)][_0x28d682]['draw']();}}this[_0xa9bba2(0x1e7)]>0x0&&(this[_0xa9bba2(0x1f5)]=0x3,this[_0xa9bba2(0x1f6)]=0x0,this[_0xa9bba2(0x1d4)]=0x0,this[_0xa9bba2(0x1e7)]-=0x1/DTR,this[_0xa9bba2(0x1e7)]<=0x0&&(this[_0xa9bba2(0x1f5)]=0x0)),c[_0xa9bba2(0x172)](this[_0xa9bba2(0x1a5)],this['actionX'][this[_0xa9bba2(0x1f5)]][this[_0xa9bba2(0x1f6)]]*TILESIZE,this[_0xa9bba2(0x1f8)][this[_0xa9bba2(0x1f5)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x96c55c(0x1ad)](){const _0x145399=_0x96c55c;let _0x11a519=0xb,_0x5d5bc0=[],_0x32ca59=this['x']+this['w']/0x2-TILESIZE*0x5,_0x4a0379=this['y']+this['h']/0x2-TILESIZE*0x5,_0x281fac;for(let _0x2597c4=0x0;_0x2597c4<_0x11a519;_0x2597c4++){_0x5d5bc0[_0x2597c4]=[];for(let _0x2890af=0x0;_0x2890af<_0x11a519;_0x2890af++){_0x281fac=getTileData(_0x32ca59+_0x2597c4*TILESIZE,_0x4a0379+_0x2890af*TILESIZE),_0x281fac===![]?_0x5d5bc0[_0x2597c4][_0x2890af]=_0x145399(0x1c3):_0x5d5bc0[_0x2597c4][_0x2890af]=_0x145399(0x1ef);}}_0x5d5bc0[0x5][0x5]='Start',_0x5d5bc0[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x145399(0x16e),this[_0x145399(0x1e2)]=findShortestPath([0x5,0x5],_0x5d5bc0);}}class Flower extends Collidable{constructor(_0x404035,_0x2537a8){const _0x2398ec=_0x96c55c;super(Collidable),this['x']=_0x404035,this['y']=_0x2537a8,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x2398ec(0x15c)]=0x0,this[_0x2398ec(0x161)]=0x0,this['xVelExt']=0x0,this['yVelExt']=0x0,this[_0x2398ec(0x14f)]=0x2,this[_0x2398ec(0x16d)]=0x0,this[_0x2398ec(0x14b)]=![],this[_0x2398ec(0x1e7)]=0x0,this[_0x2398ec(0x1a9)]=![],this[_0x2398ec(0x185)]=[],this[_0x2398ec(0x17e)]=0x3,this['hp']=0x3,this[_0x2398ec(0x1d2)]=0x0,this[_0x2398ec(0x1be)]=0x8,this['attacking']=![],this[_0x2398ec(0x1f6)]=0x0,this[_0x2398ec(0x1a5)]=id(_0x2398ec(0x1a5)),this[_0x2398ec(0x168)]=0x5,this['projSpeed']=0x8,this[_0x2398ec(0x176)]=!![],this[_0x2398ec(0x16a)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x2398ec(0x1c4)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x2398ec(0x1f5)]=0x0,this[_0x2398ec(0x196)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x2398ec(0x1f8)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this['headX']=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x2398ec(0x1cf)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x2398ec(0x154)]=0x0,this[_0x2398ec(0x1b8)]=![];}[_0x96c55c(0x153)](){const _0x1cde57=_0x96c55c;if(!isObstructed(this,player)){this[_0x1cde57(0x14a)]=!![];if(this[_0x1cde57(0x1f6)]==0x2){if(!this[_0x1cde57(0x1b8)]){let _0x386569=new EnemyProjectile(),_0x81e5be=this['x']+this['w']/0x2,_0x5aa637=this['y']+this['h']/0x2,_0x53e89f=player['x']+player['w']/0x2-_0x81e5be+Math[_0x1cde57(0x1ea)]()*this['precision']-this[_0x1cde57(0x168)]/0x2,_0x331289=player['y']+player['h']/0x2-_0x5aa637+Math['random']()*this[_0x1cde57(0x168)]-this[_0x1cde57(0x168)]/0x2,_0x1017a1=Math[_0x1cde57(0x1e4)](_0x331289,_0x53e89f),_0x2c1d88=Math[_0x1cde57(0x16f)](_0x1017a1),_0x5d9c5a=Math[_0x1cde57(0x191)](_0x1017a1);_0x386569[_0x1cde57(0x15c)]=_0x2c1d88*this[_0x1cde57(0x1c8)],_0x386569[_0x1cde57(0x161)]=_0x5d9c5a*this[_0x1cde57(0x1c8)],_0x386569['x']=_0x81e5be,_0x386569['y']=_0x5aa637,enemyProjectiles[_0x1cde57(0x190)](_0x386569),this[_0x1cde57(0x1b8)]=!![];}}else this['justShot']=![];}else this[_0x1cde57(0x14a)]=![];}['compute'](){const _0x308c8c=_0x96c55c;this[_0x308c8c(0x153)](),this['hitbox']['x']=this['x']+this['w']/0x3,this[_0x308c8c(0x1c4)]['y']=this['y']+this['h']/0x5,this[_0x308c8c(0x154)]=Math['atan2'](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x5b7d24=0x0;_0x5b7d24<this[_0x308c8c(0x185)][_0x308c8c(0x159)];_0x5b7d24++){this[_0x308c8c(0x185)][_0x5b7d24]['x']=this['x']+this['arrows'][_0x5b7d24]['xRel'],this['arrows'][_0x5b7d24]['y']=this['y']+this[_0x308c8c(0x185)][_0x5b7d24][_0x308c8c(0x1f9)];}this['hp']<=0x0&&(this['justDied']=!![]),this[_0x308c8c(0x14b)]&&(this[_0x308c8c(0x1e7)]=0x0,this[_0x308c8c(0x1a9)]=!![],this[_0x308c8c(0x1f5)]=0x2,this[_0x308c8c(0x1d2)]=0x0,this[_0x308c8c(0x1f6)]=0x0,this[_0x308c8c(0x1be)]=0xa);}[_0x96c55c(0x1b5)](){const _0x66e665=_0x96c55c;this[_0x66e665(0x1d2)]++;this[_0x66e665(0x1d2)]>this[_0x66e665(0x1be)]*DTR&&(this['frameCounter']=0x0,this[_0x66e665(0x1f6)]++,this[_0x66e665(0x1f6)]>=this[_0x66e665(0x196)][this[_0x66e665(0x1f5)]][_0x66e665(0x159)]&&(this[_0x66e665(0x1a9)]?this[_0x66e665(0x1f6)]=this[_0x66e665(0x196)][this[_0x66e665(0x1f5)]]['length']-0x1:this['currentFrame']=0x0));if(!this[_0x66e665(0x1a9)]){this[_0x66e665(0x14a)]?this[_0x66e665(0x1f5)]=0x1:this[_0x66e665(0x1f5)]=0x0;for(let _0x576649=0x0;_0x576649<this[_0x66e665(0x185)]['length'];_0x576649++){this['arrows'][_0x576649][_0x66e665(0x1b5)]();}}this[_0x66e665(0x14a)]?this[_0x66e665(0x1be)]=0x4:this[_0x66e665(0x1be)]=0x8,this[_0x66e665(0x1e7)]&&(this[_0x66e665(0x1f5)]=0x2,this['currentFrame']=0x0,this['framecounter']=0x0,this[_0x66e665(0x1e7)]--),c[_0x66e665(0x172)](this['sheet'],this['actionX'][this[_0x66e665(0x1f5)]][this['currentFrame']]*TILESIZE,this[_0x66e665(0x1f8)][this['action']][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this['action']==0x0||this[_0x66e665(0x1f5)]==0x1)&&(c[_0x66e665(0x171)](),c[_0x66e665(0x1df)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x66e665(0x173)](this[_0x66e665(0x154)]),c['drawImage'](this[_0x66e665(0x1a5)],this['headX'][this[_0x66e665(0x1f5)]][this['currentFrame']]*TILESIZE,this['headY'][this['action']][this['currentFrame']]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x66e665(0x194)]());}}function getTileData(_0x4dc0c3,_0x15c059){const _0x174051=_0x96c55c;let _0x2f88ce=(_0x4dc0c3/TILESIZE|0x0)+(_0x15c059/TILESIZE|0x0)*map['width'];for(let _0x45ac11=0x0;_0x45ac11<map[_0x174051(0x17a)][_0x174051(0x159)];_0x45ac11++){for(let _0x5c98f0=0x0;_0x5c98f0<TilesData[_0x174051(0x159)];_0x5c98f0++){if(TilesData[_0x5c98f0]['id']==map['tiles'][_0x45ac11][_0x2f88ce]-0x1)return TilesData[_0x5c98f0];}}return![];}window[_0x96c55c(0x160)]=function(){const _0x1a56c7=_0x96c55c;player[_0x1a56c7(0x1dc)]!==0x0?player[_0x1a56c7(0x153)]():player[_0x1a56c7(0x14e)]=0xa;},window[_0x96c55c(0x1d9)]=function(_0x554f2e){const _0x55ec6e=_0x96c55c;_0x554f2e[_0x55ec6e(0x1e0)](),player[_0x55ec6e(0x1f7)]();},document[_0x96c55c(0x197)](_0x96c55c(0x195),function(_0x314852){const _0x5c95d8=_0x96c55c;switch(_0x314852[_0x5c95d8(0x1f2)]){case 0x0:userInterface['lClick']=!![];break;case 0x2:userInterface[_0x5c95d8(0x181)]=!![];break;}}),document[_0x96c55c(0x197)](_0x96c55c(0x19a),function(_0xcfb090){const _0x1086c4=_0x96c55c;switch(_0xcfb090[_0x1086c4(0x1f2)]){case 0x0:userInterface[_0x1086c4(0x1bc)]=![];break;case 0x2:userInterface[_0x1086c4(0x181)]=![];break;}});function _0xae3b(_0xa21b0,_0x4c01ab){const _0x4f569d=_0x223c();return _0xae3b=function(_0x37693,_0x43ba3a){_0x37693=_0x37693-0x14a;let _0x33de9b=_0x4f569d[_0x37693];return _0x33de9b;},_0xae3b(_0xa21b0,_0x4c01ab);}var stats=id(_0x96c55c(0x184));function drawStats(){const _0x577eb7=_0x96c55c;stats[_0x577eb7(0x1f1)]='player.x\x20=\x20'+player['x'],stats['innerHTML']+='<br>player.y\x20=\x20'+player['y'],stats[_0x577eb7(0x1f1)]+=_0x577eb7(0x1b1)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats['innerHTML']+=_0x577eb7(0x1b0)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x577eb7(0x1f1)]+=_0x577eb7(0x1ee)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x577eb7(0x1c5)]),stats[_0x577eb7(0x1f1)]+=_0x577eb7(0x189)+map[_0x577eb7(0x17a)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x577eb7(0x1c5)]],map['tiles'][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x577eb7(0x1c5)]],DEBUG&&(c['rect']((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x577eb7(0x1d3)]());}window['addEventListener'](_0x96c55c(0x1b6),function(_0x406c55){const _0x470548=_0x96c55c;switch(_0x406c55[_0x470548(0x1a1)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0x470548(0x190)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x470548(0x1ed)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0xd3274=0x0;_0xd3274<0x32;_0xd3274++){player['shoot'](),player['arrowCounter']=player['arrowCD']*DTR,player[_0x470548(0x1b7)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x96c55c(0x197)](_0x96c55c(0x180),function(_0x45a00c){switch(_0x45a00c['keyCode']){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0x96c55c(0x197)](_0x96c55c(0x1af),function(_0x33c4fb){const _0x2d50bc=_0x96c55c;mousePP['x']=_0x33c4fb['clientX']-CANVAS[_0x2d50bc(0x1de)],mousePP['y']=_0x33c4fb[_0x2d50bc(0x199)]-CANVAS[_0x2d50bc(0x182)];});function moveCamera(){const _0x1c8871=_0x96c55c;map['x']=-player['x']/0x3+CANVAS['width']/0x6,map['y']=-player['y']/0x3+CANVAS[_0x1c8871(0x193)]/0x6,screenShake[_0x1c8871(0x1aa)]&&(screenShake['counter']--,screenShake[_0x1c8871(0x1c7)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x1a7401=_0x96c55c;c[_0x1a7401(0x1b4)]=0x2,c[_0x1a7401(0x198)]=sampleArrow['colors'][0x0],c[_0x1a7401(0x151)]();for(let _0x28c8bc=playerArrows['length']-0x1;_0x28c8bc>=0x0;_0x28c8bc--){if(!playerArrows[_0x28c8bc][_0x1a7401(0x1ac)]||playerArrows[_0x28c8bc][_0x1a7401(0x1f0)]!=0x1)continue;playerArrows[_0x28c8bc]['free']&&playerArrows[_0x28c8bc][_0x1a7401(0x1eb)]();if(playerArrows[_0x28c8bc]!==undefined)playerArrows[_0x28c8bc][_0x1a7401(0x1b5)]();}c['closePath'](),c[_0x1a7401(0x1d3)](),c[_0x1a7401(0x198)]=sampleArrow[_0x1a7401(0x19c)][0x1],c['beginPath']();for(let _0x287c02=playerArrows['length']-0x1;_0x287c02>=0x0;_0x287c02--){if(!playerArrows[_0x287c02][_0x1a7401(0x1ac)]||playerArrows[_0x287c02][_0x1a7401(0x1f0)]!=0x2)continue;playerArrows[_0x287c02][_0x1a7401(0x18b)]&&playerArrows[_0x287c02][_0x1a7401(0x1eb)]();if(playerArrows[_0x287c02]!==undefined)playerArrows[_0x287c02][_0x1a7401(0x1b5)]();}c[_0x1a7401(0x1e6)](),c[_0x1a7401(0x1d3)]();}function loop(){const _0x57ec73=_0x96c55c;fps++,c[_0x57ec73(0x163)](0x0,0x0,CANVAS[_0x57ec73(0x1c5)],CANVAS[_0x57ec73(0x193)]),moveCamera(),map[_0x57ec73(0x1b5)](),player[_0x57ec73(0x1eb)]();for(let _0x3e8d9d=enemyProjectiles[_0x57ec73(0x159)]-0x1;_0x3e8d9d>=0x0;_0x3e8d9d--){enemyProjectiles[_0x3e8d9d][_0x57ec73(0x1eb)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x4f779a=0x0;_0x4f779a<monsters[_0x57ec73(0x159)];_0x4f779a++){!monsters[_0x4f779a][_0x57ec73(0x1a9)]&&monsters[_0x4f779a][_0x57ec73(0x1eb)](),monsters[_0x4f779a][_0x57ec73(0x1b5)]();}player[_0x57ec73(0x1b5)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x40037d=enemyProjectiles[_0x57ec73(0x159)]-0x1;_0x40037d>=0x0;_0x40037d--){enemyProjectiles[_0x40037d][_0x57ec73(0x1b5)]();}sword[_0x57ec73(0x1ac)]&&(sword[_0x57ec73(0x1eb)](),sword[_0x57ec73(0x1b5)]());for(let _0x13d330=visualFxs[_0x57ec73(0x159)]-0x1;_0x13d330>=0x0;_0x13d330--){!visualFxs[_0x13d330][_0x57ec73(0x1db)]&&visualFxs[_0x13d330][_0x57ec73(0x1b5)]();}userInterface['draw'](),drawStats();}var lastUpdate=Date[_0x96c55c(0x18e)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0x32d81a=_0x96c55c;var _0x56bb45=Date[_0x32d81a(0x18e)](),_0x38062c=_0x56bb45-lastUpdate;lastUpdate=_0x56bb45,DTR=0x3e8/0x3c/_0x38062c,!gamePaused&&loop();}