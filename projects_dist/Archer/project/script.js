'strict';const _0x197620=_0x4f03;(function(_0x57f58b,_0x1c5121){const _0x33b061=_0x4f03,_0x32e5d8=_0x57f58b();while(!![]){try{const _0x4bcd84=parseInt(_0x33b061(0x27d))/0x1+parseInt(_0x33b061(0x229))/0x2*(parseInt(_0x33b061(0x24f))/0x3)+-parseInt(_0x33b061(0x26b))/0x4*(parseInt(_0x33b061(0x24d))/0x5)+parseInt(_0x33b061(0x1ee))/0x6+parseInt(_0x33b061(0x276))/0x7*(-parseInt(_0x33b061(0x1d4))/0x8)+parseInt(_0x33b061(0x260))/0x9+parseInt(_0x33b061(0x1e2))/0xa;if(_0x4bcd84===_0x1c5121)break;else _0x32e5d8['push'](_0x32e5d8['shift']());}catch(_0x61633a){_0x32e5d8['push'](_0x32e5d8['shift']());}}}(_0x5521,0x33098));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0x197620(0x251)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS[_0x197620(0x26c)]('2d');CANVAS[_0x197620(0x1ea)]=0x2e0,CANVAS[_0x197620(0x266)]=0x1e0,CANVAS['style'][_0x197620(0x285)]=(window[_0x197620(0x1f3)]-CANVAS[_0x197620(0x1ea)])/0x2+'px',CANVAS[_0x197620(0x269)][_0x197620(0x1e8)]=(window[_0x197620(0x25a)]-CANVAS['height'])/0x2+'px',c[_0x197620(0x1f2)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x17c2cf){const _0x1568d6=_0x197620,_0x5920e5=(function(){let _0x46fbdd=!![];return function(_0xb39bff,_0x339840){const _0x1801e8=_0x46fbdd?function(){const _0x39252f=_0x4f03;if(_0x339840){const _0x1e0f93=_0x339840[_0x39252f(0x1d8)](_0xb39bff,arguments);return _0x339840=null,_0x1e0f93;}}:function(){};return _0x46fbdd=![],_0x1801e8;};}()),_0x49ff11=_0x5920e5(this,function(){const _0x252f8a=_0x4f03;let _0x5b69b7;try{const _0x1477f9=Function(_0x252f8a(0x257)+_0x252f8a(0x1d5)+');');_0x5b69b7=_0x1477f9();}catch(_0x3469d5){_0x5b69b7=window;}const _0x308d59=new RegExp(_0x252f8a(0x20e),'g'),_0x1fd243=_0x252f8a(0x21f)[_0x252f8a(0x273)](_0x308d59,'')[_0x252f8a(0x1d1)](';');let _0x41884a,_0x13691d,_0x32d1ae,_0x5592ab;const _0x2338bb=function(_0x4fa43b,_0x5b53ba,_0x2e42d4){const _0x194076=_0x252f8a;if(_0x4fa43b[_0x194076(0x1f5)]!=_0x5b53ba)return![];for(let _0x361aae=0x0;_0x361aae<_0x5b53ba;_0x361aae++){for(let _0x3ee0f6=0x0;_0x3ee0f6<_0x2e42d4['length'];_0x3ee0f6+=0x2){if(_0x361aae==_0x2e42d4[_0x3ee0f6]&&_0x4fa43b[_0x194076(0x23c)](_0x361aae)!=_0x2e42d4[_0x3ee0f6+0x1])return![];}}return!![];},_0x5d4317=function(_0x2e8f3e,_0x19c220,_0x548f4e){return _0x2338bb(_0x19c220,_0x548f4e,_0x2e8f3e);},_0x311c64=function(_0x4d2d63,_0xed690c,_0x34d5ea){return _0x5d4317(_0xed690c,_0x4d2d63,_0x34d5ea);},_0x2a8140=function(_0x2fef16,_0xb79f71,_0x2ea00b){return _0x311c64(_0xb79f71,_0x2ea00b,_0x2fef16);};for(let _0x2db55c in _0x5b69b7){if(_0x2338bb(_0x2db55c,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x41884a=_0x2db55c;break;}}for(let _0x47ff78 in _0x5b69b7[_0x41884a]){if(_0x2a8140(0x6,_0x47ff78,[0x5,0x6e,0x0,0x64])){_0x13691d=_0x47ff78;break;}}for(let _0x1c60e0 in _0x5b69b7[_0x41884a]){if(_0x311c64(_0x1c60e0,[0x7,0x6e,0x0,0x6c],0x8)){_0x32d1ae=_0x1c60e0;break;}}if(!('~'>_0x13691d))for(let _0x551461 in _0x5b69b7[_0x41884a][_0x32d1ae]){if(_0x5d4317([0x7,0x65,0x0,0x68],_0x551461,0x8)){_0x5592ab=_0x551461;break;}}if(!_0x41884a||!_0x5b69b7[_0x41884a])return;const _0x5a2d9a=_0x5b69b7[_0x41884a][_0x13691d],_0x40587e=!!_0x5b69b7[_0x41884a][_0x32d1ae]&&_0x5b69b7[_0x41884a][_0x32d1ae][_0x5592ab],_0x22f2b6=_0x5a2d9a||_0x40587e;if(!_0x22f2b6)return;let _0x5465be=![];for(let _0x8a296f=0x0;_0x8a296f<_0x1fd243[_0x252f8a(0x1f5)];_0x8a296f++){const _0x155895=_0x1fd243[_0x8a296f],_0xf46cdd=_0x155895[0x0]===String[_0x252f8a(0x202)](0x2e)?_0x155895[_0x252f8a(0x23b)](0x1):_0x155895,_0x331c6d=_0x22f2b6['length']-_0xf46cdd[_0x252f8a(0x1f5)],_0xd61913=_0x22f2b6[_0x252f8a(0x1dd)](_0xf46cdd,_0x331c6d),_0x55b40f=_0xd61913!==-0x1&&_0xd61913===_0x331c6d;_0x55b40f&&((_0x22f2b6[_0x252f8a(0x1f5)]==_0x155895['length']||_0x155895[_0x252f8a(0x1dd)]('.')===0x0)&&(_0x5465be=!![]));}if(!_0x5465be){const _0x3d8e65=new RegExp(_0x252f8a(0x1cf),'g'),_0x11f3e6=_0x252f8a(0x22a)['replace'](_0x3d8e65,'');_0x5b69b7[_0x41884a][_0x32d1ae]=_0x11f3e6;}});return _0x49ff11(),document[_0x1568d6(0x278)](_0x17c2cf);}var fpsDiv=id(_0x197620(0x265));setInterval(function(){const _0x5a8334=_0x197620;fpsDiv[_0x5a8334(0x1df)]=_0x5a8334(0x230)+fps,fpsDiv[_0x5a8334(0x1df)]+=_0x5a8334(0x27a)+DTR[_0x5a8334(0x22c)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x946b2c=_0x197620;this['x']=Math[_0x946b2c(0x258)]()*0x8-0x4|0x0,this['y']=Math[_0x946b2c(0x258)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x33d919=_0x197620;this['x']=0x0,this['y']=0x0,this[_0x33d919(0x268)]=0x0,this[_0x33d919(0x221)]=0x0,this[_0x33d919(0x21d)]=0x0,this['yRel']=0x0,this[_0x33d919(0x214)]=!![],this[_0x33d919(0x248)]=!![],this['friendly']=!![],this[_0x33d919(0x1f6)]=0x0,this[_0x33d919(0x20d)]=0x0,this['damage']=0x1,this['color']=0x0,this[_0x33d919(0x232)]=[_0x33d919(0x1e1),_0x33d919(0x1e7)],this[_0x33d919(0x250)]={'x':0x0,'y':0x0};}[_0x197620(0x245)](){const _0x1012f3=_0x197620;Math[_0x1012f3(0x1ff)](this[_0x1012f3(0x221)]*0x3)>Math[_0x1012f3(0x1ff)](this['lengthX'])&&(this[_0x1012f3(0x1f6)]=this[_0x1012f3(0x221)]*0x3,this[_0x1012f3(0x20d)]=this['yVel']*0x3),this[_0x1012f3(0x250)]['x']=this['x']+this[_0x1012f3(0x1f6)],this[_0x1012f3(0x250)]['y']=this['y']+this[_0x1012f3(0x20d)],c[_0x1012f3(0x20f)](this['x']+map['x'],this['y']+map['y']),c[_0x1012f3(0x1fe)](this['x']+this[_0x1012f3(0x1f6)]+map['x'],this['y']+this['lengthY']+map['y']);}[_0x197620(0x21b)](){const _0x5d3bda=_0x197620;this['x']+=this[_0x5d3bda(0x221)]/DTR,this['y']+=this[_0x5d3bda(0x268)]/DTR;if(getTileData(this['x'],this['y'])[_0x5d3bda(0x1d2)])visualFxs[_0x5d3bda(0x27c)](new Explosion(this['x']+this['xVel'],this['y']+this['yVel'],this[_0x5d3bda(0x217)])),this[_0x5d3bda(0x217)]==0x2&&(screenShake[_0x5d3bda(0x20b)]=0x5),this['xVel']=0x0,this[_0x5d3bda(0x268)]=0x0,this['lengthX']/=0x2,this[_0x5d3bda(0x20d)]/=0x2,this['free']=![];else for(let _0x2442b4=monsters[_0x5d3bda(0x1f5)]-0x1;_0x2442b4>=0x0;_0x2442b4--){let _0x33522f=monsters[_0x2442b4];!_0x33522f[_0x5d3bda(0x24a)]&&_0x33522f[_0x5d3bda(0x23f)]&&((pointSquareCol(this,_0x33522f)||pointSquareCol(this[_0x5d3bda(0x250)],_0x33522f))&&(this[_0x5d3bda(0x214)]=![],_0x33522f[_0x5d3bda(0x263)]=this[_0x5d3bda(0x221)]/0x2,_0x33522f['yVelExt']=this['yVel']/0x2,visualFxs[_0x5d3bda(0x27c)](new Explosion(this['x'],this['y'],this['color'])),this['color']==0x2&&(screenShake[_0x5d3bda(0x20b)]=0x5),this[_0x5d3bda(0x221)]=0x0,this[_0x5d3bda(0x268)]=0x0,this['xRel']=this['x']-_0x33522f['x'],this[_0x5d3bda(0x26f)]=this['y']-_0x33522f['y'],_0x33522f[_0x5d3bda(0x25c)][_0x5d3bda(0x27c)](this),_0x33522f['hp']-=this[_0x5d3bda(0x1d6)],_0x33522f[_0x5d3bda(0x1ce)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x36a7b6=_0x197620;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this['yVel']=0x0,this[_0x36a7b6(0x221)]=0x0,this[_0x36a7b6(0x248)]=!![],this[_0x36a7b6(0x283)]=![],this[_0x36a7b6(0x1cd)]=id(_0x36a7b6(0x1cd)),this[_0x36a7b6(0x22b)]=[0x5],this[_0x36a7b6(0x284)]=[0x18],this[_0x36a7b6(0x1d7)]=0x0,this['damage']=0x5;}['compute'](){const _0x17f1dc=_0x197620;this['x']+=this[_0x17f1dc(0x221)]/DTR,this['y']+=this[_0x17f1dc(0x268)]/DTR,getTileData(this['x'],this['y'])['solid']?(enemyProjectiles[_0x17f1dc(0x27b)](enemyProjectiles[_0x17f1dc(0x1dd)](this),0x1),visualFxs['push'](new Explosion(this['x']+this[_0x17f1dc(0x221)],this['y']+this[_0x17f1dc(0x268)],0x1)),this[_0x17f1dc(0x221)]=0x0,this['yVel']=0x0,this[_0x17f1dc(0x1f6)]/=0x2,this['lengthY']/=0x2,this[_0x17f1dc(0x248)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x17f1dc(0x27b)](enemyProjectiles['indexOf'](this),0x1),player[_0x17f1dc(0x263)]+=this['xVel']/0x2,player[_0x17f1dc(0x25d)]+=this['yVel']/0x2,player['hp']-=this[_0x17f1dc(0x1d6)],visualFxs['push'](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x17f1dc(0x20b)]=0x5);}[_0x197620(0x245)](){const _0xf783fd=_0x197620;c[_0xf783fd(0x1fa)](this[_0xf783fd(0x1cd)],this[_0xf783fd(0x22b)][this[_0xf783fd(0x1d7)]]*TILESIZE,this[_0xf783fd(0x284)][this[_0xf783fd(0x1d7)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x52398f,_0x1f2db4,_0x5bff2e){const _0x1f980f=_0x197620;this[_0x1f980f(0x1cd)]=id('sheet'),this['x']=_0x52398f-0x10,this['y']=_0x1f2db4-0x10,this['w']=0x20,this['h']=0x20,this[_0x1f980f(0x22d)]=0x0,this[_0x1f980f(0x231)]=0x0,this['action']=_0x5bff2e-0x1,this[_0x1f980f(0x22b)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x1f980f(0x284)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this[_0x1f980f(0x218)]=0x4,this[_0x1f980f(0x24c)]=![];}[_0x197620(0x245)](){const _0x1bfd58=_0x197620;c[_0x1bfd58(0x1fa)](this['sheet'],this[_0x1bfd58(0x22b)][this[_0x1bfd58(0x24e)]][this['currentFrame']],this[_0x1bfd58(0x284)][this[_0x1bfd58(0x24e)]][this['currentFrame']],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this[_0x1bfd58(0x22d)]++,this[_0x1bfd58(0x22d)]>this[_0x1bfd58(0x218)]*DTR&&(this[_0x1bfd58(0x22d)]=0x0,this[_0x1bfd58(0x231)]++,this[_0x1bfd58(0x231)]>this[_0x1bfd58(0x22b)][this['action']][_0x1bfd58(0x1f5)]-0x1&&(this[_0x1bfd58(0x24c)]=!![]));}}class Collidable{constructor(){}[_0x197620(0x233)](){const _0x317310=_0x197620;let _0x5a3962;this['col']['T']=0x0,this['col']['B']=0x0,this['col']['L']=0x0,this[_0x317310(0x281)]['R']=0x0,getTileData(this['x'],this['y'])[_0x317310(0x20c)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x5a3962=colCheck(this,generatedSquare),this['x']+=(this[_0x317310(0x281)]['L']-this[_0x317310(0x281)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x317310(0x281)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x317310(0x20c)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x5a3962=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x317310(0x281)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x317310(0x281)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x317310(0x20c)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x5a3962=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0x317310(0x281)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])['unpassable']&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x5a3962=colCheck(this,generatedSquare),this['x']+=(this[_0x317310(0x281)]['L']-this[_0x317310(0x281)]['R'])/0x5/DTR,this['y']+=(this[_0x317310(0x281)]['T']-this[_0x317310(0x281)]['B'])/0x5/DTR),this['col']['B']&&(this['yVelExt']>0x0&&(this[_0x317310(0x25d)]*=-0.5)),this[_0x317310(0x281)]['T']&&(this[_0x317310(0x25d)]<0x0&&(this[_0x317310(0x25d)]*=-0.5)),this[_0x317310(0x281)]['R']&&(this['xVelExt']>0x0&&(this[_0x317310(0x263)]*=-0.5)),this[_0x317310(0x281)]['L']&&(this[_0x317310(0x263)]<0x0&&(this[_0x317310(0x263)]*=-0.5));}}function _0x4f03(_0x2ccf12,_0x343572){const _0x34a345=_0x5521();return _0x4f03=function(_0x38ae2c,_0x251509){_0x38ae2c=_0x38ae2c-0x1cd;let _0x4f2ad5=_0x34a345[_0x38ae2c];return _0x4f2ad5;},_0x4f03(_0x2ccf12,_0x343572);}class Player extends Collidable{constructor(_0xf80f24,_0x38cb67){const _0x33fd3d=_0x197620;super(Collidable),this['x']=_0xf80f24,this['y']=_0x38cb67,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x33fd3d(0x242)]=0x3,this[_0x33fd3d(0x268)]=0x0,this['xVel']=0x0,this[_0x33fd3d(0x25d)]=0x0,this[_0x33fd3d(0x263)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this['arrowSpeed']=0xa,this['centerX']=0x0,this[_0x33fd3d(0x280)]=0x0,this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x33fd3d(0x22b)]=[0x0,0x20,0x40],this[_0x33fd3d(0x284)]=[0x0,0x0,0x0],this['action']=0x0,this[_0x33fd3d(0x22d)]=0x0,this['slowness']=0x6,this['radians']=0x0,this[_0x33fd3d(0x238)]=![],this[_0x33fd3d(0x223)]=0x14,this[_0x33fd3d(0x211)]=0x0,this[_0x33fd3d(0x1e9)]=0x0,this['arrowsArr']=[0x1,0x1,0x1,0x1,0x1],this[_0x33fd3d(0x1e3)]=0x3c,this[_0x33fd3d(0x1eb)]=0x0,this[_0x33fd3d(0x226)]=0x4,this['hp']=0x64,this[_0x33fd3d(0x222)]=0x64,this['mp']=0x64,this[_0x33fd3d(0x21c)]=0x64,this[_0x33fd3d(0x219)]=0.25,this[_0x33fd3d(0x23d)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}['computeQuiver'](){const _0x1b377c=_0x197620;let _0x5d6550=!![],_0x51f98d;for(_0x51f98d=0x0;_0x51f98d<this[_0x1b377c(0x23a)][_0x1b377c(0x1f5)];_0x51f98d++){if(this['arrowsArr'][_0x51f98d]===0x0){_0x5d6550=![];break;}}this[_0x1b377c(0x226)]=_0x51f98d;if(!_0x5d6550){this['arrowCounter']++;if(this[_0x1b377c(0x1eb)]>this[_0x1b377c(0x1e3)]*DTR)for(_0x51f98d=0x0;_0x51f98d<this[_0x1b377c(0x23a)]['length'];_0x51f98d++){if(this[_0x1b377c(0x23a)][_0x51f98d]===0x0){Math[_0x1b377c(0x258)]()<this[_0x1b377c(0x219)]?this[_0x1b377c(0x23a)][_0x51f98d]=0x2:this['arrowsArr'][_0x51f98d]=0x1;this[_0x1b377c(0x1eb)]=0x0;break;}}}else this[_0x1b377c(0x1eb)]=0x0;}[_0x197620(0x21b)](){const _0x4152c1=_0x197620;this[_0x4152c1(0x259)](),this['centerX']=this['x']+this['w']/0x2,this[_0x4152c1(0x280)]=this['y']+this['h']/0x2,this[_0x4152c1(0x233)]();Math['abs'](this[_0x4152c1(0x263)])>0.01?this['xVelExt']-=this[_0x4152c1(0x263)]*0.1/DTR:this['xVelExt']=0x0;Math[_0x4152c1(0x1ff)](this[_0x4152c1(0x25d)])>0.01?this['yVelExt']-=this[_0x4152c1(0x25d)]*0.1/DTR:this['yVelExt']=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x4152c1(0x242)]=0x2:this[_0x4152c1(0x242)]=0x3;this[_0x4152c1(0x235)]=Math[_0x4152c1(0x234)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x4152c1(0x221)]=-this['speed'];else!this['R']&&(this[_0x4152c1(0x221)]=0x0);if(this['R'])this[_0x4152c1(0x221)]=this[_0x4152c1(0x242)];else!this['L']&&(this[_0x4152c1(0x221)]=0x0);if(this['T'])this[_0x4152c1(0x268)]=-this['speed'];else!this['B']&&(this[_0x4152c1(0x268)]=0x0);if(this['B'])this[_0x4152c1(0x268)]=this['speed'];else!this['T']&&(this[_0x4152c1(0x268)]=0x0);this['x']+=(this[_0x4152c1(0x221)]+this[_0x4152c1(0x263)])/DTR,this['y']+=(this[_0x4152c1(0x268)]+this[_0x4152c1(0x25d)])/DTR;}[_0x197620(0x245)](){const _0x2a2567=_0x197620;this[_0x2a2567(0x221)]===0x0&&this[_0x2a2567(0x268)]===0x0?this['action']=0x0:(this[_0x2a2567(0x22d)]++,this[_0x2a2567(0x22d)]>=this[_0x2a2567(0x218)]*DTR&&(this[_0x2a2567(0x24e)]++,this[_0x2a2567(0x22d)]=0x0,this['action']>=this[_0x2a2567(0x22b)][_0x2a2567(0x1f5)]&&(this[_0x2a2567(0x24e)]=0x0))),c['save'](),c[_0x2a2567(0x22e)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x2a2567(0x204)](this[_0x2a2567(0x235)]),c[_0x2a2567(0x1fa)](id('player'),this[_0x2a2567(0x22b)][this[_0x2a2567(0x24e)]],this[_0x2a2567(0x284)][this[_0x2a2567(0x24e)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x2a2567(0x1d3)](),this[_0x2a2567(0x211)]&&(c['drawImage'](id(_0x2a2567(0x1cd)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x2a2567(0x211)]--),this[_0x2a2567(0x23d)][_0x2a2567(0x214)]&&this[_0x2a2567(0x1da)]();}['drawBow'](){const _0x51eecc=_0x197620;this['bow'][_0x51eecc(0x22d)]++,this['bow'][_0x51eecc(0x22d)]>=this[_0x51eecc(0x23d)][_0x51eecc(0x218)]*DTR&&(this[_0x51eecc(0x23d)][_0x51eecc(0x24e)]++,this[_0x51eecc(0x23d)]['frameCounter']=0x0,this['bow'][_0x51eecc(0x214)]>=this[_0x51eecc(0x23d)]['actionX'][_0x51eecc(0x1f5)]&&(this[_0x51eecc(0x23d)][_0x51eecc(0x214)]=![])),c['save'](),c[_0x51eecc(0x22e)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x51eecc(0x204)](this[_0x51eecc(0x235)]),c[_0x51eecc(0x1fa)](id(_0x51eecc(0x23d)),this['bow'][_0x51eecc(0x22b)][this[_0x51eecc(0x23d)][_0x51eecc(0x24e)]],this[_0x51eecc(0x23d)][_0x51eecc(0x284)][this[_0x51eecc(0x23d)][_0x51eecc(0x24e)]],0x30,0x30,-this[_0x51eecc(0x23d)]['w']/0x2,-this[_0x51eecc(0x23d)]['h'],this['bow']['w'],this[_0x51eecc(0x23d)]['h']),c['restore']();}['shoot'](){const _0x4f98c5=_0x197620;this[_0x4f98c5(0x23d)][_0x4f98c5(0x214)]=!![],this[_0x4f98c5(0x23d)][_0x4f98c5(0x22d)]=0x0,this['bow'][_0x4f98c5(0x231)]=0x0,this[_0x4f98c5(0x23d)][_0x4f98c5(0x24e)]=0x0;let _0x34dfec=this['x']+this['w']/0x2,_0x263610=this['y']+this['h']/0x2,_0x21188f=Mouse['x']-_0x34dfec+Math[_0x4f98c5(0x258)]()*this[_0x4f98c5(0x223)]-this[_0x4f98c5(0x223)]/0x2,_0x1a8826=Mouse['y']-_0x263610+Math[_0x4f98c5(0x258)]()*this[_0x4f98c5(0x223)]-this[_0x4f98c5(0x223)]/0x2,_0x3ae6c1=Math['atan2'](_0x1a8826,_0x21188f),_0x3ab455=Math[_0x4f98c5(0x212)](_0x3ae6c1),_0x49edd8=Math[_0x4f98c5(0x1e5)](_0x3ae6c1),_0x232e17=new Projectile();_0x232e17[_0x4f98c5(0x221)]=_0x3ab455*this[_0x4f98c5(0x228)],_0x232e17[_0x4f98c5(0x268)]=_0x49edd8*this['arrowSpeed'],_0x232e17['x']=_0x34dfec,_0x232e17['y']=_0x263610,_0x232e17[_0x4f98c5(0x217)]=this['arrowsArr'][0x0],playerArrows['push'](_0x232e17),this[_0x4f98c5(0x23a)][_0x4f98c5(0x1ef)](),this[_0x4f98c5(0x23a)][_0x4f98c5(0x27c)](0x0);}[_0x197620(0x256)](){const _0x5d66b8=_0x197620;if(!sword[_0x5d66b8(0x214)]){sword[_0x5d66b8(0x214)]=!![],sword['radiansP']=this[_0x5d66b8(0x235)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x5369b3=this['x']+this['w']/0x2,_0x37c94d=this['y']+this['h']/0x2,_0x11dfff=returnCosine(Mouse['x'],Mouse['y'],_0x5369b3,_0x37c94d);this['xVelExt']=_0x11dfff[_0x5d66b8(0x212)]*0xe,this[_0x5d66b8(0x25d)]=_0x11dfff['sin']*0xe;}}}}var player=new Player(CANVAS['width']/0x2,CANVAS['height']/0x4*0x3);class UserInterface{constructor(){const _0xb0157e=_0x197620;this[_0xb0157e(0x1cd)]=id(_0xb0157e(0x1e6)),this['x']=0x14,this['y']=0x5,this[_0xb0157e(0x26e)]=![],this[_0xb0157e(0x246)]=![],this['attacked']=0x0,this['layout']={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0xb0157e(0x243)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this['hpBar']={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0xb0157e(0x240)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0xb0157e(0x23d)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this['sword']={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0xb0157e(0x1e4)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0xb0157e(0x23a)]=[0x1,0x1,0x1,0x1];}[_0x197620(0x245)](){const _0x2e5f0e=_0x197620;this[_0x2e5f0e(0x26e)]&&(c[_0x2e5f0e(0x247)]=0.5);c[_0x2e5f0e(0x1fa)](this['sheet'],this[_0x2e5f0e(0x23d)][_0x2e5f0e(0x207)]['x'],this['bow'][_0x2e5f0e(0x207)]['y'],this[_0x2e5f0e(0x23d)][_0x2e5f0e(0x207)]['w'],this[_0x2e5f0e(0x23d)][_0x2e5f0e(0x207)]['h'],this[_0x2e5f0e(0x23d)]['pos']['x'],this[_0x2e5f0e(0x23d)]['pos']['y'],this[_0x2e5f0e(0x23d)][_0x2e5f0e(0x207)]['w'],this[_0x2e5f0e(0x23d)][_0x2e5f0e(0x207)]['h']);this['lClick']&&(c['globalAlpha']=0x1);this[_0x2e5f0e(0x246)]&&(c[_0x2e5f0e(0x247)]=0.5);c[_0x2e5f0e(0x1fa)](this[_0x2e5f0e(0x1cd)],this[_0x2e5f0e(0x238)][_0x2e5f0e(0x207)]['x'],this['sword'][_0x2e5f0e(0x207)]['y'],this[_0x2e5f0e(0x238)][_0x2e5f0e(0x207)]['w'],this[_0x2e5f0e(0x238)][_0x2e5f0e(0x207)]['h'],this[_0x2e5f0e(0x238)][_0x2e5f0e(0x26d)]['x'],this['sword'][_0x2e5f0e(0x26d)]['y'],this['sword'][_0x2e5f0e(0x207)]['w'],this['sword'][_0x2e5f0e(0x207)]['h']);this[_0x2e5f0e(0x246)]&&(c[_0x2e5f0e(0x247)]=0x1);c[_0x2e5f0e(0x1fa)](this[_0x2e5f0e(0x1cd)],this[_0x2e5f0e(0x201)][_0x2e5f0e(0x207)]['x'],this[_0x2e5f0e(0x201)][_0x2e5f0e(0x207)]['y'],this[_0x2e5f0e(0x201)][_0x2e5f0e(0x207)]['w'],this[_0x2e5f0e(0x201)][_0x2e5f0e(0x207)]['h'],this[_0x2e5f0e(0x201)][_0x2e5f0e(0x26d)]['x']+this['x'],this[_0x2e5f0e(0x201)][_0x2e5f0e(0x26d)]['y']+this['y'],this[_0x2e5f0e(0x201)]['crop']['w'],this[_0x2e5f0e(0x201)]['crop']['h']),c[_0x2e5f0e(0x1fa)](this[_0x2e5f0e(0x1cd)],this[_0x2e5f0e(0x243)][_0x2e5f0e(0x207)][player[_0x2e5f0e(0x1e9)]]['x'],this['portrait'][_0x2e5f0e(0x207)][player[_0x2e5f0e(0x1e9)]]['y'],this[_0x2e5f0e(0x243)][_0x2e5f0e(0x207)][player[_0x2e5f0e(0x1e9)]]['w'],this['portrait'][_0x2e5f0e(0x207)][player[_0x2e5f0e(0x1e9)]]['h'],this[_0x2e5f0e(0x243)][_0x2e5f0e(0x26d)]['x']+this['x'],this[_0x2e5f0e(0x243)]['pos']['y']+this['y'],this[_0x2e5f0e(0x243)]['crop'][player[_0x2e5f0e(0x1e9)]]['w'],this[_0x2e5f0e(0x243)][_0x2e5f0e(0x207)][player[_0x2e5f0e(0x1e9)]]['h']),c[_0x2e5f0e(0x1fa)](this[_0x2e5f0e(0x1cd)],this['hpBar'][_0x2e5f0e(0x207)]['x'],this[_0x2e5f0e(0x1e0)]['crop']['y'],this[_0x2e5f0e(0x1e0)][_0x2e5f0e(0x207)]['w'],this[_0x2e5f0e(0x1e0)][_0x2e5f0e(0x207)]['h'],this['hpBar'][_0x2e5f0e(0x26d)]['x']+this['x'],this['hpBar'][_0x2e5f0e(0x26d)]['y']+this['y'],this[_0x2e5f0e(0x1e0)]['crop']['w']/player[_0x2e5f0e(0x222)]*player['hp'],this[_0x2e5f0e(0x1e0)]['crop']['h']),c['drawImage'](this[_0x2e5f0e(0x1cd)],this['mpBar']['crop']['x'],this[_0x2e5f0e(0x240)]['crop']['y'],this[_0x2e5f0e(0x240)][_0x2e5f0e(0x207)]['w'],this[_0x2e5f0e(0x240)]['crop']['h'],this[_0x2e5f0e(0x240)]['pos']['x']+this['x'],this[_0x2e5f0e(0x240)][_0x2e5f0e(0x26d)]['y']+this['y'],this[_0x2e5f0e(0x240)][_0x2e5f0e(0x207)]['w'],this['mpBar'][_0x2e5f0e(0x207)]['h']);for(let _0x22e56f=0x0;_0x22e56f<player[_0x2e5f0e(0x23a)][_0x2e5f0e(0x1f5)];_0x22e56f++){c[_0x2e5f0e(0x1fa)](this[_0x2e5f0e(0x1cd)],this[_0x2e5f0e(0x1e4)][_0x2e5f0e(0x207)][player[_0x2e5f0e(0x23a)][_0x22e56f]]['x'],this[_0x2e5f0e(0x1e4)]['crop'][player[_0x2e5f0e(0x23a)][_0x22e56f]]['y'],this[_0x2e5f0e(0x1e4)][_0x2e5f0e(0x207)][player['arrowsArr'][_0x22e56f]]['w'],this[_0x2e5f0e(0x1e4)]['crop'][player['arrowsArr'][_0x22e56f]]['h'],this[_0x2e5f0e(0x1e4)][_0x2e5f0e(0x26d)]['x']+this['x']-0xa*_0x22e56f,this[_0x2e5f0e(0x1e4)][_0x2e5f0e(0x26d)]['y']+this['y'],this['arrow'][_0x2e5f0e(0x207)][player[_0x2e5f0e(0x23a)][_0x22e56f]]['w'],this['arrow']['crop'][player[_0x2e5f0e(0x23a)][_0x22e56f]]['h']);}c[_0x2e5f0e(0x224)]=_0x2e5f0e(0x1dc),c[_0x2e5f0e(0x1de)]=_0x2e5f0e(0x272),c[_0x2e5f0e(0x255)]=_0x2e5f0e(0x220),c[_0x2e5f0e(0x200)](player['arrowsCount']+'/'+player[_0x2e5f0e(0x23a)][_0x2e5f0e(0x1f5)],0x7a+this['x'],0x20+this['y']);}}function _0x5521(){const _0x1ba5ed=['475415VIzNiE','action','47319wyThew','points','canvas','<br>mouseTile.x\x20=\x20','justShot','followPlayer','fillStyle','attack','return\x20(function()\x20','random','computeQuiver','innerHeight','hasOwnProperty','arrows','yVelExt','json','radiansP','2696517WRDojV','framecounter','hp-bar','xVelExt','closePath','FPS','height','Empty','yVel','style','sort','12rQojQC','getContext','pos','lClick','yRel','round','headY','center','replace','tiles','offsetTop','721DoxVSt','then','getElementById','black','<br>DTR:\x20','splice','push','157131yOusUl','projSpeed','offsetLeft','centerY','col','hypot','friendly','actionY','left','sheet','justDamaged','[vGLySfTIpzrBdEiiIBWGmORWFSK]','clientX','split','solid','restore','23296pdCREJ','{}.constructor(\x22return\x20this\x22)(\x20)','damage','type','apply','save','drawBow','#ff0000','14px\x20Arial','indexOf','textAlign','innerHTML','hpBar','#8b5851','2408240HYNekF','arrowCD','arrow','sin','ui-sheet','#ff8db5','top','attacked','width','arrowCounter','attacking','swordImg','296076yxjhZK','shift','addEventListener','lineWidth','imageSmoothingEnabled','innerWidth','strokeStyle','length','lengthX','hitbox','keyCode','path','drawImage','mouseup','Goal','grass','lineTo','abs','fillText','layout','fromCharCode','Obstacle','rotate','set','properties','crop','log','<br>mouseTile\x20id\x20=\x20','now','counter','unpassable','lengthY','[RBwWjHDUkRzIXINGDSZZwzTVRvDRNpOfIjIpPxWITHILzMLpZVfNASLxHmwPVwOXpkNMT]','moveTo','button','noArrows','cos','<br>mouseTile\x20pos\x20=\x20','active','onclick','Start','color','slowness','critChance','<br>player.y\x20=\x20','compute','maxMp','xRel','hole','sRBwaWantojnanHdre.gDUitkhuRzIb.XINGio;DSZZwzTVloRcavlDRhNopOfstIjIpPxWITHILzMLpZVfNASLxHmwPVwOXpkNMT','#2f4447','xVel','maxHp','precision','font','name','arrowsCount','stroke','arrowSpeed','6xmaFxm','vGaLySbfTIoupzt:rBbldaEiniIkBWGmORWFSK','actionX','toPrecision','frameCounter','translate','vfxY','FPS:\x20','currentFrame','colors','checkCollisions','atan2','radians','justDied','beginPath','sword','headX','arrowsArr','slice','charCodeAt','bow','shoot','collidable','mpBar','vfxX','speed','portrait','rect','draw','rClick','globalAlpha','free','createGrid','dead','atkBox','ended'];_0x5521=function(){return _0x1ba5ed;};return _0x5521();}var userInterface=new UserInterface();function drawLaser(){const _0xeda2ae=_0x197620;let _0x10887d=player['x']+player['w']/0x2,_0x1a3d4b=player['y']+player['h']/0x2,_0x25e772=_0x10887d,_0x40073b=_0x1a3d4b,_0x1a8f1c=![],_0x25943d=0x0,_0xb33994=returnCosine(_0x10887d,_0x1a3d4b,Mouse['x'],Mouse['y']),_0x20c9dd=[],_0x574fca={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x1adb71={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x443c15=0x4,_0x3dde50={'x':0x0,'y':0x0};while(!_0x1a8f1c&&_0x25943d<CANVAS[_0xeda2ae(0x1ea)]*0x2/_0x443c15){_0x25e772-=_0xb33994[_0xeda2ae(0x212)]*_0x443c15,_0x40073b-=_0xb33994['sin']*_0x443c15;getTileData(_0x25e772,_0x40073b)['solid']&&(_0x574fca=getTileData(_0x25e772,_0x40073b)[_0xeda2ae(0x1f7)],_0x1adb71['x']=_0x574fca['x'],_0x1adb71['y']=_0x574fca['y'],_0x1adb71['w']=_0x574fca['w'],_0x1adb71['h']=_0x574fca['h'],_0x1adb71['x']+=_0x25e772-_0x25e772%TILESIZE,_0x1adb71['y']+=_0x40073b-_0x40073b%TILESIZE,_0x1a8f1c=!![]);_0x3dde50['x']=_0x25e772,_0x3dde50['y']=_0x40073b;for(let _0xc740aa=0x0;_0xc740aa<monsters[_0xeda2ae(0x1f5)];_0xc740aa++){if(!monsters[_0xc740aa][_0xeda2ae(0x24a)]&&pointSquareCol(_0x3dde50,monsters[_0xc740aa])){_0x1adb71['x']=monsters[_0xc740aa]['x'],_0x1adb71['y']=monsters[_0xc740aa]['y'],_0x1adb71['w']=monsters[_0xc740aa]['w'],_0x1adb71['h']=monsters[_0xc740aa]['h'],_0x1a8f1c=!![];break;}}_0x25943d++;}_0x20c9dd=getRectSides(_0x1adb71);let _0x11e13c=[],_0x35dcea={},_0x34e2d0;for(let _0x99777a=0x0;_0x99777a<_0x20c9dd[_0xeda2ae(0x1f5)];_0x99777a++){_0x35dcea=intersect(_0x10887d,_0x1a3d4b,_0x25e772,_0x40073b,_0x20c9dd[_0x99777a]['x1'],_0x20c9dd[_0x99777a]['y1'],_0x20c9dd[_0x99777a]['x2'],_0x20c9dd[_0x99777a]['y2']),_0x35dcea&&_0x11e13c[_0xeda2ae(0x27c)](_0x35dcea);}let _0x3b6bfe=Math[_0xeda2ae(0x282)](_0x10887d-_0x25e772,_0x1a3d4b-_0x40073b),_0x354d71=_0x25e772,_0x3fca9e=_0x25e772;for(let _0x39761d=0x0;_0x39761d<_0x11e13c[_0xeda2ae(0x1f5)];_0x39761d++){_0x34e2d0=Math[_0xeda2ae(0x282)](_0x10887d-_0x25e772,_0x1a3d4b-_0x40073b),_0x34e2d0<_0x3b6bfe&&(_0x3b6bfe=_0x34e2d0,_0x354d71=_0x11e13c[_0x39761d]['x'],_0x3fca9e=_0x11e13c[_0x39761d]['y']);}c[_0xeda2ae(0x1f4)]=_0xeda2ae(0x1db),c[_0xeda2ae(0x237)](),c[_0xeda2ae(0x20f)](_0x10887d+map['x'],_0x1a3d4b+map['y']),c[_0xeda2ae(0x1fe)](_0x25e772+map['x'],_0x40073b+map['y']),c[_0xeda2ae(0x227)](),c[_0xeda2ae(0x1f4)]=_0xeda2ae(0x279);}function isObstructed(_0x403cbf,_0x37aeeb){const _0x2762e=_0x197620;let _0x27643e=_0x403cbf['x']+_0x403cbf['w']/0x2,_0x52085c=_0x403cbf['y']+_0x403cbf['h']/0x2,_0x3c2ac6=_0x37aeeb['x']+_0x37aeeb['w']/0x2,_0xcd3b99=_0x37aeeb['y']+_0x37aeeb['h']/0x2,_0x68a292=Math[_0x2762e(0x282)](_0x27643e-_0x3c2ac6,_0x52085c-_0xcd3b99),_0x30ab7c=_0x27643e,_0x974779=_0x52085c,_0x38a3df=![],_0x1ec67e=0x0,_0x2a5c71=returnCosine(_0x27643e,_0x52085c,_0x3c2ac6,_0xcd3b99),_0x179298=[],_0x2d169d={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x12f0a6={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x39d7de=0x3,_0x3a6e5f={'x':0x0,'y':0x0};while(!_0x38a3df&&_0x1ec67e<_0x68a292/_0x39d7de){_0x30ab7c-=_0x2a5c71[_0x2762e(0x212)]*_0x39d7de,_0x974779-=_0x2a5c71['sin']*_0x39d7de;if(getTileData(_0x30ab7c,_0x974779)[_0x2762e(0x1d2)])return _0x2d169d=getTileData(_0x30ab7c,_0x974779)[_0x2762e(0x1f7)],_0x12f0a6['x']=_0x2d169d['x'],_0x12f0a6['y']=_0x2d169d['y'],_0x12f0a6['w']=_0x2d169d['w'],_0x12f0a6['h']=_0x2d169d['h'],_0x12f0a6['x']+=_0x30ab7c-_0x30ab7c%TILESIZE,_0x12f0a6['y']+=_0x974779-_0x974779%TILESIZE,!![];_0x3a6e5f['x']=_0x30ab7c,_0x3a6e5f['y']=_0x974779;if(pointSquareCol(_0x3a6e5f,_0x37aeeb))return![];_0x1ec67e++;}}function getRectSides(_0x14e55a){const _0x5e2b08=_0x197620;let _0x1c0acc=[];return _0x1c0acc['push']({'x1':_0x14e55a['x'],'y1':_0x14e55a['y'],'x2':_0x14e55a['x']+_0x14e55a['w'],'y2':_0x14e55a['y']}),_0x1c0acc[_0x5e2b08(0x27c)]({'x1':_0x14e55a['x']+_0x14e55a['w'],'y1':_0x14e55a['y'],'x2':_0x14e55a['x']+_0x14e55a['w'],'y2':_0x14e55a['y']+_0x14e55a['h']}),_0x1c0acc['push']({'x1':_0x14e55a['x']+_0x14e55a['w'],'y1':_0x14e55a['y']+_0x14e55a['h'],'x2':_0x14e55a['x'],'y2':_0x14e55a['y']+_0x14e55a['h']}),_0x1c0acc[_0x5e2b08(0x27c)]({'x1':_0x14e55a['x'],'y1':_0x14e55a['y']+_0x14e55a['h'],'x2':_0x14e55a['x'],'y2':_0x14e55a['y']}),_0x1c0acc;}function init(){const _0x4baa47=_0x197620;let _0x488986,_0x2c3628={};fetch('./Archer.json')[_0x4baa47(0x277)](function(_0x5407ed){const _0x29304e=_0x4baa47;return _0x5407ed[_0x29304e(0x25e)]();})['then'](function(_0x3ea901){const _0x268089=_0x4baa47;_0x488986=_0x3ea901[_0x268089(0x274)];for(let _0x44a680=0x0;_0x44a680<_0x488986['length'];_0x44a680++){_0x2c3628={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x2c3628['id']=_0x488986[_0x44a680]['id'];if(_0x488986[_0x44a680][_0x268089(0x25b)](_0x268089(0x206)))for(let _0x45b4ba=0x0;_0x45b4ba<_0x488986[_0x44a680][_0x268089(0x206)]['length'];_0x45b4ba++){if(_0x488986[_0x44a680]['properties'][_0x45b4ba])switch(_0x488986[_0x44a680][_0x268089(0x206)][_0x45b4ba][_0x268089(0x225)]){case _0x268089(0x21e):_0x2c3628[_0x268089(0x21e)]=!![],_0x2c3628[_0x268089(0x20c)]=!![];break;case'solid':_0x2c3628[_0x268089(0x1d2)]=!![],_0x2c3628[_0x268089(0x20c)]=!![];break;}}TilesData[_0x268089(0x27c)](_0x2c3628);}loop();});}init();var HP_BAR=id(_0x197620(0x262));function renderHpBars(){const _0x4d4812=_0x197620;for(let _0x448dbe=0x0;_0x448dbe<monsters[_0x4d4812(0x1f5)];_0x448dbe++){if(monsters[_0x448dbe][_0x4d4812(0x24a)])continue;let _0x335b80=monsters[_0x448dbe]['hp']/monsters[_0x448dbe][_0x4d4812(0x222)],_0x4bc481=Math[_0x4d4812(0x270)](TILESIZE*_0x335b80);c[_0x4d4812(0x1fa)](HP_BAR,0x0,0x4,_0x4bc481,0x4,monsters[_0x448dbe]['x']+monsters[_0x448dbe]['w']/0x2-0x10+map['x']|0x0,monsters[_0x448dbe]['y']-0x8+map['y']|0x0,_0x4bc481|0x0,0x4|0x0),c['drawImage'](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x448dbe]['x']+monsters[_0x448dbe]['w']/0x2-0x10+map['x']|0x0,monsters[_0x448dbe]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x12badf=_0x197620;this[_0x12badf(0x1ea)]=0x17,this[_0x12badf(0x266)]=0xf,this['x']=0x0,this['y']=0x0,this[_0x12badf(0x274)]=maps['m1'],this[_0x12badf(0x1cd)]=id(_0x12badf(0x1cd)),this[_0x12badf(0x1fd)]=id(_0x12badf(0x1fd));}[_0x197620(0x245)](){const _0x147c9c=_0x197620;for(let _0x23f023=0x0;_0x23f023<this[_0x147c9c(0x274)][_0x147c9c(0x1f5)];_0x23f023++){_0x23f023==0x1&&c[_0x147c9c(0x1fa)](this[_0x147c9c(0x1fd)],0x0+this['x'],0x0+this['y'],CANVAS[_0x147c9c(0x1ea)],CANVAS[_0x147c9c(0x266)]);for(let _0x301a93=0x0;_0x301a93<this['tiles'][_0x23f023][_0x147c9c(0x1f5)];_0x301a93++){if(this[_0x147c9c(0x274)][_0x23f023][_0x301a93]===0x0)continue;c[_0x147c9c(0x1fa)](this[_0x147c9c(0x1cd)],(this[_0x147c9c(0x274)][_0x23f023][_0x301a93]-0x1)%0xf*TILESIZE,((this[_0x147c9c(0x274)][_0x23f023][_0x301a93]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x301a93%this[_0x147c9c(0x1ea)]*TILESIZE+map['x'],(_0x301a93/this['width']|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x3ba66e=_0x197620;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this['radians']=0x2,this[_0x3ba66e(0x25f)]=0x0,this[_0x3ba66e(0x22b)]=[0x0],this[_0x3ba66e(0x284)]=[0x0],this['vfxX']=[0x0,0x0,0x0,0x0],this[_0x3ba66e(0x22f)]=[0x0,0x80,0x100,0x180],this[_0x3ba66e(0x231)]=0x0,this['frameCounter']=0x0,this[_0x3ba66e(0x24e)]=0x0,this[_0x3ba66e(0x218)]=0x3,this[_0x3ba66e(0x214)]=![],this[_0x3ba66e(0x1cd)]=id('sword-vfx'),this[_0x3ba66e(0x1ed)]=id('sword');}['compute'](){const _0x134a3f=_0x197620;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x4288bd,_0x32b18d,_0x1b0aba;for(let _0x2db653=0x0;_0x2db653<monsters[_0x134a3f(0x1f5)];_0x2db653++){if(monsters[_0x2db653][_0x134a3f(0x24a)]||!monsters[_0x2db653][_0x134a3f(0x23f)])continue;_0x4288bd=monsters[_0x2db653][_0x134a3f(0x1f7)]['x']+monsters[_0x2db653][_0x134a3f(0x1f7)]['w']/0x2,_0x32b18d=monsters[_0x2db653]['hitbox']['y']+monsters[_0x2db653][_0x134a3f(0x1f7)]['h']/0x2,_0x1b0aba=(monsters[_0x2db653]['w']+monsters[_0x2db653]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x4288bd,_0x32b18d,_0x1b0aba)){let _0x42abd2=this['x']+this['w']/0x2,_0x32fea1=this['y']+this['h']/0x2,_0x21b948=monsters[_0x2db653]['x']-_0x42abd2,_0x366222=monsters[_0x2db653]['y']-_0x32fea1,_0x51f159=Math['atan2'](_0x366222,_0x21b948),_0x4df4e3=Math[_0x134a3f(0x212)](_0x51f159),_0x550032=Math[_0x134a3f(0x1e5)](_0x51f159);monsters[_0x2db653][_0x134a3f(0x263)]=_0x4df4e3*0xa,monsters[_0x2db653][_0x134a3f(0x25d)]=_0x550032*0xa,monsters[_0x2db653]['hp']-=0.25,monsters[_0x2db653][_0x134a3f(0x1ce)]=0xf;}}}[_0x197620(0x245)](){const _0x3b4183=_0x197620;this[_0x3b4183(0x22d)]++,this[_0x3b4183(0x22d)]>this[_0x3b4183(0x218)]*DTR&&(this[_0x3b4183(0x22d)]=0x0,this['currentFrame']++,this['currentFrame']>=this[_0x3b4183(0x241)][_0x3b4183(0x1f5)]&&(this[_0x3b4183(0x231)]=0x0)),c[_0x3b4183(0x1fa)](this[_0x3b4183(0x1cd)],this[_0x3b4183(0x241)][this['currentFrame']],this[_0x3b4183(0x22f)][this['currentFrame']],0x80,0x40,this['x']-0x40-player[_0x3b4183(0x263)]*0x4+map['x'],this['y']-0x40-player[_0x3b4183(0x25d)]*0x4+map['y'],0x80,0x40),c[_0x3b4183(0x1d9)](),c['translate'](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x3b4183(0x204)](this[_0x3b4183(0x25f)]+this[_0x3b4183(0x235)]),c[_0x3b4183(0x1fa)](this['swordImg'],this[_0x3b4183(0x22b)][this['action']],this[_0x3b4183(0x284)][this[_0x3b4183(0x24e)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c['restore'](),this[_0x3b4183(0x235)]-=0.5/DTR,this[_0x3b4183(0x235)]<=-0x9&&(this[_0x3b4183(0x214)]=![],this['radians']=0x2),c[_0x3b4183(0x1fa)](this[_0x3b4183(0x1cd)],this['vfxX'][this[_0x3b4183(0x231)]],this[_0x3b4183(0x22f)][this[_0x3b4183(0x231)]]+0x40,0x80,0x40,this['x']-0x40-player['xVelExt']*0x4+map['x'],this['y']-player['yVelExt']*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x4a4092=_0x197620;monsters[_0x4a4092(0x26a)](function(_0x8e0246,_0x23e6c5){const _0x359d22=_0x4a4092;if(_0x8e0246[_0x359d22(0x24a)]&&!_0x23e6c5['dead'])return-0x1;else return!_0x8e0246[_0x359d22(0x24a)]&&_0x23e6c5[_0x359d22(0x24a)]?0x1:_0x8e0246['y']+0xf-_0x23e6c5['y'];});}function adjustCollidingMonsters(){const _0x405290=_0x197620;for(let _0x292fe0=0x0;_0x292fe0<monsters['length'];_0x292fe0++){if(monsters[_0x292fe0][_0x405290(0x24a)])continue;monsters[_0x292fe0]['col']['T']=0x0,monsters[_0x292fe0]['col']['B']=0x0,monsters[_0x292fe0]['col']['L']=0x0,monsters[_0x292fe0][_0x405290(0x281)]['R']=0x0;for(let _0x5f4a69=0x0;_0x5f4a69<monsters[_0x405290(0x1f5)];_0x5f4a69++){if(monsters[_0x5f4a69][_0x405290(0x24a)])continue;if(collided(monsters[_0x292fe0],monsters[_0x5f4a69])){let _0x5442e6=colCheck(monsters[_0x292fe0],monsters[_0x5f4a69]);switch(_0x5442e6){case'l':this[_0x405290(0x221)]<0x0&&(this[_0x405290(0x221)]=0x0);break;case'r':this[_0x405290(0x221)]>0x0&&(this[_0x405290(0x221)]=0x0);break;case'b':this[_0x405290(0x268)]>0x0&&(this[_0x405290(0x268)]=0x0);break;case't':this['yVel']<0x0&&(this[_0x405290(0x268)]=0x0);break;}monsters[_0x292fe0][_0x405290(0x221)]+=(monsters[_0x292fe0]['col']['L']-monsters[_0x292fe0][_0x405290(0x281)]['R'])/0x5,monsters[_0x292fe0][_0x405290(0x268)]+=(monsters[_0x292fe0][_0x405290(0x281)]['T']-monsters[_0x292fe0][_0x405290(0x281)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x6b82a8,_0x785329){const _0x477952=_0x197620;super(Collidable),this['x']=_0x6b82a8,this['y']=_0x785329,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x477952(0x221)]=0x0,this[_0x477952(0x268)]=0x0,this[_0x477952(0x263)]=0x0,this[_0x477952(0x25d)]=0x0,this[_0x477952(0x242)]=0x2,this['left']=0x0,this[_0x477952(0x236)]=![],this[_0x477952(0x1ce)]=0x0,this[_0x477952(0x24a)]=![],this[_0x477952(0x25c)]=[],this[_0x477952(0x222)]=0x3,this['hp']=0x3,this[_0x477952(0x22d)]=0x0,this[_0x477952(0x218)]=0x4,this[_0x477952(0x231)]=0x0,this[_0x477952(0x23f)]=!![],this[_0x477952(0x1cd)]=id('sheet'),this[_0x477952(0x24e)]=0x0,this[_0x477952(0x281)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this['actionX']=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x477952(0x284)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}['followPlayer'](){const _0x4a4415=_0x197620;if(this[_0x4a4415(0x24e)]!==0x0){let _0x1fcc70=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x57c8f5=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x28556f=_0x1fcc70>0x0?-0x1:0x1,_0xbac976=_0x57c8f5>0x0?-0x1:0x1,_0x54aa7d;_0x57c8f5!==0x0?_0x54aa7d=Math['abs'](_0x1fcc70)/(Math[_0x4a4415(0x1ff)](_0x57c8f5)+Math['abs'](_0x1fcc70)):_0x54aa7d=0x0;this['xVel']=this[_0x4a4415(0x242)]*_0x54aa7d*_0x28556f,this[_0x4a4415(0x268)]=this[_0x4a4415(0x242)]*(0x1-_0x54aa7d)*_0xbac976;if(this['x']+this['w']<player['x'])this['left']=![];else player['x']+player['w']<this['x']&&(this['left']=!![]);}}[_0x197620(0x21b)](){const _0xcdbef6=_0x197620;if(!this['dead']){this[_0xcdbef6(0x254)]();Math['abs'](this[_0xcdbef6(0x263)])>0.01?this[_0xcdbef6(0x263)]*=0.9:this[_0xcdbef6(0x263)]=0x0;Math['abs'](this[_0xcdbef6(0x25d)])>0.01?this['yVelExt']*=0.9:this[_0xcdbef6(0x25d)]=0x0;(this[_0xcdbef6(0x281)]['T']&&this[_0xcdbef6(0x268)]<0x0||this[_0xcdbef6(0x281)]['B']&&this[_0xcdbef6(0x268)]>0x0)&&(this[_0xcdbef6(0x268)]=0x0);(this[_0xcdbef6(0x281)]['L']&&this[_0xcdbef6(0x221)]<0x0||this[_0xcdbef6(0x281)]['R']&&this[_0xcdbef6(0x221)]>0x0)&&(this[_0xcdbef6(0x221)]=0x0);this[_0xcdbef6(0x24e)]!==0x0&&(this[_0xcdbef6(0x285)]?this[_0xcdbef6(0x24e)]=0x2:this[_0xcdbef6(0x24e)]=0x1);this['checkCollisions'](),this['x']+=(this['xVel']+this[_0xcdbef6(0x263)])/DTR,this['y']+=(this[_0xcdbef6(0x268)]+this[_0xcdbef6(0x25d)])/DTR;for(let _0xdd3cfd=0x0;_0xdd3cfd<this[_0xcdbef6(0x25c)]['length'];_0xdd3cfd++){this[_0xcdbef6(0x25c)][_0xdd3cfd]['x']=this['x']+this[_0xcdbef6(0x25c)][_0xdd3cfd]['xRel'],this[_0xcdbef6(0x25c)][_0xdd3cfd]['y']=this['y']+this[_0xcdbef6(0x25c)][_0xdd3cfd][_0xcdbef6(0x26f)];}this[_0xcdbef6(0x1f7)]['x']=this['x']+0x6,this[_0xcdbef6(0x1f7)]['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0xcdbef6(0x236)]=!![]),this[_0xcdbef6(0x236)]&&(this[_0xcdbef6(0x1ce)]=0x0,this['dead']=!![],this[_0xcdbef6(0x24e)]=0x3,this['frameCounter']=0x0,this[_0xcdbef6(0x231)]=0x0,this['slowness']=0xa);}}[_0x197620(0x245)](){const _0x3341d1=_0x197620;this[_0x3341d1(0x22d)]++;this[_0x3341d1(0x22d)]>this['slowness']*DTR&&(this[_0x3341d1(0x22d)]=0x0,this[_0x3341d1(0x231)]++,this[_0x3341d1(0x231)]>=this[_0x3341d1(0x22b)][this[_0x3341d1(0x24e)]][_0x3341d1(0x1f5)]&&(this['action']==0x0&&(this[_0x3341d1(0x24e)]=0x1+this[_0x3341d1(0x285)]),this[_0x3341d1(0x231)]=0x0));this[_0x3341d1(0x24e)]==0x3&&(this[_0x3341d1(0x231)]==this[_0x3341d1(0x22b)][this['action']][_0x3341d1(0x1f5)]-0x1&&(this[_0x3341d1(0x22d)]=0x0));if(!this[_0x3341d1(0x24a)])for(let _0x601a4f=0x0;_0x601a4f<this['arrows'][_0x3341d1(0x1f5)];_0x601a4f++){this[_0x3341d1(0x25c)][_0x601a4f][_0x3341d1(0x245)]();}this[_0x3341d1(0x1ce)]>0x0&&(this[_0x3341d1(0x24e)]=0x4,this['currentFrame']=0x0,this[_0x3341d1(0x261)]=0x0,this[_0x3341d1(0x1ce)]-=0x1/DTR),c[_0x3341d1(0x1fa)](this[_0x3341d1(0x1cd)],this[_0x3341d1(0x22b)][this['action']][this['currentFrame']]*TILESIZE,this[_0x3341d1(0x284)][this[_0x3341d1(0x24e)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x4b5482,_0x191aeb){const _0x464b68=_0x197620;super(Collidable),this['x']=(_0x4b5482/TILESIZE|0x0)*TILESIZE,this['y']=(_0x191aeb/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x464b68(0x221)]=0x0,this[_0x464b68(0x268)]=0x0,this[_0x464b68(0x263)]=0x0,this[_0x464b68(0x25d)]=0x0,this['speed']=0x2,this[_0x464b68(0x285)]=0x0,this[_0x464b68(0x236)]=![],this[_0x464b68(0x1ce)]=0x0,this[_0x464b68(0x24a)]=![],this[_0x464b68(0x1ec)]=![],this[_0x464b68(0x25c)]=[],this[_0x464b68(0x222)]=0x3,this['hp']=0x3,this[_0x464b68(0x22d)]=0x0,this['slowness']=0x4,this[_0x464b68(0x231)]=0x0,this[_0x464b68(0x1cd)]=id(_0x464b68(0x1cd)),this['action']=0x0,this[_0x464b68(0x23f)]=!![],this['path']=[],this[_0x464b68(0x281)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x464b68(0x1f7)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0x464b68(0x24b)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x464b68(0x22b)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this['actionY']=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this[_0x464b68(0x20b)]=0x0;}[_0x197620(0x254)](){const _0x47f70e=_0x197620;this[_0x47f70e(0x24b)]['x']=this['x']-0x5*TILESIZE,this[_0x47f70e(0x24b)]['y']=this['y']-0x5*TILESIZE,this[_0x47f70e(0x24b)]['w']=0xb*TILESIZE,this[_0x47f70e(0x24b)]['h']=0xb*TILESIZE;if(collided(this[_0x47f70e(0x24b)],player)){if(this[_0x47f70e(0x1ec)]){if(this[_0x47f70e(0x231)]==0x0&&this[_0x47f70e(0x22d)]==0x0){this[_0x47f70e(0x249)]();switch(this[_0x47f70e(0x1f9)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x47f70e(0x24e)]!==0x1&&(this[_0x47f70e(0x24e)]=0x1,this[_0x47f70e(0x231)]=0x0,this[_0x47f70e(0x22d)]=0x0);}else this[_0x47f70e(0x1ec)]&&this[_0x47f70e(0x24e)]!==0x0&&this[_0x47f70e(0x24e)]!==0x2&&(this['attacking']=![],this[_0x47f70e(0x23f)]=!![],this['action']=0x2,this[_0x47f70e(0x231)]=0x0,this[_0x47f70e(0x22d)]=0x0);}[_0x197620(0x21b)](){const _0x4377da=_0x197620;this[_0x4377da(0x254)](),this['hitbox']['x']=this['x']+(this['w']-0xe)/0x2,this['hitbox']['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x28d24f=0x0;_0x28d24f<this[_0x4377da(0x25c)][_0x4377da(0x1f5)];_0x28d24f++){this[_0x4377da(0x25c)][_0x28d24f]['x']=this['x']+this[_0x4377da(0x25c)][_0x28d24f][_0x4377da(0x21d)],this[_0x4377da(0x25c)][_0x28d24f]['y']=this['y']+this['arrows'][_0x28d24f][_0x4377da(0x26f)];}this['hp']<=0x0&&(this[_0x4377da(0x236)]=!![]),this['justDied']&&(this['justDamaged']=0x0,this[_0x4377da(0x24a)]=!![],this[_0x4377da(0x24e)]=0x3,this[_0x4377da(0x22d)]=0x0,this[_0x4377da(0x231)]=0x0,this[_0x4377da(0x218)]=0xa);}['draw'](){const _0x52e170=_0x197620;this[_0x52e170(0x22d)]++;this['action']==0x4?this[_0x52e170(0x218)]=0x3:this[_0x52e170(0x218)]=0x5;if(this['frameCounter']>this[_0x52e170(0x218)]*DTR){this['frameCounter']=0x0,this[_0x52e170(0x231)]++;if(this[_0x52e170(0x231)]>=this['actionX'][this[_0x52e170(0x24e)]][_0x52e170(0x1f5)]){if(this['dead'])this['currentFrame']=this['actionX'][this[_0x52e170(0x24e)]]['length']-0x1;else{if(this[_0x52e170(0x24e)]==0x1)this[_0x52e170(0x1ec)]=!![],this[_0x52e170(0x23f)]=![],this[_0x52e170(0x24e)]=0x4,this[_0x52e170(0x231)]=0x0;else this[_0x52e170(0x24e)]==0x2?(this[_0x52e170(0x24e)]=0x0,this[_0x52e170(0x231)]=0x0):this[_0x52e170(0x231)]=0x0;}}}if(!this['dead']){if(this[_0x52e170(0x24e)]==0x0)for(let _0x42195c=0x0;_0x42195c<this[_0x52e170(0x25c)][_0x52e170(0x1f5)];_0x42195c++){this[_0x52e170(0x25c)][_0x42195c][_0x52e170(0x245)]();}}this['justDamaged']>0x0&&(this[_0x52e170(0x24e)]=0x3,this[_0x52e170(0x231)]=0x0,this[_0x52e170(0x261)]=0x0,this[_0x52e170(0x1ce)]-=0x1/DTR,this['justDamaged']<=0x0&&(this[_0x52e170(0x24e)]=0x0)),c[_0x52e170(0x1fa)](this[_0x52e170(0x1cd)],this[_0x52e170(0x22b)][this[_0x52e170(0x24e)]][this[_0x52e170(0x231)]]*TILESIZE,this[_0x52e170(0x284)][this[_0x52e170(0x24e)]][this[_0x52e170(0x231)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}['createGrid'](){const _0x310edf=_0x197620;let _0x4e10ea=0xb,_0x4e3004=[],_0x540013=this['x']+this['w']/0x2-TILESIZE*0x5,_0xd258e2=this['y']+this['h']/0x2-TILESIZE*0x5,_0x2cbe52;for(let _0x12b0e4=0x0;_0x12b0e4<_0x4e10ea;_0x12b0e4++){_0x4e3004[_0x12b0e4]=[];for(let _0x47da9c=0x0;_0x47da9c<_0x4e10ea;_0x47da9c++){_0x2cbe52=getTileData(_0x540013+_0x12b0e4*TILESIZE,_0xd258e2+_0x47da9c*TILESIZE),_0x2cbe52===![]?_0x4e3004[_0x12b0e4][_0x47da9c]=_0x310edf(0x267):_0x4e3004[_0x12b0e4][_0x47da9c]=_0x310edf(0x203);}}_0x4e3004[0x5][0x5]=_0x310edf(0x216),_0x4e3004[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x310edf(0x1fc),this['path']=findShortestPath([0x5,0x5],_0x4e3004);}}class Flower extends Collidable{constructor(_0x3711de,_0x11d6ac){const _0x4b2bf1=_0x197620;super(Collidable),this['x']=_0x3711de,this['y']=_0x11d6ac,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x4b2bf1(0x221)]=0x0,this[_0x4b2bf1(0x268)]=0x0,this['xVelExt']=0x0,this[_0x4b2bf1(0x25d)]=0x0,this[_0x4b2bf1(0x242)]=0x2,this[_0x4b2bf1(0x285)]=0x0,this['justDied']=![],this[_0x4b2bf1(0x1ce)]=0x0,this[_0x4b2bf1(0x24a)]=![],this[_0x4b2bf1(0x25c)]=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x4b2bf1(0x22d)]=0x0,this[_0x4b2bf1(0x218)]=0x8,this[_0x4b2bf1(0x1ec)]=![],this[_0x4b2bf1(0x231)]=0x0,this['sheet']=id(_0x4b2bf1(0x1cd)),this[_0x4b2bf1(0x223)]=0x5,this[_0x4b2bf1(0x27e)]=0x8,this['collidable']=!![],this[_0x4b2bf1(0x281)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x4b2bf1(0x1f7)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x4b2bf1(0x24e)]=0x0,this[_0x4b2bf1(0x22b)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this['actionY']=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this[_0x4b2bf1(0x239)]=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x4b2bf1(0x271)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x4b2bf1(0x235)]=0x0,this[_0x4b2bf1(0x253)]=![];}[_0x197620(0x23e)](){const _0x1c6b30=_0x197620;if(!isObstructed(this,player)){this[_0x1c6b30(0x1ec)]=!![];if(this[_0x1c6b30(0x231)]==0x2){if(!this['justShot']){let _0x5ddfca=new EnemyProjectile(),_0x3fd024=this['x']+this['w']/0x2,_0x4df180=this['y']+this['h']/0x2,_0x43763f=player['x']+player['w']/0x2-_0x3fd024+Math[_0x1c6b30(0x258)]()*this[_0x1c6b30(0x223)]-this['precision']/0x2,_0x62636b=player['y']+player['h']/0x2-_0x4df180+Math[_0x1c6b30(0x258)]()*this['precision']-this['precision']/0x2,_0x136d27=Math['atan2'](_0x62636b,_0x43763f),_0x5653a4=Math[_0x1c6b30(0x212)](_0x136d27),_0x300567=Math[_0x1c6b30(0x1e5)](_0x136d27);_0x5ddfca[_0x1c6b30(0x221)]=_0x5653a4*this['projSpeed'],_0x5ddfca['yVel']=_0x300567*this[_0x1c6b30(0x27e)],_0x5ddfca['x']=_0x3fd024,_0x5ddfca['y']=_0x4df180,enemyProjectiles[_0x1c6b30(0x27c)](_0x5ddfca),this[_0x1c6b30(0x253)]=!![];}}else this[_0x1c6b30(0x253)]=![];}else this['attacking']=![];}[_0x197620(0x21b)](){const _0x181716=_0x197620;this[_0x181716(0x23e)](),this['hitbox']['x']=this['x']+this['w']/0x3,this[_0x181716(0x1f7)]['y']=this['y']+this['h']/0x5,this[_0x181716(0x235)]=Math[_0x181716(0x234)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x482861=0x0;_0x482861<this[_0x181716(0x25c)][_0x181716(0x1f5)];_0x482861++){this[_0x181716(0x25c)][_0x482861]['x']=this['x']+this['arrows'][_0x482861][_0x181716(0x21d)],this[_0x181716(0x25c)][_0x482861]['y']=this['y']+this['arrows'][_0x482861][_0x181716(0x26f)];}this['hp']<=0x0&&(this[_0x181716(0x236)]=!![]),this[_0x181716(0x236)]&&(this['justDamaged']=0x0,this[_0x181716(0x24a)]=!![],this['action']=0x2,this[_0x181716(0x22d)]=0x0,this['currentFrame']=0x0,this['slowness']=0xa);}[_0x197620(0x245)](){const _0x33f813=_0x197620;this[_0x33f813(0x22d)]++;this[_0x33f813(0x22d)]>this[_0x33f813(0x218)]*DTR&&(this['frameCounter']=0x0,this[_0x33f813(0x231)]++,this[_0x33f813(0x231)]>=this[_0x33f813(0x22b)][this[_0x33f813(0x24e)]][_0x33f813(0x1f5)]&&(this[_0x33f813(0x24a)]?this[_0x33f813(0x231)]=this[_0x33f813(0x22b)][this['action']][_0x33f813(0x1f5)]-0x1:this[_0x33f813(0x231)]=0x0));if(!this['dead']){this[_0x33f813(0x1ec)]?this[_0x33f813(0x24e)]=0x1:this[_0x33f813(0x24e)]=0x0;for(let _0x193d6b=0x0;_0x193d6b<this[_0x33f813(0x25c)]['length'];_0x193d6b++){this[_0x33f813(0x25c)][_0x193d6b][_0x33f813(0x245)]();}}this['attacking']?this[_0x33f813(0x218)]=0x4:this['slowness']=0x8,this[_0x33f813(0x1ce)]&&(this[_0x33f813(0x24e)]=0x2,this['currentFrame']=0x0,this[_0x33f813(0x261)]=0x0,this['justDamaged']--),c[_0x33f813(0x1fa)](this[_0x33f813(0x1cd)],this[_0x33f813(0x22b)][this['action']][this['currentFrame']]*TILESIZE,this[_0x33f813(0x284)][this['action']][this[_0x33f813(0x231)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this['action']==0x0||this['action']==0x1)&&(c[_0x33f813(0x1d9)](),c[_0x33f813(0x22e)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x33f813(0x204)](this[_0x33f813(0x235)]),c[_0x33f813(0x1fa)](this[_0x33f813(0x1cd)],this['headX'][this[_0x33f813(0x24e)]][this[_0x33f813(0x231)]]*TILESIZE,this[_0x33f813(0x271)][this['action']][this[_0x33f813(0x231)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x33f813(0x1d3)]());}}function getTileData(_0xe170c5,_0x5d51f6){const _0x58dfc3=_0x197620;let _0x134695=(_0xe170c5/TILESIZE|0x0)+(_0x5d51f6/TILESIZE|0x0)*map[_0x58dfc3(0x1ea)];for(let _0x268c0e=0x0;_0x268c0e<map['tiles'][_0x58dfc3(0x1f5)];_0x268c0e++){for(let _0xadd4c7=0x0;_0xadd4c7<TilesData['length'];_0xadd4c7++){if(TilesData[_0xadd4c7]['id']==map['tiles'][_0x268c0e][_0x134695]-0x1)return TilesData[_0xadd4c7];}}return![];}window[_0x197620(0x215)]=function(){const _0x43f7a0=_0x197620;player[_0x43f7a0(0x226)]!==0x0?player[_0x43f7a0(0x23e)]():player['noArrows']=0xa;},window['oncontextmenu']=function(_0x1de628){const _0x44d2ac=_0x197620;_0x1de628['preventDefault'](),player[_0x44d2ac(0x256)]();},document[_0x197620(0x1f0)]('mousedown',function(_0x493742){const _0x10e3c3=_0x197620;switch(_0x493742['button']){case 0x0:userInterface[_0x10e3c3(0x26e)]=!![];break;case 0x2:userInterface[_0x10e3c3(0x246)]=!![];break;}}),document['addEventListener'](_0x197620(0x1fb),function(_0x3866ff){const _0x1fdab8=_0x197620;switch(_0x3866ff[_0x1fdab8(0x210)]){case 0x0:userInterface['lClick']=![];break;case 0x2:userInterface[_0x1fdab8(0x246)]=![];break;}});var stats=id('stats');function drawStats(){const _0x2adf6a=_0x197620;stats[_0x2adf6a(0x1df)]='player.x\x20=\x20'+player['x'],stats['innerHTML']+=_0x2adf6a(0x21a)+player['y'],stats[_0x2adf6a(0x1df)]+=_0x2adf6a(0x252)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x2adf6a(0x1df)]+='<br>mouseTile.y\x20=\x20'+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x2adf6a(0x1df)]+=_0x2adf6a(0x213)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x2adf6a(0x1ea)]),stats[_0x2adf6a(0x1df)]+=_0x2adf6a(0x209)+map[_0x2adf6a(0x274)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x2adf6a(0x1ea)]],map[_0x2adf6a(0x274)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x2adf6a(0x1ea)]],DEBUG&&(c[_0x2adf6a(0x244)]((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x2adf6a(0x227)]());}window['addEventListener']('keydown',function(_0x25a6a0){const _0x1da424=_0x197620;switch(_0x25a6a0[_0x1da424(0x1f8)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0x1da424(0x27c)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x1da424(0x208)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x272248=0x0;_0x272248<0x32;_0x272248++){player['shoot'](),player[_0x1da424(0x1eb)]=player[_0x1da424(0x1e3)]*DTR,player[_0x1da424(0x259)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window['addEventListener']('keyup',function(_0x337184){const _0x46666a=_0x197620;switch(_0x337184[_0x46666a(0x1f8)]){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window['addEventListener']('mousemove',function(_0x5d07ad){const _0x4be962=_0x197620;mousePP['x']=_0x5d07ad[_0x4be962(0x1d0)]-CANVAS[_0x4be962(0x27f)],mousePP['y']=_0x5d07ad['clientY']-CANVAS[_0x4be962(0x275)];});function moveCamera(){const _0x9766d4=_0x197620;map['x']=-player['x']/0x3+CANVAS[_0x9766d4(0x1ea)]/0x6,map['y']=-player['y']/0x3+CANVAS[_0x9766d4(0x266)]/0x6,screenShake[_0x9766d4(0x20b)]&&(screenShake['counter']--,screenShake[_0x9766d4(0x205)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0xc6e5db=_0x197620;c[_0xc6e5db(0x1f1)]=0x2,c['strokeStyle']=sampleArrow[_0xc6e5db(0x232)][0x0],c['beginPath']();for(let _0x4d8c2d=playerArrows[_0xc6e5db(0x1f5)]-0x1;_0x4d8c2d>=0x0;_0x4d8c2d--){if(!playerArrows[_0x4d8c2d][_0xc6e5db(0x214)]||playerArrows[_0x4d8c2d][_0xc6e5db(0x217)]!=0x1)continue;playerArrows[_0x4d8c2d][_0xc6e5db(0x248)]&&playerArrows[_0x4d8c2d][_0xc6e5db(0x21b)]();if(playerArrows[_0x4d8c2d]!==undefined)playerArrows[_0x4d8c2d][_0xc6e5db(0x245)]();}c[_0xc6e5db(0x264)](),c[_0xc6e5db(0x227)](),c['strokeStyle']=sampleArrow[_0xc6e5db(0x232)][0x1],c[_0xc6e5db(0x237)]();for(let _0xafb08f=playerArrows['length']-0x1;_0xafb08f>=0x0;_0xafb08f--){if(!playerArrows[_0xafb08f][_0xc6e5db(0x214)]||playerArrows[_0xafb08f][_0xc6e5db(0x217)]!=0x2)continue;playerArrows[_0xafb08f]['free']&&playerArrows[_0xafb08f][_0xc6e5db(0x21b)]();if(playerArrows[_0xafb08f]!==undefined)playerArrows[_0xafb08f]['draw']();}c[_0xc6e5db(0x264)](),c['stroke']();}function loop(){const _0x19b063=_0x197620;fps++,c['clearRect'](0x0,0x0,CANVAS[_0x19b063(0x1ea)],CANVAS[_0x19b063(0x266)]),moveCamera(),map[_0x19b063(0x245)](),player[_0x19b063(0x21b)]();for(let _0x30c28d=enemyProjectiles[_0x19b063(0x1f5)]-0x1;_0x30c28d>=0x0;_0x30c28d--){enemyProjectiles[_0x30c28d]['compute']();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x4ebba5=0x0;_0x4ebba5<monsters[_0x19b063(0x1f5)];_0x4ebba5++){!monsters[_0x4ebba5]['dead']&&monsters[_0x4ebba5]['compute'](),monsters[_0x4ebba5][_0x19b063(0x245)]();}player[_0x19b063(0x245)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x33228f=enemyProjectiles[_0x19b063(0x1f5)]-0x1;_0x33228f>=0x0;_0x33228f--){enemyProjectiles[_0x33228f]['draw']();}sword[_0x19b063(0x214)]&&(sword[_0x19b063(0x21b)](),sword[_0x19b063(0x245)]());for(let _0x5deaf8=visualFxs[_0x19b063(0x1f5)]-0x1;_0x5deaf8>=0x0;_0x5deaf8--){!visualFxs[_0x5deaf8][_0x19b063(0x24c)]&&visualFxs[_0x5deaf8][_0x19b063(0x245)]();}userInterface['draw'](),drawStats();}var lastUpdate=Date[_0x197620(0x20a)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0x728206=_0x197620;var _0xf21486=Date[_0x728206(0x20a)](),_0x23d688=_0xf21486-lastUpdate;lastUpdate=_0xf21486,DTR=0x3e8/0x3c/_0x23d688,!gamePaused&&loop();}