'strict';const _0x327d32=_0x2831;(function(_0x5d638e,_0x487e29){const _0x1f5564=_0x2831,_0x2fbf59=_0x5d638e();while(!![]){try{const _0x135d93=parseInt(_0x1f5564(0xe0))/0x1*(parseInt(_0x1f5564(0xe4))/0x2)+parseInt(_0x1f5564(0x10d))/0x3*(parseInt(_0x1f5564(0x141))/0x4)+parseInt(_0x1f5564(0xeb))/0x5*(-parseInt(_0x1f5564(0x119))/0x6)+parseInt(_0x1f5564(0x10b))/0x7*(parseInt(_0x1f5564(0x168))/0x8)+parseInt(_0x1f5564(0x118))/0x9+parseInt(_0x1f5564(0xc6))/0xa*(parseInt(_0x1f5564(0xc5))/0xb)+-parseInt(_0x1f5564(0xef))/0xc*(parseInt(_0x1f5564(0xe2))/0xd);if(_0x135d93===_0x487e29)break;else _0x2fbf59['push'](_0x2fbf59['shift']());}catch(_0x26a38c){_0x2fbf59['push'](_0x2fbf59['shift']());}}}(_0x2b8d,0x74b47));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0x327d32(0x176)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS['getContext']('2d');CANVAS[_0x327d32(0x114)]=0x2e0,CANVAS[_0x327d32(0xd9)]=0x1e0,CANVAS['style']['left']=(window['innerWidth']-CANVAS[_0x327d32(0x114)])/0x2+'px',CANVAS[_0x327d32(0x155)][_0x327d32(0x134)]=(window[_0x327d32(0x16c)]-CANVAS[_0x327d32(0xd9)])/0x2+'px',c[_0x327d32(0x15a)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function _0x2b8d(){const _0x26c27f=['player','moveTo','path','globalAlpha','lineWidth','headX','toPrecision','preventDefault','now','checkCollisions','lineTo','<br>mouseTile\x20id\x20=\x20','damage','77czXCZS','hole','3KNgHzW','arrowsCount','counter','zWVAabyFcvout:bQlcPaYnkqMYDEChNwZXmv','keyCode','apply','xRel','width','justDamaged','Empty','vfxX','6483780AthbMa','222MmuDTL','tiles','hypot','left','type','draw','shoot','xVelExt','textAlign','onclick','pos','maxHp','headY','actionX','unpassable','vfxY','currentFrame','stats','lengthY','properties','hpBar','noArrows','then','shift','sheet','atkBox','arrow','top','beginPath','yVel','innerHTML','FPS','hitbox','drawBow','clientY','createGrid','sin','[zWVAyFcvQcPYqMYDEChNwZXmv]','arrowsArr','length','200236JSDVAH','solid','justShot','attacking','bow','attack','{}.constructor(\x22return\x20this\x22)(\x20)','fromCharCode','rotate','framecounter','charCodeAt','player.x\x20=\x20','layout','FPS:\x20','drawImage','<br>mouseTile.x\x20=\x20','lengthX','atan2','attacked','split','style','points','radians','button','sort','imageSmoothingEnabled','random','rect','computeQuiver','critChance','addEventListener','#8b5851','font','projSpeed','14px\x20Arial','yRel','crop','ended','<br>DTR:\x20','86520WciBik','dead','./Archer.json','action','innerHeight','splice','arrowCD','translate','json','mousedown','lClick','slowness','actionY','free','canvas','color','keydown','abs','colors','xVel','8038327aFeGde','10SnRvca','compute','frameCounter','Obstacle','radiansP','collidable','center','Start','friendly','cos','maxMp','sword','oncontextmenu','LsTaDSantOoWYXnSDSaxndremYIxK.WgviwTALxthvmWZuFbpB.kfiNoW;lomcCalHhzDYostQjjVMyvGCvWBLxzRYHLNZVVCTw','#ff0000','centerX','justDied','black','arrowCounter','height','portrait','strokeStyle','#ff8db5','set','fillText','stroke','2493YulKUK','mouseup','2920047sGapfc','grass','158Mohfov','rClick','indexOf','centerY','getElementById','col','replace','120255blStIN','speed','push','yVelExt','24CaQCFE','log','offsetTop','mpBar','hp-bar','slice','round','precision','active','closePath','arrowSpeed','followPlayer','save','restore','arrows'];_0x2b8d=function(){return _0x26c27f;};return _0x2b8d();}function id(_0x5c23b3){const _0x1831d1=_0x327d32,_0x5e2971=(function(){let _0x924811=!![];return function(_0x217ff5,_0x202ada){const _0x51b2fe=_0x924811?function(){const _0x1d668f=_0x2831;if(_0x202ada){const _0x457636=_0x202ada[_0x1d668f(0x112)](_0x217ff5,arguments);return _0x202ada=null,_0x457636;}}:function(){};return _0x924811=![],_0x51b2fe;};}()),_0x39680a=_0x5e2971(this,function(){const _0x38ae56=_0x2831;let _0x40cbe2;try{const _0x55c62d=Function('return\x20(function()\x20'+_0x38ae56(0x147)+');');_0x40cbe2=_0x55c62d();}catch(_0x4d3d95){_0x40cbe2=window;}const _0x23a104=new RegExp('[LTDSOWYXSDSxmYIxKWvwTALxvmWZFpBkfNWmCHzDYQjjVMyvGCvWBLxzRYHLNZVVCTw]','g'),_0x388bf5=_0x38ae56(0xd3)[_0x38ae56(0xea)](_0x23a104,'')[_0x38ae56(0x154)](';');let _0x1a26e8,_0x559d1f,_0x36d405,_0x2d1944;const _0xad9990=function(_0x24b15c,_0x5d738a,_0xdaa1c7){const _0x4aed6e=_0x38ae56;if(_0x24b15c[_0x4aed6e(0x140)]!=_0x5d738a)return![];for(let _0x595e1=0x0;_0x595e1<_0x5d738a;_0x595e1++){for(let _0x41a6e0=0x0;_0x41a6e0<_0xdaa1c7[_0x4aed6e(0x140)];_0x41a6e0+=0x2){if(_0x595e1==_0xdaa1c7[_0x41a6e0]&&_0x24b15c[_0x4aed6e(0x14b)](_0x595e1)!=_0xdaa1c7[_0x41a6e0+0x1])return![];}}return!![];},_0x2b9c54=function(_0xa55036,_0x223039,_0x43bfbf){return _0xad9990(_0x223039,_0x43bfbf,_0xa55036);},_0x4e6f49=function(_0x2e184f,_0x3b9c87,_0x2f9a58){return _0x2b9c54(_0x3b9c87,_0x2e184f,_0x2f9a58);},_0x33d87b=function(_0x336db6,_0x55735e,_0x3ffda8){return _0x4e6f49(_0x55735e,_0x3ffda8,_0x336db6);};for(let _0x39e5ee in _0x40cbe2){if(_0xad9990(_0x39e5ee,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1a26e8=_0x39e5ee;break;}}for(let _0x3d996b in _0x40cbe2[_0x1a26e8]){if(_0x33d87b(0x6,_0x3d996b,[0x5,0x6e,0x0,0x64])){_0x559d1f=_0x3d996b;break;}}for(let _0x35d056 in _0x40cbe2[_0x1a26e8]){if(_0x4e6f49(_0x35d056,[0x7,0x6e,0x0,0x6c],0x8)){_0x36d405=_0x35d056;break;}}if(!('~'>_0x559d1f))for(let _0x4a9b72 in _0x40cbe2[_0x1a26e8][_0x36d405]){if(_0x2b9c54([0x7,0x65,0x0,0x68],_0x4a9b72,0x8)){_0x2d1944=_0x4a9b72;break;}}if(!_0x1a26e8||!_0x40cbe2[_0x1a26e8])return;const _0x423bb8=_0x40cbe2[_0x1a26e8][_0x559d1f],_0x2b27a2=!!_0x40cbe2[_0x1a26e8][_0x36d405]&&_0x40cbe2[_0x1a26e8][_0x36d405][_0x2d1944],_0x253ee4=_0x423bb8||_0x2b27a2;if(!_0x253ee4)return;let _0x1224c7=![];for(let _0x282c81=0x0;_0x282c81<_0x388bf5[_0x38ae56(0x140)];_0x282c81++){const _0x40ed40=_0x388bf5[_0x282c81],_0x94f9fe=_0x40ed40[0x0]===String[_0x38ae56(0x148)](0x2e)?_0x40ed40[_0x38ae56(0xf4)](0x1):_0x40ed40,_0x3d9182=_0x253ee4[_0x38ae56(0x140)]-_0x94f9fe[_0x38ae56(0x140)],_0x2b2530=_0x253ee4['indexOf'](_0x94f9fe,_0x3d9182),_0x1d8715=_0x2b2530!==-0x1&&_0x2b2530===_0x3d9182;_0x1d8715&&((_0x253ee4['length']==_0x40ed40['length']||_0x40ed40[_0x38ae56(0xe6)]('.')===0x0)&&(_0x1224c7=!![]));}if(!_0x1224c7){const _0x5b160d=new RegExp(_0x38ae56(0x13e),'g'),_0x170861=_0x38ae56(0x110)['replace'](_0x5b160d,'');_0x40cbe2[_0x1a26e8][_0x36d405]=_0x170861;}});return _0x39680a(),document[_0x1831d1(0xe8)](_0x5c23b3);}var fpsDiv=id(_0x327d32(0x138));setInterval(function(){const _0x1ad703=_0x327d32;fpsDiv['innerHTML']=_0x1ad703(0x14e)+fps,fpsDiv[_0x1ad703(0x137)]+=_0x1ad703(0x167)+DTR[_0x1ad703(0x104)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x5daab6=_0x327d32;this['x']=Math[_0x5daab6(0x15b)]()*0x8-0x4|0x0,this['y']=Math[_0x5daab6(0x15b)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x5708c7=_0x327d32;this['x']=0x0,this['y']=0x0,this[_0x5708c7(0x136)]=0x0,this['xVel']=0x0,this['xRel']=0x0,this[_0x5708c7(0x164)]=0x0,this[_0x5708c7(0xf7)]=!![],this[_0x5708c7(0x175)]=!![],this[_0x5708c7(0xce)]=!![],this['lengthX']=0x0,this[_0x5708c7(0x12b)]=0x0,this[_0x5708c7(0x10a)]=0x1,this[_0x5708c7(0x177)]=0x0,this[_0x5708c7(0xc3)]=[_0x5708c7(0x160),_0x5708c7(0xdc)],this[_0x5708c7(0x156)]={'x':0x0,'y':0x0};}[_0x327d32(0x11e)](){const _0x358423=_0x327d32;Math[_0x358423(0x179)](this['xVel']*0x3)>Math['abs'](this['lengthX'])&&(this['lengthX']=this[_0x358423(0xc4)]*0x3,this['lengthY']=this[_0x358423(0x136)]*0x3),this[_0x358423(0x156)]['x']=this['x']+this[_0x358423(0x151)],this[_0x358423(0x156)]['y']=this['y']+this[_0x358423(0x12b)],c[_0x358423(0xff)](this['x']+map['x'],this['y']+map['y']),c[_0x358423(0x108)](this['x']+this[_0x358423(0x151)]+map['x'],this['y']+this[_0x358423(0x12b)]+map['y']);}['compute'](){const _0x54c4e5=_0x327d32;this['x']+=this[_0x54c4e5(0xc4)]/DTR,this['y']+=this[_0x54c4e5(0x136)]/DTR;if(getTileData(this['x'],this['y'])[_0x54c4e5(0x142)])visualFxs[_0x54c4e5(0xed)](new Explosion(this['x']+this[_0x54c4e5(0xc4)],this['y']+this['yVel'],this['color'])),this[_0x54c4e5(0x177)]==0x2&&(screenShake[_0x54c4e5(0x10f)]=0x5),this[_0x54c4e5(0xc4)]=0x0,this['yVel']=0x0,this['lengthX']/=0x2,this['lengthY']/=0x2,this['free']=![];else for(let _0x58f0ea=monsters[_0x54c4e5(0x140)]-0x1;_0x58f0ea>=0x0;_0x58f0ea--){let _0x4654bf=monsters[_0x58f0ea];!_0x4654bf['dead']&&_0x4654bf['collidable']&&((pointSquareCol(this,_0x4654bf)||pointSquareCol(this['points'],_0x4654bf))&&(this[_0x54c4e5(0xf7)]=![],_0x4654bf[_0x54c4e5(0x120)]=this['xVel']/0x2,_0x4654bf['yVelExt']=this[_0x54c4e5(0x136)]/0x2,visualFxs[_0x54c4e5(0xed)](new Explosion(this['x'],this['y'],this[_0x54c4e5(0x177)])),this['color']==0x2&&(screenShake[_0x54c4e5(0x10f)]=0x5),this[_0x54c4e5(0xc4)]=0x0,this[_0x54c4e5(0x136)]=0x0,this[_0x54c4e5(0x113)]=this['x']-_0x4654bf['x'],this['yRel']=this['y']-_0x4654bf['y'],_0x4654bf[_0x54c4e5(0xfd)][_0x54c4e5(0xed)](this),_0x4654bf['hp']-=this['damage'],_0x4654bf[_0x54c4e5(0x115)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x4ea041=_0x327d32;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x4ea041(0x136)]=0x0,this[_0x4ea041(0xc4)]=0x0,this['free']=!![],this[_0x4ea041(0xce)]=![],this[_0x4ea041(0x131)]=id(_0x4ea041(0x131)),this[_0x4ea041(0x126)]=[0x5],this[_0x4ea041(0x174)]=[0x18],this[_0x4ea041(0x11d)]=0x0,this['damage']=0x5;}[_0x327d32(0xc7)](){const _0xc0af15=_0x327d32;this['x']+=this['xVel']/DTR,this['y']+=this[_0xc0af15(0x136)]/DTR,getTileData(this['x'],this['y'])[_0xc0af15(0x142)]?(enemyProjectiles[_0xc0af15(0x16d)](enemyProjectiles[_0xc0af15(0xe6)](this),0x1),visualFxs[_0xc0af15(0xed)](new Explosion(this['x']+this[_0xc0af15(0xc4)],this['y']+this[_0xc0af15(0x136)],0x1)),this['xVel']=0x0,this[_0xc0af15(0x136)]=0x0,this[_0xc0af15(0x151)]/=0x2,this[_0xc0af15(0x12b)]/=0x2,this[_0xc0af15(0x175)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0xc0af15(0x16d)](enemyProjectiles['indexOf'](this),0x1),player[_0xc0af15(0x120)]+=this[_0xc0af15(0xc4)]/0x2,player[_0xc0af15(0xee)]+=this[_0xc0af15(0x136)]/0x2,player['hp']-=this[_0xc0af15(0x10a)],visualFxs[_0xc0af15(0xed)](new Explosion(this['x'],this['y'],0x1)),screenShake['counter']=0x5);}[_0x327d32(0x11e)](){const _0x2e994f=_0x327d32;c[_0x2e994f(0x14f)](this['sheet'],this['actionX'][this[_0x2e994f(0x11d)]]*TILESIZE,this[_0x2e994f(0x174)][this[_0x2e994f(0x11d)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x272cc3,_0x3e4e41,_0x492f7a){const _0xacda29=_0x327d32;this['sheet']=id(_0xacda29(0x131)),this['x']=_0x272cc3-0x10,this['y']=_0x3e4e41-0x10,this['w']=0x20,this['h']=0x20,this[_0xacda29(0xc8)]=0x0,this[_0xacda29(0x129)]=0x0,this[_0xacda29(0x16b)]=_0x492f7a-0x1,this[_0xacda29(0x126)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0xacda29(0x174)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this[_0xacda29(0x173)]=0x4,this['ended']=![];}[_0x327d32(0x11e)](){const _0x2df742=_0x327d32;c[_0x2df742(0x14f)](this['sheet'],this[_0x2df742(0x126)][this[_0x2df742(0x16b)]][this['currentFrame']],this['actionY'][this[_0x2df742(0x16b)]][this['currentFrame']],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this['frameCounter']++,this[_0x2df742(0xc8)]>this['slowness']*DTR&&(this[_0x2df742(0xc8)]=0x0,this[_0x2df742(0x129)]++,this[_0x2df742(0x129)]>this[_0x2df742(0x126)][this[_0x2df742(0x16b)]]['length']-0x1&&(this[_0x2df742(0x166)]=!![]));}}function _0x2831(_0x35d187,_0x4fa6b3){const _0x41ea09=_0x2b8d();return _0x2831=function(_0x599db1,_0x2ed914){_0x599db1=_0x599db1-0xc3;let _0x18c388=_0x41ea09[_0x599db1];return _0x18c388;},_0x2831(_0x35d187,_0x4fa6b3);}class Collidable{constructor(){}[_0x327d32(0x107)](){const _0x4bfb45=_0x327d32;let _0x37e2e4;this['col']['T']=0x0,this['col']['B']=0x0,this['col']['L']=0x0,this[_0x4bfb45(0xe9)]['R']=0x0,getTileData(this['x'],this['y'])[_0x4bfb45(0x127)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x37e2e4=colCheck(this,generatedSquare),this['x']+=(this[_0x4bfb45(0xe9)]['L']-this[_0x4bfb45(0xe9)]['R'])/0x5/DTR,this['y']+=(this[_0x4bfb45(0xe9)]['T']-this[_0x4bfb45(0xe9)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x4bfb45(0x127)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x37e2e4=colCheck(this,generatedSquare),this['x']+=(this[_0x4bfb45(0xe9)]['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0x4bfb45(0xe9)]['T']-this[_0x4bfb45(0xe9)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x4bfb45(0x127)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x37e2e4=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this['col']['R'])/0x5/DTR,this['y']+=(this['col']['T']-this['col']['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])['unpassable']&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x37e2e4=colCheck(this,generatedSquare),this['x']+=(this[_0x4bfb45(0xe9)]['L']-this[_0x4bfb45(0xe9)]['R'])/0x5/DTR,this['y']+=(this[_0x4bfb45(0xe9)]['T']-this['col']['B'])/0x5/DTR),this[_0x4bfb45(0xe9)]['B']&&(this['yVelExt']>0x0&&(this[_0x4bfb45(0xee)]*=-0.5)),this[_0x4bfb45(0xe9)]['T']&&(this[_0x4bfb45(0xee)]<0x0&&(this[_0x4bfb45(0xee)]*=-0.5)),this[_0x4bfb45(0xe9)]['R']&&(this[_0x4bfb45(0x120)]>0x0&&(this['xVelExt']*=-0.5)),this[_0x4bfb45(0xe9)]['L']&&(this[_0x4bfb45(0x120)]<0x0&&(this['xVelExt']*=-0.5));}}class Player extends Collidable{constructor(_0x3941d7,_0x2f1b22){const _0x2f188a=_0x327d32;super(Collidable),this['x']=_0x3941d7,this['y']=_0x2f1b22,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x2f188a(0xec)]=0x3,this[_0x2f188a(0x136)]=0x0,this[_0x2f188a(0xc4)]=0x0,this[_0x2f188a(0xee)]=0x0,this[_0x2f188a(0x120)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x2f188a(0xf9)]=0xa,this[_0x2f188a(0xd5)]=0x0,this[_0x2f188a(0xe7)]=0x0,this[_0x2f188a(0xe9)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x2f188a(0x126)]=[0x0,0x20,0x40],this[_0x2f188a(0x174)]=[0x0,0x0,0x0],this['action']=0x0,this['frameCounter']=0x0,this[_0x2f188a(0x173)]=0x6,this[_0x2f188a(0x157)]=0x0,this[_0x2f188a(0xd1)]=![],this[_0x2f188a(0xf6)]=0x14,this['noArrows']=0x0,this[_0x2f188a(0x153)]=0x0,this[_0x2f188a(0x13f)]=[0x1,0x1,0x1,0x1,0x1],this[_0x2f188a(0x16e)]=0x3c,this[_0x2f188a(0xd8)]=0x0,this[_0x2f188a(0x10e)]=0x4,this['hp']=0x64,this[_0x2f188a(0x124)]=0x64,this['mp']=0x64,this[_0x2f188a(0xd0)]=0x64,this[_0x2f188a(0x15e)]=0.25,this[_0x2f188a(0x145)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}[_0x327d32(0x15d)](){const _0x2ef09f=_0x327d32;let _0x64313b=!![],_0x109e4f;for(_0x109e4f=0x0;_0x109e4f<this[_0x2ef09f(0x13f)][_0x2ef09f(0x140)];_0x109e4f++){if(this[_0x2ef09f(0x13f)][_0x109e4f]===0x0){_0x64313b=![];break;}}this[_0x2ef09f(0x10e)]=_0x109e4f;if(!_0x64313b){this['arrowCounter']++;if(this[_0x2ef09f(0xd8)]>this[_0x2ef09f(0x16e)]*DTR)for(_0x109e4f=0x0;_0x109e4f<this[_0x2ef09f(0x13f)][_0x2ef09f(0x140)];_0x109e4f++){if(this[_0x2ef09f(0x13f)][_0x109e4f]===0x0){Math[_0x2ef09f(0x15b)]()<this[_0x2ef09f(0x15e)]?this[_0x2ef09f(0x13f)][_0x109e4f]=0x2:this['arrowsArr'][_0x109e4f]=0x1;this[_0x2ef09f(0xd8)]=0x0;break;}}}else this[_0x2ef09f(0xd8)]=0x0;}['compute'](){const _0x3eb46f=_0x327d32;this[_0x3eb46f(0x15d)](),this[_0x3eb46f(0xd5)]=this['x']+this['w']/0x2,this[_0x3eb46f(0xe7)]=this['y']+this['h']/0x2,this[_0x3eb46f(0x107)]();Math['abs'](this[_0x3eb46f(0x120)])>0.01?this[_0x3eb46f(0x120)]-=this[_0x3eb46f(0x120)]*0.1/DTR:this[_0x3eb46f(0x120)]=0x0;Math[_0x3eb46f(0x179)](this[_0x3eb46f(0xee)])>0.01?this[_0x3eb46f(0xee)]-=this['yVelExt']*0.1/DTR:this[_0x3eb46f(0xee)]=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this['speed']=0x2:this[_0x3eb46f(0xec)]=0x3;this[_0x3eb46f(0x157)]=Math[_0x3eb46f(0x152)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x3eb46f(0xc4)]=-this['speed'];else!this['R']&&(this[_0x3eb46f(0xc4)]=0x0);if(this['R'])this['xVel']=this[_0x3eb46f(0xec)];else!this['L']&&(this[_0x3eb46f(0xc4)]=0x0);if(this['T'])this[_0x3eb46f(0x136)]=-this[_0x3eb46f(0xec)];else!this['B']&&(this[_0x3eb46f(0x136)]=0x0);if(this['B'])this[_0x3eb46f(0x136)]=this[_0x3eb46f(0xec)];else!this['T']&&(this[_0x3eb46f(0x136)]=0x0);this['x']+=(this[_0x3eb46f(0xc4)]+this['xVelExt'])/DTR,this['y']+=(this['yVel']+this[_0x3eb46f(0xee)])/DTR;}[_0x327d32(0x11e)](){const _0x29d79f=_0x327d32;this['xVel']===0x0&&this[_0x29d79f(0x136)]===0x0?this[_0x29d79f(0x16b)]=0x0:(this[_0x29d79f(0xc8)]++,this['frameCounter']>=this[_0x29d79f(0x173)]*DTR&&(this[_0x29d79f(0x16b)]++,this['frameCounter']=0x0,this[_0x29d79f(0x16b)]>=this[_0x29d79f(0x126)][_0x29d79f(0x140)]&&(this['action']=0x0))),c[_0x29d79f(0xfb)](),c[_0x29d79f(0x16f)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x29d79f(0x149)](this[_0x29d79f(0x157)]),c['drawImage'](id(_0x29d79f(0xfe)),this[_0x29d79f(0x126)][this[_0x29d79f(0x16b)]],this[_0x29d79f(0x174)][this[_0x29d79f(0x16b)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c['restore'](),this[_0x29d79f(0x12e)]&&(c[_0x29d79f(0x14f)](id(_0x29d79f(0x131)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x29d79f(0x12e)]--),this[_0x29d79f(0x145)][_0x29d79f(0xf7)]&&this[_0x29d79f(0x13a)]();}[_0x327d32(0x13a)](){const _0x56e14a=_0x327d32;this[_0x56e14a(0x145)][_0x56e14a(0xc8)]++,this[_0x56e14a(0x145)][_0x56e14a(0xc8)]>=this[_0x56e14a(0x145)][_0x56e14a(0x173)]*DTR&&(this['bow'][_0x56e14a(0x16b)]++,this[_0x56e14a(0x145)]['frameCounter']=0x0,this['bow']['active']>=this[_0x56e14a(0x145)][_0x56e14a(0x126)][_0x56e14a(0x140)]&&(this['bow'][_0x56e14a(0xf7)]=![])),c[_0x56e14a(0xfb)](),c[_0x56e14a(0x16f)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c['rotate'](this[_0x56e14a(0x157)]),c['drawImage'](id(_0x56e14a(0x145)),this['bow'][_0x56e14a(0x126)][this[_0x56e14a(0x145)]['action']],this['bow'][_0x56e14a(0x174)][this['bow']['action']],0x30,0x30,-this[_0x56e14a(0x145)]['w']/0x2,-this['bow']['h'],this[_0x56e14a(0x145)]['w'],this['bow']['h']),c[_0x56e14a(0xfc)]();}[_0x327d32(0x11f)](){const _0x5da2d0=_0x327d32;this[_0x5da2d0(0x145)][_0x5da2d0(0xf7)]=!![],this[_0x5da2d0(0x145)][_0x5da2d0(0xc8)]=0x0,this[_0x5da2d0(0x145)][_0x5da2d0(0x129)]=0x0,this[_0x5da2d0(0x145)][_0x5da2d0(0x16b)]=0x0;let _0xfef261=this['x']+this['w']/0x2,_0x5a41dd=this['y']+this['h']/0x2,_0x5e4144=Mouse['x']-_0xfef261+Math[_0x5da2d0(0x15b)]()*this[_0x5da2d0(0xf6)]-this[_0x5da2d0(0xf6)]/0x2,_0x9483ed=Mouse['y']-_0x5a41dd+Math[_0x5da2d0(0x15b)]()*this['precision']-this[_0x5da2d0(0xf6)]/0x2,_0x3c0ca9=Math[_0x5da2d0(0x152)](_0x9483ed,_0x5e4144),_0x2766a7=Math['cos'](_0x3c0ca9),_0x199ccb=Math[_0x5da2d0(0x13d)](_0x3c0ca9),_0x4f0f7b=new Projectile();_0x4f0f7b[_0x5da2d0(0xc4)]=_0x2766a7*this[_0x5da2d0(0xf9)],_0x4f0f7b['yVel']=_0x199ccb*this[_0x5da2d0(0xf9)],_0x4f0f7b['x']=_0xfef261,_0x4f0f7b['y']=_0x5a41dd,_0x4f0f7b[_0x5da2d0(0x177)]=this[_0x5da2d0(0x13f)][0x0],playerArrows[_0x5da2d0(0xed)](_0x4f0f7b),this[_0x5da2d0(0x13f)][_0x5da2d0(0x130)](),this[_0x5da2d0(0x13f)][_0x5da2d0(0xed)](0x0);}[_0x327d32(0x146)](){const _0x4091c3=_0x327d32;if(!sword['active']){sword['active']=!![],sword[_0x4091c3(0xca)]=this[_0x4091c3(0x157)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0xd0ac0a=this['x']+this['w']/0x2,_0x1526f9=this['y']+this['h']/0x2,_0x284d6b=returnCosine(Mouse['x'],Mouse['y'],_0xd0ac0a,_0x1526f9);this[_0x4091c3(0x120)]=_0x284d6b[_0x4091c3(0xcf)]*0xe,this[_0x4091c3(0xee)]=_0x284d6b[_0x4091c3(0x13d)]*0xe;}}}}var player=new Player(CANVAS[_0x327d32(0x114)]/0x2,CANVAS[_0x327d32(0xd9)]/0x4*0x3);class UserInterface{constructor(){const _0x5c8229=_0x327d32;this[_0x5c8229(0x131)]=id('ui-sheet'),this['x']=0x14,this['y']=0x5,this[_0x5c8229(0x172)]=![],this['rClick']=![],this[_0x5c8229(0x153)]=0x0,this[_0x5c8229(0x14d)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this['portrait']={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this['hpBar']={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this['mpBar']={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x5c8229(0x145)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x5c8229(0xd1)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x5c8229(0x133)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x5c8229(0x13f)]=[0x1,0x1,0x1,0x1];}[_0x327d32(0x11e)](){const _0x2287a9=_0x327d32;this[_0x2287a9(0x172)]&&(c['globalAlpha']=0.5);c['drawImage'](this[_0x2287a9(0x131)],this['bow'][_0x2287a9(0x165)]['x'],this[_0x2287a9(0x145)][_0x2287a9(0x165)]['y'],this['bow'][_0x2287a9(0x165)]['w'],this[_0x2287a9(0x145)][_0x2287a9(0x165)]['h'],this[_0x2287a9(0x145)][_0x2287a9(0x123)]['x'],this[_0x2287a9(0x145)][_0x2287a9(0x123)]['y'],this[_0x2287a9(0x145)][_0x2287a9(0x165)]['w'],this[_0x2287a9(0x145)][_0x2287a9(0x165)]['h']);this[_0x2287a9(0x172)]&&(c['globalAlpha']=0x1);this['rClick']&&(c[_0x2287a9(0x101)]=0.5);c[_0x2287a9(0x14f)](this[_0x2287a9(0x131)],this['sword'][_0x2287a9(0x165)]['x'],this['sword'][_0x2287a9(0x165)]['y'],this[_0x2287a9(0xd1)][_0x2287a9(0x165)]['w'],this[_0x2287a9(0xd1)][_0x2287a9(0x165)]['h'],this['sword'][_0x2287a9(0x123)]['x'],this[_0x2287a9(0xd1)]['pos']['y'],this[_0x2287a9(0xd1)][_0x2287a9(0x165)]['w'],this['sword'][_0x2287a9(0x165)]['h']);this[_0x2287a9(0xe5)]&&(c[_0x2287a9(0x101)]=0x1);c[_0x2287a9(0x14f)](this['sheet'],this[_0x2287a9(0x14d)][_0x2287a9(0x165)]['x'],this[_0x2287a9(0x14d)][_0x2287a9(0x165)]['y'],this['layout'][_0x2287a9(0x165)]['w'],this[_0x2287a9(0x14d)][_0x2287a9(0x165)]['h'],this[_0x2287a9(0x14d)][_0x2287a9(0x123)]['x']+this['x'],this[_0x2287a9(0x14d)]['pos']['y']+this['y'],this['layout'][_0x2287a9(0x165)]['w'],this['layout'][_0x2287a9(0x165)]['h']),c['drawImage'](this[_0x2287a9(0x131)],this[_0x2287a9(0xda)]['crop'][player[_0x2287a9(0x153)]]['x'],this[_0x2287a9(0xda)][_0x2287a9(0x165)][player[_0x2287a9(0x153)]]['y'],this[_0x2287a9(0xda)][_0x2287a9(0x165)][player[_0x2287a9(0x153)]]['w'],this['portrait'][_0x2287a9(0x165)][player[_0x2287a9(0x153)]]['h'],this[_0x2287a9(0xda)][_0x2287a9(0x123)]['x']+this['x'],this[_0x2287a9(0xda)][_0x2287a9(0x123)]['y']+this['y'],this[_0x2287a9(0xda)][_0x2287a9(0x165)][player[_0x2287a9(0x153)]]['w'],this['portrait']['crop'][player[_0x2287a9(0x153)]]['h']),c[_0x2287a9(0x14f)](this[_0x2287a9(0x131)],this[_0x2287a9(0x12d)]['crop']['x'],this[_0x2287a9(0x12d)]['crop']['y'],this[_0x2287a9(0x12d)]['crop']['w'],this[_0x2287a9(0x12d)][_0x2287a9(0x165)]['h'],this[_0x2287a9(0x12d)]['pos']['x']+this['x'],this[_0x2287a9(0x12d)]['pos']['y']+this['y'],this[_0x2287a9(0x12d)]['crop']['w']/player[_0x2287a9(0x124)]*player['hp'],this['hpBar']['crop']['h']),c['drawImage'](this[_0x2287a9(0x131)],this['mpBar'][_0x2287a9(0x165)]['x'],this[_0x2287a9(0xf2)][_0x2287a9(0x165)]['y'],this[_0x2287a9(0xf2)]['crop']['w'],this[_0x2287a9(0xf2)][_0x2287a9(0x165)]['h'],this['mpBar'][_0x2287a9(0x123)]['x']+this['x'],this['mpBar'][_0x2287a9(0x123)]['y']+this['y'],this['mpBar'][_0x2287a9(0x165)]['w'],this[_0x2287a9(0xf2)][_0x2287a9(0x165)]['h']);for(let _0xf9ab83=0x0;_0xf9ab83<player[_0x2287a9(0x13f)][_0x2287a9(0x140)];_0xf9ab83++){c[_0x2287a9(0x14f)](this['sheet'],this[_0x2287a9(0x133)][_0x2287a9(0x165)][player['arrowsArr'][_0xf9ab83]]['x'],this['arrow'][_0x2287a9(0x165)][player['arrowsArr'][_0xf9ab83]]['y'],this[_0x2287a9(0x133)][_0x2287a9(0x165)][player[_0x2287a9(0x13f)][_0xf9ab83]]['w'],this[_0x2287a9(0x133)]['crop'][player[_0x2287a9(0x13f)][_0xf9ab83]]['h'],this[_0x2287a9(0x133)][_0x2287a9(0x123)]['x']+this['x']-0xa*_0xf9ab83,this[_0x2287a9(0x133)][_0x2287a9(0x123)]['y']+this['y'],this[_0x2287a9(0x133)][_0x2287a9(0x165)][player[_0x2287a9(0x13f)][_0xf9ab83]]['w'],this['arrow'][_0x2287a9(0x165)][player[_0x2287a9(0x13f)][_0xf9ab83]]['h']);}c[_0x2287a9(0x161)]=_0x2287a9(0x163),c[_0x2287a9(0x121)]=_0x2287a9(0xcc),c['fillStyle']='#2f4447',c[_0x2287a9(0xde)](player[_0x2287a9(0x10e)]+'/'+player[_0x2287a9(0x13f)][_0x2287a9(0x140)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x1399ca=_0x327d32;let _0x373979=player['x']+player['w']/0x2,_0x4cf7cd=player['y']+player['h']/0x2,_0x5d54ec=_0x373979,_0xa20ff1=_0x4cf7cd,_0x20c524=![],_0xcf76b6=0x0,_0x1c116f=returnCosine(_0x373979,_0x4cf7cd,Mouse['x'],Mouse['y']),_0x30808e=[],_0x55ba84={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x243ede={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x27a15a=0x4,_0x3f88c2={'x':0x0,'y':0x0};while(!_0x20c524&&_0xcf76b6<CANVAS[_0x1399ca(0x114)]*0x2/_0x27a15a){_0x5d54ec-=_0x1c116f['cos']*_0x27a15a,_0xa20ff1-=_0x1c116f[_0x1399ca(0x13d)]*_0x27a15a;getTileData(_0x5d54ec,_0xa20ff1)[_0x1399ca(0x142)]&&(_0x55ba84=getTileData(_0x5d54ec,_0xa20ff1)[_0x1399ca(0x139)],_0x243ede['x']=_0x55ba84['x'],_0x243ede['y']=_0x55ba84['y'],_0x243ede['w']=_0x55ba84['w'],_0x243ede['h']=_0x55ba84['h'],_0x243ede['x']+=_0x5d54ec-_0x5d54ec%TILESIZE,_0x243ede['y']+=_0xa20ff1-_0xa20ff1%TILESIZE,_0x20c524=!![]);_0x3f88c2['x']=_0x5d54ec,_0x3f88c2['y']=_0xa20ff1;for(let _0x5b48c0=0x0;_0x5b48c0<monsters[_0x1399ca(0x140)];_0x5b48c0++){if(!monsters[_0x5b48c0][_0x1399ca(0x169)]&&pointSquareCol(_0x3f88c2,monsters[_0x5b48c0])){_0x243ede['x']=monsters[_0x5b48c0]['x'],_0x243ede['y']=monsters[_0x5b48c0]['y'],_0x243ede['w']=monsters[_0x5b48c0]['w'],_0x243ede['h']=monsters[_0x5b48c0]['h'],_0x20c524=!![];break;}}_0xcf76b6++;}_0x30808e=getRectSides(_0x243ede);let _0x10ef94=[],_0x4d8378={},_0x3c6a17;for(let _0x62d16c=0x0;_0x62d16c<_0x30808e[_0x1399ca(0x140)];_0x62d16c++){_0x4d8378=intersect(_0x373979,_0x4cf7cd,_0x5d54ec,_0xa20ff1,_0x30808e[_0x62d16c]['x1'],_0x30808e[_0x62d16c]['y1'],_0x30808e[_0x62d16c]['x2'],_0x30808e[_0x62d16c]['y2']),_0x4d8378&&_0x10ef94[_0x1399ca(0xed)](_0x4d8378);}let _0x56995f=Math[_0x1399ca(0x11b)](_0x373979-_0x5d54ec,_0x4cf7cd-_0xa20ff1),_0xeb28d4=_0x5d54ec,_0x2ec8c0=_0x5d54ec;for(let _0x2a39f2=0x0;_0x2a39f2<_0x10ef94[_0x1399ca(0x140)];_0x2a39f2++){_0x3c6a17=Math[_0x1399ca(0x11b)](_0x373979-_0x5d54ec,_0x4cf7cd-_0xa20ff1),_0x3c6a17<_0x56995f&&(_0x56995f=_0x3c6a17,_0xeb28d4=_0x10ef94[_0x2a39f2]['x'],_0x2ec8c0=_0x10ef94[_0x2a39f2]['y']);}c['strokeStyle']=_0x1399ca(0xd4),c[_0x1399ca(0x135)](),c[_0x1399ca(0xff)](_0x373979+map['x'],_0x4cf7cd+map['y']),c[_0x1399ca(0x108)](_0x5d54ec+map['x'],_0xa20ff1+map['y']),c['stroke'](),c[_0x1399ca(0xdb)]=_0x1399ca(0xd7);}function isObstructed(_0x41ccc3,_0x2de5bc){const _0x48ef25=_0x327d32;let _0x527171=_0x41ccc3['x']+_0x41ccc3['w']/0x2,_0x958458=_0x41ccc3['y']+_0x41ccc3['h']/0x2,_0x1e8b32=_0x2de5bc['x']+_0x2de5bc['w']/0x2,_0x3d69ac=_0x2de5bc['y']+_0x2de5bc['h']/0x2,_0x5d7f58=Math['hypot'](_0x527171-_0x1e8b32,_0x958458-_0x3d69ac),_0x218428=_0x527171,_0x1033c0=_0x958458,_0x4b8794=![],_0x44e7d4=0x0,_0x14db75=returnCosine(_0x527171,_0x958458,_0x1e8b32,_0x3d69ac),_0x12b2d5=[],_0x4a86c7={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x45ef29={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x43da46=0x3,_0x237c42={'x':0x0,'y':0x0};while(!_0x4b8794&&_0x44e7d4<_0x5d7f58/_0x43da46){_0x218428-=_0x14db75[_0x48ef25(0xcf)]*_0x43da46,_0x1033c0-=_0x14db75['sin']*_0x43da46;if(getTileData(_0x218428,_0x1033c0)[_0x48ef25(0x142)])return _0x4a86c7=getTileData(_0x218428,_0x1033c0)[_0x48ef25(0x139)],_0x45ef29['x']=_0x4a86c7['x'],_0x45ef29['y']=_0x4a86c7['y'],_0x45ef29['w']=_0x4a86c7['w'],_0x45ef29['h']=_0x4a86c7['h'],_0x45ef29['x']+=_0x218428-_0x218428%TILESIZE,_0x45ef29['y']+=_0x1033c0-_0x1033c0%TILESIZE,!![];_0x237c42['x']=_0x218428,_0x237c42['y']=_0x1033c0;if(pointSquareCol(_0x237c42,_0x2de5bc))return![];_0x44e7d4++;}}function getRectSides(_0x565339){const _0x4d1532=_0x327d32;let _0x540ecd=[];return _0x540ecd[_0x4d1532(0xed)]({'x1':_0x565339['x'],'y1':_0x565339['y'],'x2':_0x565339['x']+_0x565339['w'],'y2':_0x565339['y']}),_0x540ecd[_0x4d1532(0xed)]({'x1':_0x565339['x']+_0x565339['w'],'y1':_0x565339['y'],'x2':_0x565339['x']+_0x565339['w'],'y2':_0x565339['y']+_0x565339['h']}),_0x540ecd['push']({'x1':_0x565339['x']+_0x565339['w'],'y1':_0x565339['y']+_0x565339['h'],'x2':_0x565339['x'],'y2':_0x565339['y']+_0x565339['h']}),_0x540ecd[_0x4d1532(0xed)]({'x1':_0x565339['x'],'y1':_0x565339['y']+_0x565339['h'],'x2':_0x565339['x'],'y2':_0x565339['y']}),_0x540ecd;}function init(){const _0x1a4b40=_0x327d32;let _0x35cb87,_0x1f6306={};fetch(_0x1a4b40(0x16a))[_0x1a4b40(0x12f)](function(_0x1ee0ad){const _0x5df81c=_0x1a4b40;return _0x1ee0ad[_0x5df81c(0x170)]();})[_0x1a4b40(0x12f)](function(_0x29fe88){const _0x90f37c=_0x1a4b40;_0x35cb87=_0x29fe88[_0x90f37c(0x11a)];for(let _0x12f286=0x0;_0x12f286<_0x35cb87['length'];_0x12f286++){_0x1f6306={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x1f6306['id']=_0x35cb87[_0x12f286]['id'];if(_0x35cb87[_0x12f286]['hasOwnProperty'](_0x90f37c(0x12c)))for(let _0x196708=0x0;_0x196708<_0x35cb87[_0x12f286][_0x90f37c(0x12c)]['length'];_0x196708++){if(_0x35cb87[_0x12f286][_0x90f37c(0x12c)][_0x196708])switch(_0x35cb87[_0x12f286]['properties'][_0x196708]['name']){case _0x90f37c(0x10c):_0x1f6306[_0x90f37c(0x10c)]=!![],_0x1f6306[_0x90f37c(0x127)]=!![];break;case _0x90f37c(0x142):_0x1f6306[_0x90f37c(0x142)]=!![],_0x1f6306[_0x90f37c(0x127)]=!![];break;}}TilesData[_0x90f37c(0xed)](_0x1f6306);}loop();});}init();var HP_BAR=id(_0x327d32(0xf3));function renderHpBars(){const _0x2db1a7=_0x327d32;for(let _0x523015=0x0;_0x523015<monsters[_0x2db1a7(0x140)];_0x523015++){if(monsters[_0x523015][_0x2db1a7(0x169)])continue;let _0x44a358=monsters[_0x523015]['hp']/monsters[_0x523015][_0x2db1a7(0x124)],_0x4ca687=Math[_0x2db1a7(0xf5)](TILESIZE*_0x44a358);c['drawImage'](HP_BAR,0x0,0x4,_0x4ca687,0x4,monsters[_0x523015]['x']+monsters[_0x523015]['w']/0x2-0x10+map['x']|0x0,monsters[_0x523015]['y']-0x8+map['y']|0x0,_0x4ca687|0x0,0x4|0x0),c[_0x2db1a7(0x14f)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x523015]['x']+monsters[_0x523015]['w']/0x2-0x10+map['x']|0x0,monsters[_0x523015]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x13d56e=_0x327d32;this[_0x13d56e(0x114)]=0x17,this[_0x13d56e(0xd9)]=0xf,this['x']=0x0,this['y']=0x0,this['tiles']=maps['m1'],this[_0x13d56e(0x131)]=id(_0x13d56e(0x131)),this[_0x13d56e(0xe3)]=id(_0x13d56e(0xe3));}[_0x327d32(0x11e)](){const _0x47a921=_0x327d32;for(let _0x1ffe7b=0x0;_0x1ffe7b<this[_0x47a921(0x11a)]['length'];_0x1ffe7b++){_0x1ffe7b==0x1&&c[_0x47a921(0x14f)](this[_0x47a921(0xe3)],0x0+this['x'],0x0+this['y'],CANVAS[_0x47a921(0x114)],CANVAS['height']);for(let _0x99f909=0x0;_0x99f909<this['tiles'][_0x1ffe7b][_0x47a921(0x140)];_0x99f909++){if(this['tiles'][_0x1ffe7b][_0x99f909]===0x0)continue;c[_0x47a921(0x14f)](this[_0x47a921(0x131)],(this['tiles'][_0x1ffe7b][_0x99f909]-0x1)%0xf*TILESIZE,((this['tiles'][_0x1ffe7b][_0x99f909]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x99f909%this[_0x47a921(0x114)]*TILESIZE+map['x'],(_0x99f909/this[_0x47a921(0x114)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x53852a=_0x327d32;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x53852a(0x157)]=0x2,this['radiansP']=0x0,this['actionX']=[0x0],this[_0x53852a(0x174)]=[0x0],this['vfxX']=[0x0,0x0,0x0,0x0],this[_0x53852a(0x128)]=[0x0,0x80,0x100,0x180],this[_0x53852a(0x129)]=0x0,this[_0x53852a(0xc8)]=0x0,this[_0x53852a(0x16b)]=0x0,this[_0x53852a(0x173)]=0x3,this[_0x53852a(0xf7)]=![],this[_0x53852a(0x131)]=id('sword-vfx'),this['swordImg']=id(_0x53852a(0xd1));}[_0x327d32(0xc7)](){const _0x4c9667=_0x327d32;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x205663,_0x59e933,_0x34ca29;for(let _0x3423c0=0x0;_0x3423c0<monsters[_0x4c9667(0x140)];_0x3423c0++){if(monsters[_0x3423c0][_0x4c9667(0x169)]||!monsters[_0x3423c0][_0x4c9667(0xcb)])continue;_0x205663=monsters[_0x3423c0][_0x4c9667(0x139)]['x']+monsters[_0x3423c0][_0x4c9667(0x139)]['w']/0x2,_0x59e933=monsters[_0x3423c0][_0x4c9667(0x139)]['y']+monsters[_0x3423c0][_0x4c9667(0x139)]['h']/0x2,_0x34ca29=(monsters[_0x3423c0]['w']+monsters[_0x3423c0]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x205663,_0x59e933,_0x34ca29)){let _0x5dc08e=this['x']+this['w']/0x2,_0xf998c5=this['y']+this['h']/0x2,_0x12e803=monsters[_0x3423c0]['x']-_0x5dc08e,_0x1cc382=monsters[_0x3423c0]['y']-_0xf998c5,_0x3c2638=Math[_0x4c9667(0x152)](_0x1cc382,_0x12e803),_0x37ade0=Math['cos'](_0x3c2638),_0x5eecc0=Math[_0x4c9667(0x13d)](_0x3c2638);monsters[_0x3423c0][_0x4c9667(0x120)]=_0x37ade0*0xa,monsters[_0x3423c0][_0x4c9667(0xee)]=_0x5eecc0*0xa,monsters[_0x3423c0]['hp']-=0.25,monsters[_0x3423c0]['justDamaged']=0xf;}}}[_0x327d32(0x11e)](){const _0x25e390=_0x327d32;this[_0x25e390(0xc8)]++,this[_0x25e390(0xc8)]>this[_0x25e390(0x173)]*DTR&&(this[_0x25e390(0xc8)]=0x0,this[_0x25e390(0x129)]++,this[_0x25e390(0x129)]>=this[_0x25e390(0x117)][_0x25e390(0x140)]&&(this[_0x25e390(0x129)]=0x0)),c[_0x25e390(0x14f)](this[_0x25e390(0x131)],this[_0x25e390(0x117)][this[_0x25e390(0x129)]],this['vfxY'][this['currentFrame']],0x80,0x40,this['x']-0x40-player[_0x25e390(0x120)]*0x4+map['x'],this['y']-0x40-player['yVelExt']*0x4+map['y'],0x80,0x40),c[_0x25e390(0xfb)](),c[_0x25e390(0x16f)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c['rotate'](this[_0x25e390(0xca)]+this[_0x25e390(0x157)]),c[_0x25e390(0x14f)](this['swordImg'],this[_0x25e390(0x126)][this[_0x25e390(0x16b)]],this[_0x25e390(0x174)][this[_0x25e390(0x16b)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x25e390(0xfc)](),this['radians']-=0.5/DTR,this[_0x25e390(0x157)]<=-0x9&&(this[_0x25e390(0xf7)]=![],this['radians']=0x2),c['drawImage'](this[_0x25e390(0x131)],this[_0x25e390(0x117)][this['currentFrame']],this[_0x25e390(0x128)][this[_0x25e390(0x129)]]+0x40,0x80,0x40,this['x']-0x40-player[_0x25e390(0x120)]*0x4+map['x'],this['y']-player['yVelExt']*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x3293c7=_0x327d32;monsters[_0x3293c7(0x159)](function(_0x53c24a,_0x39f5dc){const _0x1b7f91=_0x3293c7;if(_0x53c24a['dead']&&!_0x39f5dc[_0x1b7f91(0x169)])return-0x1;else return!_0x53c24a[_0x1b7f91(0x169)]&&_0x39f5dc[_0x1b7f91(0x169)]?0x1:_0x53c24a['y']+0xf-_0x39f5dc['y'];});}function adjustCollidingMonsters(){const _0x43b13d=_0x327d32;for(let _0x135ff4=0x0;_0x135ff4<monsters['length'];_0x135ff4++){if(monsters[_0x135ff4][_0x43b13d(0x169)])continue;monsters[_0x135ff4]['col']['T']=0x0,monsters[_0x135ff4][_0x43b13d(0xe9)]['B']=0x0,monsters[_0x135ff4]['col']['L']=0x0,monsters[_0x135ff4][_0x43b13d(0xe9)]['R']=0x0;for(let _0x2060f7=0x0;_0x2060f7<monsters[_0x43b13d(0x140)];_0x2060f7++){if(monsters[_0x2060f7][_0x43b13d(0x169)])continue;if(collided(monsters[_0x135ff4],monsters[_0x2060f7])){let _0x460b6e=colCheck(monsters[_0x135ff4],monsters[_0x2060f7]);switch(_0x460b6e){case'l':this['xVel']<0x0&&(this['xVel']=0x0);break;case'r':this[_0x43b13d(0xc4)]>0x0&&(this[_0x43b13d(0xc4)]=0x0);break;case'b':this[_0x43b13d(0x136)]>0x0&&(this[_0x43b13d(0x136)]=0x0);break;case't':this[_0x43b13d(0x136)]<0x0&&(this[_0x43b13d(0x136)]=0x0);break;}monsters[_0x135ff4][_0x43b13d(0xc4)]+=(monsters[_0x135ff4][_0x43b13d(0xe9)]['L']-monsters[_0x135ff4]['col']['R'])/0x5,monsters[_0x135ff4][_0x43b13d(0x136)]+=(monsters[_0x135ff4]['col']['T']-monsters[_0x135ff4][_0x43b13d(0xe9)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x3af73c,_0x122634){const _0x2e0ac3=_0x327d32;super(Collidable),this['x']=_0x3af73c,this['y']=_0x122634,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x2e0ac3(0xc4)]=0x0,this[_0x2e0ac3(0x136)]=0x0,this[_0x2e0ac3(0x120)]=0x0,this[_0x2e0ac3(0xee)]=0x0,this[_0x2e0ac3(0xec)]=0x2,this[_0x2e0ac3(0x11c)]=0x0,this['justDied']=![],this['justDamaged']=0x0,this[_0x2e0ac3(0x169)]=![],this['arrows']=[],this[_0x2e0ac3(0x124)]=0x3,this['hp']=0x3,this[_0x2e0ac3(0xc8)]=0x0,this['slowness']=0x4,this[_0x2e0ac3(0x129)]=0x0,this[_0x2e0ac3(0xcb)]=!![],this[_0x2e0ac3(0x131)]=id(_0x2e0ac3(0x131)),this[_0x2e0ac3(0x16b)]=0x0,this[_0x2e0ac3(0xe9)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x2e0ac3(0x139)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x2e0ac3(0x126)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x2e0ac3(0x174)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}['followPlayer'](){const _0x2052f0=_0x327d32;if(this[_0x2052f0(0x16b)]!==0x0){let _0x443088=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x3007ed=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x167b32=_0x443088>0x0?-0x1:0x1,_0x5c3021=_0x3007ed>0x0?-0x1:0x1,_0x327485;_0x3007ed!==0x0?_0x327485=Math['abs'](_0x443088)/(Math[_0x2052f0(0x179)](_0x3007ed)+Math[_0x2052f0(0x179)](_0x443088)):_0x327485=0x0;this[_0x2052f0(0xc4)]=this[_0x2052f0(0xec)]*_0x327485*_0x167b32,this[_0x2052f0(0x136)]=this[_0x2052f0(0xec)]*(0x1-_0x327485)*_0x5c3021;if(this['x']+this['w']<player['x'])this['left']=![];else player['x']+player['w']<this['x']&&(this[_0x2052f0(0x11c)]=!![]);}}[_0x327d32(0xc7)](){const _0x135c83=_0x327d32;if(!this[_0x135c83(0x169)]){this[_0x135c83(0xfa)]();Math['abs'](this[_0x135c83(0x120)])>0.01?this[_0x135c83(0x120)]*=0.9:this[_0x135c83(0x120)]=0x0;Math[_0x135c83(0x179)](this[_0x135c83(0xee)])>0.01?this[_0x135c83(0xee)]*=0.9:this[_0x135c83(0xee)]=0x0;(this['col']['T']&&this['yVel']<0x0||this[_0x135c83(0xe9)]['B']&&this[_0x135c83(0x136)]>0x0)&&(this[_0x135c83(0x136)]=0x0);(this[_0x135c83(0xe9)]['L']&&this['xVel']<0x0||this[_0x135c83(0xe9)]['R']&&this[_0x135c83(0xc4)]>0x0)&&(this[_0x135c83(0xc4)]=0x0);this[_0x135c83(0x16b)]!==0x0&&(this[_0x135c83(0x11c)]?this[_0x135c83(0x16b)]=0x2:this['action']=0x1);this['checkCollisions'](),this['x']+=(this[_0x135c83(0xc4)]+this[_0x135c83(0x120)])/DTR,this['y']+=(this[_0x135c83(0x136)]+this['yVelExt'])/DTR;for(let _0x4d23a7=0x0;_0x4d23a7<this[_0x135c83(0xfd)][_0x135c83(0x140)];_0x4d23a7++){this[_0x135c83(0xfd)][_0x4d23a7]['x']=this['x']+this[_0x135c83(0xfd)][_0x4d23a7]['xRel'],this[_0x135c83(0xfd)][_0x4d23a7]['y']=this['y']+this[_0x135c83(0xfd)][_0x4d23a7][_0x135c83(0x164)];}this[_0x135c83(0x139)]['x']=this['x']+0x6,this[_0x135c83(0x139)]['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x135c83(0xd6)]=!![]),this[_0x135c83(0xd6)]&&(this['justDamaged']=0x0,this[_0x135c83(0x169)]=!![],this[_0x135c83(0x16b)]=0x3,this[_0x135c83(0xc8)]=0x0,this[_0x135c83(0x129)]=0x0,this[_0x135c83(0x173)]=0xa);}}[_0x327d32(0x11e)](){const _0x41b793=_0x327d32;this[_0x41b793(0xc8)]++;this['frameCounter']>this[_0x41b793(0x173)]*DTR&&(this[_0x41b793(0xc8)]=0x0,this[_0x41b793(0x129)]++,this[_0x41b793(0x129)]>=this[_0x41b793(0x126)][this[_0x41b793(0x16b)]]['length']&&(this[_0x41b793(0x16b)]==0x0&&(this[_0x41b793(0x16b)]=0x1+this[_0x41b793(0x11c)]),this[_0x41b793(0x129)]=0x0));this[_0x41b793(0x16b)]==0x3&&(this['currentFrame']==this['actionX'][this[_0x41b793(0x16b)]][_0x41b793(0x140)]-0x1&&(this[_0x41b793(0xc8)]=0x0));if(!this['dead'])for(let _0x3ecc7c=0x0;_0x3ecc7c<this[_0x41b793(0xfd)][_0x41b793(0x140)];_0x3ecc7c++){this[_0x41b793(0xfd)][_0x3ecc7c][_0x41b793(0x11e)]();}this[_0x41b793(0x115)]>0x0&&(this[_0x41b793(0x16b)]=0x4,this[_0x41b793(0x129)]=0x0,this['framecounter']=0x0,this['justDamaged']-=0x1/DTR),c[_0x41b793(0x14f)](this[_0x41b793(0x131)],this['actionX'][this[_0x41b793(0x16b)]][this['currentFrame']]*TILESIZE,this[_0x41b793(0x174)][this[_0x41b793(0x16b)]][this[_0x41b793(0x129)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x328b2f,_0x6890a4){const _0x25b9bf=_0x327d32;super(Collidable),this['x']=(_0x328b2f/TILESIZE|0x0)*TILESIZE,this['y']=(_0x6890a4/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x25b9bf(0xc4)]=0x0,this[_0x25b9bf(0x136)]=0x0,this[_0x25b9bf(0x120)]=0x0,this[_0x25b9bf(0xee)]=0x0,this['speed']=0x2,this[_0x25b9bf(0x11c)]=0x0,this[_0x25b9bf(0xd6)]=![],this['justDamaged']=0x0,this[_0x25b9bf(0x169)]=![],this[_0x25b9bf(0x144)]=![],this[_0x25b9bf(0xfd)]=[],this[_0x25b9bf(0x124)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0x25b9bf(0x173)]=0x4,this[_0x25b9bf(0x129)]=0x0,this[_0x25b9bf(0x131)]=id(_0x25b9bf(0x131)),this['action']=0x0,this[_0x25b9bf(0xcb)]=!![],this[_0x25b9bf(0x100)]=[],this[_0x25b9bf(0xe9)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x25b9bf(0x139)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x25b9bf(0x126)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0x25b9bf(0x174)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this[_0x25b9bf(0x10f)]=0x0;}[_0x327d32(0xfa)](){const _0x63c5f9=_0x327d32;this[_0x63c5f9(0x132)]['x']=this['x']-0x5*TILESIZE,this[_0x63c5f9(0x132)]['y']=this['y']-0x5*TILESIZE,this[_0x63c5f9(0x132)]['w']=0xb*TILESIZE,this['atkBox']['h']=0xb*TILESIZE;if(collided(this['atkBox'],player)){if(this[_0x63c5f9(0x144)]){if(this[_0x63c5f9(0x129)]==0x0&&this[_0x63c5f9(0xc8)]==0x0){this['createGrid']();switch(this[_0x63c5f9(0x100)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x63c5f9(0x16b)]!==0x1&&(this[_0x63c5f9(0x16b)]=0x1,this['currentFrame']=0x0,this[_0x63c5f9(0xc8)]=0x0);}else this['attacking']&&this[_0x63c5f9(0x16b)]!==0x0&&this[_0x63c5f9(0x16b)]!==0x2&&(this[_0x63c5f9(0x144)]=![],this['collidable']=!![],this['action']=0x2,this['currentFrame']=0x0,this[_0x63c5f9(0xc8)]=0x0);}[_0x327d32(0xc7)](){const _0xb39fa9=_0x327d32;this['followPlayer'](),this[_0xb39fa9(0x139)]['x']=this['x']+(this['w']-0xe)/0x2,this['hitbox']['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x593634=0x0;_0x593634<this[_0xb39fa9(0xfd)][_0xb39fa9(0x140)];_0x593634++){this[_0xb39fa9(0xfd)][_0x593634]['x']=this['x']+this[_0xb39fa9(0xfd)][_0x593634][_0xb39fa9(0x113)],this[_0xb39fa9(0xfd)][_0x593634]['y']=this['y']+this[_0xb39fa9(0xfd)][_0x593634][_0xb39fa9(0x164)];}this['hp']<=0x0&&(this[_0xb39fa9(0xd6)]=!![]),this[_0xb39fa9(0xd6)]&&(this[_0xb39fa9(0x115)]=0x0,this[_0xb39fa9(0x169)]=!![],this[_0xb39fa9(0x16b)]=0x3,this[_0xb39fa9(0xc8)]=0x0,this[_0xb39fa9(0x129)]=0x0,this[_0xb39fa9(0x173)]=0xa);}[_0x327d32(0x11e)](){const _0x3c3c37=_0x327d32;this[_0x3c3c37(0xc8)]++;this[_0x3c3c37(0x16b)]==0x4?this[_0x3c3c37(0x173)]=0x3:this['slowness']=0x5;if(this['frameCounter']>this[_0x3c3c37(0x173)]*DTR){this[_0x3c3c37(0xc8)]=0x0,this[_0x3c3c37(0x129)]++;if(this['currentFrame']>=this[_0x3c3c37(0x126)][this[_0x3c3c37(0x16b)]]['length']){if(this['dead'])this[_0x3c3c37(0x129)]=this[_0x3c3c37(0x126)][this[_0x3c3c37(0x16b)]]['length']-0x1;else{if(this[_0x3c3c37(0x16b)]==0x1)this[_0x3c3c37(0x144)]=!![],this[_0x3c3c37(0xcb)]=![],this['action']=0x4,this[_0x3c3c37(0x129)]=0x0;else this[_0x3c3c37(0x16b)]==0x2?(this['action']=0x0,this['currentFrame']=0x0):this[_0x3c3c37(0x129)]=0x0;}}}if(!this[_0x3c3c37(0x169)]){if(this['action']==0x0)for(let _0x57d835=0x0;_0x57d835<this[_0x3c3c37(0xfd)][_0x3c3c37(0x140)];_0x57d835++){this['arrows'][_0x57d835][_0x3c3c37(0x11e)]();}}this[_0x3c3c37(0x115)]>0x0&&(this[_0x3c3c37(0x16b)]=0x3,this[_0x3c3c37(0x129)]=0x0,this[_0x3c3c37(0x14a)]=0x0,this[_0x3c3c37(0x115)]-=0x1/DTR,this[_0x3c3c37(0x115)]<=0x0&&(this['action']=0x0)),c[_0x3c3c37(0x14f)](this['sheet'],this[_0x3c3c37(0x126)][this[_0x3c3c37(0x16b)]][this['currentFrame']]*TILESIZE,this[_0x3c3c37(0x174)][this[_0x3c3c37(0x16b)]][this[_0x3c3c37(0x129)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x327d32(0x13c)](){const _0x5ed7cd=_0x327d32;let _0x5dabf8=0xb,_0xc42a=[],_0xb9bd87=this['x']+this['w']/0x2-TILESIZE*0x5,_0xe6317b=this['y']+this['h']/0x2-TILESIZE*0x5,_0x3a9f09;for(let _0xbf543b=0x0;_0xbf543b<_0x5dabf8;_0xbf543b++){_0xc42a[_0xbf543b]=[];for(let _0x190d70=0x0;_0x190d70<_0x5dabf8;_0x190d70++){_0x3a9f09=getTileData(_0xb9bd87+_0xbf543b*TILESIZE,_0xe6317b+_0x190d70*TILESIZE),_0x3a9f09===![]?_0xc42a[_0xbf543b][_0x190d70]=_0x5ed7cd(0x116):_0xc42a[_0xbf543b][_0x190d70]=_0x5ed7cd(0xc9);}}_0xc42a[0x5][0x5]=_0x5ed7cd(0xcd),_0xc42a[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]='Goal',this[_0x5ed7cd(0x100)]=findShortestPath([0x5,0x5],_0xc42a);}}class Flower extends Collidable{constructor(_0x1a06b5,_0x10ee89){const _0xe86743=_0x327d32;super(Collidable),this['x']=_0x1a06b5,this['y']=_0x10ee89,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this[_0xe86743(0x136)]=0x0,this[_0xe86743(0x120)]=0x0,this[_0xe86743(0xee)]=0x0,this['speed']=0x2,this[_0xe86743(0x11c)]=0x0,this[_0xe86743(0xd6)]=![],this[_0xe86743(0x115)]=0x0,this[_0xe86743(0x169)]=![],this[_0xe86743(0xfd)]=[],this[_0xe86743(0x124)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0xe86743(0x173)]=0x8,this[_0xe86743(0x144)]=![],this[_0xe86743(0x129)]=0x0,this['sheet']=id(_0xe86743(0x131)),this[_0xe86743(0xf6)]=0x5,this['projSpeed']=0x8,this[_0xe86743(0xcb)]=!![],this[_0xe86743(0xe9)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this['action']=0x0,this['actionX']=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0xe86743(0x174)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this['headX']=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0xe86743(0x125)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0xe86743(0x157)]=0x0,this[_0xe86743(0x143)]=![];}[_0x327d32(0x11f)](){const _0x537c4b=_0x327d32;if(!isObstructed(this,player)){this[_0x537c4b(0x144)]=!![];if(this[_0x537c4b(0x129)]==0x2){if(!this[_0x537c4b(0x143)]){let _0x426524=new EnemyProjectile(),_0x34fade=this['x']+this['w']/0x2,_0x18b5d1=this['y']+this['h']/0x2,_0x399d06=player['x']+player['w']/0x2-_0x34fade+Math['random']()*this[_0x537c4b(0xf6)]-this[_0x537c4b(0xf6)]/0x2,_0x4f70dd=player['y']+player['h']/0x2-_0x18b5d1+Math['random']()*this['precision']-this[_0x537c4b(0xf6)]/0x2,_0x514c06=Math[_0x537c4b(0x152)](_0x4f70dd,_0x399d06),_0x127f31=Math['cos'](_0x514c06),_0x5bf071=Math[_0x537c4b(0x13d)](_0x514c06);_0x426524[_0x537c4b(0xc4)]=_0x127f31*this[_0x537c4b(0x162)],_0x426524[_0x537c4b(0x136)]=_0x5bf071*this[_0x537c4b(0x162)],_0x426524['x']=_0x34fade,_0x426524['y']=_0x18b5d1,enemyProjectiles[_0x537c4b(0xed)](_0x426524),this[_0x537c4b(0x143)]=!![];}}else this['justShot']=![];}else this[_0x537c4b(0x144)]=![];}['compute'](){const _0x3aef2d=_0x327d32;this[_0x3aef2d(0x11f)](),this[_0x3aef2d(0x139)]['x']=this['x']+this['w']/0x3,this['hitbox']['y']=this['y']+this['h']/0x5,this[_0x3aef2d(0x157)]=Math[_0x3aef2d(0x152)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x295eb5=0x0;_0x295eb5<this[_0x3aef2d(0xfd)]['length'];_0x295eb5++){this[_0x3aef2d(0xfd)][_0x295eb5]['x']=this['x']+this[_0x3aef2d(0xfd)][_0x295eb5][_0x3aef2d(0x113)],this[_0x3aef2d(0xfd)][_0x295eb5]['y']=this['y']+this[_0x3aef2d(0xfd)][_0x295eb5]['yRel'];}this['hp']<=0x0&&(this[_0x3aef2d(0xd6)]=!![]),this[_0x3aef2d(0xd6)]&&(this[_0x3aef2d(0x115)]=0x0,this[_0x3aef2d(0x169)]=!![],this['action']=0x2,this[_0x3aef2d(0xc8)]=0x0,this[_0x3aef2d(0x129)]=0x0,this[_0x3aef2d(0x173)]=0xa);}[_0x327d32(0x11e)](){const _0x56fb60=_0x327d32;this[_0x56fb60(0xc8)]++;this[_0x56fb60(0xc8)]>this[_0x56fb60(0x173)]*DTR&&(this[_0x56fb60(0xc8)]=0x0,this[_0x56fb60(0x129)]++,this[_0x56fb60(0x129)]>=this[_0x56fb60(0x126)][this[_0x56fb60(0x16b)]][_0x56fb60(0x140)]&&(this[_0x56fb60(0x169)]?this[_0x56fb60(0x129)]=this[_0x56fb60(0x126)][this[_0x56fb60(0x16b)]]['length']-0x1:this[_0x56fb60(0x129)]=0x0));if(!this[_0x56fb60(0x169)]){this['attacking']?this[_0x56fb60(0x16b)]=0x1:this[_0x56fb60(0x16b)]=0x0;for(let _0x84394d=0x0;_0x84394d<this[_0x56fb60(0xfd)][_0x56fb60(0x140)];_0x84394d++){this['arrows'][_0x84394d][_0x56fb60(0x11e)]();}}this[_0x56fb60(0x144)]?this['slowness']=0x4:this[_0x56fb60(0x173)]=0x8,this[_0x56fb60(0x115)]&&(this[_0x56fb60(0x16b)]=0x2,this[_0x56fb60(0x129)]=0x0,this[_0x56fb60(0x14a)]=0x0,this[_0x56fb60(0x115)]--),c[_0x56fb60(0x14f)](this[_0x56fb60(0x131)],this['actionX'][this[_0x56fb60(0x16b)]][this[_0x56fb60(0x129)]]*TILESIZE,this[_0x56fb60(0x174)][this['action']][this[_0x56fb60(0x129)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0x56fb60(0x16b)]==0x0||this[_0x56fb60(0x16b)]==0x1)&&(c[_0x56fb60(0xfb)](),c[_0x56fb60(0x16f)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x56fb60(0x149)](this[_0x56fb60(0x157)]),c[_0x56fb60(0x14f)](this['sheet'],this[_0x56fb60(0x103)][this['action']][this['currentFrame']]*TILESIZE,this[_0x56fb60(0x125)][this[_0x56fb60(0x16b)]][this[_0x56fb60(0x129)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c['restore']());}}function getTileData(_0x3caa38,_0x13f649){const _0x638f1d=_0x327d32;let _0x5cfa0f=(_0x3caa38/TILESIZE|0x0)+(_0x13f649/TILESIZE|0x0)*map[_0x638f1d(0x114)];for(let _0x3302e1=0x0;_0x3302e1<map[_0x638f1d(0x11a)]['length'];_0x3302e1++){for(let _0x227d39=0x0;_0x227d39<TilesData[_0x638f1d(0x140)];_0x227d39++){if(TilesData[_0x227d39]['id']==map[_0x638f1d(0x11a)][_0x3302e1][_0x5cfa0f]-0x1)return TilesData[_0x227d39];}}return![];}window[_0x327d32(0x122)]=function(){const _0x3354e9=_0x327d32;player[_0x3354e9(0x10e)]!==0x0?player[_0x3354e9(0x11f)]():player['noArrows']=0xa;},window[_0x327d32(0xd2)]=function(_0x283804){const _0x134f5f=_0x327d32;_0x283804[_0x134f5f(0x105)](),player[_0x134f5f(0x146)]();},document[_0x327d32(0x15f)](_0x327d32(0x171),function(_0x2bb029){const _0x5de76a=_0x327d32;switch(_0x2bb029[_0x5de76a(0x158)]){case 0x0:userInterface[_0x5de76a(0x172)]=!![];break;case 0x2:userInterface[_0x5de76a(0xe5)]=!![];break;}}),document[_0x327d32(0x15f)](_0x327d32(0xe1),function(_0x29eb9d){const _0x540861=_0x327d32;switch(_0x29eb9d['button']){case 0x0:userInterface[_0x540861(0x172)]=![];break;case 0x2:userInterface[_0x540861(0xe5)]=![];break;}});var stats=id(_0x327d32(0x12a));function drawStats(){const _0x3b8290=_0x327d32;stats[_0x3b8290(0x137)]=_0x3b8290(0x14c)+player['x'],stats[_0x3b8290(0x137)]+='<br>player.y\x20=\x20'+player['y'],stats[_0x3b8290(0x137)]+=_0x3b8290(0x150)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x3b8290(0x137)]+='<br>mouseTile.y\x20=\x20'+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x3b8290(0x137)]+='<br>mouseTile\x20pos\x20=\x20'+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']),stats[_0x3b8290(0x137)]+=_0x3b8290(0x109)+map[_0x3b8290(0x11a)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x3b8290(0x114)]],map[_0x3b8290(0x11a)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x3b8290(0x114)]],DEBUG&&(c[_0x3b8290(0x15c)]((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x3b8290(0xdf)]());}window[_0x327d32(0x15f)](_0x327d32(0x178),function(_0x443438){const _0x762433=_0x327d32;switch(_0x443438[_0x762433(0x111)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0x762433(0xed)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x762433(0xf0)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x53e4e5=0x0;_0x53e4e5<0x32;_0x53e4e5++){player[_0x762433(0x11f)](),player[_0x762433(0xd8)]=player[_0x762433(0x16e)]*DTR,player[_0x762433(0x15d)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x327d32(0x15f)]('keyup',function(_0x560635){switch(_0x560635['keyCode']){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window['addEventListener']('mousemove',function(_0x4b4990){const _0x3c1f9c=_0x327d32;mousePP['x']=_0x4b4990['clientX']-CANVAS['offsetLeft'],mousePP['y']=_0x4b4990[_0x3c1f9c(0x13b)]-CANVAS[_0x3c1f9c(0xf1)];});function moveCamera(){const _0x24c05b=_0x327d32;map['x']=-player['x']/0x3+CANVAS[_0x24c05b(0x114)]/0x6,map['y']=-player['y']/0x3+CANVAS[_0x24c05b(0xd9)]/0x6,screenShake['counter']&&(screenShake['counter']--,screenShake[_0x24c05b(0xdd)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x5c1e77=_0x327d32;c[_0x5c1e77(0x102)]=0x2,c['strokeStyle']=sampleArrow[_0x5c1e77(0xc3)][0x0],c[_0x5c1e77(0x135)]();for(let _0x1fdc02=playerArrows[_0x5c1e77(0x140)]-0x1;_0x1fdc02>=0x0;_0x1fdc02--){if(!playerArrows[_0x1fdc02][_0x5c1e77(0xf7)]||playerArrows[_0x1fdc02][_0x5c1e77(0x177)]!=0x1)continue;playerArrows[_0x1fdc02][_0x5c1e77(0x175)]&&playerArrows[_0x1fdc02][_0x5c1e77(0xc7)]();if(playerArrows[_0x1fdc02]!==undefined)playerArrows[_0x1fdc02][_0x5c1e77(0x11e)]();}c[_0x5c1e77(0xf8)](),c['stroke'](),c[_0x5c1e77(0xdb)]=sampleArrow[_0x5c1e77(0xc3)][0x1],c[_0x5c1e77(0x135)]();for(let _0xf3e884=playerArrows[_0x5c1e77(0x140)]-0x1;_0xf3e884>=0x0;_0xf3e884--){if(!playerArrows[_0xf3e884]['active']||playerArrows[_0xf3e884][_0x5c1e77(0x177)]!=0x2)continue;playerArrows[_0xf3e884][_0x5c1e77(0x175)]&&playerArrows[_0xf3e884][_0x5c1e77(0xc7)]();if(playerArrows[_0xf3e884]!==undefined)playerArrows[_0xf3e884][_0x5c1e77(0x11e)]();}c[_0x5c1e77(0xf8)](),c[_0x5c1e77(0xdf)]();}function loop(){const _0x31de49=_0x327d32;fps++,c['clearRect'](0x0,0x0,CANVAS['width'],CANVAS[_0x31de49(0xd9)]),moveCamera(),map[_0x31de49(0x11e)](),player[_0x31de49(0xc7)]();for(let _0x1917ff=enemyProjectiles['length']-0x1;_0x1917ff>=0x0;_0x1917ff--){enemyProjectiles[_0x1917ff][_0x31de49(0xc7)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x25ab2c=0x0;_0x25ab2c<monsters[_0x31de49(0x140)];_0x25ab2c++){!monsters[_0x25ab2c]['dead']&&monsters[_0x25ab2c][_0x31de49(0xc7)](),monsters[_0x25ab2c][_0x31de49(0x11e)]();}player[_0x31de49(0x11e)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0xd03297=enemyProjectiles[_0x31de49(0x140)]-0x1;_0xd03297>=0x0;_0xd03297--){enemyProjectiles[_0xd03297]['draw']();}sword[_0x31de49(0xf7)]&&(sword[_0x31de49(0xc7)](),sword[_0x31de49(0x11e)]());for(let _0x3ce7cb=visualFxs[_0x31de49(0x140)]-0x1;_0x3ce7cb>=0x0;_0x3ce7cb--){!visualFxs[_0x3ce7cb][_0x31de49(0x166)]&&visualFxs[_0x3ce7cb][_0x31de49(0x11e)]();}userInterface[_0x31de49(0x11e)](),drawStats();}var lastUpdate=Date['now'](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0xf52e75=_0x327d32;var _0x5dcc67=Date[_0xf52e75(0x106)](),_0x288ad1=_0x5dcc67-lastUpdate;lastUpdate=_0x5dcc67,DTR=0x3e8/0x3c/_0x288ad1,!gamePaused&&loop();}