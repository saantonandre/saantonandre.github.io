'strict';const _0x4e9f4f=_0x394b;(function(_0x5f29d0,_0x745c0a){const _0x5739ef=_0x394b,_0x4b6144=_0x5f29d0();while(!![]){try{const _0x5ce0d5=parseInt(_0x5739ef(0x1b5))/0x1+-parseInt(_0x5739ef(0x1b1))/0x2+parseInt(_0x5739ef(0x134))/0x3+-parseInt(_0x5739ef(0x17c))/0x4*(-parseInt(_0x5739ef(0x19e))/0x5)+parseInt(_0x5739ef(0x15f))/0x6+-parseInt(_0x5739ef(0x1b6))/0x7*(-parseInt(_0x5739ef(0x1be))/0x8)+parseInt(_0x5739ef(0x193))/0x9*(-parseInt(_0x5739ef(0x1ac))/0xa);if(_0x5ce0d5===_0x745c0a)break;else _0x4b6144['push'](_0x4b6144['shift']());}catch(_0x4f2b79){_0x4b6144['push'](_0x4b6144['shift']());}}}(_0x212e,0x80aef));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id('canvas'),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS[_0x4e9f4f(0x12e)]('2d');function _0x212e(){const _0x52ad43=['arrowsCount','restore','critChance','1589340qMLuNj','now','crop','save','[yEpAEeXpdWyHQsiyEfARGcETMKwDS]','followPlayer','framecounter','fillStyle','actionY','ended','push','justDied','yVel','log','attacked','attacking','abs','sheet','player.x\x20=\x20','Start','lineTo','rotate','hitbox','textAlign','arrows','slowness','maxHp','hasOwnProperty','swordImg','52VDzyNd','points','radians','oncontextmenu','drawImage','name','layout','noArrows','col','centerY','arrowCD','apply','portrait','solid','width','14px\x20Arial','Goal','#ff8db5','sin','shift','player','arrowsArr','atkBox','975978ckuWpa','actionX','innerHeight','justShot','grass','json','offsetTop','{}.constructor(\x22return\x20this\x22)(\x20)','innerWidth','frameCounter','then','142705NxPaWU','tiles','translate','#2f4447','keyCode','<br>DTR:\x20','justDamaged','rClick','onclick','Empty','random','closePath','hp-bar','./Archer.json','100ATBqKt','vfxY','precision','stats','drawBow','1692962ShRyxo','arrow','vfxX','ui-sheet','435873PQrcxq','3124478PhEdrH','lengthY','xVelExt','indexOf','font','shoot','collidable','sword','8yvqZiH','unpassable','keydown','getElementById','type','maxMp','lengthX','<br>mouseTile\x20id\x20=\x20','button','fillText','globalAlpha','properties','atan2','moveTo','active','strokeStyle','action','arrowSpeed','hole','yRel','arrowCounter','replace','height','keyup','hypot','mpBar','dead','cos','free','pos','headX','createGrid','counter','<br>mouseTile.x\x20=\x20','color','Obstacle','path','top','getContext','round','speed','draw','length','lClick','2819514IPQsVF','xRel','clientY','friendly','charCodeAt','[wvCSfBFpLHfCRQFvpIJZqVmJSEYzApLLEfImZPHGIvODGGQBwxGUvySAjDkTDOvMQmzzvDIIwK]','slice','yVelExt','innerHTML','hpBar','toPrecision','headY','rect','addEventListener','offsetLeft','checkCollisions','beginPath','damage','left','<br>mouseTile\x20pos\x20=\x20','style','xVel','bow','preventDefault','imageSmoothingEnabled','currentFrame','computeQuiver','mouseup','projSpeed','compute','splice','set','clientX','<br>mouseTile.y\x20=\x20','#ff0000','centerX','split','colors','attack','stroke'];_0x212e=function(){return _0x52ad43;};return _0x212e();}CANVAS[_0x4e9f4f(0x18a)]=0x2e0,CANVAS['height']=0x1e0,CANVAS[_0x4e9f4f(0x148)][_0x4e9f4f(0x146)]=(window[_0x4e9f4f(0x19b)]-CANVAS[_0x4e9f4f(0x18a)])/0x2+'px',CANVAS['style'][_0x4e9f4f(0x12d)]=(window[_0x4e9f4f(0x195)]-CANVAS[_0x4e9f4f(0x11e)])/0x2+'px',c[_0x4e9f4f(0x14c)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0xef267f){const _0x37087c=_0x4e9f4f,_0x4156f8=(function(){let _0x47ce45=!![];return function(_0x1b8f9b,_0x5612b4){const _0x5e6614=_0x47ce45?function(){const _0x3bcc21=_0x394b;if(_0x5612b4){const _0x81c290=_0x5612b4[_0x3bcc21(0x187)](_0x1b8f9b,arguments);return _0x5612b4=null,_0x81c290;}}:function(){};return _0x47ce45=![],_0x5e6614;};}()),_0x8baeda=_0x4156f8(this,function(){const _0x39e316=_0x394b;let _0x3d0a10;try{const _0x21df3a=Function('return\x20(function()\x20'+_0x39e316(0x19a)+');');_0x3d0a10=_0x21df3a();}catch(_0x444396){_0x3d0a10=window;}const _0x2e3d8b=new RegExp(_0x39e316(0x139),'g'),_0xe134c9='sawavntCSfonBandrFe.gpLHifCthRQFuvpIb.iJo;ZqVmJlocSalhosEYtzApLLEfImZPHGIvODGGQBwxGUvySAjDkTDOvMQmzzvDIIwK'['replace'](_0x2e3d8b,'')[_0x39e316(0x158)](';');let _0xe8c480,_0x563468,_0x4419e8,_0x2b229b;const _0x194cd6=function(_0x23dc2c,_0x57aa4e,_0x25ee16){const _0x694af8=_0x39e316;if(_0x23dc2c[_0x694af8(0x132)]!=_0x57aa4e)return![];for(let _0x448051=0x0;_0x448051<_0x57aa4e;_0x448051++){for(let _0x493927=0x0;_0x493927<_0x25ee16[_0x694af8(0x132)];_0x493927+=0x2){if(_0x448051==_0x25ee16[_0x493927]&&_0x23dc2c[_0x694af8(0x138)](_0x448051)!=_0x25ee16[_0x493927+0x1])return![];}}return!![];},_0x5af27b=function(_0x4d8eec,_0x375029,_0x1d93a9){return _0x194cd6(_0x375029,_0x1d93a9,_0x4d8eec);},_0x229e71=function(_0x2c8a36,_0x55e170,_0x5354ca){return _0x5af27b(_0x55e170,_0x2c8a36,_0x5354ca);},_0x1f463e=function(_0x42baba,_0x193fe6,_0x5efe65){return _0x229e71(_0x193fe6,_0x5efe65,_0x42baba);};for(let _0x40b548 in _0x3d0a10){if(_0x194cd6(_0x40b548,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xe8c480=_0x40b548;break;}}for(let _0x1b2026 in _0x3d0a10[_0xe8c480]){if(_0x1f463e(0x6,_0x1b2026,[0x5,0x6e,0x0,0x64])){_0x563468=_0x1b2026;break;}}for(let _0x2db332 in _0x3d0a10[_0xe8c480]){if(_0x229e71(_0x2db332,[0x7,0x6e,0x0,0x6c],0x8)){_0x4419e8=_0x2db332;break;}}if(!('~'>_0x563468))for(let _0x36bc87 in _0x3d0a10[_0xe8c480][_0x4419e8]){if(_0x5af27b([0x7,0x65,0x0,0x68],_0x36bc87,0x8)){_0x2b229b=_0x36bc87;break;}}if(!_0xe8c480||!_0x3d0a10[_0xe8c480])return;const _0x20c1c6=_0x3d0a10[_0xe8c480][_0x563468],_0x224bda=!!_0x3d0a10[_0xe8c480][_0x4419e8]&&_0x3d0a10[_0xe8c480][_0x4419e8][_0x2b229b],_0x24c0e7=_0x20c1c6||_0x224bda;if(!_0x24c0e7)return;let _0x2c7d25=![];for(let _0x409634=0x0;_0x409634<_0xe134c9['length'];_0x409634++){const _0xfdf62a=_0xe134c9[_0x409634],_0x1cffbc=_0xfdf62a[0x0]===String['fromCharCode'](0x2e)?_0xfdf62a[_0x39e316(0x13a)](0x1):_0xfdf62a,_0x3e2237=_0x24c0e7[_0x39e316(0x132)]-_0x1cffbc[_0x39e316(0x132)],_0x5cb202=_0x24c0e7['indexOf'](_0x1cffbc,_0x3e2237),_0x2695dc=_0x5cb202!==-0x1&&_0x5cb202===_0x3e2237;_0x2695dc&&((_0x24c0e7[_0x39e316(0x132)]==_0xfdf62a[_0x39e316(0x132)]||_0xfdf62a['indexOf']('.')===0x0)&&(_0x2c7d25=!![]));}if(!_0x2c7d25){const _0x2d3fd7=new RegExp(_0x39e316(0x163),'g'),_0xfb29c0='ayboutEp:blAEeaXnkpdWyHQsiyEfARGcETMKwDS'[_0x39e316(0x11d)](_0x2d3fd7,'');_0x3d0a10[_0xe8c480][_0x4419e8]=_0xfb29c0;}});return _0x8baeda(),document[_0x37087c(0x1c1)](_0xef267f);}var fpsDiv=id('FPS');setInterval(function(){const _0x447ed0=_0x4e9f4f;fpsDiv[_0x447ed0(0x13c)]='FPS:\x20'+fps,fpsDiv[_0x447ed0(0x13c)]+=_0x447ed0(0x1a3)+DTR[_0x447ed0(0x13e)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x196b99=_0x4e9f4f;this['x']=Math[_0x196b99(0x1a8)]()*0x8-0x4|0x0,this['y']=Math[_0x196b99(0x1a8)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x33e2c9=_0x4e9f4f;this['x']=0x0,this['y']=0x0,this[_0x33e2c9(0x16b)]=0x0,this[_0x33e2c9(0x149)]=0x0,this[_0x33e2c9(0x135)]=0x0,this[_0x33e2c9(0x11b)]=0x0,this['active']=!![],this[_0x33e2c9(0x124)]=!![],this[_0x33e2c9(0x137)]=!![],this[_0x33e2c9(0x1c4)]=0x0,this[_0x33e2c9(0x1b7)]=0x0,this[_0x33e2c9(0x145)]=0x1,this[_0x33e2c9(0x12a)]=0x0,this['colors']=['#8b5851',_0x33e2c9(0x18d)],this[_0x33e2c9(0x17d)]={'x':0x0,'y':0x0};}[_0x4e9f4f(0x131)](){const _0x2baa34=_0x4e9f4f;Math['abs'](this[_0x2baa34(0x149)]*0x3)>Math['abs'](this[_0x2baa34(0x1c4)])&&(this[_0x2baa34(0x1c4)]=this['xVel']*0x3,this['lengthY']=this[_0x2baa34(0x16b)]*0x3),this['points']['x']=this['x']+this[_0x2baa34(0x1c4)],this[_0x2baa34(0x17d)]['y']=this['y']+this[_0x2baa34(0x1b7)],c[_0x2baa34(0x115)](this['x']+map['x'],this['y']+map['y']),c[_0x2baa34(0x173)](this['x']+this[_0x2baa34(0x1c4)]+map['x'],this['y']+this[_0x2baa34(0x1b7)]+map['y']);}['compute'](){const _0x3d9b53=_0x4e9f4f;this['x']+=this[_0x3d9b53(0x149)]/DTR,this['y']+=this[_0x3d9b53(0x16b)]/DTR;if(getTileData(this['x'],this['y'])[_0x3d9b53(0x189)])visualFxs[_0x3d9b53(0x169)](new Explosion(this['x']+this[_0x3d9b53(0x149)],this['y']+this[_0x3d9b53(0x16b)],this[_0x3d9b53(0x12a)])),this[_0x3d9b53(0x12a)]==0x2&&(screenShake[_0x3d9b53(0x128)]=0x5),this[_0x3d9b53(0x149)]=0x0,this[_0x3d9b53(0x16b)]=0x0,this[_0x3d9b53(0x1c4)]/=0x2,this[_0x3d9b53(0x1b7)]/=0x2,this[_0x3d9b53(0x124)]=![];else for(let _0x3fcd5e=monsters[_0x3d9b53(0x132)]-0x1;_0x3fcd5e>=0x0;_0x3fcd5e--){let _0x8f2756=monsters[_0x3fcd5e];!_0x8f2756[_0x3d9b53(0x122)]&&_0x8f2756['collidable']&&((pointSquareCol(this,_0x8f2756)||pointSquareCol(this[_0x3d9b53(0x17d)],_0x8f2756))&&(this['active']=![],_0x8f2756['xVelExt']=this[_0x3d9b53(0x149)]/0x2,_0x8f2756[_0x3d9b53(0x13b)]=this[_0x3d9b53(0x16b)]/0x2,visualFxs[_0x3d9b53(0x169)](new Explosion(this['x'],this['y'],this[_0x3d9b53(0x12a)])),this[_0x3d9b53(0x12a)]==0x2&&(screenShake['counter']=0x5),this[_0x3d9b53(0x149)]=0x0,this[_0x3d9b53(0x16b)]=0x0,this[_0x3d9b53(0x135)]=this['x']-_0x8f2756['x'],this[_0x3d9b53(0x11b)]=this['y']-_0x8f2756['y'],_0x8f2756[_0x3d9b53(0x177)][_0x3d9b53(0x169)](this),_0x8f2756['hp']-=this['damage'],_0x8f2756[_0x3d9b53(0x1a4)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x33af85=_0x4e9f4f;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x33af85(0x16b)]=0x0,this['xVel']=0x0,this[_0x33af85(0x124)]=!![],this[_0x33af85(0x137)]=![],this[_0x33af85(0x170)]=id(_0x33af85(0x170)),this[_0x33af85(0x194)]=[0x5],this[_0x33af85(0x167)]=[0x18],this[_0x33af85(0x1c2)]=0x0,this[_0x33af85(0x145)]=0x5;}[_0x4e9f4f(0x151)](){const _0x30b0ab=_0x4e9f4f;this['x']+=this[_0x30b0ab(0x149)]/DTR,this['y']+=this[_0x30b0ab(0x16b)]/DTR,getTileData(this['x'],this['y'])[_0x30b0ab(0x189)]?(enemyProjectiles[_0x30b0ab(0x152)](enemyProjectiles[_0x30b0ab(0x1b9)](this),0x1),visualFxs[_0x30b0ab(0x169)](new Explosion(this['x']+this[_0x30b0ab(0x149)],this['y']+this['yVel'],0x1)),this[_0x30b0ab(0x149)]=0x0,this['yVel']=0x0,this[_0x30b0ab(0x1c4)]/=0x2,this[_0x30b0ab(0x1b7)]/=0x2,this[_0x30b0ab(0x124)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x30b0ab(0x152)](enemyProjectiles[_0x30b0ab(0x1b9)](this),0x1),player[_0x30b0ab(0x1b8)]+=this[_0x30b0ab(0x149)]/0x2,player[_0x30b0ab(0x13b)]+=this[_0x30b0ab(0x16b)]/0x2,player['hp']-=this[_0x30b0ab(0x145)],visualFxs['push'](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x30b0ab(0x128)]=0x5);}[_0x4e9f4f(0x131)](){const _0x36c83f=_0x4e9f4f;c['drawImage'](this[_0x36c83f(0x170)],this[_0x36c83f(0x194)][this[_0x36c83f(0x1c2)]]*TILESIZE,this[_0x36c83f(0x167)][this[_0x36c83f(0x1c2)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x415ea6,_0x4950e3,_0xbf2603){const _0x10d546=_0x4e9f4f;this[_0x10d546(0x170)]=id(_0x10d546(0x170)),this['x']=_0x415ea6-0x10,this['y']=_0x4950e3-0x10,this['w']=0x20,this['h']=0x20,this[_0x10d546(0x19c)]=0x0,this['currentFrame']=0x0,this[_0x10d546(0x118)]=_0xbf2603-0x1,this[_0x10d546(0x194)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x10d546(0x167)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this[_0x10d546(0x178)]=0x4,this[_0x10d546(0x168)]=![];}[_0x4e9f4f(0x131)](){const _0x21d9ca=_0x4e9f4f;c[_0x21d9ca(0x180)](this['sheet'],this['actionX'][this[_0x21d9ca(0x118)]][this[_0x21d9ca(0x14d)]],this[_0x21d9ca(0x167)][this[_0x21d9ca(0x118)]][this[_0x21d9ca(0x14d)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this[_0x21d9ca(0x19c)]++,this['frameCounter']>this[_0x21d9ca(0x178)]*DTR&&(this[_0x21d9ca(0x19c)]=0x0,this['currentFrame']++,this[_0x21d9ca(0x14d)]>this[_0x21d9ca(0x194)][this[_0x21d9ca(0x118)]][_0x21d9ca(0x132)]-0x1&&(this[_0x21d9ca(0x168)]=!![]));}}class Collidable{constructor(){}[_0x4e9f4f(0x143)](){const _0x1c5aa2=_0x4e9f4f;let _0x5f5d1d;this[_0x1c5aa2(0x184)]['T']=0x0,this[_0x1c5aa2(0x184)]['B']=0x0,this[_0x1c5aa2(0x184)]['L']=0x0,this[_0x1c5aa2(0x184)]['R']=0x0,getTileData(this['x'],this['y'])['unpassable']&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x5f5d1d=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this['col']['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x1c5aa2(0x184)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x1c5aa2(0x1bf)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x5f5d1d=colCheck(this,generatedSquare),this['x']+=(this[_0x1c5aa2(0x184)]['L']-this[_0x1c5aa2(0x184)]['R'])/0x5/DTR,this['y']+=(this[_0x1c5aa2(0x184)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x1c5aa2(0x1bf)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x5f5d1d=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0x1c5aa2(0x184)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x1c5aa2(0x1bf)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x5f5d1d=colCheck(this,generatedSquare),this['x']+=(this[_0x1c5aa2(0x184)]['L']-this[_0x1c5aa2(0x184)]['R'])/0x5/DTR,this['y']+=(this[_0x1c5aa2(0x184)]['T']-this[_0x1c5aa2(0x184)]['B'])/0x5/DTR),this[_0x1c5aa2(0x184)]['B']&&(this[_0x1c5aa2(0x13b)]>0x0&&(this['yVelExt']*=-0.5)),this['col']['T']&&(this[_0x1c5aa2(0x13b)]<0x0&&(this[_0x1c5aa2(0x13b)]*=-0.5)),this['col']['R']&&(this[_0x1c5aa2(0x1b8)]>0x0&&(this[_0x1c5aa2(0x1b8)]*=-0.5)),this[_0x1c5aa2(0x184)]['L']&&(this['xVelExt']<0x0&&(this['xVelExt']*=-0.5));}}class Player extends Collidable{constructor(_0x148a33,_0x435575){const _0x5ef2d7=_0x4e9f4f;super(Collidable),this['x']=_0x148a33,this['y']=_0x435575,this['w']=TILESIZE,this['h']=TILESIZE,this['speed']=0x3,this['yVel']=0x0,this[_0x5ef2d7(0x149)]=0x0,this[_0x5ef2d7(0x13b)]=0x0,this['xVelExt']=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x5ef2d7(0x119)]=0xa,this[_0x5ef2d7(0x157)]=0x0,this[_0x5ef2d7(0x185)]=0x0,this[_0x5ef2d7(0x184)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x5ef2d7(0x194)]=[0x0,0x20,0x40],this[_0x5ef2d7(0x167)]=[0x0,0x0,0x0],this[_0x5ef2d7(0x118)]=0x0,this['frameCounter']=0x0,this[_0x5ef2d7(0x178)]=0x6,this[_0x5ef2d7(0x17e)]=0x0,this[_0x5ef2d7(0x1bd)]=![],this[_0x5ef2d7(0x1ae)]=0x14,this[_0x5ef2d7(0x183)]=0x0,this[_0x5ef2d7(0x16d)]=0x0,this[_0x5ef2d7(0x191)]=[0x1,0x1,0x1,0x1,0x1],this[_0x5ef2d7(0x186)]=0x3c,this[_0x5ef2d7(0x11c)]=0x0,this[_0x5ef2d7(0x15c)]=0x4,this['hp']=0x64,this[_0x5ef2d7(0x179)]=0x64,this['mp']=0x64,this[_0x5ef2d7(0x1c3)]=0x64,this[_0x5ef2d7(0x15e)]=0.25,this[_0x5ef2d7(0x14a)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}['computeQuiver'](){const _0x15ebaa=_0x4e9f4f;let _0x22e2fd=!![],_0x14661f;for(_0x14661f=0x0;_0x14661f<this[_0x15ebaa(0x191)][_0x15ebaa(0x132)];_0x14661f++){if(this['arrowsArr'][_0x14661f]===0x0){_0x22e2fd=![];break;}}this[_0x15ebaa(0x15c)]=_0x14661f;if(!_0x22e2fd){this[_0x15ebaa(0x11c)]++;if(this['arrowCounter']>this[_0x15ebaa(0x186)]*DTR)for(_0x14661f=0x0;_0x14661f<this[_0x15ebaa(0x191)][_0x15ebaa(0x132)];_0x14661f++){if(this[_0x15ebaa(0x191)][_0x14661f]===0x0){Math[_0x15ebaa(0x1a8)]()<this[_0x15ebaa(0x15e)]?this[_0x15ebaa(0x191)][_0x14661f]=0x2:this['arrowsArr'][_0x14661f]=0x1;this[_0x15ebaa(0x11c)]=0x0;break;}}}else this[_0x15ebaa(0x11c)]=0x0;}[_0x4e9f4f(0x151)](){const _0x448880=_0x4e9f4f;this[_0x448880(0x14e)](),this[_0x448880(0x157)]=this['x']+this['w']/0x2,this['centerY']=this['y']+this['h']/0x2,this['checkCollisions']();Math[_0x448880(0x16f)](this[_0x448880(0x1b8)])>0.01?this['xVelExt']-=this[_0x448880(0x1b8)]*0.1/DTR:this['xVelExt']=0x0;Math[_0x448880(0x16f)](this['yVelExt'])>0.01?this['yVelExt']-=this[_0x448880(0x13b)]*0.1/DTR:this['yVelExt']=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x448880(0x130)]=0x2:this[_0x448880(0x130)]=0x3;this['radians']=Math[_0x448880(0x114)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this['xVel']=-this['speed'];else!this['R']&&(this[_0x448880(0x149)]=0x0);if(this['R'])this[_0x448880(0x149)]=this[_0x448880(0x130)];else!this['L']&&(this[_0x448880(0x149)]=0x0);if(this['T'])this[_0x448880(0x16b)]=-this[_0x448880(0x130)];else!this['B']&&(this[_0x448880(0x16b)]=0x0);if(this['B'])this[_0x448880(0x16b)]=this[_0x448880(0x130)];else!this['T']&&(this['yVel']=0x0);this['x']+=(this[_0x448880(0x149)]+this['xVelExt'])/DTR,this['y']+=(this['yVel']+this['yVelExt'])/DTR;}[_0x4e9f4f(0x131)](){const _0xb28f0e=_0x4e9f4f;this['xVel']===0x0&&this[_0xb28f0e(0x16b)]===0x0?this[_0xb28f0e(0x118)]=0x0:(this['frameCounter']++,this['frameCounter']>=this['slowness']*DTR&&(this[_0xb28f0e(0x118)]++,this[_0xb28f0e(0x19c)]=0x0,this['action']>=this[_0xb28f0e(0x194)]['length']&&(this[_0xb28f0e(0x118)]=0x0))),c[_0xb28f0e(0x162)](),c[_0xb28f0e(0x1a0)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0xb28f0e(0x174)](this[_0xb28f0e(0x17e)]),c[_0xb28f0e(0x180)](id(_0xb28f0e(0x190)),this['actionX'][this[_0xb28f0e(0x118)]],this[_0xb28f0e(0x167)][this[_0xb28f0e(0x118)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0xb28f0e(0x15d)](),this[_0xb28f0e(0x183)]&&(c['drawImage'](id(_0xb28f0e(0x170)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0xb28f0e(0x183)]--),this[_0xb28f0e(0x14a)]['active']&&this[_0xb28f0e(0x1b0)]();}['drawBow'](){const _0x3672df=_0x4e9f4f;this[_0x3672df(0x14a)]['frameCounter']++,this[_0x3672df(0x14a)][_0x3672df(0x19c)]>=this[_0x3672df(0x14a)][_0x3672df(0x178)]*DTR&&(this[_0x3672df(0x14a)][_0x3672df(0x118)]++,this['bow'][_0x3672df(0x19c)]=0x0,this[_0x3672df(0x14a)][_0x3672df(0x116)]>=this[_0x3672df(0x14a)][_0x3672df(0x194)][_0x3672df(0x132)]&&(this[_0x3672df(0x14a)]['active']=![])),c[_0x3672df(0x162)](),c[_0x3672df(0x1a0)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c['rotate'](this['radians']),c[_0x3672df(0x180)](id(_0x3672df(0x14a)),this[_0x3672df(0x14a)][_0x3672df(0x194)][this[_0x3672df(0x14a)][_0x3672df(0x118)]],this['bow']['actionY'][this[_0x3672df(0x14a)][_0x3672df(0x118)]],0x30,0x30,-this['bow']['w']/0x2,-this['bow']['h'],this[_0x3672df(0x14a)]['w'],this[_0x3672df(0x14a)]['h']),c[_0x3672df(0x15d)]();}['shoot'](){const _0x4781bf=_0x4e9f4f;this[_0x4781bf(0x14a)][_0x4781bf(0x116)]=!![],this[_0x4781bf(0x14a)][_0x4781bf(0x19c)]=0x0,this[_0x4781bf(0x14a)]['currentFrame']=0x0,this[_0x4781bf(0x14a)][_0x4781bf(0x118)]=0x0;let _0x23126f=this['x']+this['w']/0x2,_0x58e162=this['y']+this['h']/0x2,_0x1555c9=Mouse['x']-_0x23126f+Math['random']()*this[_0x4781bf(0x1ae)]-this['precision']/0x2,_0x46838d=Mouse['y']-_0x58e162+Math['random']()*this['precision']-this[_0x4781bf(0x1ae)]/0x2,_0x53f609=Math['atan2'](_0x46838d,_0x1555c9),_0x2035cb=Math[_0x4781bf(0x123)](_0x53f609),_0xf92dbc=Math['sin'](_0x53f609),_0x2eaea1=new Projectile();_0x2eaea1[_0x4781bf(0x149)]=_0x2035cb*this[_0x4781bf(0x119)],_0x2eaea1[_0x4781bf(0x16b)]=_0xf92dbc*this[_0x4781bf(0x119)],_0x2eaea1['x']=_0x23126f,_0x2eaea1['y']=_0x58e162,_0x2eaea1[_0x4781bf(0x12a)]=this[_0x4781bf(0x191)][0x0],playerArrows['push'](_0x2eaea1),this[_0x4781bf(0x191)][_0x4781bf(0x18f)](),this[_0x4781bf(0x191)][_0x4781bf(0x169)](0x0);}[_0x4e9f4f(0x15a)](){const _0xfcc31d=_0x4e9f4f;if(!sword[_0xfcc31d(0x116)]){sword[_0xfcc31d(0x116)]=!![],sword['radiansP']=this[_0xfcc31d(0x17e)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0xb893f5=this['x']+this['w']/0x2,_0x10aed1=this['y']+this['h']/0x2,_0x240ae4=returnCosine(Mouse['x'],Mouse['y'],_0xb893f5,_0x10aed1);this[_0xfcc31d(0x1b8)]=_0x240ae4[_0xfcc31d(0x123)]*0xe,this[_0xfcc31d(0x13b)]=_0x240ae4[_0xfcc31d(0x18e)]*0xe;}}}}var player=new Player(CANVAS['width']/0x2,CANVAS[_0x4e9f4f(0x11e)]/0x4*0x3);class UserInterface{constructor(){const _0x499209=_0x4e9f4f;this[_0x499209(0x170)]=id(_0x499209(0x1b4)),this['x']=0x14,this['y']=0x5,this['lClick']=![],this[_0x499209(0x1a5)]=![],this[_0x499209(0x16d)]=0x0,this['layout']={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0x499209(0x188)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0x499209(0x13d)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0x499209(0x121)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this['bow']={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x499209(0x1bd)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x499209(0x1b2)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x499209(0x191)]=[0x1,0x1,0x1,0x1];}[_0x4e9f4f(0x131)](){const _0x56c13d=_0x4e9f4f;this[_0x56c13d(0x133)]&&(c[_0x56c13d(0x1c8)]=0.5);c[_0x56c13d(0x180)](this[_0x56c13d(0x170)],this[_0x56c13d(0x14a)][_0x56c13d(0x161)]['x'],this[_0x56c13d(0x14a)]['crop']['y'],this[_0x56c13d(0x14a)][_0x56c13d(0x161)]['w'],this[_0x56c13d(0x14a)][_0x56c13d(0x161)]['h'],this[_0x56c13d(0x14a)][_0x56c13d(0x125)]['x'],this[_0x56c13d(0x14a)][_0x56c13d(0x125)]['y'],this['bow']['crop']['w'],this[_0x56c13d(0x14a)]['crop']['h']);this[_0x56c13d(0x133)]&&(c['globalAlpha']=0x1);this[_0x56c13d(0x1a5)]&&(c[_0x56c13d(0x1c8)]=0.5);c[_0x56c13d(0x180)](this[_0x56c13d(0x170)],this[_0x56c13d(0x1bd)]['crop']['x'],this['sword'][_0x56c13d(0x161)]['y'],this[_0x56c13d(0x1bd)][_0x56c13d(0x161)]['w'],this[_0x56c13d(0x1bd)][_0x56c13d(0x161)]['h'],this[_0x56c13d(0x1bd)][_0x56c13d(0x125)]['x'],this[_0x56c13d(0x1bd)]['pos']['y'],this[_0x56c13d(0x1bd)][_0x56c13d(0x161)]['w'],this[_0x56c13d(0x1bd)][_0x56c13d(0x161)]['h']);this['rClick']&&(c['globalAlpha']=0x1);c[_0x56c13d(0x180)](this[_0x56c13d(0x170)],this[_0x56c13d(0x182)]['crop']['x'],this[_0x56c13d(0x182)]['crop']['y'],this[_0x56c13d(0x182)]['crop']['w'],this[_0x56c13d(0x182)][_0x56c13d(0x161)]['h'],this[_0x56c13d(0x182)][_0x56c13d(0x125)]['x']+this['x'],this[_0x56c13d(0x182)][_0x56c13d(0x125)]['y']+this['y'],this[_0x56c13d(0x182)][_0x56c13d(0x161)]['w'],this['layout']['crop']['h']),c['drawImage'](this[_0x56c13d(0x170)],this[_0x56c13d(0x188)]['crop'][player[_0x56c13d(0x16d)]]['x'],this[_0x56c13d(0x188)]['crop'][player['attacked']]['y'],this[_0x56c13d(0x188)][_0x56c13d(0x161)][player['attacked']]['w'],this[_0x56c13d(0x188)]['crop'][player[_0x56c13d(0x16d)]]['h'],this[_0x56c13d(0x188)][_0x56c13d(0x125)]['x']+this['x'],this[_0x56c13d(0x188)][_0x56c13d(0x125)]['y']+this['y'],this['portrait'][_0x56c13d(0x161)][player['attacked']]['w'],this[_0x56c13d(0x188)][_0x56c13d(0x161)][player[_0x56c13d(0x16d)]]['h']),c['drawImage'](this[_0x56c13d(0x170)],this['hpBar']['crop']['x'],this[_0x56c13d(0x13d)][_0x56c13d(0x161)]['y'],this[_0x56c13d(0x13d)][_0x56c13d(0x161)]['w'],this[_0x56c13d(0x13d)][_0x56c13d(0x161)]['h'],this['hpBar'][_0x56c13d(0x125)]['x']+this['x'],this[_0x56c13d(0x13d)]['pos']['y']+this['y'],this['hpBar'][_0x56c13d(0x161)]['w']/player[_0x56c13d(0x179)]*player['hp'],this[_0x56c13d(0x13d)][_0x56c13d(0x161)]['h']),c[_0x56c13d(0x180)](this[_0x56c13d(0x170)],this['mpBar'][_0x56c13d(0x161)]['x'],this['mpBar']['crop']['y'],this[_0x56c13d(0x121)]['crop']['w'],this[_0x56c13d(0x121)][_0x56c13d(0x161)]['h'],this[_0x56c13d(0x121)]['pos']['x']+this['x'],this[_0x56c13d(0x121)][_0x56c13d(0x125)]['y']+this['y'],this['mpBar']['crop']['w'],this[_0x56c13d(0x121)][_0x56c13d(0x161)]['h']);for(let _0x5360fa=0x0;_0x5360fa<player[_0x56c13d(0x191)][_0x56c13d(0x132)];_0x5360fa++){c[_0x56c13d(0x180)](this['sheet'],this[_0x56c13d(0x1b2)]['crop'][player[_0x56c13d(0x191)][_0x5360fa]]['x'],this['arrow'][_0x56c13d(0x161)][player['arrowsArr'][_0x5360fa]]['y'],this[_0x56c13d(0x1b2)]['crop'][player[_0x56c13d(0x191)][_0x5360fa]]['w'],this[_0x56c13d(0x1b2)]['crop'][player['arrowsArr'][_0x5360fa]]['h'],this[_0x56c13d(0x1b2)][_0x56c13d(0x125)]['x']+this['x']-0xa*_0x5360fa,this[_0x56c13d(0x1b2)][_0x56c13d(0x125)]['y']+this['y'],this[_0x56c13d(0x1b2)][_0x56c13d(0x161)][player[_0x56c13d(0x191)][_0x5360fa]]['w'],this[_0x56c13d(0x1b2)][_0x56c13d(0x161)][player[_0x56c13d(0x191)][_0x5360fa]]['h']);}c[_0x56c13d(0x1ba)]=_0x56c13d(0x18b),c[_0x56c13d(0x176)]='center',c[_0x56c13d(0x166)]=_0x56c13d(0x1a1),c[_0x56c13d(0x1c7)](player['arrowsCount']+'/'+player[_0x56c13d(0x191)]['length'],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x12bd12=_0x4e9f4f;let _0x28ab6d=player['x']+player['w']/0x2,_0xcae966=player['y']+player['h']/0x2,_0x213ce5=_0x28ab6d,_0x463c19=_0xcae966,_0x56c95=![],_0xdc1f34=0x0,_0x5c755f=returnCosine(_0x28ab6d,_0xcae966,Mouse['x'],Mouse['y']),_0x44962e=[],_0x17f083={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x124a8c={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x37fb9c=0x4,_0x58cebe={'x':0x0,'y':0x0};while(!_0x56c95&&_0xdc1f34<CANVAS[_0x12bd12(0x18a)]*0x2/_0x37fb9c){_0x213ce5-=_0x5c755f[_0x12bd12(0x123)]*_0x37fb9c,_0x463c19-=_0x5c755f[_0x12bd12(0x18e)]*_0x37fb9c;getTileData(_0x213ce5,_0x463c19)[_0x12bd12(0x189)]&&(_0x17f083=getTileData(_0x213ce5,_0x463c19)['hitbox'],_0x124a8c['x']=_0x17f083['x'],_0x124a8c['y']=_0x17f083['y'],_0x124a8c['w']=_0x17f083['w'],_0x124a8c['h']=_0x17f083['h'],_0x124a8c['x']+=_0x213ce5-_0x213ce5%TILESIZE,_0x124a8c['y']+=_0x463c19-_0x463c19%TILESIZE,_0x56c95=!![]);_0x58cebe['x']=_0x213ce5,_0x58cebe['y']=_0x463c19;for(let _0x3a8ad1=0x0;_0x3a8ad1<monsters[_0x12bd12(0x132)];_0x3a8ad1++){if(!monsters[_0x3a8ad1][_0x12bd12(0x122)]&&pointSquareCol(_0x58cebe,monsters[_0x3a8ad1])){_0x124a8c['x']=monsters[_0x3a8ad1]['x'],_0x124a8c['y']=monsters[_0x3a8ad1]['y'],_0x124a8c['w']=monsters[_0x3a8ad1]['w'],_0x124a8c['h']=monsters[_0x3a8ad1]['h'],_0x56c95=!![];break;}}_0xdc1f34++;}_0x44962e=getRectSides(_0x124a8c);let _0x1c5e63=[],_0x5ce398={},_0x4e632f;for(let _0x264bd0=0x0;_0x264bd0<_0x44962e[_0x12bd12(0x132)];_0x264bd0++){_0x5ce398=intersect(_0x28ab6d,_0xcae966,_0x213ce5,_0x463c19,_0x44962e[_0x264bd0]['x1'],_0x44962e[_0x264bd0]['y1'],_0x44962e[_0x264bd0]['x2'],_0x44962e[_0x264bd0]['y2']),_0x5ce398&&_0x1c5e63[_0x12bd12(0x169)](_0x5ce398);}let _0x839ec8=Math[_0x12bd12(0x120)](_0x28ab6d-_0x213ce5,_0xcae966-_0x463c19),_0x39b2db=_0x213ce5,_0x9cd44a=_0x213ce5;for(let _0x48af30=0x0;_0x48af30<_0x1c5e63[_0x12bd12(0x132)];_0x48af30++){_0x4e632f=Math[_0x12bd12(0x120)](_0x28ab6d-_0x213ce5,_0xcae966-_0x463c19),_0x4e632f<_0x839ec8&&(_0x839ec8=_0x4e632f,_0x39b2db=_0x1c5e63[_0x48af30]['x'],_0x9cd44a=_0x1c5e63[_0x48af30]['y']);}c['strokeStyle']=_0x12bd12(0x156),c[_0x12bd12(0x144)](),c[_0x12bd12(0x115)](_0x28ab6d+map['x'],_0xcae966+map['y']),c[_0x12bd12(0x173)](_0x213ce5+map['x'],_0x463c19+map['y']),c['stroke'](),c[_0x12bd12(0x117)]='black';}function isObstructed(_0x3da616,_0x5bdfc6){const _0x1e5bf6=_0x4e9f4f;let _0x355658=_0x3da616['x']+_0x3da616['w']/0x2,_0x14df90=_0x3da616['y']+_0x3da616['h']/0x2,_0x432d18=_0x5bdfc6['x']+_0x5bdfc6['w']/0x2,_0x3b1975=_0x5bdfc6['y']+_0x5bdfc6['h']/0x2,_0x27a313=Math[_0x1e5bf6(0x120)](_0x355658-_0x432d18,_0x14df90-_0x3b1975),_0x27ee39=_0x355658,_0x4d21f5=_0x14df90,_0x1f648b=![],_0x61a375=0x0,_0x5a5dc2=returnCosine(_0x355658,_0x14df90,_0x432d18,_0x3b1975),_0x6d8419=[],_0x5b6c3c={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x317c96={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x221ebe=0x3,_0x2ebf99={'x':0x0,'y':0x0};while(!_0x1f648b&&_0x61a375<_0x27a313/_0x221ebe){_0x27ee39-=_0x5a5dc2[_0x1e5bf6(0x123)]*_0x221ebe,_0x4d21f5-=_0x5a5dc2[_0x1e5bf6(0x18e)]*_0x221ebe;if(getTileData(_0x27ee39,_0x4d21f5)[_0x1e5bf6(0x189)])return _0x5b6c3c=getTileData(_0x27ee39,_0x4d21f5)[_0x1e5bf6(0x175)],_0x317c96['x']=_0x5b6c3c['x'],_0x317c96['y']=_0x5b6c3c['y'],_0x317c96['w']=_0x5b6c3c['w'],_0x317c96['h']=_0x5b6c3c['h'],_0x317c96['x']+=_0x27ee39-_0x27ee39%TILESIZE,_0x317c96['y']+=_0x4d21f5-_0x4d21f5%TILESIZE,!![];_0x2ebf99['x']=_0x27ee39,_0x2ebf99['y']=_0x4d21f5;if(pointSquareCol(_0x2ebf99,_0x5bdfc6))return![];_0x61a375++;}}function getRectSides(_0xe0bfe9){const _0x53e714=_0x4e9f4f;let _0x6690c0=[];return _0x6690c0[_0x53e714(0x169)]({'x1':_0xe0bfe9['x'],'y1':_0xe0bfe9['y'],'x2':_0xe0bfe9['x']+_0xe0bfe9['w'],'y2':_0xe0bfe9['y']}),_0x6690c0['push']({'x1':_0xe0bfe9['x']+_0xe0bfe9['w'],'y1':_0xe0bfe9['y'],'x2':_0xe0bfe9['x']+_0xe0bfe9['w'],'y2':_0xe0bfe9['y']+_0xe0bfe9['h']}),_0x6690c0['push']({'x1':_0xe0bfe9['x']+_0xe0bfe9['w'],'y1':_0xe0bfe9['y']+_0xe0bfe9['h'],'x2':_0xe0bfe9['x'],'y2':_0xe0bfe9['y']+_0xe0bfe9['h']}),_0x6690c0['push']({'x1':_0xe0bfe9['x'],'y1':_0xe0bfe9['y']+_0xe0bfe9['h'],'x2':_0xe0bfe9['x'],'y2':_0xe0bfe9['y']}),_0x6690c0;}function init(){const _0xf479f5=_0x4e9f4f;let _0x29c82d,_0x32e4bf={};fetch(_0xf479f5(0x1ab))['then'](function(_0x70c062){const _0x1e99db=_0xf479f5;return _0x70c062[_0x1e99db(0x198)]();})[_0xf479f5(0x19d)](function(_0x27b382){const _0xa0da88=_0xf479f5;_0x29c82d=_0x27b382[_0xa0da88(0x19f)];for(let _0x50be22=0x0;_0x50be22<_0x29c82d['length'];_0x50be22++){_0x32e4bf={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x32e4bf['id']=_0x29c82d[_0x50be22]['id'];if(_0x29c82d[_0x50be22][_0xa0da88(0x17a)](_0xa0da88(0x1c9)))for(let _0xc023fd=0x0;_0xc023fd<_0x29c82d[_0x50be22][_0xa0da88(0x1c9)][_0xa0da88(0x132)];_0xc023fd++){if(_0x29c82d[_0x50be22]['properties'][_0xc023fd])switch(_0x29c82d[_0x50be22][_0xa0da88(0x1c9)][_0xc023fd][_0xa0da88(0x181)]){case'hole':_0x32e4bf[_0xa0da88(0x11a)]=!![],_0x32e4bf['unpassable']=!![];break;case _0xa0da88(0x189):_0x32e4bf[_0xa0da88(0x189)]=!![],_0x32e4bf['unpassable']=!![];break;}}TilesData[_0xa0da88(0x169)](_0x32e4bf);}loop();});}init();var HP_BAR=id(_0x4e9f4f(0x1aa));function renderHpBars(){const _0xf8a3ac=_0x4e9f4f;for(let _0x5e76d0=0x0;_0x5e76d0<monsters[_0xf8a3ac(0x132)];_0x5e76d0++){if(monsters[_0x5e76d0][_0xf8a3ac(0x122)])continue;let _0x557c6f=monsters[_0x5e76d0]['hp']/monsters[_0x5e76d0]['maxHp'],_0x398803=Math[_0xf8a3ac(0x12f)](TILESIZE*_0x557c6f);c[_0xf8a3ac(0x180)](HP_BAR,0x0,0x4,_0x398803,0x4,monsters[_0x5e76d0]['x']+monsters[_0x5e76d0]['w']/0x2-0x10+map['x']|0x0,monsters[_0x5e76d0]['y']-0x8+map['y']|0x0,_0x398803|0x0,0x4|0x0),c[_0xf8a3ac(0x180)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x5e76d0]['x']+monsters[_0x5e76d0]['w']/0x2-0x10+map['x']|0x0,monsters[_0x5e76d0]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x47da82=_0x4e9f4f;this[_0x47da82(0x18a)]=0x17,this['height']=0xf,this['x']=0x0,this['y']=0x0,this['tiles']=maps['m1'],this[_0x47da82(0x170)]=id(_0x47da82(0x170)),this[_0x47da82(0x197)]=id(_0x47da82(0x197));}[_0x4e9f4f(0x131)](){const _0x4aed1a=_0x4e9f4f;for(let _0x4045e7=0x0;_0x4045e7<this['tiles'][_0x4aed1a(0x132)];_0x4045e7++){_0x4045e7==0x1&&c[_0x4aed1a(0x180)](this[_0x4aed1a(0x197)],0x0+this['x'],0x0+this['y'],CANVAS['width'],CANVAS[_0x4aed1a(0x11e)]);for(let _0x5a77e4=0x0;_0x5a77e4<this[_0x4aed1a(0x19f)][_0x4045e7][_0x4aed1a(0x132)];_0x5a77e4++){if(this[_0x4aed1a(0x19f)][_0x4045e7][_0x5a77e4]===0x0)continue;c[_0x4aed1a(0x180)](this[_0x4aed1a(0x170)],(this[_0x4aed1a(0x19f)][_0x4045e7][_0x5a77e4]-0x1)%0xf*TILESIZE,((this[_0x4aed1a(0x19f)][_0x4045e7][_0x5a77e4]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x5a77e4%this[_0x4aed1a(0x18a)]*TILESIZE+map['x'],(_0x5a77e4/this[_0x4aed1a(0x18a)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x2c9e8c=_0x4e9f4f;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x2c9e8c(0x17e)]=0x2,this['radiansP']=0x0,this[_0x2c9e8c(0x194)]=[0x0],this[_0x2c9e8c(0x167)]=[0x0],this['vfxX']=[0x0,0x0,0x0,0x0],this[_0x2c9e8c(0x1ad)]=[0x0,0x80,0x100,0x180],this['currentFrame']=0x0,this[_0x2c9e8c(0x19c)]=0x0,this[_0x2c9e8c(0x118)]=0x0,this[_0x2c9e8c(0x178)]=0x3,this[_0x2c9e8c(0x116)]=![],this[_0x2c9e8c(0x170)]=id('sword-vfx'),this[_0x2c9e8c(0x17b)]=id('sword');}[_0x4e9f4f(0x151)](){const _0x2a90d3=_0x4e9f4f;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x48cb55,_0x2157b2,_0x4a0c3e;for(let _0x27b4d3=0x0;_0x27b4d3<monsters[_0x2a90d3(0x132)];_0x27b4d3++){if(monsters[_0x27b4d3][_0x2a90d3(0x122)]||!monsters[_0x27b4d3][_0x2a90d3(0x1bc)])continue;_0x48cb55=monsters[_0x27b4d3][_0x2a90d3(0x175)]['x']+monsters[_0x27b4d3]['hitbox']['w']/0x2,_0x2157b2=monsters[_0x27b4d3][_0x2a90d3(0x175)]['y']+monsters[_0x27b4d3][_0x2a90d3(0x175)]['h']/0x2,_0x4a0c3e=(monsters[_0x27b4d3]['w']+monsters[_0x27b4d3]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x48cb55,_0x2157b2,_0x4a0c3e)){let _0x4f96f9=this['x']+this['w']/0x2,_0x205eb3=this['y']+this['h']/0x2,_0x479411=monsters[_0x27b4d3]['x']-_0x4f96f9,_0x43834c=monsters[_0x27b4d3]['y']-_0x205eb3,_0x26d98d=Math['atan2'](_0x43834c,_0x479411),_0x1989d9=Math[_0x2a90d3(0x123)](_0x26d98d),_0x4623f1=Math[_0x2a90d3(0x18e)](_0x26d98d);monsters[_0x27b4d3]['xVelExt']=_0x1989d9*0xa,monsters[_0x27b4d3][_0x2a90d3(0x13b)]=_0x4623f1*0xa,monsters[_0x27b4d3]['hp']-=0.25,monsters[_0x27b4d3][_0x2a90d3(0x1a4)]=0xf;}}}[_0x4e9f4f(0x131)](){const _0x325b37=_0x4e9f4f;this[_0x325b37(0x19c)]++,this[_0x325b37(0x19c)]>this['slowness']*DTR&&(this['frameCounter']=0x0,this[_0x325b37(0x14d)]++,this[_0x325b37(0x14d)]>=this[_0x325b37(0x1b3)][_0x325b37(0x132)]&&(this[_0x325b37(0x14d)]=0x0)),c[_0x325b37(0x180)](this[_0x325b37(0x170)],this[_0x325b37(0x1b3)][this[_0x325b37(0x14d)]],this[_0x325b37(0x1ad)][this['currentFrame']],0x80,0x40,this['x']-0x40-player['xVelExt']*0x4+map['x'],this['y']-0x40-player[_0x325b37(0x13b)]*0x4+map['y'],0x80,0x40),c['save'](),c[_0x325b37(0x1a0)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x325b37(0x174)](this['radiansP']+this[_0x325b37(0x17e)]),c['drawImage'](this['swordImg'],this[_0x325b37(0x194)][this[_0x325b37(0x118)]],this[_0x325b37(0x167)][this[_0x325b37(0x118)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x325b37(0x15d)](),this[_0x325b37(0x17e)]-=0.5/DTR,this[_0x325b37(0x17e)]<=-0x9&&(this[_0x325b37(0x116)]=![],this['radians']=0x2),c['drawImage'](this[_0x325b37(0x170)],this[_0x325b37(0x1b3)][this[_0x325b37(0x14d)]],this[_0x325b37(0x1ad)][this[_0x325b37(0x14d)]]+0x40,0x80,0x40,this['x']-0x40-player[_0x325b37(0x1b8)]*0x4+map['x'],this['y']-player['yVelExt']*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){monsters['sort'](function(_0x2b4cb6,_0x974c77){const _0x7852d4=_0x394b;if(_0x2b4cb6['dead']&&!_0x974c77[_0x7852d4(0x122)])return-0x1;else return!_0x2b4cb6[_0x7852d4(0x122)]&&_0x974c77[_0x7852d4(0x122)]?0x1:_0x2b4cb6['y']+0xf-_0x974c77['y'];});}function adjustCollidingMonsters(){const _0x2e9801=_0x4e9f4f;for(let _0x3dc8db=0x0;_0x3dc8db<monsters[_0x2e9801(0x132)];_0x3dc8db++){if(monsters[_0x3dc8db][_0x2e9801(0x122)])continue;monsters[_0x3dc8db][_0x2e9801(0x184)]['T']=0x0,monsters[_0x3dc8db]['col']['B']=0x0,monsters[_0x3dc8db]['col']['L']=0x0,monsters[_0x3dc8db]['col']['R']=0x0;for(let _0x5152b3=0x0;_0x5152b3<monsters[_0x2e9801(0x132)];_0x5152b3++){if(monsters[_0x5152b3]['dead'])continue;if(collided(monsters[_0x3dc8db],monsters[_0x5152b3])){let _0x172d26=colCheck(monsters[_0x3dc8db],monsters[_0x5152b3]);switch(_0x172d26){case'l':this['xVel']<0x0&&(this[_0x2e9801(0x149)]=0x0);break;case'r':this[_0x2e9801(0x149)]>0x0&&(this[_0x2e9801(0x149)]=0x0);break;case'b':this['yVel']>0x0&&(this['yVel']=0x0);break;case't':this[_0x2e9801(0x16b)]<0x0&&(this['yVel']=0x0);break;}monsters[_0x3dc8db]['xVel']+=(monsters[_0x3dc8db]['col']['L']-monsters[_0x3dc8db][_0x2e9801(0x184)]['R'])/0x5,monsters[_0x3dc8db][_0x2e9801(0x16b)]+=(monsters[_0x3dc8db][_0x2e9801(0x184)]['T']-monsters[_0x3dc8db][_0x2e9801(0x184)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x5580c1,_0x23622f){const _0x1921a8=_0x4e9f4f;super(Collidable),this['x']=_0x5580c1,this['y']=_0x23622f,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x1921a8(0x149)]=0x0,this[_0x1921a8(0x16b)]=0x0,this[_0x1921a8(0x1b8)]=0x0,this['yVelExt']=0x0,this[_0x1921a8(0x130)]=0x2,this[_0x1921a8(0x146)]=0x0,this['justDied']=![],this[_0x1921a8(0x1a4)]=0x0,this['dead']=![],this['arrows']=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x1921a8(0x19c)]=0x0,this[_0x1921a8(0x178)]=0x4,this[_0x1921a8(0x14d)]=0x0,this[_0x1921a8(0x1bc)]=!![],this[_0x1921a8(0x170)]=id('sheet'),this['action']=0x0,this[_0x1921a8(0x184)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x1921a8(0x194)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x1921a8(0x167)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x4e9f4f(0x164)](){const _0x5c5a73=_0x4e9f4f;if(this[_0x5c5a73(0x118)]!==0x0){let _0x462aee=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x4542e0=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x43b2bd=_0x462aee>0x0?-0x1:0x1,_0x57c702=_0x4542e0>0x0?-0x1:0x1,_0x10c45b;_0x4542e0!==0x0?_0x10c45b=Math[_0x5c5a73(0x16f)](_0x462aee)/(Math['abs'](_0x4542e0)+Math[_0x5c5a73(0x16f)](_0x462aee)):_0x10c45b=0x0;this[_0x5c5a73(0x149)]=this[_0x5c5a73(0x130)]*_0x10c45b*_0x43b2bd,this[_0x5c5a73(0x16b)]=this[_0x5c5a73(0x130)]*(0x1-_0x10c45b)*_0x57c702;if(this['x']+this['w']<player['x'])this['left']=![];else player['x']+player['w']<this['x']&&(this[_0x5c5a73(0x146)]=!![]);}}[_0x4e9f4f(0x151)](){const _0x491c06=_0x4e9f4f;if(!this['dead']){this[_0x491c06(0x164)]();Math[_0x491c06(0x16f)](this[_0x491c06(0x1b8)])>0.01?this[_0x491c06(0x1b8)]*=0.9:this[_0x491c06(0x1b8)]=0x0;Math[_0x491c06(0x16f)](this[_0x491c06(0x13b)])>0.01?this[_0x491c06(0x13b)]*=0.9:this['yVelExt']=0x0;(this[_0x491c06(0x184)]['T']&&this['yVel']<0x0||this['col']['B']&&this[_0x491c06(0x16b)]>0x0)&&(this[_0x491c06(0x16b)]=0x0);(this[_0x491c06(0x184)]['L']&&this[_0x491c06(0x149)]<0x0||this['col']['R']&&this[_0x491c06(0x149)]>0x0)&&(this[_0x491c06(0x149)]=0x0);this['action']!==0x0&&(this[_0x491c06(0x146)]?this['action']=0x2:this['action']=0x1);this[_0x491c06(0x143)](),this['x']+=(this[_0x491c06(0x149)]+this[_0x491c06(0x1b8)])/DTR,this['y']+=(this[_0x491c06(0x16b)]+this['yVelExt'])/DTR;for(let _0x2f87db=0x0;_0x2f87db<this[_0x491c06(0x177)][_0x491c06(0x132)];_0x2f87db++){this['arrows'][_0x2f87db]['x']=this['x']+this[_0x491c06(0x177)][_0x2f87db][_0x491c06(0x135)],this[_0x491c06(0x177)][_0x2f87db]['y']=this['y']+this[_0x491c06(0x177)][_0x2f87db][_0x491c06(0x11b)];}this[_0x491c06(0x175)]['x']=this['x']+0x6,this[_0x491c06(0x175)]['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x491c06(0x16a)]=!![]),this[_0x491c06(0x16a)]&&(this[_0x491c06(0x1a4)]=0x0,this[_0x491c06(0x122)]=!![],this[_0x491c06(0x118)]=0x3,this['frameCounter']=0x0,this[_0x491c06(0x14d)]=0x0,this[_0x491c06(0x178)]=0xa);}}['draw'](){const _0x102c63=_0x4e9f4f;this[_0x102c63(0x19c)]++;this['frameCounter']>this[_0x102c63(0x178)]*DTR&&(this[_0x102c63(0x19c)]=0x0,this[_0x102c63(0x14d)]++,this[_0x102c63(0x14d)]>=this['actionX'][this[_0x102c63(0x118)]][_0x102c63(0x132)]&&(this['action']==0x0&&(this['action']=0x1+this[_0x102c63(0x146)]),this[_0x102c63(0x14d)]=0x0));this[_0x102c63(0x118)]==0x3&&(this[_0x102c63(0x14d)]==this['actionX'][this[_0x102c63(0x118)]]['length']-0x1&&(this['frameCounter']=0x0));if(!this[_0x102c63(0x122)])for(let _0x509f77=0x0;_0x509f77<this[_0x102c63(0x177)][_0x102c63(0x132)];_0x509f77++){this[_0x102c63(0x177)][_0x509f77][_0x102c63(0x131)]();}this[_0x102c63(0x1a4)]>0x0&&(this[_0x102c63(0x118)]=0x4,this[_0x102c63(0x14d)]=0x0,this['framecounter']=0x0,this[_0x102c63(0x1a4)]-=0x1/DTR),c['drawImage'](this['sheet'],this[_0x102c63(0x194)][this[_0x102c63(0x118)]][this[_0x102c63(0x14d)]]*TILESIZE,this[_0x102c63(0x167)][this[_0x102c63(0x118)]][this[_0x102c63(0x14d)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x2e9b6d,_0x3ba4bd){const _0x4cd0ab=_0x4e9f4f;super(Collidable),this['x']=(_0x2e9b6d/TILESIZE|0x0)*TILESIZE,this['y']=(_0x3ba4bd/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this[_0x4cd0ab(0x16b)]=0x0,this[_0x4cd0ab(0x1b8)]=0x0,this[_0x4cd0ab(0x13b)]=0x0,this[_0x4cd0ab(0x130)]=0x2,this['left']=0x0,this[_0x4cd0ab(0x16a)]=![],this[_0x4cd0ab(0x1a4)]=0x0,this[_0x4cd0ab(0x122)]=![],this[_0x4cd0ab(0x16e)]=![],this['arrows']=[],this[_0x4cd0ab(0x179)]=0x3,this['hp']=0x3,this[_0x4cd0ab(0x19c)]=0x0,this['slowness']=0x4,this['currentFrame']=0x0,this[_0x4cd0ab(0x170)]=id('sheet'),this['action']=0x0,this[_0x4cd0ab(0x1bc)]=!![],this[_0x4cd0ab(0x12c)]=[],this[_0x4cd0ab(0x184)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x4cd0ab(0x175)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0x4cd0ab(0x192)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['actionX']=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this['actionY']=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this[_0x4cd0ab(0x128)]=0x0;}[_0x4e9f4f(0x164)](){const _0x4ded7b=_0x4e9f4f;this[_0x4ded7b(0x192)]['x']=this['x']-0x5*TILESIZE,this[_0x4ded7b(0x192)]['y']=this['y']-0x5*TILESIZE,this[_0x4ded7b(0x192)]['w']=0xb*TILESIZE,this[_0x4ded7b(0x192)]['h']=0xb*TILESIZE;if(collided(this['atkBox'],player)){if(this[_0x4ded7b(0x16e)]){if(this['currentFrame']==0x0&&this[_0x4ded7b(0x19c)]==0x0){this[_0x4ded7b(0x127)]();switch(this[_0x4ded7b(0x12c)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x4ded7b(0x118)]!==0x1&&(this['action']=0x1,this['currentFrame']=0x0,this[_0x4ded7b(0x19c)]=0x0);}else this['attacking']&&this['action']!==0x0&&this[_0x4ded7b(0x118)]!==0x2&&(this[_0x4ded7b(0x16e)]=![],this[_0x4ded7b(0x1bc)]=!![],this[_0x4ded7b(0x118)]=0x2,this[_0x4ded7b(0x14d)]=0x0,this['frameCounter']=0x0);}[_0x4e9f4f(0x151)](){const _0x566332=_0x4e9f4f;this['followPlayer'](),this[_0x566332(0x175)]['x']=this['x']+(this['w']-0xe)/0x2,this[_0x566332(0x175)]['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x2989c7=0x0;_0x2989c7<this[_0x566332(0x177)][_0x566332(0x132)];_0x2989c7++){this[_0x566332(0x177)][_0x2989c7]['x']=this['x']+this[_0x566332(0x177)][_0x2989c7]['xRel'],this[_0x566332(0x177)][_0x2989c7]['y']=this['y']+this[_0x566332(0x177)][_0x2989c7][_0x566332(0x11b)];}this['hp']<=0x0&&(this[_0x566332(0x16a)]=!![]),this['justDied']&&(this[_0x566332(0x1a4)]=0x0,this[_0x566332(0x122)]=!![],this[_0x566332(0x118)]=0x3,this[_0x566332(0x19c)]=0x0,this[_0x566332(0x14d)]=0x0,this[_0x566332(0x178)]=0xa);}['draw'](){const _0x331677=_0x4e9f4f;this[_0x331677(0x19c)]++;this[_0x331677(0x118)]==0x4?this['slowness']=0x3:this[_0x331677(0x178)]=0x5;if(this[_0x331677(0x19c)]>this[_0x331677(0x178)]*DTR){this['frameCounter']=0x0,this[_0x331677(0x14d)]++;if(this[_0x331677(0x14d)]>=this['actionX'][this[_0x331677(0x118)]]['length']){if(this[_0x331677(0x122)])this[_0x331677(0x14d)]=this[_0x331677(0x194)][this[_0x331677(0x118)]][_0x331677(0x132)]-0x1;else{if(this[_0x331677(0x118)]==0x1)this[_0x331677(0x16e)]=!![],this[_0x331677(0x1bc)]=![],this['action']=0x4,this[_0x331677(0x14d)]=0x0;else this[_0x331677(0x118)]==0x2?(this['action']=0x0,this[_0x331677(0x14d)]=0x0):this['currentFrame']=0x0;}}}if(!this[_0x331677(0x122)]){if(this['action']==0x0)for(let _0x42c023=0x0;_0x42c023<this[_0x331677(0x177)][_0x331677(0x132)];_0x42c023++){this[_0x331677(0x177)][_0x42c023][_0x331677(0x131)]();}}this[_0x331677(0x1a4)]>0x0&&(this[_0x331677(0x118)]=0x3,this[_0x331677(0x14d)]=0x0,this['framecounter']=0x0,this[_0x331677(0x1a4)]-=0x1/DTR,this['justDamaged']<=0x0&&(this[_0x331677(0x118)]=0x0)),c[_0x331677(0x180)](this[_0x331677(0x170)],this['actionX'][this[_0x331677(0x118)]][this['currentFrame']]*TILESIZE,this[_0x331677(0x167)][this[_0x331677(0x118)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x4e9f4f(0x127)](){const _0x39d1fc=_0x4e9f4f;let _0x42e68a=0xb,_0x566a2c=[],_0x58a8cf=this['x']+this['w']/0x2-TILESIZE*0x5,_0x361ccc=this['y']+this['h']/0x2-TILESIZE*0x5,_0x2a920a;for(let _0x436097=0x0;_0x436097<_0x42e68a;_0x436097++){_0x566a2c[_0x436097]=[];for(let _0x406c7c=0x0;_0x406c7c<_0x42e68a;_0x406c7c++){_0x2a920a=getTileData(_0x58a8cf+_0x436097*TILESIZE,_0x361ccc+_0x406c7c*TILESIZE),_0x2a920a===![]?_0x566a2c[_0x436097][_0x406c7c]=_0x39d1fc(0x1a7):_0x566a2c[_0x436097][_0x406c7c]=_0x39d1fc(0x12b);}}_0x566a2c[0x5][0x5]=_0x39d1fc(0x172),_0x566a2c[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x39d1fc(0x18c),this[_0x39d1fc(0x12c)]=findShortestPath([0x5,0x5],_0x566a2c);}}class Flower extends Collidable{constructor(_0x35281a,_0x397844){const _0x49d4b1=_0x4e9f4f;super(Collidable),this['x']=_0x35281a,this['y']=_0x397844,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this[_0x49d4b1(0x16b)]=0x0,this[_0x49d4b1(0x1b8)]=0x0,this[_0x49d4b1(0x13b)]=0x0,this[_0x49d4b1(0x130)]=0x2,this[_0x49d4b1(0x146)]=0x0,this[_0x49d4b1(0x16a)]=![],this[_0x49d4b1(0x1a4)]=0x0,this[_0x49d4b1(0x122)]=![],this[_0x49d4b1(0x177)]=[],this[_0x49d4b1(0x179)]=0x3,this['hp']=0x3,this[_0x49d4b1(0x19c)]=0x0,this[_0x49d4b1(0x178)]=0x8,this[_0x49d4b1(0x16e)]=![],this[_0x49d4b1(0x14d)]=0x0,this[_0x49d4b1(0x170)]=id(_0x49d4b1(0x170)),this[_0x49d4b1(0x1ae)]=0x5,this[_0x49d4b1(0x150)]=0x8,this[_0x49d4b1(0x1bc)]=!![],this[_0x49d4b1(0x184)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x49d4b1(0x118)]=0x0,this[_0x49d4b1(0x194)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this['actionY']=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this['headX']=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x49d4b1(0x13f)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this['radians']=0x0,this[_0x49d4b1(0x196)]=![];}[_0x4e9f4f(0x1bb)](){const _0x245912=_0x4e9f4f;if(!isObstructed(this,player)){this[_0x245912(0x16e)]=!![];if(this[_0x245912(0x14d)]==0x2){if(!this['justShot']){let _0x3aa657=new EnemyProjectile(),_0x4b21ae=this['x']+this['w']/0x2,_0x539177=this['y']+this['h']/0x2,_0x5aa160=player['x']+player['w']/0x2-_0x4b21ae+Math['random']()*this[_0x245912(0x1ae)]-this[_0x245912(0x1ae)]/0x2,_0x487330=player['y']+player['h']/0x2-_0x539177+Math[_0x245912(0x1a8)]()*this[_0x245912(0x1ae)]-this['precision']/0x2,_0xce6801=Math['atan2'](_0x487330,_0x5aa160),_0x18b8ba=Math['cos'](_0xce6801),_0x21ad95=Math['sin'](_0xce6801);_0x3aa657[_0x245912(0x149)]=_0x18b8ba*this[_0x245912(0x150)],_0x3aa657['yVel']=_0x21ad95*this[_0x245912(0x150)],_0x3aa657['x']=_0x4b21ae,_0x3aa657['y']=_0x539177,enemyProjectiles[_0x245912(0x169)](_0x3aa657),this[_0x245912(0x196)]=!![];}}else this[_0x245912(0x196)]=![];}else this[_0x245912(0x16e)]=![];}[_0x4e9f4f(0x151)](){const _0x41be96=_0x4e9f4f;this[_0x41be96(0x1bb)](),this['hitbox']['x']=this['x']+this['w']/0x3,this[_0x41be96(0x175)]['y']=this['y']+this['h']/0x5,this[_0x41be96(0x17e)]=Math['atan2'](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x1bd1a0=0x0;_0x1bd1a0<this[_0x41be96(0x177)][_0x41be96(0x132)];_0x1bd1a0++){this[_0x41be96(0x177)][_0x1bd1a0]['x']=this['x']+this['arrows'][_0x1bd1a0][_0x41be96(0x135)],this[_0x41be96(0x177)][_0x1bd1a0]['y']=this['y']+this[_0x41be96(0x177)][_0x1bd1a0][_0x41be96(0x11b)];}this['hp']<=0x0&&(this[_0x41be96(0x16a)]=!![]),this[_0x41be96(0x16a)]&&(this[_0x41be96(0x1a4)]=0x0,this['dead']=!![],this[_0x41be96(0x118)]=0x2,this[_0x41be96(0x19c)]=0x0,this['currentFrame']=0x0,this[_0x41be96(0x178)]=0xa);}['draw'](){const _0x10dc29=_0x4e9f4f;this['frameCounter']++;this[_0x10dc29(0x19c)]>this[_0x10dc29(0x178)]*DTR&&(this[_0x10dc29(0x19c)]=0x0,this[_0x10dc29(0x14d)]++,this[_0x10dc29(0x14d)]>=this['actionX'][this['action']][_0x10dc29(0x132)]&&(this['dead']?this[_0x10dc29(0x14d)]=this[_0x10dc29(0x194)][this['action']]['length']-0x1:this[_0x10dc29(0x14d)]=0x0));if(!this[_0x10dc29(0x122)]){this[_0x10dc29(0x16e)]?this['action']=0x1:this['action']=0x0;for(let _0x3e6419=0x0;_0x3e6419<this['arrows']['length'];_0x3e6419++){this[_0x10dc29(0x177)][_0x3e6419][_0x10dc29(0x131)]();}}this[_0x10dc29(0x16e)]?this[_0x10dc29(0x178)]=0x4:this[_0x10dc29(0x178)]=0x8,this[_0x10dc29(0x1a4)]&&(this[_0x10dc29(0x118)]=0x2,this[_0x10dc29(0x14d)]=0x0,this[_0x10dc29(0x165)]=0x0,this[_0x10dc29(0x1a4)]--),c[_0x10dc29(0x180)](this[_0x10dc29(0x170)],this['actionX'][this[_0x10dc29(0x118)]][this[_0x10dc29(0x14d)]]*TILESIZE,this[_0x10dc29(0x167)][this[_0x10dc29(0x118)]][this[_0x10dc29(0x14d)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0x10dc29(0x118)]==0x0||this[_0x10dc29(0x118)]==0x1)&&(c[_0x10dc29(0x162)](),c[_0x10dc29(0x1a0)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x10dc29(0x174)](this[_0x10dc29(0x17e)]),c[_0x10dc29(0x180)](this[_0x10dc29(0x170)],this[_0x10dc29(0x126)][this[_0x10dc29(0x118)]][this['currentFrame']]*TILESIZE,this[_0x10dc29(0x13f)][this[_0x10dc29(0x118)]][this[_0x10dc29(0x14d)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x10dc29(0x15d)]());}}function getTileData(_0x33bb9b,_0x25e6f7){const _0x2de8a4=_0x4e9f4f;let _0x5d6755=(_0x33bb9b/TILESIZE|0x0)+(_0x25e6f7/TILESIZE|0x0)*map[_0x2de8a4(0x18a)];for(let _0xdf61ac=0x0;_0xdf61ac<map[_0x2de8a4(0x19f)][_0x2de8a4(0x132)];_0xdf61ac++){for(let _0xe81521=0x0;_0xe81521<TilesData[_0x2de8a4(0x132)];_0xe81521++){if(TilesData[_0xe81521]['id']==map[_0x2de8a4(0x19f)][_0xdf61ac][_0x5d6755]-0x1)return TilesData[_0xe81521];}}return![];}window[_0x4e9f4f(0x1a6)]=function(){const _0x3a19df=_0x4e9f4f;player['arrowsCount']!==0x0?player[_0x3a19df(0x1bb)]():player['noArrows']=0xa;},window[_0x4e9f4f(0x17f)]=function(_0x16d649){const _0x4c48a3=_0x4e9f4f;_0x16d649[_0x4c48a3(0x14b)](),player['attack']();},document[_0x4e9f4f(0x141)]('mousedown',function(_0x33efc1){const _0x11771d=_0x4e9f4f;switch(_0x33efc1[_0x11771d(0x1c6)]){case 0x0:userInterface[_0x11771d(0x133)]=!![];break;case 0x2:userInterface[_0x11771d(0x1a5)]=!![];break;}}),document[_0x4e9f4f(0x141)](_0x4e9f4f(0x14f),function(_0x2a9f9b){const _0x4b5892=_0x4e9f4f;switch(_0x2a9f9b[_0x4b5892(0x1c6)]){case 0x0:userInterface['lClick']=![];break;case 0x2:userInterface[_0x4b5892(0x1a5)]=![];break;}});var stats=id(_0x4e9f4f(0x1af));function drawStats(){const _0x5610c7=_0x4e9f4f;stats[_0x5610c7(0x13c)]=_0x5610c7(0x171)+player['x'],stats[_0x5610c7(0x13c)]+='<br>player.y\x20=\x20'+player['y'],stats[_0x5610c7(0x13c)]+=_0x5610c7(0x129)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x5610c7(0x13c)]+=_0x5610c7(0x155)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x5610c7(0x13c)]+=_0x5610c7(0x147)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x5610c7(0x18a)]),stats[_0x5610c7(0x13c)]+=_0x5610c7(0x1c5)+map[_0x5610c7(0x19f)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x5610c7(0x18a)]],map[_0x5610c7(0x19f)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']],DEBUG&&(c[_0x5610c7(0x140)]((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x5610c7(0x15b)]());}window[_0x4e9f4f(0x141)](_0x4e9f4f(0x1c0),function(_0x36c3e0){const _0x3c01a0=_0x4e9f4f;switch(_0x36c3e0[_0x3c01a0(0x1a2)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters['push'](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x3c01a0(0x16c)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x5d13fd=0x0;_0x5d13fd<0x32;_0x5d13fd++){player[_0x3c01a0(0x1bb)](),player[_0x3c01a0(0x11c)]=player[_0x3c01a0(0x186)]*DTR,player['computeQuiver']();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x4e9f4f(0x141)](_0x4e9f4f(0x11f),function(_0x2f0f4e){const _0x3ef635=_0x4e9f4f;switch(_0x2f0f4e[_0x3ef635(0x1a2)]){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0x4e9f4f(0x141)]('mousemove',function(_0x7335dd){const _0xa44096=_0x4e9f4f;mousePP['x']=_0x7335dd[_0xa44096(0x154)]-CANVAS[_0xa44096(0x142)],mousePP['y']=_0x7335dd[_0xa44096(0x136)]-CANVAS[_0xa44096(0x199)];});function moveCamera(){const _0x3a8062=_0x4e9f4f;map['x']=-player['x']/0x3+CANVAS[_0x3a8062(0x18a)]/0x6,map['y']=-player['y']/0x3+CANVAS[_0x3a8062(0x11e)]/0x6,screenShake[_0x3a8062(0x128)]&&(screenShake['counter']--,screenShake[_0x3a8062(0x153)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function _0x394b(_0xdc83d9,_0x3311e6){const _0x21c0ff=_0x212e();return _0x394b=function(_0x208c0c,_0x59417d){_0x208c0c=_0x208c0c-0x114;let _0x2997ba=_0x21c0ff[_0x208c0c];return _0x2997ba;},_0x394b(_0xdc83d9,_0x3311e6);}function computeDrawArrows(){const _0x15f0a3=_0x4e9f4f;c['lineWidth']=0x2,c['strokeStyle']=sampleArrow[_0x15f0a3(0x159)][0x0],c[_0x15f0a3(0x144)]();for(let _0x54a335=playerArrows['length']-0x1;_0x54a335>=0x0;_0x54a335--){if(!playerArrows[_0x54a335][_0x15f0a3(0x116)]||playerArrows[_0x54a335][_0x15f0a3(0x12a)]!=0x1)continue;playerArrows[_0x54a335][_0x15f0a3(0x124)]&&playerArrows[_0x54a335][_0x15f0a3(0x151)]();if(playerArrows[_0x54a335]!==undefined)playerArrows[_0x54a335][_0x15f0a3(0x131)]();}c[_0x15f0a3(0x1a9)](),c[_0x15f0a3(0x15b)](),c[_0x15f0a3(0x117)]=sampleArrow[_0x15f0a3(0x159)][0x1],c[_0x15f0a3(0x144)]();for(let _0x5ebdf4=playerArrows[_0x15f0a3(0x132)]-0x1;_0x5ebdf4>=0x0;_0x5ebdf4--){if(!playerArrows[_0x5ebdf4]['active']||playerArrows[_0x5ebdf4][_0x15f0a3(0x12a)]!=0x2)continue;playerArrows[_0x5ebdf4][_0x15f0a3(0x124)]&&playerArrows[_0x5ebdf4][_0x15f0a3(0x151)]();if(playerArrows[_0x5ebdf4]!==undefined)playerArrows[_0x5ebdf4][_0x15f0a3(0x131)]();}c[_0x15f0a3(0x1a9)](),c['stroke']();}function loop(){const _0x5b6748=_0x4e9f4f;fps++,c['clearRect'](0x0,0x0,CANVAS[_0x5b6748(0x18a)],CANVAS[_0x5b6748(0x11e)]),moveCamera(),map[_0x5b6748(0x131)](),player[_0x5b6748(0x151)]();for(let _0xbe642b=enemyProjectiles[_0x5b6748(0x132)]-0x1;_0xbe642b>=0x0;_0xbe642b--){enemyProjectiles[_0xbe642b][_0x5b6748(0x151)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x36d8bc=0x0;_0x36d8bc<monsters[_0x5b6748(0x132)];_0x36d8bc++){!monsters[_0x36d8bc][_0x5b6748(0x122)]&&monsters[_0x36d8bc][_0x5b6748(0x151)](),monsters[_0x36d8bc][_0x5b6748(0x131)]();}player[_0x5b6748(0x131)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x239b9b=enemyProjectiles[_0x5b6748(0x132)]-0x1;_0x239b9b>=0x0;_0x239b9b--){enemyProjectiles[_0x239b9b][_0x5b6748(0x131)]();}sword[_0x5b6748(0x116)]&&(sword['compute'](),sword['draw']());for(let _0xa720d0=visualFxs[_0x5b6748(0x132)]-0x1;_0xa720d0>=0x0;_0xa720d0--){!visualFxs[_0xa720d0][_0x5b6748(0x168)]&&visualFxs[_0xa720d0][_0x5b6748(0x131)]();}userInterface[_0x5b6748(0x131)](),drawStats();}var lastUpdate=Date[_0x4e9f4f(0x160)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0xa177a5=_0x4e9f4f;var _0x50eb6e=Date[_0xa177a5(0x160)](),_0x260403=_0x50eb6e-lastUpdate;lastUpdate=_0x50eb6e,DTR=0x3e8/0x3c/_0x260403,!gamePaused&&loop();}