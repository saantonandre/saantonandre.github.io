'strict';const _0x101bc6=_0x181c;(function(_0x8ff796,_0x227b18){const _0x6c7ef9=_0x181c,_0x174a50=_0x8ff796();while(!![]){try{const _0x4ad59d=parseInt(_0x6c7ef9(0x230))/0x1+parseInt(_0x6c7ef9(0x1e5))/0x2*(-parseInt(_0x6c7ef9(0x227))/0x3)+parseInt(_0x6c7ef9(0x1af))/0x4+-parseInt(_0x6c7ef9(0x20c))/0x5+-parseInt(_0x6c7ef9(0x1fe))/0x6+parseInt(_0x6c7ef9(0x21e))/0x7*(-parseInt(_0x6c7ef9(0x19a))/0x8)+parseInt(_0x6c7ef9(0x1d2))/0x9*(parseInt(_0x6c7ef9(0x1e2))/0xa);if(_0x4ad59d===_0x227b18)break;else _0x174a50['push'](_0x174a50['shift']());}catch(_0x2341ba){_0x174a50['push'](_0x174a50['shift']());}}}(_0x4296,0x62de4));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0x101bc6(0x1c6)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS[_0x101bc6(0x1a4)]('2d');CANVAS[_0x101bc6(0x1a8)]=0x2e0,CANVAS[_0x101bc6(0x1e7)]=0x1e0,CANVAS[_0x101bc6(0x1ee)][_0x101bc6(0x1ef)]=(window[_0x101bc6(0x21b)]-CANVAS[_0x101bc6(0x1a8)])/0x2+'px',CANVAS['style'][_0x101bc6(0x234)]=(window['innerHeight']-CANVAS['height'])/0x2+'px',c[_0x101bc6(0x20f)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x470224){const _0x36a1b1=(function(){let _0x5eedd4=!![];return function(_0x473260,_0xa33a43){const _0x8b743b=_0x5eedd4?function(){const _0xea105=_0x181c;if(_0xa33a43){const _0xa5fcac=_0xa33a43[_0xea105(0x238)](_0x473260,arguments);return _0xa33a43=null,_0xa5fcac;}}:function(){};return _0x5eedd4=![],_0x8b743b;};}()),_0x59418d=_0x36a1b1(this,function(){const _0x4d3cd6=_0x181c;let _0xf82b1b;try{const _0x4981dd=Function(_0x4d3cd6(0x1b9)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0xf82b1b=_0x4981dd();}catch(_0x409a90){_0xf82b1b=window;}const _0x108aa6=new RegExp('[UpHXSJzyVIqUzvBPXTLCfpYMSNpHIUwyjkXOLpLKYvNNITKPMvFKmZPHvjVKUTykNETMkIJ]','g'),_0x286a04=_0x4d3cd6(0x1a9)[_0x4d3cd6(0x1eb)](_0x108aa6,'')[_0x4d3cd6(0x1fa)](';');let _0x58c8d2,_0x32623a,_0x35514d,_0x4e0c03;const _0x5ad484=function(_0x3a57c7,_0x5288d0,_0x5f3fe1){const _0x17e8dd=_0x4d3cd6;if(_0x3a57c7['length']!=_0x5288d0)return![];for(let _0x4b259a=0x0;_0x4b259a<_0x5288d0;_0x4b259a++){for(let _0x32beb9=0x0;_0x32beb9<_0x5f3fe1[_0x17e8dd(0x1c4)];_0x32beb9+=0x2){if(_0x4b259a==_0x5f3fe1[_0x32beb9]&&_0x3a57c7['charCodeAt'](_0x4b259a)!=_0x5f3fe1[_0x32beb9+0x1])return![];}}return!![];},_0x15ebeb=function(_0x507552,_0x4ea154,_0x11be2d){return _0x5ad484(_0x4ea154,_0x11be2d,_0x507552);},_0x13b677=function(_0x71d87a,_0x3a482b,_0xb22063){return _0x15ebeb(_0x3a482b,_0x71d87a,_0xb22063);},_0x1eeff1=function(_0x5038c3,_0x4d1334,_0x365d49){return _0x13b677(_0x4d1334,_0x365d49,_0x5038c3);};for(let _0x2acb5c in _0xf82b1b){if(_0x5ad484(_0x2acb5c,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x58c8d2=_0x2acb5c;break;}}for(let _0x36f971 in _0xf82b1b[_0x58c8d2]){if(_0x1eeff1(0x6,_0x36f971,[0x5,0x6e,0x0,0x64])){_0x32623a=_0x36f971;break;}}for(let _0x35f6cc in _0xf82b1b[_0x58c8d2]){if(_0x13b677(_0x35f6cc,[0x7,0x6e,0x0,0x6c],0x8)){_0x35514d=_0x35f6cc;break;}}if(!('~'>_0x32623a))for(let _0xb4644f in _0xf82b1b[_0x58c8d2][_0x35514d]){if(_0x15ebeb([0x7,0x65,0x0,0x68],_0xb4644f,0x8)){_0x4e0c03=_0xb4644f;break;}}if(!_0x58c8d2||!_0xf82b1b[_0x58c8d2])return;const _0x5e9871=_0xf82b1b[_0x58c8d2][_0x32623a],_0x4fe6bc=!!_0xf82b1b[_0x58c8d2][_0x35514d]&&_0xf82b1b[_0x58c8d2][_0x35514d][_0x4e0c03],_0x7eef4a=_0x5e9871||_0x4fe6bc;if(!_0x7eef4a)return;let _0x22621f=![];for(let _0x4f1c4b=0x0;_0x4f1c4b<_0x286a04[_0x4d3cd6(0x1c4)];_0x4f1c4b++){const _0x512c50=_0x286a04[_0x4f1c4b],_0x3a730e=_0x512c50[0x0]===String['fromCharCode'](0x2e)?_0x512c50[_0x4d3cd6(0x1bc)](0x1):_0x512c50,_0x368d05=_0x7eef4a[_0x4d3cd6(0x1c4)]-_0x3a730e[_0x4d3cd6(0x1c4)],_0x44e97d=_0x7eef4a['indexOf'](_0x3a730e,_0x368d05),_0x113de5=_0x44e97d!==-0x1&&_0x44e97d===_0x368d05;_0x113de5&&((_0x7eef4a[_0x4d3cd6(0x1c4)]==_0x512c50[_0x4d3cd6(0x1c4)]||_0x512c50[_0x4d3cd6(0x245)]('.')===0x0)&&(_0x22621f=!![]));}if(!_0x22621f){const _0x156baf=new RegExp(_0x4d3cd6(0x1e6),'g'),_0x188988=_0x4d3cd6(0x1be)['replace'](_0x156baf,'');_0xf82b1b[_0x58c8d2][_0x35514d]=_0x188988;}});return _0x59418d(),document['getElementById'](_0x470224);}var fpsDiv=id(_0x101bc6(0x1ea));setInterval(function(){const _0x2d601b=_0x101bc6;fpsDiv[_0x2d601b(0x193)]=_0x2d601b(0x1c1)+fps,fpsDiv[_0x2d601b(0x193)]+=_0x2d601b(0x233)+DTR['toPrecision'](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0xbe6a29=_0x101bc6;this['x']=Math[_0xbe6a29(0x1aa)]()*0x8-0x4|0x0,this['y']=Math[_0xbe6a29(0x1aa)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x5bdf02=_0x101bc6;this['x']=0x0,this['y']=0x0,this[_0x5bdf02(0x203)]=0x0,this[_0x5bdf02(0x212)]=0x0,this['xRel']=0x0,this[_0x5bdf02(0x213)]=0x0,this[_0x5bdf02(0x1e3)]=!![],this[_0x5bdf02(0x1ba)]=!![],this['friendly']=!![],this['lengthX']=0x0,this['lengthY']=0x0,this[_0x5bdf02(0x1c5)]=0x1,this['color']=0x0,this[_0x5bdf02(0x1cf)]=[_0x5bdf02(0x1e4),_0x5bdf02(0x1a1)],this[_0x5bdf02(0x1cb)]={'x':0x0,'y':0x0};}[_0x101bc6(0x198)](){const _0x36fded=_0x101bc6;Math[_0x36fded(0x1e0)](this[_0x36fded(0x212)]*0x3)>Math[_0x36fded(0x1e0)](this['lengthX'])&&(this[_0x36fded(0x195)]=this[_0x36fded(0x212)]*0x3,this['lengthY']=this[_0x36fded(0x203)]*0x3),this[_0x36fded(0x1cb)]['x']=this['x']+this[_0x36fded(0x195)],this[_0x36fded(0x1cb)]['y']=this['y']+this['lengthY'],c[_0x36fded(0x1d1)](this['x']+map['x'],this['y']+map['y']),c[_0x36fded(0x1e9)](this['x']+this[_0x36fded(0x195)]+map['x'],this['y']+this[_0x36fded(0x1a0)]+map['y']);}['compute'](){const _0x5479df=_0x101bc6;this['x']+=this['xVel']/DTR,this['y']+=this[_0x5479df(0x203)]/DTR;if(getTileData(this['x'],this['y'])[_0x5479df(0x19b)])visualFxs['push'](new Explosion(this['x']+this[_0x5479df(0x212)],this['y']+this['yVel'],this[_0x5479df(0x1a7)])),this[_0x5479df(0x1a7)]==0x2&&(screenShake[_0x5479df(0x206)]=0x5),this[_0x5479df(0x212)]=0x0,this[_0x5479df(0x203)]=0x0,this[_0x5479df(0x195)]/=0x2,this['lengthY']/=0x2,this['free']=![];else for(let _0x53dacb=monsters['length']-0x1;_0x53dacb>=0x0;_0x53dacb--){let _0x1972f3=monsters[_0x53dacb];!_0x1972f3[_0x5479df(0x1d3)]&&_0x1972f3['collidable']&&((pointSquareCol(this,_0x1972f3)||pointSquareCol(this[_0x5479df(0x1cb)],_0x1972f3))&&(this[_0x5479df(0x1e3)]=![],_0x1972f3[_0x5479df(0x196)]=this['xVel']/0x2,_0x1972f3['yVelExt']=this[_0x5479df(0x203)]/0x2,visualFxs[_0x5479df(0x219)](new Explosion(this['x'],this['y'],this[_0x5479df(0x1a7)])),this[_0x5479df(0x1a7)]==0x2&&(screenShake[_0x5479df(0x206)]=0x5),this[_0x5479df(0x212)]=0x0,this['yVel']=0x0,this[_0x5479df(0x1f0)]=this['x']-_0x1972f3['x'],this[_0x5479df(0x213)]=this['y']-_0x1972f3['y'],_0x1972f3['arrows'][_0x5479df(0x219)](this),_0x1972f3['hp']-=this[_0x5479df(0x1c5)],_0x1972f3[_0x5479df(0x23c)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x5bad8e=_0x101bc6;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x5bad8e(0x203)]=0x0,this[_0x5bad8e(0x212)]=0x0,this[_0x5bad8e(0x1ba)]=!![],this[_0x5bad8e(0x1f5)]=![],this[_0x5bad8e(0x1d0)]=id('sheet'),this[_0x5bad8e(0x1de)]=[0x5],this[_0x5bad8e(0x1d4)]=[0x18],this[_0x5bad8e(0x23a)]=0x0,this['damage']=0x5;}[_0x101bc6(0x214)](){const _0x1aa552=_0x101bc6;this['x']+=this[_0x1aa552(0x212)]/DTR,this['y']+=this[_0x1aa552(0x203)]/DTR,getTileData(this['x'],this['y'])[_0x1aa552(0x19b)]?(enemyProjectiles['splice'](enemyProjectiles[_0x1aa552(0x245)](this),0x1),visualFxs[_0x1aa552(0x219)](new Explosion(this['x']+this['xVel'],this['y']+this[_0x1aa552(0x203)],0x1)),this['xVel']=0x0,this[_0x1aa552(0x203)]=0x0,this[_0x1aa552(0x195)]/=0x2,this[_0x1aa552(0x1a0)]/=0x2,this[_0x1aa552(0x1ba)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x1aa552(0x1c7)](enemyProjectiles[_0x1aa552(0x245)](this),0x1),player['xVelExt']+=this['xVel']/0x2,player['yVelExt']+=this[_0x1aa552(0x203)]/0x2,player['hp']-=this['damage'],visualFxs[_0x1aa552(0x219)](new Explosion(this['x'],this['y'],0x1)),screenShake['counter']=0x5);}[_0x101bc6(0x198)](){const _0x57983a=_0x101bc6;c['drawImage'](this[_0x57983a(0x1d0)],this[_0x57983a(0x1de)][this[_0x57983a(0x23a)]]*TILESIZE,this[_0x57983a(0x1d4)][this[_0x57983a(0x23a)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x8008cb,_0x2f737a,_0x37c12e){const _0x521305=_0x101bc6;this[_0x521305(0x1d0)]=id(_0x521305(0x1d0)),this['x']=_0x8008cb-0x10,this['y']=_0x2f737a-0x10,this['w']=0x20,this['h']=0x20,this[_0x521305(0x194)]=0x0,this[_0x521305(0x23d)]=0x0,this['action']=_0x37c12e-0x1,this[_0x521305(0x1de)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x521305(0x1d4)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this[_0x521305(0x201)]=0x4,this[_0x521305(0x19f)]=![];}[_0x101bc6(0x198)](){const _0x406a35=_0x101bc6;c[_0x406a35(0x1ed)](this[_0x406a35(0x1d0)],this[_0x406a35(0x1de)][this[_0x406a35(0x1f4)]][this[_0x406a35(0x23d)]],this[_0x406a35(0x1d4)][this[_0x406a35(0x1f4)]][this['currentFrame']],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this[_0x406a35(0x194)]++,this[_0x406a35(0x194)]>this['slowness']*DTR&&(this['frameCounter']=0x0,this[_0x406a35(0x23d)]++,this['currentFrame']>this[_0x406a35(0x1de)][this['action']][_0x406a35(0x1c4)]-0x1&&(this[_0x406a35(0x19f)]=!![]));}}function _0x4296(){const _0x4d504f=['canvas','splice','drawBow','<br>mouseTile\x20pos\x20=\x20','attack','points','yVelExt','stroke','keydown','colors','sheet','moveTo','279sodvqN','dead','actionY','json','hole','onclick','layout','bow','globalAlpha','hp-bar','arrowCD','<br>mouseTile.x\x20=\x20','actionX','cos','abs','portrait','261570ayITEB','active','#8b5851','195406WrrqMN','[fAysgHhfZwOdWMZKLMEwFRSBpwYXfp]','height','arrowSpeed','lineTo','FPS','replace','checkCollisions','drawImage','style','left','xRel','arrowsArr','center','attacked','action','friendly','fillStyle','ui-sheet','rClick','mpBar','split','justShot','framecounter','maxMp','2340960OjGKLy','tiles','atkBox','slowness','arrowCounter','yVel','crop','speed','counter','sword-vfx','set','./Archer.json','arrowsCount','name','1676635duVlgO','textAlign','properties','imageSmoothingEnabled','swordImg','offsetLeft','xVel','yRel','compute','hypot','maxHp','<br>player.y\x20=\x20','shoot','push','round','innerWidth','hpBar','button','1550591aMpGDy','precision','restore','now','Obstacle','Empty','path','lClick','keyCode','6jEVOon','createGrid','radiansP','sin','font','rotate','preventDefault','followPlayer','col','735098AhuHnA','sort','arrow','<br>DTR:\x20','top','vfxY','projSpeed','oncontextmenu','apply','justDied','type','log','justDamaged','currentFrame','critChance','unpassable','grass','addEventListener','clearRect','lineWidth','Goal','indexOf','closePath','innerHTML','frameCounter','lengthX','xVelExt','headY','draw','vfxX','24uRmjlr','solid','collidable','computeQuiver','arrows','ended','lengthY','#ff8db5','attacking','atan2','getContext','#2f4447','centerY','color','width','saUpaHntoXSnaJnzdyreV.IgqUzivBtPhXTub.LiCfop;YMlSNpHocIalhoUswtyjkXOLpLKYvNNITKPMvFKmZPHvjVKUTykNETMkIJ','random','clientX','beginPath','strokeStyle','translate','1777724FQmVly','mousemove','noArrows','then','fillText','mousedown','hitbox','black','#ff0000','save','return\x20(function()\x20','free','pos','slice','sword','faAbouytsg:blanHhfkZwOdWMZKLMEwFRSBpwYXfp','hasOwnProperty','player','FPS:\x20','mouseup','radians','length','damage'];_0x4296=function(){return _0x4d504f;};return _0x4296();}class Collidable{constructor(){}['checkCollisions'](){const _0x5ca298=_0x101bc6;let _0x2706f8;this['col']['T']=0x0,this[_0x5ca298(0x22f)]['B']=0x0,this['col']['L']=0x0,this['col']['R']=0x0,getTileData(this['x'],this['y'])['unpassable']&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x2706f8=colCheck(this,generatedSquare),this['x']+=(this[_0x5ca298(0x22f)]['L']-this[_0x5ca298(0x22f)]['R'])/0x5/DTR,this['y']+=(this[_0x5ca298(0x22f)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])['unpassable']&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x2706f8=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x5ca298(0x22f)]['R'])/0x5/DTR,this['y']+=(this[_0x5ca298(0x22f)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x5ca298(0x23f)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x2706f8=colCheck(this,generatedSquare),this['x']+=(this[_0x5ca298(0x22f)]['L']-this[_0x5ca298(0x22f)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x5ca298(0x22f)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x5ca298(0x23f)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x2706f8=colCheck(this,generatedSquare),this['x']+=(this[_0x5ca298(0x22f)]['L']-this[_0x5ca298(0x22f)]['R'])/0x5/DTR,this['y']+=(this[_0x5ca298(0x22f)]['T']-this['col']['B'])/0x5/DTR),this[_0x5ca298(0x22f)]['B']&&(this[_0x5ca298(0x1cc)]>0x0&&(this[_0x5ca298(0x1cc)]*=-0.5)),this[_0x5ca298(0x22f)]['T']&&(this[_0x5ca298(0x1cc)]<0x0&&(this[_0x5ca298(0x1cc)]*=-0.5)),this[_0x5ca298(0x22f)]['R']&&(this['xVelExt']>0x0&&(this[_0x5ca298(0x196)]*=-0.5)),this[_0x5ca298(0x22f)]['L']&&(this['xVelExt']<0x0&&(this['xVelExt']*=-0.5));}}function _0x181c(_0x5ac5b9,_0x4fc659){const _0x1205bd=_0x4296();return _0x181c=function(_0x2eab2a,_0x4dd549){_0x2eab2a=_0x2eab2a-0x193;let _0x55b746=_0x1205bd[_0x2eab2a];return _0x55b746;},_0x181c(_0x5ac5b9,_0x4fc659);}class Player extends Collidable{constructor(_0x482594,_0x1e19ca){const _0x191f52=_0x101bc6;super(Collidable),this['x']=_0x482594,this['y']=_0x1e19ca,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x191f52(0x205)]=0x3,this[_0x191f52(0x203)]=0x0,this[_0x191f52(0x212)]=0x0,this['yVelExt']=0x0,this[_0x191f52(0x196)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x191f52(0x1e8)]=0xa,this['centerX']=0x0,this['centerY']=0x0,this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x191f52(0x1de)]=[0x0,0x20,0x40],this[_0x191f52(0x1d4)]=[0x0,0x0,0x0],this['action']=0x0,this[_0x191f52(0x194)]=0x0,this[_0x191f52(0x201)]=0x6,this[_0x191f52(0x1c3)]=0x0,this[_0x191f52(0x1bd)]=![],this['precision']=0x14,this['noArrows']=0x0,this[_0x191f52(0x1f3)]=0x0,this[_0x191f52(0x1f1)]=[0x1,0x1,0x1,0x1,0x1],this[_0x191f52(0x1dc)]=0x3c,this[_0x191f52(0x202)]=0x0,this[_0x191f52(0x20a)]=0x4,this['hp']=0x64,this['maxHp']=0x64,this['mp']=0x64,this[_0x191f52(0x1fd)]=0x64,this[_0x191f52(0x23e)]=0.25,this['bow']={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}['computeQuiver'](){const _0x4a8663=_0x101bc6;let _0x147732=!![],_0x38cb19;for(_0x38cb19=0x0;_0x38cb19<this[_0x4a8663(0x1f1)]['length'];_0x38cb19++){if(this[_0x4a8663(0x1f1)][_0x38cb19]===0x0){_0x147732=![];break;}}this[_0x4a8663(0x20a)]=_0x38cb19;if(!_0x147732){this['arrowCounter']++;if(this['arrowCounter']>this[_0x4a8663(0x1dc)]*DTR)for(_0x38cb19=0x0;_0x38cb19<this[_0x4a8663(0x1f1)][_0x4a8663(0x1c4)];_0x38cb19++){if(this[_0x4a8663(0x1f1)][_0x38cb19]===0x0){Math['random']()<this[_0x4a8663(0x23e)]?this[_0x4a8663(0x1f1)][_0x38cb19]=0x2:this[_0x4a8663(0x1f1)][_0x38cb19]=0x1;this[_0x4a8663(0x202)]=0x0;break;}}}else this['arrowCounter']=0x0;}[_0x101bc6(0x214)](){const _0x491442=_0x101bc6;this[_0x491442(0x19d)](),this['centerX']=this['x']+this['w']/0x2,this[_0x491442(0x1a6)]=this['y']+this['h']/0x2,this[_0x491442(0x1ec)]();Math[_0x491442(0x1e0)](this['xVelExt'])>0.01?this[_0x491442(0x196)]-=this['xVelExt']*0.1/DTR:this[_0x491442(0x196)]=0x0;Math[_0x491442(0x1e0)](this['yVelExt'])>0.01?this[_0x491442(0x1cc)]-=this[_0x491442(0x1cc)]*0.1/DTR:this[_0x491442(0x1cc)]=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this['speed']=0x2:this[_0x491442(0x205)]=0x3;this[_0x491442(0x1c3)]=Math[_0x491442(0x1a3)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x491442(0x212)]=-this[_0x491442(0x205)];else!this['R']&&(this['xVel']=0x0);if(this['R'])this[_0x491442(0x212)]=this['speed'];else!this['L']&&(this[_0x491442(0x212)]=0x0);if(this['T'])this[_0x491442(0x203)]=-this[_0x491442(0x205)];else!this['B']&&(this[_0x491442(0x203)]=0x0);if(this['B'])this[_0x491442(0x203)]=this['speed'];else!this['T']&&(this[_0x491442(0x203)]=0x0);this['x']+=(this[_0x491442(0x212)]+this[_0x491442(0x196)])/DTR,this['y']+=(this[_0x491442(0x203)]+this[_0x491442(0x1cc)])/DTR;}[_0x101bc6(0x198)](){const _0x3b455b=_0x101bc6;this[_0x3b455b(0x212)]===0x0&&this[_0x3b455b(0x203)]===0x0?this[_0x3b455b(0x1f4)]=0x0:(this[_0x3b455b(0x194)]++,this[_0x3b455b(0x194)]>=this[_0x3b455b(0x201)]*DTR&&(this[_0x3b455b(0x1f4)]++,this[_0x3b455b(0x194)]=0x0,this[_0x3b455b(0x1f4)]>=this[_0x3b455b(0x1de)][_0x3b455b(0x1c4)]&&(this[_0x3b455b(0x1f4)]=0x0))),c[_0x3b455b(0x1b8)](),c[_0x3b455b(0x1ae)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x3b455b(0x22c)](this[_0x3b455b(0x1c3)]),c[_0x3b455b(0x1ed)](id(_0x3b455b(0x1c0)),this[_0x3b455b(0x1de)][this['action']],this[_0x3b455b(0x1d4)][this[_0x3b455b(0x1f4)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c['restore'](),this[_0x3b455b(0x1b1)]&&(c[_0x3b455b(0x1ed)](id(_0x3b455b(0x1d0)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x3b455b(0x1b1)]--),this[_0x3b455b(0x1d9)]['active']&&this[_0x3b455b(0x1c8)]();}[_0x101bc6(0x1c8)](){const _0x10f8ad=_0x101bc6;this[_0x10f8ad(0x1d9)][_0x10f8ad(0x194)]++,this[_0x10f8ad(0x1d9)][_0x10f8ad(0x194)]>=this[_0x10f8ad(0x1d9)][_0x10f8ad(0x201)]*DTR&&(this['bow']['action']++,this[_0x10f8ad(0x1d9)][_0x10f8ad(0x194)]=0x0,this[_0x10f8ad(0x1d9)][_0x10f8ad(0x1e3)]>=this['bow'][_0x10f8ad(0x1de)][_0x10f8ad(0x1c4)]&&(this['bow'][_0x10f8ad(0x1e3)]=![])),c['save'](),c[_0x10f8ad(0x1ae)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c['rotate'](this[_0x10f8ad(0x1c3)]),c[_0x10f8ad(0x1ed)](id(_0x10f8ad(0x1d9)),this[_0x10f8ad(0x1d9)]['actionX'][this[_0x10f8ad(0x1d9)][_0x10f8ad(0x1f4)]],this[_0x10f8ad(0x1d9)][_0x10f8ad(0x1d4)][this[_0x10f8ad(0x1d9)][_0x10f8ad(0x1f4)]],0x30,0x30,-this[_0x10f8ad(0x1d9)]['w']/0x2,-this[_0x10f8ad(0x1d9)]['h'],this[_0x10f8ad(0x1d9)]['w'],this[_0x10f8ad(0x1d9)]['h']),c[_0x10f8ad(0x220)]();}[_0x101bc6(0x218)](){const _0xcf1603=_0x101bc6;this[_0xcf1603(0x1d9)]['active']=!![],this[_0xcf1603(0x1d9)][_0xcf1603(0x194)]=0x0,this[_0xcf1603(0x1d9)][_0xcf1603(0x23d)]=0x0,this[_0xcf1603(0x1d9)][_0xcf1603(0x1f4)]=0x0;let _0x2ceb60=this['x']+this['w']/0x2,_0x50d9cf=this['y']+this['h']/0x2,_0x239673=Mouse['x']-_0x2ceb60+Math[_0xcf1603(0x1aa)]()*this[_0xcf1603(0x21f)]-this[_0xcf1603(0x21f)]/0x2,_0x2952d2=Mouse['y']-_0x50d9cf+Math[_0xcf1603(0x1aa)]()*this['precision']-this['precision']/0x2,_0x4acadc=Math[_0xcf1603(0x1a3)](_0x2952d2,_0x239673),_0x3d6cd8=Math[_0xcf1603(0x1df)](_0x4acadc),_0x52a726=Math[_0xcf1603(0x22a)](_0x4acadc),_0x1768bd=new Projectile();_0x1768bd[_0xcf1603(0x212)]=_0x3d6cd8*this['arrowSpeed'],_0x1768bd['yVel']=_0x52a726*this[_0xcf1603(0x1e8)],_0x1768bd['x']=_0x2ceb60,_0x1768bd['y']=_0x50d9cf,_0x1768bd[_0xcf1603(0x1a7)]=this[_0xcf1603(0x1f1)][0x0],playerArrows[_0xcf1603(0x219)](_0x1768bd),this['arrowsArr']['shift'](),this[_0xcf1603(0x1f1)][_0xcf1603(0x219)](0x0);}[_0x101bc6(0x1ca)](){const _0x212dcf=_0x101bc6;if(!sword[_0x212dcf(0x1e3)]){sword[_0x212dcf(0x1e3)]=!![],sword[_0x212dcf(0x229)]=this[_0x212dcf(0x1c3)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x518e42=this['x']+this['w']/0x2,_0x243849=this['y']+this['h']/0x2,_0x1cecf8=returnCosine(Mouse['x'],Mouse['y'],_0x518e42,_0x243849);this['xVelExt']=_0x1cecf8[_0x212dcf(0x1df)]*0xe,this['yVelExt']=_0x1cecf8[_0x212dcf(0x22a)]*0xe;}}}}var player=new Player(CANVAS[_0x101bc6(0x1a8)]/0x2,CANVAS[_0x101bc6(0x1e7)]/0x4*0x3);class UserInterface{constructor(){const _0x25230f=_0x101bc6;this[_0x25230f(0x1d0)]=id(_0x25230f(0x1f7)),this['x']=0x14,this['y']=0x5,this[_0x25230f(0x225)]=![],this[_0x25230f(0x1f8)]=![],this[_0x25230f(0x1f3)]=0x0,this[_0x25230f(0x1d8)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0x25230f(0x1e1)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0x25230f(0x21c)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0x25230f(0x1f9)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x25230f(0x1d9)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x25230f(0x1bd)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x25230f(0x232)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this['arrowsArr']=[0x1,0x1,0x1,0x1];}[_0x101bc6(0x198)](){const _0x319460=_0x101bc6;this[_0x319460(0x225)]&&(c[_0x319460(0x1da)]=0.5);c[_0x319460(0x1ed)](this[_0x319460(0x1d0)],this[_0x319460(0x1d9)]['crop']['x'],this[_0x319460(0x1d9)]['crop']['y'],this['bow'][_0x319460(0x204)]['w'],this[_0x319460(0x1d9)][_0x319460(0x204)]['h'],this['bow'][_0x319460(0x1bb)]['x'],this['bow']['pos']['y'],this['bow'][_0x319460(0x204)]['w'],this[_0x319460(0x1d9)]['crop']['h']);this[_0x319460(0x225)]&&(c[_0x319460(0x1da)]=0x1);this[_0x319460(0x1f8)]&&(c[_0x319460(0x1da)]=0.5);c[_0x319460(0x1ed)](this['sheet'],this[_0x319460(0x1bd)][_0x319460(0x204)]['x'],this[_0x319460(0x1bd)][_0x319460(0x204)]['y'],this['sword'][_0x319460(0x204)]['w'],this['sword'][_0x319460(0x204)]['h'],this[_0x319460(0x1bd)]['pos']['x'],this['sword'][_0x319460(0x1bb)]['y'],this[_0x319460(0x1bd)][_0x319460(0x204)]['w'],this['sword'][_0x319460(0x204)]['h']);this['rClick']&&(c['globalAlpha']=0x1);c[_0x319460(0x1ed)](this[_0x319460(0x1d0)],this[_0x319460(0x1d8)][_0x319460(0x204)]['x'],this[_0x319460(0x1d8)]['crop']['y'],this[_0x319460(0x1d8)][_0x319460(0x204)]['w'],this['layout'][_0x319460(0x204)]['h'],this[_0x319460(0x1d8)][_0x319460(0x1bb)]['x']+this['x'],this['layout'][_0x319460(0x1bb)]['y']+this['y'],this['layout'][_0x319460(0x204)]['w'],this[_0x319460(0x1d8)][_0x319460(0x204)]['h']),c[_0x319460(0x1ed)](this[_0x319460(0x1d0)],this['portrait'][_0x319460(0x204)][player[_0x319460(0x1f3)]]['x'],this[_0x319460(0x1e1)][_0x319460(0x204)][player[_0x319460(0x1f3)]]['y'],this['portrait'][_0x319460(0x204)][player[_0x319460(0x1f3)]]['w'],this['portrait'][_0x319460(0x204)][player[_0x319460(0x1f3)]]['h'],this[_0x319460(0x1e1)][_0x319460(0x1bb)]['x']+this['x'],this[_0x319460(0x1e1)]['pos']['y']+this['y'],this[_0x319460(0x1e1)]['crop'][player[_0x319460(0x1f3)]]['w'],this['portrait'][_0x319460(0x204)][player[_0x319460(0x1f3)]]['h']),c['drawImage'](this[_0x319460(0x1d0)],this[_0x319460(0x21c)][_0x319460(0x204)]['x'],this[_0x319460(0x21c)][_0x319460(0x204)]['y'],this[_0x319460(0x21c)]['crop']['w'],this[_0x319460(0x21c)][_0x319460(0x204)]['h'],this[_0x319460(0x21c)][_0x319460(0x1bb)]['x']+this['x'],this[_0x319460(0x21c)][_0x319460(0x1bb)]['y']+this['y'],this['hpBar']['crop']['w']/player[_0x319460(0x216)]*player['hp'],this[_0x319460(0x21c)]['crop']['h']),c['drawImage'](this['sheet'],this[_0x319460(0x1f9)][_0x319460(0x204)]['x'],this['mpBar'][_0x319460(0x204)]['y'],this[_0x319460(0x1f9)]['crop']['w'],this['mpBar'][_0x319460(0x204)]['h'],this['mpBar'][_0x319460(0x1bb)]['x']+this['x'],this['mpBar'][_0x319460(0x1bb)]['y']+this['y'],this['mpBar'][_0x319460(0x204)]['w'],this[_0x319460(0x1f9)][_0x319460(0x204)]['h']);for(let _0x16fe1e=0x0;_0x16fe1e<player[_0x319460(0x1f1)]['length'];_0x16fe1e++){c[_0x319460(0x1ed)](this['sheet'],this[_0x319460(0x232)][_0x319460(0x204)][player[_0x319460(0x1f1)][_0x16fe1e]]['x'],this[_0x319460(0x232)][_0x319460(0x204)][player[_0x319460(0x1f1)][_0x16fe1e]]['y'],this[_0x319460(0x232)]['crop'][player['arrowsArr'][_0x16fe1e]]['w'],this[_0x319460(0x232)][_0x319460(0x204)][player[_0x319460(0x1f1)][_0x16fe1e]]['h'],this[_0x319460(0x232)][_0x319460(0x1bb)]['x']+this['x']-0xa*_0x16fe1e,this[_0x319460(0x232)][_0x319460(0x1bb)]['y']+this['y'],this[_0x319460(0x232)]['crop'][player[_0x319460(0x1f1)][_0x16fe1e]]['w'],this[_0x319460(0x232)][_0x319460(0x204)][player[_0x319460(0x1f1)][_0x16fe1e]]['h']);}c[_0x319460(0x22b)]='14px\x20Arial',c[_0x319460(0x20d)]=_0x319460(0x1f2),c[_0x319460(0x1f6)]=_0x319460(0x1a5),c[_0x319460(0x1b3)](player[_0x319460(0x20a)]+'/'+player[_0x319460(0x1f1)][_0x319460(0x1c4)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x24ac88=_0x101bc6;let _0x2e90a7=player['x']+player['w']/0x2,_0x3921c6=player['y']+player['h']/0x2,_0x1eb77a=_0x2e90a7,_0x4bd3db=_0x3921c6,_0x316855=![],_0x5e1be8=0x0,_0x396b0e=returnCosine(_0x2e90a7,_0x3921c6,Mouse['x'],Mouse['y']),_0x2a716f=[],_0x261922={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x1d92f2={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x1c266a=0x4,_0xc13971={'x':0x0,'y':0x0};while(!_0x316855&&_0x5e1be8<CANVAS[_0x24ac88(0x1a8)]*0x2/_0x1c266a){_0x1eb77a-=_0x396b0e['cos']*_0x1c266a,_0x4bd3db-=_0x396b0e['sin']*_0x1c266a;getTileData(_0x1eb77a,_0x4bd3db)['solid']&&(_0x261922=getTileData(_0x1eb77a,_0x4bd3db)[_0x24ac88(0x1b5)],_0x1d92f2['x']=_0x261922['x'],_0x1d92f2['y']=_0x261922['y'],_0x1d92f2['w']=_0x261922['w'],_0x1d92f2['h']=_0x261922['h'],_0x1d92f2['x']+=_0x1eb77a-_0x1eb77a%TILESIZE,_0x1d92f2['y']+=_0x4bd3db-_0x4bd3db%TILESIZE,_0x316855=!![]);_0xc13971['x']=_0x1eb77a,_0xc13971['y']=_0x4bd3db;for(let _0x592e97=0x0;_0x592e97<monsters[_0x24ac88(0x1c4)];_0x592e97++){if(!monsters[_0x592e97][_0x24ac88(0x1d3)]&&pointSquareCol(_0xc13971,monsters[_0x592e97])){_0x1d92f2['x']=monsters[_0x592e97]['x'],_0x1d92f2['y']=monsters[_0x592e97]['y'],_0x1d92f2['w']=monsters[_0x592e97]['w'],_0x1d92f2['h']=monsters[_0x592e97]['h'],_0x316855=!![];break;}}_0x5e1be8++;}_0x2a716f=getRectSides(_0x1d92f2);let _0xa8d1c2=[],_0x1fa6f8={},_0x2c3c19;for(let _0x53f796=0x0;_0x53f796<_0x2a716f[_0x24ac88(0x1c4)];_0x53f796++){_0x1fa6f8=intersect(_0x2e90a7,_0x3921c6,_0x1eb77a,_0x4bd3db,_0x2a716f[_0x53f796]['x1'],_0x2a716f[_0x53f796]['y1'],_0x2a716f[_0x53f796]['x2'],_0x2a716f[_0x53f796]['y2']),_0x1fa6f8&&_0xa8d1c2['push'](_0x1fa6f8);}let _0x3ba8de=Math[_0x24ac88(0x215)](_0x2e90a7-_0x1eb77a,_0x3921c6-_0x4bd3db),_0x59fdd1=_0x1eb77a,_0x5a199c=_0x1eb77a;for(let _0xe1185=0x0;_0xe1185<_0xa8d1c2[_0x24ac88(0x1c4)];_0xe1185++){_0x2c3c19=Math[_0x24ac88(0x215)](_0x2e90a7-_0x1eb77a,_0x3921c6-_0x4bd3db),_0x2c3c19<_0x3ba8de&&(_0x3ba8de=_0x2c3c19,_0x59fdd1=_0xa8d1c2[_0xe1185]['x'],_0x5a199c=_0xa8d1c2[_0xe1185]['y']);}c[_0x24ac88(0x1ad)]=_0x24ac88(0x1b7),c[_0x24ac88(0x1ac)](),c[_0x24ac88(0x1d1)](_0x2e90a7+map['x'],_0x3921c6+map['y']),c[_0x24ac88(0x1e9)](_0x1eb77a+map['x'],_0x4bd3db+map['y']),c[_0x24ac88(0x1cd)](),c[_0x24ac88(0x1ad)]=_0x24ac88(0x1b6);}function isObstructed(_0x5a1239,_0x264676){const _0x1b4356=_0x101bc6;let _0x3285f3=_0x5a1239['x']+_0x5a1239['w']/0x2,_0x5f4cb9=_0x5a1239['y']+_0x5a1239['h']/0x2,_0x271409=_0x264676['x']+_0x264676['w']/0x2,_0x430b49=_0x264676['y']+_0x264676['h']/0x2,_0x4943ac=Math[_0x1b4356(0x215)](_0x3285f3-_0x271409,_0x5f4cb9-_0x430b49),_0x249912=_0x3285f3,_0x283cd6=_0x5f4cb9,_0x5af65f=![],_0x5da8e6=0x0,_0x11b344=returnCosine(_0x3285f3,_0x5f4cb9,_0x271409,_0x430b49),_0x3ff96d=[],_0x4dda4f={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x5ec2bf={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x353fa0=0x3,_0x443cf4={'x':0x0,'y':0x0};while(!_0x5af65f&&_0x5da8e6<_0x4943ac/_0x353fa0){_0x249912-=_0x11b344['cos']*_0x353fa0,_0x283cd6-=_0x11b344['sin']*_0x353fa0;if(getTileData(_0x249912,_0x283cd6)[_0x1b4356(0x19b)])return _0x4dda4f=getTileData(_0x249912,_0x283cd6)['hitbox'],_0x5ec2bf['x']=_0x4dda4f['x'],_0x5ec2bf['y']=_0x4dda4f['y'],_0x5ec2bf['w']=_0x4dda4f['w'],_0x5ec2bf['h']=_0x4dda4f['h'],_0x5ec2bf['x']+=_0x249912-_0x249912%TILESIZE,_0x5ec2bf['y']+=_0x283cd6-_0x283cd6%TILESIZE,!![];_0x443cf4['x']=_0x249912,_0x443cf4['y']=_0x283cd6;if(pointSquareCol(_0x443cf4,_0x264676))return![];_0x5da8e6++;}}function getRectSides(_0x5b69a1){const _0x55628d=_0x101bc6;let _0x38afcc=[];return _0x38afcc[_0x55628d(0x219)]({'x1':_0x5b69a1['x'],'y1':_0x5b69a1['y'],'x2':_0x5b69a1['x']+_0x5b69a1['w'],'y2':_0x5b69a1['y']}),_0x38afcc[_0x55628d(0x219)]({'x1':_0x5b69a1['x']+_0x5b69a1['w'],'y1':_0x5b69a1['y'],'x2':_0x5b69a1['x']+_0x5b69a1['w'],'y2':_0x5b69a1['y']+_0x5b69a1['h']}),_0x38afcc[_0x55628d(0x219)]({'x1':_0x5b69a1['x']+_0x5b69a1['w'],'y1':_0x5b69a1['y']+_0x5b69a1['h'],'x2':_0x5b69a1['x'],'y2':_0x5b69a1['y']+_0x5b69a1['h']}),_0x38afcc[_0x55628d(0x219)]({'x1':_0x5b69a1['x'],'y1':_0x5b69a1['y']+_0x5b69a1['h'],'x2':_0x5b69a1['x'],'y2':_0x5b69a1['y']}),_0x38afcc;}function init(){const _0x49e0a3=_0x101bc6;let _0x28ce28,_0x41610c={};fetch(_0x49e0a3(0x209))['then'](function(_0x50c3a3){const _0x4eaf74=_0x49e0a3;return _0x50c3a3[_0x4eaf74(0x1d5)]();})[_0x49e0a3(0x1b2)](function(_0x2d1062){const _0x3a93eb=_0x49e0a3;_0x28ce28=_0x2d1062[_0x3a93eb(0x1ff)];for(let _0x560a92=0x0;_0x560a92<_0x28ce28[_0x3a93eb(0x1c4)];_0x560a92++){_0x41610c={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x41610c['id']=_0x28ce28[_0x560a92]['id'];if(_0x28ce28[_0x560a92][_0x3a93eb(0x1bf)](_0x3a93eb(0x20e)))for(let _0x1df1c0=0x0;_0x1df1c0<_0x28ce28[_0x560a92][_0x3a93eb(0x20e)][_0x3a93eb(0x1c4)];_0x1df1c0++){if(_0x28ce28[_0x560a92][_0x3a93eb(0x20e)][_0x1df1c0])switch(_0x28ce28[_0x560a92][_0x3a93eb(0x20e)][_0x1df1c0][_0x3a93eb(0x20b)]){case _0x3a93eb(0x1d6):_0x41610c[_0x3a93eb(0x1d6)]=!![],_0x41610c[_0x3a93eb(0x23f)]=!![];break;case'solid':_0x41610c[_0x3a93eb(0x19b)]=!![],_0x41610c[_0x3a93eb(0x23f)]=!![];break;}}TilesData['push'](_0x41610c);}loop();});}init();var HP_BAR=id(_0x101bc6(0x1db));function renderHpBars(){const _0x2fa42e=_0x101bc6;for(let _0xc55294=0x0;_0xc55294<monsters[_0x2fa42e(0x1c4)];_0xc55294++){if(monsters[_0xc55294]['dead'])continue;let _0x36bcb5=monsters[_0xc55294]['hp']/monsters[_0xc55294][_0x2fa42e(0x216)],_0x29763a=Math[_0x2fa42e(0x21a)](TILESIZE*_0x36bcb5);c['drawImage'](HP_BAR,0x0,0x4,_0x29763a,0x4,monsters[_0xc55294]['x']+monsters[_0xc55294]['w']/0x2-0x10+map['x']|0x0,monsters[_0xc55294]['y']-0x8+map['y']|0x0,_0x29763a|0x0,0x4|0x0),c['drawImage'](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0xc55294]['x']+monsters[_0xc55294]['w']/0x2-0x10+map['x']|0x0,monsters[_0xc55294]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x406972=_0x101bc6;this['width']=0x17,this['height']=0xf,this['x']=0x0,this['y']=0x0,this['tiles']=maps['m1'],this[_0x406972(0x1d0)]=id(_0x406972(0x1d0)),this[_0x406972(0x240)]=id(_0x406972(0x240));}[_0x101bc6(0x198)](){const _0x5369f4=_0x101bc6;for(let _0x30fd57=0x0;_0x30fd57<this[_0x5369f4(0x1ff)][_0x5369f4(0x1c4)];_0x30fd57++){_0x30fd57==0x1&&c[_0x5369f4(0x1ed)](this[_0x5369f4(0x240)],0x0+this['x'],0x0+this['y'],CANVAS[_0x5369f4(0x1a8)],CANVAS['height']);for(let _0x465e7f=0x0;_0x465e7f<this[_0x5369f4(0x1ff)][_0x30fd57][_0x5369f4(0x1c4)];_0x465e7f++){if(this[_0x5369f4(0x1ff)][_0x30fd57][_0x465e7f]===0x0)continue;c[_0x5369f4(0x1ed)](this[_0x5369f4(0x1d0)],(this[_0x5369f4(0x1ff)][_0x30fd57][_0x465e7f]-0x1)%0xf*TILESIZE,((this[_0x5369f4(0x1ff)][_0x30fd57][_0x465e7f]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x465e7f%this['width']*TILESIZE+map['x'],(_0x465e7f/this[_0x5369f4(0x1a8)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x2e905d=_0x101bc6;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x2e905d(0x1c3)]=0x2,this[_0x2e905d(0x229)]=0x0,this['actionX']=[0x0],this[_0x2e905d(0x1d4)]=[0x0],this['vfxX']=[0x0,0x0,0x0,0x0],this[_0x2e905d(0x235)]=[0x0,0x80,0x100,0x180],this[_0x2e905d(0x23d)]=0x0,this[_0x2e905d(0x194)]=0x0,this[_0x2e905d(0x1f4)]=0x0,this[_0x2e905d(0x201)]=0x3,this[_0x2e905d(0x1e3)]=![],this['sheet']=id(_0x2e905d(0x207)),this[_0x2e905d(0x210)]=id(_0x2e905d(0x1bd));}[_0x101bc6(0x214)](){const _0x4aad0f=_0x101bc6;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0xc89323,_0x2291c2,_0x53eac0;for(let _0x1b9fcf=0x0;_0x1b9fcf<monsters['length'];_0x1b9fcf++){if(monsters[_0x1b9fcf]['dead']||!monsters[_0x1b9fcf]['collidable'])continue;_0xc89323=monsters[_0x1b9fcf][_0x4aad0f(0x1b5)]['x']+monsters[_0x1b9fcf][_0x4aad0f(0x1b5)]['w']/0x2,_0x2291c2=monsters[_0x1b9fcf][_0x4aad0f(0x1b5)]['y']+monsters[_0x1b9fcf][_0x4aad0f(0x1b5)]['h']/0x2,_0x53eac0=(monsters[_0x1b9fcf]['w']+monsters[_0x1b9fcf]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0xc89323,_0x2291c2,_0x53eac0)){let _0x119f48=this['x']+this['w']/0x2,_0x13ada4=this['y']+this['h']/0x2,_0x84d6b9=monsters[_0x1b9fcf]['x']-_0x119f48,_0x907212=monsters[_0x1b9fcf]['y']-_0x13ada4,_0x476315=Math[_0x4aad0f(0x1a3)](_0x907212,_0x84d6b9),_0x2b6789=Math['cos'](_0x476315),_0x1d7429=Math[_0x4aad0f(0x22a)](_0x476315);monsters[_0x1b9fcf][_0x4aad0f(0x196)]=_0x2b6789*0xa,monsters[_0x1b9fcf][_0x4aad0f(0x1cc)]=_0x1d7429*0xa,monsters[_0x1b9fcf]['hp']-=0.25,monsters[_0x1b9fcf][_0x4aad0f(0x23c)]=0xf;}}}[_0x101bc6(0x198)](){const _0x2b346=_0x101bc6;this[_0x2b346(0x194)]++,this['frameCounter']>this[_0x2b346(0x201)]*DTR&&(this['frameCounter']=0x0,this['currentFrame']++,this[_0x2b346(0x23d)]>=this[_0x2b346(0x199)][_0x2b346(0x1c4)]&&(this[_0x2b346(0x23d)]=0x0)),c[_0x2b346(0x1ed)](this[_0x2b346(0x1d0)],this[_0x2b346(0x199)][this['currentFrame']],this[_0x2b346(0x235)][this[_0x2b346(0x23d)]],0x80,0x40,this['x']-0x40-player['xVelExt']*0x4+map['x'],this['y']-0x40-player[_0x2b346(0x1cc)]*0x4+map['y'],0x80,0x40),c['save'](),c[_0x2b346(0x1ae)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x2b346(0x22c)](this['radiansP']+this['radians']),c[_0x2b346(0x1ed)](this[_0x2b346(0x210)],this[_0x2b346(0x1de)][this[_0x2b346(0x1f4)]],this[_0x2b346(0x1d4)][this[_0x2b346(0x1f4)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x2b346(0x220)](),this[_0x2b346(0x1c3)]-=0.5/DTR,this['radians']<=-0x9&&(this[_0x2b346(0x1e3)]=![],this['radians']=0x2),c['drawImage'](this[_0x2b346(0x1d0)],this[_0x2b346(0x199)][this[_0x2b346(0x23d)]],this['vfxY'][this[_0x2b346(0x23d)]]+0x40,0x80,0x40,this['x']-0x40-player[_0x2b346(0x196)]*0x4+map['x'],this['y']-player[_0x2b346(0x1cc)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x168d29=_0x101bc6;monsters[_0x168d29(0x231)](function(_0x17a8e7,_0x3a31ac){const _0x1dc121=_0x168d29;if(_0x17a8e7[_0x1dc121(0x1d3)]&&!_0x3a31ac[_0x1dc121(0x1d3)])return-0x1;else return!_0x17a8e7[_0x1dc121(0x1d3)]&&_0x3a31ac[_0x1dc121(0x1d3)]?0x1:_0x17a8e7['y']+0xf-_0x3a31ac['y'];});}function adjustCollidingMonsters(){const _0x4aadfa=_0x101bc6;for(let _0x50d5b1=0x0;_0x50d5b1<monsters[_0x4aadfa(0x1c4)];_0x50d5b1++){if(monsters[_0x50d5b1][_0x4aadfa(0x1d3)])continue;monsters[_0x50d5b1][_0x4aadfa(0x22f)]['T']=0x0,monsters[_0x50d5b1][_0x4aadfa(0x22f)]['B']=0x0,monsters[_0x50d5b1]['col']['L']=0x0,monsters[_0x50d5b1]['col']['R']=0x0;for(let _0x2f8220=0x0;_0x2f8220<monsters['length'];_0x2f8220++){if(monsters[_0x2f8220][_0x4aadfa(0x1d3)])continue;if(collided(monsters[_0x50d5b1],monsters[_0x2f8220])){let _0x4eca49=colCheck(monsters[_0x50d5b1],monsters[_0x2f8220]);switch(_0x4eca49){case'l':this[_0x4aadfa(0x212)]<0x0&&(this['xVel']=0x0);break;case'r':this[_0x4aadfa(0x212)]>0x0&&(this[_0x4aadfa(0x212)]=0x0);break;case'b':this['yVel']>0x0&&(this['yVel']=0x0);break;case't':this[_0x4aadfa(0x203)]<0x0&&(this[_0x4aadfa(0x203)]=0x0);break;}monsters[_0x50d5b1][_0x4aadfa(0x212)]+=(monsters[_0x50d5b1][_0x4aadfa(0x22f)]['L']-monsters[_0x50d5b1][_0x4aadfa(0x22f)]['R'])/0x5,monsters[_0x50d5b1]['yVel']+=(monsters[_0x50d5b1][_0x4aadfa(0x22f)]['T']-monsters[_0x50d5b1][_0x4aadfa(0x22f)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x1c126b,_0x2cb16a){const _0x54f60f=_0x101bc6;super(Collidable),this['x']=_0x1c126b,this['y']=_0x2cb16a,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x54f60f(0x212)]=0x0,this[_0x54f60f(0x203)]=0x0,this['xVelExt']=0x0,this[_0x54f60f(0x1cc)]=0x0,this[_0x54f60f(0x205)]=0x2,this[_0x54f60f(0x1ef)]=0x0,this[_0x54f60f(0x239)]=![],this[_0x54f60f(0x23c)]=0x0,this[_0x54f60f(0x1d3)]=![],this[_0x54f60f(0x19e)]=[],this[_0x54f60f(0x216)]=0x3,this['hp']=0x3,this[_0x54f60f(0x194)]=0x0,this[_0x54f60f(0x201)]=0x4,this[_0x54f60f(0x23d)]=0x0,this[_0x54f60f(0x19c)]=!![],this[_0x54f60f(0x1d0)]=id(_0x54f60f(0x1d0)),this[_0x54f60f(0x1f4)]=0x0,this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x54f60f(0x1b5)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this['actionX']=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x54f60f(0x1d4)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x101bc6(0x22e)](){const _0x3d89ed=_0x101bc6;if(this[_0x3d89ed(0x1f4)]!==0x0){let _0x3cb09a=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0xdffaf5=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x27b2e3=_0x3cb09a>0x0?-0x1:0x1,_0x5b4f92=_0xdffaf5>0x0?-0x1:0x1,_0xc7ec34;_0xdffaf5!==0x0?_0xc7ec34=Math['abs'](_0x3cb09a)/(Math['abs'](_0xdffaf5)+Math[_0x3d89ed(0x1e0)](_0x3cb09a)):_0xc7ec34=0x0;this['xVel']=this['speed']*_0xc7ec34*_0x27b2e3,this['yVel']=this['speed']*(0x1-_0xc7ec34)*_0x5b4f92;if(this['x']+this['w']<player['x'])this['left']=![];else player['x']+player['w']<this['x']&&(this[_0x3d89ed(0x1ef)]=!![]);}}['compute'](){const _0xc68057=_0x101bc6;if(!this[_0xc68057(0x1d3)]){this[_0xc68057(0x22e)]();Math[_0xc68057(0x1e0)](this[_0xc68057(0x196)])>0.01?this['xVelExt']*=0.9:this['xVelExt']=0x0;Math['abs'](this['yVelExt'])>0.01?this[_0xc68057(0x1cc)]*=0.9:this[_0xc68057(0x1cc)]=0x0;(this['col']['T']&&this['yVel']<0x0||this[_0xc68057(0x22f)]['B']&&this['yVel']>0x0)&&(this['yVel']=0x0);(this[_0xc68057(0x22f)]['L']&&this[_0xc68057(0x212)]<0x0||this[_0xc68057(0x22f)]['R']&&this[_0xc68057(0x212)]>0x0)&&(this[_0xc68057(0x212)]=0x0);this[_0xc68057(0x1f4)]!==0x0&&(this['left']?this['action']=0x2:this[_0xc68057(0x1f4)]=0x1);this[_0xc68057(0x1ec)](),this['x']+=(this[_0xc68057(0x212)]+this[_0xc68057(0x196)])/DTR,this['y']+=(this[_0xc68057(0x203)]+this[_0xc68057(0x1cc)])/DTR;for(let _0x2c78d3=0x0;_0x2c78d3<this['arrows']['length'];_0x2c78d3++){this['arrows'][_0x2c78d3]['x']=this['x']+this[_0xc68057(0x19e)][_0x2c78d3][_0xc68057(0x1f0)],this[_0xc68057(0x19e)][_0x2c78d3]['y']=this['y']+this[_0xc68057(0x19e)][_0x2c78d3][_0xc68057(0x213)];}this[_0xc68057(0x1b5)]['x']=this['x']+0x6,this[_0xc68057(0x1b5)]['y']=this['y']+0x4,this['hp']<=0x0&&(this['justDied']=!![]),this[_0xc68057(0x239)]&&(this[_0xc68057(0x23c)]=0x0,this[_0xc68057(0x1d3)]=!![],this[_0xc68057(0x1f4)]=0x3,this[_0xc68057(0x194)]=0x0,this['currentFrame']=0x0,this[_0xc68057(0x201)]=0xa);}}[_0x101bc6(0x198)](){const _0x3fc9e5=_0x101bc6;this[_0x3fc9e5(0x194)]++;this[_0x3fc9e5(0x194)]>this[_0x3fc9e5(0x201)]*DTR&&(this['frameCounter']=0x0,this[_0x3fc9e5(0x23d)]++,this[_0x3fc9e5(0x23d)]>=this['actionX'][this['action']][_0x3fc9e5(0x1c4)]&&(this['action']==0x0&&(this[_0x3fc9e5(0x1f4)]=0x1+this[_0x3fc9e5(0x1ef)]),this[_0x3fc9e5(0x23d)]=0x0));this[_0x3fc9e5(0x1f4)]==0x3&&(this[_0x3fc9e5(0x23d)]==this['actionX'][this[_0x3fc9e5(0x1f4)]][_0x3fc9e5(0x1c4)]-0x1&&(this[_0x3fc9e5(0x194)]=0x0));if(!this[_0x3fc9e5(0x1d3)])for(let _0x1b0890=0x0;_0x1b0890<this[_0x3fc9e5(0x19e)]['length'];_0x1b0890++){this[_0x3fc9e5(0x19e)][_0x1b0890]['draw']();}this['justDamaged']>0x0&&(this[_0x3fc9e5(0x1f4)]=0x4,this[_0x3fc9e5(0x23d)]=0x0,this[_0x3fc9e5(0x1fc)]=0x0,this[_0x3fc9e5(0x23c)]-=0x1/DTR),c[_0x3fc9e5(0x1ed)](this['sheet'],this[_0x3fc9e5(0x1de)][this[_0x3fc9e5(0x1f4)]][this[_0x3fc9e5(0x23d)]]*TILESIZE,this[_0x3fc9e5(0x1d4)][this['action']][this[_0x3fc9e5(0x23d)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x534769,_0x2de1d4){const _0x1b9f9c=_0x101bc6;super(Collidable),this['x']=(_0x534769/TILESIZE|0x0)*TILESIZE,this['y']=(_0x2de1d4/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x1b9f9c(0x212)]=0x0,this['yVel']=0x0,this['xVelExt']=0x0,this[_0x1b9f9c(0x1cc)]=0x0,this['speed']=0x2,this[_0x1b9f9c(0x1ef)]=0x0,this['justDied']=![],this[_0x1b9f9c(0x23c)]=0x0,this['dead']=![],this['attacking']=![],this[_0x1b9f9c(0x19e)]=[],this[_0x1b9f9c(0x216)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this['slowness']=0x4,this[_0x1b9f9c(0x23d)]=0x0,this[_0x1b9f9c(0x1d0)]=id(_0x1b9f9c(0x1d0)),this[_0x1b9f9c(0x1f4)]=0x0,this[_0x1b9f9c(0x19c)]=!![],this[_0x1b9f9c(0x224)]=[],this[_0x1b9f9c(0x22f)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x1b9f9c(0x1b5)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0x1b9f9c(0x200)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x1b9f9c(0x1de)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0x1b9f9c(0x1d4)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this[_0x1b9f9c(0x206)]=0x0;}[_0x101bc6(0x22e)](){const _0x3506a3=_0x101bc6;this[_0x3506a3(0x200)]['x']=this['x']-0x5*TILESIZE,this[_0x3506a3(0x200)]['y']=this['y']-0x5*TILESIZE,this[_0x3506a3(0x200)]['w']=0xb*TILESIZE,this['atkBox']['h']=0xb*TILESIZE;if(collided(this['atkBox'],player)){if(this[_0x3506a3(0x1a2)]){if(this[_0x3506a3(0x23d)]==0x0&&this['frameCounter']==0x0){this[_0x3506a3(0x228)]();switch(this[_0x3506a3(0x224)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x3506a3(0x1f4)]!==0x1&&(this['action']=0x1,this[_0x3506a3(0x23d)]=0x0,this[_0x3506a3(0x194)]=0x0);}else this[_0x3506a3(0x1a2)]&&this[_0x3506a3(0x1f4)]!==0x0&&this['action']!==0x2&&(this[_0x3506a3(0x1a2)]=![],this[_0x3506a3(0x19c)]=!![],this['action']=0x2,this[_0x3506a3(0x23d)]=0x0,this['frameCounter']=0x0);}[_0x101bc6(0x214)](){const _0x25bf52=_0x101bc6;this[_0x25bf52(0x22e)](),this[_0x25bf52(0x1b5)]['x']=this['x']+(this['w']-0xe)/0x2,this[_0x25bf52(0x1b5)]['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x83c69f=0x0;_0x83c69f<this[_0x25bf52(0x19e)][_0x25bf52(0x1c4)];_0x83c69f++){this[_0x25bf52(0x19e)][_0x83c69f]['x']=this['x']+this[_0x25bf52(0x19e)][_0x83c69f][_0x25bf52(0x1f0)],this['arrows'][_0x83c69f]['y']=this['y']+this[_0x25bf52(0x19e)][_0x83c69f][_0x25bf52(0x213)];}this['hp']<=0x0&&(this[_0x25bf52(0x239)]=!![]),this[_0x25bf52(0x239)]&&(this[_0x25bf52(0x23c)]=0x0,this[_0x25bf52(0x1d3)]=!![],this[_0x25bf52(0x1f4)]=0x3,this[_0x25bf52(0x194)]=0x0,this['currentFrame']=0x0,this[_0x25bf52(0x201)]=0xa);}[_0x101bc6(0x198)](){const _0x36a4b4=_0x101bc6;this[_0x36a4b4(0x194)]++;this[_0x36a4b4(0x1f4)]==0x4?this[_0x36a4b4(0x201)]=0x3:this[_0x36a4b4(0x201)]=0x5;if(this[_0x36a4b4(0x194)]>this['slowness']*DTR){this['frameCounter']=0x0,this[_0x36a4b4(0x23d)]++;if(this['currentFrame']>=this[_0x36a4b4(0x1de)][this['action']][_0x36a4b4(0x1c4)]){if(this['dead'])this['currentFrame']=this[_0x36a4b4(0x1de)][this[_0x36a4b4(0x1f4)]][_0x36a4b4(0x1c4)]-0x1;else{if(this['action']==0x1)this[_0x36a4b4(0x1a2)]=!![],this[_0x36a4b4(0x19c)]=![],this[_0x36a4b4(0x1f4)]=0x4,this[_0x36a4b4(0x23d)]=0x0;else this[_0x36a4b4(0x1f4)]==0x2?(this[_0x36a4b4(0x1f4)]=0x0,this['currentFrame']=0x0):this['currentFrame']=0x0;}}}if(!this[_0x36a4b4(0x1d3)]){if(this['action']==0x0)for(let _0x3796c5=0x0;_0x3796c5<this[_0x36a4b4(0x19e)][_0x36a4b4(0x1c4)];_0x3796c5++){this[_0x36a4b4(0x19e)][_0x3796c5][_0x36a4b4(0x198)]();}}this[_0x36a4b4(0x23c)]>0x0&&(this[_0x36a4b4(0x1f4)]=0x3,this[_0x36a4b4(0x23d)]=0x0,this[_0x36a4b4(0x1fc)]=0x0,this[_0x36a4b4(0x23c)]-=0x1/DTR,this[_0x36a4b4(0x23c)]<=0x0&&(this[_0x36a4b4(0x1f4)]=0x0)),c[_0x36a4b4(0x1ed)](this[_0x36a4b4(0x1d0)],this[_0x36a4b4(0x1de)][this[_0x36a4b4(0x1f4)]][this[_0x36a4b4(0x23d)]]*TILESIZE,this[_0x36a4b4(0x1d4)][this[_0x36a4b4(0x1f4)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x101bc6(0x228)](){const _0x549aee=_0x101bc6;let _0x45e765=0xb,_0x4be32f=[],_0x48a01b=this['x']+this['w']/0x2-TILESIZE*0x5,_0x570140=this['y']+this['h']/0x2-TILESIZE*0x5,_0x518864;for(let _0x3f6298=0x0;_0x3f6298<_0x45e765;_0x3f6298++){_0x4be32f[_0x3f6298]=[];for(let _0x3ea57f=0x0;_0x3ea57f<_0x45e765;_0x3ea57f++){_0x518864=getTileData(_0x48a01b+_0x3f6298*TILESIZE,_0x570140+_0x3ea57f*TILESIZE),_0x518864===![]?_0x4be32f[_0x3f6298][_0x3ea57f]=_0x549aee(0x223):_0x4be32f[_0x3f6298][_0x3ea57f]=_0x549aee(0x222);}}_0x4be32f[0x5][0x5]='Start',_0x4be32f[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x549aee(0x244),this[_0x549aee(0x224)]=findShortestPath([0x5,0x5],_0x4be32f);}}class Flower extends Collidable{constructor(_0x147c62,_0xf60219){const _0x15358f=_0x101bc6;super(Collidable),this['x']=_0x147c62,this['y']=_0xf60219,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x15358f(0x212)]=0x0,this[_0x15358f(0x203)]=0x0,this[_0x15358f(0x196)]=0x0,this[_0x15358f(0x1cc)]=0x0,this[_0x15358f(0x205)]=0x2,this[_0x15358f(0x1ef)]=0x0,this[_0x15358f(0x239)]=![],this['justDamaged']=0x0,this['dead']=![],this[_0x15358f(0x19e)]=[],this[_0x15358f(0x216)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0x15358f(0x201)]=0x8,this[_0x15358f(0x1a2)]=![],this[_0x15358f(0x23d)]=0x0,this['sheet']=id(_0x15358f(0x1d0)),this[_0x15358f(0x21f)]=0x5,this[_0x15358f(0x236)]=0x8,this[_0x15358f(0x19c)]=!![],this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x15358f(0x1b5)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x15358f(0x1f4)]=0x0,this[_0x15358f(0x1de)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this['actionY']=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this['headX']=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x15358f(0x197)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this['radians']=0x0,this[_0x15358f(0x1fb)]=![];}[_0x101bc6(0x218)](){const _0x361b91=_0x101bc6;if(!isObstructed(this,player)){this[_0x361b91(0x1a2)]=!![];if(this[_0x361b91(0x23d)]==0x2){if(!this['justShot']){let _0x1e7a34=new EnemyProjectile(),_0x457ec0=this['x']+this['w']/0x2,_0x21d2fd=this['y']+this['h']/0x2,_0xc55426=player['x']+player['w']/0x2-_0x457ec0+Math[_0x361b91(0x1aa)]()*this['precision']-this[_0x361b91(0x21f)]/0x2,_0x42f6e7=player['y']+player['h']/0x2-_0x21d2fd+Math[_0x361b91(0x1aa)]()*this['precision']-this[_0x361b91(0x21f)]/0x2,_0x316343=Math['atan2'](_0x42f6e7,_0xc55426),_0x5bb014=Math[_0x361b91(0x1df)](_0x316343),_0x5acaa8=Math[_0x361b91(0x22a)](_0x316343);_0x1e7a34[_0x361b91(0x212)]=_0x5bb014*this[_0x361b91(0x236)],_0x1e7a34[_0x361b91(0x203)]=_0x5acaa8*this[_0x361b91(0x236)],_0x1e7a34['x']=_0x457ec0,_0x1e7a34['y']=_0x21d2fd,enemyProjectiles[_0x361b91(0x219)](_0x1e7a34),this['justShot']=!![];}}else this[_0x361b91(0x1fb)]=![];}else this[_0x361b91(0x1a2)]=![];}[_0x101bc6(0x214)](){const _0x255d8e=_0x101bc6;this['shoot'](),this[_0x255d8e(0x1b5)]['x']=this['x']+this['w']/0x3,this[_0x255d8e(0x1b5)]['y']=this['y']+this['h']/0x5,this[_0x255d8e(0x1c3)]=Math['atan2'](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x486e3d=0x0;_0x486e3d<this[_0x255d8e(0x19e)][_0x255d8e(0x1c4)];_0x486e3d++){this[_0x255d8e(0x19e)][_0x486e3d]['x']=this['x']+this[_0x255d8e(0x19e)][_0x486e3d][_0x255d8e(0x1f0)],this[_0x255d8e(0x19e)][_0x486e3d]['y']=this['y']+this[_0x255d8e(0x19e)][_0x486e3d][_0x255d8e(0x213)];}this['hp']<=0x0&&(this[_0x255d8e(0x239)]=!![]),this[_0x255d8e(0x239)]&&(this[_0x255d8e(0x23c)]=0x0,this[_0x255d8e(0x1d3)]=!![],this[_0x255d8e(0x1f4)]=0x2,this[_0x255d8e(0x194)]=0x0,this[_0x255d8e(0x23d)]=0x0,this[_0x255d8e(0x201)]=0xa);}[_0x101bc6(0x198)](){const _0x1b2dd9=_0x101bc6;this[_0x1b2dd9(0x194)]++;this[_0x1b2dd9(0x194)]>this[_0x1b2dd9(0x201)]*DTR&&(this[_0x1b2dd9(0x194)]=0x0,this['currentFrame']++,this[_0x1b2dd9(0x23d)]>=this[_0x1b2dd9(0x1de)][this['action']][_0x1b2dd9(0x1c4)]&&(this['dead']?this[_0x1b2dd9(0x23d)]=this[_0x1b2dd9(0x1de)][this['action']]['length']-0x1:this[_0x1b2dd9(0x23d)]=0x0));if(!this[_0x1b2dd9(0x1d3)]){this[_0x1b2dd9(0x1a2)]?this['action']=0x1:this['action']=0x0;for(let _0x559cb8=0x0;_0x559cb8<this[_0x1b2dd9(0x19e)][_0x1b2dd9(0x1c4)];_0x559cb8++){this[_0x1b2dd9(0x19e)][_0x559cb8][_0x1b2dd9(0x198)]();}}this[_0x1b2dd9(0x1a2)]?this[_0x1b2dd9(0x201)]=0x4:this['slowness']=0x8,this[_0x1b2dd9(0x23c)]&&(this['action']=0x2,this[_0x1b2dd9(0x23d)]=0x0,this[_0x1b2dd9(0x1fc)]=0x0,this[_0x1b2dd9(0x23c)]--),c[_0x1b2dd9(0x1ed)](this[_0x1b2dd9(0x1d0)],this[_0x1b2dd9(0x1de)][this[_0x1b2dd9(0x1f4)]][this['currentFrame']]*TILESIZE,this['actionY'][this['action']][this[_0x1b2dd9(0x23d)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this['action']==0x0||this[_0x1b2dd9(0x1f4)]==0x1)&&(c['save'](),c[_0x1b2dd9(0x1ae)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x1b2dd9(0x22c)](this[_0x1b2dd9(0x1c3)]),c[_0x1b2dd9(0x1ed)](this[_0x1b2dd9(0x1d0)],this['headX'][this[_0x1b2dd9(0x1f4)]][this['currentFrame']]*TILESIZE,this['headY'][this[_0x1b2dd9(0x1f4)]][this['currentFrame']]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c['restore']());}}function getTileData(_0x31336f,_0x4f34e7){const _0x1ea475=_0x101bc6;let _0x19f9f4=(_0x31336f/TILESIZE|0x0)+(_0x4f34e7/TILESIZE|0x0)*map[_0x1ea475(0x1a8)];for(let _0x141a7c=0x0;_0x141a7c<map['tiles'][_0x1ea475(0x1c4)];_0x141a7c++){for(let _0x1bd0ac=0x0;_0x1bd0ac<TilesData[_0x1ea475(0x1c4)];_0x1bd0ac++){if(TilesData[_0x1bd0ac]['id']==map['tiles'][_0x141a7c][_0x19f9f4]-0x1)return TilesData[_0x1bd0ac];}}return![];}window[_0x101bc6(0x1d7)]=function(){const _0x146894=_0x101bc6;player[_0x146894(0x20a)]!==0x0?player[_0x146894(0x218)]():player[_0x146894(0x1b1)]=0xa;},window[_0x101bc6(0x237)]=function(_0x53089f){const _0x107fad=_0x101bc6;_0x53089f[_0x107fad(0x22d)](),player[_0x107fad(0x1ca)]();},document['addEventListener'](_0x101bc6(0x1b4),function(_0x1ad852){const _0x44eea4=_0x101bc6;switch(_0x1ad852[_0x44eea4(0x21d)]){case 0x0:userInterface[_0x44eea4(0x225)]=!![];break;case 0x2:userInterface['rClick']=!![];break;}}),document[_0x101bc6(0x241)](_0x101bc6(0x1c2),function(_0x1d92cb){const _0x3bb7a7=_0x101bc6;switch(_0x1d92cb[_0x3bb7a7(0x21d)]){case 0x0:userInterface[_0x3bb7a7(0x225)]=![];break;case 0x2:userInterface[_0x3bb7a7(0x1f8)]=![];break;}});var stats=id('stats');function drawStats(){const _0x5f329f=_0x101bc6;stats[_0x5f329f(0x193)]='player.x\x20=\x20'+player['x'],stats[_0x5f329f(0x193)]+=_0x5f329f(0x217)+player['y'],stats['innerHTML']+=_0x5f329f(0x1dd)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x5f329f(0x193)]+='<br>mouseTile.y\x20=\x20'+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x5f329f(0x193)]+=_0x5f329f(0x1c9)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']),stats[_0x5f329f(0x193)]+='<br>mouseTile\x20id\x20=\x20'+map['tiles'][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x5f329f(0x1a8)]],map['tiles'][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']],DEBUG&&(c['rect']((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x5f329f(0x1cd)]());}window[_0x101bc6(0x241)](_0x101bc6(0x1ce),function(_0xc8eb8e){const _0x3149c4=_0x101bc6;switch(_0xc8eb8e[_0x3149c4(0x226)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0x3149c4(0x219)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x3149c4(0x23b)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x3ad083=0x0;_0x3ad083<0x32;_0x3ad083++){player[_0x3149c4(0x218)](),player[_0x3149c4(0x202)]=player[_0x3149c4(0x1dc)]*DTR,player[_0x3149c4(0x19d)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window['addEventListener']('keyup',function(_0x406af1){const _0x36f4c1=_0x101bc6;switch(_0x406af1[_0x36f4c1(0x226)]){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window['addEventListener'](_0x101bc6(0x1b0),function(_0x211fb7){const _0x5569b3=_0x101bc6;mousePP['x']=_0x211fb7[_0x5569b3(0x1ab)]-CANVAS[_0x5569b3(0x211)],mousePP['y']=_0x211fb7['clientY']-CANVAS['offsetTop'];});function moveCamera(){const _0x51f7dd=_0x101bc6;map['x']=-player['x']/0x3+CANVAS[_0x51f7dd(0x1a8)]/0x6,map['y']=-player['y']/0x3+CANVAS[_0x51f7dd(0x1e7)]/0x6,screenShake[_0x51f7dd(0x206)]&&(screenShake[_0x51f7dd(0x206)]--,screenShake[_0x51f7dd(0x208)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x4ea7cd=_0x101bc6;c[_0x4ea7cd(0x243)]=0x2,c[_0x4ea7cd(0x1ad)]=sampleArrow[_0x4ea7cd(0x1cf)][0x0],c[_0x4ea7cd(0x1ac)]();for(let _0x44fe2c=playerArrows[_0x4ea7cd(0x1c4)]-0x1;_0x44fe2c>=0x0;_0x44fe2c--){if(!playerArrows[_0x44fe2c]['active']||playerArrows[_0x44fe2c]['color']!=0x1)continue;playerArrows[_0x44fe2c][_0x4ea7cd(0x1ba)]&&playerArrows[_0x44fe2c][_0x4ea7cd(0x214)]();if(playerArrows[_0x44fe2c]!==undefined)playerArrows[_0x44fe2c][_0x4ea7cd(0x198)]();}c['closePath'](),c[_0x4ea7cd(0x1cd)](),c[_0x4ea7cd(0x1ad)]=sampleArrow[_0x4ea7cd(0x1cf)][0x1],c[_0x4ea7cd(0x1ac)]();for(let _0x3f11e9=playerArrows['length']-0x1;_0x3f11e9>=0x0;_0x3f11e9--){if(!playerArrows[_0x3f11e9][_0x4ea7cd(0x1e3)]||playerArrows[_0x3f11e9][_0x4ea7cd(0x1a7)]!=0x2)continue;playerArrows[_0x3f11e9][_0x4ea7cd(0x1ba)]&&playerArrows[_0x3f11e9][_0x4ea7cd(0x214)]();if(playerArrows[_0x3f11e9]!==undefined)playerArrows[_0x3f11e9][_0x4ea7cd(0x198)]();}c[_0x4ea7cd(0x246)](),c['stroke']();}function loop(){const _0x5bb4ca=_0x101bc6;fps++,c[_0x5bb4ca(0x242)](0x0,0x0,CANVAS[_0x5bb4ca(0x1a8)],CANVAS[_0x5bb4ca(0x1e7)]),moveCamera(),map['draw'](),player[_0x5bb4ca(0x214)]();for(let _0xa9ed42=enemyProjectiles[_0x5bb4ca(0x1c4)]-0x1;_0xa9ed42>=0x0;_0xa9ed42--){enemyProjectiles[_0xa9ed42]['compute']();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x185bb2=0x0;_0x185bb2<monsters[_0x5bb4ca(0x1c4)];_0x185bb2++){!monsters[_0x185bb2][_0x5bb4ca(0x1d3)]&&monsters[_0x185bb2][_0x5bb4ca(0x214)](),monsters[_0x185bb2][_0x5bb4ca(0x198)]();}player[_0x5bb4ca(0x198)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x1829f1=enemyProjectiles[_0x5bb4ca(0x1c4)]-0x1;_0x1829f1>=0x0;_0x1829f1--){enemyProjectiles[_0x1829f1]['draw']();}sword[_0x5bb4ca(0x1e3)]&&(sword[_0x5bb4ca(0x214)](),sword[_0x5bb4ca(0x198)]());for(let _0x56f460=visualFxs[_0x5bb4ca(0x1c4)]-0x1;_0x56f460>=0x0;_0x56f460--){!visualFxs[_0x56f460][_0x5bb4ca(0x19f)]&&visualFxs[_0x56f460]['draw']();}userInterface['draw'](),drawStats();}var lastUpdate=Date[_0x101bc6(0x221)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){var _0x1e51ae=Date['now'](),_0x1ac604=_0x1e51ae-lastUpdate;lastUpdate=_0x1e51ae,DTR=0x3e8/0x3c/_0x1ac604,!gamePaused&&loop();}