'strict';const _0x2a4a16=_0x26b6;(function(_0x5be636,_0x571e4f){const _0x4eea62=_0x26b6,_0x27561c=_0x5be636();while(!![]){try{const _0x20715a=-parseInt(_0x4eea62(0x1b4))/0x1+-parseInt(_0x4eea62(0x204))/0x2*(parseInt(_0x4eea62(0x220))/0x3)+parseInt(_0x4eea62(0x1ef))/0x4*(-parseInt(_0x4eea62(0x1ca))/0x5)+-parseInt(_0x4eea62(0x1aa))/0x6+parseInt(_0x4eea62(0x1c6))/0x7*(-parseInt(_0x4eea62(0x1f4))/0x8)+parseInt(_0x4eea62(0x18d))/0x9+parseInt(_0x4eea62(0x1c0))/0xa;if(_0x20715a===_0x571e4f)break;else _0x27561c['push'](_0x27561c['shift']());}catch(_0x1c8197){_0x27561c['push'](_0x27561c['shift']());}}}(_0x3fae,0xa0900));function _0x3fae(){const _0x4d3c0e=['left','xRel','player.x\x20=\x20','clientX','drawImage','14px\x20Arial','yVelExt','justDamaged','<br>mouseTile\x20id\x20=\x20','rect','centerX','rClick','height','headY','active','hpBar','points','canvas','top','sin','indexOf','atkBox','dead','round','draw','friendly','radians','#2f4447','checkCollisions','HjIagbzoWxuLt:qbYlCanOkeSWGiDZhTgmGeOg','[xXUqwUUYIGvpIXLykFmLNNFIDDJSfBXmUYMPBYVwRGALwRIKZjYAGJyKRjfUkDYmZGvI]','FPS:\x20','json','onclick','3776268PvcUhL','arrow','name','sheet','moveTo','1088xrYtpO','rotate','closePath','col','arrowsArr','portrait','headX','justShot','apply','restore','drawBow','crop','translate','innerHeight','addEventListener','actionX','4mpVoZB','random','length','stroke','lineWidth','frameCounter','swordImg','<br>mouseTile.y\x20=\x20','createGrid','set','shoot','properties','vfxX','projSpeed','mouseup','lClick','width','fillStyle','hitbox','pos','cos','layout','colors','splice','slowness','path','offsetLeft','split','730461lVAiDX','hypot','#ff0000','xVel','getElementById','FPS','mousedown','[HjIgzWxLqYCOeSWGiDZhTgmGeOg]','innerHTML','lengthX','actionY','sword','strokeStyle','hp-bar','yVel','type','slice','bow','then','vfxY','solid','clearRect','arrowSpeed','ended','Goal','sword-vfx','<br>mouseTile.x\x20=\x20','player','arrowCounter','precision','Obstacle','#ff8db5','attacking','9631908xkgDjr','ui-sheet','attack','fromCharCode','keydown','framecounter','lengthY','oncontextmenu','black','fillText','./Archer.json','arrowsCount','mpBar','attacked','color','speed','critChance','noArrows','return\x20(function()\x20','collidable','unpassable','centerY','keyup','compute','getContext','action','imageSmoothingEnabled','damage','grass','1255908HRyQWX','arrows','followPlayer','style','hole','save','replace','now','#8b5851','atan2','790536VOJOSh','Empty','yRel','globalAlpha','radiansP','maxHp','tiles','beginPath','font','textAlign','counter','<br>player.y\x20=\x20','28644030yTWEwO','computeQuiver','justDied','push','xVelExt','currentFrame','43547xLnPbQ','free','arrowCD','maxMp','5bagUxn','abs','lineTo'];_0x3fae=function(){return _0x4d3c0e;};return _0x3fae();}var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0x2a4a16(0x1de)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS[_0x2a4a16(0x1a5)]('2d');CANVAS['width']=0x2e0,CANVAS[_0x2a4a16(0x1d9)]=0x1e0,CANVAS[_0x2a4a16(0x1ad)][_0x2a4a16(0x1cd)]=(window['innerWidth']-CANVAS[_0x2a4a16(0x214)])/0x2+'px',CANVAS['style'][_0x2a4a16(0x1df)]=(window[_0x2a4a16(0x201)]-CANVAS[_0x2a4a16(0x1d9)])/0x2+'px',c[_0x2a4a16(0x1a7)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x18643a){const _0x14d007=_0x2a4a16,_0x2d7246=(function(){let _0x327204=!![];return function(_0x3b5169,_0x4c19d7){const _0xc15a9e=_0x327204?function(){const _0x55e98f=_0x26b6;if(_0x4c19d7){const _0x34ade5=_0x4c19d7[_0x55e98f(0x1fc)](_0x3b5169,arguments);return _0x4c19d7=null,_0x34ade5;}}:function(){};return _0x327204=![],_0xc15a9e;};}()),_0x750802=_0x2d7246(this,function(){const _0x5ddc98=_0x26b6;let _0x26630a;try{const _0x44f88c=Function(_0x5ddc98(0x19f)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x26630a=_0x44f88c();}catch(_0x530cff){_0x26630a=window;}const _0xc08bba=new RegExp(_0x5ddc98(0x1eb),'g'),_0x51bb1d='sxXUaqawntoUnaUYndrIe.GvpgithubIXL.yiko;FlmoLNNcFaIDDlhJoSsfBtXmUYMPBYVwRGALwRIKZjYAGJyKRjfUkDYmZGvI'[_0x5ddc98(0x1b0)](_0xc08bba,'')[_0x5ddc98(0x21f)](';');let _0x3fc39a,_0x3f0ccc,_0x5ad4a3,_0x174371;const _0x356a1f=function(_0x56d87c,_0x240e7e,_0x1848e0){const _0x4ed773=_0x5ddc98;if(_0x56d87c[_0x4ed773(0x206)]!=_0x240e7e)return![];for(let _0x449398=0x0;_0x449398<_0x240e7e;_0x449398++){for(let _0x41aba4=0x0;_0x41aba4<_0x1848e0[_0x4ed773(0x206)];_0x41aba4+=0x2){if(_0x449398==_0x1848e0[_0x41aba4]&&_0x56d87c['charCodeAt'](_0x449398)!=_0x1848e0[_0x41aba4+0x1])return![];}}return!![];},_0x60669f=function(_0x11eca7,_0x18449a,_0x1087d1){return _0x356a1f(_0x18449a,_0x1087d1,_0x11eca7);},_0xd4a2f8=function(_0x46e26a,_0x37baaa,_0x4cba4e){return _0x60669f(_0x37baaa,_0x46e26a,_0x4cba4e);},_0x4115e1=function(_0x31d9eb,_0x3e5852,_0x1dbced){return _0xd4a2f8(_0x3e5852,_0x1dbced,_0x31d9eb);};for(let _0x572703 in _0x26630a){if(_0x356a1f(_0x572703,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3fc39a=_0x572703;break;}}for(let _0x421df5 in _0x26630a[_0x3fc39a]){if(_0x4115e1(0x6,_0x421df5,[0x5,0x6e,0x0,0x64])){_0x3f0ccc=_0x421df5;break;}}for(let _0x521c0b in _0x26630a[_0x3fc39a]){if(_0xd4a2f8(_0x521c0b,[0x7,0x6e,0x0,0x6c],0x8)){_0x5ad4a3=_0x521c0b;break;}}if(!('~'>_0x3f0ccc))for(let _0x170673 in _0x26630a[_0x3fc39a][_0x5ad4a3]){if(_0x60669f([0x7,0x65,0x0,0x68],_0x170673,0x8)){_0x174371=_0x170673;break;}}if(!_0x3fc39a||!_0x26630a[_0x3fc39a])return;const _0x4a5318=_0x26630a[_0x3fc39a][_0x3f0ccc],_0x226ac6=!!_0x26630a[_0x3fc39a][_0x5ad4a3]&&_0x26630a[_0x3fc39a][_0x5ad4a3][_0x174371],_0x10e20c=_0x4a5318||_0x226ac6;if(!_0x10e20c)return;let _0x8d7468=![];for(let _0x5f1c32=0x0;_0x5f1c32<_0x51bb1d[_0x5ddc98(0x206)];_0x5f1c32++){const _0x4273f4=_0x51bb1d[_0x5f1c32],_0x49d81b=_0x4273f4[0x0]===String[_0x5ddc98(0x190)](0x2e)?_0x4273f4[_0x5ddc98(0x17c)](0x1):_0x4273f4,_0x2605c9=_0x10e20c['length']-_0x49d81b[_0x5ddc98(0x206)],_0x49b2b3=_0x10e20c['indexOf'](_0x49d81b,_0x2605c9),_0x2af8cb=_0x49b2b3!==-0x1&&_0x49b2b3===_0x2605c9;_0x2af8cb&&((_0x10e20c[_0x5ddc98(0x206)]==_0x4273f4[_0x5ddc98(0x206)]||_0x4273f4[_0x5ddc98(0x1e1)]('.')===0x0)&&(_0x8d7468=!![]));}if(!_0x8d7468){const _0x3af075=new RegExp(_0x5ddc98(0x173),'g'),_0x2001b8=_0x5ddc98(0x1ea)['replace'](_0x3af075,'');_0x26630a[_0x3fc39a][_0x5ad4a3]=_0x2001b8;}});return _0x750802(),document[_0x14d007(0x170)](_0x18643a);}var fpsDiv=id(_0x2a4a16(0x171));setInterval(function(){const _0x242171=_0x2a4a16;fpsDiv[_0x242171(0x174)]=_0x242171(0x1ec)+fps,fpsDiv['innerHTML']+='<br>DTR:\x20'+DTR['toPrecision'](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x58d896=_0x2a4a16;this['x']=Math[_0x58d896(0x205)]()*0x8-0x4|0x0,this['y']=Math[_0x58d896(0x205)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x23c94d=_0x2a4a16;this['x']=0x0,this['y']=0x0,this[_0x23c94d(0x17a)]=0x0,this['xVel']=0x0,this[_0x23c94d(0x1ce)]=0x0,this[_0x23c94d(0x1b6)]=0x0,this[_0x23c94d(0x1db)]=!![],this[_0x23c94d(0x1c7)]=!![],this[_0x23c94d(0x1e6)]=!![],this[_0x23c94d(0x175)]=0x0,this[_0x23c94d(0x193)]=0x0,this[_0x23c94d(0x1a8)]=0x1,this[_0x23c94d(0x19b)]=0x0,this[_0x23c94d(0x21a)]=[_0x23c94d(0x1b2),_0x23c94d(0x18b)],this[_0x23c94d(0x1dd)]={'x':0x0,'y':0x0};}['draw'](){const _0x19574c=_0x2a4a16;Math[_0x19574c(0x1cb)](this[_0x19574c(0x16f)]*0x3)>Math[_0x19574c(0x1cb)](this['lengthX'])&&(this[_0x19574c(0x175)]=this[_0x19574c(0x16f)]*0x3,this[_0x19574c(0x193)]=this['yVel']*0x3),this[_0x19574c(0x1dd)]['x']=this['x']+this[_0x19574c(0x175)],this['points']['y']=this['y']+this[_0x19574c(0x193)],c[_0x19574c(0x1f3)](this['x']+map['x'],this['y']+map['y']),c[_0x19574c(0x1cc)](this['x']+this['lengthX']+map['x'],this['y']+this[_0x19574c(0x193)]+map['y']);}[_0x2a4a16(0x1a4)](){const _0x923458=_0x2a4a16;this['x']+=this[_0x923458(0x16f)]/DTR,this['y']+=this['yVel']/DTR;if(getTileData(this['x'],this['y'])[_0x923458(0x180)])visualFxs[_0x923458(0x1c3)](new Explosion(this['x']+this[_0x923458(0x16f)],this['y']+this[_0x923458(0x17a)],this[_0x923458(0x19b)])),this[_0x923458(0x19b)]==0x2&&(screenShake[_0x923458(0x1be)]=0x5),this['xVel']=0x0,this[_0x923458(0x17a)]=0x0,this['lengthX']/=0x2,this[_0x923458(0x193)]/=0x2,this[_0x923458(0x1c7)]=![];else for(let _0x435444=monsters[_0x923458(0x206)]-0x1;_0x435444>=0x0;_0x435444--){let _0x35d149=monsters[_0x435444];!_0x35d149['dead']&&_0x35d149[_0x923458(0x1a0)]&&((pointSquareCol(this,_0x35d149)||pointSquareCol(this[_0x923458(0x1dd)],_0x35d149))&&(this[_0x923458(0x1db)]=![],_0x35d149[_0x923458(0x1c4)]=this[_0x923458(0x16f)]/0x2,_0x35d149[_0x923458(0x1d3)]=this['yVel']/0x2,visualFxs['push'](new Explosion(this['x'],this['y'],this[_0x923458(0x19b)])),this['color']==0x2&&(screenShake['counter']=0x5),this[_0x923458(0x16f)]=0x0,this[_0x923458(0x17a)]=0x0,this[_0x923458(0x1ce)]=this['x']-_0x35d149['x'],this['yRel']=this['y']-_0x35d149['y'],_0x35d149[_0x923458(0x1ab)][_0x923458(0x1c3)](this),_0x35d149['hp']-=this['damage'],_0x35d149[_0x923458(0x1d4)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x47acf7=_0x2a4a16;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this['yVel']=0x0,this[_0x47acf7(0x16f)]=0x0,this[_0x47acf7(0x1c7)]=!![],this[_0x47acf7(0x1e6)]=![],this['sheet']=id(_0x47acf7(0x1f2)),this[_0x47acf7(0x203)]=[0x5],this[_0x47acf7(0x176)]=[0x18],this[_0x47acf7(0x17b)]=0x0,this['damage']=0x5;}[_0x2a4a16(0x1a4)](){const _0x34bfd9=_0x2a4a16;this['x']+=this[_0x34bfd9(0x16f)]/DTR,this['y']+=this[_0x34bfd9(0x17a)]/DTR,getTileData(this['x'],this['y'])[_0x34bfd9(0x180)]?(enemyProjectiles[_0x34bfd9(0x21b)](enemyProjectiles['indexOf'](this),0x1),visualFxs[_0x34bfd9(0x1c3)](new Explosion(this['x']+this[_0x34bfd9(0x16f)],this['y']+this['yVel'],0x1)),this['xVel']=0x0,this[_0x34bfd9(0x17a)]=0x0,this['lengthX']/=0x2,this[_0x34bfd9(0x193)]/=0x2,this['free']=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x34bfd9(0x21b)](enemyProjectiles[_0x34bfd9(0x1e1)](this),0x1),player['xVelExt']+=this[_0x34bfd9(0x16f)]/0x2,player[_0x34bfd9(0x1d3)]+=this[_0x34bfd9(0x17a)]/0x2,player['hp']-=this[_0x34bfd9(0x1a8)],visualFxs[_0x34bfd9(0x1c3)](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x34bfd9(0x1be)]=0x5);}[_0x2a4a16(0x1e5)](){const _0x475dc1=_0x2a4a16;c[_0x475dc1(0x1d1)](this[_0x475dc1(0x1f2)],this[_0x475dc1(0x203)][this[_0x475dc1(0x17b)]]*TILESIZE,this['actionY'][this[_0x475dc1(0x17b)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x222b2a,_0xfd4b7,_0x25e6dc){const _0x1fdf3e=_0x2a4a16;this['sheet']=id('sheet'),this['x']=_0x222b2a-0x10,this['y']=_0xfd4b7-0x10,this['w']=0x20,this['h']=0x20,this[_0x1fdf3e(0x209)]=0x0,this['currentFrame']=0x0,this[_0x1fdf3e(0x1a6)]=_0x25e6dc-0x1,this['actionX']=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x1fdf3e(0x176)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this[_0x1fdf3e(0x21c)]=0x4,this[_0x1fdf3e(0x183)]=![];}[_0x2a4a16(0x1e5)](){const _0x4a2de7=_0x2a4a16;c[_0x4a2de7(0x1d1)](this[_0x4a2de7(0x1f2)],this[_0x4a2de7(0x203)][this[_0x4a2de7(0x1a6)]][this['currentFrame']],this[_0x4a2de7(0x176)][this[_0x4a2de7(0x1a6)]][this[_0x4a2de7(0x1c5)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this[_0x4a2de7(0x209)]++,this[_0x4a2de7(0x209)]>this[_0x4a2de7(0x21c)]*DTR&&(this['frameCounter']=0x0,this[_0x4a2de7(0x1c5)]++,this['currentFrame']>this[_0x4a2de7(0x203)][this[_0x4a2de7(0x1a6)]][_0x4a2de7(0x206)]-0x1&&(this[_0x4a2de7(0x183)]=!![]));}}class Collidable{constructor(){}['checkCollisions'](){const _0x4c2a61=_0x2a4a16;let _0x4918a7;this['col']['T']=0x0,this[_0x4c2a61(0x1f7)]['B']=0x0,this[_0x4c2a61(0x1f7)]['L']=0x0,this[_0x4c2a61(0x1f7)]['R']=0x0,getTileData(this['x'],this['y'])[_0x4c2a61(0x1a1)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x4918a7=colCheck(this,generatedSquare),this['x']+=(this[_0x4c2a61(0x1f7)]['L']-this[_0x4c2a61(0x1f7)]['R'])/0x5/DTR,this['y']+=(this[_0x4c2a61(0x1f7)]['T']-this[_0x4c2a61(0x1f7)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x4c2a61(0x1a1)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x4918a7=colCheck(this,generatedSquare),this['x']+=(this[_0x4c2a61(0x1f7)]['L']-this[_0x4c2a61(0x1f7)]['R'])/0x5/DTR,this['y']+=(this[_0x4c2a61(0x1f7)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])['unpassable']&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x4918a7=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x4c2a61(0x1f7)]['R'])/0x5/DTR,this['y']+=(this[_0x4c2a61(0x1f7)]['T']-this[_0x4c2a61(0x1f7)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x4c2a61(0x1a1)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x4918a7=colCheck(this,generatedSquare),this['x']+=(this[_0x4c2a61(0x1f7)]['L']-this[_0x4c2a61(0x1f7)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this['col']['B'])/0x5/DTR),this[_0x4c2a61(0x1f7)]['B']&&(this[_0x4c2a61(0x1d3)]>0x0&&(this['yVelExt']*=-0.5)),this[_0x4c2a61(0x1f7)]['T']&&(this[_0x4c2a61(0x1d3)]<0x0&&(this[_0x4c2a61(0x1d3)]*=-0.5)),this['col']['R']&&(this[_0x4c2a61(0x1c4)]>0x0&&(this[_0x4c2a61(0x1c4)]*=-0.5)),this[_0x4c2a61(0x1f7)]['L']&&(this['xVelExt']<0x0&&(this['xVelExt']*=-0.5));}}class Player extends Collidable{constructor(_0x29ff7d,_0x5bd958){const _0x48ecb5=_0x2a4a16;super(Collidable),this['x']=_0x29ff7d,this['y']=_0x5bd958,this['w']=TILESIZE,this['h']=TILESIZE,this['speed']=0x3,this[_0x48ecb5(0x17a)]=0x0,this[_0x48ecb5(0x16f)]=0x0,this[_0x48ecb5(0x1d3)]=0x0,this[_0x48ecb5(0x1c4)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x48ecb5(0x182)]=0xa,this['centerX']=0x0,this[_0x48ecb5(0x1a2)]=0x0,this[_0x48ecb5(0x1f7)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x48ecb5(0x203)]=[0x0,0x20,0x40],this[_0x48ecb5(0x176)]=[0x0,0x0,0x0],this[_0x48ecb5(0x1a6)]=0x0,this['frameCounter']=0x0,this[_0x48ecb5(0x21c)]=0x6,this['radians']=0x0,this[_0x48ecb5(0x177)]=![],this[_0x48ecb5(0x189)]=0x14,this[_0x48ecb5(0x19e)]=0x0,this[_0x48ecb5(0x19a)]=0x0,this[_0x48ecb5(0x1f8)]=[0x1,0x1,0x1,0x1,0x1],this[_0x48ecb5(0x1c8)]=0x3c,this['arrowCounter']=0x0,this['arrowsCount']=0x4,this['hp']=0x64,this[_0x48ecb5(0x1b9)]=0x64,this['mp']=0x64,this[_0x48ecb5(0x1c9)]=0x64,this['critChance']=0.25,this[_0x48ecb5(0x17d)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}['computeQuiver'](){const _0x3a6d77=_0x2a4a16;let _0xe0ba7b=!![],_0xe1aa2b;for(_0xe1aa2b=0x0;_0xe1aa2b<this['arrowsArr'][_0x3a6d77(0x206)];_0xe1aa2b++){if(this['arrowsArr'][_0xe1aa2b]===0x0){_0xe0ba7b=![];break;}}this['arrowsCount']=_0xe1aa2b;if(!_0xe0ba7b){this[_0x3a6d77(0x188)]++;if(this['arrowCounter']>this[_0x3a6d77(0x1c8)]*DTR)for(_0xe1aa2b=0x0;_0xe1aa2b<this[_0x3a6d77(0x1f8)][_0x3a6d77(0x206)];_0xe1aa2b++){if(this['arrowsArr'][_0xe1aa2b]===0x0){Math[_0x3a6d77(0x205)]()<this[_0x3a6d77(0x19d)]?this[_0x3a6d77(0x1f8)][_0xe1aa2b]=0x2:this[_0x3a6d77(0x1f8)][_0xe1aa2b]=0x1;this[_0x3a6d77(0x188)]=0x0;break;}}}else this[_0x3a6d77(0x188)]=0x0;}['compute'](){const _0x2153d7=_0x2a4a16;this[_0x2153d7(0x1c1)](),this[_0x2153d7(0x1d7)]=this['x']+this['w']/0x2,this[_0x2153d7(0x1a2)]=this['y']+this['h']/0x2,this[_0x2153d7(0x1e9)]();Math[_0x2153d7(0x1cb)](this[_0x2153d7(0x1c4)])>0.01?this[_0x2153d7(0x1c4)]-=this['xVelExt']*0.1/DTR:this[_0x2153d7(0x1c4)]=0x0;Math['abs'](this['yVelExt'])>0.01?this[_0x2153d7(0x1d3)]-=this[_0x2153d7(0x1d3)]*0.1/DTR:this['yVelExt']=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this['speed']=0x2:this[_0x2153d7(0x19c)]=0x3;this['radians']=Math[_0x2153d7(0x1b3)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x2153d7(0x16f)]=-this['speed'];else!this['R']&&(this[_0x2153d7(0x16f)]=0x0);if(this['R'])this['xVel']=this['speed'];else!this['L']&&(this[_0x2153d7(0x16f)]=0x0);if(this['T'])this[_0x2153d7(0x17a)]=-this[_0x2153d7(0x19c)];else!this['B']&&(this[_0x2153d7(0x17a)]=0x0);if(this['B'])this[_0x2153d7(0x17a)]=this['speed'];else!this['T']&&(this['yVel']=0x0);this['x']+=(this['xVel']+this[_0x2153d7(0x1c4)])/DTR,this['y']+=(this['yVel']+this[_0x2153d7(0x1d3)])/DTR;}['draw'](){const _0xc7a2e2=_0x2a4a16;this[_0xc7a2e2(0x16f)]===0x0&&this[_0xc7a2e2(0x17a)]===0x0?this[_0xc7a2e2(0x1a6)]=0x0:(this[_0xc7a2e2(0x209)]++,this['frameCounter']>=this[_0xc7a2e2(0x21c)]*DTR&&(this[_0xc7a2e2(0x1a6)]++,this[_0xc7a2e2(0x209)]=0x0,this[_0xc7a2e2(0x1a6)]>=this[_0xc7a2e2(0x203)][_0xc7a2e2(0x206)]&&(this[_0xc7a2e2(0x1a6)]=0x0))),c[_0xc7a2e2(0x1af)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0xc7a2e2(0x1f5)](this['radians']),c['drawImage'](id(_0xc7a2e2(0x187)),this[_0xc7a2e2(0x203)][this['action']],this[_0xc7a2e2(0x176)][this[_0xc7a2e2(0x1a6)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0xc7a2e2(0x1fd)](),this[_0xc7a2e2(0x19e)]&&(c['drawImage'](id(_0xc7a2e2(0x1f2)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0xc7a2e2(0x19e)]--),this[_0xc7a2e2(0x17d)]['active']&&this[_0xc7a2e2(0x1fe)]();}[_0x2a4a16(0x1fe)](){const _0x56de3d=_0x2a4a16;this[_0x56de3d(0x17d)][_0x56de3d(0x209)]++,this[_0x56de3d(0x17d)][_0x56de3d(0x209)]>=this[_0x56de3d(0x17d)]['slowness']*DTR&&(this[_0x56de3d(0x17d)]['action']++,this[_0x56de3d(0x17d)][_0x56de3d(0x209)]=0x0,this[_0x56de3d(0x17d)][_0x56de3d(0x1db)]>=this[_0x56de3d(0x17d)][_0x56de3d(0x203)][_0x56de3d(0x206)]&&(this[_0x56de3d(0x17d)][_0x56de3d(0x1db)]=![])),c[_0x56de3d(0x1af)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x56de3d(0x1f5)](this[_0x56de3d(0x1e7)]),c[_0x56de3d(0x1d1)](id(_0x56de3d(0x17d)),this['bow'][_0x56de3d(0x203)][this[_0x56de3d(0x17d)]['action']],this[_0x56de3d(0x17d)][_0x56de3d(0x176)][this[_0x56de3d(0x17d)][_0x56de3d(0x1a6)]],0x30,0x30,-this[_0x56de3d(0x17d)]['w']/0x2,-this[_0x56de3d(0x17d)]['h'],this['bow']['w'],this[_0x56de3d(0x17d)]['h']),c['restore']();}[_0x2a4a16(0x20e)](){const _0x2a09ea=_0x2a4a16;this[_0x2a09ea(0x17d)]['active']=!![],this[_0x2a09ea(0x17d)][_0x2a09ea(0x209)]=0x0,this[_0x2a09ea(0x17d)][_0x2a09ea(0x1c5)]=0x0,this[_0x2a09ea(0x17d)][_0x2a09ea(0x1a6)]=0x0;let _0x3e1a3a=this['x']+this['w']/0x2,_0x20d755=this['y']+this['h']/0x2,_0x143aa1=Mouse['x']-_0x3e1a3a+Math[_0x2a09ea(0x205)]()*this[_0x2a09ea(0x189)]-this['precision']/0x2,_0x5e93cc=Mouse['y']-_0x20d755+Math['random']()*this['precision']-this[_0x2a09ea(0x189)]/0x2,_0x41deed=Math[_0x2a09ea(0x1b3)](_0x5e93cc,_0x143aa1),_0x3ebb13=Math[_0x2a09ea(0x218)](_0x41deed),_0x29a02a=Math[_0x2a09ea(0x1e0)](_0x41deed),_0x4710ab=new Projectile();_0x4710ab[_0x2a09ea(0x16f)]=_0x3ebb13*this[_0x2a09ea(0x182)],_0x4710ab[_0x2a09ea(0x17a)]=_0x29a02a*this[_0x2a09ea(0x182)],_0x4710ab['x']=_0x3e1a3a,_0x4710ab['y']=_0x20d755,_0x4710ab[_0x2a09ea(0x19b)]=this[_0x2a09ea(0x1f8)][0x0],playerArrows[_0x2a09ea(0x1c3)](_0x4710ab),this[_0x2a09ea(0x1f8)]['shift'](),this['arrowsArr'][_0x2a09ea(0x1c3)](0x0);}[_0x2a4a16(0x18f)](){const _0x39dc3c=_0x2a4a16;if(!sword[_0x39dc3c(0x1db)]){sword[_0x39dc3c(0x1db)]=!![],sword[_0x39dc3c(0x1b8)]=this['radians'];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x124d9b=this['x']+this['w']/0x2,_0x26cfcc=this['y']+this['h']/0x2,_0x4ba237=returnCosine(Mouse['x'],Mouse['y'],_0x124d9b,_0x26cfcc);this[_0x39dc3c(0x1c4)]=_0x4ba237['cos']*0xe,this['yVelExt']=_0x4ba237[_0x39dc3c(0x1e0)]*0xe;}}}}var player=new Player(CANVAS[_0x2a4a16(0x214)]/0x2,CANVAS['height']/0x4*0x3);class UserInterface{constructor(){const _0x2b0468=_0x2a4a16;this['sheet']=id(_0x2b0468(0x18e)),this['x']=0x14,this['y']=0x5,this[_0x2b0468(0x213)]=![],this['rClick']=![],this[_0x2b0468(0x19a)]=0x0,this[_0x2b0468(0x219)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this['portrait']={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0x2b0468(0x1dc)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this['mpBar']={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this['bow']={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x2b0468(0x177)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x2b0468(0x1f0)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this['arrowsArr']=[0x1,0x1,0x1,0x1];}['draw'](){const _0x32ccf9=_0x2a4a16;this[_0x32ccf9(0x213)]&&(c[_0x32ccf9(0x1b7)]=0.5);c['drawImage'](this[_0x32ccf9(0x1f2)],this[_0x32ccf9(0x17d)][_0x32ccf9(0x1ff)]['x'],this[_0x32ccf9(0x17d)][_0x32ccf9(0x1ff)]['y'],this['bow'][_0x32ccf9(0x1ff)]['w'],this[_0x32ccf9(0x17d)][_0x32ccf9(0x1ff)]['h'],this[_0x32ccf9(0x17d)][_0x32ccf9(0x217)]['x'],this['bow'][_0x32ccf9(0x217)]['y'],this[_0x32ccf9(0x17d)][_0x32ccf9(0x1ff)]['w'],this['bow'][_0x32ccf9(0x1ff)]['h']);this[_0x32ccf9(0x213)]&&(c[_0x32ccf9(0x1b7)]=0x1);this[_0x32ccf9(0x1d8)]&&(c[_0x32ccf9(0x1b7)]=0.5);c[_0x32ccf9(0x1d1)](this['sheet'],this[_0x32ccf9(0x177)][_0x32ccf9(0x1ff)]['x'],this[_0x32ccf9(0x177)][_0x32ccf9(0x1ff)]['y'],this[_0x32ccf9(0x177)][_0x32ccf9(0x1ff)]['w'],this[_0x32ccf9(0x177)][_0x32ccf9(0x1ff)]['h'],this[_0x32ccf9(0x177)][_0x32ccf9(0x217)]['x'],this[_0x32ccf9(0x177)]['pos']['y'],this[_0x32ccf9(0x177)][_0x32ccf9(0x1ff)]['w'],this[_0x32ccf9(0x177)][_0x32ccf9(0x1ff)]['h']);this[_0x32ccf9(0x1d8)]&&(c[_0x32ccf9(0x1b7)]=0x1);c[_0x32ccf9(0x1d1)](this[_0x32ccf9(0x1f2)],this[_0x32ccf9(0x219)][_0x32ccf9(0x1ff)]['x'],this[_0x32ccf9(0x219)]['crop']['y'],this[_0x32ccf9(0x219)][_0x32ccf9(0x1ff)]['w'],this[_0x32ccf9(0x219)][_0x32ccf9(0x1ff)]['h'],this[_0x32ccf9(0x219)][_0x32ccf9(0x217)]['x']+this['x'],this[_0x32ccf9(0x219)]['pos']['y']+this['y'],this['layout'][_0x32ccf9(0x1ff)]['w'],this[_0x32ccf9(0x219)][_0x32ccf9(0x1ff)]['h']),c[_0x32ccf9(0x1d1)](this[_0x32ccf9(0x1f2)],this[_0x32ccf9(0x1f9)][_0x32ccf9(0x1ff)][player[_0x32ccf9(0x19a)]]['x'],this[_0x32ccf9(0x1f9)][_0x32ccf9(0x1ff)][player[_0x32ccf9(0x19a)]]['y'],this[_0x32ccf9(0x1f9)][_0x32ccf9(0x1ff)][player[_0x32ccf9(0x19a)]]['w'],this['portrait'][_0x32ccf9(0x1ff)][player[_0x32ccf9(0x19a)]]['h'],this[_0x32ccf9(0x1f9)][_0x32ccf9(0x217)]['x']+this['x'],this[_0x32ccf9(0x1f9)][_0x32ccf9(0x217)]['y']+this['y'],this['portrait'][_0x32ccf9(0x1ff)][player[_0x32ccf9(0x19a)]]['w'],this['portrait'][_0x32ccf9(0x1ff)][player[_0x32ccf9(0x19a)]]['h']),c[_0x32ccf9(0x1d1)](this['sheet'],this[_0x32ccf9(0x1dc)][_0x32ccf9(0x1ff)]['x'],this[_0x32ccf9(0x1dc)][_0x32ccf9(0x1ff)]['y'],this[_0x32ccf9(0x1dc)][_0x32ccf9(0x1ff)]['w'],this[_0x32ccf9(0x1dc)][_0x32ccf9(0x1ff)]['h'],this[_0x32ccf9(0x1dc)][_0x32ccf9(0x217)]['x']+this['x'],this[_0x32ccf9(0x1dc)][_0x32ccf9(0x217)]['y']+this['y'],this[_0x32ccf9(0x1dc)][_0x32ccf9(0x1ff)]['w']/player[_0x32ccf9(0x1b9)]*player['hp'],this[_0x32ccf9(0x1dc)][_0x32ccf9(0x1ff)]['h']),c[_0x32ccf9(0x1d1)](this['sheet'],this['mpBar'][_0x32ccf9(0x1ff)]['x'],this[_0x32ccf9(0x199)][_0x32ccf9(0x1ff)]['y'],this[_0x32ccf9(0x199)][_0x32ccf9(0x1ff)]['w'],this[_0x32ccf9(0x199)]['crop']['h'],this[_0x32ccf9(0x199)]['pos']['x']+this['x'],this[_0x32ccf9(0x199)][_0x32ccf9(0x217)]['y']+this['y'],this[_0x32ccf9(0x199)][_0x32ccf9(0x1ff)]['w'],this[_0x32ccf9(0x199)][_0x32ccf9(0x1ff)]['h']);for(let _0x14ec58=0x0;_0x14ec58<player['arrowsArr'][_0x32ccf9(0x206)];_0x14ec58++){c['drawImage'](this['sheet'],this[_0x32ccf9(0x1f0)][_0x32ccf9(0x1ff)][player[_0x32ccf9(0x1f8)][_0x14ec58]]['x'],this['arrow'][_0x32ccf9(0x1ff)][player['arrowsArr'][_0x14ec58]]['y'],this['arrow'][_0x32ccf9(0x1ff)][player[_0x32ccf9(0x1f8)][_0x14ec58]]['w'],this[_0x32ccf9(0x1f0)][_0x32ccf9(0x1ff)][player[_0x32ccf9(0x1f8)][_0x14ec58]]['h'],this[_0x32ccf9(0x1f0)][_0x32ccf9(0x217)]['x']+this['x']-0xa*_0x14ec58,this[_0x32ccf9(0x1f0)]['pos']['y']+this['y'],this[_0x32ccf9(0x1f0)][_0x32ccf9(0x1ff)][player[_0x32ccf9(0x1f8)][_0x14ec58]]['w'],this[_0x32ccf9(0x1f0)][_0x32ccf9(0x1ff)][player[_0x32ccf9(0x1f8)][_0x14ec58]]['h']);}c[_0x32ccf9(0x1bc)]=_0x32ccf9(0x1d2),c[_0x32ccf9(0x1bd)]='center',c[_0x32ccf9(0x215)]=_0x32ccf9(0x1e8),c[_0x32ccf9(0x196)](player[_0x32ccf9(0x198)]+'/'+player[_0x32ccf9(0x1f8)][_0x32ccf9(0x206)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x146633=_0x2a4a16;let _0x41ad9c=player['x']+player['w']/0x2,_0x27c365=player['y']+player['h']/0x2,_0x37b156=_0x41ad9c,_0x5eab8d=_0x27c365,_0x5d6387=![],_0x4b2293=0x0,_0x2fbdf4=returnCosine(_0x41ad9c,_0x27c365,Mouse['x'],Mouse['y']),_0x36af1f=[],_0x1e4287={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x1f8885={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x28b112=0x4,_0x41b038={'x':0x0,'y':0x0};while(!_0x5d6387&&_0x4b2293<CANVAS[_0x146633(0x214)]*0x2/_0x28b112){_0x37b156-=_0x2fbdf4[_0x146633(0x218)]*_0x28b112,_0x5eab8d-=_0x2fbdf4['sin']*_0x28b112;getTileData(_0x37b156,_0x5eab8d)[_0x146633(0x180)]&&(_0x1e4287=getTileData(_0x37b156,_0x5eab8d)[_0x146633(0x216)],_0x1f8885['x']=_0x1e4287['x'],_0x1f8885['y']=_0x1e4287['y'],_0x1f8885['w']=_0x1e4287['w'],_0x1f8885['h']=_0x1e4287['h'],_0x1f8885['x']+=_0x37b156-_0x37b156%TILESIZE,_0x1f8885['y']+=_0x5eab8d-_0x5eab8d%TILESIZE,_0x5d6387=!![]);_0x41b038['x']=_0x37b156,_0x41b038['y']=_0x5eab8d;for(let _0x24586e=0x0;_0x24586e<monsters[_0x146633(0x206)];_0x24586e++){if(!monsters[_0x24586e][_0x146633(0x1e3)]&&pointSquareCol(_0x41b038,monsters[_0x24586e])){_0x1f8885['x']=monsters[_0x24586e]['x'],_0x1f8885['y']=monsters[_0x24586e]['y'],_0x1f8885['w']=monsters[_0x24586e]['w'],_0x1f8885['h']=monsters[_0x24586e]['h'],_0x5d6387=!![];break;}}_0x4b2293++;}_0x36af1f=getRectSides(_0x1f8885);let _0x3ad067=[],_0x3e8553={},_0x461f65;for(let _0x273c31=0x0;_0x273c31<_0x36af1f['length'];_0x273c31++){_0x3e8553=intersect(_0x41ad9c,_0x27c365,_0x37b156,_0x5eab8d,_0x36af1f[_0x273c31]['x1'],_0x36af1f[_0x273c31]['y1'],_0x36af1f[_0x273c31]['x2'],_0x36af1f[_0x273c31]['y2']),_0x3e8553&&_0x3ad067['push'](_0x3e8553);}let _0x4ae655=Math['hypot'](_0x41ad9c-_0x37b156,_0x27c365-_0x5eab8d),_0x14b5fa=_0x37b156,_0x2cc913=_0x37b156;for(let _0x252b6e=0x0;_0x252b6e<_0x3ad067[_0x146633(0x206)];_0x252b6e++){_0x461f65=Math[_0x146633(0x16d)](_0x41ad9c-_0x37b156,_0x27c365-_0x5eab8d),_0x461f65<_0x4ae655&&(_0x4ae655=_0x461f65,_0x14b5fa=_0x3ad067[_0x252b6e]['x'],_0x2cc913=_0x3ad067[_0x252b6e]['y']);}c[_0x146633(0x178)]=_0x146633(0x16e),c[_0x146633(0x1bb)](),c[_0x146633(0x1f3)](_0x41ad9c+map['x'],_0x27c365+map['y']),c[_0x146633(0x1cc)](_0x37b156+map['x'],_0x5eab8d+map['y']),c['stroke'](),c[_0x146633(0x178)]=_0x146633(0x195);}function isObstructed(_0x4e6fb0,_0x3924e){const _0x1df1a9=_0x2a4a16;let _0x9bdc8a=_0x4e6fb0['x']+_0x4e6fb0['w']/0x2,_0x188d98=_0x4e6fb0['y']+_0x4e6fb0['h']/0x2,_0x9e2a3b=_0x3924e['x']+_0x3924e['w']/0x2,_0x2eb5b9=_0x3924e['y']+_0x3924e['h']/0x2,_0x205697=Math['hypot'](_0x9bdc8a-_0x9e2a3b,_0x188d98-_0x2eb5b9),_0x1dc6b7=_0x9bdc8a,_0x10df0e=_0x188d98,_0x20e2c5=![],_0x5c7df1=0x0,_0x33f86b=returnCosine(_0x9bdc8a,_0x188d98,_0x9e2a3b,_0x2eb5b9),_0x34a11e=[],_0xc33e5d={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x5d96ab={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x1de2f0=0x3,_0x4cf7a3={'x':0x0,'y':0x0};while(!_0x20e2c5&&_0x5c7df1<_0x205697/_0x1de2f0){_0x1dc6b7-=_0x33f86b[_0x1df1a9(0x218)]*_0x1de2f0,_0x10df0e-=_0x33f86b[_0x1df1a9(0x1e0)]*_0x1de2f0;if(getTileData(_0x1dc6b7,_0x10df0e)[_0x1df1a9(0x180)])return _0xc33e5d=getTileData(_0x1dc6b7,_0x10df0e)['hitbox'],_0x5d96ab['x']=_0xc33e5d['x'],_0x5d96ab['y']=_0xc33e5d['y'],_0x5d96ab['w']=_0xc33e5d['w'],_0x5d96ab['h']=_0xc33e5d['h'],_0x5d96ab['x']+=_0x1dc6b7-_0x1dc6b7%TILESIZE,_0x5d96ab['y']+=_0x10df0e-_0x10df0e%TILESIZE,!![];_0x4cf7a3['x']=_0x1dc6b7,_0x4cf7a3['y']=_0x10df0e;if(pointSquareCol(_0x4cf7a3,_0x3924e))return![];_0x5c7df1++;}}function getRectSides(_0x16fa9f){const _0x52f145=_0x2a4a16;let _0x242435=[];return _0x242435[_0x52f145(0x1c3)]({'x1':_0x16fa9f['x'],'y1':_0x16fa9f['y'],'x2':_0x16fa9f['x']+_0x16fa9f['w'],'y2':_0x16fa9f['y']}),_0x242435[_0x52f145(0x1c3)]({'x1':_0x16fa9f['x']+_0x16fa9f['w'],'y1':_0x16fa9f['y'],'x2':_0x16fa9f['x']+_0x16fa9f['w'],'y2':_0x16fa9f['y']+_0x16fa9f['h']}),_0x242435[_0x52f145(0x1c3)]({'x1':_0x16fa9f['x']+_0x16fa9f['w'],'y1':_0x16fa9f['y']+_0x16fa9f['h'],'x2':_0x16fa9f['x'],'y2':_0x16fa9f['y']+_0x16fa9f['h']}),_0x242435[_0x52f145(0x1c3)]({'x1':_0x16fa9f['x'],'y1':_0x16fa9f['y']+_0x16fa9f['h'],'x2':_0x16fa9f['x'],'y2':_0x16fa9f['y']}),_0x242435;}function init(){const _0x8b0334=_0x2a4a16;let _0x529f1d,_0x151c14={};fetch(_0x8b0334(0x197))[_0x8b0334(0x17e)](function(_0x400d1a){const _0xdaad51=_0x8b0334;return _0x400d1a[_0xdaad51(0x1ed)]();})['then'](function(_0x56c5f6){const _0x169910=_0x8b0334;_0x529f1d=_0x56c5f6[_0x169910(0x1ba)];for(let _0x5108a3=0x0;_0x5108a3<_0x529f1d['length'];_0x5108a3++){_0x151c14={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x151c14['id']=_0x529f1d[_0x5108a3]['id'];if(_0x529f1d[_0x5108a3]['hasOwnProperty'](_0x169910(0x20f)))for(let _0x103485=0x0;_0x103485<_0x529f1d[_0x5108a3][_0x169910(0x20f)][_0x169910(0x206)];_0x103485++){if(_0x529f1d[_0x5108a3][_0x169910(0x20f)][_0x103485])switch(_0x529f1d[_0x5108a3]['properties'][_0x103485][_0x169910(0x1f1)]){case _0x169910(0x1ae):_0x151c14[_0x169910(0x1ae)]=!![],_0x151c14[_0x169910(0x1a1)]=!![];break;case _0x169910(0x180):_0x151c14['solid']=!![],_0x151c14['unpassable']=!![];break;}}TilesData[_0x169910(0x1c3)](_0x151c14);}loop();});}init();var HP_BAR=id(_0x2a4a16(0x179));function renderHpBars(){const _0x3d86f3=_0x2a4a16;for(let _0x318f7f=0x0;_0x318f7f<monsters[_0x3d86f3(0x206)];_0x318f7f++){if(monsters[_0x318f7f]['dead'])continue;let _0x112a25=monsters[_0x318f7f]['hp']/monsters[_0x318f7f][_0x3d86f3(0x1b9)],_0x25fef9=Math[_0x3d86f3(0x1e4)](TILESIZE*_0x112a25);c['drawImage'](HP_BAR,0x0,0x4,_0x25fef9,0x4,monsters[_0x318f7f]['x']+monsters[_0x318f7f]['w']/0x2-0x10+map['x']|0x0,monsters[_0x318f7f]['y']-0x8+map['y']|0x0,_0x25fef9|0x0,0x4|0x0),c[_0x3d86f3(0x1d1)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x318f7f]['x']+monsters[_0x318f7f]['w']/0x2-0x10+map['x']|0x0,monsters[_0x318f7f]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x2da297=_0x2a4a16;this['width']=0x17,this[_0x2da297(0x1d9)]=0xf,this['x']=0x0,this['y']=0x0,this['tiles']=maps['m1'],this[_0x2da297(0x1f2)]=id('sheet'),this[_0x2da297(0x1a9)]=id('grass');}['draw'](){const _0x15376d=_0x2a4a16;for(let _0x229e69=0x0;_0x229e69<this['tiles'][_0x15376d(0x206)];_0x229e69++){_0x229e69==0x1&&c[_0x15376d(0x1d1)](this[_0x15376d(0x1a9)],0x0+this['x'],0x0+this['y'],CANVAS[_0x15376d(0x214)],CANVAS['height']);for(let _0x4f4abb=0x0;_0x4f4abb<this[_0x15376d(0x1ba)][_0x229e69][_0x15376d(0x206)];_0x4f4abb++){if(this[_0x15376d(0x1ba)][_0x229e69][_0x4f4abb]===0x0)continue;c[_0x15376d(0x1d1)](this[_0x15376d(0x1f2)],(this['tiles'][_0x229e69][_0x4f4abb]-0x1)%0xf*TILESIZE,((this['tiles'][_0x229e69][_0x4f4abb]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x4f4abb%this[_0x15376d(0x214)]*TILESIZE+map['x'],(_0x4f4abb/this[_0x15376d(0x214)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x13f7c1=_0x2a4a16;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this['radians']=0x2,this['radiansP']=0x0,this[_0x13f7c1(0x203)]=[0x0],this[_0x13f7c1(0x176)]=[0x0],this[_0x13f7c1(0x210)]=[0x0,0x0,0x0,0x0],this[_0x13f7c1(0x17f)]=[0x0,0x80,0x100,0x180],this['currentFrame']=0x0,this[_0x13f7c1(0x209)]=0x0,this['action']=0x0,this[_0x13f7c1(0x21c)]=0x3,this[_0x13f7c1(0x1db)]=![],this[_0x13f7c1(0x1f2)]=id(_0x13f7c1(0x185)),this[_0x13f7c1(0x20a)]=id('sword');}[_0x2a4a16(0x1a4)](){const _0x2c26f6=_0x2a4a16;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x47aecf,_0x29ec71,_0x111634;for(let _0x19b8e3=0x0;_0x19b8e3<monsters[_0x2c26f6(0x206)];_0x19b8e3++){if(monsters[_0x19b8e3][_0x2c26f6(0x1e3)]||!monsters[_0x19b8e3]['collidable'])continue;_0x47aecf=monsters[_0x19b8e3][_0x2c26f6(0x216)]['x']+monsters[_0x19b8e3][_0x2c26f6(0x216)]['w']/0x2,_0x29ec71=monsters[_0x19b8e3][_0x2c26f6(0x216)]['y']+monsters[_0x19b8e3][_0x2c26f6(0x216)]['h']/0x2,_0x111634=(monsters[_0x19b8e3]['w']+monsters[_0x19b8e3]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x47aecf,_0x29ec71,_0x111634)){let _0x1d04e8=this['x']+this['w']/0x2,_0x377bba=this['y']+this['h']/0x2,_0x117ff0=monsters[_0x19b8e3]['x']-_0x1d04e8,_0x38ee0d=monsters[_0x19b8e3]['y']-_0x377bba,_0x581008=Math['atan2'](_0x38ee0d,_0x117ff0),_0x14fa17=Math[_0x2c26f6(0x218)](_0x581008),_0x145ae1=Math[_0x2c26f6(0x1e0)](_0x581008);monsters[_0x19b8e3]['xVelExt']=_0x14fa17*0xa,monsters[_0x19b8e3][_0x2c26f6(0x1d3)]=_0x145ae1*0xa,monsters[_0x19b8e3]['hp']-=0.25,monsters[_0x19b8e3][_0x2c26f6(0x1d4)]=0xf;}}}[_0x2a4a16(0x1e5)](){const _0x319364=_0x2a4a16;this[_0x319364(0x209)]++,this[_0x319364(0x209)]>this[_0x319364(0x21c)]*DTR&&(this[_0x319364(0x209)]=0x0,this[_0x319364(0x1c5)]++,this[_0x319364(0x1c5)]>=this[_0x319364(0x210)][_0x319364(0x206)]&&(this[_0x319364(0x1c5)]=0x0)),c[_0x319364(0x1d1)](this[_0x319364(0x1f2)],this[_0x319364(0x210)][this[_0x319364(0x1c5)]],this[_0x319364(0x17f)][this['currentFrame']],0x80,0x40,this['x']-0x40-player['xVelExt']*0x4+map['x'],this['y']-0x40-player[_0x319364(0x1d3)]*0x4+map['y'],0x80,0x40),c[_0x319364(0x1af)](),c[_0x319364(0x200)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x319364(0x1f5)](this['radiansP']+this[_0x319364(0x1e7)]),c[_0x319364(0x1d1)](this[_0x319364(0x20a)],this[_0x319364(0x203)][this[_0x319364(0x1a6)]],this[_0x319364(0x176)][this[_0x319364(0x1a6)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x319364(0x1fd)](),this['radians']-=0.5/DTR,this[_0x319364(0x1e7)]<=-0x9&&(this[_0x319364(0x1db)]=![],this['radians']=0x2),c[_0x319364(0x1d1)](this['sheet'],this[_0x319364(0x210)][this['currentFrame']],this[_0x319364(0x17f)][this['currentFrame']]+0x40,0x80,0x40,this['x']-0x40-player['xVelExt']*0x4+map['x'],this['y']-player[_0x319364(0x1d3)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){monsters['sort'](function(_0x3d034a,_0x175a16){const _0x5b3a92=_0x26b6;if(_0x3d034a[_0x5b3a92(0x1e3)]&&!_0x175a16[_0x5b3a92(0x1e3)])return-0x1;else return!_0x3d034a[_0x5b3a92(0x1e3)]&&_0x175a16['dead']?0x1:_0x3d034a['y']+0xf-_0x175a16['y'];});}function adjustCollidingMonsters(){const _0x5f23a2=_0x2a4a16;for(let _0x491e36=0x0;_0x491e36<monsters['length'];_0x491e36++){if(monsters[_0x491e36][_0x5f23a2(0x1e3)])continue;monsters[_0x491e36][_0x5f23a2(0x1f7)]['T']=0x0,monsters[_0x491e36][_0x5f23a2(0x1f7)]['B']=0x0,monsters[_0x491e36][_0x5f23a2(0x1f7)]['L']=0x0,monsters[_0x491e36][_0x5f23a2(0x1f7)]['R']=0x0;for(let _0x5c6c8d=0x0;_0x5c6c8d<monsters[_0x5f23a2(0x206)];_0x5c6c8d++){if(monsters[_0x5c6c8d][_0x5f23a2(0x1e3)])continue;if(collided(monsters[_0x491e36],monsters[_0x5c6c8d])){let _0x5d6c7c=colCheck(monsters[_0x491e36],monsters[_0x5c6c8d]);switch(_0x5d6c7c){case'l':this['xVel']<0x0&&(this[_0x5f23a2(0x16f)]=0x0);break;case'r':this['xVel']>0x0&&(this[_0x5f23a2(0x16f)]=0x0);break;case'b':this['yVel']>0x0&&(this[_0x5f23a2(0x17a)]=0x0);break;case't':this[_0x5f23a2(0x17a)]<0x0&&(this[_0x5f23a2(0x17a)]=0x0);break;}monsters[_0x491e36][_0x5f23a2(0x16f)]+=(monsters[_0x491e36]['col']['L']-monsters[_0x491e36][_0x5f23a2(0x1f7)]['R'])/0x5,monsters[_0x491e36][_0x5f23a2(0x17a)]+=(monsters[_0x491e36][_0x5f23a2(0x1f7)]['T']-monsters[_0x491e36]['col']['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x4b26ba,_0x406560){const _0x467fb6=_0x2a4a16;super(Collidable),this['x']=_0x4b26ba,this['y']=_0x406560,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x467fb6(0x16f)]=0x0,this[_0x467fb6(0x17a)]=0x0,this[_0x467fb6(0x1c4)]=0x0,this[_0x467fb6(0x1d3)]=0x0,this['speed']=0x2,this[_0x467fb6(0x1cd)]=0x0,this[_0x467fb6(0x1c2)]=![],this[_0x467fb6(0x1d4)]=0x0,this[_0x467fb6(0x1e3)]=![],this[_0x467fb6(0x1ab)]=[],this[_0x467fb6(0x1b9)]=0x3,this['hp']=0x3,this[_0x467fb6(0x209)]=0x0,this[_0x467fb6(0x21c)]=0x4,this[_0x467fb6(0x1c5)]=0x0,this[_0x467fb6(0x1a0)]=!![],this[_0x467fb6(0x1f2)]=id(_0x467fb6(0x1f2)),this[_0x467fb6(0x1a6)]=0x0,this[_0x467fb6(0x1f7)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x467fb6(0x216)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x467fb6(0x203)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x467fb6(0x176)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x2a4a16(0x1ac)](){const _0x32a3ad=_0x2a4a16;if(this[_0x32a3ad(0x1a6)]!==0x0){let _0x10ad9b=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x50f5c8=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x4da8bb=_0x10ad9b>0x0?-0x1:0x1,_0x500127=_0x50f5c8>0x0?-0x1:0x1,_0xcde57b;_0x50f5c8!==0x0?_0xcde57b=Math[_0x32a3ad(0x1cb)](_0x10ad9b)/(Math['abs'](_0x50f5c8)+Math[_0x32a3ad(0x1cb)](_0x10ad9b)):_0xcde57b=0x0;this[_0x32a3ad(0x16f)]=this['speed']*_0xcde57b*_0x4da8bb,this[_0x32a3ad(0x17a)]=this['speed']*(0x1-_0xcde57b)*_0x500127;if(this['x']+this['w']<player['x'])this[_0x32a3ad(0x1cd)]=![];else player['x']+player['w']<this['x']&&(this[_0x32a3ad(0x1cd)]=!![]);}}[_0x2a4a16(0x1a4)](){const _0x6181ee=_0x2a4a16;if(!this['dead']){this['followPlayer']();Math[_0x6181ee(0x1cb)](this[_0x6181ee(0x1c4)])>0.01?this[_0x6181ee(0x1c4)]*=0.9:this['xVelExt']=0x0;Math[_0x6181ee(0x1cb)](this['yVelExt'])>0.01?this[_0x6181ee(0x1d3)]*=0.9:this[_0x6181ee(0x1d3)]=0x0;(this[_0x6181ee(0x1f7)]['T']&&this[_0x6181ee(0x17a)]<0x0||this['col']['B']&&this['yVel']>0x0)&&(this[_0x6181ee(0x17a)]=0x0);(this['col']['L']&&this['xVel']<0x0||this[_0x6181ee(0x1f7)]['R']&&this[_0x6181ee(0x16f)]>0x0)&&(this[_0x6181ee(0x16f)]=0x0);this['action']!==0x0&&(this[_0x6181ee(0x1cd)]?this[_0x6181ee(0x1a6)]=0x2:this[_0x6181ee(0x1a6)]=0x1);this[_0x6181ee(0x1e9)](),this['x']+=(this[_0x6181ee(0x16f)]+this['xVelExt'])/DTR,this['y']+=(this[_0x6181ee(0x17a)]+this[_0x6181ee(0x1d3)])/DTR;for(let _0x35441a=0x0;_0x35441a<this['arrows'][_0x6181ee(0x206)];_0x35441a++){this[_0x6181ee(0x1ab)][_0x35441a]['x']=this['x']+this['arrows'][_0x35441a][_0x6181ee(0x1ce)],this[_0x6181ee(0x1ab)][_0x35441a]['y']=this['y']+this[_0x6181ee(0x1ab)][_0x35441a][_0x6181ee(0x1b6)];}this['hitbox']['x']=this['x']+0x6,this['hitbox']['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x6181ee(0x1c2)]=!![]),this[_0x6181ee(0x1c2)]&&(this[_0x6181ee(0x1d4)]=0x0,this[_0x6181ee(0x1e3)]=!![],this['action']=0x3,this[_0x6181ee(0x209)]=0x0,this[_0x6181ee(0x1c5)]=0x0,this[_0x6181ee(0x21c)]=0xa);}}[_0x2a4a16(0x1e5)](){const _0x2c02bc=_0x2a4a16;this[_0x2c02bc(0x209)]++;this[_0x2c02bc(0x209)]>this['slowness']*DTR&&(this[_0x2c02bc(0x209)]=0x0,this[_0x2c02bc(0x1c5)]++,this[_0x2c02bc(0x1c5)]>=this[_0x2c02bc(0x203)][this['action']][_0x2c02bc(0x206)]&&(this['action']==0x0&&(this[_0x2c02bc(0x1a6)]=0x1+this[_0x2c02bc(0x1cd)]),this['currentFrame']=0x0));this[_0x2c02bc(0x1a6)]==0x3&&(this[_0x2c02bc(0x1c5)]==this['actionX'][this['action']]['length']-0x1&&(this[_0x2c02bc(0x209)]=0x0));if(!this[_0x2c02bc(0x1e3)])for(let _0x43019d=0x0;_0x43019d<this[_0x2c02bc(0x1ab)][_0x2c02bc(0x206)];_0x43019d++){this['arrows'][_0x43019d][_0x2c02bc(0x1e5)]();}this[_0x2c02bc(0x1d4)]>0x0&&(this[_0x2c02bc(0x1a6)]=0x4,this[_0x2c02bc(0x1c5)]=0x0,this[_0x2c02bc(0x192)]=0x0,this['justDamaged']-=0x1/DTR),c['drawImage'](this[_0x2c02bc(0x1f2)],this[_0x2c02bc(0x203)][this[_0x2c02bc(0x1a6)]][this[_0x2c02bc(0x1c5)]]*TILESIZE,this['actionY'][this[_0x2c02bc(0x1a6)]][this[_0x2c02bc(0x1c5)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x405839,_0x4664d4){const _0x2a3387=_0x2a4a16;super(Collidable),this['x']=(_0x405839/TILESIZE|0x0)*TILESIZE,this['y']=(_0x4664d4/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x2a3387(0x16f)]=0x0,this[_0x2a3387(0x17a)]=0x0,this[_0x2a3387(0x1c4)]=0x0,this[_0x2a3387(0x1d3)]=0x0,this[_0x2a3387(0x19c)]=0x2,this[_0x2a3387(0x1cd)]=0x0,this['justDied']=![],this[_0x2a3387(0x1d4)]=0x0,this['dead']=![],this[_0x2a3387(0x18c)]=![],this['arrows']=[],this[_0x2a3387(0x1b9)]=0x3,this['hp']=0x3,this[_0x2a3387(0x209)]=0x0,this[_0x2a3387(0x21c)]=0x4,this[_0x2a3387(0x1c5)]=0x0,this[_0x2a3387(0x1f2)]=id('sheet'),this[_0x2a3387(0x1a6)]=0x0,this[_0x2a3387(0x1a0)]=!![],this['path']=[],this[_0x2a3387(0x1f7)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x2a3387(0x216)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['actionX']=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0x2a3387(0x176)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this['counter']=0x0;}[_0x2a4a16(0x1ac)](){const _0x14fef3=_0x2a4a16;this[_0x14fef3(0x1e2)]['x']=this['x']-0x5*TILESIZE,this['atkBox']['y']=this['y']-0x5*TILESIZE,this[_0x14fef3(0x1e2)]['w']=0xb*TILESIZE,this[_0x14fef3(0x1e2)]['h']=0xb*TILESIZE;if(collided(this[_0x14fef3(0x1e2)],player)){if(this[_0x14fef3(0x18c)]){if(this['currentFrame']==0x0&&this[_0x14fef3(0x209)]==0x0){this[_0x14fef3(0x20c)]();switch(this[_0x14fef3(0x21d)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this['action']!==0x1&&(this[_0x14fef3(0x1a6)]=0x1,this[_0x14fef3(0x1c5)]=0x0,this[_0x14fef3(0x209)]=0x0);}else this[_0x14fef3(0x18c)]&&this[_0x14fef3(0x1a6)]!==0x0&&this['action']!==0x2&&(this['attacking']=![],this[_0x14fef3(0x1a0)]=!![],this[_0x14fef3(0x1a6)]=0x2,this['currentFrame']=0x0,this[_0x14fef3(0x209)]=0x0);}[_0x2a4a16(0x1a4)](){const _0x3d62b6=_0x2a4a16;this[_0x3d62b6(0x1ac)](),this[_0x3d62b6(0x216)]['x']=this['x']+(this['w']-0xe)/0x2,this['hitbox']['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x14080c=0x0;_0x14080c<this[_0x3d62b6(0x1ab)]['length'];_0x14080c++){this[_0x3d62b6(0x1ab)][_0x14080c]['x']=this['x']+this[_0x3d62b6(0x1ab)][_0x14080c]['xRel'],this[_0x3d62b6(0x1ab)][_0x14080c]['y']=this['y']+this[_0x3d62b6(0x1ab)][_0x14080c][_0x3d62b6(0x1b6)];}this['hp']<=0x0&&(this[_0x3d62b6(0x1c2)]=!![]),this[_0x3d62b6(0x1c2)]&&(this['justDamaged']=0x0,this[_0x3d62b6(0x1e3)]=!![],this[_0x3d62b6(0x1a6)]=0x3,this[_0x3d62b6(0x209)]=0x0,this[_0x3d62b6(0x1c5)]=0x0,this['slowness']=0xa);}['draw'](){const _0x1dfede=_0x2a4a16;this[_0x1dfede(0x209)]++;this[_0x1dfede(0x1a6)]==0x4?this[_0x1dfede(0x21c)]=0x3:this['slowness']=0x5;if(this[_0x1dfede(0x209)]>this[_0x1dfede(0x21c)]*DTR){this[_0x1dfede(0x209)]=0x0,this[_0x1dfede(0x1c5)]++;if(this[_0x1dfede(0x1c5)]>=this['actionX'][this[_0x1dfede(0x1a6)]][_0x1dfede(0x206)]){if(this[_0x1dfede(0x1e3)])this['currentFrame']=this[_0x1dfede(0x203)][this[_0x1dfede(0x1a6)]][_0x1dfede(0x206)]-0x1;else{if(this['action']==0x1)this[_0x1dfede(0x18c)]=!![],this[_0x1dfede(0x1a0)]=![],this[_0x1dfede(0x1a6)]=0x4,this[_0x1dfede(0x1c5)]=0x0;else this['action']==0x2?(this['action']=0x0,this[_0x1dfede(0x1c5)]=0x0):this['currentFrame']=0x0;}}}if(!this['dead']){if(this[_0x1dfede(0x1a6)]==0x0)for(let _0x596af3=0x0;_0x596af3<this[_0x1dfede(0x1ab)][_0x1dfede(0x206)];_0x596af3++){this[_0x1dfede(0x1ab)][_0x596af3][_0x1dfede(0x1e5)]();}}this[_0x1dfede(0x1d4)]>0x0&&(this[_0x1dfede(0x1a6)]=0x3,this['currentFrame']=0x0,this[_0x1dfede(0x192)]=0x0,this[_0x1dfede(0x1d4)]-=0x1/DTR,this[_0x1dfede(0x1d4)]<=0x0&&(this[_0x1dfede(0x1a6)]=0x0)),c[_0x1dfede(0x1d1)](this[_0x1dfede(0x1f2)],this[_0x1dfede(0x203)][this[_0x1dfede(0x1a6)]][this[_0x1dfede(0x1c5)]]*TILESIZE,this['actionY'][this[_0x1dfede(0x1a6)]][this[_0x1dfede(0x1c5)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}['createGrid'](){const _0x20137f=_0x2a4a16;let _0x5f2c84=0xb,_0x2ddd5c=[],_0x4256aa=this['x']+this['w']/0x2-TILESIZE*0x5,_0x33db8e=this['y']+this['h']/0x2-TILESIZE*0x5,_0x19c49b;for(let _0x40038e=0x0;_0x40038e<_0x5f2c84;_0x40038e++){_0x2ddd5c[_0x40038e]=[];for(let _0x3d8404=0x0;_0x3d8404<_0x5f2c84;_0x3d8404++){_0x19c49b=getTileData(_0x4256aa+_0x40038e*TILESIZE,_0x33db8e+_0x3d8404*TILESIZE),_0x19c49b===![]?_0x2ddd5c[_0x40038e][_0x3d8404]=_0x20137f(0x1b5):_0x2ddd5c[_0x40038e][_0x3d8404]=_0x20137f(0x18a);}}_0x2ddd5c[0x5][0x5]='Start',_0x2ddd5c[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x20137f(0x184),this[_0x20137f(0x21d)]=findShortestPath([0x5,0x5],_0x2ddd5c);}}class Flower extends Collidable{constructor(_0x129819,_0x597f5e){const _0x354a8d=_0x2a4a16;super(Collidable),this['x']=_0x129819,this['y']=_0x597f5e,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x354a8d(0x16f)]=0x0,this[_0x354a8d(0x17a)]=0x0,this[_0x354a8d(0x1c4)]=0x0,this[_0x354a8d(0x1d3)]=0x0,this['speed']=0x2,this[_0x354a8d(0x1cd)]=0x0,this[_0x354a8d(0x1c2)]=![],this[_0x354a8d(0x1d4)]=0x0,this['dead']=![],this[_0x354a8d(0x1ab)]=[],this[_0x354a8d(0x1b9)]=0x3,this['hp']=0x3,this[_0x354a8d(0x209)]=0x0,this[_0x354a8d(0x21c)]=0x8,this['attacking']=![],this[_0x354a8d(0x1c5)]=0x0,this[_0x354a8d(0x1f2)]=id(_0x354a8d(0x1f2)),this[_0x354a8d(0x189)]=0x5,this[_0x354a8d(0x211)]=0x8,this[_0x354a8d(0x1a0)]=!![],this[_0x354a8d(0x1f7)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x354a8d(0x1a6)]=0x0,this[_0x354a8d(0x203)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x354a8d(0x176)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this[_0x354a8d(0x1fa)]=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this['headY']=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x354a8d(0x1e7)]=0x0,this['justShot']=![];}[_0x2a4a16(0x20e)](){const _0x32dec6=_0x2a4a16;if(!isObstructed(this,player)){this[_0x32dec6(0x18c)]=!![];if(this[_0x32dec6(0x1c5)]==0x2){if(!this[_0x32dec6(0x1fb)]){let _0x12ea61=new EnemyProjectile(),_0x2faa9c=this['x']+this['w']/0x2,_0x142310=this['y']+this['h']/0x2,_0x51e295=player['x']+player['w']/0x2-_0x2faa9c+Math[_0x32dec6(0x205)]()*this[_0x32dec6(0x189)]-this['precision']/0x2,_0x426d62=player['y']+player['h']/0x2-_0x142310+Math[_0x32dec6(0x205)]()*this[_0x32dec6(0x189)]-this[_0x32dec6(0x189)]/0x2,_0x3d1d2c=Math['atan2'](_0x426d62,_0x51e295),_0x441448=Math[_0x32dec6(0x218)](_0x3d1d2c),_0x9ac926=Math[_0x32dec6(0x1e0)](_0x3d1d2c);_0x12ea61['xVel']=_0x441448*this[_0x32dec6(0x211)],_0x12ea61['yVel']=_0x9ac926*this[_0x32dec6(0x211)],_0x12ea61['x']=_0x2faa9c,_0x12ea61['y']=_0x142310,enemyProjectiles[_0x32dec6(0x1c3)](_0x12ea61),this['justShot']=!![];}}else this[_0x32dec6(0x1fb)]=![];}else this[_0x32dec6(0x18c)]=![];}[_0x2a4a16(0x1a4)](){const _0x342beb=_0x2a4a16;this['shoot'](),this[_0x342beb(0x216)]['x']=this['x']+this['w']/0x3,this[_0x342beb(0x216)]['y']=this['y']+this['h']/0x5,this[_0x342beb(0x1e7)]=Math['atan2'](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x30e11e=0x0;_0x30e11e<this[_0x342beb(0x1ab)][_0x342beb(0x206)];_0x30e11e++){this[_0x342beb(0x1ab)][_0x30e11e]['x']=this['x']+this[_0x342beb(0x1ab)][_0x30e11e][_0x342beb(0x1ce)],this['arrows'][_0x30e11e]['y']=this['y']+this[_0x342beb(0x1ab)][_0x30e11e][_0x342beb(0x1b6)];}this['hp']<=0x0&&(this[_0x342beb(0x1c2)]=!![]),this[_0x342beb(0x1c2)]&&(this['justDamaged']=0x0,this[_0x342beb(0x1e3)]=!![],this['action']=0x2,this[_0x342beb(0x209)]=0x0,this[_0x342beb(0x1c5)]=0x0,this[_0x342beb(0x21c)]=0xa);}[_0x2a4a16(0x1e5)](){const _0xb1418e=_0x2a4a16;this[_0xb1418e(0x209)]++;this[_0xb1418e(0x209)]>this[_0xb1418e(0x21c)]*DTR&&(this[_0xb1418e(0x209)]=0x0,this[_0xb1418e(0x1c5)]++,this[_0xb1418e(0x1c5)]>=this['actionX'][this['action']][_0xb1418e(0x206)]&&(this[_0xb1418e(0x1e3)]?this['currentFrame']=this['actionX'][this[_0xb1418e(0x1a6)]]['length']-0x1:this[_0xb1418e(0x1c5)]=0x0));if(!this[_0xb1418e(0x1e3)]){this[_0xb1418e(0x18c)]?this[_0xb1418e(0x1a6)]=0x1:this[_0xb1418e(0x1a6)]=0x0;for(let _0xbb6416=0x0;_0xbb6416<this[_0xb1418e(0x1ab)][_0xb1418e(0x206)];_0xbb6416++){this[_0xb1418e(0x1ab)][_0xbb6416][_0xb1418e(0x1e5)]();}}this[_0xb1418e(0x18c)]?this[_0xb1418e(0x21c)]=0x4:this[_0xb1418e(0x21c)]=0x8,this[_0xb1418e(0x1d4)]&&(this[_0xb1418e(0x1a6)]=0x2,this[_0xb1418e(0x1c5)]=0x0,this[_0xb1418e(0x192)]=0x0,this[_0xb1418e(0x1d4)]--),c[_0xb1418e(0x1d1)](this[_0xb1418e(0x1f2)],this[_0xb1418e(0x203)][this[_0xb1418e(0x1a6)]][this['currentFrame']]*TILESIZE,this[_0xb1418e(0x176)][this[_0xb1418e(0x1a6)]][this[_0xb1418e(0x1c5)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this['action']==0x0||this[_0xb1418e(0x1a6)]==0x1)&&(c[_0xb1418e(0x1af)](),c[_0xb1418e(0x200)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0xb1418e(0x1f5)](this['radians']),c['drawImage'](this[_0xb1418e(0x1f2)],this[_0xb1418e(0x1fa)][this[_0xb1418e(0x1a6)]][this[_0xb1418e(0x1c5)]]*TILESIZE,this[_0xb1418e(0x1da)][this[_0xb1418e(0x1a6)]][this[_0xb1418e(0x1c5)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0xb1418e(0x1fd)]());}}function getTileData(_0x462b71,_0x4cb3f5){const _0x29c70c=_0x2a4a16;let _0x1e315f=(_0x462b71/TILESIZE|0x0)+(_0x4cb3f5/TILESIZE|0x0)*map['width'];for(let _0x1eb710=0x0;_0x1eb710<map[_0x29c70c(0x1ba)][_0x29c70c(0x206)];_0x1eb710++){for(let _0x34421a=0x0;_0x34421a<TilesData[_0x29c70c(0x206)];_0x34421a++){if(TilesData[_0x34421a]['id']==map[_0x29c70c(0x1ba)][_0x1eb710][_0x1e315f]-0x1)return TilesData[_0x34421a];}}return![];}window[_0x2a4a16(0x1ee)]=function(){const _0x25c59c=_0x2a4a16;player[_0x25c59c(0x198)]!==0x0?player[_0x25c59c(0x20e)]():player[_0x25c59c(0x19e)]=0xa;},window[_0x2a4a16(0x194)]=function(_0x115017){const _0x3fa791=_0x2a4a16;_0x115017['preventDefault'](),player[_0x3fa791(0x18f)]();},document[_0x2a4a16(0x202)](_0x2a4a16(0x172),function(_0x438190){const _0x67113f=_0x2a4a16;switch(_0x438190['button']){case 0x0:userInterface[_0x67113f(0x213)]=!![];break;case 0x2:userInterface[_0x67113f(0x1d8)]=!![];break;}}),document['addEventListener'](_0x2a4a16(0x212),function(_0x1bafd1){const _0x2dfd5c=_0x2a4a16;switch(_0x1bafd1['button']){case 0x0:userInterface[_0x2dfd5c(0x213)]=![];break;case 0x2:userInterface[_0x2dfd5c(0x1d8)]=![];break;}});var stats=id('stats');function drawStats(){const _0x3c8184=_0x2a4a16;stats['innerHTML']=_0x3c8184(0x1cf)+player['x'],stats[_0x3c8184(0x174)]+=_0x3c8184(0x1bf)+player['y'],stats[_0x3c8184(0x174)]+=_0x3c8184(0x186)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats['innerHTML']+=_0x3c8184(0x20b)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x3c8184(0x174)]+='<br>mouseTile\x20pos\x20=\x20'+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x3c8184(0x214)]),stats['innerHTML']+=_0x3c8184(0x1d5)+map[_0x3c8184(0x1ba)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x3c8184(0x214)]],map[_0x3c8184(0x1ba)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x3c8184(0x214)]],DEBUG&&(c[_0x3c8184(0x1d6)]((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x3c8184(0x207)]());}window['addEventListener'](_0x2a4a16(0x191),function(_0x2904cd){const _0x3ecf61=_0x2a4a16;switch(_0x2904cd['keyCode']){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0x3ecf61(0x1c3)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console['log'](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x376cf7=0x0;_0x376cf7<0x32;_0x376cf7++){player['shoot'](),player['arrowCounter']=player[_0x3ecf61(0x1c8)]*DTR,player[_0x3ecf61(0x1c1)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x2a4a16(0x202)](_0x2a4a16(0x1a3),function(_0x1b6022){switch(_0x1b6022['keyCode']){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0x2a4a16(0x202)]('mousemove',function(_0x53c47d){const _0x4a608d=_0x2a4a16;mousePP['x']=_0x53c47d[_0x4a608d(0x1d0)]-CANVAS[_0x4a608d(0x21e)],mousePP['y']=_0x53c47d['clientY']-CANVAS['offsetTop'];});function moveCamera(){const _0xe60259=_0x2a4a16;map['x']=-player['x']/0x3+CANVAS['width']/0x6,map['y']=-player['y']/0x3+CANVAS['height']/0x6,screenShake[_0xe60259(0x1be)]&&(screenShake['counter']--,screenShake[_0xe60259(0x20d)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x4f580c=_0x2a4a16;c[_0x4f580c(0x208)]=0x2,c[_0x4f580c(0x178)]=sampleArrow[_0x4f580c(0x21a)][0x0],c[_0x4f580c(0x1bb)]();for(let _0x552d23=playerArrows[_0x4f580c(0x206)]-0x1;_0x552d23>=0x0;_0x552d23--){if(!playerArrows[_0x552d23][_0x4f580c(0x1db)]||playerArrows[_0x552d23][_0x4f580c(0x19b)]!=0x1)continue;playerArrows[_0x552d23][_0x4f580c(0x1c7)]&&playerArrows[_0x552d23][_0x4f580c(0x1a4)]();if(playerArrows[_0x552d23]!==undefined)playerArrows[_0x552d23][_0x4f580c(0x1e5)]();}c[_0x4f580c(0x1f6)](),c[_0x4f580c(0x207)](),c['strokeStyle']=sampleArrow[_0x4f580c(0x21a)][0x1],c[_0x4f580c(0x1bb)]();for(let _0xa415ff=playerArrows[_0x4f580c(0x206)]-0x1;_0xa415ff>=0x0;_0xa415ff--){if(!playerArrows[_0xa415ff][_0x4f580c(0x1db)]||playerArrows[_0xa415ff]['color']!=0x2)continue;playerArrows[_0xa415ff][_0x4f580c(0x1c7)]&&playerArrows[_0xa415ff][_0x4f580c(0x1a4)]();if(playerArrows[_0xa415ff]!==undefined)playerArrows[_0xa415ff][_0x4f580c(0x1e5)]();}c[_0x4f580c(0x1f6)](),c['stroke']();}function loop(){const _0x3c3316=_0x2a4a16;fps++,c[_0x3c3316(0x181)](0x0,0x0,CANVAS[_0x3c3316(0x214)],CANVAS[_0x3c3316(0x1d9)]),moveCamera(),map[_0x3c3316(0x1e5)](),player['compute']();for(let _0x5431ee=enemyProjectiles['length']-0x1;_0x5431ee>=0x0;_0x5431ee--){enemyProjectiles[_0x5431ee]['compute']();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x159e60=0x0;_0x159e60<monsters[_0x3c3316(0x206)];_0x159e60++){!monsters[_0x159e60][_0x3c3316(0x1e3)]&&monsters[_0x159e60]['compute'](),monsters[_0x159e60]['draw']();}player['draw'](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0xe6ba27=enemyProjectiles[_0x3c3316(0x206)]-0x1;_0xe6ba27>=0x0;_0xe6ba27--){enemyProjectiles[_0xe6ba27][_0x3c3316(0x1e5)]();}sword[_0x3c3316(0x1db)]&&(sword['compute'](),sword[_0x3c3316(0x1e5)]());for(let _0x15cc61=visualFxs[_0x3c3316(0x206)]-0x1;_0x15cc61>=0x0;_0x15cc61--){!visualFxs[_0x15cc61]['ended']&&visualFxs[_0x15cc61][_0x3c3316(0x1e5)]();}userInterface['draw'](),drawStats();}var lastUpdate=Date[_0x2a4a16(0x1b1)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function _0x26b6(_0x2dde81,_0x4f8f02){const _0x3e4278=_0x3fae();return _0x26b6=function(_0x21b02b,_0x2a184c){_0x21b02b=_0x21b02b-0x16d;let _0x20c9b4=_0x3e4278[_0x21b02b];return _0x20c9b4;},_0x26b6(_0x2dde81,_0x4f8f02);}function tick(){const _0x199af4=_0x2a4a16;var _0x5ea35b=Date[_0x199af4(0x1b1)](),_0x13d3cd=_0x5ea35b-lastUpdate;lastUpdate=_0x5ea35b,DTR=0x3e8/0x3c/_0x13d3cd,!gamePaused&&loop();}