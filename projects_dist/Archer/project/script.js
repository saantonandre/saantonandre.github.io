'strict';const _0x36dee8=_0x5031;(function(_0x47cbbd,_0x1e91e7){const _0x4e7258=_0x5031,_0x460141=_0x47cbbd();while(!![]){try{const _0x1a5ca0=parseInt(_0x4e7258(0x196))/0x1*(parseInt(_0x4e7258(0x16c))/0x2)+-parseInt(_0x4e7258(0x1bf))/0x3+parseInt(_0x4e7258(0x15e))/0x4+-parseInt(_0x4e7258(0x181))/0x5+parseInt(_0x4e7258(0x1b8))/0x6*(-parseInt(_0x4e7258(0x17a))/0x7)+parseInt(_0x4e7258(0x1c8))/0x8*(parseInt(_0x4e7258(0x174))/0x9)+parseInt(_0x4e7258(0x139))/0xa;if(_0x1a5ca0===_0x1e91e7)break;else _0x460141['push'](_0x460141['shift']());}catch(_0x5cf97e){_0x460141['push'](_0x460141['shift']());}}}(_0x326d,0xabcb0));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0x36dee8(0x13b)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS['getContext']('2d');CANVAS['width']=0x2e0,CANVAS['height']=0x1e0,CANVAS['style'][_0x36dee8(0x134)]=(window[_0x36dee8(0x11a)]-CANVAS['width'])/0x2+'px',CANVAS['style'][_0x36dee8(0x12b)]=(window[_0x36dee8(0x185)]-CANVAS[_0x36dee8(0x170)])/0x2+'px',c[_0x36dee8(0x1ba)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x5a9ad5){const _0x2722de=(function(){let _0x49a08d=!![];return function(_0x68c811,_0x118e24){const _0x4a7ffa=_0x49a08d?function(){const _0x75d6a6=_0x5031;if(_0x118e24){const _0xaed1a7=_0x118e24[_0x75d6a6(0x1a7)](_0x68c811,arguments);return _0x118e24=null,_0xaed1a7;}}:function(){};return _0x49a08d=![],_0x4a7ffa;};}()),_0x39967b=_0x2722de(this,function(){const _0x76fbad=_0x5031,_0x5b71a1=function(){const _0x3a865e=_0x5031;let _0x46f811;try{_0x46f811=Function('return\x20(function()\x20'+_0x3a865e(0x155)+');')();}catch(_0x50b9fd){_0x46f811=window;}return _0x46f811;},_0x2328d7=_0x5b71a1(),_0x4b6c0a=new RegExp(_0x76fbad(0x198),'g'),_0xe7932c=_0x76fbad(0x1c6)['replace'](_0x4b6c0a,'')[_0x76fbad(0x18d)](';');let _0x26cb1d,_0x530c38,_0x3444c7,_0x5a80e6;const _0x131c88=function(_0x9cf30d,_0x226787,_0xed0787){const _0x1aa136=_0x76fbad;if(_0x9cf30d['length']!=_0x226787)return![];for(let _0x58a827=0x0;_0x58a827<_0x226787;_0x58a827++){for(let _0xe60c44=0x0;_0xe60c44<_0xed0787['length'];_0xe60c44+=0x2){if(_0x58a827==_0xed0787[_0xe60c44]&&_0x9cf30d[_0x1aa136(0x11f)](_0x58a827)!=_0xed0787[_0xe60c44+0x1])return![];}}return!![];},_0xcacc81=function(_0x56370f,_0x4d6e6a,_0x481265){return _0x131c88(_0x4d6e6a,_0x481265,_0x56370f);},_0xed29e7=function(_0x501d9f,_0x1836f8,_0x1c9464){return _0xcacc81(_0x1836f8,_0x501d9f,_0x1c9464);},_0x47465d=function(_0x207125,_0x41eb40,_0x2103db){return _0xed29e7(_0x41eb40,_0x2103db,_0x207125);};for(let _0x48d23d in _0x2328d7){if(_0x131c88(_0x48d23d,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x26cb1d=_0x48d23d;break;}}for(let _0x507fc2 in _0x2328d7[_0x26cb1d]){if(_0x47465d(0x6,_0x507fc2,[0x5,0x6e,0x0,0x64])){_0x530c38=_0x507fc2;break;}}for(let _0x3a708f in _0x2328d7[_0x26cb1d]){if(_0xed29e7(_0x3a708f,[0x7,0x6e,0x0,0x6c],0x8)){_0x3444c7=_0x3a708f;break;}}if(!('~'>_0x530c38))for(let _0x4841e1 in _0x2328d7[_0x26cb1d][_0x3444c7]){if(_0xcacc81([0x7,0x65,0x0,0x68],_0x4841e1,0x8)){_0x5a80e6=_0x4841e1;break;}}if(!_0x26cb1d||!_0x2328d7[_0x26cb1d])return;const _0x674d61=_0x2328d7[_0x26cb1d][_0x530c38],_0x51ad6b=!!_0x2328d7[_0x26cb1d][_0x3444c7]&&_0x2328d7[_0x26cb1d][_0x3444c7][_0x5a80e6],_0x4db9ef=_0x674d61||_0x51ad6b;if(!_0x4db9ef)return;let _0x4ab1f4=![];for(let _0x5691a9=0x0;_0x5691a9<_0xe7932c[_0x76fbad(0x126)];_0x5691a9++){const _0x4bf0f5=_0xe7932c[_0x5691a9],_0x996a2c=_0x4bf0f5[0x0]===String[_0x76fbad(0x1b5)](0x2e)?_0x4bf0f5[_0x76fbad(0x176)](0x1):_0x4bf0f5,_0x1e1d14=_0x4db9ef[_0x76fbad(0x126)]-_0x996a2c[_0x76fbad(0x126)],_0x2d2287=_0x4db9ef[_0x76fbad(0x1aa)](_0x996a2c,_0x1e1d14),_0x73ee02=_0x2d2287!==-0x1&&_0x2d2287===_0x1e1d14;_0x73ee02&&((_0x4db9ef[_0x76fbad(0x126)]==_0x4bf0f5['length']||_0x4bf0f5[_0x76fbad(0x1aa)]('.')===0x0)&&(_0x4ab1f4=!![]));}if(!_0x4ab1f4){const _0x4eb961=new RegExp(_0x76fbad(0x157),'g'),_0x2418df=_0x76fbad(0x1a8)[_0x76fbad(0x133)](_0x4eb961,'');_0x2328d7[_0x26cb1d][_0x3444c7]=_0x2418df;}});return _0x39967b(),document['getElementById'](_0x5a9ad5);}var fpsDiv=id(_0x36dee8(0x175));setInterval(function(){const _0x5205bc=_0x36dee8;fpsDiv[_0x5205bc(0x13d)]=_0x5205bc(0x125)+fps,fpsDiv[_0x5205bc(0x13d)]+='<br>DTR:\x20'+DTR[_0x5205bc(0x158)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x4e4585=_0x36dee8;this['x']=Math['random']()*0x8-0x4|0x0,this['y']=Math[_0x4e4585(0x13a)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x28d1dd=_0x36dee8;this['x']=0x0,this['y']=0x0,this['yVel']=0x0,this[_0x28d1dd(0x12f)]=0x0,this[_0x28d1dd(0x15f)]=0x0,this[_0x28d1dd(0x1b4)]=0x0,this[_0x28d1dd(0x1b1)]=!![],this['free']=!![],this[_0x28d1dd(0x18b)]=!![],this[_0x28d1dd(0x138)]=0x0,this['lengthY']=0x0,this['damage']=0x1,this[_0x28d1dd(0x1af)]=0x0,this[_0x28d1dd(0x164)]=[_0x28d1dd(0x1c0),_0x28d1dd(0x146)],this[_0x28d1dd(0x162)]={'x':0x0,'y':0x0};}['draw'](){const _0x46773f=_0x36dee8;Math[_0x46773f(0x1c2)](this[_0x46773f(0x12f)]*0x3)>Math[_0x46773f(0x1c2)](this[_0x46773f(0x138)])&&(this[_0x46773f(0x138)]=this[_0x46773f(0x12f)]*0x3,this[_0x46773f(0x1a3)]=this[_0x46773f(0x142)]*0x3),this['points']['x']=this['x']+this[_0x46773f(0x138)],this[_0x46773f(0x162)]['y']=this['y']+this['lengthY'],c[_0x46773f(0x15b)](this['x']+map['x'],this['y']+map['y']),c[_0x46773f(0x11c)](this['x']+this[_0x46773f(0x138)]+map['x'],this['y']+this[_0x46773f(0x1a3)]+map['y']);}[_0x36dee8(0x18a)](){const _0x518310=_0x36dee8;this['x']+=this['xVel']/DTR,this['y']+=this[_0x518310(0x142)]/DTR;if(getTileData(this['x'],this['y'])[_0x518310(0x15a)])visualFxs[_0x518310(0x1a2)](new Explosion(this['x']+this[_0x518310(0x12f)],this['y']+this[_0x518310(0x142)],this['color'])),this[_0x518310(0x1af)]==0x2&&(screenShake[_0x518310(0x130)]=0x5),this[_0x518310(0x12f)]=0x0,this[_0x518310(0x142)]=0x0,this['lengthX']/=0x2,this[_0x518310(0x1a3)]/=0x2,this[_0x518310(0x1b0)]=![];else for(let _0x12c03b=monsters[_0x518310(0x126)]-0x1;_0x12c03b>=0x0;_0x12c03b--){let _0x15ff41=monsters[_0x12c03b];!_0x15ff41[_0x518310(0x1b9)]&&_0x15ff41['collidable']&&((pointSquareCol(this,_0x15ff41)||pointSquareCol(this[_0x518310(0x162)],_0x15ff41))&&(this[_0x518310(0x1b1)]=![],_0x15ff41[_0x518310(0x11d)]=this[_0x518310(0x12f)]/0x2,_0x15ff41[_0x518310(0x118)]=this[_0x518310(0x142)]/0x2,visualFxs['push'](new Explosion(this['x'],this['y'],this[_0x518310(0x1af)])),this[_0x518310(0x1af)]==0x2&&(screenShake['counter']=0x5),this[_0x518310(0x12f)]=0x0,this[_0x518310(0x142)]=0x0,this['xRel']=this['x']-_0x15ff41['x'],this[_0x518310(0x1b4)]=this['y']-_0x15ff41['y'],_0x15ff41[_0x518310(0x1ae)][_0x518310(0x1a2)](this),_0x15ff41['hp']-=this['damage'],_0x15ff41['justDamaged']=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x214577=_0x36dee8;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this['yVel']=0x0,this[_0x214577(0x12f)]=0x0,this[_0x214577(0x1b0)]=!![],this[_0x214577(0x18b)]=![],this[_0x214577(0x161)]=id(_0x214577(0x161)),this[_0x214577(0x1a9)]=[0x5],this[_0x214577(0x17e)]=[0x18],this[_0x214577(0x13e)]=0x0,this[_0x214577(0x113)]=0x5;}['compute'](){const _0x59a130=_0x36dee8;this['x']+=this[_0x59a130(0x12f)]/DTR,this['y']+=this['yVel']/DTR,getTileData(this['x'],this['y'])['solid']?(enemyProjectiles['splice'](enemyProjectiles[_0x59a130(0x1aa)](this),0x1),visualFxs[_0x59a130(0x1a2)](new Explosion(this['x']+this['xVel'],this['y']+this[_0x59a130(0x142)],0x1)),this['xVel']=0x0,this[_0x59a130(0x142)]=0x0,this[_0x59a130(0x138)]/=0x2,this[_0x59a130(0x1a3)]/=0x2,this[_0x59a130(0x1b0)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x59a130(0x19d)](enemyProjectiles['indexOf'](this),0x1),player[_0x59a130(0x11d)]+=this['xVel']/0x2,player['yVelExt']+=this['yVel']/0x2,player['hp']-=this[_0x59a130(0x113)],visualFxs[_0x59a130(0x1a2)](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x59a130(0x130)]=0x5);}['draw'](){const _0x1f4b27=_0x36dee8;c[_0x1f4b27(0x1a5)](this[_0x1f4b27(0x161)],this['actionX'][this[_0x1f4b27(0x13e)]]*TILESIZE,this[_0x1f4b27(0x17e)][this[_0x1f4b27(0x13e)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x5ce8b8,_0xc99405,_0x147173){const _0x1cd263=_0x36dee8;this['sheet']=id(_0x1cd263(0x161)),this['x']=_0x5ce8b8-0x10,this['y']=_0xc99405-0x10,this['w']=0x20,this['h']=0x20,this[_0x1cd263(0x192)]=0x0,this[_0x1cd263(0x149)]=0x0,this[_0x1cd263(0x19c)]=_0x147173-0x1,this['actionX']=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x1cd263(0x17e)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this['slowness']=0x4,this[_0x1cd263(0x169)]=![];}[_0x36dee8(0x147)](){const _0x37d76b=_0x36dee8;c[_0x37d76b(0x1a5)](this[_0x37d76b(0x161)],this['actionX'][this[_0x37d76b(0x19c)]][this[_0x37d76b(0x149)]],this[_0x37d76b(0x17e)][this[_0x37d76b(0x19c)]][this[_0x37d76b(0x149)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this['frameCounter']++,this[_0x37d76b(0x192)]>this[_0x37d76b(0x127)]*DTR&&(this[_0x37d76b(0x192)]=0x0,this[_0x37d76b(0x149)]++,this[_0x37d76b(0x149)]>this[_0x37d76b(0x1a9)][this[_0x37d76b(0x19c)]][_0x37d76b(0x126)]-0x1&&(this['ended']=!![]));}}class Collidable{constructor(){}['checkCollisions'](){const _0x40f5b0=_0x36dee8;let _0x466cc6;this[_0x40f5b0(0x156)]['T']=0x0,this[_0x40f5b0(0x156)]['B']=0x0,this['col']['L']=0x0,this[_0x40f5b0(0x156)]['R']=0x0,getTileData(this['x'],this['y'])[_0x40f5b0(0x18c)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x466cc6=colCheck(this,generatedSquare),this['x']+=(this[_0x40f5b0(0x156)]['L']-this[_0x40f5b0(0x156)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x40f5b0(0x156)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x40f5b0(0x18c)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x466cc6=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x40f5b0(0x156)]['R'])/0x5/DTR,this['y']+=(this[_0x40f5b0(0x156)]['T']-this[_0x40f5b0(0x156)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])['unpassable']&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x466cc6=colCheck(this,generatedSquare),this['x']+=(this[_0x40f5b0(0x156)]['L']-this[_0x40f5b0(0x156)]['R'])/0x5/DTR,this['y']+=(this[_0x40f5b0(0x156)]['T']-this[_0x40f5b0(0x156)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])['unpassable']&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x466cc6=colCheck(this,generatedSquare),this['x']+=(this[_0x40f5b0(0x156)]['L']-this[_0x40f5b0(0x156)]['R'])/0x5/DTR,this['y']+=(this[_0x40f5b0(0x156)]['T']-this[_0x40f5b0(0x156)]['B'])/0x5/DTR),this[_0x40f5b0(0x156)]['B']&&(this['yVelExt']>0x0&&(this['yVelExt']*=-0.5)),this[_0x40f5b0(0x156)]['T']&&(this['yVelExt']<0x0&&(this[_0x40f5b0(0x118)]*=-0.5)),this[_0x40f5b0(0x156)]['R']&&(this[_0x40f5b0(0x11d)]>0x0&&(this['xVelExt']*=-0.5)),this[_0x40f5b0(0x156)]['L']&&(this[_0x40f5b0(0x11d)]<0x0&&(this[_0x40f5b0(0x11d)]*=-0.5));}}class Player extends Collidable{constructor(_0x526b38,_0x4419d8){const _0x2764a7=_0x36dee8;super(Collidable),this['x']=_0x526b38,this['y']=_0x4419d8,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x2764a7(0x148)]=0x3,this[_0x2764a7(0x142)]=0x0,this[_0x2764a7(0x12f)]=0x0,this[_0x2764a7(0x118)]=0x0,this['xVelExt']=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this['arrowSpeed']=0xa,this[_0x2764a7(0x1ad)]=0x0,this[_0x2764a7(0x141)]=0x0,this[_0x2764a7(0x156)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x2764a7(0x1a9)]=[0x0,0x20,0x40],this[_0x2764a7(0x17e)]=[0x0,0x0,0x0],this[_0x2764a7(0x19c)]=0x0,this[_0x2764a7(0x192)]=0x0,this[_0x2764a7(0x127)]=0x6,this['radians']=0x0,this[_0x2764a7(0x1bc)]=![],this[_0x2764a7(0x168)]=0x14,this[_0x2764a7(0x17f)]=0x0,this['attacked']=0x0,this['arrowsArr']=[0x1,0x1,0x1,0x1,0x1],this[_0x2764a7(0x1b6)]=0x3c,this[_0x2764a7(0x19a)]=0x0,this[_0x2764a7(0x159)]=0x4,this['hp']=0x64,this[_0x2764a7(0x17d)]=0x64,this['mp']=0x64,this['maxMp']=0x64,this[_0x2764a7(0x194)]=0.25,this[_0x2764a7(0x16a)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}[_0x36dee8(0x18e)](){const _0x1b882c=_0x36dee8;let _0x2d2462=!![],_0x30b5b1;for(_0x30b5b1=0x0;_0x30b5b1<this[_0x1b882c(0x12a)]['length'];_0x30b5b1++){if(this[_0x1b882c(0x12a)][_0x30b5b1]===0x0){_0x2d2462=![];break;}}this[_0x1b882c(0x159)]=_0x30b5b1;if(!_0x2d2462){this[_0x1b882c(0x19a)]++;if(this['arrowCounter']>this[_0x1b882c(0x1b6)]*DTR)for(_0x30b5b1=0x0;_0x30b5b1<this[_0x1b882c(0x12a)]['length'];_0x30b5b1++){if(this[_0x1b882c(0x12a)][_0x30b5b1]===0x0){Math[_0x1b882c(0x13a)]()<this[_0x1b882c(0x194)]?this[_0x1b882c(0x12a)][_0x30b5b1]=0x2:this['arrowsArr'][_0x30b5b1]=0x1;this[_0x1b882c(0x19a)]=0x0;break;}}}else this[_0x1b882c(0x19a)]=0x0;}[_0x36dee8(0x18a)](){const _0x43e6a1=_0x36dee8;this[_0x43e6a1(0x18e)](),this[_0x43e6a1(0x1ad)]=this['x']+this['w']/0x2,this[_0x43e6a1(0x141)]=this['y']+this['h']/0x2,this[_0x43e6a1(0x1bd)]();Math[_0x43e6a1(0x1c2)](this['xVelExt'])>0.01?this['xVelExt']-=this[_0x43e6a1(0x11d)]*0.1/DTR:this['xVelExt']=0x0;Math[_0x43e6a1(0x1c2)](this[_0x43e6a1(0x118)])>0.01?this[_0x43e6a1(0x118)]-=this[_0x43e6a1(0x118)]*0.1/DTR:this['yVelExt']=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x43e6a1(0x148)]=0x2:this[_0x43e6a1(0x148)]=0x3;this['radians']=Math[_0x43e6a1(0x140)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x43e6a1(0x12f)]=-this[_0x43e6a1(0x148)];else!this['R']&&(this[_0x43e6a1(0x12f)]=0x0);if(this['R'])this[_0x43e6a1(0x12f)]=this[_0x43e6a1(0x148)];else!this['L']&&(this[_0x43e6a1(0x12f)]=0x0);if(this['T'])this[_0x43e6a1(0x142)]=-this[_0x43e6a1(0x148)];else!this['B']&&(this[_0x43e6a1(0x142)]=0x0);if(this['B'])this[_0x43e6a1(0x142)]=this[_0x43e6a1(0x148)];else!this['T']&&(this[_0x43e6a1(0x142)]=0x0);this['x']+=(this[_0x43e6a1(0x12f)]+this[_0x43e6a1(0x11d)])/DTR,this['y']+=(this[_0x43e6a1(0x142)]+this['yVelExt'])/DTR;}[_0x36dee8(0x147)](){const _0x35dae5=_0x36dee8;this['xVel']===0x0&&this[_0x35dae5(0x142)]===0x0?this['action']=0x0:(this[_0x35dae5(0x192)]++,this[_0x35dae5(0x192)]>=this[_0x35dae5(0x127)]*DTR&&(this['action']++,this[_0x35dae5(0x192)]=0x0,this['action']>=this['actionX'][_0x35dae5(0x126)]&&(this['action']=0x0))),c[_0x35dae5(0x119)](),c[_0x35dae5(0x135)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x35dae5(0x124)](this['radians']),c[_0x35dae5(0x1a5)](id(_0x35dae5(0x184)),this['actionX'][this[_0x35dae5(0x19c)]],this[_0x35dae5(0x17e)][this[_0x35dae5(0x19c)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x35dae5(0x151)](),this[_0x35dae5(0x17f)]&&(c[_0x35dae5(0x1a5)](id(_0x35dae5(0x161)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x35dae5(0x17f)]--),this[_0x35dae5(0x16a)][_0x35dae5(0x1b1)]&&this[_0x35dae5(0x14e)]();}[_0x36dee8(0x14e)](){const _0x1337c8=_0x36dee8;this[_0x1337c8(0x16a)]['frameCounter']++,this[_0x1337c8(0x16a)][_0x1337c8(0x192)]>=this[_0x1337c8(0x16a)][_0x1337c8(0x127)]*DTR&&(this['bow']['action']++,this[_0x1337c8(0x16a)][_0x1337c8(0x192)]=0x0,this['bow'][_0x1337c8(0x1b1)]>=this[_0x1337c8(0x16a)][_0x1337c8(0x1a9)][_0x1337c8(0x126)]&&(this['bow'][_0x1337c8(0x1b1)]=![])),c['save'](),c[_0x1337c8(0x135)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x1337c8(0x124)](this[_0x1337c8(0x137)]),c[_0x1337c8(0x1a5)](id('bow'),this[_0x1337c8(0x16a)][_0x1337c8(0x1a9)][this['bow'][_0x1337c8(0x19c)]],this[_0x1337c8(0x16a)][_0x1337c8(0x17e)][this[_0x1337c8(0x16a)][_0x1337c8(0x19c)]],0x30,0x30,-this['bow']['w']/0x2,-this[_0x1337c8(0x16a)]['h'],this['bow']['w'],this['bow']['h']),c['restore']();}['shoot'](){const _0x3e1889=_0x36dee8;this[_0x3e1889(0x16a)][_0x3e1889(0x1b1)]=!![],this[_0x3e1889(0x16a)]['frameCounter']=0x0,this['bow']['currentFrame']=0x0,this[_0x3e1889(0x16a)][_0x3e1889(0x19c)]=0x0;let _0x2dbe0f=this['x']+this['w']/0x2,_0x264f84=this['y']+this['h']/0x2,_0x2c9e89=Mouse['x']-_0x2dbe0f+Math[_0x3e1889(0x13a)]()*this[_0x3e1889(0x168)]-this[_0x3e1889(0x168)]/0x2,_0x459363=Mouse['y']-_0x264f84+Math[_0x3e1889(0x13a)]()*this[_0x3e1889(0x168)]-this['precision']/0x2,_0xa6500f=Math[_0x3e1889(0x140)](_0x459363,_0x2c9e89),_0x3845db=Math['cos'](_0xa6500f),_0x405c3a=Math[_0x3e1889(0x188)](_0xa6500f),_0x45ae13=new Projectile();_0x45ae13[_0x3e1889(0x12f)]=_0x3845db*this['arrowSpeed'],_0x45ae13[_0x3e1889(0x142)]=_0x405c3a*this[_0x3e1889(0x178)],_0x45ae13['x']=_0x2dbe0f,_0x45ae13['y']=_0x264f84,_0x45ae13[_0x3e1889(0x1af)]=this[_0x3e1889(0x12a)][0x0],playerArrows[_0x3e1889(0x1a2)](_0x45ae13),this[_0x3e1889(0x12a)][_0x3e1889(0x1c5)](),this[_0x3e1889(0x12a)][_0x3e1889(0x1a2)](0x0);}[_0x36dee8(0x165)](){const _0x2da6c1=_0x36dee8;if(!sword[_0x2da6c1(0x1b1)]){sword['active']=!![],sword[_0x2da6c1(0x11e)]=this[_0x2da6c1(0x137)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x3173db=this['x']+this['w']/0x2,_0x9b2dba=this['y']+this['h']/0x2,_0x1af0b6=returnCosine(Mouse['x'],Mouse['y'],_0x3173db,_0x9b2dba);this[_0x2da6c1(0x11d)]=_0x1af0b6[_0x2da6c1(0x143)]*0xe,this[_0x2da6c1(0x118)]=_0x1af0b6[_0x2da6c1(0x188)]*0xe;}}}}var player=new Player(CANVAS[_0x36dee8(0x14d)]/0x2,CANVAS['height']/0x4*0x3);function _0x326d(){const _0x57a821=['yVel','cos','textAlign','layout','#ff8db5','draw','speed','currentFrame','center','createGrid','json','width','drawBow','strokeStyle','followPlayer','restore','14px\x20Arial','stats','framecounter','{}.constructor(\x22return\x20this\x22)(\x20)','col','[riARssYqqUzIrBgHUVQIgzWJqhqRjTp]','toPrecision','arrowsCount','solid','moveTo','offsetLeft','justDamaged','4457948lwkuUv','xRel','closePath','sheet','points','keydown','colors','attack','keyCode','attacking','precision','ended','bow','portrait','1046102IOUFXz','round','tiles','offsetTop','height','collidable','hypot','justShot','675603ZnQdTL','FPS','slice','stroke','arrowSpeed','hasOwnProperty','28XuqptK','player.x\x20=\x20','vfxY','maxHp','actionY','noArrows','justDied','612425hYDBSm','attacked','Goal','player','innerHeight','arrow','grass','sin','hpBar','compute','friendly','unpassable','split','computeQuiver','mousedown','properties','path','frameCounter','black','critChance','crop','1xhujbk','<br>mouseTile.x\x20=\x20','[JwVERvVUjIFBzvYGKBXBzfEpxPpRBkDJKxAMxWRxNZfXqBFYjJpKzCAwZPyWYZww]','name','arrowCounter','<br>mouseTile.y\x20=\x20','action','splice','Start','#2f4447','fillText','globalAlpha','push','lengthY','<br>mouseTile\x20pos\x20=\x20','drawImage','then','apply','ariboARusts:blYaqqUzIrBngkHUVQIgzWJqhqRjTp','actionX','indexOf','swordImg','clientX','centerX','arrows','color','free','active','hitbox','mouseup','yRel','fromCharCode','arrowCD','now','1892190ejAdaE','dead','imageSmoothingEnabled','shoot','sword','checkCollisions','log','3858417ngxqqx','#8b5851','rClick','abs','keyup','vfxX','shift','saJwantVEonaRndrvVUe.gjIFBizthvubYG.KioBX;loBczafEpxlPhpoRsBtkDJKxAMxWRxNZfXqBFYjJpKzCAwZPyWYZww','projSpeed','144wqnYoD','damage','#ff0000','mousemove','sort','Obstacle','yVelExt','save','innerWidth','mpBar','lineTo','xVelExt','radiansP','charCodeAt','atkBox','addEventListener','clearRect','headY','rotate','FPS:\x20','length','slowness','<br>player.y\x20=\x20','lClick','arrowsArr','top','beginPath','pos','fillStyle','xVel','counter','hp-bar','<br>mouseTile\x20id\x20=\x20','replace','left','translate','onclick','radians','lengthX','3850040rLMnwr','random','canvas','preventDefault','innerHTML','type','button','atan2','centerY'];_0x326d=function(){return _0x57a821;};return _0x326d();}class UserInterface{constructor(){const _0xcea82=_0x36dee8;this['sheet']=id('ui-sheet'),this['x']=0x14,this['y']=0x5,this[_0xcea82(0x129)]=![],this[_0xcea82(0x1c1)]=![],this[_0xcea82(0x182)]=0x0,this['layout']={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this['portrait']={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0xcea82(0x189)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0xcea82(0x11b)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0xcea82(0x16a)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0xcea82(0x1bc)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0xcea82(0x186)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0xcea82(0x12a)]=[0x1,0x1,0x1,0x1];}[_0x36dee8(0x147)](){const _0x59dfeb=_0x36dee8;this['lClick']&&(c['globalAlpha']=0.5);c['drawImage'](this[_0x59dfeb(0x161)],this['bow'][_0x59dfeb(0x195)]['x'],this['bow'][_0x59dfeb(0x195)]['y'],this[_0x59dfeb(0x16a)][_0x59dfeb(0x195)]['w'],this[_0x59dfeb(0x16a)][_0x59dfeb(0x195)]['h'],this['bow']['pos']['x'],this[_0x59dfeb(0x16a)][_0x59dfeb(0x12d)]['y'],this[_0x59dfeb(0x16a)][_0x59dfeb(0x195)]['w'],this[_0x59dfeb(0x16a)]['crop']['h']);this['lClick']&&(c[_0x59dfeb(0x1a1)]=0x1);this['rClick']&&(c[_0x59dfeb(0x1a1)]=0.5);c[_0x59dfeb(0x1a5)](this['sheet'],this[_0x59dfeb(0x1bc)][_0x59dfeb(0x195)]['x'],this[_0x59dfeb(0x1bc)][_0x59dfeb(0x195)]['y'],this[_0x59dfeb(0x1bc)]['crop']['w'],this['sword']['crop']['h'],this[_0x59dfeb(0x1bc)][_0x59dfeb(0x12d)]['x'],this['sword'][_0x59dfeb(0x12d)]['y'],this[_0x59dfeb(0x1bc)][_0x59dfeb(0x195)]['w'],this[_0x59dfeb(0x1bc)][_0x59dfeb(0x195)]['h']);this[_0x59dfeb(0x1c1)]&&(c['globalAlpha']=0x1);c[_0x59dfeb(0x1a5)](this[_0x59dfeb(0x161)],this[_0x59dfeb(0x145)][_0x59dfeb(0x195)]['x'],this[_0x59dfeb(0x145)]['crop']['y'],this[_0x59dfeb(0x145)][_0x59dfeb(0x195)]['w'],this[_0x59dfeb(0x145)]['crop']['h'],this[_0x59dfeb(0x145)]['pos']['x']+this['x'],this['layout'][_0x59dfeb(0x12d)]['y']+this['y'],this[_0x59dfeb(0x145)][_0x59dfeb(0x195)]['w'],this[_0x59dfeb(0x145)]['crop']['h']),c['drawImage'](this[_0x59dfeb(0x161)],this['portrait']['crop'][player[_0x59dfeb(0x182)]]['x'],this[_0x59dfeb(0x16b)]['crop'][player[_0x59dfeb(0x182)]]['y'],this[_0x59dfeb(0x16b)][_0x59dfeb(0x195)][player[_0x59dfeb(0x182)]]['w'],this['portrait'][_0x59dfeb(0x195)][player[_0x59dfeb(0x182)]]['h'],this[_0x59dfeb(0x16b)][_0x59dfeb(0x12d)]['x']+this['x'],this['portrait']['pos']['y']+this['y'],this[_0x59dfeb(0x16b)]['crop'][player[_0x59dfeb(0x182)]]['w'],this[_0x59dfeb(0x16b)][_0x59dfeb(0x195)][player['attacked']]['h']),c[_0x59dfeb(0x1a5)](this[_0x59dfeb(0x161)],this[_0x59dfeb(0x189)][_0x59dfeb(0x195)]['x'],this[_0x59dfeb(0x189)][_0x59dfeb(0x195)]['y'],this['hpBar'][_0x59dfeb(0x195)]['w'],this[_0x59dfeb(0x189)][_0x59dfeb(0x195)]['h'],this[_0x59dfeb(0x189)][_0x59dfeb(0x12d)]['x']+this['x'],this[_0x59dfeb(0x189)][_0x59dfeb(0x12d)]['y']+this['y'],this[_0x59dfeb(0x189)]['crop']['w']/player['maxHp']*player['hp'],this['hpBar']['crop']['h']),c['drawImage'](this['sheet'],this['mpBar']['crop']['x'],this[_0x59dfeb(0x11b)][_0x59dfeb(0x195)]['y'],this['mpBar'][_0x59dfeb(0x195)]['w'],this[_0x59dfeb(0x11b)][_0x59dfeb(0x195)]['h'],this[_0x59dfeb(0x11b)]['pos']['x']+this['x'],this[_0x59dfeb(0x11b)][_0x59dfeb(0x12d)]['y']+this['y'],this[_0x59dfeb(0x11b)][_0x59dfeb(0x195)]['w'],this[_0x59dfeb(0x11b)][_0x59dfeb(0x195)]['h']);for(let _0x3569bb=0x0;_0x3569bb<player[_0x59dfeb(0x12a)][_0x59dfeb(0x126)];_0x3569bb++){c[_0x59dfeb(0x1a5)](this[_0x59dfeb(0x161)],this[_0x59dfeb(0x186)]['crop'][player[_0x59dfeb(0x12a)][_0x3569bb]]['x'],this[_0x59dfeb(0x186)][_0x59dfeb(0x195)][player['arrowsArr'][_0x3569bb]]['y'],this[_0x59dfeb(0x186)][_0x59dfeb(0x195)][player[_0x59dfeb(0x12a)][_0x3569bb]]['w'],this[_0x59dfeb(0x186)][_0x59dfeb(0x195)][player[_0x59dfeb(0x12a)][_0x3569bb]]['h'],this['arrow']['pos']['x']+this['x']-0xa*_0x3569bb,this[_0x59dfeb(0x186)][_0x59dfeb(0x12d)]['y']+this['y'],this['arrow'][_0x59dfeb(0x195)][player[_0x59dfeb(0x12a)][_0x3569bb]]['w'],this['arrow'][_0x59dfeb(0x195)][player[_0x59dfeb(0x12a)][_0x3569bb]]['h']);}c['font']=_0x59dfeb(0x152),c[_0x59dfeb(0x144)]=_0x59dfeb(0x14a),c[_0x59dfeb(0x12e)]=_0x59dfeb(0x19f),c[_0x59dfeb(0x1a0)](player[_0x59dfeb(0x159)]+'/'+player['arrowsArr'][_0x59dfeb(0x126)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x1c972a=_0x36dee8;let _0x17deb7=player['x']+player['w']/0x2,_0xc1cc5f=player['y']+player['h']/0x2,_0x4edca3=_0x17deb7,_0x34b9c5=_0xc1cc5f,_0xe50cdb=![],_0x42ed20=0x0,_0x28e10b=returnCosine(_0x17deb7,_0xc1cc5f,Mouse['x'],Mouse['y']),_0x13acf4=[],_0x551753={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x2fd4eb={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x4e22e2=0x4,_0x4dc5a7={'x':0x0,'y':0x0};while(!_0xe50cdb&&_0x42ed20<CANVAS[_0x1c972a(0x14d)]*0x2/_0x4e22e2){_0x4edca3-=_0x28e10b[_0x1c972a(0x143)]*_0x4e22e2,_0x34b9c5-=_0x28e10b['sin']*_0x4e22e2;getTileData(_0x4edca3,_0x34b9c5)[_0x1c972a(0x15a)]&&(_0x551753=getTileData(_0x4edca3,_0x34b9c5)['hitbox'],_0x2fd4eb['x']=_0x551753['x'],_0x2fd4eb['y']=_0x551753['y'],_0x2fd4eb['w']=_0x551753['w'],_0x2fd4eb['h']=_0x551753['h'],_0x2fd4eb['x']+=_0x4edca3-_0x4edca3%TILESIZE,_0x2fd4eb['y']+=_0x34b9c5-_0x34b9c5%TILESIZE,_0xe50cdb=!![]);_0x4dc5a7['x']=_0x4edca3,_0x4dc5a7['y']=_0x34b9c5;for(let _0x422acf=0x0;_0x422acf<monsters[_0x1c972a(0x126)];_0x422acf++){if(!monsters[_0x422acf][_0x1c972a(0x1b9)]&&pointSquareCol(_0x4dc5a7,monsters[_0x422acf])){_0x2fd4eb['x']=monsters[_0x422acf]['x'],_0x2fd4eb['y']=monsters[_0x422acf]['y'],_0x2fd4eb['w']=monsters[_0x422acf]['w'],_0x2fd4eb['h']=monsters[_0x422acf]['h'],_0xe50cdb=!![];break;}}_0x42ed20++;}_0x13acf4=getRectSides(_0x2fd4eb);let _0x3839a7=[],_0x268c74={},_0x6b61a7;for(let _0x1f762f=0x0;_0x1f762f<_0x13acf4[_0x1c972a(0x126)];_0x1f762f++){_0x268c74=intersect(_0x17deb7,_0xc1cc5f,_0x4edca3,_0x34b9c5,_0x13acf4[_0x1f762f]['x1'],_0x13acf4[_0x1f762f]['y1'],_0x13acf4[_0x1f762f]['x2'],_0x13acf4[_0x1f762f]['y2']),_0x268c74&&_0x3839a7[_0x1c972a(0x1a2)](_0x268c74);}let _0x557e0f=Math['hypot'](_0x17deb7-_0x4edca3,_0xc1cc5f-_0x34b9c5),_0x5da54c=_0x4edca3,_0x25be5b=_0x4edca3;for(let _0x8aa513=0x0;_0x8aa513<_0x3839a7[_0x1c972a(0x126)];_0x8aa513++){_0x6b61a7=Math[_0x1c972a(0x172)](_0x17deb7-_0x4edca3,_0xc1cc5f-_0x34b9c5),_0x6b61a7<_0x557e0f&&(_0x557e0f=_0x6b61a7,_0x5da54c=_0x3839a7[_0x8aa513]['x'],_0x25be5b=_0x3839a7[_0x8aa513]['y']);}c[_0x1c972a(0x14f)]=_0x1c972a(0x114),c[_0x1c972a(0x12c)](),c[_0x1c972a(0x15b)](_0x17deb7+map['x'],_0xc1cc5f+map['y']),c[_0x1c972a(0x11c)](_0x4edca3+map['x'],_0x34b9c5+map['y']),c[_0x1c972a(0x177)](),c[_0x1c972a(0x14f)]=_0x1c972a(0x193);}function isObstructed(_0x4faa13,_0x25086c){const _0x51d777=_0x36dee8;let _0x1bb047=_0x4faa13['x']+_0x4faa13['w']/0x2,_0x4d50b7=_0x4faa13['y']+_0x4faa13['h']/0x2,_0x261d64=_0x25086c['x']+_0x25086c['w']/0x2,_0x24ccf2=_0x25086c['y']+_0x25086c['h']/0x2,_0x38c2b8=Math['hypot'](_0x1bb047-_0x261d64,_0x4d50b7-_0x24ccf2),_0x318592=_0x1bb047,_0x59185c=_0x4d50b7,_0x5c3d0f=![],_0x501d9e=0x0,_0xadfe4f=returnCosine(_0x1bb047,_0x4d50b7,_0x261d64,_0x24ccf2),_0x46acee=[],_0x2728e5={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x519f14={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x5c6936=0x3,_0x47cd48={'x':0x0,'y':0x0};while(!_0x5c3d0f&&_0x501d9e<_0x38c2b8/_0x5c6936){_0x318592-=_0xadfe4f[_0x51d777(0x143)]*_0x5c6936,_0x59185c-=_0xadfe4f[_0x51d777(0x188)]*_0x5c6936;if(getTileData(_0x318592,_0x59185c)[_0x51d777(0x15a)])return _0x2728e5=getTileData(_0x318592,_0x59185c)[_0x51d777(0x1b2)],_0x519f14['x']=_0x2728e5['x'],_0x519f14['y']=_0x2728e5['y'],_0x519f14['w']=_0x2728e5['w'],_0x519f14['h']=_0x2728e5['h'],_0x519f14['x']+=_0x318592-_0x318592%TILESIZE,_0x519f14['y']+=_0x59185c-_0x59185c%TILESIZE,!![];_0x47cd48['x']=_0x318592,_0x47cd48['y']=_0x59185c;if(pointSquareCol(_0x47cd48,_0x25086c))return![];_0x501d9e++;}}function getRectSides(_0x57312b){const _0x25240a=_0x36dee8;let _0x379107=[];return _0x379107['push']({'x1':_0x57312b['x'],'y1':_0x57312b['y'],'x2':_0x57312b['x']+_0x57312b['w'],'y2':_0x57312b['y']}),_0x379107[_0x25240a(0x1a2)]({'x1':_0x57312b['x']+_0x57312b['w'],'y1':_0x57312b['y'],'x2':_0x57312b['x']+_0x57312b['w'],'y2':_0x57312b['y']+_0x57312b['h']}),_0x379107['push']({'x1':_0x57312b['x']+_0x57312b['w'],'y1':_0x57312b['y']+_0x57312b['h'],'x2':_0x57312b['x'],'y2':_0x57312b['y']+_0x57312b['h']}),_0x379107[_0x25240a(0x1a2)]({'x1':_0x57312b['x'],'y1':_0x57312b['y']+_0x57312b['h'],'x2':_0x57312b['x'],'y2':_0x57312b['y']}),_0x379107;}function init(){const _0x1413eb=_0x36dee8;let _0xa3b3e6,_0x1f327b={};fetch('./Archer.json')[_0x1413eb(0x1a6)](function(_0x41e30f){const _0x2ecdcf=_0x1413eb;return _0x41e30f[_0x2ecdcf(0x14c)]();})['then'](function(_0x231299){const _0x5454e0=_0x1413eb;_0xa3b3e6=_0x231299['tiles'];for(let _0x254892=0x0;_0x254892<_0xa3b3e6[_0x5454e0(0x126)];_0x254892++){_0x1f327b={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x1f327b['id']=_0xa3b3e6[_0x254892]['id'];if(_0xa3b3e6[_0x254892][_0x5454e0(0x179)](_0x5454e0(0x190)))for(let _0x16a571=0x0;_0x16a571<_0xa3b3e6[_0x254892][_0x5454e0(0x190)][_0x5454e0(0x126)];_0x16a571++){if(_0xa3b3e6[_0x254892]['properties'][_0x16a571])switch(_0xa3b3e6[_0x254892][_0x5454e0(0x190)][_0x16a571][_0x5454e0(0x199)]){case'hole':_0x1f327b['hole']=!![],_0x1f327b[_0x5454e0(0x18c)]=!![];break;case _0x5454e0(0x15a):_0x1f327b[_0x5454e0(0x15a)]=!![],_0x1f327b['unpassable']=!![];break;}}TilesData[_0x5454e0(0x1a2)](_0x1f327b);}loop();});}init();var HP_BAR=id(_0x36dee8(0x131));function renderHpBars(){const _0x14d538=_0x36dee8;for(let _0x4eaf8c=0x0;_0x4eaf8c<monsters['length'];_0x4eaf8c++){if(monsters[_0x4eaf8c][_0x14d538(0x1b9)])continue;let _0xef02f7=monsters[_0x4eaf8c]['hp']/monsters[_0x4eaf8c]['maxHp'],_0xe66182=Math[_0x14d538(0x16d)](TILESIZE*_0xef02f7);c[_0x14d538(0x1a5)](HP_BAR,0x0,0x4,_0xe66182,0x4,monsters[_0x4eaf8c]['x']+monsters[_0x4eaf8c]['w']/0x2-0x10+map['x']|0x0,monsters[_0x4eaf8c]['y']-0x8+map['y']|0x0,_0xe66182|0x0,0x4|0x0),c[_0x14d538(0x1a5)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x4eaf8c]['x']+monsters[_0x4eaf8c]['w']/0x2-0x10+map['x']|0x0,monsters[_0x4eaf8c]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x4988b2=_0x36dee8;this[_0x4988b2(0x14d)]=0x17,this[_0x4988b2(0x170)]=0xf,this['x']=0x0,this['y']=0x0,this['tiles']=maps['m1'],this['sheet']=id(_0x4988b2(0x161)),this[_0x4988b2(0x187)]=id(_0x4988b2(0x187));}[_0x36dee8(0x147)](){const _0x29766e=_0x36dee8;for(let _0x3f79aa=0x0;_0x3f79aa<this['tiles'][_0x29766e(0x126)];_0x3f79aa++){_0x3f79aa==0x1&&c['drawImage'](this[_0x29766e(0x187)],0x0+this['x'],0x0+this['y'],CANVAS[_0x29766e(0x14d)],CANVAS[_0x29766e(0x170)]);for(let _0x2e8a53=0x0;_0x2e8a53<this[_0x29766e(0x16e)][_0x3f79aa][_0x29766e(0x126)];_0x2e8a53++){if(this[_0x29766e(0x16e)][_0x3f79aa][_0x2e8a53]===0x0)continue;c['drawImage'](this[_0x29766e(0x161)],(this['tiles'][_0x3f79aa][_0x2e8a53]-0x1)%0xf*TILESIZE,((this[_0x29766e(0x16e)][_0x3f79aa][_0x2e8a53]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x2e8a53%this[_0x29766e(0x14d)]*TILESIZE+map['x'],(_0x2e8a53/this[_0x29766e(0x14d)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x1dd0c0=_0x36dee8;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x1dd0c0(0x137)]=0x2,this[_0x1dd0c0(0x11e)]=0x0,this[_0x1dd0c0(0x1a9)]=[0x0],this[_0x1dd0c0(0x17e)]=[0x0],this[_0x1dd0c0(0x1c4)]=[0x0,0x0,0x0,0x0],this['vfxY']=[0x0,0x80,0x100,0x180],this[_0x1dd0c0(0x149)]=0x0,this['frameCounter']=0x0,this[_0x1dd0c0(0x19c)]=0x0,this[_0x1dd0c0(0x127)]=0x3,this['active']=![],this[_0x1dd0c0(0x161)]=id('sword-vfx'),this[_0x1dd0c0(0x1ab)]=id('sword');}[_0x36dee8(0x18a)](){const _0x8cab12=_0x36dee8;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x47db9a,_0x4f38a6,_0x55acc3;for(let _0x504b0a=0x0;_0x504b0a<monsters[_0x8cab12(0x126)];_0x504b0a++){if(monsters[_0x504b0a][_0x8cab12(0x1b9)]||!monsters[_0x504b0a]['collidable'])continue;_0x47db9a=monsters[_0x504b0a][_0x8cab12(0x1b2)]['x']+monsters[_0x504b0a]['hitbox']['w']/0x2,_0x4f38a6=monsters[_0x504b0a][_0x8cab12(0x1b2)]['y']+monsters[_0x504b0a]['hitbox']['h']/0x2,_0x55acc3=(monsters[_0x504b0a]['w']+monsters[_0x504b0a]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x47db9a,_0x4f38a6,_0x55acc3)){let _0x4f7a7c=this['x']+this['w']/0x2,_0x226b9d=this['y']+this['h']/0x2,_0x4d4b1b=monsters[_0x504b0a]['x']-_0x4f7a7c,_0x573c78=monsters[_0x504b0a]['y']-_0x226b9d,_0x464470=Math[_0x8cab12(0x140)](_0x573c78,_0x4d4b1b),_0x7a6323=Math[_0x8cab12(0x143)](_0x464470),_0x2e9eef=Math[_0x8cab12(0x188)](_0x464470);monsters[_0x504b0a][_0x8cab12(0x11d)]=_0x7a6323*0xa,monsters[_0x504b0a]['yVelExt']=_0x2e9eef*0xa,monsters[_0x504b0a]['hp']-=0.25,monsters[_0x504b0a][_0x8cab12(0x15d)]=0xf;}}}['draw'](){const _0x539109=_0x36dee8;this['frameCounter']++,this['frameCounter']>this[_0x539109(0x127)]*DTR&&(this[_0x539109(0x192)]=0x0,this[_0x539109(0x149)]++,this[_0x539109(0x149)]>=this[_0x539109(0x1c4)][_0x539109(0x126)]&&(this[_0x539109(0x149)]=0x0)),c[_0x539109(0x1a5)](this[_0x539109(0x161)],this[_0x539109(0x1c4)][this[_0x539109(0x149)]],this[_0x539109(0x17c)][this['currentFrame']],0x80,0x40,this['x']-0x40-player[_0x539109(0x11d)]*0x4+map['x'],this['y']-0x40-player[_0x539109(0x118)]*0x4+map['y'],0x80,0x40),c[_0x539109(0x119)](),c['translate'](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x539109(0x124)](this['radiansP']+this[_0x539109(0x137)]),c[_0x539109(0x1a5)](this[_0x539109(0x1ab)],this[_0x539109(0x1a9)][this[_0x539109(0x19c)]],this[_0x539109(0x17e)][this['action']],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c['restore'](),this[_0x539109(0x137)]-=0.5/DTR,this[_0x539109(0x137)]<=-0x9&&(this[_0x539109(0x1b1)]=![],this[_0x539109(0x137)]=0x2),c[_0x539109(0x1a5)](this[_0x539109(0x161)],this['vfxX'][this[_0x539109(0x149)]],this[_0x539109(0x17c)][this[_0x539109(0x149)]]+0x40,0x80,0x40,this['x']-0x40-player[_0x539109(0x11d)]*0x4+map['x'],this['y']-player[_0x539109(0x118)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x26ccac=_0x36dee8;monsters[_0x26ccac(0x116)](function(_0x5e08ef,_0x29bdcd){const _0x40b6c0=_0x26ccac;if(_0x5e08ef[_0x40b6c0(0x1b9)]&&!_0x29bdcd[_0x40b6c0(0x1b9)])return-0x1;else return!_0x5e08ef[_0x40b6c0(0x1b9)]&&_0x29bdcd[_0x40b6c0(0x1b9)]?0x1:_0x5e08ef['y']+0xf-_0x29bdcd['y'];});}function adjustCollidingMonsters(){const _0x4af1a5=_0x36dee8;for(let _0x15780b=0x0;_0x15780b<monsters[_0x4af1a5(0x126)];_0x15780b++){if(monsters[_0x15780b][_0x4af1a5(0x1b9)])continue;monsters[_0x15780b]['col']['T']=0x0,monsters[_0x15780b][_0x4af1a5(0x156)]['B']=0x0,monsters[_0x15780b][_0x4af1a5(0x156)]['L']=0x0,monsters[_0x15780b]['col']['R']=0x0;for(let _0x57e927=0x0;_0x57e927<monsters[_0x4af1a5(0x126)];_0x57e927++){if(monsters[_0x57e927]['dead'])continue;if(collided(monsters[_0x15780b],monsters[_0x57e927])){let _0x3b2b2c=colCheck(monsters[_0x15780b],monsters[_0x57e927]);switch(_0x3b2b2c){case'l':this[_0x4af1a5(0x12f)]<0x0&&(this[_0x4af1a5(0x12f)]=0x0);break;case'r':this[_0x4af1a5(0x12f)]>0x0&&(this[_0x4af1a5(0x12f)]=0x0);break;case'b':this[_0x4af1a5(0x142)]>0x0&&(this[_0x4af1a5(0x142)]=0x0);break;case't':this[_0x4af1a5(0x142)]<0x0&&(this[_0x4af1a5(0x142)]=0x0);break;}monsters[_0x15780b][_0x4af1a5(0x12f)]+=(monsters[_0x15780b]['col']['L']-monsters[_0x15780b][_0x4af1a5(0x156)]['R'])/0x5,monsters[_0x15780b][_0x4af1a5(0x142)]+=(monsters[_0x15780b]['col']['T']-monsters[_0x15780b]['col']['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x4f58ef,_0x47cd12){const _0x3e58f2=_0x36dee8;super(Collidable),this['x']=_0x4f58ef,this['y']=_0x47cd12,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x3e58f2(0x12f)]=0x0,this[_0x3e58f2(0x142)]=0x0,this['xVelExt']=0x0,this[_0x3e58f2(0x118)]=0x0,this[_0x3e58f2(0x148)]=0x2,this['left']=0x0,this[_0x3e58f2(0x180)]=![],this[_0x3e58f2(0x15d)]=0x0,this[_0x3e58f2(0x1b9)]=![],this['arrows']=[],this[_0x3e58f2(0x17d)]=0x3,this['hp']=0x3,this[_0x3e58f2(0x192)]=0x0,this[_0x3e58f2(0x127)]=0x4,this[_0x3e58f2(0x149)]=0x0,this[_0x3e58f2(0x171)]=!![],this[_0x3e58f2(0x161)]=id('sheet'),this[_0x3e58f2(0x19c)]=0x0,this[_0x3e58f2(0x156)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x3e58f2(0x1b2)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x3e58f2(0x1a9)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x3e58f2(0x17e)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x36dee8(0x150)](){const _0x1a3c19=_0x36dee8;if(this[_0x1a3c19(0x19c)]!==0x0){let _0x1afe7e=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x12bb90=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x169c30=_0x1afe7e>0x0?-0x1:0x1,_0x5ad044=_0x12bb90>0x0?-0x1:0x1,_0x338b96;_0x12bb90!==0x0?_0x338b96=Math[_0x1a3c19(0x1c2)](_0x1afe7e)/(Math[_0x1a3c19(0x1c2)](_0x12bb90)+Math[_0x1a3c19(0x1c2)](_0x1afe7e)):_0x338b96=0x0;this[_0x1a3c19(0x12f)]=this[_0x1a3c19(0x148)]*_0x338b96*_0x169c30,this[_0x1a3c19(0x142)]=this[_0x1a3c19(0x148)]*(0x1-_0x338b96)*_0x5ad044;if(this['x']+this['w']<player['x'])this['left']=![];else player['x']+player['w']<this['x']&&(this[_0x1a3c19(0x134)]=!![]);}}[_0x36dee8(0x18a)](){const _0x2a3ef3=_0x36dee8;if(!this['dead']){this[_0x2a3ef3(0x150)]();Math[_0x2a3ef3(0x1c2)](this[_0x2a3ef3(0x11d)])>0.01?this[_0x2a3ef3(0x11d)]*=0.9:this[_0x2a3ef3(0x11d)]=0x0;Math['abs'](this[_0x2a3ef3(0x118)])>0.01?this['yVelExt']*=0.9:this[_0x2a3ef3(0x118)]=0x0;(this[_0x2a3ef3(0x156)]['T']&&this[_0x2a3ef3(0x142)]<0x0||this[_0x2a3ef3(0x156)]['B']&&this['yVel']>0x0)&&(this[_0x2a3ef3(0x142)]=0x0);(this[_0x2a3ef3(0x156)]['L']&&this[_0x2a3ef3(0x12f)]<0x0||this[_0x2a3ef3(0x156)]['R']&&this['xVel']>0x0)&&(this[_0x2a3ef3(0x12f)]=0x0);this['action']!==0x0&&(this[_0x2a3ef3(0x134)]?this[_0x2a3ef3(0x19c)]=0x2:this['action']=0x1);this[_0x2a3ef3(0x1bd)](),this['x']+=(this[_0x2a3ef3(0x12f)]+this[_0x2a3ef3(0x11d)])/DTR,this['y']+=(this[_0x2a3ef3(0x142)]+this['yVelExt'])/DTR;for(let _0x415168=0x0;_0x415168<this[_0x2a3ef3(0x1ae)][_0x2a3ef3(0x126)];_0x415168++){this[_0x2a3ef3(0x1ae)][_0x415168]['x']=this['x']+this[_0x2a3ef3(0x1ae)][_0x415168][_0x2a3ef3(0x15f)],this[_0x2a3ef3(0x1ae)][_0x415168]['y']=this['y']+this[_0x2a3ef3(0x1ae)][_0x415168][_0x2a3ef3(0x1b4)];}this[_0x2a3ef3(0x1b2)]['x']=this['x']+0x6,this[_0x2a3ef3(0x1b2)]['y']=this['y']+0x4,this['hp']<=0x0&&(this['justDied']=!![]),this[_0x2a3ef3(0x180)]&&(this['justDamaged']=0x0,this[_0x2a3ef3(0x1b9)]=!![],this[_0x2a3ef3(0x19c)]=0x3,this[_0x2a3ef3(0x192)]=0x0,this[_0x2a3ef3(0x149)]=0x0,this[_0x2a3ef3(0x127)]=0xa);}}['draw'](){const _0x24ce96=_0x36dee8;this['frameCounter']++;this[_0x24ce96(0x192)]>this[_0x24ce96(0x127)]*DTR&&(this['frameCounter']=0x0,this[_0x24ce96(0x149)]++,this[_0x24ce96(0x149)]>=this['actionX'][this[_0x24ce96(0x19c)]][_0x24ce96(0x126)]&&(this['action']==0x0&&(this['action']=0x1+this[_0x24ce96(0x134)]),this[_0x24ce96(0x149)]=0x0));this['action']==0x3&&(this['currentFrame']==this[_0x24ce96(0x1a9)][this['action']][_0x24ce96(0x126)]-0x1&&(this[_0x24ce96(0x192)]=0x0));if(!this[_0x24ce96(0x1b9)])for(let _0x368b70=0x0;_0x368b70<this[_0x24ce96(0x1ae)][_0x24ce96(0x126)];_0x368b70++){this[_0x24ce96(0x1ae)][_0x368b70][_0x24ce96(0x147)]();}this[_0x24ce96(0x15d)]>0x0&&(this[_0x24ce96(0x19c)]=0x4,this['currentFrame']=0x0,this[_0x24ce96(0x154)]=0x0,this['justDamaged']-=0x1/DTR),c['drawImage'](this[_0x24ce96(0x161)],this['actionX'][this[_0x24ce96(0x19c)]][this[_0x24ce96(0x149)]]*TILESIZE,this['actionY'][this[_0x24ce96(0x19c)]][this[_0x24ce96(0x149)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x1936ba,_0x21899d){const _0x9d22f2=_0x36dee8;super(Collidable),this['x']=(_0x1936ba/TILESIZE|0x0)*TILESIZE,this['y']=(_0x21899d/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x9d22f2(0x12f)]=0x0,this['yVel']=0x0,this[_0x9d22f2(0x11d)]=0x0,this[_0x9d22f2(0x118)]=0x0,this['speed']=0x2,this[_0x9d22f2(0x134)]=0x0,this[_0x9d22f2(0x180)]=![],this[_0x9d22f2(0x15d)]=0x0,this['dead']=![],this[_0x9d22f2(0x167)]=![],this[_0x9d22f2(0x1ae)]=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x9d22f2(0x192)]=0x0,this[_0x9d22f2(0x127)]=0x4,this['currentFrame']=0x0,this[_0x9d22f2(0x161)]=id(_0x9d22f2(0x161)),this[_0x9d22f2(0x19c)]=0x0,this[_0x9d22f2(0x171)]=!![],this[_0x9d22f2(0x191)]=[],this[_0x9d22f2(0x156)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x9d22f2(0x1b2)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x9d22f2(0x1a9)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0x9d22f2(0x17e)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this[_0x9d22f2(0x130)]=0x0;}['followPlayer'](){const _0xbda85f=_0x36dee8;this[_0xbda85f(0x120)]['x']=this['x']-0x5*TILESIZE,this[_0xbda85f(0x120)]['y']=this['y']-0x5*TILESIZE,this['atkBox']['w']=0xb*TILESIZE,this[_0xbda85f(0x120)]['h']=0xb*TILESIZE;if(collided(this[_0xbda85f(0x120)],player)){if(this[_0xbda85f(0x167)]){if(this[_0xbda85f(0x149)]==0x0&&this[_0xbda85f(0x192)]==0x0){this['createGrid']();switch(this[_0xbda85f(0x191)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0xbda85f(0x19c)]!==0x1&&(this[_0xbda85f(0x19c)]=0x1,this[_0xbda85f(0x149)]=0x0,this[_0xbda85f(0x192)]=0x0);}else this[_0xbda85f(0x167)]&&this['action']!==0x0&&this['action']!==0x2&&(this['attacking']=![],this[_0xbda85f(0x171)]=!![],this[_0xbda85f(0x19c)]=0x2,this[_0xbda85f(0x149)]=0x0,this[_0xbda85f(0x192)]=0x0);}['compute'](){const _0x209cc2=_0x36dee8;this['followPlayer'](),this['hitbox']['x']=this['x']+(this['w']-0xe)/0x2,this[_0x209cc2(0x1b2)]['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x4c0a7c=0x0;_0x4c0a7c<this[_0x209cc2(0x1ae)][_0x209cc2(0x126)];_0x4c0a7c++){this[_0x209cc2(0x1ae)][_0x4c0a7c]['x']=this['x']+this[_0x209cc2(0x1ae)][_0x4c0a7c][_0x209cc2(0x15f)],this[_0x209cc2(0x1ae)][_0x4c0a7c]['y']=this['y']+this[_0x209cc2(0x1ae)][_0x4c0a7c]['yRel'];}this['hp']<=0x0&&(this['justDied']=!![]),this['justDied']&&(this[_0x209cc2(0x15d)]=0x0,this[_0x209cc2(0x1b9)]=!![],this[_0x209cc2(0x19c)]=0x3,this[_0x209cc2(0x192)]=0x0,this['currentFrame']=0x0,this[_0x209cc2(0x127)]=0xa);}[_0x36dee8(0x147)](){const _0x5db58b=_0x36dee8;this[_0x5db58b(0x192)]++;this[_0x5db58b(0x19c)]==0x4?this[_0x5db58b(0x127)]=0x3:this['slowness']=0x5;if(this[_0x5db58b(0x192)]>this['slowness']*DTR){this['frameCounter']=0x0,this[_0x5db58b(0x149)]++;if(this[_0x5db58b(0x149)]>=this[_0x5db58b(0x1a9)][this[_0x5db58b(0x19c)]][_0x5db58b(0x126)]){if(this[_0x5db58b(0x1b9)])this[_0x5db58b(0x149)]=this['actionX'][this[_0x5db58b(0x19c)]][_0x5db58b(0x126)]-0x1;else{if(this[_0x5db58b(0x19c)]==0x1)this[_0x5db58b(0x167)]=!![],this[_0x5db58b(0x171)]=![],this[_0x5db58b(0x19c)]=0x4,this[_0x5db58b(0x149)]=0x0;else this[_0x5db58b(0x19c)]==0x2?(this[_0x5db58b(0x19c)]=0x0,this[_0x5db58b(0x149)]=0x0):this[_0x5db58b(0x149)]=0x0;}}}if(!this[_0x5db58b(0x1b9)]){if(this[_0x5db58b(0x19c)]==0x0)for(let _0x43477b=0x0;_0x43477b<this['arrows'][_0x5db58b(0x126)];_0x43477b++){this[_0x5db58b(0x1ae)][_0x43477b][_0x5db58b(0x147)]();}}this[_0x5db58b(0x15d)]>0x0&&(this[_0x5db58b(0x19c)]=0x3,this[_0x5db58b(0x149)]=0x0,this['framecounter']=0x0,this['justDamaged']-=0x1/DTR,this[_0x5db58b(0x15d)]<=0x0&&(this[_0x5db58b(0x19c)]=0x0)),c[_0x5db58b(0x1a5)](this[_0x5db58b(0x161)],this[_0x5db58b(0x1a9)][this[_0x5db58b(0x19c)]][this[_0x5db58b(0x149)]]*TILESIZE,this[_0x5db58b(0x17e)][this[_0x5db58b(0x19c)]][this[_0x5db58b(0x149)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x36dee8(0x14b)](){const _0x1c8432=_0x36dee8;let _0x2f119c=0xb,_0x5e85d6=[],_0x342a0f=this['x']+this['w']/0x2-TILESIZE*0x5,_0x16481d=this['y']+this['h']/0x2-TILESIZE*0x5,_0x79c231;for(let _0x24ede1=0x0;_0x24ede1<_0x2f119c;_0x24ede1++){_0x5e85d6[_0x24ede1]=[];for(let _0x59be2f=0x0;_0x59be2f<_0x2f119c;_0x59be2f++){_0x79c231=getTileData(_0x342a0f+_0x24ede1*TILESIZE,_0x16481d+_0x59be2f*TILESIZE),_0x79c231===![]?_0x5e85d6[_0x24ede1][_0x59be2f]='Empty':_0x5e85d6[_0x24ede1][_0x59be2f]=_0x1c8432(0x117);}}_0x5e85d6[0x5][0x5]=_0x1c8432(0x19e),_0x5e85d6[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x1c8432(0x183),this[_0x1c8432(0x191)]=findShortestPath([0x5,0x5],_0x5e85d6);}}class Flower extends Collidable{constructor(_0x502d73,_0x1f57d9){const _0x1f0588=_0x36dee8;super(Collidable),this['x']=_0x502d73,this['y']=_0x1f57d9,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x1f0588(0x12f)]=0x0,this[_0x1f0588(0x142)]=0x0,this[_0x1f0588(0x11d)]=0x0,this['yVelExt']=0x0,this[_0x1f0588(0x148)]=0x2,this['left']=0x0,this[_0x1f0588(0x180)]=![],this['justDamaged']=0x0,this[_0x1f0588(0x1b9)]=![],this['arrows']=[],this[_0x1f0588(0x17d)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0x1f0588(0x127)]=0x8,this['attacking']=![],this[_0x1f0588(0x149)]=0x0,this['sheet']=id('sheet'),this[_0x1f0588(0x168)]=0x5,this[_0x1f0588(0x1c7)]=0x8,this[_0x1f0588(0x171)]=!![],this[_0x1f0588(0x156)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x1f0588(0x1b2)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this['action']=0x0,this['actionX']=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this['actionY']=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this['headX']=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x1f0588(0x123)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this['radians']=0x0,this[_0x1f0588(0x173)]=![];}[_0x36dee8(0x1bb)](){const _0x571991=_0x36dee8;if(!isObstructed(this,player)){this['attacking']=!![];if(this[_0x571991(0x149)]==0x2){if(!this[_0x571991(0x173)]){let _0x2796aa=new EnemyProjectile(),_0x2e951a=this['x']+this['w']/0x2,_0x49d52d=this['y']+this['h']/0x2,_0xd966aa=player['x']+player['w']/0x2-_0x2e951a+Math[_0x571991(0x13a)]()*this[_0x571991(0x168)]-this['precision']/0x2,_0x2afee0=player['y']+player['h']/0x2-_0x49d52d+Math[_0x571991(0x13a)]()*this['precision']-this[_0x571991(0x168)]/0x2,_0x3992ff=Math[_0x571991(0x140)](_0x2afee0,_0xd966aa),_0x30e4dc=Math[_0x571991(0x143)](_0x3992ff),_0xa9dca2=Math[_0x571991(0x188)](_0x3992ff);_0x2796aa[_0x571991(0x12f)]=_0x30e4dc*this[_0x571991(0x1c7)],_0x2796aa[_0x571991(0x142)]=_0xa9dca2*this[_0x571991(0x1c7)],_0x2796aa['x']=_0x2e951a,_0x2796aa['y']=_0x49d52d,enemyProjectiles[_0x571991(0x1a2)](_0x2796aa),this['justShot']=!![];}}else this[_0x571991(0x173)]=![];}else this[_0x571991(0x167)]=![];}[_0x36dee8(0x18a)](){const _0xe41844=_0x36dee8;this[_0xe41844(0x1bb)](),this[_0xe41844(0x1b2)]['x']=this['x']+this['w']/0x3,this[_0xe41844(0x1b2)]['y']=this['y']+this['h']/0x5,this['radians']=Math[_0xe41844(0x140)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x1d9934=0x0;_0x1d9934<this[_0xe41844(0x1ae)][_0xe41844(0x126)];_0x1d9934++){this[_0xe41844(0x1ae)][_0x1d9934]['x']=this['x']+this[_0xe41844(0x1ae)][_0x1d9934]['xRel'],this[_0xe41844(0x1ae)][_0x1d9934]['y']=this['y']+this[_0xe41844(0x1ae)][_0x1d9934][_0xe41844(0x1b4)];}this['hp']<=0x0&&(this[_0xe41844(0x180)]=!![]),this[_0xe41844(0x180)]&&(this[_0xe41844(0x15d)]=0x0,this['dead']=!![],this[_0xe41844(0x19c)]=0x2,this[_0xe41844(0x192)]=0x0,this[_0xe41844(0x149)]=0x0,this[_0xe41844(0x127)]=0xa);}[_0x36dee8(0x147)](){const _0x31d713=_0x36dee8;this[_0x31d713(0x192)]++;this[_0x31d713(0x192)]>this['slowness']*DTR&&(this[_0x31d713(0x192)]=0x0,this[_0x31d713(0x149)]++,this[_0x31d713(0x149)]>=this[_0x31d713(0x1a9)][this['action']][_0x31d713(0x126)]&&(this['dead']?this[_0x31d713(0x149)]=this[_0x31d713(0x1a9)][this[_0x31d713(0x19c)]][_0x31d713(0x126)]-0x1:this[_0x31d713(0x149)]=0x0));if(!this['dead']){this['attacking']?this['action']=0x1:this[_0x31d713(0x19c)]=0x0;for(let _0x3a6a83=0x0;_0x3a6a83<this[_0x31d713(0x1ae)][_0x31d713(0x126)];_0x3a6a83++){this['arrows'][_0x3a6a83][_0x31d713(0x147)]();}}this[_0x31d713(0x167)]?this['slowness']=0x4:this['slowness']=0x8,this['justDamaged']&&(this[_0x31d713(0x19c)]=0x2,this[_0x31d713(0x149)]=0x0,this[_0x31d713(0x154)]=0x0,this[_0x31d713(0x15d)]--),c['drawImage'](this['sheet'],this[_0x31d713(0x1a9)][this[_0x31d713(0x19c)]][this['currentFrame']]*TILESIZE,this[_0x31d713(0x17e)][this[_0x31d713(0x19c)]][this[_0x31d713(0x149)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this['action']==0x0||this[_0x31d713(0x19c)]==0x1)&&(c[_0x31d713(0x119)](),c[_0x31d713(0x135)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c['rotate'](this['radians']),c[_0x31d713(0x1a5)](this['sheet'],this['headX'][this[_0x31d713(0x19c)]][this[_0x31d713(0x149)]]*TILESIZE,this['headY'][this[_0x31d713(0x19c)]][this[_0x31d713(0x149)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x31d713(0x151)]());}}function getTileData(_0x334856,_0x54ee95){const _0x2c738d=_0x36dee8;let _0x4b3a56=(_0x334856/TILESIZE|0x0)+(_0x54ee95/TILESIZE|0x0)*map[_0x2c738d(0x14d)];for(let _0x279875=0x0;_0x279875<map[_0x2c738d(0x16e)][_0x2c738d(0x126)];_0x279875++){for(let _0x2ed525=0x0;_0x2ed525<TilesData[_0x2c738d(0x126)];_0x2ed525++){if(TilesData[_0x2ed525]['id']==map[_0x2c738d(0x16e)][_0x279875][_0x4b3a56]-0x1)return TilesData[_0x2ed525];}}return![];}window[_0x36dee8(0x136)]=function(){const _0x5ba59a=_0x36dee8;player['arrowsCount']!==0x0?player['shoot']():player[_0x5ba59a(0x17f)]=0xa;},window['oncontextmenu']=function(_0x54a47f){const _0x5902c0=_0x36dee8;_0x54a47f[_0x5902c0(0x13c)](),player[_0x5902c0(0x165)]();},document[_0x36dee8(0x121)](_0x36dee8(0x18f),function(_0x388c69){const _0x57f6f=_0x36dee8;switch(_0x388c69['button']){case 0x0:userInterface[_0x57f6f(0x129)]=!![];break;case 0x2:userInterface['rClick']=!![];break;}}),document[_0x36dee8(0x121)](_0x36dee8(0x1b3),function(_0x28c63c){const _0x26e006=_0x36dee8;switch(_0x28c63c[_0x26e006(0x13f)]){case 0x0:userInterface[_0x26e006(0x129)]=![];break;case 0x2:userInterface[_0x26e006(0x1c1)]=![];break;}});var stats=id(_0x36dee8(0x153));function drawStats(){const _0x5485cd=_0x36dee8;stats[_0x5485cd(0x13d)]=_0x5485cd(0x17b)+player['x'],stats[_0x5485cd(0x13d)]+=_0x5485cd(0x128)+player['y'],stats[_0x5485cd(0x13d)]+=_0x5485cd(0x197)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x5485cd(0x13d)]+=_0x5485cd(0x19b)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x5485cd(0x13d)]+=_0x5485cd(0x1a4)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']),stats[_0x5485cd(0x13d)]+=_0x5485cd(0x132)+map[_0x5485cd(0x16e)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x5485cd(0x14d)]],map[_0x5485cd(0x16e)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x5485cd(0x14d)]],DEBUG&&(c['rect']((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x5485cd(0x177)]());}window[_0x36dee8(0x121)](_0x36dee8(0x163),function(_0x86b1bc){const _0x18561f=_0x36dee8;switch(_0x86b1bc[_0x18561f(0x166)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0x18561f(0x1a2)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x18561f(0x1be)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x3868e9=0x0;_0x3868e9<0x32;_0x3868e9++){player['shoot'](),player[_0x18561f(0x19a)]=player[_0x18561f(0x1b6)]*DTR,player[_0x18561f(0x18e)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x36dee8(0x121)](_0x36dee8(0x1c3),function(_0x22ea44){const _0x977008=_0x36dee8;switch(_0x22ea44[_0x977008(0x166)]){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window['addEventListener'](_0x36dee8(0x115),function(_0x3479f6){const _0x110df2=_0x36dee8;mousePP['x']=_0x3479f6[_0x110df2(0x1ac)]-CANVAS[_0x110df2(0x15c)],mousePP['y']=_0x3479f6['clientY']-CANVAS[_0x110df2(0x16f)];});function moveCamera(){const _0x59babf=_0x36dee8;map['x']=-player['x']/0x3+CANVAS[_0x59babf(0x14d)]/0x6,map['y']=-player['y']/0x3+CANVAS[_0x59babf(0x170)]/0x6,screenShake[_0x59babf(0x130)]&&(screenShake['counter']--,screenShake['set'](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function _0x5031(_0x5b8e4d,_0x57a597){const _0x1da1ef=_0x326d();return _0x5031=function(_0x362690,_0x14d012){_0x362690=_0x362690-0x113;let _0x41aa77=_0x1da1ef[_0x362690];return _0x41aa77;},_0x5031(_0x5b8e4d,_0x57a597);}function computeDrawArrows(){const _0x361b46=_0x36dee8;c['lineWidth']=0x2,c[_0x361b46(0x14f)]=sampleArrow['colors'][0x0],c[_0x361b46(0x12c)]();for(let _0x17ad07=playerArrows['length']-0x1;_0x17ad07>=0x0;_0x17ad07--){if(!playerArrows[_0x17ad07][_0x361b46(0x1b1)]||playerArrows[_0x17ad07]['color']!=0x1)continue;playerArrows[_0x17ad07][_0x361b46(0x1b0)]&&playerArrows[_0x17ad07][_0x361b46(0x18a)]();if(playerArrows[_0x17ad07]!==undefined)playerArrows[_0x17ad07][_0x361b46(0x147)]();}c[_0x361b46(0x160)](),c[_0x361b46(0x177)](),c[_0x361b46(0x14f)]=sampleArrow[_0x361b46(0x164)][0x1],c[_0x361b46(0x12c)]();for(let _0x604a32=playerArrows[_0x361b46(0x126)]-0x1;_0x604a32>=0x0;_0x604a32--){if(!playerArrows[_0x604a32][_0x361b46(0x1b1)]||playerArrows[_0x604a32]['color']!=0x2)continue;playerArrows[_0x604a32][_0x361b46(0x1b0)]&&playerArrows[_0x604a32][_0x361b46(0x18a)]();if(playerArrows[_0x604a32]!==undefined)playerArrows[_0x604a32][_0x361b46(0x147)]();}c[_0x361b46(0x160)](),c['stroke']();}function loop(){const _0x1e38a8=_0x36dee8;fps++,c[_0x1e38a8(0x122)](0x0,0x0,CANVAS[_0x1e38a8(0x14d)],CANVAS[_0x1e38a8(0x170)]),moveCamera(),map['draw'](),player[_0x1e38a8(0x18a)]();for(let _0x3eca1b=enemyProjectiles[_0x1e38a8(0x126)]-0x1;_0x3eca1b>=0x0;_0x3eca1b--){enemyProjectiles[_0x3eca1b][_0x1e38a8(0x18a)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x46cbb8=0x0;_0x46cbb8<monsters[_0x1e38a8(0x126)];_0x46cbb8++){!monsters[_0x46cbb8]['dead']&&monsters[_0x46cbb8][_0x1e38a8(0x18a)](),monsters[_0x46cbb8][_0x1e38a8(0x147)]();}player[_0x1e38a8(0x147)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x52f4b4=enemyProjectiles[_0x1e38a8(0x126)]-0x1;_0x52f4b4>=0x0;_0x52f4b4--){enemyProjectiles[_0x52f4b4][_0x1e38a8(0x147)]();}sword[_0x1e38a8(0x1b1)]&&(sword[_0x1e38a8(0x18a)](),sword[_0x1e38a8(0x147)]());for(let _0x54d4a0=visualFxs[_0x1e38a8(0x126)]-0x1;_0x54d4a0>=0x0;_0x54d4a0--){!visualFxs[_0x54d4a0][_0x1e38a8(0x169)]&&visualFxs[_0x54d4a0][_0x1e38a8(0x147)]();}userInterface['draw'](),drawStats();}var lastUpdate=Date[_0x36dee8(0x1b7)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){var _0x956b32=Date['now'](),_0x216777=_0x956b32-lastUpdate;lastUpdate=_0x956b32,DTR=0x3e8/0x3c/_0x216777,!gamePaused&&loop();}