'strict';const _0x336608=_0x4bc2;(function(_0x2ea2de,_0x11f267){const _0x1ba7f5=_0x4bc2,_0xd71f16=_0x2ea2de();while(!![]){try{const _0x227e6f=parseInt(_0x1ba7f5(0x9f))/0x1*(parseInt(_0x1ba7f5(0x91))/0x2)+-parseInt(_0x1ba7f5(0x8f))/0x3*(parseInt(_0x1ba7f5(0x104))/0x4)+parseInt(_0x1ba7f5(0xde))/0x5+-parseInt(_0x1ba7f5(0xcf))/0x6*(parseInt(_0x1ba7f5(0x12d))/0x7)+-parseInt(_0x1ba7f5(0xc9))/0x8+parseInt(_0x1ba7f5(0xb4))/0x9+parseInt(_0x1ba7f5(0xc3))/0xa*(parseInt(_0x1ba7f5(0xaf))/0xb);if(_0x227e6f===_0x11f267)break;else _0xd71f16['push'](_0xd71f16['shift']());}catch(_0x2eb198){_0xd71f16['push'](_0xd71f16['shift']());}}}(_0x52bf,0x9334a));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id('canvas'),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS['getContext']('2d');CANVAS['width']=0x2e0,CANVAS[_0x336608(0x131)]=0x1e0,CANVAS['style'][_0x336608(0x12c)]=(window['innerWidth']-CANVAS['width'])/0x2+'px',CANVAS[_0x336608(0xad)][_0x336608(0xf9)]=(window['innerHeight']-CANVAS[_0x336608(0x131)])/0x2+'px',c[_0x336608(0xca)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x341f25){const _0x4c5b99=(function(){let _0x534acb=!![];return function(_0x228f9e,_0x40b1b3){const _0x14d886=_0x534acb?function(){if(_0x40b1b3){const _0x514e74=_0x40b1b3['apply'](_0x228f9e,arguments);return _0x40b1b3=null,_0x514e74;}}:function(){};return _0x534acb=![],_0x14d886;};}()),_0x215e75=_0x4c5b99(this,function(){const _0x20ed72=_0x4bc2;let _0x2eaf57;try{const _0x325611=Function(_0x20ed72(0x106)+_0x20ed72(0xdd)+');');_0x2eaf57=_0x325611();}catch(_0xf6da11){_0x2eaf57=window;}const _0x2d25b2=new RegExp(_0x20ed72(0xec),'g'),_0xbfc6d4=_0x20ed72(0xf2)['replace'](_0x2d25b2,'')['split'](';');let _0x1afd7b,_0x1144cc,_0x5cb18e,_0x500ff2;const _0x3e8a7a=function(_0x3aeca6,_0x2c4985,_0x24bf77){const _0x3c77cd=_0x20ed72;if(_0x3aeca6[_0x3c77cd(0xb9)]!=_0x2c4985)return![];for(let _0x48df88=0x0;_0x48df88<_0x2c4985;_0x48df88++){for(let _0x316e7b=0x0;_0x316e7b<_0x24bf77['length'];_0x316e7b+=0x2){if(_0x48df88==_0x24bf77[_0x316e7b]&&_0x3aeca6[_0x3c77cd(0xdf)](_0x48df88)!=_0x24bf77[_0x316e7b+0x1])return![];}}return!![];},_0x16e0c7=function(_0x29408a,_0x6369de,_0x26620c){return _0x3e8a7a(_0x6369de,_0x26620c,_0x29408a);},_0x3a8a99=function(_0x5d9fb2,_0x1d4a39,_0x2adee1){return _0x16e0c7(_0x1d4a39,_0x5d9fb2,_0x2adee1);},_0x4a4eda=function(_0xc233ae,_0x135144,_0x2d1a6e){return _0x3a8a99(_0x135144,_0x2d1a6e,_0xc233ae);};for(let _0x162f3a in _0x2eaf57){if(_0x3e8a7a(_0x162f3a,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1afd7b=_0x162f3a;break;}}for(let _0x128ec0 in _0x2eaf57[_0x1afd7b]){if(_0x4a4eda(0x6,_0x128ec0,[0x5,0x6e,0x0,0x64])){_0x1144cc=_0x128ec0;break;}}for(let _0x3bbde5 in _0x2eaf57[_0x1afd7b]){if(_0x3a8a99(_0x3bbde5,[0x7,0x6e,0x0,0x6c],0x8)){_0x5cb18e=_0x3bbde5;break;}}if(!('~'>_0x1144cc))for(let _0x557fc1 in _0x2eaf57[_0x1afd7b][_0x5cb18e]){if(_0x16e0c7([0x7,0x65,0x0,0x68],_0x557fc1,0x8)){_0x500ff2=_0x557fc1;break;}}if(!_0x1afd7b||!_0x2eaf57[_0x1afd7b])return;const _0x5ba28b=_0x2eaf57[_0x1afd7b][_0x1144cc],_0x3036c7=!!_0x2eaf57[_0x1afd7b][_0x5cb18e]&&_0x2eaf57[_0x1afd7b][_0x5cb18e][_0x500ff2],_0x33b071=_0x5ba28b||_0x3036c7;if(!_0x33b071)return;let _0x2fce23=![];for(let _0x230612=0x0;_0x230612<_0xbfc6d4[_0x20ed72(0xb9)];_0x230612++){const _0x31aa9c=_0xbfc6d4[_0x230612],_0x488d3c=_0x31aa9c[0x0]===String['fromCharCode'](0x2e)?_0x31aa9c['slice'](0x1):_0x31aa9c,_0x4a16d6=_0x33b071[_0x20ed72(0xb9)]-_0x488d3c[_0x20ed72(0xb9)],_0x19d3ae=_0x33b071[_0x20ed72(0xc8)](_0x488d3c,_0x4a16d6),_0xe7b5ae=_0x19d3ae!==-0x1&&_0x19d3ae===_0x4a16d6;_0xe7b5ae&&((_0x33b071['length']==_0x31aa9c['length']||_0x31aa9c[_0x20ed72(0xc8)]('.')===0x0)&&(_0x2fce23=!![]));}if(!_0x2fce23){const _0x31f49e=new RegExp(_0x20ed72(0x10a),'g'),_0x1e3ea3=_0x20ed72(0xc2)[_0x20ed72(0x100)](_0x31f49e,'');_0x2eaf57[_0x1afd7b][_0x5cb18e]=_0x1e3ea3;}});return _0x215e75(),document['getElementById'](_0x341f25);}var fpsDiv=id('FPS');setInterval(function(){const _0x4b34fe=_0x336608;fpsDiv[_0x4b34fe(0xf1)]=_0x4b34fe(0x102)+fps,fpsDiv[_0x4b34fe(0xf1)]+=_0x4b34fe(0xdc)+DTR[_0x4b34fe(0xf7)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x4c750d=_0x336608;this['x']=Math[_0x4c750d(0x111)]()*0x8-0x4|0x0,this['y']=Math[_0x4c750d(0x111)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x12c9ab=_0x336608;this['x']=0x0,this['y']=0x0,this['yVel']=0x0,this[_0x12c9ab(0x114)]=0x0,this[_0x12c9ab(0x93)]=0x0,this[_0x12c9ab(0x109)]=0x0,this[_0x12c9ab(0x92)]=!![],this['free']=!![],this[_0x12c9ab(0xb1)]=!![],this[_0x12c9ab(0xab)]=0x0,this['lengthY']=0x0,this[_0x12c9ab(0x137)]=0x1,this[_0x12c9ab(0x115)]=0x0,this[_0x12c9ab(0x11b)]=[_0x12c9ab(0xd2),'#ff8db5'],this[_0x12c9ab(0x85)]={'x':0x0,'y':0x0};}[_0x336608(0x130)](){const _0x14138f=_0x336608;Math[_0x14138f(0x10d)](this[_0x14138f(0x114)]*0x3)>Math[_0x14138f(0x10d)](this[_0x14138f(0xab)])&&(this[_0x14138f(0xab)]=this[_0x14138f(0x114)]*0x3,this[_0x14138f(0x127)]=this[_0x14138f(0xd9)]*0x3),this[_0x14138f(0x85)]['x']=this['x']+this[_0x14138f(0xab)],this[_0x14138f(0x85)]['y']=this['y']+this[_0x14138f(0x127)],c[_0x14138f(0x94)](this['x']+map['x'],this['y']+map['y']),c['lineTo'](this['x']+this[_0x14138f(0xab)]+map['x'],this['y']+this[_0x14138f(0x127)]+map['y']);}['compute'](){const _0x56ba5c=_0x336608;this['x']+=this[_0x56ba5c(0x114)]/DTR,this['y']+=this[_0x56ba5c(0xd9)]/DTR;if(getTileData(this['x'],this['y'])[_0x56ba5c(0x125)])visualFxs[_0x56ba5c(0xac)](new Explosion(this['x']+this[_0x56ba5c(0x114)],this['y']+this[_0x56ba5c(0xd9)],this[_0x56ba5c(0x115)])),this[_0x56ba5c(0x115)]==0x2&&(screenShake[_0x56ba5c(0x122)]=0x5),this[_0x56ba5c(0x114)]=0x0,this[_0x56ba5c(0xd9)]=0x0,this['lengthX']/=0x2,this[_0x56ba5c(0x127)]/=0x2,this[_0x56ba5c(0x11d)]=![];else for(let _0x2fc909=monsters['length']-0x1;_0x2fc909>=0x0;_0x2fc909--){let _0x2507f8=monsters[_0x2fc909];!_0x2507f8['dead']&&_0x2507f8['collidable']&&((pointSquareCol(this,_0x2507f8)||pointSquareCol(this[_0x56ba5c(0x85)],_0x2507f8))&&(this[_0x56ba5c(0x92)]=![],_0x2507f8[_0x56ba5c(0xf4)]=this[_0x56ba5c(0x114)]/0x2,_0x2507f8[_0x56ba5c(0xe6)]=this[_0x56ba5c(0xd9)]/0x2,visualFxs[_0x56ba5c(0xac)](new Explosion(this['x'],this['y'],this[_0x56ba5c(0x115)])),this[_0x56ba5c(0x115)]==0x2&&(screenShake[_0x56ba5c(0x122)]=0x5),this[_0x56ba5c(0x114)]=0x0,this[_0x56ba5c(0xd9)]=0x0,this['xRel']=this['x']-_0x2507f8['x'],this['yRel']=this['y']-_0x2507f8['y'],_0x2507f8['arrows'][_0x56ba5c(0xac)](this),_0x2507f8['hp']-=this['damage'],_0x2507f8[_0x56ba5c(0x135)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x5e9156=_0x336608;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x5e9156(0xd9)]=0x0,this[_0x5e9156(0x114)]=0x0,this[_0x5e9156(0x11d)]=!![],this[_0x5e9156(0xb1)]=![],this['sheet']=id(_0x5e9156(0xbd)),this['actionX']=[0x5],this[_0x5e9156(0xeb)]=[0x18],this[_0x5e9156(0xb3)]=0x0,this[_0x5e9156(0x137)]=0x5;}[_0x336608(0x126)](){const _0x204a36=_0x336608;this['x']+=this['xVel']/DTR,this['y']+=this[_0x204a36(0xd9)]/DTR,getTileData(this['x'],this['y'])[_0x204a36(0x125)]?(enemyProjectiles['splice'](enemyProjectiles[_0x204a36(0xc8)](this),0x1),visualFxs[_0x204a36(0xac)](new Explosion(this['x']+this['xVel'],this['y']+this[_0x204a36(0xd9)],0x1)),this[_0x204a36(0x114)]=0x0,this['yVel']=0x0,this[_0x204a36(0xab)]/=0x2,this[_0x204a36(0x127)]/=0x2,this[_0x204a36(0x11d)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x204a36(0x89)](enemyProjectiles['indexOf'](this),0x1),player['xVelExt']+=this[_0x204a36(0x114)]/0x2,player['yVelExt']+=this['yVel']/0x2,player['hp']-=this[_0x204a36(0x137)],visualFxs['push'](new Explosion(this['x'],this['y'],0x1)),screenShake['counter']=0x5);}[_0x336608(0x130)](){const _0x55008c=_0x336608;c['drawImage'](this[_0x55008c(0xbd)],this[_0x55008c(0xd7)][this[_0x55008c(0xb3)]]*TILESIZE,this[_0x55008c(0xeb)][this['type']]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x261215,_0x138944,_0x5a14fd){const _0x2c84f8=_0x336608;this[_0x2c84f8(0xbd)]=id('sheet'),this['x']=_0x261215-0x10,this['y']=_0x138944-0x10,this['w']=0x20,this['h']=0x20,this[_0x2c84f8(0x105)]=0x0,this['currentFrame']=0x0,this['action']=_0x5a14fd-0x1,this[_0x2c84f8(0xd7)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this['actionY']=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this['slowness']=0x4,this[_0x2c84f8(0xea)]=![];}[_0x336608(0x130)](){const _0x5d8d4d=_0x336608;c[_0x5d8d4d(0xb0)](this[_0x5d8d4d(0xbd)],this[_0x5d8d4d(0xd7)][this[_0x5d8d4d(0xe0)]][this['currentFrame']],this[_0x5d8d4d(0xeb)][this['action']][this[_0x5d8d4d(0x9c)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this[_0x5d8d4d(0x105)]++,this[_0x5d8d4d(0x105)]>this[_0x5d8d4d(0x113)]*DTR&&(this[_0x5d8d4d(0x105)]=0x0,this[_0x5d8d4d(0x9c)]++,this[_0x5d8d4d(0x9c)]>this[_0x5d8d4d(0xd7)][this['action']][_0x5d8d4d(0xb9)]-0x1&&(this[_0x5d8d4d(0xea)]=!![]));}}class Collidable{constructor(){}[_0x336608(0xe8)](){const _0xd4b336=_0x336608;let _0x589cd8;this[_0xd4b336(0xd0)]['T']=0x0,this[_0xd4b336(0xd0)]['B']=0x0,this[_0xd4b336(0xd0)]['L']=0x0,this['col']['R']=0x0,getTileData(this['x'],this['y'])[_0xd4b336(0xe2)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x589cd8=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0xd4b336(0xd0)]['R'])/0x5/DTR,this['y']+=(this[_0xd4b336(0xd0)]['T']-this[_0xd4b336(0xd0)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0xd4b336(0xe2)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x589cd8=colCheck(this,generatedSquare),this['x']+=(this[_0xd4b336(0xd0)]['L']-this[_0xd4b336(0xd0)]['R'])/0x5/DTR,this['y']+=(this[_0xd4b336(0xd0)]['T']-this[_0xd4b336(0xd0)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0xd4b336(0xe2)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x589cd8=colCheck(this,generatedSquare),this['x']+=(this[_0xd4b336(0xd0)]['L']-this[_0xd4b336(0xd0)]['R'])/0x5/DTR,this['y']+=(this[_0xd4b336(0xd0)]['T']-this[_0xd4b336(0xd0)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0xd4b336(0xe2)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x589cd8=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0xd4b336(0xd0)]['T']-this[_0xd4b336(0xd0)]['B'])/0x5/DTR),this[_0xd4b336(0xd0)]['B']&&(this[_0xd4b336(0xe6)]>0x0&&(this[_0xd4b336(0xe6)]*=-0.5)),this[_0xd4b336(0xd0)]['T']&&(this[_0xd4b336(0xe6)]<0x0&&(this[_0xd4b336(0xe6)]*=-0.5)),this[_0xd4b336(0xd0)]['R']&&(this['xVelExt']>0x0&&(this['xVelExt']*=-0.5)),this[_0xd4b336(0xd0)]['L']&&(this['xVelExt']<0x0&&(this[_0xd4b336(0xf4)]*=-0.5));}}class Player extends Collidable{constructor(_0x5320f9,_0x23014e){const _0x7b7fec=_0x336608;super(Collidable),this['x']=_0x5320f9,this['y']=_0x23014e,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x7b7fec(0xc6)]=0x3,this[_0x7b7fec(0xd9)]=0x0,this['xVel']=0x0,this[_0x7b7fec(0xe6)]=0x0,this['xVelExt']=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x7b7fec(0xa2)]=0xa,this[_0x7b7fec(0x10f)]=0x0,this[_0x7b7fec(0x112)]=0x0,this[_0x7b7fec(0xd0)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x7b7fec(0xd7)]=[0x0,0x20,0x40],this['actionY']=[0x0,0x0,0x0],this[_0x7b7fec(0xe0)]=0x0,this[_0x7b7fec(0x105)]=0x0,this[_0x7b7fec(0x113)]=0x6,this[_0x7b7fec(0xd8)]=0x0,this[_0x7b7fec(0x12b)]=![],this['precision']=0x14,this[_0x7b7fec(0xd5)]=0x0,this['attacked']=0x0,this[_0x7b7fec(0xfa)]=[0x1,0x1,0x1,0x1,0x1],this[_0x7b7fec(0x119)]=0x3c,this[_0x7b7fec(0xed)]=0x0,this[_0x7b7fec(0xd6)]=0x4,this['hp']=0x64,this[_0x7b7fec(0x101)]=0x64,this['mp']=0x64,this[_0x7b7fec(0xf3)]=0x64,this[_0x7b7fec(0x136)]=0.25,this[_0x7b7fec(0xfb)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}['computeQuiver'](){const _0x5c56c9=_0x336608;let _0x2816a1=!![],_0x4a789c;for(_0x4a789c=0x0;_0x4a789c<this[_0x5c56c9(0xfa)][_0x5c56c9(0xb9)];_0x4a789c++){if(this[_0x5c56c9(0xfa)][_0x4a789c]===0x0){_0x2816a1=![];break;}}this[_0x5c56c9(0xd6)]=_0x4a789c;if(!_0x2816a1){this[_0x5c56c9(0xed)]++;if(this[_0x5c56c9(0xed)]>this[_0x5c56c9(0x119)]*DTR)for(_0x4a789c=0x0;_0x4a789c<this['arrowsArr'][_0x5c56c9(0xb9)];_0x4a789c++){if(this[_0x5c56c9(0xfa)][_0x4a789c]===0x0){Math[_0x5c56c9(0x111)]()<this[_0x5c56c9(0x136)]?this[_0x5c56c9(0xfa)][_0x4a789c]=0x2:this[_0x5c56c9(0xfa)][_0x4a789c]=0x1;this[_0x5c56c9(0xed)]=0x0;break;}}}else this['arrowCounter']=0x0;}['compute'](){const _0x174b36=_0x336608;this[_0x174b36(0x117)](),this[_0x174b36(0x10f)]=this['x']+this['w']/0x2,this[_0x174b36(0x112)]=this['y']+this['h']/0x2,this[_0x174b36(0xe8)]();Math[_0x174b36(0x10d)](this['xVelExt'])>0.01?this[_0x174b36(0xf4)]-=this['xVelExt']*0.1/DTR:this[_0x174b36(0xf4)]=0x0;Math[_0x174b36(0x10d)](this[_0x174b36(0xe6)])>0.01?this[_0x174b36(0xe6)]-=this[_0x174b36(0xe6)]*0.1/DTR:this['yVelExt']=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x174b36(0xc6)]=0x2:this[_0x174b36(0xc6)]=0x3;this[_0x174b36(0xd8)]=Math[_0x174b36(0x118)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this['xVel']=-this[_0x174b36(0xc6)];else!this['R']&&(this['xVel']=0x0);if(this['R'])this[_0x174b36(0x114)]=this[_0x174b36(0xc6)];else!this['L']&&(this[_0x174b36(0x114)]=0x0);if(this['T'])this[_0x174b36(0xd9)]=-this[_0x174b36(0xc6)];else!this['B']&&(this[_0x174b36(0xd9)]=0x0);if(this['B'])this['yVel']=this[_0x174b36(0xc6)];else!this['T']&&(this[_0x174b36(0xd9)]=0x0);this['x']+=(this['xVel']+this[_0x174b36(0xf4)])/DTR,this['y']+=(this['yVel']+this[_0x174b36(0xe6)])/DTR;}[_0x336608(0x130)](){const _0x2b90d5=_0x336608;this[_0x2b90d5(0x114)]===0x0&&this['yVel']===0x0?this[_0x2b90d5(0xe0)]=0x0:(this[_0x2b90d5(0x105)]++,this[_0x2b90d5(0x105)]>=this['slowness']*DTR&&(this[_0x2b90d5(0xe0)]++,this[_0x2b90d5(0x105)]=0x0,this[_0x2b90d5(0xe0)]>=this['actionX']['length']&&(this[_0x2b90d5(0xe0)]=0x0))),c[_0x2b90d5(0xbf)](),c[_0x2b90d5(0x10b)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x2b90d5(0xfe)](this[_0x2b90d5(0xd8)]),c['drawImage'](id(_0x2b90d5(0xe9)),this[_0x2b90d5(0xd7)][this[_0x2b90d5(0xe0)]],this[_0x2b90d5(0xeb)][this[_0x2b90d5(0xe0)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x2b90d5(0xa3)](),this[_0x2b90d5(0xd5)]&&(c['drawImage'](id(_0x2b90d5(0xbd)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x2b90d5(0xd5)]--),this[_0x2b90d5(0xfb)]['active']&&this[_0x2b90d5(0x107)]();}['drawBow'](){const _0x2c242f=_0x336608;this['bow'][_0x2c242f(0x105)]++,this[_0x2c242f(0xfb)]['frameCounter']>=this['bow'][_0x2c242f(0x113)]*DTR&&(this[_0x2c242f(0xfb)][_0x2c242f(0xe0)]++,this[_0x2c242f(0xfb)][_0x2c242f(0x105)]=0x0,this['bow']['active']>=this['bow']['actionX'][_0x2c242f(0xb9)]&&(this[_0x2c242f(0xfb)][_0x2c242f(0x92)]=![])),c[_0x2c242f(0xbf)](),c[_0x2c242f(0x10b)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x2c242f(0xfe)](this['radians']),c[_0x2c242f(0xb0)](id(_0x2c242f(0xfb)),this[_0x2c242f(0xfb)][_0x2c242f(0xd7)][this[_0x2c242f(0xfb)][_0x2c242f(0xe0)]],this['bow'][_0x2c242f(0xeb)][this[_0x2c242f(0xfb)][_0x2c242f(0xe0)]],0x30,0x30,-this[_0x2c242f(0xfb)]['w']/0x2,-this[_0x2c242f(0xfb)]['h'],this['bow']['w'],this[_0x2c242f(0xfb)]['h']),c[_0x2c242f(0xa3)]();}[_0x336608(0xfd)](){const _0x951695=_0x336608;this[_0x951695(0xfb)]['active']=!![],this[_0x951695(0xfb)]['frameCounter']=0x0,this[_0x951695(0xfb)][_0x951695(0x9c)]=0x0,this[_0x951695(0xfb)]['action']=0x0;let _0x20345b=this['x']+this['w']/0x2,_0x422c43=this['y']+this['h']/0x2,_0x2fe746=Mouse['x']-_0x20345b+Math[_0x951695(0x111)]()*this[_0x951695(0x8c)]-this[_0x951695(0x8c)]/0x2,_0x38c494=Mouse['y']-_0x422c43+Math[_0x951695(0x111)]()*this[_0x951695(0x8c)]-this['precision']/0x2,_0xddeb91=Math['atan2'](_0x38c494,_0x2fe746),_0x520087=Math['cos'](_0xddeb91),_0x1a544e=Math[_0x951695(0xdb)](_0xddeb91),_0x5108e5=new Projectile();_0x5108e5[_0x951695(0x114)]=_0x520087*this[_0x951695(0xa2)],_0x5108e5[_0x951695(0xd9)]=_0x1a544e*this[_0x951695(0xa2)],_0x5108e5['x']=_0x20345b,_0x5108e5['y']=_0x422c43,_0x5108e5['color']=this['arrowsArr'][0x0],playerArrows['push'](_0x5108e5),this['arrowsArr']['shift'](),this['arrowsArr'][_0x951695(0xac)](0x0);}['attack'](){const _0x2ce298=_0x336608;if(!sword['active']){sword['active']=!![],sword['radiansP']=this[_0x2ce298(0xd8)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x4018d5=this['x']+this['w']/0x2,_0x21b985=this['y']+this['h']/0x2,_0x569de4=returnCosine(Mouse['x'],Mouse['y'],_0x4018d5,_0x21b985);this['xVelExt']=_0x569de4['cos']*0xe,this[_0x2ce298(0xe6)]=_0x569de4['sin']*0xe;}}}}var player=new Player(CANVAS[_0x336608(0x8a)]/0x2,CANVAS[_0x336608(0x131)]/0x4*0x3);class UserInterface{constructor(){const _0xf6e900=_0x336608;this[_0xf6e900(0xbd)]=id(_0xf6e900(0x128)),this['x']=0x14,this['y']=0x5,this[_0xf6e900(0xda)]=![],this[_0xf6e900(0xaa)]=![],this['attacked']=0x0,this[_0xf6e900(0xb8)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0xf6e900(0xe3)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0xf6e900(0x133)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0xf6e900(0xe5)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0xf6e900(0xfb)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this['sword']={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0xf6e900(0x9d)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0xf6e900(0xfa)]=[0x1,0x1,0x1,0x1];}[_0x336608(0x130)](){const _0x3cb8e4=_0x336608;this[_0x3cb8e4(0xda)]&&(c[_0x3cb8e4(0x84)]=0.5);c[_0x3cb8e4(0xb0)](this[_0x3cb8e4(0xbd)],this[_0x3cb8e4(0xfb)][_0x3cb8e4(0x9a)]['x'],this['bow'][_0x3cb8e4(0x9a)]['y'],this['bow']['crop']['w'],this[_0x3cb8e4(0xfb)][_0x3cb8e4(0x9a)]['h'],this[_0x3cb8e4(0xfb)][_0x3cb8e4(0x12f)]['x'],this[_0x3cb8e4(0xfb)][_0x3cb8e4(0x12f)]['y'],this[_0x3cb8e4(0xfb)][_0x3cb8e4(0x9a)]['w'],this[_0x3cb8e4(0xfb)][_0x3cb8e4(0x9a)]['h']);this['lClick']&&(c[_0x3cb8e4(0x84)]=0x1);this[_0x3cb8e4(0xaa)]&&(c[_0x3cb8e4(0x84)]=0.5);c[_0x3cb8e4(0xb0)](this[_0x3cb8e4(0xbd)],this['sword'][_0x3cb8e4(0x9a)]['x'],this[_0x3cb8e4(0x12b)][_0x3cb8e4(0x9a)]['y'],this[_0x3cb8e4(0x12b)]['crop']['w'],this['sword'][_0x3cb8e4(0x9a)]['h'],this[_0x3cb8e4(0x12b)]['pos']['x'],this['sword'][_0x3cb8e4(0x12f)]['y'],this[_0x3cb8e4(0x12b)]['crop']['w'],this[_0x3cb8e4(0x12b)][_0x3cb8e4(0x9a)]['h']);this[_0x3cb8e4(0xaa)]&&(c[_0x3cb8e4(0x84)]=0x1);c['drawImage'](this[_0x3cb8e4(0xbd)],this[_0x3cb8e4(0xb8)][_0x3cb8e4(0x9a)]['x'],this['layout']['crop']['y'],this[_0x3cb8e4(0xb8)][_0x3cb8e4(0x9a)]['w'],this[_0x3cb8e4(0xb8)][_0x3cb8e4(0x9a)]['h'],this[_0x3cb8e4(0xb8)][_0x3cb8e4(0x12f)]['x']+this['x'],this['layout']['pos']['y']+this['y'],this[_0x3cb8e4(0xb8)]['crop']['w'],this[_0x3cb8e4(0xb8)][_0x3cb8e4(0x9a)]['h']),c[_0x3cb8e4(0xb0)](this['sheet'],this[_0x3cb8e4(0xe3)][_0x3cb8e4(0x9a)][player[_0x3cb8e4(0xae)]]['x'],this[_0x3cb8e4(0xe3)][_0x3cb8e4(0x9a)][player[_0x3cb8e4(0xae)]]['y'],this[_0x3cb8e4(0xe3)][_0x3cb8e4(0x9a)][player[_0x3cb8e4(0xae)]]['w'],this[_0x3cb8e4(0xe3)][_0x3cb8e4(0x9a)][player[_0x3cb8e4(0xae)]]['h'],this['portrait']['pos']['x']+this['x'],this[_0x3cb8e4(0xe3)]['pos']['y']+this['y'],this['portrait'][_0x3cb8e4(0x9a)][player[_0x3cb8e4(0xae)]]['w'],this[_0x3cb8e4(0xe3)]['crop'][player[_0x3cb8e4(0xae)]]['h']),c[_0x3cb8e4(0xb0)](this[_0x3cb8e4(0xbd)],this[_0x3cb8e4(0x133)][_0x3cb8e4(0x9a)]['x'],this['hpBar'][_0x3cb8e4(0x9a)]['y'],this[_0x3cb8e4(0x133)]['crop']['w'],this[_0x3cb8e4(0x133)][_0x3cb8e4(0x9a)]['h'],this[_0x3cb8e4(0x133)][_0x3cb8e4(0x12f)]['x']+this['x'],this[_0x3cb8e4(0x133)]['pos']['y']+this['y'],this[_0x3cb8e4(0x133)]['crop']['w']/player[_0x3cb8e4(0x101)]*player['hp'],this['hpBar'][_0x3cb8e4(0x9a)]['h']),c['drawImage'](this[_0x3cb8e4(0xbd)],this['mpBar'][_0x3cb8e4(0x9a)]['x'],this[_0x3cb8e4(0xe5)][_0x3cb8e4(0x9a)]['y'],this[_0x3cb8e4(0xe5)][_0x3cb8e4(0x9a)]['w'],this[_0x3cb8e4(0xe5)]['crop']['h'],this[_0x3cb8e4(0xe5)]['pos']['x']+this['x'],this[_0x3cb8e4(0xe5)]['pos']['y']+this['y'],this[_0x3cb8e4(0xe5)]['crop']['w'],this[_0x3cb8e4(0xe5)][_0x3cb8e4(0x9a)]['h']);for(let _0x36373a=0x0;_0x36373a<player[_0x3cb8e4(0xfa)]['length'];_0x36373a++){c[_0x3cb8e4(0xb0)](this[_0x3cb8e4(0xbd)],this[_0x3cb8e4(0x9d)][_0x3cb8e4(0x9a)][player[_0x3cb8e4(0xfa)][_0x36373a]]['x'],this[_0x3cb8e4(0x9d)][_0x3cb8e4(0x9a)][player[_0x3cb8e4(0xfa)][_0x36373a]]['y'],this[_0x3cb8e4(0x9d)][_0x3cb8e4(0x9a)][player[_0x3cb8e4(0xfa)][_0x36373a]]['w'],this[_0x3cb8e4(0x9d)][_0x3cb8e4(0x9a)][player[_0x3cb8e4(0xfa)][_0x36373a]]['h'],this['arrow'][_0x3cb8e4(0x12f)]['x']+this['x']-0xa*_0x36373a,this['arrow'][_0x3cb8e4(0x12f)]['y']+this['y'],this[_0x3cb8e4(0x9d)][_0x3cb8e4(0x9a)][player[_0x3cb8e4(0xfa)][_0x36373a]]['w'],this['arrow'][_0x3cb8e4(0x9a)][player[_0x3cb8e4(0xfa)][_0x36373a]]['h']);}c[_0x3cb8e4(0x98)]=_0x3cb8e4(0xe4),c[_0x3cb8e4(0xef)]=_0x3cb8e4(0x11e),c[_0x3cb8e4(0xa4)]=_0x3cb8e4(0xc0),c['fillText'](player[_0x3cb8e4(0xd6)]+'/'+player['arrowsArr']['length'],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x3a611e=_0x336608;let _0x2ffb8e=player['x']+player['w']/0x2,_0x2d5b76=player['y']+player['h']/0x2,_0x2c8280=_0x2ffb8e,_0x5b1a53=_0x2d5b76,_0x148b51=![],_0x28cd28=0x0,_0x23e907=returnCosine(_0x2ffb8e,_0x2d5b76,Mouse['x'],Mouse['y']),_0x4dbdd8=[],_0x32fa69={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x3d3de8={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x478785=0x4,_0x28234e={'x':0x0,'y':0x0};while(!_0x148b51&&_0x28cd28<CANVAS[_0x3a611e(0x8a)]*0x2/_0x478785){_0x2c8280-=_0x23e907[_0x3a611e(0xbe)]*_0x478785,_0x5b1a53-=_0x23e907['sin']*_0x478785;getTileData(_0x2c8280,_0x5b1a53)[_0x3a611e(0x125)]&&(_0x32fa69=getTileData(_0x2c8280,_0x5b1a53)[_0x3a611e(0x120)],_0x3d3de8['x']=_0x32fa69['x'],_0x3d3de8['y']=_0x32fa69['y'],_0x3d3de8['w']=_0x32fa69['w'],_0x3d3de8['h']=_0x32fa69['h'],_0x3d3de8['x']+=_0x2c8280-_0x2c8280%TILESIZE,_0x3d3de8['y']+=_0x5b1a53-_0x5b1a53%TILESIZE,_0x148b51=!![]);_0x28234e['x']=_0x2c8280,_0x28234e['y']=_0x5b1a53;for(let _0x1ce299=0x0;_0x1ce299<monsters[_0x3a611e(0xb9)];_0x1ce299++){if(!monsters[_0x1ce299][_0x3a611e(0x129)]&&pointSquareCol(_0x28234e,monsters[_0x1ce299])){_0x3d3de8['x']=monsters[_0x1ce299]['x'],_0x3d3de8['y']=monsters[_0x1ce299]['y'],_0x3d3de8['w']=monsters[_0x1ce299]['w'],_0x3d3de8['h']=monsters[_0x1ce299]['h'],_0x148b51=!![];break;}}_0x28cd28++;}_0x4dbdd8=getRectSides(_0x3d3de8);let _0x1571f5=[],_0x4ad177={},_0x4ad9da;for(let _0x413df5=0x0;_0x413df5<_0x4dbdd8[_0x3a611e(0xb9)];_0x413df5++){_0x4ad177=intersect(_0x2ffb8e,_0x2d5b76,_0x2c8280,_0x5b1a53,_0x4dbdd8[_0x413df5]['x1'],_0x4dbdd8[_0x413df5]['y1'],_0x4dbdd8[_0x413df5]['x2'],_0x4dbdd8[_0x413df5]['y2']),_0x4ad177&&_0x1571f5[_0x3a611e(0xac)](_0x4ad177);}let _0x3c73c8=Math['hypot'](_0x2ffb8e-_0x2c8280,_0x2d5b76-_0x5b1a53),_0x12bd04=_0x2c8280,_0x5ae0e9=_0x2c8280;for(let _0xd5183d=0x0;_0xd5183d<_0x1571f5[_0x3a611e(0xb9)];_0xd5183d++){_0x4ad9da=Math['hypot'](_0x2ffb8e-_0x2c8280,_0x2d5b76-_0x5b1a53),_0x4ad9da<_0x3c73c8&&(_0x3c73c8=_0x4ad9da,_0x12bd04=_0x1571f5[_0xd5183d]['x'],_0x5ae0e9=_0x1571f5[_0xd5183d]['y']);}c[_0x3a611e(0xff)]=_0x3a611e(0xbc),c[_0x3a611e(0x86)](),c[_0x3a611e(0x94)](_0x2ffb8e+map['x'],_0x2d5b76+map['y']),c[_0x3a611e(0x95)](_0x2c8280+map['x'],_0x5b1a53+map['y']),c[_0x3a611e(0xa0)](),c[_0x3a611e(0xff)]=_0x3a611e(0xa8);}function isObstructed(_0x46f4e3,_0x32a080){const _0xbb0ea1=_0x336608;let _0x81ce40=_0x46f4e3['x']+_0x46f4e3['w']/0x2,_0x4fff20=_0x46f4e3['y']+_0x46f4e3['h']/0x2,_0xdbf88f=_0x32a080['x']+_0x32a080['w']/0x2,_0x20950f=_0x32a080['y']+_0x32a080['h']/0x2,_0x33a4c6=Math[_0xbb0ea1(0xcb)](_0x81ce40-_0xdbf88f,_0x4fff20-_0x20950f),_0x4a55e9=_0x81ce40,_0x44239b=_0x4fff20,_0x1ba322=![],_0x8ead39=0x0,_0x465f29=returnCosine(_0x81ce40,_0x4fff20,_0xdbf88f,_0x20950f),_0x65a39c=[],_0x9c852d={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0xcf62ae={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x326cad=0x3,_0x253fc0={'x':0x0,'y':0x0};while(!_0x1ba322&&_0x8ead39<_0x33a4c6/_0x326cad){_0x4a55e9-=_0x465f29[_0xbb0ea1(0xbe)]*_0x326cad,_0x44239b-=_0x465f29[_0xbb0ea1(0xdb)]*_0x326cad;if(getTileData(_0x4a55e9,_0x44239b)[_0xbb0ea1(0x125)])return _0x9c852d=getTileData(_0x4a55e9,_0x44239b)['hitbox'],_0xcf62ae['x']=_0x9c852d['x'],_0xcf62ae['y']=_0x9c852d['y'],_0xcf62ae['w']=_0x9c852d['w'],_0xcf62ae['h']=_0x9c852d['h'],_0xcf62ae['x']+=_0x4a55e9-_0x4a55e9%TILESIZE,_0xcf62ae['y']+=_0x44239b-_0x44239b%TILESIZE,!![];_0x253fc0['x']=_0x4a55e9,_0x253fc0['y']=_0x44239b;if(pointSquareCol(_0x253fc0,_0x32a080))return![];_0x8ead39++;}}function getRectSides(_0x146187){const _0x2196c8=_0x336608;let _0x3542d2=[];return _0x3542d2['push']({'x1':_0x146187['x'],'y1':_0x146187['y'],'x2':_0x146187['x']+_0x146187['w'],'y2':_0x146187['y']}),_0x3542d2['push']({'x1':_0x146187['x']+_0x146187['w'],'y1':_0x146187['y'],'x2':_0x146187['x']+_0x146187['w'],'y2':_0x146187['y']+_0x146187['h']}),_0x3542d2[_0x2196c8(0xac)]({'x1':_0x146187['x']+_0x146187['w'],'y1':_0x146187['y']+_0x146187['h'],'x2':_0x146187['x'],'y2':_0x146187['y']+_0x146187['h']}),_0x3542d2[_0x2196c8(0xac)]({'x1':_0x146187['x'],'y1':_0x146187['y']+_0x146187['h'],'x2':_0x146187['x'],'y2':_0x146187['y']}),_0x3542d2;}function init(){const _0x3b50f1=_0x336608;let _0x43c4f4,_0x5c31ff={};fetch(_0x3b50f1(0xfc))[_0x3b50f1(0xa6)](function(_0x5002e9){const _0x4ba66c=_0x3b50f1;return _0x5002e9[_0x4ba66c(0xc7)]();})[_0x3b50f1(0xa6)](function(_0x4fb438){const _0xa04e7d=_0x3b50f1;_0x43c4f4=_0x4fb438[_0xa04e7d(0xa9)];for(let _0x4c6528=0x0;_0x4c6528<_0x43c4f4[_0xa04e7d(0xb9)];_0x4c6528++){_0x5c31ff={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x5c31ff['id']=_0x43c4f4[_0x4c6528]['id'];if(_0x43c4f4[_0x4c6528][_0xa04e7d(0xb7)]('properties'))for(let _0x684198=0x0;_0x684198<_0x43c4f4[_0x4c6528]['properties'][_0xa04e7d(0xb9)];_0x684198++){if(_0x43c4f4[_0x4c6528][_0xa04e7d(0x103)][_0x684198])switch(_0x43c4f4[_0x4c6528][_0xa04e7d(0x103)][_0x684198][_0xa04e7d(0x9e)]){case _0xa04e7d(0xf8):_0x5c31ff[_0xa04e7d(0xf8)]=!![],_0x5c31ff[_0xa04e7d(0xe2)]=!![];break;case _0xa04e7d(0x125):_0x5c31ff['solid']=!![],_0x5c31ff[_0xa04e7d(0xe2)]=!![];break;}}TilesData[_0xa04e7d(0xac)](_0x5c31ff);}loop();});}init();var HP_BAR=id('hp-bar');function renderHpBars(){const _0xa07571=_0x336608;for(let _0x2ea33b=0x0;_0x2ea33b<monsters[_0xa07571(0xb9)];_0x2ea33b++){if(monsters[_0x2ea33b][_0xa07571(0x129)])continue;let _0x583979=monsters[_0x2ea33b]['hp']/monsters[_0x2ea33b]['maxHp'],_0xe5eba9=Math[_0xa07571(0x11f)](TILESIZE*_0x583979);c['drawImage'](HP_BAR,0x0,0x4,_0xe5eba9,0x4,monsters[_0x2ea33b]['x']+monsters[_0x2ea33b]['w']/0x2-0x10+map['x']|0x0,monsters[_0x2ea33b]['y']-0x8+map['y']|0x0,_0xe5eba9|0x0,0x4|0x0),c['drawImage'](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x2ea33b]['x']+monsters[_0x2ea33b]['w']/0x2-0x10+map['x']|0x0,monsters[_0x2ea33b]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x42a365=_0x336608;this['width']=0x17,this[_0x42a365(0x131)]=0xf,this['x']=0x0,this['y']=0x0,this[_0x42a365(0xa9)]=maps['m1'],this['sheet']=id('sheet'),this[_0x42a365(0x97)]=id('grass');}['draw'](){const _0x4e6877=_0x336608;for(let _0x58a4ed=0x0;_0x58a4ed<this[_0x4e6877(0xa9)][_0x4e6877(0xb9)];_0x58a4ed++){_0x58a4ed==0x1&&c[_0x4e6877(0xb0)](this[_0x4e6877(0x97)],0x0+this['x'],0x0+this['y'],CANVAS[_0x4e6877(0x8a)],CANVAS[_0x4e6877(0x131)]);for(let _0x28a37f=0x0;_0x28a37f<this[_0x4e6877(0xa9)][_0x58a4ed][_0x4e6877(0xb9)];_0x28a37f++){if(this[_0x4e6877(0xa9)][_0x58a4ed][_0x28a37f]===0x0)continue;c['drawImage'](this[_0x4e6877(0xbd)],(this[_0x4e6877(0xa9)][_0x58a4ed][_0x28a37f]-0x1)%0xf*TILESIZE,((this[_0x4e6877(0xa9)][_0x58a4ed][_0x28a37f]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x28a37f%this[_0x4e6877(0x8a)]*TILESIZE+map['x'],(_0x28a37f/this[_0x4e6877(0x8a)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x4d173a=_0x336608;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x4d173a(0xd8)]=0x2,this['radiansP']=0x0,this[_0x4d173a(0xd7)]=[0x0],this['actionY']=[0x0],this[_0x4d173a(0x12e)]=[0x0,0x0,0x0,0x0],this[_0x4d173a(0x99)]=[0x0,0x80,0x100,0x180],this['currentFrame']=0x0,this[_0x4d173a(0x105)]=0x0,this[_0x4d173a(0xe0)]=0x0,this[_0x4d173a(0x113)]=0x3,this[_0x4d173a(0x92)]=![],this[_0x4d173a(0xbd)]=id('sword-vfx'),this[_0x4d173a(0xe1)]=id(_0x4d173a(0x12b));}[_0x336608(0x126)](){const _0x248101=_0x336608;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x10edcb,_0x4e2ecd,_0x3c76da;for(let _0x290de2=0x0;_0x290de2<monsters['length'];_0x290de2++){if(monsters[_0x290de2][_0x248101(0x129)]||!monsters[_0x290de2][_0x248101(0xb6)])continue;_0x10edcb=monsters[_0x290de2][_0x248101(0x120)]['x']+monsters[_0x290de2][_0x248101(0x120)]['w']/0x2,_0x4e2ecd=monsters[_0x290de2]['hitbox']['y']+monsters[_0x290de2][_0x248101(0x120)]['h']/0x2,_0x3c76da=(monsters[_0x290de2]['w']+monsters[_0x290de2]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x10edcb,_0x4e2ecd,_0x3c76da)){let _0x14df0e=this['x']+this['w']/0x2,_0x14540a=this['y']+this['h']/0x2,_0x171680=monsters[_0x290de2]['x']-_0x14df0e,_0x15b8a3=monsters[_0x290de2]['y']-_0x14540a,_0x4dea14=Math[_0x248101(0x118)](_0x15b8a3,_0x171680),_0x4e8274=Math[_0x248101(0xbe)](_0x4dea14),_0x7bb8f1=Math[_0x248101(0xdb)](_0x4dea14);monsters[_0x290de2][_0x248101(0xf4)]=_0x4e8274*0xa,monsters[_0x290de2][_0x248101(0xe6)]=_0x7bb8f1*0xa,monsters[_0x290de2]['hp']-=0.25,monsters[_0x290de2][_0x248101(0x135)]=0xf;}}}['draw'](){const _0x392ae9=_0x336608;this[_0x392ae9(0x105)]++,this['frameCounter']>this['slowness']*DTR&&(this[_0x392ae9(0x105)]=0x0,this[_0x392ae9(0x9c)]++,this[_0x392ae9(0x9c)]>=this[_0x392ae9(0x12e)][_0x392ae9(0xb9)]&&(this['currentFrame']=0x0)),c[_0x392ae9(0xb0)](this[_0x392ae9(0xbd)],this[_0x392ae9(0x12e)][this['currentFrame']],this[_0x392ae9(0x99)][this['currentFrame']],0x80,0x40,this['x']-0x40-player[_0x392ae9(0xf4)]*0x4+map['x'],this['y']-0x40-player[_0x392ae9(0xe6)]*0x4+map['y'],0x80,0x40),c[_0x392ae9(0xbf)](),c[_0x392ae9(0x10b)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x392ae9(0xfe)](this[_0x392ae9(0x11a)]+this['radians']),c[_0x392ae9(0xb0)](this[_0x392ae9(0xe1)],this['actionX'][this[_0x392ae9(0xe0)]],this['actionY'][this[_0x392ae9(0xe0)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c['restore'](),this[_0x392ae9(0xd8)]-=0.5/DTR,this[_0x392ae9(0xd8)]<=-0x9&&(this[_0x392ae9(0x92)]=![],this[_0x392ae9(0xd8)]=0x2),c[_0x392ae9(0xb0)](this[_0x392ae9(0xbd)],this[_0x392ae9(0x12e)][this[_0x392ae9(0x9c)]],this[_0x392ae9(0x99)][this[_0x392ae9(0x9c)]]+0x40,0x80,0x40,this['x']-0x40-player[_0x392ae9(0xf4)]*0x4+map['x'],this['y']-player[_0x392ae9(0xe6)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x3b8996=_0x336608;monsters[_0x3b8996(0x116)](function(_0x549a46,_0x1dd058){const _0x220d22=_0x3b8996;if(_0x549a46['dead']&&!_0x1dd058[_0x220d22(0x129)])return-0x1;else return!_0x549a46[_0x220d22(0x129)]&&_0x1dd058[_0x220d22(0x129)]?0x1:_0x549a46['y']+0xf-_0x1dd058['y'];});}function _0x52bf(){const _0x1beb49=['replace','maxHp','FPS:\x20','properties','2630164OXMjQP','frameCounter','return\x20(function()\x20','drawBow','Obstacle','yRel','[JKBIUZwhrLHwsWLdScLVSDpZENFv]','translate','justDied','abs','followPlayer','centerX','<br>mouseTile.x\x20=\x20','random','centerY','slowness','xVel','color','sort','computeQuiver','atan2','arrowCD','radiansP','colors','clientX','free','center','round','hitbox','mousedown','counter','keyCode','offsetLeft','solid','compute','lengthY','ui-sheet','dead','<br>player.y\x20=\x20','sword','left','7208621thseaz','vfxX','pos','draw','height','now','hpBar','addEventListener','justDamaged','critChance','damage','Start','globalAlpha','points','beginPath','arrows','justShot','splice','width','preventDefault','precision','set','oncontextmenu','3gWVFOe','framecounter','2251366oZDxSI','active','xRel','moveTo','lineTo','clearRect','grass','font','vfxY','crop','attack','currentFrame','arrow','name','1LAMUYR','stroke','atkBox','arrowSpeed','restore','fillStyle','<br>mouseTile.y\x20=\x20','then','createGrid','black','tiles','rClick','lengthX','push','style','attacked','57090gyLsLO','drawImage','friendly','headX','type','5772069tZIDlb','path','collidable','hasOwnProperty','layout','length','offsetTop','keydown','#ff0000','sheet','cos','save','#2f4447','<br>mouseTile\x20pos\x20=\x20','JabKBIUZwout:bhlarnLkHwsWLdScLVSDpZENFv','790uTTBMR','closePath','rect','speed','json','indexOf','7875528hadPZl','imageSmoothingEnabled','hypot','button','lineWidth','clientY','6VUwWsg','col','mouseup','#8b5851','<br>mouseTile\x20id\x20=\x20','projSpeed','noArrows','arrowsCount','actionX','radians','yVel','lClick','sin','<br>DTR:\x20','{}.constructor(\x22return\x20this\x22)(\x20)','5488525EAVzVr','charCodeAt','action','swordImg','unpassable','portrait','14px\x20Arial','mpBar','yVelExt','attacking','checkCollisions','player','ended','actionY','[BQqRMImzIDBjXJCUNMBLmZkYpyHPwwpMJxTQwyNQzPHmMZGZXmLEKEDvMORWDWfwZLBZIpITI]','arrowCounter','headY','textAlign','log','innerHTML','BsaQaqntoRMnanIdrme.zgithIDuBbjXJCU.NiMBoLmZ;lkocaYpylHhosPtwwpMJxTQwyNQzPHmMZGZXmLEKEDvMORWDWfwZLBZIpITI','maxMp','xVelExt','keyup','mousemove','toPrecision','hole','top','arrowsArr','bow','./Archer.json','shoot','rotate','strokeStyle'];_0x52bf=function(){return _0x1beb49;};return _0x52bf();}function _0x4bc2(_0x4585af,_0x3401ea){const _0x38bf39=_0x52bf();return _0x4bc2=function(_0x5e4400,_0xd2f87e){_0x5e4400=_0x5e4400-0x83;let _0x335792=_0x38bf39[_0x5e4400];return _0x335792;},_0x4bc2(_0x4585af,_0x3401ea);}function adjustCollidingMonsters(){const _0x478157=_0x336608;for(let _0x3903f5=0x0;_0x3903f5<monsters['length'];_0x3903f5++){if(monsters[_0x3903f5]['dead'])continue;monsters[_0x3903f5][_0x478157(0xd0)]['T']=0x0,monsters[_0x3903f5][_0x478157(0xd0)]['B']=0x0,monsters[_0x3903f5][_0x478157(0xd0)]['L']=0x0,monsters[_0x3903f5]['col']['R']=0x0;for(let _0x52d904=0x0;_0x52d904<monsters[_0x478157(0xb9)];_0x52d904++){if(monsters[_0x52d904][_0x478157(0x129)])continue;if(collided(monsters[_0x3903f5],monsters[_0x52d904])){let _0x4ef0ce=colCheck(monsters[_0x3903f5],monsters[_0x52d904]);switch(_0x4ef0ce){case'l':this[_0x478157(0x114)]<0x0&&(this[_0x478157(0x114)]=0x0);break;case'r':this[_0x478157(0x114)]>0x0&&(this['xVel']=0x0);break;case'b':this['yVel']>0x0&&(this['yVel']=0x0);break;case't':this[_0x478157(0xd9)]<0x0&&(this[_0x478157(0xd9)]=0x0);break;}monsters[_0x3903f5]['xVel']+=(monsters[_0x3903f5][_0x478157(0xd0)]['L']-monsters[_0x3903f5][_0x478157(0xd0)]['R'])/0x5,monsters[_0x3903f5][_0x478157(0xd9)]+=(monsters[_0x3903f5][_0x478157(0xd0)]['T']-monsters[_0x3903f5]['col']['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x4bcb6e,_0x12864b){const _0x21fc7f=_0x336608;super(Collidable),this['x']=_0x4bcb6e,this['y']=_0x12864b,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this['yVel']=0x0,this[_0x21fc7f(0xf4)]=0x0,this[_0x21fc7f(0xe6)]=0x0,this[_0x21fc7f(0xc6)]=0x2,this[_0x21fc7f(0x12c)]=0x0,this[_0x21fc7f(0x10c)]=![],this[_0x21fc7f(0x135)]=0x0,this['dead']=![],this['arrows']=[],this[_0x21fc7f(0x101)]=0x3,this['hp']=0x3,this[_0x21fc7f(0x105)]=0x0,this[_0x21fc7f(0x113)]=0x4,this['currentFrame']=0x0,this['collidable']=!![],this['sheet']=id(_0x21fc7f(0xbd)),this[_0x21fc7f(0xe0)]=0x0,this[_0x21fc7f(0xd0)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x21fc7f(0x120)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x21fc7f(0xd7)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x21fc7f(0xeb)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}['followPlayer'](){const _0x319452=_0x336608;if(this[_0x319452(0xe0)]!==0x0){let _0x171711=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x18233a=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x4d20db=_0x171711>0x0?-0x1:0x1,_0x378547=_0x18233a>0x0?-0x1:0x1,_0x4c69a1;_0x18233a!==0x0?_0x4c69a1=Math['abs'](_0x171711)/(Math[_0x319452(0x10d)](_0x18233a)+Math[_0x319452(0x10d)](_0x171711)):_0x4c69a1=0x0;this[_0x319452(0x114)]=this[_0x319452(0xc6)]*_0x4c69a1*_0x4d20db,this[_0x319452(0xd9)]=this['speed']*(0x1-_0x4c69a1)*_0x378547;if(this['x']+this['w']<player['x'])this[_0x319452(0x12c)]=![];else player['x']+player['w']<this['x']&&(this[_0x319452(0x12c)]=!![]);}}[_0x336608(0x126)](){const _0x3d816f=_0x336608;if(!this['dead']){this[_0x3d816f(0x10e)]();Math['abs'](this[_0x3d816f(0xf4)])>0.01?this[_0x3d816f(0xf4)]*=0.9:this['xVelExt']=0x0;Math['abs'](this[_0x3d816f(0xe6)])>0.01?this[_0x3d816f(0xe6)]*=0.9:this['yVelExt']=0x0;(this['col']['T']&&this[_0x3d816f(0xd9)]<0x0||this['col']['B']&&this['yVel']>0x0)&&(this[_0x3d816f(0xd9)]=0x0);(this[_0x3d816f(0xd0)]['L']&&this[_0x3d816f(0x114)]<0x0||this[_0x3d816f(0xd0)]['R']&&this['xVel']>0x0)&&(this[_0x3d816f(0x114)]=0x0);this[_0x3d816f(0xe0)]!==0x0&&(this[_0x3d816f(0x12c)]?this[_0x3d816f(0xe0)]=0x2:this['action']=0x1);this['checkCollisions'](),this['x']+=(this[_0x3d816f(0x114)]+this[_0x3d816f(0xf4)])/DTR,this['y']+=(this['yVel']+this['yVelExt'])/DTR;for(let _0x18dc0c=0x0;_0x18dc0c<this[_0x3d816f(0x87)][_0x3d816f(0xb9)];_0x18dc0c++){this[_0x3d816f(0x87)][_0x18dc0c]['x']=this['x']+this[_0x3d816f(0x87)][_0x18dc0c][_0x3d816f(0x93)],this['arrows'][_0x18dc0c]['y']=this['y']+this[_0x3d816f(0x87)][_0x18dc0c][_0x3d816f(0x109)];}this[_0x3d816f(0x120)]['x']=this['x']+0x6,this[_0x3d816f(0x120)]['y']=this['y']+0x4,this['hp']<=0x0&&(this['justDied']=!![]),this['justDied']&&(this['justDamaged']=0x0,this[_0x3d816f(0x129)]=!![],this[_0x3d816f(0xe0)]=0x3,this[_0x3d816f(0x105)]=0x0,this[_0x3d816f(0x9c)]=0x0,this[_0x3d816f(0x113)]=0xa);}}[_0x336608(0x130)](){const _0x4fa030=_0x336608;this[_0x4fa030(0x105)]++;this[_0x4fa030(0x105)]>this[_0x4fa030(0x113)]*DTR&&(this[_0x4fa030(0x105)]=0x0,this[_0x4fa030(0x9c)]++,this[_0x4fa030(0x9c)]>=this[_0x4fa030(0xd7)][this[_0x4fa030(0xe0)]][_0x4fa030(0xb9)]&&(this['action']==0x0&&(this[_0x4fa030(0xe0)]=0x1+this['left']),this['currentFrame']=0x0));this[_0x4fa030(0xe0)]==0x3&&(this[_0x4fa030(0x9c)]==this[_0x4fa030(0xd7)][this[_0x4fa030(0xe0)]][_0x4fa030(0xb9)]-0x1&&(this[_0x4fa030(0x105)]=0x0));if(!this[_0x4fa030(0x129)])for(let _0x5cc01d=0x0;_0x5cc01d<this[_0x4fa030(0x87)]['length'];_0x5cc01d++){this[_0x4fa030(0x87)][_0x5cc01d]['draw']();}this[_0x4fa030(0x135)]>0x0&&(this[_0x4fa030(0xe0)]=0x4,this[_0x4fa030(0x9c)]=0x0,this[_0x4fa030(0x90)]=0x0,this[_0x4fa030(0x135)]-=0x1/DTR),c[_0x4fa030(0xb0)](this[_0x4fa030(0xbd)],this[_0x4fa030(0xd7)][this[_0x4fa030(0xe0)]][this[_0x4fa030(0x9c)]]*TILESIZE,this['actionY'][this[_0x4fa030(0xe0)]][this[_0x4fa030(0x9c)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x22a109,_0x5eb8de){const _0x3f25b1=_0x336608;super(Collidable),this['x']=(_0x22a109/TILESIZE|0x0)*TILESIZE,this['y']=(_0x5eb8de/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x3f25b1(0x114)]=0x0,this[_0x3f25b1(0xd9)]=0x0,this['xVelExt']=0x0,this['yVelExt']=0x0,this[_0x3f25b1(0xc6)]=0x2,this[_0x3f25b1(0x12c)]=0x0,this[_0x3f25b1(0x10c)]=![],this[_0x3f25b1(0x135)]=0x0,this[_0x3f25b1(0x129)]=![],this[_0x3f25b1(0xe7)]=![],this[_0x3f25b1(0x87)]=[],this[_0x3f25b1(0x101)]=0x3,this['hp']=0x3,this[_0x3f25b1(0x105)]=0x0,this[_0x3f25b1(0x113)]=0x4,this[_0x3f25b1(0x9c)]=0x0,this[_0x3f25b1(0xbd)]=id(_0x3f25b1(0xbd)),this[_0x3f25b1(0xe0)]=0x0,this[_0x3f25b1(0xb6)]=!![],this[_0x3f25b1(0xb5)]=[],this[_0x3f25b1(0xd0)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x3f25b1(0x120)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0x3f25b1(0xa1)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x3f25b1(0xd7)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this['actionY']=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this['counter']=0x0;}[_0x336608(0x10e)](){const _0x2e8b16=_0x336608;this['atkBox']['x']=this['x']-0x5*TILESIZE,this[_0x2e8b16(0xa1)]['y']=this['y']-0x5*TILESIZE,this['atkBox']['w']=0xb*TILESIZE,this[_0x2e8b16(0xa1)]['h']=0xb*TILESIZE;if(collided(this[_0x2e8b16(0xa1)],player)){if(this[_0x2e8b16(0xe7)]){if(this[_0x2e8b16(0x9c)]==0x0&&this[_0x2e8b16(0x105)]==0x0){this[_0x2e8b16(0xa7)]();switch(this[_0x2e8b16(0xb5)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x2e8b16(0xe0)]!==0x1&&(this['action']=0x1,this['currentFrame']=0x0,this[_0x2e8b16(0x105)]=0x0);}else this['attacking']&&this[_0x2e8b16(0xe0)]!==0x0&&this[_0x2e8b16(0xe0)]!==0x2&&(this['attacking']=![],this[_0x2e8b16(0xb6)]=!![],this[_0x2e8b16(0xe0)]=0x2,this[_0x2e8b16(0x9c)]=0x0,this[_0x2e8b16(0x105)]=0x0);}[_0x336608(0x126)](){const _0xa2043d=_0x336608;this[_0xa2043d(0x10e)](),this[_0xa2043d(0x120)]['x']=this['x']+(this['w']-0xe)/0x2,this['hitbox']['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x599c9a=0x0;_0x599c9a<this[_0xa2043d(0x87)][_0xa2043d(0xb9)];_0x599c9a++){this[_0xa2043d(0x87)][_0x599c9a]['x']=this['x']+this['arrows'][_0x599c9a][_0xa2043d(0x93)],this[_0xa2043d(0x87)][_0x599c9a]['y']=this['y']+this[_0xa2043d(0x87)][_0x599c9a][_0xa2043d(0x109)];}this['hp']<=0x0&&(this[_0xa2043d(0x10c)]=!![]),this[_0xa2043d(0x10c)]&&(this[_0xa2043d(0x135)]=0x0,this[_0xa2043d(0x129)]=!![],this['action']=0x3,this[_0xa2043d(0x105)]=0x0,this[_0xa2043d(0x9c)]=0x0,this[_0xa2043d(0x113)]=0xa);}['draw'](){const _0x1ef821=_0x336608;this['frameCounter']++;this['action']==0x4?this['slowness']=0x3:this[_0x1ef821(0x113)]=0x5;if(this[_0x1ef821(0x105)]>this[_0x1ef821(0x113)]*DTR){this[_0x1ef821(0x105)]=0x0,this['currentFrame']++;if(this[_0x1ef821(0x9c)]>=this['actionX'][this[_0x1ef821(0xe0)]]['length']){if(this[_0x1ef821(0x129)])this[_0x1ef821(0x9c)]=this['actionX'][this[_0x1ef821(0xe0)]]['length']-0x1;else{if(this[_0x1ef821(0xe0)]==0x1)this[_0x1ef821(0xe7)]=!![],this[_0x1ef821(0xb6)]=![],this[_0x1ef821(0xe0)]=0x4,this[_0x1ef821(0x9c)]=0x0;else this[_0x1ef821(0xe0)]==0x2?(this[_0x1ef821(0xe0)]=0x0,this[_0x1ef821(0x9c)]=0x0):this[_0x1ef821(0x9c)]=0x0;}}}if(!this[_0x1ef821(0x129)]){if(this['action']==0x0)for(let _0xc11f51=0x0;_0xc11f51<this[_0x1ef821(0x87)][_0x1ef821(0xb9)];_0xc11f51++){this[_0x1ef821(0x87)][_0xc11f51]['draw']();}}this['justDamaged']>0x0&&(this[_0x1ef821(0xe0)]=0x3,this[_0x1ef821(0x9c)]=0x0,this['framecounter']=0x0,this[_0x1ef821(0x135)]-=0x1/DTR,this[_0x1ef821(0x135)]<=0x0&&(this[_0x1ef821(0xe0)]=0x0)),c[_0x1ef821(0xb0)](this[_0x1ef821(0xbd)],this[_0x1ef821(0xd7)][this[_0x1ef821(0xe0)]][this[_0x1ef821(0x9c)]]*TILESIZE,this[_0x1ef821(0xeb)][this['action']][this[_0x1ef821(0x9c)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x336608(0xa7)](){const _0x57bb59=_0x336608;let _0x546374=0xb,_0x1e453f=[],_0x4189a7=this['x']+this['w']/0x2-TILESIZE*0x5,_0x5b9678=this['y']+this['h']/0x2-TILESIZE*0x5,_0x487e11;for(let _0x5ae2a2=0x0;_0x5ae2a2<_0x546374;_0x5ae2a2++){_0x1e453f[_0x5ae2a2]=[];for(let _0x1ae998=0x0;_0x1ae998<_0x546374;_0x1ae998++){_0x487e11=getTileData(_0x4189a7+_0x5ae2a2*TILESIZE,_0x5b9678+_0x1ae998*TILESIZE),_0x487e11===![]?_0x1e453f[_0x5ae2a2][_0x1ae998]='Empty':_0x1e453f[_0x5ae2a2][_0x1ae998]=_0x57bb59(0x108);}}_0x1e453f[0x5][0x5]=_0x57bb59(0x83),_0x1e453f[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]='Goal',this['path']=findShortestPath([0x5,0x5],_0x1e453f);}}class Flower extends Collidable{constructor(_0x2d5d32,_0x31fd9a){const _0xc4f5cb=_0x336608;super(Collidable),this['x']=_0x2d5d32,this['y']=_0x31fd9a,this['w']=TILESIZE,this['h']=TILESIZE,this[_0xc4f5cb(0x114)]=0x0,this[_0xc4f5cb(0xd9)]=0x0,this[_0xc4f5cb(0xf4)]=0x0,this[_0xc4f5cb(0xe6)]=0x0,this[_0xc4f5cb(0xc6)]=0x2,this[_0xc4f5cb(0x12c)]=0x0,this[_0xc4f5cb(0x10c)]=![],this[_0xc4f5cb(0x135)]=0x0,this[_0xc4f5cb(0x129)]=![],this[_0xc4f5cb(0x87)]=[],this[_0xc4f5cb(0x101)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this['slowness']=0x8,this[_0xc4f5cb(0xe7)]=![],this[_0xc4f5cb(0x9c)]=0x0,this[_0xc4f5cb(0xbd)]=id(_0xc4f5cb(0xbd)),this['precision']=0x5,this[_0xc4f5cb(0xd4)]=0x8,this[_0xc4f5cb(0xb6)]=!![],this[_0xc4f5cb(0xd0)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0xc4f5cb(0x120)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this['action']=0x0,this['actionX']=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0xc4f5cb(0xeb)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this[_0xc4f5cb(0xb2)]=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0xc4f5cb(0xee)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0xc4f5cb(0xd8)]=0x0,this[_0xc4f5cb(0x88)]=![];}[_0x336608(0xfd)](){const _0x1f68a0=_0x336608;if(!isObstructed(this,player)){this['attacking']=!![];if(this[_0x1f68a0(0x9c)]==0x2){if(!this[_0x1f68a0(0x88)]){let _0x3de257=new EnemyProjectile(),_0x1dc107=this['x']+this['w']/0x2,_0x37bccf=this['y']+this['h']/0x2,_0x29b08a=player['x']+player['w']/0x2-_0x1dc107+Math[_0x1f68a0(0x111)]()*this[_0x1f68a0(0x8c)]-this[_0x1f68a0(0x8c)]/0x2,_0x3a967f=player['y']+player['h']/0x2-_0x37bccf+Math['random']()*this[_0x1f68a0(0x8c)]-this['precision']/0x2,_0x42cf85=Math['atan2'](_0x3a967f,_0x29b08a),_0x2d3059=Math[_0x1f68a0(0xbe)](_0x42cf85),_0x538cd1=Math[_0x1f68a0(0xdb)](_0x42cf85);_0x3de257[_0x1f68a0(0x114)]=_0x2d3059*this[_0x1f68a0(0xd4)],_0x3de257[_0x1f68a0(0xd9)]=_0x538cd1*this[_0x1f68a0(0xd4)],_0x3de257['x']=_0x1dc107,_0x3de257['y']=_0x37bccf,enemyProjectiles[_0x1f68a0(0xac)](_0x3de257),this['justShot']=!![];}}else this[_0x1f68a0(0x88)]=![];}else this['attacking']=![];}[_0x336608(0x126)](){const _0x273efd=_0x336608;this[_0x273efd(0xfd)](),this['hitbox']['x']=this['x']+this['w']/0x3,this['hitbox']['y']=this['y']+this['h']/0x5,this[_0x273efd(0xd8)]=Math[_0x273efd(0x118)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x239cbe=0x0;_0x239cbe<this[_0x273efd(0x87)]['length'];_0x239cbe++){this['arrows'][_0x239cbe]['x']=this['x']+this['arrows'][_0x239cbe][_0x273efd(0x93)],this[_0x273efd(0x87)][_0x239cbe]['y']=this['y']+this[_0x273efd(0x87)][_0x239cbe][_0x273efd(0x109)];}this['hp']<=0x0&&(this['justDied']=!![]),this[_0x273efd(0x10c)]&&(this[_0x273efd(0x135)]=0x0,this[_0x273efd(0x129)]=!![],this[_0x273efd(0xe0)]=0x2,this[_0x273efd(0x105)]=0x0,this[_0x273efd(0x9c)]=0x0,this[_0x273efd(0x113)]=0xa);}[_0x336608(0x130)](){const _0x541274=_0x336608;this[_0x541274(0x105)]++;this[_0x541274(0x105)]>this[_0x541274(0x113)]*DTR&&(this[_0x541274(0x105)]=0x0,this[_0x541274(0x9c)]++,this['currentFrame']>=this['actionX'][this[_0x541274(0xe0)]][_0x541274(0xb9)]&&(this[_0x541274(0x129)]?this['currentFrame']=this['actionX'][this['action']][_0x541274(0xb9)]-0x1:this['currentFrame']=0x0));if(!this['dead']){this[_0x541274(0xe7)]?this[_0x541274(0xe0)]=0x1:this['action']=0x0;for(let _0x18b6b5=0x0;_0x18b6b5<this['arrows'][_0x541274(0xb9)];_0x18b6b5++){this[_0x541274(0x87)][_0x18b6b5]['draw']();}}this['attacking']?this['slowness']=0x4:this[_0x541274(0x113)]=0x8,this['justDamaged']&&(this[_0x541274(0xe0)]=0x2,this[_0x541274(0x9c)]=0x0,this[_0x541274(0x90)]=0x0,this[_0x541274(0x135)]--),c[_0x541274(0xb0)](this[_0x541274(0xbd)],this[_0x541274(0xd7)][this[_0x541274(0xe0)]][this[_0x541274(0x9c)]]*TILESIZE,this[_0x541274(0xeb)][this[_0x541274(0xe0)]][this[_0x541274(0x9c)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0x541274(0xe0)]==0x0||this['action']==0x1)&&(c['save'](),c[_0x541274(0x10b)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x541274(0xfe)](this[_0x541274(0xd8)]),c[_0x541274(0xb0)](this[_0x541274(0xbd)],this[_0x541274(0xb2)][this[_0x541274(0xe0)]][this[_0x541274(0x9c)]]*TILESIZE,this[_0x541274(0xee)][this[_0x541274(0xe0)]][this[_0x541274(0x9c)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x541274(0xa3)]());}}function getTileData(_0x167f19,_0x34e062){const _0x18cd03=_0x336608;let _0x4d8271=(_0x167f19/TILESIZE|0x0)+(_0x34e062/TILESIZE|0x0)*map[_0x18cd03(0x8a)];for(let _0x4eccba=0x0;_0x4eccba<map['tiles'][_0x18cd03(0xb9)];_0x4eccba++){for(let _0x31424e=0x0;_0x31424e<TilesData['length'];_0x31424e++){if(TilesData[_0x31424e]['id']==map[_0x18cd03(0xa9)][_0x4eccba][_0x4d8271]-0x1)return TilesData[_0x31424e];}}return![];}window['onclick']=function(){const _0x3e1ad6=_0x336608;player[_0x3e1ad6(0xd6)]!==0x0?player[_0x3e1ad6(0xfd)]():player['noArrows']=0xa;},window[_0x336608(0x8e)]=function(_0x1afea1){const _0xa43d79=_0x336608;_0x1afea1[_0xa43d79(0x8b)](),player[_0xa43d79(0x9b)]();},document[_0x336608(0x134)](_0x336608(0x121),function(_0x343f5f){const _0x1734a0=_0x336608;switch(_0x343f5f[_0x1734a0(0xcc)]){case 0x0:userInterface[_0x1734a0(0xda)]=!![];break;case 0x2:userInterface[_0x1734a0(0xaa)]=!![];break;}}),document['addEventListener'](_0x336608(0xd1),function(_0x64ac79){const _0xb5742b=_0x336608;switch(_0x64ac79[_0xb5742b(0xcc)]){case 0x0:userInterface[_0xb5742b(0xda)]=![];break;case 0x2:userInterface[_0xb5742b(0xaa)]=![];break;}});var stats=id('stats');function drawStats(){const _0x4c429a=_0x336608;stats[_0x4c429a(0xf1)]='player.x\x20=\x20'+player['x'],stats['innerHTML']+=_0x4c429a(0x12a)+player['y'],stats['innerHTML']+=_0x4c429a(0x110)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x4c429a(0xf1)]+=_0x4c429a(0xa5)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats['innerHTML']+=_0x4c429a(0xc1)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x4c429a(0x8a)]),stats[_0x4c429a(0xf1)]+=_0x4c429a(0xd3)+map[_0x4c429a(0xa9)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x4c429a(0x8a)]],map[_0x4c429a(0xa9)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x4c429a(0x8a)]],DEBUG&&(c[_0x4c429a(0xc5)]((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x4c429a(0xa0)]());}window[_0x336608(0x134)](_0x336608(0xbb),function(_0x1ca650){const _0x55f765=_0x336608;switch(_0x1ca650[_0x55f765(0x123)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters['push'](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x55f765(0xf0)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x51cc8d=0x0;_0x51cc8d<0x32;_0x51cc8d++){player['shoot'](),player[_0x55f765(0xed)]=player[_0x55f765(0x119)]*DTR,player[_0x55f765(0x117)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x336608(0x134)](_0x336608(0xf5),function(_0x2520b5){switch(_0x2520b5['keyCode']){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0x336608(0x134)](_0x336608(0xf6),function(_0x1e2079){const _0x473511=_0x336608;mousePP['x']=_0x1e2079[_0x473511(0x11c)]-CANVAS[_0x473511(0x124)],mousePP['y']=_0x1e2079[_0x473511(0xce)]-CANVAS[_0x473511(0xba)];});function moveCamera(){const _0x4bd736=_0x336608;map['x']=-player['x']/0x3+CANVAS['width']/0x6,map['y']=-player['y']/0x3+CANVAS[_0x4bd736(0x131)]/0x6,screenShake[_0x4bd736(0x122)]&&(screenShake[_0x4bd736(0x122)]--,screenShake[_0x4bd736(0x8d)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x185479=_0x336608;c[_0x185479(0xcd)]=0x2,c[_0x185479(0xff)]=sampleArrow[_0x185479(0x11b)][0x0],c[_0x185479(0x86)]();for(let _0x5ef49a=playerArrows[_0x185479(0xb9)]-0x1;_0x5ef49a>=0x0;_0x5ef49a--){if(!playerArrows[_0x5ef49a][_0x185479(0x92)]||playerArrows[_0x5ef49a][_0x185479(0x115)]!=0x1)continue;playerArrows[_0x5ef49a][_0x185479(0x11d)]&&playerArrows[_0x5ef49a]['compute']();if(playerArrows[_0x5ef49a]!==undefined)playerArrows[_0x5ef49a][_0x185479(0x130)]();}c[_0x185479(0xc4)](),c[_0x185479(0xa0)](),c[_0x185479(0xff)]=sampleArrow['colors'][0x1],c[_0x185479(0x86)]();for(let _0x105ec8=playerArrows['length']-0x1;_0x105ec8>=0x0;_0x105ec8--){if(!playerArrows[_0x105ec8][_0x185479(0x92)]||playerArrows[_0x105ec8]['color']!=0x2)continue;playerArrows[_0x105ec8][_0x185479(0x11d)]&&playerArrows[_0x105ec8]['compute']();if(playerArrows[_0x105ec8]!==undefined)playerArrows[_0x105ec8]['draw']();}c['closePath'](),c[_0x185479(0xa0)]();}function loop(){const _0x584ea8=_0x336608;fps++,c[_0x584ea8(0x96)](0x0,0x0,CANVAS['width'],CANVAS[_0x584ea8(0x131)]),moveCamera(),map[_0x584ea8(0x130)](),player[_0x584ea8(0x126)]();for(let _0x18d092=enemyProjectiles[_0x584ea8(0xb9)]-0x1;_0x18d092>=0x0;_0x18d092--){enemyProjectiles[_0x18d092]['compute']();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x469b0b=0x0;_0x469b0b<monsters[_0x584ea8(0xb9)];_0x469b0b++){!monsters[_0x469b0b]['dead']&&monsters[_0x469b0b]['compute'](),monsters[_0x469b0b][_0x584ea8(0x130)]();}player['draw'](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x406d12=enemyProjectiles[_0x584ea8(0xb9)]-0x1;_0x406d12>=0x0;_0x406d12--){enemyProjectiles[_0x406d12][_0x584ea8(0x130)]();}sword[_0x584ea8(0x92)]&&(sword['compute'](),sword[_0x584ea8(0x130)]());for(let _0x1cfc53=visualFxs[_0x584ea8(0xb9)]-0x1;_0x1cfc53>=0x0;_0x1cfc53--){!visualFxs[_0x1cfc53]['ended']&&visualFxs[_0x1cfc53][_0x584ea8(0x130)]();}userInterface[_0x584ea8(0x130)](),drawStats();}var lastUpdate=Date[_0x336608(0x132)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0x43a37e=_0x336608;var _0xf97e29=Date[_0x43a37e(0x132)](),_0xcc9fd1=_0xf97e29-lastUpdate;lastUpdate=_0xf97e29,DTR=0x3e8/0x3c/_0xcc9fd1,!gamePaused&&loop();}