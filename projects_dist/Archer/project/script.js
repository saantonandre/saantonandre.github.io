'strict';const _0x46c3a9=_0x5aaa;function _0x1b21(){const _0x3a11a8=['json','apply','innerHTML','{}.constructor(\x22return\x20this\x22)(\x20)','hasOwnProperty','drawImage','onclick','push','clearRect','then','collidable','7391664bHAOVp','addEventListener','justShot','actionY','black','rotate','closePath','arrowCounter','arrowsArr','player.x\x20=\x20','#ff0000','preventDefault','sort','log','speed','ui-sheet','damage','col','arrowCD','strokeStyle','compute','WsajSWapZnqvtonkaNnvdreW.gCVfiLBfthQLub.iyoV;yLlocalAhkvRQoTstDOfHwMYXJqLQqGIkFDpXINpUOHqZwPGYvvzUTLAkZ','attack','return\x20(function()\x20','#ff8db5','save','indexOf','xVelExt','<br>mouseTile.x\x20=\x20','left','440101RDmput','Obstacle','oncontextmenu','./Archer.json','maxHp','hole','lineTo','draw','centerY','FPS','toPrecision','lClick','now','innerWidth','mousemove','xRel','xVel','stats','yVelExt','hitbox','precision','lineWidth','cos','shift','top','fromCharCode','layout','offsetTop','unpassable','radiansP','keyCode','solid','grass','free','textAlign','imageSmoothingEnabled','6Jvfqck','rClick','attacked','#2f4447','framecounter','yRel','offsetLeft','friendly','actionX','5660oVnivO','hpBar','type','maxMp','abs','5037415OFjeXS','14px\x20Arial','vfxY','sin','slowness','button','crop','2250RzYVYP','clientY','center','followPlayer','createGrid','length','stroke','centerX','mpBar','sword-vfx','points','frameCounter','shoot','getElementById','tiles','#8b5851','random','path','10101470NxsExe','properties','clientX','noArrows','arrow','headY','splice','yVel','lengthX','justDied','justDamaged','atan2','sword','moveTo','getContext','mousedown','player','replace','pos','beginPath','atkBox','vfxX','<br>DTR:\x20','attacking','canvas','projSpeed','<br>player.y\x20=\x20','checkCollisions','Empty','[WjSWpZqvkNvWCVfLBfQLyVyLAkvRQTDOfHwMYXJqLQqGIkFDpXINpUOHqZwPGYvvzUTLAkZ]','name','hypot','swordImg','<br>mouseTile.y\x20=\x20','dead','action','abEoCLut:bwRlAajepnrkeIVOPQALPMsTJZyEC','radians','portrait','283409GhFwPb','24FoxCCi','counter','round','colors','[ECLwRAjepreIVOPQALPMsTJZyEC]','fillText','computeQuiver','sheet','FPS:\x20','arrowSpeed','translate','globalAlpha','restore','ended','style','40DQJYJe','bow','keydown','<br>mouseTile\x20pos\x20=\x20','active','15529426TWAafx','height','color','2LYHncG','width','arrowsCount','headX','arrows','currentFrame','slice','lengthY','set','critChance'];_0x1b21=function(){return _0x3a11a8;};return _0x1b21();}(function(_0x5acbac,_0x58a3a2){const _0x1aa338=_0x5aaa,_0x4bf23c=_0x5acbac();while(!![]){try{const _0x476f0c=parseInt(_0x1aa338(0x10b))/0x1*(-parseInt(_0x1aa338(0xd8))/0x2)+parseInt(_0x1aa338(0x87))/0x3*(parseInt(_0x1aa338(0x138))/0x4)+parseInt(_0x1aa338(0x13d))/0x5*(-parseInt(_0x1aa338(0x12f))/0x6)+-parseInt(_0x1aa338(0xc0))/0x7*(-parseInt(_0x1aa338(0xd0))/0x8)+-parseInt(_0x1aa338(0xed))/0x9+-parseInt(_0x1aa338(0x99))/0xa+-parseInt(_0x1aa338(0xd5))/0xb*(-parseInt(_0x1aa338(0xc1))/0xc);if(_0x476f0c===_0x58a3a2)break;else _0x4bf23c['push'](_0x4bf23c['shift']());}catch(_0x130556){_0x4bf23c['push'](_0x4bf23c['shift']());}}}(_0x1b21,0xc54fe));function _0x5aaa(_0xd15837,_0x5f15d9){const _0xcec30b=_0x1b21();return _0x5aaa=function(_0x1a48b8,_0x50bdb9){_0x1a48b8=_0x1a48b8-0x84;let _0x59b14c=_0xcec30b[_0x1a48b8];return _0x59b14c;},_0x5aaa(_0xd15837,_0x5f15d9);}var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0x46c3a9(0xb1)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS[_0x46c3a9(0xa7)]('2d');CANVAS['width']=0x2e0,CANVAS['height']=0x1e0,CANVAS[_0x46c3a9(0xcf)][_0x46c3a9(0x10a)]=(window[_0x46c3a9(0x118)]-CANVAS['width'])/0x2+'px',CANVAS[_0x46c3a9(0xcf)][_0x46c3a9(0x123)]=(window['innerHeight']-CANVAS[_0x46c3a9(0xd6)])/0x2+'px',c[_0x46c3a9(0x12e)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x1f99c3){const _0x2081ca=_0x46c3a9,_0x5506f1=(function(){let _0x30f9ba=!![];return function(_0x37855e,_0x34de55){const _0x35c444=_0x30f9ba?function(){const _0x4f7410=_0x5aaa;if(_0x34de55){const _0x10b16f=_0x34de55[_0x4f7410(0xe3)](_0x37855e,arguments);return _0x34de55=null,_0x10b16f;}}:function(){};return _0x30f9ba=![],_0x35c444;};}()),_0x11b96e=_0x5506f1(this,function(){const _0x4bf205=_0x5aaa;let _0x44af2a;try{const _0x39b999=Function(_0x4bf205(0x104)+_0x4bf205(0xe5)+');');_0x44af2a=_0x39b999();}catch(_0x20846f){_0x44af2a=window;}const _0x284e0d=new RegExp(_0x4bf205(0xb6),'g'),_0x472307=_0x4bf205(0x102)['replace'](_0x284e0d,'')['split'](';');let _0x20bea5,_0x5f1769,_0x36265b,_0x4918b6;const _0x3fb0bf=function(_0x5ee5b7,_0x3131be,_0x1267cb){const _0x435166=_0x4bf205;if(_0x5ee5b7[_0x435166(0x8c)]!=_0x3131be)return![];for(let _0x1e1b15=0x0;_0x1e1b15<_0x3131be;_0x1e1b15++){for(let _0x1539b4=0x0;_0x1539b4<_0x1267cb[_0x435166(0x8c)];_0x1539b4+=0x2){if(_0x1e1b15==_0x1267cb[_0x1539b4]&&_0x5ee5b7['charCodeAt'](_0x1e1b15)!=_0x1267cb[_0x1539b4+0x1])return![];}}return!![];},_0x28ac88=function(_0x16043b,_0x5e0888,_0x474254){return _0x3fb0bf(_0x5e0888,_0x474254,_0x16043b);},_0x5c0fd4=function(_0x463e63,_0x309bbd,_0x484b2f){return _0x28ac88(_0x309bbd,_0x463e63,_0x484b2f);},_0x5a07df=function(_0x20c2dc,_0x5c924c,_0x1d6191){return _0x5c0fd4(_0x5c924c,_0x1d6191,_0x20c2dc);};for(let _0x25f116 in _0x44af2a){if(_0x3fb0bf(_0x25f116,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x20bea5=_0x25f116;break;}}for(let _0x3862cc in _0x44af2a[_0x20bea5]){if(_0x5a07df(0x6,_0x3862cc,[0x5,0x6e,0x0,0x64])){_0x5f1769=_0x3862cc;break;}}for(let _0x11b637 in _0x44af2a[_0x20bea5]){if(_0x5c0fd4(_0x11b637,[0x7,0x6e,0x0,0x6c],0x8)){_0x36265b=_0x11b637;break;}}if(!('~'>_0x5f1769))for(let _0x1cc6ba in _0x44af2a[_0x20bea5][_0x36265b]){if(_0x28ac88([0x7,0x65,0x0,0x68],_0x1cc6ba,0x8)){_0x4918b6=_0x1cc6ba;break;}}if(!_0x20bea5||!_0x44af2a[_0x20bea5])return;const _0x450086=_0x44af2a[_0x20bea5][_0x5f1769],_0x225362=!!_0x44af2a[_0x20bea5][_0x36265b]&&_0x44af2a[_0x20bea5][_0x36265b][_0x4918b6],_0x159a70=_0x450086||_0x225362;if(!_0x159a70)return;let _0x237627=![];for(let _0x29f683=0x0;_0x29f683<_0x472307[_0x4bf205(0x8c)];_0x29f683++){const _0x241e92=_0x472307[_0x29f683],_0x48b276=_0x241e92[0x0]===String[_0x4bf205(0x124)](0x2e)?_0x241e92[_0x4bf205(0xde)](0x1):_0x241e92,_0x48394f=_0x159a70[_0x4bf205(0x8c)]-_0x48b276[_0x4bf205(0x8c)],_0x20ca0e=_0x159a70[_0x4bf205(0x107)](_0x48b276,_0x48394f),_0x2d2ed5=_0x20ca0e!==-0x1&&_0x20ca0e===_0x48394f;_0x2d2ed5&&((_0x159a70[_0x4bf205(0x8c)]==_0x241e92[_0x4bf205(0x8c)]||_0x241e92['indexOf']('.')===0x0)&&(_0x237627=!![]));}if(!_0x237627){const _0x5a9616=new RegExp(_0x4bf205(0xc5),'g'),_0x3d1c5b=_0x4bf205(0xbd)[_0x4bf205(0xaa)](_0x5a9616,'');_0x44af2a[_0x20bea5][_0x36265b]=_0x3d1c5b;}});return _0x11b96e(),document[_0x2081ca(0x94)](_0x1f99c3);}var fpsDiv=id(_0x46c3a9(0x114));setInterval(function(){const _0x32c30c=_0x46c3a9;fpsDiv[_0x32c30c(0xe4)]=_0x32c30c(0xc9)+fps,fpsDiv[_0x32c30c(0xe4)]+=_0x32c30c(0xaf)+DTR[_0x32c30c(0x115)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x394093=_0x46c3a9;this['x']=Math['random']()*0x8-0x4|0x0,this['y']=Math[_0x394093(0x97)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x2e1a20=_0x46c3a9;this['x']=0x0,this['y']=0x0,this[_0x2e1a20(0xa0)]=0x0,this[_0x2e1a20(0x11b)]=0x0,this[_0x2e1a20(0x11a)]=0x0,this[_0x2e1a20(0x134)]=0x0,this[_0x2e1a20(0xd4)]=!![],this[_0x2e1a20(0x12c)]=!![],this[_0x2e1a20(0x136)]=!![],this[_0x2e1a20(0xa1)]=0x0,this[_0x2e1a20(0xdf)]=0x0,this[_0x2e1a20(0xfd)]=0x1,this[_0x2e1a20(0xd7)]=0x0,this[_0x2e1a20(0xc4)]=[_0x2e1a20(0x96),_0x2e1a20(0x105)],this[_0x2e1a20(0x91)]={'x':0x0,'y':0x0};}[_0x46c3a9(0x112)](){const _0x279043=_0x46c3a9;Math[_0x279043(0x13c)](this[_0x279043(0x11b)]*0x3)>Math[_0x279043(0x13c)](this[_0x279043(0xa1)])&&(this['lengthX']=this[_0x279043(0x11b)]*0x3,this['lengthY']=this[_0x279043(0xa0)]*0x3),this[_0x279043(0x91)]['x']=this['x']+this[_0x279043(0xa1)],this['points']['y']=this['y']+this['lengthY'],c[_0x279043(0xa6)](this['x']+map['x'],this['y']+map['y']),c['lineTo'](this['x']+this[_0x279043(0xa1)]+map['x'],this['y']+this[_0x279043(0xdf)]+map['y']);}['compute'](){const _0x43b7ca=_0x46c3a9;this['x']+=this[_0x43b7ca(0x11b)]/DTR,this['y']+=this['yVel']/DTR;if(getTileData(this['x'],this['y'])[_0x43b7ca(0x12a)])visualFxs[_0x43b7ca(0xe9)](new Explosion(this['x']+this[_0x43b7ca(0x11b)],this['y']+this['yVel'],this[_0x43b7ca(0xd7)])),this[_0x43b7ca(0xd7)]==0x2&&(screenShake['counter']=0x5),this[_0x43b7ca(0x11b)]=0x0,this[_0x43b7ca(0xa0)]=0x0,this[_0x43b7ca(0xa1)]/=0x2,this[_0x43b7ca(0xdf)]/=0x2,this[_0x43b7ca(0x12c)]=![];else for(let _0x1721f0=monsters[_0x43b7ca(0x8c)]-0x1;_0x1721f0>=0x0;_0x1721f0--){let _0x1dfa21=monsters[_0x1721f0];!_0x1dfa21[_0x43b7ca(0xbb)]&&_0x1dfa21[_0x43b7ca(0xec)]&&((pointSquareCol(this,_0x1dfa21)||pointSquareCol(this['points'],_0x1dfa21))&&(this[_0x43b7ca(0xd4)]=![],_0x1dfa21[_0x43b7ca(0x108)]=this[_0x43b7ca(0x11b)]/0x2,_0x1dfa21['yVelExt']=this[_0x43b7ca(0xa0)]/0x2,visualFxs[_0x43b7ca(0xe9)](new Explosion(this['x'],this['y'],this[_0x43b7ca(0xd7)])),this[_0x43b7ca(0xd7)]==0x2&&(screenShake[_0x43b7ca(0xc2)]=0x5),this[_0x43b7ca(0x11b)]=0x0,this['yVel']=0x0,this[_0x43b7ca(0x11a)]=this['x']-_0x1dfa21['x'],this[_0x43b7ca(0x134)]=this['y']-_0x1dfa21['y'],_0x1dfa21[_0x43b7ca(0xdc)]['push'](this),_0x1dfa21['hp']-=this[_0x43b7ca(0xfd)],_0x1dfa21['justDamaged']=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x471b34=_0x46c3a9;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this['yVel']=0x0,this[_0x471b34(0x11b)]=0x0,this[_0x471b34(0x12c)]=!![],this[_0x471b34(0x136)]=![],this['sheet']=id(_0x471b34(0xc8)),this[_0x471b34(0x137)]=[0x5],this[_0x471b34(0xf0)]=[0x18],this[_0x471b34(0x13a)]=0x0,this['damage']=0x5;}[_0x46c3a9(0x101)](){const _0x55ff86=_0x46c3a9;this['x']+=this[_0x55ff86(0x11b)]/DTR,this['y']+=this[_0x55ff86(0xa0)]/DTR,getTileData(this['x'],this['y'])['solid']?(enemyProjectiles['splice'](enemyProjectiles[_0x55ff86(0x107)](this),0x1),visualFxs['push'](new Explosion(this['x']+this[_0x55ff86(0x11b)],this['y']+this[_0x55ff86(0xa0)],0x1)),this['xVel']=0x0,this[_0x55ff86(0xa0)]=0x0,this[_0x55ff86(0xa1)]/=0x2,this[_0x55ff86(0xdf)]/=0x2,this[_0x55ff86(0x12c)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x55ff86(0x9f)](enemyProjectiles[_0x55ff86(0x107)](this),0x1),player['xVelExt']+=this[_0x55ff86(0x11b)]/0x2,player[_0x55ff86(0x11d)]+=this['yVel']/0x2,player['hp']-=this[_0x55ff86(0xfd)],visualFxs['push'](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x55ff86(0xc2)]=0x5);}[_0x46c3a9(0x112)](){const _0x2bf7c5=_0x46c3a9;c['drawImage'](this[_0x2bf7c5(0xc8)],this[_0x2bf7c5(0x137)][this['type']]*TILESIZE,this[_0x2bf7c5(0xf0)][this['type']]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x16eb86,_0x490f97,_0x1de9bb){const _0x139403=_0x46c3a9;this['sheet']=id(_0x139403(0xc8)),this['x']=_0x16eb86-0x10,this['y']=_0x490f97-0x10,this['w']=0x20,this['h']=0x20,this[_0x139403(0x92)]=0x0,this[_0x139403(0xdd)]=0x0,this[_0x139403(0xbc)]=_0x1de9bb-0x1,this[_0x139403(0x137)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x139403(0xf0)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this['slowness']=0x4,this[_0x139403(0xce)]=![];}[_0x46c3a9(0x112)](){const _0x482a1e=_0x46c3a9;c[_0x482a1e(0xe7)](this[_0x482a1e(0xc8)],this[_0x482a1e(0x137)][this[_0x482a1e(0xbc)]][this[_0x482a1e(0xdd)]],this['actionY'][this['action']][this[_0x482a1e(0xdd)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this[_0x482a1e(0x92)]++,this[_0x482a1e(0x92)]>this['slowness']*DTR&&(this[_0x482a1e(0x92)]=0x0,this['currentFrame']++,this[_0x482a1e(0xdd)]>this['actionX'][this[_0x482a1e(0xbc)]][_0x482a1e(0x8c)]-0x1&&(this['ended']=!![]));}}class Collidable{constructor(){}[_0x46c3a9(0xb4)](){const _0x592deb=_0x46c3a9;let _0x576862;this[_0x592deb(0xfe)]['T']=0x0,this['col']['B']=0x0,this[_0x592deb(0xfe)]['L']=0x0,this['col']['R']=0x0,getTileData(this['x'],this['y'])[_0x592deb(0x127)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x576862=colCheck(this,generatedSquare),this['x']+=(this[_0x592deb(0xfe)]['L']-this[_0x592deb(0xfe)]['R'])/0x5/DTR,this['y']+=(this[_0x592deb(0xfe)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x592deb(0x127)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x576862=colCheck(this,generatedSquare),this['x']+=(this[_0x592deb(0xfe)]['L']-this[_0x592deb(0xfe)]['R'])/0x5/DTR,this['y']+=(this[_0x592deb(0xfe)]['T']-this[_0x592deb(0xfe)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x592deb(0x127)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x576862=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0x592deb(0xfe)]['T']-this[_0x592deb(0xfe)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x592deb(0x127)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x576862=colCheck(this,generatedSquare),this['x']+=(this[_0x592deb(0xfe)]['L']-this[_0x592deb(0xfe)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x592deb(0xfe)]['B'])/0x5/DTR),this[_0x592deb(0xfe)]['B']&&(this[_0x592deb(0x11d)]>0x0&&(this[_0x592deb(0x11d)]*=-0.5)),this['col']['T']&&(this[_0x592deb(0x11d)]<0x0&&(this[_0x592deb(0x11d)]*=-0.5)),this['col']['R']&&(this['xVelExt']>0x0&&(this['xVelExt']*=-0.5)),this[_0x592deb(0xfe)]['L']&&(this[_0x592deb(0x108)]<0x0&&(this[_0x592deb(0x108)]*=-0.5));}}class Player extends Collidable{constructor(_0x213fd7,_0x4cf98a){const _0x2a9d66=_0x46c3a9;super(Collidable),this['x']=_0x213fd7,this['y']=_0x4cf98a,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x2a9d66(0xfb)]=0x3,this[_0x2a9d66(0xa0)]=0x0,this[_0x2a9d66(0x11b)]=0x0,this['yVelExt']=0x0,this[_0x2a9d66(0x108)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this['arrowSpeed']=0xa,this[_0x2a9d66(0x8e)]=0x0,this[_0x2a9d66(0x113)]=0x0,this[_0x2a9d66(0xfe)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x2a9d66(0x137)]=[0x0,0x20,0x40],this['actionY']=[0x0,0x0,0x0],this['action']=0x0,this[_0x2a9d66(0x92)]=0x0,this[_0x2a9d66(0x84)]=0x6,this[_0x2a9d66(0xbe)]=0x0,this[_0x2a9d66(0xa5)]=![],this['precision']=0x14,this[_0x2a9d66(0x9c)]=0x0,this[_0x2a9d66(0x131)]=0x0,this[_0x2a9d66(0xf5)]=[0x1,0x1,0x1,0x1,0x1],this['arrowCD']=0x3c,this[_0x2a9d66(0xf4)]=0x0,this[_0x2a9d66(0xda)]=0x4,this['hp']=0x64,this['maxHp']=0x64,this['mp']=0x64,this[_0x2a9d66(0x13b)]=0x64,this[_0x2a9d66(0xe1)]=0.25,this[_0x2a9d66(0xd1)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}[_0x46c3a9(0xc7)](){const _0x3226b4=_0x46c3a9;let _0x3361ea=!![],_0x4a6bfc;for(_0x4a6bfc=0x0;_0x4a6bfc<this['arrowsArr']['length'];_0x4a6bfc++){if(this[_0x3226b4(0xf5)][_0x4a6bfc]===0x0){_0x3361ea=![];break;}}this['arrowsCount']=_0x4a6bfc;if(!_0x3361ea){this[_0x3226b4(0xf4)]++;if(this['arrowCounter']>this[_0x3226b4(0xff)]*DTR)for(_0x4a6bfc=0x0;_0x4a6bfc<this[_0x3226b4(0xf5)][_0x3226b4(0x8c)];_0x4a6bfc++){if(this[_0x3226b4(0xf5)][_0x4a6bfc]===0x0){Math[_0x3226b4(0x97)]()<this[_0x3226b4(0xe1)]?this['arrowsArr'][_0x4a6bfc]=0x2:this[_0x3226b4(0xf5)][_0x4a6bfc]=0x1;this[_0x3226b4(0xf4)]=0x0;break;}}}else this[_0x3226b4(0xf4)]=0x0;}['compute'](){const _0x533dea=_0x46c3a9;this['computeQuiver'](),this[_0x533dea(0x8e)]=this['x']+this['w']/0x2,this[_0x533dea(0x113)]=this['y']+this['h']/0x2,this['checkCollisions']();Math['abs'](this['xVelExt'])>0.01?this[_0x533dea(0x108)]-=this[_0x533dea(0x108)]*0.1/DTR:this[_0x533dea(0x108)]=0x0;Math[_0x533dea(0x13c)](this[_0x533dea(0x11d)])>0.01?this[_0x533dea(0x11d)]-=this[_0x533dea(0x11d)]*0.1/DTR:this[_0x533dea(0x11d)]=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x533dea(0xfb)]=0x2:this[_0x533dea(0xfb)]=0x3;this['radians']=Math[_0x533dea(0xa4)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this['xVel']=-this[_0x533dea(0xfb)];else!this['R']&&(this[_0x533dea(0x11b)]=0x0);if(this['R'])this['xVel']=this['speed'];else!this['L']&&(this[_0x533dea(0x11b)]=0x0);if(this['T'])this[_0x533dea(0xa0)]=-this[_0x533dea(0xfb)];else!this['B']&&(this[_0x533dea(0xa0)]=0x0);if(this['B'])this[_0x533dea(0xa0)]=this[_0x533dea(0xfb)];else!this['T']&&(this[_0x533dea(0xa0)]=0x0);this['x']+=(this['xVel']+this[_0x533dea(0x108)])/DTR,this['y']+=(this[_0x533dea(0xa0)]+this[_0x533dea(0x11d)])/DTR;}[_0x46c3a9(0x112)](){const _0x495369=_0x46c3a9;this[_0x495369(0x11b)]===0x0&&this[_0x495369(0xa0)]===0x0?this[_0x495369(0xbc)]=0x0:(this[_0x495369(0x92)]++,this['frameCounter']>=this[_0x495369(0x84)]*DTR&&(this[_0x495369(0xbc)]++,this[_0x495369(0x92)]=0x0,this[_0x495369(0xbc)]>=this['actionX'][_0x495369(0x8c)]&&(this['action']=0x0))),c[_0x495369(0x106)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x495369(0xf2)](this[_0x495369(0xbe)]),c[_0x495369(0xe7)](id(_0x495369(0xa9)),this[_0x495369(0x137)][this[_0x495369(0xbc)]],this['actionY'][this[_0x495369(0xbc)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x495369(0xcd)](),this[_0x495369(0x9c)]&&(c['drawImage'](id('sheet'),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x495369(0x9c)]--),this['bow'][_0x495369(0xd4)]&&this['drawBow']();}['drawBow'](){const _0x5c7324=_0x46c3a9;this[_0x5c7324(0xd1)][_0x5c7324(0x92)]++,this[_0x5c7324(0xd1)][_0x5c7324(0x92)]>=this['bow'][_0x5c7324(0x84)]*DTR&&(this[_0x5c7324(0xd1)][_0x5c7324(0xbc)]++,this['bow'][_0x5c7324(0x92)]=0x0,this['bow'][_0x5c7324(0xd4)]>=this['bow'][_0x5c7324(0x137)]['length']&&(this[_0x5c7324(0xd1)][_0x5c7324(0xd4)]=![])),c[_0x5c7324(0x106)](),c[_0x5c7324(0xcb)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x5c7324(0xf2)](this[_0x5c7324(0xbe)]),c['drawImage'](id(_0x5c7324(0xd1)),this['bow'][_0x5c7324(0x137)][this[_0x5c7324(0xd1)][_0x5c7324(0xbc)]],this[_0x5c7324(0xd1)]['actionY'][this[_0x5c7324(0xd1)][_0x5c7324(0xbc)]],0x30,0x30,-this[_0x5c7324(0xd1)]['w']/0x2,-this['bow']['h'],this[_0x5c7324(0xd1)]['w'],this[_0x5c7324(0xd1)]['h']),c[_0x5c7324(0xcd)]();}[_0x46c3a9(0x93)](){const _0x502c90=_0x46c3a9;this['bow']['active']=!![],this[_0x502c90(0xd1)][_0x502c90(0x92)]=0x0,this[_0x502c90(0xd1)][_0x502c90(0xdd)]=0x0,this['bow'][_0x502c90(0xbc)]=0x0;let _0x26f3b7=this['x']+this['w']/0x2,_0xf76dde=this['y']+this['h']/0x2,_0x5cac14=Mouse['x']-_0x26f3b7+Math[_0x502c90(0x97)]()*this[_0x502c90(0x11f)]-this['precision']/0x2,_0x5215fd=Mouse['y']-_0xf76dde+Math[_0x502c90(0x97)]()*this['precision']-this[_0x502c90(0x11f)]/0x2,_0x3189e=Math[_0x502c90(0xa4)](_0x5215fd,_0x5cac14),_0x292b58=Math[_0x502c90(0x121)](_0x3189e),_0x39b714=Math[_0x502c90(0x140)](_0x3189e),_0x3278a5=new Projectile();_0x3278a5[_0x502c90(0x11b)]=_0x292b58*this[_0x502c90(0xca)],_0x3278a5[_0x502c90(0xa0)]=_0x39b714*this['arrowSpeed'],_0x3278a5['x']=_0x26f3b7,_0x3278a5['y']=_0xf76dde,_0x3278a5['color']=this[_0x502c90(0xf5)][0x0],playerArrows[_0x502c90(0xe9)](_0x3278a5),this[_0x502c90(0xf5)][_0x502c90(0x122)](),this['arrowsArr'][_0x502c90(0xe9)](0x0);}[_0x46c3a9(0x103)](){const _0x26defa=_0x46c3a9;if(!sword[_0x26defa(0xd4)]){sword[_0x26defa(0xd4)]=!![],sword[_0x26defa(0x128)]=this['radians'];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x3059a8=this['x']+this['w']/0x2,_0x4ca0cd=this['y']+this['h']/0x2,_0x4ea0ca=returnCosine(Mouse['x'],Mouse['y'],_0x3059a8,_0x4ca0cd);this[_0x26defa(0x108)]=_0x4ea0ca['cos']*0xe,this[_0x26defa(0x11d)]=_0x4ea0ca['sin']*0xe;}}}}var player=new Player(CANVAS['width']/0x2,CANVAS[_0x46c3a9(0xd6)]/0x4*0x3);class UserInterface{constructor(){const _0x34c040=_0x46c3a9;this[_0x34c040(0xc8)]=id(_0x34c040(0xfc)),this['x']=0x14,this['y']=0x5,this[_0x34c040(0x116)]=![],this[_0x34c040(0x130)]=![],this[_0x34c040(0x131)]=0x0,this[_0x34c040(0x125)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0x34c040(0xbf)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0x34c040(0x139)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this['mpBar']={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x34c040(0xd1)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this['sword']={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x34c040(0x9d)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x34c040(0xf5)]=[0x1,0x1,0x1,0x1];}[_0x46c3a9(0x112)](){const _0x2ff45d=_0x46c3a9;this[_0x2ff45d(0x116)]&&(c[_0x2ff45d(0xcc)]=0.5);c[_0x2ff45d(0xe7)](this[_0x2ff45d(0xc8)],this[_0x2ff45d(0xd1)][_0x2ff45d(0x86)]['x'],this[_0x2ff45d(0xd1)]['crop']['y'],this[_0x2ff45d(0xd1)]['crop']['w'],this[_0x2ff45d(0xd1)][_0x2ff45d(0x86)]['h'],this['bow']['pos']['x'],this['bow'][_0x2ff45d(0xab)]['y'],this['bow']['crop']['w'],this[_0x2ff45d(0xd1)][_0x2ff45d(0x86)]['h']);this[_0x2ff45d(0x116)]&&(c['globalAlpha']=0x1);this[_0x2ff45d(0x130)]&&(c['globalAlpha']=0.5);c[_0x2ff45d(0xe7)](this['sheet'],this[_0x2ff45d(0xa5)]['crop']['x'],this[_0x2ff45d(0xa5)][_0x2ff45d(0x86)]['y'],this['sword'][_0x2ff45d(0x86)]['w'],this[_0x2ff45d(0xa5)][_0x2ff45d(0x86)]['h'],this[_0x2ff45d(0xa5)][_0x2ff45d(0xab)]['x'],this[_0x2ff45d(0xa5)]['pos']['y'],this[_0x2ff45d(0xa5)][_0x2ff45d(0x86)]['w'],this[_0x2ff45d(0xa5)][_0x2ff45d(0x86)]['h']);this['rClick']&&(c[_0x2ff45d(0xcc)]=0x1);c['drawImage'](this[_0x2ff45d(0xc8)],this[_0x2ff45d(0x125)][_0x2ff45d(0x86)]['x'],this[_0x2ff45d(0x125)][_0x2ff45d(0x86)]['y'],this['layout'][_0x2ff45d(0x86)]['w'],this[_0x2ff45d(0x125)][_0x2ff45d(0x86)]['h'],this['layout']['pos']['x']+this['x'],this[_0x2ff45d(0x125)]['pos']['y']+this['y'],this[_0x2ff45d(0x125)][_0x2ff45d(0x86)]['w'],this['layout'][_0x2ff45d(0x86)]['h']),c[_0x2ff45d(0xe7)](this[_0x2ff45d(0xc8)],this[_0x2ff45d(0xbf)][_0x2ff45d(0x86)][player[_0x2ff45d(0x131)]]['x'],this[_0x2ff45d(0xbf)][_0x2ff45d(0x86)][player[_0x2ff45d(0x131)]]['y'],this[_0x2ff45d(0xbf)][_0x2ff45d(0x86)][player['attacked']]['w'],this['portrait'][_0x2ff45d(0x86)][player[_0x2ff45d(0x131)]]['h'],this[_0x2ff45d(0xbf)][_0x2ff45d(0xab)]['x']+this['x'],this[_0x2ff45d(0xbf)][_0x2ff45d(0xab)]['y']+this['y'],this[_0x2ff45d(0xbf)][_0x2ff45d(0x86)][player[_0x2ff45d(0x131)]]['w'],this[_0x2ff45d(0xbf)][_0x2ff45d(0x86)][player['attacked']]['h']),c[_0x2ff45d(0xe7)](this[_0x2ff45d(0xc8)],this['hpBar'][_0x2ff45d(0x86)]['x'],this[_0x2ff45d(0x139)]['crop']['y'],this[_0x2ff45d(0x139)]['crop']['w'],this[_0x2ff45d(0x139)][_0x2ff45d(0x86)]['h'],this[_0x2ff45d(0x139)][_0x2ff45d(0xab)]['x']+this['x'],this[_0x2ff45d(0x139)]['pos']['y']+this['y'],this[_0x2ff45d(0x139)][_0x2ff45d(0x86)]['w']/player['maxHp']*player['hp'],this[_0x2ff45d(0x139)][_0x2ff45d(0x86)]['h']),c[_0x2ff45d(0xe7)](this[_0x2ff45d(0xc8)],this[_0x2ff45d(0x8f)][_0x2ff45d(0x86)]['x'],this[_0x2ff45d(0x8f)]['crop']['y'],this['mpBar'][_0x2ff45d(0x86)]['w'],this[_0x2ff45d(0x8f)][_0x2ff45d(0x86)]['h'],this[_0x2ff45d(0x8f)]['pos']['x']+this['x'],this[_0x2ff45d(0x8f)][_0x2ff45d(0xab)]['y']+this['y'],this[_0x2ff45d(0x8f)]['crop']['w'],this[_0x2ff45d(0x8f)]['crop']['h']);for(let _0xa3ee21=0x0;_0xa3ee21<player[_0x2ff45d(0xf5)][_0x2ff45d(0x8c)];_0xa3ee21++){c[_0x2ff45d(0xe7)](this[_0x2ff45d(0xc8)],this[_0x2ff45d(0x9d)][_0x2ff45d(0x86)][player['arrowsArr'][_0xa3ee21]]['x'],this[_0x2ff45d(0x9d)][_0x2ff45d(0x86)][player[_0x2ff45d(0xf5)][_0xa3ee21]]['y'],this[_0x2ff45d(0x9d)]['crop'][player[_0x2ff45d(0xf5)][_0xa3ee21]]['w'],this[_0x2ff45d(0x9d)]['crop'][player[_0x2ff45d(0xf5)][_0xa3ee21]]['h'],this[_0x2ff45d(0x9d)][_0x2ff45d(0xab)]['x']+this['x']-0xa*_0xa3ee21,this[_0x2ff45d(0x9d)][_0x2ff45d(0xab)]['y']+this['y'],this[_0x2ff45d(0x9d)]['crop'][player[_0x2ff45d(0xf5)][_0xa3ee21]]['w'],this[_0x2ff45d(0x9d)][_0x2ff45d(0x86)][player['arrowsArr'][_0xa3ee21]]['h']);}c['font']=_0x2ff45d(0x13e),c[_0x2ff45d(0x12d)]=_0x2ff45d(0x89),c['fillStyle']=_0x2ff45d(0x132),c[_0x2ff45d(0xc6)](player['arrowsCount']+'/'+player[_0x2ff45d(0xf5)][_0x2ff45d(0x8c)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x1ac7fa=_0x46c3a9;let _0x3ceb73=player['x']+player['w']/0x2,_0x542b19=player['y']+player['h']/0x2,_0x3a4cb5=_0x3ceb73,_0x5ebd80=_0x542b19,_0x28de76=![],_0x2a2dd8=0x0,_0x460516=returnCosine(_0x3ceb73,_0x542b19,Mouse['x'],Mouse['y']),_0x10a1d2=[],_0x522ee7={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x40b2c5={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x4732ef=0x4,_0xea339a={'x':0x0,'y':0x0};while(!_0x28de76&&_0x2a2dd8<CANVAS[_0x1ac7fa(0xd9)]*0x2/_0x4732ef){_0x3a4cb5-=_0x460516[_0x1ac7fa(0x121)]*_0x4732ef,_0x5ebd80-=_0x460516['sin']*_0x4732ef;getTileData(_0x3a4cb5,_0x5ebd80)[_0x1ac7fa(0x12a)]&&(_0x522ee7=getTileData(_0x3a4cb5,_0x5ebd80)[_0x1ac7fa(0x11e)],_0x40b2c5['x']=_0x522ee7['x'],_0x40b2c5['y']=_0x522ee7['y'],_0x40b2c5['w']=_0x522ee7['w'],_0x40b2c5['h']=_0x522ee7['h'],_0x40b2c5['x']+=_0x3a4cb5-_0x3a4cb5%TILESIZE,_0x40b2c5['y']+=_0x5ebd80-_0x5ebd80%TILESIZE,_0x28de76=!![]);_0xea339a['x']=_0x3a4cb5,_0xea339a['y']=_0x5ebd80;for(let _0x44fba9=0x0;_0x44fba9<monsters[_0x1ac7fa(0x8c)];_0x44fba9++){if(!monsters[_0x44fba9][_0x1ac7fa(0xbb)]&&pointSquareCol(_0xea339a,monsters[_0x44fba9])){_0x40b2c5['x']=monsters[_0x44fba9]['x'],_0x40b2c5['y']=monsters[_0x44fba9]['y'],_0x40b2c5['w']=monsters[_0x44fba9]['w'],_0x40b2c5['h']=monsters[_0x44fba9]['h'],_0x28de76=!![];break;}}_0x2a2dd8++;}_0x10a1d2=getRectSides(_0x40b2c5);let _0x1989af=[],_0x42ae2e={},_0x3a9b67;for(let _0x46e1d2=0x0;_0x46e1d2<_0x10a1d2[_0x1ac7fa(0x8c)];_0x46e1d2++){_0x42ae2e=intersect(_0x3ceb73,_0x542b19,_0x3a4cb5,_0x5ebd80,_0x10a1d2[_0x46e1d2]['x1'],_0x10a1d2[_0x46e1d2]['y1'],_0x10a1d2[_0x46e1d2]['x2'],_0x10a1d2[_0x46e1d2]['y2']),_0x42ae2e&&_0x1989af['push'](_0x42ae2e);}let _0x433b13=Math[_0x1ac7fa(0xb8)](_0x3ceb73-_0x3a4cb5,_0x542b19-_0x5ebd80),_0x20ce03=_0x3a4cb5,_0x273e52=_0x3a4cb5;for(let _0x462618=0x0;_0x462618<_0x1989af[_0x1ac7fa(0x8c)];_0x462618++){_0x3a9b67=Math[_0x1ac7fa(0xb8)](_0x3ceb73-_0x3a4cb5,_0x542b19-_0x5ebd80),_0x3a9b67<_0x433b13&&(_0x433b13=_0x3a9b67,_0x20ce03=_0x1989af[_0x462618]['x'],_0x273e52=_0x1989af[_0x462618]['y']);}c['strokeStyle']=_0x1ac7fa(0xf7),c[_0x1ac7fa(0xac)](),c[_0x1ac7fa(0xa6)](_0x3ceb73+map['x'],_0x542b19+map['y']),c[_0x1ac7fa(0x111)](_0x3a4cb5+map['x'],_0x5ebd80+map['y']),c[_0x1ac7fa(0x8d)](),c[_0x1ac7fa(0x100)]=_0x1ac7fa(0xf1);}function isObstructed(_0x907ce1,_0x120cd7){const _0x48d1be=_0x46c3a9;let _0x559b59=_0x907ce1['x']+_0x907ce1['w']/0x2,_0x20d9fb=_0x907ce1['y']+_0x907ce1['h']/0x2,_0x1fbca1=_0x120cd7['x']+_0x120cd7['w']/0x2,_0x60851f=_0x120cd7['y']+_0x120cd7['h']/0x2,_0x2a4342=Math['hypot'](_0x559b59-_0x1fbca1,_0x20d9fb-_0x60851f),_0x2c51ee=_0x559b59,_0x517b3f=_0x20d9fb,_0x33cfd3=![],_0x57edc9=0x0,_0x17295c=returnCosine(_0x559b59,_0x20d9fb,_0x1fbca1,_0x60851f),_0xfcdc02=[],_0x13f1a1={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x291e33={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x4dc8ce=0x3,_0x4e7a04={'x':0x0,'y':0x0};while(!_0x33cfd3&&_0x57edc9<_0x2a4342/_0x4dc8ce){_0x2c51ee-=_0x17295c[_0x48d1be(0x121)]*_0x4dc8ce,_0x517b3f-=_0x17295c['sin']*_0x4dc8ce;if(getTileData(_0x2c51ee,_0x517b3f)[_0x48d1be(0x12a)])return _0x13f1a1=getTileData(_0x2c51ee,_0x517b3f)[_0x48d1be(0x11e)],_0x291e33['x']=_0x13f1a1['x'],_0x291e33['y']=_0x13f1a1['y'],_0x291e33['w']=_0x13f1a1['w'],_0x291e33['h']=_0x13f1a1['h'],_0x291e33['x']+=_0x2c51ee-_0x2c51ee%TILESIZE,_0x291e33['y']+=_0x517b3f-_0x517b3f%TILESIZE,!![];_0x4e7a04['x']=_0x2c51ee,_0x4e7a04['y']=_0x517b3f;if(pointSquareCol(_0x4e7a04,_0x120cd7))return![];_0x57edc9++;}}function getRectSides(_0x1fbf36){const _0x3785af=_0x46c3a9;let _0xf80346=[];return _0xf80346[_0x3785af(0xe9)]({'x1':_0x1fbf36['x'],'y1':_0x1fbf36['y'],'x2':_0x1fbf36['x']+_0x1fbf36['w'],'y2':_0x1fbf36['y']}),_0xf80346[_0x3785af(0xe9)]({'x1':_0x1fbf36['x']+_0x1fbf36['w'],'y1':_0x1fbf36['y'],'x2':_0x1fbf36['x']+_0x1fbf36['w'],'y2':_0x1fbf36['y']+_0x1fbf36['h']}),_0xf80346[_0x3785af(0xe9)]({'x1':_0x1fbf36['x']+_0x1fbf36['w'],'y1':_0x1fbf36['y']+_0x1fbf36['h'],'x2':_0x1fbf36['x'],'y2':_0x1fbf36['y']+_0x1fbf36['h']}),_0xf80346[_0x3785af(0xe9)]({'x1':_0x1fbf36['x'],'y1':_0x1fbf36['y']+_0x1fbf36['h'],'x2':_0x1fbf36['x'],'y2':_0x1fbf36['y']}),_0xf80346;}function init(){const _0x1a1705=_0x46c3a9;let _0x1f988b,_0x44c9ef={};fetch(_0x1a1705(0x10e))[_0x1a1705(0xeb)](function(_0x517b8b){const _0x42719f=_0x1a1705;return _0x517b8b[_0x42719f(0xe2)]();})[_0x1a1705(0xeb)](function(_0x54301b){const _0x2f0614=_0x1a1705;_0x1f988b=_0x54301b['tiles'];for(let _0x1b7489=0x0;_0x1b7489<_0x1f988b[_0x2f0614(0x8c)];_0x1b7489++){_0x44c9ef={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x44c9ef['id']=_0x1f988b[_0x1b7489]['id'];if(_0x1f988b[_0x1b7489][_0x2f0614(0xe6)](_0x2f0614(0x9a)))for(let _0x26df4a=0x0;_0x26df4a<_0x1f988b[_0x1b7489][_0x2f0614(0x9a)][_0x2f0614(0x8c)];_0x26df4a++){if(_0x1f988b[_0x1b7489][_0x2f0614(0x9a)][_0x26df4a])switch(_0x1f988b[_0x1b7489]['properties'][_0x26df4a][_0x2f0614(0xb7)]){case'hole':_0x44c9ef[_0x2f0614(0x110)]=!![],_0x44c9ef[_0x2f0614(0x127)]=!![];break;case _0x2f0614(0x12a):_0x44c9ef[_0x2f0614(0x12a)]=!![],_0x44c9ef[_0x2f0614(0x127)]=!![];break;}}TilesData[_0x2f0614(0xe9)](_0x44c9ef);}loop();});}init();var HP_BAR=id('hp-bar');function renderHpBars(){const _0x1e5182=_0x46c3a9;for(let _0x6df8a2=0x0;_0x6df8a2<monsters['length'];_0x6df8a2++){if(monsters[_0x6df8a2]['dead'])continue;let _0x5861a0=monsters[_0x6df8a2]['hp']/monsters[_0x6df8a2]['maxHp'],_0xf36bd6=Math[_0x1e5182(0xc3)](TILESIZE*_0x5861a0);c['drawImage'](HP_BAR,0x0,0x4,_0xf36bd6,0x4,monsters[_0x6df8a2]['x']+monsters[_0x6df8a2]['w']/0x2-0x10+map['x']|0x0,monsters[_0x6df8a2]['y']-0x8+map['y']|0x0,_0xf36bd6|0x0,0x4|0x0),c[_0x1e5182(0xe7)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x6df8a2]['x']+monsters[_0x6df8a2]['w']/0x2-0x10+map['x']|0x0,monsters[_0x6df8a2]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x37b425=_0x46c3a9;this[_0x37b425(0xd9)]=0x17,this['height']=0xf,this['x']=0x0,this['y']=0x0,this[_0x37b425(0x95)]=maps['m1'],this[_0x37b425(0xc8)]=id(_0x37b425(0xc8)),this[_0x37b425(0x12b)]=id(_0x37b425(0x12b));}[_0x46c3a9(0x112)](){const _0x34fda5=_0x46c3a9;for(let _0x31376a=0x0;_0x31376a<this[_0x34fda5(0x95)][_0x34fda5(0x8c)];_0x31376a++){_0x31376a==0x1&&c['drawImage'](this[_0x34fda5(0x12b)],0x0+this['x'],0x0+this['y'],CANVAS[_0x34fda5(0xd9)],CANVAS['height']);for(let _0x5b777e=0x0;_0x5b777e<this[_0x34fda5(0x95)][_0x31376a][_0x34fda5(0x8c)];_0x5b777e++){if(this[_0x34fda5(0x95)][_0x31376a][_0x5b777e]===0x0)continue;c[_0x34fda5(0xe7)](this['sheet'],(this[_0x34fda5(0x95)][_0x31376a][_0x5b777e]-0x1)%0xf*TILESIZE,((this[_0x34fda5(0x95)][_0x31376a][_0x5b777e]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x5b777e%this['width']*TILESIZE+map['x'],(_0x5b777e/this['width']|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0xa68db9=_0x46c3a9;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this['radians']=0x2,this['radiansP']=0x0,this[_0xa68db9(0x137)]=[0x0],this['actionY']=[0x0],this[_0xa68db9(0xae)]=[0x0,0x0,0x0,0x0],this[_0xa68db9(0x13f)]=[0x0,0x80,0x100,0x180],this['currentFrame']=0x0,this['frameCounter']=0x0,this[_0xa68db9(0xbc)]=0x0,this['slowness']=0x3,this[_0xa68db9(0xd4)]=![],this[_0xa68db9(0xc8)]=id(_0xa68db9(0x90)),this[_0xa68db9(0xb9)]=id(_0xa68db9(0xa5));}[_0x46c3a9(0x101)](){const _0x431605=_0x46c3a9;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x308e02,_0x326e75,_0x317978;for(let _0x488d20=0x0;_0x488d20<monsters['length'];_0x488d20++){if(monsters[_0x488d20][_0x431605(0xbb)]||!monsters[_0x488d20][_0x431605(0xec)])continue;_0x308e02=monsters[_0x488d20]['hitbox']['x']+monsters[_0x488d20][_0x431605(0x11e)]['w']/0x2,_0x326e75=monsters[_0x488d20][_0x431605(0x11e)]['y']+monsters[_0x488d20][_0x431605(0x11e)]['h']/0x2,_0x317978=(monsters[_0x488d20]['w']+monsters[_0x488d20]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x308e02,_0x326e75,_0x317978)){let _0x9e1f79=this['x']+this['w']/0x2,_0x35a94d=this['y']+this['h']/0x2,_0x3f1674=monsters[_0x488d20]['x']-_0x9e1f79,_0xe08c5c=monsters[_0x488d20]['y']-_0x35a94d,_0x55bcbf=Math[_0x431605(0xa4)](_0xe08c5c,_0x3f1674),_0x4cfb9f=Math[_0x431605(0x121)](_0x55bcbf),_0x1d68a6=Math[_0x431605(0x140)](_0x55bcbf);monsters[_0x488d20][_0x431605(0x108)]=_0x4cfb9f*0xa,monsters[_0x488d20][_0x431605(0x11d)]=_0x1d68a6*0xa,monsters[_0x488d20]['hp']-=0.25,monsters[_0x488d20][_0x431605(0xa3)]=0xf;}}}[_0x46c3a9(0x112)](){const _0x77f194=_0x46c3a9;this[_0x77f194(0x92)]++,this[_0x77f194(0x92)]>this['slowness']*DTR&&(this['frameCounter']=0x0,this[_0x77f194(0xdd)]++,this['currentFrame']>=this['vfxX'][_0x77f194(0x8c)]&&(this[_0x77f194(0xdd)]=0x0)),c[_0x77f194(0xe7)](this[_0x77f194(0xc8)],this[_0x77f194(0xae)][this[_0x77f194(0xdd)]],this['vfxY'][this[_0x77f194(0xdd)]],0x80,0x40,this['x']-0x40-player[_0x77f194(0x108)]*0x4+map['x'],this['y']-0x40-player[_0x77f194(0x11d)]*0x4+map['y'],0x80,0x40),c['save'](),c[_0x77f194(0xcb)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x77f194(0xf2)](this[_0x77f194(0x128)]+this[_0x77f194(0xbe)]),c[_0x77f194(0xe7)](this[_0x77f194(0xb9)],this['actionX'][this[_0x77f194(0xbc)]],this[_0x77f194(0xf0)][this['action']],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x77f194(0xcd)](),this[_0x77f194(0xbe)]-=0.5/DTR,this[_0x77f194(0xbe)]<=-0x9&&(this['active']=![],this['radians']=0x2),c[_0x77f194(0xe7)](this['sheet'],this[_0x77f194(0xae)][this[_0x77f194(0xdd)]],this[_0x77f194(0x13f)][this[_0x77f194(0xdd)]]+0x40,0x80,0x40,this['x']-0x40-player[_0x77f194(0x108)]*0x4+map['x'],this['y']-player['yVelExt']*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x232dd2=_0x46c3a9;monsters[_0x232dd2(0xf9)](function(_0x294e07,_0x59164a){const _0x23bf69=_0x232dd2;if(_0x294e07[_0x23bf69(0xbb)]&&!_0x59164a[_0x23bf69(0xbb)])return-0x1;else return!_0x294e07[_0x23bf69(0xbb)]&&_0x59164a[_0x23bf69(0xbb)]?0x1:_0x294e07['y']+0xf-_0x59164a['y'];});}function adjustCollidingMonsters(){const _0x3d7086=_0x46c3a9;for(let _0x2fa716=0x0;_0x2fa716<monsters[_0x3d7086(0x8c)];_0x2fa716++){if(monsters[_0x2fa716]['dead'])continue;monsters[_0x2fa716]['col']['T']=0x0,monsters[_0x2fa716][_0x3d7086(0xfe)]['B']=0x0,monsters[_0x2fa716]['col']['L']=0x0,monsters[_0x2fa716][_0x3d7086(0xfe)]['R']=0x0;for(let _0x2ee38c=0x0;_0x2ee38c<monsters[_0x3d7086(0x8c)];_0x2ee38c++){if(monsters[_0x2ee38c][_0x3d7086(0xbb)])continue;if(collided(monsters[_0x2fa716],monsters[_0x2ee38c])){let _0x4c9756=colCheck(monsters[_0x2fa716],monsters[_0x2ee38c]);switch(_0x4c9756){case'l':this[_0x3d7086(0x11b)]<0x0&&(this['xVel']=0x0);break;case'r':this['xVel']>0x0&&(this[_0x3d7086(0x11b)]=0x0);break;case'b':this[_0x3d7086(0xa0)]>0x0&&(this[_0x3d7086(0xa0)]=0x0);break;case't':this['yVel']<0x0&&(this['yVel']=0x0);break;}monsters[_0x2fa716][_0x3d7086(0x11b)]+=(monsters[_0x2fa716]['col']['L']-monsters[_0x2fa716][_0x3d7086(0xfe)]['R'])/0x5,monsters[_0x2fa716]['yVel']+=(monsters[_0x2fa716]['col']['T']-monsters[_0x2fa716][_0x3d7086(0xfe)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x1572e8,_0x30de7e){const _0x204c5e=_0x46c3a9;super(Collidable),this['x']=_0x1572e8,this['y']=_0x30de7e,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x204c5e(0x11b)]=0x0,this[_0x204c5e(0xa0)]=0x0,this[_0x204c5e(0x108)]=0x0,this[_0x204c5e(0x11d)]=0x0,this[_0x204c5e(0xfb)]=0x2,this[_0x204c5e(0x10a)]=0x0,this['justDied']=![],this['justDamaged']=0x0,this['dead']=![],this[_0x204c5e(0xdc)]=[],this[_0x204c5e(0x10f)]=0x3,this['hp']=0x3,this[_0x204c5e(0x92)]=0x0,this['slowness']=0x4,this['currentFrame']=0x0,this[_0x204c5e(0xec)]=!![],this[_0x204c5e(0xc8)]=id(_0x204c5e(0xc8)),this[_0x204c5e(0xbc)]=0x0,this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x204c5e(0x11e)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x204c5e(0x137)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x204c5e(0xf0)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}['followPlayer'](){const _0x1b6f1e=_0x46c3a9;if(this[_0x1b6f1e(0xbc)]!==0x0){let _0x1d9570=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x549c51=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x4a904e=_0x1d9570>0x0?-0x1:0x1,_0xa96bcf=_0x549c51>0x0?-0x1:0x1,_0x5e860a;_0x549c51!==0x0?_0x5e860a=Math[_0x1b6f1e(0x13c)](_0x1d9570)/(Math['abs'](_0x549c51)+Math[_0x1b6f1e(0x13c)](_0x1d9570)):_0x5e860a=0x0;this['xVel']=this[_0x1b6f1e(0xfb)]*_0x5e860a*_0x4a904e,this[_0x1b6f1e(0xa0)]=this[_0x1b6f1e(0xfb)]*(0x1-_0x5e860a)*_0xa96bcf;if(this['x']+this['w']<player['x'])this[_0x1b6f1e(0x10a)]=![];else player['x']+player['w']<this['x']&&(this[_0x1b6f1e(0x10a)]=!![]);}}[_0x46c3a9(0x101)](){const _0x34ec6d=_0x46c3a9;if(!this[_0x34ec6d(0xbb)]){this[_0x34ec6d(0x8a)]();Math[_0x34ec6d(0x13c)](this[_0x34ec6d(0x108)])>0.01?this[_0x34ec6d(0x108)]*=0.9:this[_0x34ec6d(0x108)]=0x0;Math[_0x34ec6d(0x13c)](this['yVelExt'])>0.01?this['yVelExt']*=0.9:this['yVelExt']=0x0;(this[_0x34ec6d(0xfe)]['T']&&this[_0x34ec6d(0xa0)]<0x0||this[_0x34ec6d(0xfe)]['B']&&this[_0x34ec6d(0xa0)]>0x0)&&(this[_0x34ec6d(0xa0)]=0x0);(this[_0x34ec6d(0xfe)]['L']&&this['xVel']<0x0||this['col']['R']&&this['xVel']>0x0)&&(this['xVel']=0x0);this[_0x34ec6d(0xbc)]!==0x0&&(this['left']?this['action']=0x2:this['action']=0x1);this[_0x34ec6d(0xb4)](),this['x']+=(this[_0x34ec6d(0x11b)]+this['xVelExt'])/DTR,this['y']+=(this[_0x34ec6d(0xa0)]+this['yVelExt'])/DTR;for(let _0x3fda84=0x0;_0x3fda84<this[_0x34ec6d(0xdc)]['length'];_0x3fda84++){this[_0x34ec6d(0xdc)][_0x3fda84]['x']=this['x']+this['arrows'][_0x3fda84]['xRel'],this[_0x34ec6d(0xdc)][_0x3fda84]['y']=this['y']+this['arrows'][_0x3fda84]['yRel'];}this[_0x34ec6d(0x11e)]['x']=this['x']+0x6,this[_0x34ec6d(0x11e)]['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x34ec6d(0xa2)]=!![]),this[_0x34ec6d(0xa2)]&&(this['justDamaged']=0x0,this[_0x34ec6d(0xbb)]=!![],this['action']=0x3,this[_0x34ec6d(0x92)]=0x0,this['currentFrame']=0x0,this['slowness']=0xa);}}[_0x46c3a9(0x112)](){const _0xacf76b=_0x46c3a9;this[_0xacf76b(0x92)]++;this[_0xacf76b(0x92)]>this[_0xacf76b(0x84)]*DTR&&(this[_0xacf76b(0x92)]=0x0,this[_0xacf76b(0xdd)]++,this[_0xacf76b(0xdd)]>=this['actionX'][this[_0xacf76b(0xbc)]]['length']&&(this[_0xacf76b(0xbc)]==0x0&&(this[_0xacf76b(0xbc)]=0x1+this[_0xacf76b(0x10a)]),this[_0xacf76b(0xdd)]=0x0));this['action']==0x3&&(this['currentFrame']==this['actionX'][this['action']][_0xacf76b(0x8c)]-0x1&&(this[_0xacf76b(0x92)]=0x0));if(!this[_0xacf76b(0xbb)])for(let _0x205fc0=0x0;_0x205fc0<this['arrows'][_0xacf76b(0x8c)];_0x205fc0++){this['arrows'][_0x205fc0][_0xacf76b(0x112)]();}this[_0xacf76b(0xa3)]>0x0&&(this['action']=0x4,this['currentFrame']=0x0,this[_0xacf76b(0x133)]=0x0,this['justDamaged']-=0x1/DTR),c['drawImage'](this[_0xacf76b(0xc8)],this['actionX'][this[_0xacf76b(0xbc)]][this[_0xacf76b(0xdd)]]*TILESIZE,this[_0xacf76b(0xf0)][this[_0xacf76b(0xbc)]][this[_0xacf76b(0xdd)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x3956a3,_0x100b42){const _0x17c32f=_0x46c3a9;super(Collidable),this['x']=(_0x3956a3/TILESIZE|0x0)*TILESIZE,this['y']=(_0x100b42/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this['yVel']=0x0,this[_0x17c32f(0x108)]=0x0,this[_0x17c32f(0x11d)]=0x0,this[_0x17c32f(0xfb)]=0x2,this[_0x17c32f(0x10a)]=0x0,this[_0x17c32f(0xa2)]=![],this[_0x17c32f(0xa3)]=0x0,this[_0x17c32f(0xbb)]=![],this[_0x17c32f(0xb0)]=![],this['arrows']=[],this[_0x17c32f(0x10f)]=0x3,this['hp']=0x3,this[_0x17c32f(0x92)]=0x0,this[_0x17c32f(0x84)]=0x4,this[_0x17c32f(0xdd)]=0x0,this[_0x17c32f(0xc8)]=id(_0x17c32f(0xc8)),this[_0x17c32f(0xbc)]=0x0,this[_0x17c32f(0xec)]=!![],this[_0x17c32f(0x98)]=[],this[_0x17c32f(0xfe)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x17c32f(0x11e)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0x17c32f(0xad)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x17c32f(0x137)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0x17c32f(0xf0)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this[_0x17c32f(0xc2)]=0x0;}[_0x46c3a9(0x8a)](){const _0x358914=_0x46c3a9;this[_0x358914(0xad)]['x']=this['x']-0x5*TILESIZE,this[_0x358914(0xad)]['y']=this['y']-0x5*TILESIZE,this[_0x358914(0xad)]['w']=0xb*TILESIZE,this['atkBox']['h']=0xb*TILESIZE;if(collided(this[_0x358914(0xad)],player)){if(this[_0x358914(0xb0)]){if(this[_0x358914(0xdd)]==0x0&&this['frameCounter']==0x0){this[_0x358914(0x8b)]();switch(this['path'][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this['action']!==0x1&&(this[_0x358914(0xbc)]=0x1,this['currentFrame']=0x0,this[_0x358914(0x92)]=0x0);}else this['attacking']&&this[_0x358914(0xbc)]!==0x0&&this[_0x358914(0xbc)]!==0x2&&(this[_0x358914(0xb0)]=![],this[_0x358914(0xec)]=!![],this['action']=0x2,this['currentFrame']=0x0,this[_0x358914(0x92)]=0x0);}[_0x46c3a9(0x101)](){const _0x5ba29d=_0x46c3a9;this[_0x5ba29d(0x8a)](),this[_0x5ba29d(0x11e)]['x']=this['x']+(this['w']-0xe)/0x2,this['hitbox']['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x52b86d=0x0;_0x52b86d<this['arrows']['length'];_0x52b86d++){this[_0x5ba29d(0xdc)][_0x52b86d]['x']=this['x']+this['arrows'][_0x52b86d][_0x5ba29d(0x11a)],this['arrows'][_0x52b86d]['y']=this['y']+this['arrows'][_0x52b86d]['yRel'];}this['hp']<=0x0&&(this[_0x5ba29d(0xa2)]=!![]),this[_0x5ba29d(0xa2)]&&(this[_0x5ba29d(0xa3)]=0x0,this[_0x5ba29d(0xbb)]=!![],this[_0x5ba29d(0xbc)]=0x3,this[_0x5ba29d(0x92)]=0x0,this['currentFrame']=0x0,this['slowness']=0xa);}[_0x46c3a9(0x112)](){const _0x3c9526=_0x46c3a9;this[_0x3c9526(0x92)]++;this[_0x3c9526(0xbc)]==0x4?this[_0x3c9526(0x84)]=0x3:this[_0x3c9526(0x84)]=0x5;if(this['frameCounter']>this[_0x3c9526(0x84)]*DTR){this[_0x3c9526(0x92)]=0x0,this[_0x3c9526(0xdd)]++;if(this[_0x3c9526(0xdd)]>=this[_0x3c9526(0x137)][this[_0x3c9526(0xbc)]][_0x3c9526(0x8c)]){if(this[_0x3c9526(0xbb)])this[_0x3c9526(0xdd)]=this[_0x3c9526(0x137)][this[_0x3c9526(0xbc)]][_0x3c9526(0x8c)]-0x1;else{if(this['action']==0x1)this[_0x3c9526(0xb0)]=!![],this['collidable']=![],this[_0x3c9526(0xbc)]=0x4,this['currentFrame']=0x0;else this[_0x3c9526(0xbc)]==0x2?(this[_0x3c9526(0xbc)]=0x0,this['currentFrame']=0x0):this[_0x3c9526(0xdd)]=0x0;}}}if(!this[_0x3c9526(0xbb)]){if(this[_0x3c9526(0xbc)]==0x0)for(let _0x55b669=0x0;_0x55b669<this[_0x3c9526(0xdc)][_0x3c9526(0x8c)];_0x55b669++){this[_0x3c9526(0xdc)][_0x55b669]['draw']();}}this[_0x3c9526(0xa3)]>0x0&&(this[_0x3c9526(0xbc)]=0x3,this['currentFrame']=0x0,this[_0x3c9526(0x133)]=0x0,this[_0x3c9526(0xa3)]-=0x1/DTR,this[_0x3c9526(0xa3)]<=0x0&&(this[_0x3c9526(0xbc)]=0x0)),c[_0x3c9526(0xe7)](this[_0x3c9526(0xc8)],this[_0x3c9526(0x137)][this['action']][this[_0x3c9526(0xdd)]]*TILESIZE,this[_0x3c9526(0xf0)][this[_0x3c9526(0xbc)]][this[_0x3c9526(0xdd)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x46c3a9(0x8b)](){const _0x2edd4f=_0x46c3a9;let _0x317b2d=0xb,_0x182708=[],_0x2580d5=this['x']+this['w']/0x2-TILESIZE*0x5,_0x5bb23f=this['y']+this['h']/0x2-TILESIZE*0x5,_0x493504;for(let _0x819878=0x0;_0x819878<_0x317b2d;_0x819878++){_0x182708[_0x819878]=[];for(let _0x160ee9=0x0;_0x160ee9<_0x317b2d;_0x160ee9++){_0x493504=getTileData(_0x2580d5+_0x819878*TILESIZE,_0x5bb23f+_0x160ee9*TILESIZE),_0x493504===![]?_0x182708[_0x819878][_0x160ee9]=_0x2edd4f(0xb5):_0x182708[_0x819878][_0x160ee9]=_0x2edd4f(0x10c);}}_0x182708[0x5][0x5]='Start',_0x182708[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]='Goal',this[_0x2edd4f(0x98)]=findShortestPath([0x5,0x5],_0x182708);}}class Flower extends Collidable{constructor(_0x39075d,_0x3f0a9b){const _0x238f45=_0x46c3a9;super(Collidable),this['x']=_0x39075d,this['y']=_0x3f0a9b,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x238f45(0x11b)]=0x0,this['yVel']=0x0,this[_0x238f45(0x108)]=0x0,this[_0x238f45(0x11d)]=0x0,this['speed']=0x2,this[_0x238f45(0x10a)]=0x0,this[_0x238f45(0xa2)]=![],this[_0x238f45(0xa3)]=0x0,this[_0x238f45(0xbb)]=![],this['arrows']=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x238f45(0x92)]=0x0,this['slowness']=0x8,this[_0x238f45(0xb0)]=![],this[_0x238f45(0xdd)]=0x0,this[_0x238f45(0xc8)]=id(_0x238f45(0xc8)),this[_0x238f45(0x11f)]=0x5,this[_0x238f45(0xb2)]=0x8,this[_0x238f45(0xec)]=!![],this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x238f45(0xbc)]=0x0,this[_0x238f45(0x137)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x238f45(0xf0)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this[_0x238f45(0xdb)]=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x238f45(0x9e)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x238f45(0xbe)]=0x0,this[_0x238f45(0xef)]=![];}[_0x46c3a9(0x93)](){const _0x4dd1c4=_0x46c3a9;if(!isObstructed(this,player)){this[_0x4dd1c4(0xb0)]=!![];if(this[_0x4dd1c4(0xdd)]==0x2){if(!this[_0x4dd1c4(0xef)]){let _0x535cc0=new EnemyProjectile(),_0x282d00=this['x']+this['w']/0x2,_0x1ea001=this['y']+this['h']/0x2,_0x120960=player['x']+player['w']/0x2-_0x282d00+Math[_0x4dd1c4(0x97)]()*this[_0x4dd1c4(0x11f)]-this[_0x4dd1c4(0x11f)]/0x2,_0x7b4fa2=player['y']+player['h']/0x2-_0x1ea001+Math['random']()*this[_0x4dd1c4(0x11f)]-this['precision']/0x2,_0x49c386=Math[_0x4dd1c4(0xa4)](_0x7b4fa2,_0x120960),_0x2e3a7f=Math[_0x4dd1c4(0x121)](_0x49c386),_0xd42ae2=Math[_0x4dd1c4(0x140)](_0x49c386);_0x535cc0[_0x4dd1c4(0x11b)]=_0x2e3a7f*this['projSpeed'],_0x535cc0[_0x4dd1c4(0xa0)]=_0xd42ae2*this['projSpeed'],_0x535cc0['x']=_0x282d00,_0x535cc0['y']=_0x1ea001,enemyProjectiles['push'](_0x535cc0),this[_0x4dd1c4(0xef)]=!![];}}else this['justShot']=![];}else this[_0x4dd1c4(0xb0)]=![];}[_0x46c3a9(0x101)](){const _0x470379=_0x46c3a9;this['shoot'](),this[_0x470379(0x11e)]['x']=this['x']+this['w']/0x3,this['hitbox']['y']=this['y']+this['h']/0x5,this[_0x470379(0xbe)]=Math[_0x470379(0xa4)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x111774=0x0;_0x111774<this[_0x470379(0xdc)]['length'];_0x111774++){this[_0x470379(0xdc)][_0x111774]['x']=this['x']+this[_0x470379(0xdc)][_0x111774][_0x470379(0x11a)],this[_0x470379(0xdc)][_0x111774]['y']=this['y']+this[_0x470379(0xdc)][_0x111774][_0x470379(0x134)];}this['hp']<=0x0&&(this[_0x470379(0xa2)]=!![]),this[_0x470379(0xa2)]&&(this['justDamaged']=0x0,this['dead']=!![],this['action']=0x2,this[_0x470379(0x92)]=0x0,this['currentFrame']=0x0,this['slowness']=0xa);}['draw'](){const _0x36727b=_0x46c3a9;this[_0x36727b(0x92)]++;this[_0x36727b(0x92)]>this[_0x36727b(0x84)]*DTR&&(this['frameCounter']=0x0,this[_0x36727b(0xdd)]++,this[_0x36727b(0xdd)]>=this[_0x36727b(0x137)][this[_0x36727b(0xbc)]][_0x36727b(0x8c)]&&(this[_0x36727b(0xbb)]?this[_0x36727b(0xdd)]=this['actionX'][this['action']][_0x36727b(0x8c)]-0x1:this[_0x36727b(0xdd)]=0x0));if(!this[_0x36727b(0xbb)]){this[_0x36727b(0xb0)]?this[_0x36727b(0xbc)]=0x1:this[_0x36727b(0xbc)]=0x0;for(let _0x44a775=0x0;_0x44a775<this[_0x36727b(0xdc)]['length'];_0x44a775++){this[_0x36727b(0xdc)][_0x44a775][_0x36727b(0x112)]();}}this['attacking']?this[_0x36727b(0x84)]=0x4:this['slowness']=0x8,this['justDamaged']&&(this['action']=0x2,this[_0x36727b(0xdd)]=0x0,this[_0x36727b(0x133)]=0x0,this[_0x36727b(0xa3)]--),c[_0x36727b(0xe7)](this[_0x36727b(0xc8)],this[_0x36727b(0x137)][this[_0x36727b(0xbc)]][this[_0x36727b(0xdd)]]*TILESIZE,this[_0x36727b(0xf0)][this[_0x36727b(0xbc)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0x36727b(0xbc)]==0x0||this['action']==0x1)&&(c[_0x36727b(0x106)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x36727b(0xf2)](this[_0x36727b(0xbe)]),c[_0x36727b(0xe7)](this[_0x36727b(0xc8)],this['headX'][this[_0x36727b(0xbc)]][this['currentFrame']]*TILESIZE,this['headY'][this[_0x36727b(0xbc)]][this['currentFrame']]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c['restore']());}}function getTileData(_0x5c08fc,_0x1b3073){const _0x5af959=_0x46c3a9;let _0x2da67e=(_0x5c08fc/TILESIZE|0x0)+(_0x1b3073/TILESIZE|0x0)*map[_0x5af959(0xd9)];for(let _0x3130cb=0x0;_0x3130cb<map['tiles']['length'];_0x3130cb++){for(let _0x22d3ee=0x0;_0x22d3ee<TilesData['length'];_0x22d3ee++){if(TilesData[_0x22d3ee]['id']==map[_0x5af959(0x95)][_0x3130cb][_0x2da67e]-0x1)return TilesData[_0x22d3ee];}}return![];}window[_0x46c3a9(0xe8)]=function(){const _0x555f03=_0x46c3a9;player[_0x555f03(0xda)]!==0x0?player[_0x555f03(0x93)]():player[_0x555f03(0x9c)]=0xa;},window[_0x46c3a9(0x10d)]=function(_0x16a227){const _0x3f5666=_0x46c3a9;_0x16a227[_0x3f5666(0xf8)](),player['attack']();},document[_0x46c3a9(0xee)](_0x46c3a9(0xa8),function(_0x52ee94){const _0x32c8ad=_0x46c3a9;switch(_0x52ee94[_0x32c8ad(0x85)]){case 0x0:userInterface[_0x32c8ad(0x116)]=!![];break;case 0x2:userInterface['rClick']=!![];break;}}),document[_0x46c3a9(0xee)]('mouseup',function(_0xc22f4a){const _0x3edebc=_0x46c3a9;switch(_0xc22f4a[_0x3edebc(0x85)]){case 0x0:userInterface[_0x3edebc(0x116)]=![];break;case 0x2:userInterface[_0x3edebc(0x130)]=![];break;}});var stats=id(_0x46c3a9(0x11c));function drawStats(){const _0x8124e0=_0x46c3a9;stats['innerHTML']=_0x8124e0(0xf6)+player['x'],stats[_0x8124e0(0xe4)]+=_0x8124e0(0xb3)+player['y'],stats[_0x8124e0(0xe4)]+=_0x8124e0(0x109)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x8124e0(0xe4)]+=_0x8124e0(0xba)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x8124e0(0xe4)]+=_0x8124e0(0xd3)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']),stats[_0x8124e0(0xe4)]+='<br>mouseTile\x20id\x20=\x20'+map['tiles'][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x8124e0(0xd9)]],map[_0x8124e0(0x95)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x8124e0(0xd9)]],DEBUG&&(c['rect']((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x8124e0(0x8d)]());}window[_0x46c3a9(0xee)](_0x46c3a9(0xd2),function(_0x341c1d){const _0x42db10=_0x46c3a9;switch(_0x341c1d[_0x42db10(0x129)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters['push'](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x42db10(0xfa)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x22de5f=0x0;_0x22de5f<0x32;_0x22de5f++){player['shoot'](),player['arrowCounter']=player[_0x42db10(0xff)]*DTR,player['computeQuiver']();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x46c3a9(0xee)]('keyup',function(_0x148785){const _0xbc15ad=_0x46c3a9;switch(_0x148785[_0xbc15ad(0x129)]){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window['addEventListener'](_0x46c3a9(0x119),function(_0x47c35c){const _0x1a272a=_0x46c3a9;mousePP['x']=_0x47c35c[_0x1a272a(0x9b)]-CANVAS[_0x1a272a(0x135)],mousePP['y']=_0x47c35c[_0x1a272a(0x88)]-CANVAS[_0x1a272a(0x126)];});function moveCamera(){const _0x275dc5=_0x46c3a9;map['x']=-player['x']/0x3+CANVAS[_0x275dc5(0xd9)]/0x6,map['y']=-player['y']/0x3+CANVAS[_0x275dc5(0xd6)]/0x6,screenShake['counter']&&(screenShake[_0x275dc5(0xc2)]--,screenShake[_0x275dc5(0xe0)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x10cd59=_0x46c3a9;c[_0x10cd59(0x120)]=0x2,c[_0x10cd59(0x100)]=sampleArrow[_0x10cd59(0xc4)][0x0],c[_0x10cd59(0xac)]();for(let _0x1486ae=playerArrows[_0x10cd59(0x8c)]-0x1;_0x1486ae>=0x0;_0x1486ae--){if(!playerArrows[_0x1486ae][_0x10cd59(0xd4)]||playerArrows[_0x1486ae]['color']!=0x1)continue;playerArrows[_0x1486ae]['free']&&playerArrows[_0x1486ae][_0x10cd59(0x101)]();if(playerArrows[_0x1486ae]!==undefined)playerArrows[_0x1486ae][_0x10cd59(0x112)]();}c[_0x10cd59(0xf3)](),c['stroke'](),c['strokeStyle']=sampleArrow[_0x10cd59(0xc4)][0x1],c['beginPath']();for(let _0x21965c=playerArrows[_0x10cd59(0x8c)]-0x1;_0x21965c>=0x0;_0x21965c--){if(!playerArrows[_0x21965c][_0x10cd59(0xd4)]||playerArrows[_0x21965c][_0x10cd59(0xd7)]!=0x2)continue;playerArrows[_0x21965c][_0x10cd59(0x12c)]&&playerArrows[_0x21965c]['compute']();if(playerArrows[_0x21965c]!==undefined)playerArrows[_0x21965c][_0x10cd59(0x112)]();}c[_0x10cd59(0xf3)](),c[_0x10cd59(0x8d)]();}function loop(){const _0x37fb60=_0x46c3a9;fps++,c[_0x37fb60(0xea)](0x0,0x0,CANVAS[_0x37fb60(0xd9)],CANVAS['height']),moveCamera(),map['draw'](),player['compute']();for(let _0x401379=enemyProjectiles[_0x37fb60(0x8c)]-0x1;_0x401379>=0x0;_0x401379--){enemyProjectiles[_0x401379][_0x37fb60(0x101)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x1ce9f2=0x0;_0x1ce9f2<monsters[_0x37fb60(0x8c)];_0x1ce9f2++){!monsters[_0x1ce9f2][_0x37fb60(0xbb)]&&monsters[_0x1ce9f2]['compute'](),monsters[_0x1ce9f2][_0x37fb60(0x112)]();}player[_0x37fb60(0x112)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x2f2ab5=enemyProjectiles[_0x37fb60(0x8c)]-0x1;_0x2f2ab5>=0x0;_0x2f2ab5--){enemyProjectiles[_0x2f2ab5][_0x37fb60(0x112)]();}sword[_0x37fb60(0xd4)]&&(sword[_0x37fb60(0x101)](),sword[_0x37fb60(0x112)]());for(let _0x15d968=visualFxs[_0x37fb60(0x8c)]-0x1;_0x15d968>=0x0;_0x15d968--){!visualFxs[_0x15d968][_0x37fb60(0xce)]&&visualFxs[_0x15d968]['draw']();}userInterface[_0x37fb60(0x112)](),drawStats();}var lastUpdate=Date[_0x46c3a9(0x117)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0x505b47=_0x46c3a9;var _0x152532=Date[_0x505b47(0x117)](),_0x5c9465=_0x152532-lastUpdate;lastUpdate=_0x152532,DTR=0x3e8/0x3c/_0x5c9465,!gamePaused&&loop();}