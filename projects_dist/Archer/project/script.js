'strict';const _0xbe6666=_0x52bd;(function(_0x56d150,_0x414b82){const _0x437d2e=_0x52bd,_0x1c040e=_0x56d150();while(!![]){try{const _0x1128f0=parseInt(_0x437d2e(0x205))/0x1*(parseInt(_0x437d2e(0x1cd))/0x2)+parseInt(_0x437d2e(0x204))/0x3+parseInt(_0x437d2e(0x222))/0x4*(-parseInt(_0x437d2e(0x217))/0x5)+parseInt(_0x437d2e(0x1e2))/0x6+-parseInt(_0x437d2e(0x20f))/0x7*(parseInt(_0x437d2e(0x265))/0x8)+parseInt(_0x437d2e(0x209))/0x9*(parseInt(_0x437d2e(0x224))/0xa)+parseInt(_0x437d2e(0x231))/0xb;if(_0x1128f0===_0x414b82)break;else _0x1c040e['push'](_0x1c040e['shift']());}catch(_0x1c08e7){_0x1c040e['push'](_0x1c040e['shift']());}}}(_0x2c9c,0xec2c1));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0xbe6666(0x1de)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS[_0xbe6666(0x1d2)]('2d');CANVAS[_0xbe6666(0x21e)]=0x2e0,CANVAS[_0xbe6666(0x23f)]=0x1e0,CANVAS['style']['left']=(window[_0xbe6666(0x24c)]-CANVAS[_0xbe6666(0x21e)])/0x2+'px',CANVAS[_0xbe6666(0x201)][_0xbe6666(0x1ec)]=(window[_0xbe6666(0x226)]-CANVAS['height'])/0x2+'px',c[_0xbe6666(0x252)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x31d7aa){const _0x2d9566=_0xbe6666,_0x2080a2=(function(){let _0x20417f=!![];return function(_0x287c0f,_0x3c6b61){const _0x3f55ca=_0x20417f?function(){const _0x310cc0=_0x52bd;if(_0x3c6b61){const _0x1c731c=_0x3c6b61[_0x310cc0(0x200)](_0x287c0f,arguments);return _0x3c6b61=null,_0x1c731c;}}:function(){};return _0x20417f=![],_0x3f55ca;};}()),_0x363793=_0x2080a2(this,function(){const _0x429081=_0x52bd;let _0x2205d4;try{const _0x32a464=Function(_0x429081(0x1cb)+_0x429081(0x1e9)+');');_0x2205d4=_0x32a464();}catch(_0x66b6de){_0x2205d4=window;}const _0x10ed80=new RegExp('[GQVTkxJjMXmfqjAWKJvKKUBvTSOWTqGLvKTNKRDXMPBIBJEDDfmSVSLxyOpwVxVFGHXwDLSB]','g'),_0x340971=_0x429081(0x240)[_0x429081(0x1c3)](_0x10ed80,'')['split'](';');let _0x3275fb,_0x1c4628,_0x54b9f1,_0x23ce2d;const _0x57aff6=function(_0x19971a,_0xe50034,_0x13a501){const _0x3d55ce=_0x429081;if(_0x19971a[_0x3d55ce(0x241)]!=_0xe50034)return![];for(let _0x113212=0x0;_0x113212<_0xe50034;_0x113212++){for(let _0xf387bd=0x0;_0xf387bd<_0x13a501['length'];_0xf387bd+=0x2){if(_0x113212==_0x13a501[_0xf387bd]&&_0x19971a[_0x3d55ce(0x1f7)](_0x113212)!=_0x13a501[_0xf387bd+0x1])return![];}}return!![];},_0x1c62b6=function(_0x4b9240,_0x3da570,_0x5b8692){return _0x57aff6(_0x3da570,_0x5b8692,_0x4b9240);},_0x215efe=function(_0x16a721,_0x2f70ca,_0x30e818){return _0x1c62b6(_0x2f70ca,_0x16a721,_0x30e818);},_0x2f870d=function(_0x2697ce,_0x2d7c41,_0x521192){return _0x215efe(_0x2d7c41,_0x521192,_0x2697ce);};for(let _0x2dc4df in _0x2205d4){if(_0x57aff6(_0x2dc4df,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3275fb=_0x2dc4df;break;}}for(let _0x1affde in _0x2205d4[_0x3275fb]){if(_0x2f870d(0x6,_0x1affde,[0x5,0x6e,0x0,0x64])){_0x1c4628=_0x1affde;break;}}for(let _0x3efe47 in _0x2205d4[_0x3275fb]){if(_0x215efe(_0x3efe47,[0x7,0x6e,0x0,0x6c],0x8)){_0x54b9f1=_0x3efe47;break;}}if(!('~'>_0x1c4628))for(let _0x1562cf in _0x2205d4[_0x3275fb][_0x54b9f1]){if(_0x1c62b6([0x7,0x65,0x0,0x68],_0x1562cf,0x8)){_0x23ce2d=_0x1562cf;break;}}if(!_0x3275fb||!_0x2205d4[_0x3275fb])return;const _0x11feba=_0x2205d4[_0x3275fb][_0x1c4628],_0x58d015=!!_0x2205d4[_0x3275fb][_0x54b9f1]&&_0x2205d4[_0x3275fb][_0x54b9f1][_0x23ce2d],_0x4e2dfe=_0x11feba||_0x58d015;if(!_0x4e2dfe)return;let _0x5e4a7d=![];for(let _0x51f794=0x0;_0x51f794<_0x340971[_0x429081(0x241)];_0x51f794++){const _0x2ddde4=_0x340971[_0x51f794],_0x288b71=_0x2ddde4[0x0]===String['fromCharCode'](0x2e)?_0x2ddde4[_0x429081(0x1d9)](0x1):_0x2ddde4,_0x4dbfec=_0x4e2dfe[_0x429081(0x241)]-_0x288b71['length'],_0x43e3e8=_0x4e2dfe[_0x429081(0x1d5)](_0x288b71,_0x4dbfec),_0x29607f=_0x43e3e8!==-0x1&&_0x43e3e8===_0x4dbfec;_0x29607f&&((_0x4e2dfe[_0x429081(0x241)]==_0x2ddde4[_0x429081(0x241)]||_0x2ddde4['indexOf']('.')===0x0)&&(_0x5e4a7d=!![]));}if(!_0x5e4a7d){const _0x4b11c1=new RegExp(_0x429081(0x1b6),'g'),_0xa5e7b2=_0x429081(0x20a)['replace'](_0x4b11c1,'');_0x2205d4[_0x3275fb][_0x54b9f1]=_0xa5e7b2;}});return _0x363793(),document[_0x2d9566(0x1bb)](_0x31d7aa);}var fpsDiv=id(_0xbe6666(0x257));setInterval(function(){const _0x2a7d78=_0xbe6666;fpsDiv[_0x2a7d78(0x21f)]=_0x2a7d78(0x1c5)+fps,fpsDiv[_0x2a7d78(0x21f)]+=_0x2a7d78(0x228)+DTR[_0x2a7d78(0x1f0)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x149468=_0xbe6666;this['x']=Math['random']()*0x8-0x4|0x0,this['y']=Math[_0x149468(0x25e)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x5402d7=_0xbe6666;this['x']=0x0,this['y']=0x0,this['yVel']=0x0,this[_0x5402d7(0x213)]=0x0,this[_0x5402d7(0x1d8)]=0x0,this[_0x5402d7(0x1ed)]=0x0,this[_0x5402d7(0x262)]=!![],this[_0x5402d7(0x1bd)]=!![],this[_0x5402d7(0x256)]=!![],this[_0x5402d7(0x250)]=0x0,this['lengthY']=0x0,this[_0x5402d7(0x1fe)]=0x1,this[_0x5402d7(0x24d)]=0x0,this['colors']=[_0x5402d7(0x219),_0x5402d7(0x1dc)],this[_0x5402d7(0x1e4)]={'x':0x0,'y':0x0};}[_0xbe6666(0x1af)](){const _0x2ae768=_0xbe6666;Math[_0x2ae768(0x1b8)](this[_0x2ae768(0x213)]*0x3)>Math[_0x2ae768(0x1b8)](this[_0x2ae768(0x250)])&&(this[_0x2ae768(0x250)]=this[_0x2ae768(0x213)]*0x3,this[_0x2ae768(0x1df)]=this[_0x2ae768(0x247)]*0x3),this[_0x2ae768(0x1e4)]['x']=this['x']+this[_0x2ae768(0x250)],this[_0x2ae768(0x1e4)]['y']=this['y']+this[_0x2ae768(0x1df)],c['moveTo'](this['x']+map['x'],this['y']+map['y']),c[_0x2ae768(0x238)](this['x']+this[_0x2ae768(0x250)]+map['x'],this['y']+this['lengthY']+map['y']);}[_0xbe6666(0x218)](){const _0x1a0ea6=_0xbe6666;this['x']+=this[_0x1a0ea6(0x213)]/DTR,this['y']+=this['yVel']/DTR;if(getTileData(this['x'],this['y'])[_0x1a0ea6(0x1e8)])visualFxs[_0x1a0ea6(0x1ee)](new Explosion(this['x']+this[_0x1a0ea6(0x213)],this['y']+this[_0x1a0ea6(0x247)],this[_0x1a0ea6(0x24d)])),this[_0x1a0ea6(0x24d)]==0x2&&(screenShake[_0x1a0ea6(0x20e)]=0x5),this[_0x1a0ea6(0x213)]=0x0,this[_0x1a0ea6(0x247)]=0x0,this[_0x1a0ea6(0x250)]/=0x2,this[_0x1a0ea6(0x1df)]/=0x2,this['free']=![];else for(let _0x487bda=monsters['length']-0x1;_0x487bda>=0x0;_0x487bda--){let _0x5145a9=monsters[_0x487bda];!_0x5145a9[_0x1a0ea6(0x1b9)]&&_0x5145a9[_0x1a0ea6(0x1c1)]&&((pointSquareCol(this,_0x5145a9)||pointSquareCol(this['points'],_0x5145a9))&&(this[_0x1a0ea6(0x262)]=![],_0x5145a9[_0x1a0ea6(0x1da)]=this[_0x1a0ea6(0x213)]/0x2,_0x5145a9[_0x1a0ea6(0x1b3)]=this[_0x1a0ea6(0x247)]/0x2,visualFxs[_0x1a0ea6(0x1ee)](new Explosion(this['x'],this['y'],this['color'])),this[_0x1a0ea6(0x24d)]==0x2&&(screenShake[_0x1a0ea6(0x20e)]=0x5),this[_0x1a0ea6(0x213)]=0x0,this[_0x1a0ea6(0x247)]=0x0,this[_0x1a0ea6(0x1d8)]=this['x']-_0x5145a9['x'],this[_0x1a0ea6(0x1ed)]=this['y']-_0x5145a9['y'],_0x5145a9[_0x1a0ea6(0x233)][_0x1a0ea6(0x1ee)](this),_0x5145a9['hp']-=this[_0x1a0ea6(0x1fe)],_0x5145a9[_0x1a0ea6(0x1f6)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x56df63=_0xbe6666;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x56df63(0x247)]=0x0,this[_0x56df63(0x213)]=0x0,this['free']=!![],this[_0x56df63(0x256)]=![],this[_0x56df63(0x20d)]=id(_0x56df63(0x20d)),this['actionX']=[0x5],this['actionY']=[0x18],this[_0x56df63(0x20b)]=0x0,this['damage']=0x5;}['compute'](){const _0x1d8fda=_0xbe6666;this['x']+=this[_0x1d8fda(0x213)]/DTR,this['y']+=this['yVel']/DTR,getTileData(this['x'],this['y'])[_0x1d8fda(0x1e8)]?(enemyProjectiles[_0x1d8fda(0x1e5)](enemyProjectiles[_0x1d8fda(0x1d5)](this),0x1),visualFxs['push'](new Explosion(this['x']+this['xVel'],this['y']+this[_0x1d8fda(0x247)],0x1)),this[_0x1d8fda(0x213)]=0x0,this[_0x1d8fda(0x247)]=0x0,this[_0x1d8fda(0x250)]/=0x2,this[_0x1d8fda(0x1df)]/=0x2,this[_0x1d8fda(0x1bd)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x1d8fda(0x1e5)](enemyProjectiles[_0x1d8fda(0x1d5)](this),0x1),player[_0x1d8fda(0x1da)]+=this['xVel']/0x2,player[_0x1d8fda(0x1b3)]+=this[_0x1d8fda(0x247)]/0x2,player['hp']-=this['damage'],visualFxs['push'](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x1d8fda(0x20e)]=0x5);}[_0xbe6666(0x1af)](){const _0x3656c7=_0xbe6666;c[_0x3656c7(0x1e6)](this['sheet'],this['actionX'][this[_0x3656c7(0x20b)]]*TILESIZE,this[_0x3656c7(0x21d)][this[_0x3656c7(0x20b)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x219994,_0x33feb5,_0x286b7b){const _0x1f508f=_0xbe6666;this[_0x1f508f(0x20d)]=id(_0x1f508f(0x20d)),this['x']=_0x219994-0x10,this['y']=_0x33feb5-0x10,this['w']=0x20,this['h']=0x20,this[_0x1f508f(0x1f4)]=0x0,this[_0x1f508f(0x1ba)]=0x0,this[_0x1f508f(0x220)]=_0x286b7b-0x1,this[_0x1f508f(0x1f3)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x1f508f(0x21d)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this[_0x1f508f(0x207)]=0x4,this[_0x1f508f(0x1d0)]=![];}[_0xbe6666(0x1af)](){const _0x38d86f=_0xbe6666;c['drawImage'](this[_0x38d86f(0x20d)],this[_0x38d86f(0x1f3)][this[_0x38d86f(0x220)]][this[_0x38d86f(0x1ba)]],this[_0x38d86f(0x21d)][this[_0x38d86f(0x220)]][this[_0x38d86f(0x1ba)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this[_0x38d86f(0x1f4)]++,this[_0x38d86f(0x1f4)]>this['slowness']*DTR&&(this[_0x38d86f(0x1f4)]=0x0,this['currentFrame']++,this['currentFrame']>this[_0x38d86f(0x1f3)][this[_0x38d86f(0x220)]][_0x38d86f(0x241)]-0x1&&(this[_0x38d86f(0x1d0)]=!![]));}}class Collidable{constructor(){}[_0xbe6666(0x23e)](){const _0x40466f=_0xbe6666;let _0x34d5a0;this[_0x40466f(0x23c)]['T']=0x0,this[_0x40466f(0x23c)]['B']=0x0,this[_0x40466f(0x23c)]['L']=0x0,this[_0x40466f(0x23c)]['R']=0x0,getTileData(this['x'],this['y'])[_0x40466f(0x22e)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x34d5a0=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x40466f(0x23c)]['R'])/0x5/DTR,this['y']+=(this[_0x40466f(0x23c)]['T']-this[_0x40466f(0x23c)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x40466f(0x22e)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x34d5a0=colCheck(this,generatedSquare),this['x']+=(this[_0x40466f(0x23c)]['L']-this[_0x40466f(0x23c)]['R'])/0x5/DTR,this['y']+=(this[_0x40466f(0x23c)]['T']-this[_0x40466f(0x23c)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])['unpassable']&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x34d5a0=colCheck(this,generatedSquare),this['x']+=(this[_0x40466f(0x23c)]['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0x40466f(0x23c)]['T']-this[_0x40466f(0x23c)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x40466f(0x22e)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x34d5a0=colCheck(this,generatedSquare),this['x']+=(this[_0x40466f(0x23c)]['L']-this[_0x40466f(0x23c)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x40466f(0x23c)]['B'])/0x5/DTR),this[_0x40466f(0x23c)]['B']&&(this['yVelExt']>0x0&&(this[_0x40466f(0x1b3)]*=-0.5)),this[_0x40466f(0x23c)]['T']&&(this['yVelExt']<0x0&&(this['yVelExt']*=-0.5)),this[_0x40466f(0x23c)]['R']&&(this[_0x40466f(0x1da)]>0x0&&(this[_0x40466f(0x1da)]*=-0.5)),this[_0x40466f(0x23c)]['L']&&(this[_0x40466f(0x1da)]<0x0&&(this[_0x40466f(0x1da)]*=-0.5));}}class Player extends Collidable{constructor(_0x12468b,_0x46bf10){const _0x542bec=_0xbe6666;super(Collidable),this['x']=_0x12468b,this['y']=_0x46bf10,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x542bec(0x1b5)]=0x3,this[_0x542bec(0x247)]=0x0,this['xVel']=0x0,this[_0x542bec(0x1b3)]=0x0,this[_0x542bec(0x1da)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x542bec(0x242)]=0xa,this['centerX']=0x0,this['centerY']=0x0,this[_0x542bec(0x23c)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x542bec(0x1f3)]=[0x0,0x20,0x40],this['actionY']=[0x0,0x0,0x0],this[_0x542bec(0x220)]=0x0,this[_0x542bec(0x1f4)]=0x0,this[_0x542bec(0x207)]=0x6,this['radians']=0x0,this[_0x542bec(0x264)]=![],this[_0x542bec(0x24e)]=0x14,this[_0x542bec(0x1eb)]=0x0,this[_0x542bec(0x1f9)]=0x0,this['arrowsArr']=[0x1,0x1,0x1,0x1,0x1],this['arrowCD']=0x3c,this[_0x542bec(0x248)]=0x0,this[_0x542bec(0x1c0)]=0x4,this['hp']=0x64,this['maxHp']=0x64,this['mp']=0x64,this[_0x542bec(0x1b2)]=0x64,this[_0x542bec(0x25a)]=0.25,this[_0x542bec(0x1fa)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}[_0xbe6666(0x24a)](){const _0x330ab6=_0xbe6666;let _0x3118b8=!![],_0x5ab1af;for(_0x5ab1af=0x0;_0x5ab1af<this['arrowsArr']['length'];_0x5ab1af++){if(this[_0x330ab6(0x1fc)][_0x5ab1af]===0x0){_0x3118b8=![];break;}}this[_0x330ab6(0x1c0)]=_0x5ab1af;if(!_0x3118b8){this[_0x330ab6(0x248)]++;if(this['arrowCounter']>this[_0x330ab6(0x1f5)]*DTR)for(_0x5ab1af=0x0;_0x5ab1af<this[_0x330ab6(0x1fc)][_0x330ab6(0x241)];_0x5ab1af++){if(this[_0x330ab6(0x1fc)][_0x5ab1af]===0x0){Math[_0x330ab6(0x25e)]()<this[_0x330ab6(0x25a)]?this[_0x330ab6(0x1fc)][_0x5ab1af]=0x2:this[_0x330ab6(0x1fc)][_0x5ab1af]=0x1;this[_0x330ab6(0x248)]=0x0;break;}}}else this[_0x330ab6(0x248)]=0x0;}['compute'](){const _0xf9abee=_0xbe6666;this[_0xf9abee(0x24a)](),this['centerX']=this['x']+this['w']/0x2,this[_0xf9abee(0x1fd)]=this['y']+this['h']/0x2,this[_0xf9abee(0x23e)]();Math['abs'](this[_0xf9abee(0x1da)])>0.01?this['xVelExt']-=this[_0xf9abee(0x1da)]*0.1/DTR:this[_0xf9abee(0x1da)]=0x0;Math[_0xf9abee(0x1b8)](this['yVelExt'])>0.01?this[_0xf9abee(0x1b3)]-=this[_0xf9abee(0x1b3)]*0.1/DTR:this[_0xf9abee(0x1b3)]=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0xf9abee(0x1b5)]=0x2:this['speed']=0x3;this[_0xf9abee(0x255)]=Math[_0xf9abee(0x1db)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0xf9abee(0x213)]=-this[_0xf9abee(0x1b5)];else!this['R']&&(this[_0xf9abee(0x213)]=0x0);if(this['R'])this[_0xf9abee(0x213)]=this[_0xf9abee(0x1b5)];else!this['L']&&(this[_0xf9abee(0x213)]=0x0);if(this['T'])this['yVel']=-this[_0xf9abee(0x1b5)];else!this['B']&&(this['yVel']=0x0);if(this['B'])this[_0xf9abee(0x247)]=this['speed'];else!this['T']&&(this[_0xf9abee(0x247)]=0x0);this['x']+=(this[_0xf9abee(0x213)]+this['xVelExt'])/DTR,this['y']+=(this[_0xf9abee(0x247)]+this[_0xf9abee(0x1b3)])/DTR;}['draw'](){const _0x3280b3=_0xbe6666;this[_0x3280b3(0x213)]===0x0&&this[_0x3280b3(0x247)]===0x0?this['action']=0x0:(this['frameCounter']++,this[_0x3280b3(0x1f4)]>=this[_0x3280b3(0x207)]*DTR&&(this[_0x3280b3(0x220)]++,this[_0x3280b3(0x1f4)]=0x0,this['action']>=this[_0x3280b3(0x1f3)][_0x3280b3(0x241)]&&(this['action']=0x0))),c[_0x3280b3(0x251)](),c[_0x3280b3(0x1c7)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c['rotate'](this[_0x3280b3(0x255)]),c[_0x3280b3(0x1e6)](id('player'),this[_0x3280b3(0x1f3)][this['action']],this[_0x3280b3(0x21d)][this[_0x3280b3(0x220)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c['restore'](),this[_0x3280b3(0x1eb)]&&(c['drawImage'](id(_0x3280b3(0x20d)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this['noArrows']--),this['bow'][_0x3280b3(0x262)]&&this['drawBow']();}[_0xbe6666(0x22d)](){const _0x26165a=_0xbe6666;this[_0x26165a(0x1fa)][_0x26165a(0x1f4)]++,this[_0x26165a(0x1fa)][_0x26165a(0x1f4)]>=this[_0x26165a(0x1fa)][_0x26165a(0x207)]*DTR&&(this[_0x26165a(0x1fa)][_0x26165a(0x220)]++,this['bow'][_0x26165a(0x1f4)]=0x0,this[_0x26165a(0x1fa)][_0x26165a(0x262)]>=this['bow'][_0x26165a(0x1f3)]['length']&&(this[_0x26165a(0x1fa)][_0x26165a(0x262)]=![])),c[_0x26165a(0x251)](),c[_0x26165a(0x1c7)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c['rotate'](this[_0x26165a(0x255)]),c['drawImage'](id(_0x26165a(0x1fa)),this['bow'][_0x26165a(0x1f3)][this[_0x26165a(0x1fa)][_0x26165a(0x220)]],this[_0x26165a(0x1fa)]['actionY'][this[_0x26165a(0x1fa)][_0x26165a(0x220)]],0x30,0x30,-this[_0x26165a(0x1fa)]['w']/0x2,-this[_0x26165a(0x1fa)]['h'],this['bow']['w'],this['bow']['h']),c[_0x26165a(0x1b7)]();}[_0xbe6666(0x258)](){const _0x10b61d=_0xbe6666;this[_0x10b61d(0x1fa)]['active']=!![],this[_0x10b61d(0x1fa)]['frameCounter']=0x0,this['bow']['currentFrame']=0x0,this['bow'][_0x10b61d(0x220)]=0x0;let _0x550031=this['x']+this['w']/0x2,_0x5315dd=this['y']+this['h']/0x2,_0x13e320=Mouse['x']-_0x550031+Math[_0x10b61d(0x25e)]()*this['precision']-this['precision']/0x2,_0x569b0e=Mouse['y']-_0x5315dd+Math[_0x10b61d(0x25e)]()*this[_0x10b61d(0x24e)]-this[_0x10b61d(0x24e)]/0x2,_0x197e71=Math[_0x10b61d(0x1db)](_0x569b0e,_0x13e320),_0x4ede31=Math[_0x10b61d(0x232)](_0x197e71),_0xa66e3d=Math['sin'](_0x197e71),_0x1f08ba=new Projectile();_0x1f08ba[_0x10b61d(0x213)]=_0x4ede31*this[_0x10b61d(0x242)],_0x1f08ba[_0x10b61d(0x247)]=_0xa66e3d*this[_0x10b61d(0x242)],_0x1f08ba['x']=_0x550031,_0x1f08ba['y']=_0x5315dd,_0x1f08ba['color']=this['arrowsArr'][0x0],playerArrows[_0x10b61d(0x1ee)](_0x1f08ba),this[_0x10b61d(0x1fc)]['shift'](),this[_0x10b61d(0x1fc)]['push'](0x0);}[_0xbe6666(0x1ff)](){const _0x52a18e=_0xbe6666;if(!sword[_0x52a18e(0x262)]){sword[_0x52a18e(0x262)]=!![],sword[_0x52a18e(0x1e0)]=this['radians'];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x54d06e=this['x']+this['w']/0x2,_0x3d2045=this['y']+this['h']/0x2,_0x19fd71=returnCosine(Mouse['x'],Mouse['y'],_0x54d06e,_0x3d2045);this['xVelExt']=_0x19fd71[_0x52a18e(0x232)]*0xe,this[_0x52a18e(0x1b3)]=_0x19fd71[_0x52a18e(0x1ea)]*0xe;}}}}var player=new Player(CANVAS['width']/0x2,CANVAS[_0xbe6666(0x23f)]/0x4*0x3);function _0x2c9c(){const _0x57f536=['imageSmoothingEnabled','lClick','onclick','radians','friendly','FPS','shoot','player.x\x20=\x20','critChance','justDied','grass','path','random','justShot','arrow','preventDefault','active','beginPath','sword','216VQSAXE','draw','followPlayer','stats','maxMp','yVelExt','hypot','speed','[RKirDxILeNLqCIMUjjwEvZXRqHRZLQ]','restore','abs','dead','currentFrame','getElementById','sort','free','clearRect','hasOwnProperty','arrowsCount','collidable','<br>player.y\x20=\x20','replace','hole','FPS:\x20','fillText','translate','rClick','mousedown','Start','return\x20(function()\x20','moveTo','4fwQpUl','clientX','offsetTop','ended','black','getContext','headX','layout','indexOf','tiles','<br>mouseTile\x20id\x20=\x20','xRel','slice','xVelExt','atan2','#ff8db5','set','canvas','lengthY','radiansP','left','7050870FVdBHo','then','points','splice','drawImage','portrait','solid','{}.constructor(\x22return\x20this\x22)(\x20)','sin','noArrows','top','yRel','push','createGrid','toPrecision','button','stroke','actionX','frameCounter','arrowCD','justDamaged','charCodeAt','hp-bar','attacked','bow','hpBar','arrowsArr','centerY','damage','attack','apply','style','vfxX','colors','853365HNWOsM','340631ZkNHSp','./Archer.json','slowness','14px\x20Arial','66573mYyPKY','RKiraboDxuILet:blaNLqCnIkMUjjwEvZXRqHRZLQ','type','Goal','sheet','counter','143549DWInWF','attacking','offsetLeft','framecounter','xVel','fillStyle','name','addEventListener','457465EGqAUc','compute','#8b5851','crop','center','hitbox','actionY','width','innerHTML','action','projSpeed','56cVqgWK','clientY','10IzSaVu','rotate','innerHeight','headY','<br>DTR:\x20','rect','Obstacle','log','mpBar','drawBow','unpassable','maxHp','closePath','7190623pShmrV','cos','arrows','keydown','<br>mouseTile.y\x20=\x20','vfxY','strokeStyle','lineTo','sword-vfx','mouseup','oncontextmenu','col','now','checkCollisions','height','sGQaaVTkxntJjonMXmafqjnAWdKrJe.vgithKKUub.BivToSO;WlTqGLvoKcTaNKlRhDoXstMPBIBJEDDfmSVSLxyOpwVxVFGHXwDLSB','length','arrowSpeed','atkBox','properties','<br>mouseTile.x\x20=\x20','json','yVel','arrowCounter','textAlign','computeQuiver','pos','innerWidth','color','precision','keyup','lengthX','save'];_0x2c9c=function(){return _0x57f536;};return _0x2c9c();}class UserInterface{constructor(){const _0x5c599b=_0xbe6666;this[_0x5c599b(0x20d)]=id('ui-sheet'),this['x']=0x14,this['y']=0x5,this[_0x5c599b(0x253)]=![],this[_0x5c599b(0x1c8)]=![],this['attacked']=0x0,this[_0x5c599b(0x1d4)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0x5c599b(0x1e7)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this['hpBar']={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0x5c599b(0x22c)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x5c599b(0x1fa)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x5c599b(0x264)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this['arrow']={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x5c599b(0x1fc)]=[0x1,0x1,0x1,0x1];}[_0xbe6666(0x1af)](){const _0x1ac6e5=_0xbe6666;this[_0x1ac6e5(0x253)]&&(c['globalAlpha']=0.5);c['drawImage'](this[_0x1ac6e5(0x20d)],this[_0x1ac6e5(0x1fa)][_0x1ac6e5(0x21a)]['x'],this[_0x1ac6e5(0x1fa)][_0x1ac6e5(0x21a)]['y'],this[_0x1ac6e5(0x1fa)][_0x1ac6e5(0x21a)]['w'],this['bow'][_0x1ac6e5(0x21a)]['h'],this['bow'][_0x1ac6e5(0x24b)]['x'],this[_0x1ac6e5(0x1fa)][_0x1ac6e5(0x24b)]['y'],this[_0x1ac6e5(0x1fa)]['crop']['w'],this[_0x1ac6e5(0x1fa)][_0x1ac6e5(0x21a)]['h']);this[_0x1ac6e5(0x253)]&&(c['globalAlpha']=0x1);this[_0x1ac6e5(0x1c8)]&&(c['globalAlpha']=0.5);c[_0x1ac6e5(0x1e6)](this[_0x1ac6e5(0x20d)],this['sword'][_0x1ac6e5(0x21a)]['x'],this['sword'][_0x1ac6e5(0x21a)]['y'],this[_0x1ac6e5(0x264)][_0x1ac6e5(0x21a)]['w'],this['sword'][_0x1ac6e5(0x21a)]['h'],this[_0x1ac6e5(0x264)][_0x1ac6e5(0x24b)]['x'],this['sword'][_0x1ac6e5(0x24b)]['y'],this[_0x1ac6e5(0x264)][_0x1ac6e5(0x21a)]['w'],this[_0x1ac6e5(0x264)][_0x1ac6e5(0x21a)]['h']);this[_0x1ac6e5(0x1c8)]&&(c['globalAlpha']=0x1);c[_0x1ac6e5(0x1e6)](this[_0x1ac6e5(0x20d)],this[_0x1ac6e5(0x1d4)][_0x1ac6e5(0x21a)]['x'],this[_0x1ac6e5(0x1d4)][_0x1ac6e5(0x21a)]['y'],this[_0x1ac6e5(0x1d4)][_0x1ac6e5(0x21a)]['w'],this[_0x1ac6e5(0x1d4)][_0x1ac6e5(0x21a)]['h'],this[_0x1ac6e5(0x1d4)][_0x1ac6e5(0x24b)]['x']+this['x'],this[_0x1ac6e5(0x1d4)][_0x1ac6e5(0x24b)]['y']+this['y'],this[_0x1ac6e5(0x1d4)]['crop']['w'],this[_0x1ac6e5(0x1d4)][_0x1ac6e5(0x21a)]['h']),c['drawImage'](this[_0x1ac6e5(0x20d)],this[_0x1ac6e5(0x1e7)]['crop'][player['attacked']]['x'],this[_0x1ac6e5(0x1e7)][_0x1ac6e5(0x21a)][player['attacked']]['y'],this[_0x1ac6e5(0x1e7)][_0x1ac6e5(0x21a)][player[_0x1ac6e5(0x1f9)]]['w'],this['portrait'][_0x1ac6e5(0x21a)][player['attacked']]['h'],this['portrait'][_0x1ac6e5(0x24b)]['x']+this['x'],this[_0x1ac6e5(0x1e7)][_0x1ac6e5(0x24b)]['y']+this['y'],this[_0x1ac6e5(0x1e7)][_0x1ac6e5(0x21a)][player['attacked']]['w'],this[_0x1ac6e5(0x1e7)][_0x1ac6e5(0x21a)][player[_0x1ac6e5(0x1f9)]]['h']),c[_0x1ac6e5(0x1e6)](this[_0x1ac6e5(0x20d)],this[_0x1ac6e5(0x1fb)]['crop']['x'],this[_0x1ac6e5(0x1fb)][_0x1ac6e5(0x21a)]['y'],this[_0x1ac6e5(0x1fb)][_0x1ac6e5(0x21a)]['w'],this['hpBar'][_0x1ac6e5(0x21a)]['h'],this[_0x1ac6e5(0x1fb)]['pos']['x']+this['x'],this[_0x1ac6e5(0x1fb)][_0x1ac6e5(0x24b)]['y']+this['y'],this[_0x1ac6e5(0x1fb)]['crop']['w']/player[_0x1ac6e5(0x22f)]*player['hp'],this[_0x1ac6e5(0x1fb)]['crop']['h']),c[_0x1ac6e5(0x1e6)](this[_0x1ac6e5(0x20d)],this[_0x1ac6e5(0x22c)][_0x1ac6e5(0x21a)]['x'],this['mpBar'][_0x1ac6e5(0x21a)]['y'],this[_0x1ac6e5(0x22c)][_0x1ac6e5(0x21a)]['w'],this[_0x1ac6e5(0x22c)]['crop']['h'],this[_0x1ac6e5(0x22c)][_0x1ac6e5(0x24b)]['x']+this['x'],this[_0x1ac6e5(0x22c)][_0x1ac6e5(0x24b)]['y']+this['y'],this[_0x1ac6e5(0x22c)]['crop']['w'],this[_0x1ac6e5(0x22c)][_0x1ac6e5(0x21a)]['h']);for(let _0x469f07=0x0;_0x469f07<player[_0x1ac6e5(0x1fc)]['length'];_0x469f07++){c['drawImage'](this['sheet'],this['arrow'][_0x1ac6e5(0x21a)][player[_0x1ac6e5(0x1fc)][_0x469f07]]['x'],this[_0x1ac6e5(0x260)]['crop'][player[_0x1ac6e5(0x1fc)][_0x469f07]]['y'],this['arrow'][_0x1ac6e5(0x21a)][player[_0x1ac6e5(0x1fc)][_0x469f07]]['w'],this[_0x1ac6e5(0x260)]['crop'][player[_0x1ac6e5(0x1fc)][_0x469f07]]['h'],this['arrow'][_0x1ac6e5(0x24b)]['x']+this['x']-0xa*_0x469f07,this[_0x1ac6e5(0x260)][_0x1ac6e5(0x24b)]['y']+this['y'],this['arrow'][_0x1ac6e5(0x21a)][player[_0x1ac6e5(0x1fc)][_0x469f07]]['w'],this[_0x1ac6e5(0x260)][_0x1ac6e5(0x21a)][player[_0x1ac6e5(0x1fc)][_0x469f07]]['h']);}c['font']=_0x1ac6e5(0x208),c[_0x1ac6e5(0x249)]=_0x1ac6e5(0x21b),c[_0x1ac6e5(0x214)]='#2f4447',c[_0x1ac6e5(0x1c6)](player[_0x1ac6e5(0x1c0)]+'/'+player[_0x1ac6e5(0x1fc)]['length'],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x1f80d3=_0xbe6666;let _0x32e9a9=player['x']+player['w']/0x2,_0x33f046=player['y']+player['h']/0x2,_0x2b407a=_0x32e9a9,_0x701770=_0x33f046,_0x48a928=![],_0x19e094=0x0,_0x405f45=returnCosine(_0x32e9a9,_0x33f046,Mouse['x'],Mouse['y']),_0x248351=[],_0x30e69c={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x32d533={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x4354a8=0x4,_0x2cbbb0={'x':0x0,'y':0x0};while(!_0x48a928&&_0x19e094<CANVAS['width']*0x2/_0x4354a8){_0x2b407a-=_0x405f45[_0x1f80d3(0x232)]*_0x4354a8,_0x701770-=_0x405f45['sin']*_0x4354a8;getTileData(_0x2b407a,_0x701770)[_0x1f80d3(0x1e8)]&&(_0x30e69c=getTileData(_0x2b407a,_0x701770)['hitbox'],_0x32d533['x']=_0x30e69c['x'],_0x32d533['y']=_0x30e69c['y'],_0x32d533['w']=_0x30e69c['w'],_0x32d533['h']=_0x30e69c['h'],_0x32d533['x']+=_0x2b407a-_0x2b407a%TILESIZE,_0x32d533['y']+=_0x701770-_0x701770%TILESIZE,_0x48a928=!![]);_0x2cbbb0['x']=_0x2b407a,_0x2cbbb0['y']=_0x701770;for(let _0x24b795=0x0;_0x24b795<monsters[_0x1f80d3(0x241)];_0x24b795++){if(!monsters[_0x24b795][_0x1f80d3(0x1b9)]&&pointSquareCol(_0x2cbbb0,monsters[_0x24b795])){_0x32d533['x']=monsters[_0x24b795]['x'],_0x32d533['y']=monsters[_0x24b795]['y'],_0x32d533['w']=monsters[_0x24b795]['w'],_0x32d533['h']=monsters[_0x24b795]['h'],_0x48a928=!![];break;}}_0x19e094++;}_0x248351=getRectSides(_0x32d533);let _0x3a0e19=[],_0x243023={},_0x6b7dfe;for(let _0x17f54c=0x0;_0x17f54c<_0x248351['length'];_0x17f54c++){_0x243023=intersect(_0x32e9a9,_0x33f046,_0x2b407a,_0x701770,_0x248351[_0x17f54c]['x1'],_0x248351[_0x17f54c]['y1'],_0x248351[_0x17f54c]['x2'],_0x248351[_0x17f54c]['y2']),_0x243023&&_0x3a0e19['push'](_0x243023);}let _0xf01e0d=Math['hypot'](_0x32e9a9-_0x2b407a,_0x33f046-_0x701770),_0x4d4855=_0x2b407a,_0x20afaf=_0x2b407a;for(let _0x1d5c4e=0x0;_0x1d5c4e<_0x3a0e19['length'];_0x1d5c4e++){_0x6b7dfe=Math[_0x1f80d3(0x1b4)](_0x32e9a9-_0x2b407a,_0x33f046-_0x701770),_0x6b7dfe<_0xf01e0d&&(_0xf01e0d=_0x6b7dfe,_0x4d4855=_0x3a0e19[_0x1d5c4e]['x'],_0x20afaf=_0x3a0e19[_0x1d5c4e]['y']);}c['strokeStyle']='#ff0000',c[_0x1f80d3(0x263)](),c[_0x1f80d3(0x1cc)](_0x32e9a9+map['x'],_0x33f046+map['y']),c[_0x1f80d3(0x238)](_0x2b407a+map['x'],_0x701770+map['y']),c[_0x1f80d3(0x1f2)](),c[_0x1f80d3(0x237)]=_0x1f80d3(0x1d1);}function isObstructed(_0xd82928,_0x354dc2){const _0x1e89d5=_0xbe6666;let _0x222c01=_0xd82928['x']+_0xd82928['w']/0x2,_0x433de5=_0xd82928['y']+_0xd82928['h']/0x2,_0x2067df=_0x354dc2['x']+_0x354dc2['w']/0x2,_0x4a9803=_0x354dc2['y']+_0x354dc2['h']/0x2,_0x198cf3=Math[_0x1e89d5(0x1b4)](_0x222c01-_0x2067df,_0x433de5-_0x4a9803),_0x98419c=_0x222c01,_0x489c2b=_0x433de5,_0x59eb19=![],_0x34b035=0x0,_0x297fd5=returnCosine(_0x222c01,_0x433de5,_0x2067df,_0x4a9803),_0x2986db=[],_0x319994={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x1d4279={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x4a03ed=0x3,_0x427510={'x':0x0,'y':0x0};while(!_0x59eb19&&_0x34b035<_0x198cf3/_0x4a03ed){_0x98419c-=_0x297fd5[_0x1e89d5(0x232)]*_0x4a03ed,_0x489c2b-=_0x297fd5[_0x1e89d5(0x1ea)]*_0x4a03ed;if(getTileData(_0x98419c,_0x489c2b)[_0x1e89d5(0x1e8)])return _0x319994=getTileData(_0x98419c,_0x489c2b)['hitbox'],_0x1d4279['x']=_0x319994['x'],_0x1d4279['y']=_0x319994['y'],_0x1d4279['w']=_0x319994['w'],_0x1d4279['h']=_0x319994['h'],_0x1d4279['x']+=_0x98419c-_0x98419c%TILESIZE,_0x1d4279['y']+=_0x489c2b-_0x489c2b%TILESIZE,!![];_0x427510['x']=_0x98419c,_0x427510['y']=_0x489c2b;if(pointSquareCol(_0x427510,_0x354dc2))return![];_0x34b035++;}}function getRectSides(_0x4fcebf){const _0x7f5f51=_0xbe6666;let _0xc7bc0c=[];return _0xc7bc0c[_0x7f5f51(0x1ee)]({'x1':_0x4fcebf['x'],'y1':_0x4fcebf['y'],'x2':_0x4fcebf['x']+_0x4fcebf['w'],'y2':_0x4fcebf['y']}),_0xc7bc0c[_0x7f5f51(0x1ee)]({'x1':_0x4fcebf['x']+_0x4fcebf['w'],'y1':_0x4fcebf['y'],'x2':_0x4fcebf['x']+_0x4fcebf['w'],'y2':_0x4fcebf['y']+_0x4fcebf['h']}),_0xc7bc0c[_0x7f5f51(0x1ee)]({'x1':_0x4fcebf['x']+_0x4fcebf['w'],'y1':_0x4fcebf['y']+_0x4fcebf['h'],'x2':_0x4fcebf['x'],'y2':_0x4fcebf['y']+_0x4fcebf['h']}),_0xc7bc0c[_0x7f5f51(0x1ee)]({'x1':_0x4fcebf['x'],'y1':_0x4fcebf['y']+_0x4fcebf['h'],'x2':_0x4fcebf['x'],'y2':_0x4fcebf['y']}),_0xc7bc0c;}function init(){const _0x52fda1=_0xbe6666;let _0x50a766,_0x136766={};fetch(_0x52fda1(0x206))[_0x52fda1(0x1e3)](function(_0x78f06f){const _0x230ad4=_0x52fda1;return _0x78f06f[_0x230ad4(0x246)]();})['then'](function(_0x469d5b){const _0x2812eb=_0x52fda1;_0x50a766=_0x469d5b['tiles'];for(let _0x1b00ab=0x0;_0x1b00ab<_0x50a766[_0x2812eb(0x241)];_0x1b00ab++){_0x136766={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x136766['id']=_0x50a766[_0x1b00ab]['id'];if(_0x50a766[_0x1b00ab][_0x2812eb(0x1bf)](_0x2812eb(0x244)))for(let _0x187cb3=0x0;_0x187cb3<_0x50a766[_0x1b00ab][_0x2812eb(0x244)]['length'];_0x187cb3++){if(_0x50a766[_0x1b00ab][_0x2812eb(0x244)][_0x187cb3])switch(_0x50a766[_0x1b00ab][_0x2812eb(0x244)][_0x187cb3][_0x2812eb(0x215)]){case _0x2812eb(0x1c4):_0x136766['hole']=!![],_0x136766[_0x2812eb(0x22e)]=!![];break;case'solid':_0x136766[_0x2812eb(0x1e8)]=!![],_0x136766[_0x2812eb(0x22e)]=!![];break;}}TilesData['push'](_0x136766);}loop();});}init();var HP_BAR=id(_0xbe6666(0x1f8));function renderHpBars(){const _0x19804b=_0xbe6666;for(let _0x168b71=0x0;_0x168b71<monsters['length'];_0x168b71++){if(monsters[_0x168b71][_0x19804b(0x1b9)])continue;let _0x52d237=monsters[_0x168b71]['hp']/monsters[_0x168b71][_0x19804b(0x22f)],_0x14fbb2=Math['round'](TILESIZE*_0x52d237);c['drawImage'](HP_BAR,0x0,0x4,_0x14fbb2,0x4,monsters[_0x168b71]['x']+monsters[_0x168b71]['w']/0x2-0x10+map['x']|0x0,monsters[_0x168b71]['y']-0x8+map['y']|0x0,_0x14fbb2|0x0,0x4|0x0),c[_0x19804b(0x1e6)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x168b71]['x']+monsters[_0x168b71]['w']/0x2-0x10+map['x']|0x0,monsters[_0x168b71]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x56f2a8=_0xbe6666;this['width']=0x17,this[_0x56f2a8(0x23f)]=0xf,this['x']=0x0,this['y']=0x0,this['tiles']=maps['m1'],this[_0x56f2a8(0x20d)]=id(_0x56f2a8(0x20d)),this['grass']=id('grass');}[_0xbe6666(0x1af)](){const _0x424dbe=_0xbe6666;for(let _0x5e7c02=0x0;_0x5e7c02<this[_0x424dbe(0x1d6)][_0x424dbe(0x241)];_0x5e7c02++){_0x5e7c02==0x1&&c[_0x424dbe(0x1e6)](this[_0x424dbe(0x25c)],0x0+this['x'],0x0+this['y'],CANVAS[_0x424dbe(0x21e)],CANVAS[_0x424dbe(0x23f)]);for(let _0x3b3a0e=0x0;_0x3b3a0e<this[_0x424dbe(0x1d6)][_0x5e7c02][_0x424dbe(0x241)];_0x3b3a0e++){if(this['tiles'][_0x5e7c02][_0x3b3a0e]===0x0)continue;c['drawImage'](this['sheet'],(this[_0x424dbe(0x1d6)][_0x5e7c02][_0x3b3a0e]-0x1)%0xf*TILESIZE,((this[_0x424dbe(0x1d6)][_0x5e7c02][_0x3b3a0e]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x3b3a0e%this[_0x424dbe(0x21e)]*TILESIZE+map['x'],(_0x3b3a0e/this[_0x424dbe(0x21e)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x52ecae=_0xbe6666;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x52ecae(0x255)]=0x2,this[_0x52ecae(0x1e0)]=0x0,this['actionX']=[0x0],this[_0x52ecae(0x21d)]=[0x0],this[_0x52ecae(0x202)]=[0x0,0x0,0x0,0x0],this['vfxY']=[0x0,0x80,0x100,0x180],this['currentFrame']=0x0,this['frameCounter']=0x0,this[_0x52ecae(0x220)]=0x0,this[_0x52ecae(0x207)]=0x3,this[_0x52ecae(0x262)]=![],this[_0x52ecae(0x20d)]=id(_0x52ecae(0x239)),this['swordImg']=id(_0x52ecae(0x264));}[_0xbe6666(0x218)](){const _0x4192c3=_0xbe6666;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x42c03,_0x43afe1,_0x5481b5;for(let _0x2d4464=0x0;_0x2d4464<monsters[_0x4192c3(0x241)];_0x2d4464++){if(monsters[_0x2d4464]['dead']||!monsters[_0x2d4464][_0x4192c3(0x1c1)])continue;_0x42c03=monsters[_0x2d4464][_0x4192c3(0x21c)]['x']+monsters[_0x2d4464]['hitbox']['w']/0x2,_0x43afe1=monsters[_0x2d4464]['hitbox']['y']+monsters[_0x2d4464][_0x4192c3(0x21c)]['h']/0x2,_0x5481b5=(monsters[_0x2d4464]['w']+monsters[_0x2d4464]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x42c03,_0x43afe1,_0x5481b5)){let _0x3fff6f=this['x']+this['w']/0x2,_0x4c79fa=this['y']+this['h']/0x2,_0x313aa9=monsters[_0x2d4464]['x']-_0x3fff6f,_0x2383a0=monsters[_0x2d4464]['y']-_0x4c79fa,_0x3b441f=Math[_0x4192c3(0x1db)](_0x2383a0,_0x313aa9),_0x271f12=Math[_0x4192c3(0x232)](_0x3b441f),_0x8bfa2=Math[_0x4192c3(0x1ea)](_0x3b441f);monsters[_0x2d4464][_0x4192c3(0x1da)]=_0x271f12*0xa,monsters[_0x2d4464]['yVelExt']=_0x8bfa2*0xa,monsters[_0x2d4464]['hp']-=0.25,monsters[_0x2d4464][_0x4192c3(0x1f6)]=0xf;}}}[_0xbe6666(0x1af)](){const _0x2afa37=_0xbe6666;this[_0x2afa37(0x1f4)]++,this[_0x2afa37(0x1f4)]>this[_0x2afa37(0x207)]*DTR&&(this[_0x2afa37(0x1f4)]=0x0,this[_0x2afa37(0x1ba)]++,this[_0x2afa37(0x1ba)]>=this[_0x2afa37(0x202)][_0x2afa37(0x241)]&&(this[_0x2afa37(0x1ba)]=0x0)),c['drawImage'](this[_0x2afa37(0x20d)],this[_0x2afa37(0x202)][this['currentFrame']],this['vfxY'][this['currentFrame']],0x80,0x40,this['x']-0x40-player[_0x2afa37(0x1da)]*0x4+map['x'],this['y']-0x40-player[_0x2afa37(0x1b3)]*0x4+map['y'],0x80,0x40),c['save'](),c[_0x2afa37(0x1c7)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x2afa37(0x225)](this[_0x2afa37(0x1e0)]+this[_0x2afa37(0x255)]),c[_0x2afa37(0x1e6)](this['swordImg'],this[_0x2afa37(0x1f3)][this[_0x2afa37(0x220)]],this[_0x2afa37(0x21d)][this[_0x2afa37(0x220)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x2afa37(0x1b7)](),this[_0x2afa37(0x255)]-=0.5/DTR,this[_0x2afa37(0x255)]<=-0x9&&(this[_0x2afa37(0x262)]=![],this[_0x2afa37(0x255)]=0x2),c['drawImage'](this[_0x2afa37(0x20d)],this[_0x2afa37(0x202)][this['currentFrame']],this[_0x2afa37(0x236)][this[_0x2afa37(0x1ba)]]+0x40,0x80,0x40,this['x']-0x40-player['xVelExt']*0x4+map['x'],this['y']-player[_0x2afa37(0x1b3)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x2314a3=_0xbe6666;monsters[_0x2314a3(0x1bc)](function(_0x54cefe,_0x2e4c73){const _0x552973=_0x2314a3;if(_0x54cefe[_0x552973(0x1b9)]&&!_0x2e4c73[_0x552973(0x1b9)])return-0x1;else return!_0x54cefe['dead']&&_0x2e4c73[_0x552973(0x1b9)]?0x1:_0x54cefe['y']+0xf-_0x2e4c73['y'];});}function adjustCollidingMonsters(){const _0x188116=_0xbe6666;for(let _0x49b4e1=0x0;_0x49b4e1<monsters[_0x188116(0x241)];_0x49b4e1++){if(monsters[_0x49b4e1][_0x188116(0x1b9)])continue;monsters[_0x49b4e1][_0x188116(0x23c)]['T']=0x0,monsters[_0x49b4e1]['col']['B']=0x0,monsters[_0x49b4e1][_0x188116(0x23c)]['L']=0x0,monsters[_0x49b4e1]['col']['R']=0x0;for(let _0x47bca6=0x0;_0x47bca6<monsters[_0x188116(0x241)];_0x47bca6++){if(monsters[_0x47bca6][_0x188116(0x1b9)])continue;if(collided(monsters[_0x49b4e1],monsters[_0x47bca6])){let _0x498f9f=colCheck(monsters[_0x49b4e1],monsters[_0x47bca6]);switch(_0x498f9f){case'l':this[_0x188116(0x213)]<0x0&&(this[_0x188116(0x213)]=0x0);break;case'r':this['xVel']>0x0&&(this[_0x188116(0x213)]=0x0);break;case'b':this['yVel']>0x0&&(this[_0x188116(0x247)]=0x0);break;case't':this[_0x188116(0x247)]<0x0&&(this['yVel']=0x0);break;}monsters[_0x49b4e1][_0x188116(0x213)]+=(monsters[_0x49b4e1]['col']['L']-monsters[_0x49b4e1][_0x188116(0x23c)]['R'])/0x5,monsters[_0x49b4e1][_0x188116(0x247)]+=(monsters[_0x49b4e1][_0x188116(0x23c)]['T']-monsters[_0x49b4e1][_0x188116(0x23c)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x4f1b00,_0x2bf878){const _0x1d9478=_0xbe6666;super(Collidable),this['x']=_0x4f1b00,this['y']=_0x2bf878,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x1d9478(0x213)]=0x0,this['yVel']=0x0,this[_0x1d9478(0x1da)]=0x0,this[_0x1d9478(0x1b3)]=0x0,this[_0x1d9478(0x1b5)]=0x2,this[_0x1d9478(0x1e1)]=0x0,this[_0x1d9478(0x25b)]=![],this[_0x1d9478(0x1f6)]=0x0,this[_0x1d9478(0x1b9)]=![],this[_0x1d9478(0x233)]=[],this[_0x1d9478(0x22f)]=0x3,this['hp']=0x3,this[_0x1d9478(0x1f4)]=0x0,this[_0x1d9478(0x207)]=0x4,this['currentFrame']=0x0,this[_0x1d9478(0x1c1)]=!![],this[_0x1d9478(0x20d)]=id(_0x1d9478(0x20d)),this[_0x1d9478(0x220)]=0x0,this[_0x1d9478(0x23c)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x1d9478(0x1f3)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this['actionY']=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}['followPlayer'](){const _0xf457e5=_0xbe6666;if(this[_0xf457e5(0x220)]!==0x0){let _0x37c9a5=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x475032=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x5dc17a=_0x37c9a5>0x0?-0x1:0x1,_0x371de7=_0x475032>0x0?-0x1:0x1,_0x4e2788;_0x475032!==0x0?_0x4e2788=Math[_0xf457e5(0x1b8)](_0x37c9a5)/(Math[_0xf457e5(0x1b8)](_0x475032)+Math[_0xf457e5(0x1b8)](_0x37c9a5)):_0x4e2788=0x0;this[_0xf457e5(0x213)]=this[_0xf457e5(0x1b5)]*_0x4e2788*_0x5dc17a,this[_0xf457e5(0x247)]=this['speed']*(0x1-_0x4e2788)*_0x371de7;if(this['x']+this['w']<player['x'])this['left']=![];else player['x']+player['w']<this['x']&&(this[_0xf457e5(0x1e1)]=!![]);}}[_0xbe6666(0x218)](){const _0x17687f=_0xbe6666;if(!this[_0x17687f(0x1b9)]){this['followPlayer']();Math['abs'](this[_0x17687f(0x1da)])>0.01?this[_0x17687f(0x1da)]*=0.9:this['xVelExt']=0x0;Math['abs'](this[_0x17687f(0x1b3)])>0.01?this[_0x17687f(0x1b3)]*=0.9:this[_0x17687f(0x1b3)]=0x0;(this['col']['T']&&this[_0x17687f(0x247)]<0x0||this[_0x17687f(0x23c)]['B']&&this[_0x17687f(0x247)]>0x0)&&(this[_0x17687f(0x247)]=0x0);(this[_0x17687f(0x23c)]['L']&&this[_0x17687f(0x213)]<0x0||this[_0x17687f(0x23c)]['R']&&this[_0x17687f(0x213)]>0x0)&&(this[_0x17687f(0x213)]=0x0);this[_0x17687f(0x220)]!==0x0&&(this[_0x17687f(0x1e1)]?this[_0x17687f(0x220)]=0x2:this['action']=0x1);this['checkCollisions'](),this['x']+=(this[_0x17687f(0x213)]+this['xVelExt'])/DTR,this['y']+=(this[_0x17687f(0x247)]+this[_0x17687f(0x1b3)])/DTR;for(let _0x104582=0x0;_0x104582<this[_0x17687f(0x233)]['length'];_0x104582++){this[_0x17687f(0x233)][_0x104582]['x']=this['x']+this[_0x17687f(0x233)][_0x104582][_0x17687f(0x1d8)],this[_0x17687f(0x233)][_0x104582]['y']=this['y']+this['arrows'][_0x104582]['yRel'];}this[_0x17687f(0x21c)]['x']=this['x']+0x6,this[_0x17687f(0x21c)]['y']=this['y']+0x4,this['hp']<=0x0&&(this['justDied']=!![]),this[_0x17687f(0x25b)]&&(this[_0x17687f(0x1f6)]=0x0,this[_0x17687f(0x1b9)]=!![],this[_0x17687f(0x220)]=0x3,this[_0x17687f(0x1f4)]=0x0,this[_0x17687f(0x1ba)]=0x0,this[_0x17687f(0x207)]=0xa);}}[_0xbe6666(0x1af)](){const _0x544ff7=_0xbe6666;this['frameCounter']++;this[_0x544ff7(0x1f4)]>this[_0x544ff7(0x207)]*DTR&&(this[_0x544ff7(0x1f4)]=0x0,this[_0x544ff7(0x1ba)]++,this['currentFrame']>=this[_0x544ff7(0x1f3)][this['action']]['length']&&(this[_0x544ff7(0x220)]==0x0&&(this[_0x544ff7(0x220)]=0x1+this[_0x544ff7(0x1e1)]),this[_0x544ff7(0x1ba)]=0x0));this[_0x544ff7(0x220)]==0x3&&(this['currentFrame']==this[_0x544ff7(0x1f3)][this[_0x544ff7(0x220)]][_0x544ff7(0x241)]-0x1&&(this['frameCounter']=0x0));if(!this[_0x544ff7(0x1b9)])for(let _0x4fb3c6=0x0;_0x4fb3c6<this[_0x544ff7(0x233)]['length'];_0x4fb3c6++){this[_0x544ff7(0x233)][_0x4fb3c6][_0x544ff7(0x1af)]();}this[_0x544ff7(0x1f6)]>0x0&&(this[_0x544ff7(0x220)]=0x4,this[_0x544ff7(0x1ba)]=0x0,this[_0x544ff7(0x212)]=0x0,this[_0x544ff7(0x1f6)]-=0x1/DTR),c[_0x544ff7(0x1e6)](this[_0x544ff7(0x20d)],this[_0x544ff7(0x1f3)][this[_0x544ff7(0x220)]][this[_0x544ff7(0x1ba)]]*TILESIZE,this['actionY'][this[_0x544ff7(0x220)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x9cabd7,_0x2ce0f4){const _0x110d53=_0xbe6666;super(Collidable),this['x']=(_0x9cabd7/TILESIZE|0x0)*TILESIZE,this['y']=(_0x2ce0f4/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x110d53(0x213)]=0x0,this['yVel']=0x0,this[_0x110d53(0x1da)]=0x0,this[_0x110d53(0x1b3)]=0x0,this[_0x110d53(0x1b5)]=0x2,this['left']=0x0,this[_0x110d53(0x25b)]=![],this[_0x110d53(0x1f6)]=0x0,this[_0x110d53(0x1b9)]=![],this[_0x110d53(0x210)]=![],this['arrows']=[],this[_0x110d53(0x22f)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0x110d53(0x207)]=0x4,this[_0x110d53(0x1ba)]=0x0,this['sheet']=id('sheet'),this['action']=0x0,this['collidable']=!![],this['path']=[],this[_0x110d53(0x23c)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x110d53(0x21c)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0x110d53(0x243)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x110d53(0x1f3)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0x110d53(0x21d)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this[_0x110d53(0x20e)]=0x0;}[_0xbe6666(0x1b0)](){const _0x1e4669=_0xbe6666;this[_0x1e4669(0x243)]['x']=this['x']-0x5*TILESIZE,this[_0x1e4669(0x243)]['y']=this['y']-0x5*TILESIZE,this[_0x1e4669(0x243)]['w']=0xb*TILESIZE,this['atkBox']['h']=0xb*TILESIZE;if(collided(this[_0x1e4669(0x243)],player)){if(this[_0x1e4669(0x210)]){if(this['currentFrame']==0x0&&this[_0x1e4669(0x1f4)]==0x0){this[_0x1e4669(0x1ef)]();switch(this[_0x1e4669(0x25d)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x1e4669(0x220)]!==0x1&&(this[_0x1e4669(0x220)]=0x1,this['currentFrame']=0x0,this[_0x1e4669(0x1f4)]=0x0);}else this['attacking']&&this[_0x1e4669(0x220)]!==0x0&&this['action']!==0x2&&(this[_0x1e4669(0x210)]=![],this[_0x1e4669(0x1c1)]=!![],this[_0x1e4669(0x220)]=0x2,this['currentFrame']=0x0,this[_0x1e4669(0x1f4)]=0x0);}[_0xbe6666(0x218)](){const _0x9cf32e=_0xbe6666;this['followPlayer'](),this[_0x9cf32e(0x21c)]['x']=this['x']+(this['w']-0xe)/0x2,this['hitbox']['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x3e8469=0x0;_0x3e8469<this[_0x9cf32e(0x233)][_0x9cf32e(0x241)];_0x3e8469++){this['arrows'][_0x3e8469]['x']=this['x']+this['arrows'][_0x3e8469][_0x9cf32e(0x1d8)],this['arrows'][_0x3e8469]['y']=this['y']+this[_0x9cf32e(0x233)][_0x3e8469]['yRel'];}this['hp']<=0x0&&(this[_0x9cf32e(0x25b)]=!![]),this['justDied']&&(this[_0x9cf32e(0x1f6)]=0x0,this[_0x9cf32e(0x1b9)]=!![],this[_0x9cf32e(0x220)]=0x3,this[_0x9cf32e(0x1f4)]=0x0,this['currentFrame']=0x0,this[_0x9cf32e(0x207)]=0xa);}['draw'](){const _0x1b5ce6=_0xbe6666;this[_0x1b5ce6(0x1f4)]++;this['action']==0x4?this[_0x1b5ce6(0x207)]=0x3:this[_0x1b5ce6(0x207)]=0x5;if(this[_0x1b5ce6(0x1f4)]>this[_0x1b5ce6(0x207)]*DTR){this[_0x1b5ce6(0x1f4)]=0x0,this['currentFrame']++;if(this[_0x1b5ce6(0x1ba)]>=this[_0x1b5ce6(0x1f3)][this[_0x1b5ce6(0x220)]][_0x1b5ce6(0x241)]){if(this[_0x1b5ce6(0x1b9)])this[_0x1b5ce6(0x1ba)]=this[_0x1b5ce6(0x1f3)][this[_0x1b5ce6(0x220)]][_0x1b5ce6(0x241)]-0x1;else{if(this['action']==0x1)this[_0x1b5ce6(0x210)]=!![],this[_0x1b5ce6(0x1c1)]=![],this['action']=0x4,this[_0x1b5ce6(0x1ba)]=0x0;else this[_0x1b5ce6(0x220)]==0x2?(this[_0x1b5ce6(0x220)]=0x0,this['currentFrame']=0x0):this[_0x1b5ce6(0x1ba)]=0x0;}}}if(!this['dead']){if(this[_0x1b5ce6(0x220)]==0x0)for(let _0x2a323d=0x0;_0x2a323d<this[_0x1b5ce6(0x233)][_0x1b5ce6(0x241)];_0x2a323d++){this[_0x1b5ce6(0x233)][_0x2a323d][_0x1b5ce6(0x1af)]();}}this[_0x1b5ce6(0x1f6)]>0x0&&(this[_0x1b5ce6(0x220)]=0x3,this[_0x1b5ce6(0x1ba)]=0x0,this[_0x1b5ce6(0x212)]=0x0,this[_0x1b5ce6(0x1f6)]-=0x1/DTR,this[_0x1b5ce6(0x1f6)]<=0x0&&(this['action']=0x0)),c['drawImage'](this['sheet'],this[_0x1b5ce6(0x1f3)][this[_0x1b5ce6(0x220)]][this[_0x1b5ce6(0x1ba)]]*TILESIZE,this['actionY'][this[_0x1b5ce6(0x220)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0xbe6666(0x1ef)](){const _0x25b1d4=_0xbe6666;let _0x367c60=0xb,_0x4958e3=[],_0x2b268f=this['x']+this['w']/0x2-TILESIZE*0x5,_0x1a0709=this['y']+this['h']/0x2-TILESIZE*0x5,_0x5827ea;for(let _0x47b005=0x0;_0x47b005<_0x367c60;_0x47b005++){_0x4958e3[_0x47b005]=[];for(let _0x1d331c=0x0;_0x1d331c<_0x367c60;_0x1d331c++){_0x5827ea=getTileData(_0x2b268f+_0x47b005*TILESIZE,_0x1a0709+_0x1d331c*TILESIZE),_0x5827ea===![]?_0x4958e3[_0x47b005][_0x1d331c]='Empty':_0x4958e3[_0x47b005][_0x1d331c]=_0x25b1d4(0x22a);}}_0x4958e3[0x5][0x5]=_0x25b1d4(0x1ca),_0x4958e3[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x25b1d4(0x20c),this[_0x25b1d4(0x25d)]=findShortestPath([0x5,0x5],_0x4958e3);}}class Flower extends Collidable{constructor(_0x4e05d6,_0x381675){const _0x2337e8=_0xbe6666;super(Collidable),this['x']=_0x4e05d6,this['y']=_0x381675,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this[_0x2337e8(0x247)]=0x0,this[_0x2337e8(0x1da)]=0x0,this[_0x2337e8(0x1b3)]=0x0,this['speed']=0x2,this[_0x2337e8(0x1e1)]=0x0,this[_0x2337e8(0x25b)]=![],this[_0x2337e8(0x1f6)]=0x0,this['dead']=![],this['arrows']=[],this[_0x2337e8(0x22f)]=0x3,this['hp']=0x3,this[_0x2337e8(0x1f4)]=0x0,this['slowness']=0x8,this[_0x2337e8(0x210)]=![],this[_0x2337e8(0x1ba)]=0x0,this[_0x2337e8(0x20d)]=id(_0x2337e8(0x20d)),this[_0x2337e8(0x24e)]=0x5,this['projSpeed']=0x8,this['collidable']=!![],this[_0x2337e8(0x23c)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x2337e8(0x21c)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x2337e8(0x220)]=0x0,this[_0x2337e8(0x1f3)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x2337e8(0x21d)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this['headX']=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x2337e8(0x227)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x2337e8(0x255)]=0x0,this['justShot']=![];}['shoot'](){const _0x4504f6=_0xbe6666;if(!isObstructed(this,player)){this['attacking']=!![];if(this['currentFrame']==0x2){if(!this[_0x4504f6(0x25f)]){let _0xa34275=new EnemyProjectile(),_0x5738cd=this['x']+this['w']/0x2,_0x29eb58=this['y']+this['h']/0x2,_0x233c38=player['x']+player['w']/0x2-_0x5738cd+Math[_0x4504f6(0x25e)]()*this[_0x4504f6(0x24e)]-this['precision']/0x2,_0x2f8f99=player['y']+player['h']/0x2-_0x29eb58+Math[_0x4504f6(0x25e)]()*this['precision']-this[_0x4504f6(0x24e)]/0x2,_0x2ebbd6=Math['atan2'](_0x2f8f99,_0x233c38),_0x58bafc=Math[_0x4504f6(0x232)](_0x2ebbd6),_0x4467ff=Math[_0x4504f6(0x1ea)](_0x2ebbd6);_0xa34275['xVel']=_0x58bafc*this['projSpeed'],_0xa34275[_0x4504f6(0x247)]=_0x4467ff*this[_0x4504f6(0x221)],_0xa34275['x']=_0x5738cd,_0xa34275['y']=_0x29eb58,enemyProjectiles[_0x4504f6(0x1ee)](_0xa34275),this[_0x4504f6(0x25f)]=!![];}}else this['justShot']=![];}else this[_0x4504f6(0x210)]=![];}[_0xbe6666(0x218)](){const _0xff48e9=_0xbe6666;this[_0xff48e9(0x258)](),this['hitbox']['x']=this['x']+this['w']/0x3,this[_0xff48e9(0x21c)]['y']=this['y']+this['h']/0x5,this[_0xff48e9(0x255)]=Math[_0xff48e9(0x1db)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x49f6aa=0x0;_0x49f6aa<this['arrows']['length'];_0x49f6aa++){this[_0xff48e9(0x233)][_0x49f6aa]['x']=this['x']+this[_0xff48e9(0x233)][_0x49f6aa][_0xff48e9(0x1d8)],this['arrows'][_0x49f6aa]['y']=this['y']+this[_0xff48e9(0x233)][_0x49f6aa][_0xff48e9(0x1ed)];}this['hp']<=0x0&&(this[_0xff48e9(0x25b)]=!![]),this[_0xff48e9(0x25b)]&&(this[_0xff48e9(0x1f6)]=0x0,this[_0xff48e9(0x1b9)]=!![],this['action']=0x2,this[_0xff48e9(0x1f4)]=0x0,this[_0xff48e9(0x1ba)]=0x0,this['slowness']=0xa);}[_0xbe6666(0x1af)](){const _0x547d1f=_0xbe6666;this[_0x547d1f(0x1f4)]++;this[_0x547d1f(0x1f4)]>this[_0x547d1f(0x207)]*DTR&&(this['frameCounter']=0x0,this[_0x547d1f(0x1ba)]++,this[_0x547d1f(0x1ba)]>=this['actionX'][this[_0x547d1f(0x220)]][_0x547d1f(0x241)]&&(this[_0x547d1f(0x1b9)]?this[_0x547d1f(0x1ba)]=this[_0x547d1f(0x1f3)][this[_0x547d1f(0x220)]][_0x547d1f(0x241)]-0x1:this['currentFrame']=0x0));if(!this[_0x547d1f(0x1b9)]){this[_0x547d1f(0x210)]?this[_0x547d1f(0x220)]=0x1:this[_0x547d1f(0x220)]=0x0;for(let _0x4bd7d2=0x0;_0x4bd7d2<this[_0x547d1f(0x233)]['length'];_0x4bd7d2++){this[_0x547d1f(0x233)][_0x4bd7d2][_0x547d1f(0x1af)]();}}this['attacking']?this[_0x547d1f(0x207)]=0x4:this[_0x547d1f(0x207)]=0x8,this['justDamaged']&&(this[_0x547d1f(0x220)]=0x2,this[_0x547d1f(0x1ba)]=0x0,this[_0x547d1f(0x212)]=0x0,this[_0x547d1f(0x1f6)]--),c[_0x547d1f(0x1e6)](this[_0x547d1f(0x20d)],this['actionX'][this[_0x547d1f(0x220)]][this[_0x547d1f(0x1ba)]]*TILESIZE,this[_0x547d1f(0x21d)][this[_0x547d1f(0x220)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0x547d1f(0x220)]==0x0||this[_0x547d1f(0x220)]==0x1)&&(c['save'](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c['rotate'](this['radians']),c[_0x547d1f(0x1e6)](this[_0x547d1f(0x20d)],this[_0x547d1f(0x1d3)][this[_0x547d1f(0x220)]][this[_0x547d1f(0x1ba)]]*TILESIZE,this[_0x547d1f(0x227)][this[_0x547d1f(0x220)]][this['currentFrame']]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x547d1f(0x1b7)]());}}function getTileData(_0x1da9fa,_0x65e00e){const _0x1474b2=_0xbe6666;let _0x4fd3e2=(_0x1da9fa/TILESIZE|0x0)+(_0x65e00e/TILESIZE|0x0)*map[_0x1474b2(0x21e)];for(let _0x87d064=0x0;_0x87d064<map[_0x1474b2(0x1d6)][_0x1474b2(0x241)];_0x87d064++){for(let _0x5ed85c=0x0;_0x5ed85c<TilesData[_0x1474b2(0x241)];_0x5ed85c++){if(TilesData[_0x5ed85c]['id']==map['tiles'][_0x87d064][_0x4fd3e2]-0x1)return TilesData[_0x5ed85c];}}return![];}window[_0xbe6666(0x254)]=function(){const _0x178e1c=_0xbe6666;player['arrowsCount']!==0x0?player[_0x178e1c(0x258)]():player[_0x178e1c(0x1eb)]=0xa;},window[_0xbe6666(0x23b)]=function(_0x13e6d0){const _0x5b2b69=_0xbe6666;_0x13e6d0[_0x5b2b69(0x261)](),player[_0x5b2b69(0x1ff)]();},document[_0xbe6666(0x216)](_0xbe6666(0x1c9),function(_0x457595){const _0x5d4e7a=_0xbe6666;switch(_0x457595[_0x5d4e7a(0x1f1)]){case 0x0:userInterface[_0x5d4e7a(0x253)]=!![];break;case 0x2:userInterface[_0x5d4e7a(0x1c8)]=!![];break;}}),document[_0xbe6666(0x216)](_0xbe6666(0x23a),function(_0x45b812){const _0x56a467=_0xbe6666;switch(_0x45b812[_0x56a467(0x1f1)]){case 0x0:userInterface[_0x56a467(0x253)]=![];break;case 0x2:userInterface[_0x56a467(0x1c8)]=![];break;}});function _0x52bd(_0x455989,_0x4d5b7b){const _0x232bc5=_0x2c9c();return _0x52bd=function(_0x53313b,_0x5d3869){_0x53313b=_0x53313b-0x1af;let _0x3c253e=_0x232bc5[_0x53313b];return _0x3c253e;},_0x52bd(_0x455989,_0x4d5b7b);}var stats=id(_0xbe6666(0x1b1));function drawStats(){const _0x502fe1=_0xbe6666;stats[_0x502fe1(0x21f)]=_0x502fe1(0x259)+player['x'],stats[_0x502fe1(0x21f)]+=_0x502fe1(0x1c2)+player['y'],stats[_0x502fe1(0x21f)]+=_0x502fe1(0x245)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x502fe1(0x21f)]+=_0x502fe1(0x235)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x502fe1(0x21f)]+='<br>mouseTile\x20pos\x20=\x20'+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x502fe1(0x21e)]),stats[_0x502fe1(0x21f)]+=_0x502fe1(0x1d7)+map['tiles'][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x502fe1(0x21e)]],map['tiles'][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x502fe1(0x21e)]],DEBUG&&(c[_0x502fe1(0x229)]((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x502fe1(0x1f2)]());}window['addEventListener'](_0xbe6666(0x234),function(_0x371ebe){const _0xe4b5a4=_0xbe6666;switch(_0x371ebe['keyCode']){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0xe4b5a4(0x1ee)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0xe4b5a4(0x22b)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x46407b=0x0;_0x46407b<0x32;_0x46407b++){player[_0xe4b5a4(0x258)](),player['arrowCounter']=player[_0xe4b5a4(0x1f5)]*DTR,player[_0xe4b5a4(0x24a)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window['addEventListener'](_0xbe6666(0x24f),function(_0x57ca6a){switch(_0x57ca6a['keyCode']){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0xbe6666(0x216)]('mousemove',function(_0x56d93e){const _0x6f687f=_0xbe6666;mousePP['x']=_0x56d93e[_0x6f687f(0x1ce)]-CANVAS[_0x6f687f(0x211)],mousePP['y']=_0x56d93e[_0x6f687f(0x223)]-CANVAS[_0x6f687f(0x1cf)];});function moveCamera(){const _0x230fec=_0xbe6666;map['x']=-player['x']/0x3+CANVAS[_0x230fec(0x21e)]/0x6,map['y']=-player['y']/0x3+CANVAS['height']/0x6,screenShake[_0x230fec(0x20e)]&&(screenShake[_0x230fec(0x20e)]--,screenShake[_0x230fec(0x1dd)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x2fb3ad=_0xbe6666;c['lineWidth']=0x2,c[_0x2fb3ad(0x237)]=sampleArrow[_0x2fb3ad(0x203)][0x0],c[_0x2fb3ad(0x263)]();for(let _0x559953=playerArrows['length']-0x1;_0x559953>=0x0;_0x559953--){if(!playerArrows[_0x559953][_0x2fb3ad(0x262)]||playerArrows[_0x559953][_0x2fb3ad(0x24d)]!=0x1)continue;playerArrows[_0x559953][_0x2fb3ad(0x1bd)]&&playerArrows[_0x559953][_0x2fb3ad(0x218)]();if(playerArrows[_0x559953]!==undefined)playerArrows[_0x559953][_0x2fb3ad(0x1af)]();}c[_0x2fb3ad(0x230)](),c[_0x2fb3ad(0x1f2)](),c[_0x2fb3ad(0x237)]=sampleArrow[_0x2fb3ad(0x203)][0x1],c[_0x2fb3ad(0x263)]();for(let _0x328eda=playerArrows[_0x2fb3ad(0x241)]-0x1;_0x328eda>=0x0;_0x328eda--){if(!playerArrows[_0x328eda][_0x2fb3ad(0x262)]||playerArrows[_0x328eda][_0x2fb3ad(0x24d)]!=0x2)continue;playerArrows[_0x328eda][_0x2fb3ad(0x1bd)]&&playerArrows[_0x328eda]['compute']();if(playerArrows[_0x328eda]!==undefined)playerArrows[_0x328eda]['draw']();}c[_0x2fb3ad(0x230)](),c[_0x2fb3ad(0x1f2)]();}function loop(){const _0x3526d9=_0xbe6666;fps++,c[_0x3526d9(0x1be)](0x0,0x0,CANVAS['width'],CANVAS['height']),moveCamera(),map[_0x3526d9(0x1af)](),player['compute']();for(let _0x5149b1=enemyProjectiles[_0x3526d9(0x241)]-0x1;_0x5149b1>=0x0;_0x5149b1--){enemyProjectiles[_0x5149b1][_0x3526d9(0x218)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x579e33=0x0;_0x579e33<monsters['length'];_0x579e33++){!monsters[_0x579e33][_0x3526d9(0x1b9)]&&monsters[_0x579e33][_0x3526d9(0x218)](),monsters[_0x579e33][_0x3526d9(0x1af)]();}player['draw'](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x3036cc=enemyProjectiles[_0x3526d9(0x241)]-0x1;_0x3036cc>=0x0;_0x3036cc--){enemyProjectiles[_0x3036cc][_0x3526d9(0x1af)]();}sword[_0x3526d9(0x262)]&&(sword[_0x3526d9(0x218)](),sword[_0x3526d9(0x1af)]());for(let _0x4c4536=visualFxs['length']-0x1;_0x4c4536>=0x0;_0x4c4536--){!visualFxs[_0x4c4536][_0x3526d9(0x1d0)]&&visualFxs[_0x4c4536][_0x3526d9(0x1af)]();}userInterface[_0x3526d9(0x1af)](),drawStats();}var lastUpdate=Date[_0xbe6666(0x23d)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0x36f4b0=_0xbe6666;var _0x5ef2fe=Date[_0x36f4b0(0x23d)](),_0x49b076=_0x5ef2fe-lastUpdate;lastUpdate=_0x5ef2fe,DTR=0x3e8/0x3c/_0x49b076,!gamePaused&&loop();}