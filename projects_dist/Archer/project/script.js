'strict';const _0xf4acf4=_0x1f8b;(function(_0x499826,_0x71f1d3){const _0xbc57aa=_0x1f8b,_0x3f3b98=_0x499826();while(!![]){try{const _0x5449cd=parseInt(_0xbc57aa(0x10e))/0x1*(-parseInt(_0xbc57aa(0x12c))/0x2)+-parseInt(_0xbc57aa(0xb1))/0x3*(parseInt(_0xbc57aa(0xc8))/0x4)+-parseInt(_0xbc57aa(0x152))/0x5*(-parseInt(_0xbc57aa(0x14a))/0x6)+-parseInt(_0xbc57aa(0xa7))/0x7+parseInt(_0xbc57aa(0xfa))/0x8*(-parseInt(_0xbc57aa(0xef))/0x9)+-parseInt(_0xbc57aa(0x137))/0xa+-parseInt(_0xbc57aa(0x118))/0xb*(-parseInt(_0xbc57aa(0xa8))/0xc);if(_0x5449cd===_0x71f1d3)break;else _0x3f3b98['push'](_0x3f3b98['shift']());}catch(_0xf71413){_0x3f3b98['push'](_0x3f3b98['shift']());}}}(_0x1134,0x3b75f));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0xf4acf4(0xdd)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS[_0xf4acf4(0x132)]('2d');CANVAS[_0xf4acf4(0xda)]=0x2e0,CANVAS[_0xf4acf4(0x10b)]=0x1e0,CANVAS[_0xf4acf4(0xb0)][_0xf4acf4(0x142)]=(window['innerWidth']-CANVAS['width'])/0x2+'px',CANVAS[_0xf4acf4(0xb0)][_0xf4acf4(0x110)]=(window[_0xf4acf4(0xd1)]-CANVAS[_0xf4acf4(0x10b)])/0x2+'px',c[_0xf4acf4(0xd3)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x3309ad){const _0x35a4b5=_0xf4acf4,_0x5ae97a=(function(){let _0x380c10=!![];return function(_0x49ec88,_0x3dd2c5){const _0x4dc6cf=_0x380c10?function(){const _0x1de11e=_0x1f8b;if(_0x3dd2c5){const _0x1c8952=_0x3dd2c5[_0x1de11e(0xe0)](_0x49ec88,arguments);return _0x3dd2c5=null,_0x1c8952;}}:function(){};return _0x380c10=![],_0x4dc6cf;};}()),_0x413392=_0x5ae97a(this,function(){const _0x57938a=_0x1f8b,_0x1f0952=function(){const _0x5d54ea=_0x1f8b;let _0x920575;try{_0x920575=Function(_0x5d54ea(0x145)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1c1ba2){_0x920575=window;}return _0x920575;},_0x39907f=_0x1f0952(),_0x4712e8=new RegExp(_0x57938a(0x102),'g'),_0x58b1f7=_0x57938a(0xd9)[_0x57938a(0xa3)](_0x4712e8,'')[_0x57938a(0x131)](';');let _0x4af0d5,_0x1f497b,_0x3ad289,_0x3fabad;const _0x56dfac=function(_0x4369fa,_0x2eb9c5,_0x53115c){const _0x41d482=_0x57938a;if(_0x4369fa['length']!=_0x2eb9c5)return![];for(let _0x18695b=0x0;_0x18695b<_0x2eb9c5;_0x18695b++){for(let _0x11684b=0x0;_0x11684b<_0x53115c[_0x41d482(0xbf)];_0x11684b+=0x2){if(_0x18695b==_0x53115c[_0x11684b]&&_0x4369fa[_0x41d482(0xc3)](_0x18695b)!=_0x53115c[_0x11684b+0x1])return![];}}return!![];},_0x517340=function(_0x32133d,_0x56b390,_0x531c8d){return _0x56dfac(_0x56b390,_0x531c8d,_0x32133d);},_0x3d0fb8=function(_0x4370e9,_0x5ac609,_0x255915){return _0x517340(_0x5ac609,_0x4370e9,_0x255915);},_0x874835=function(_0x2396f6,_0x3d6447,_0xb27042){return _0x3d0fb8(_0x3d6447,_0xb27042,_0x2396f6);};for(let _0x2ecd55 in _0x39907f){if(_0x56dfac(_0x2ecd55,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4af0d5=_0x2ecd55;break;}}for(let _0x14935a in _0x39907f[_0x4af0d5]){if(_0x874835(0x6,_0x14935a,[0x5,0x6e,0x0,0x64])){_0x1f497b=_0x14935a;break;}}for(let _0x326b29 in _0x39907f[_0x4af0d5]){if(_0x3d0fb8(_0x326b29,[0x7,0x6e,0x0,0x6c],0x8)){_0x3ad289=_0x326b29;break;}}if(!('~'>_0x1f497b))for(let _0x8bcf01 in _0x39907f[_0x4af0d5][_0x3ad289]){if(_0x517340([0x7,0x65,0x0,0x68],_0x8bcf01,0x8)){_0x3fabad=_0x8bcf01;break;}}if(!_0x4af0d5||!_0x39907f[_0x4af0d5])return;const _0xec91f8=_0x39907f[_0x4af0d5][_0x1f497b],_0x120045=!!_0x39907f[_0x4af0d5][_0x3ad289]&&_0x39907f[_0x4af0d5][_0x3ad289][_0x3fabad],_0x5482c6=_0xec91f8||_0x120045;if(!_0x5482c6)return;let _0x24cd50=![];for(let _0x2bcce8=0x0;_0x2bcce8<_0x58b1f7['length'];_0x2bcce8++){const _0x1b996b=_0x58b1f7[_0x2bcce8],_0x3f45c0=_0x1b996b[0x0]===String[_0x57938a(0xde)](0x2e)?_0x1b996b[_0x57938a(0x11a)](0x1):_0x1b996b,_0x5d4162=_0x5482c6['length']-_0x3f45c0[_0x57938a(0xbf)],_0x1c230a=_0x5482c6[_0x57938a(0x149)](_0x3f45c0,_0x5d4162),_0x4bfb3b=_0x1c230a!==-0x1&&_0x1c230a===_0x5d4162;_0x4bfb3b&&((_0x5482c6[_0x57938a(0xbf)]==_0x1b996b[_0x57938a(0xbf)]||_0x1b996b[_0x57938a(0x149)]('.')===0x0)&&(_0x24cd50=!![]));}if(!_0x24cd50){const _0x10b6bf=new RegExp('[qpRFZHcSvhejvFYpeLMsKDphNFmgC]','g'),_0x520b5f=_0x57938a(0xf5)[_0x57938a(0xa3)](_0x10b6bf,'');_0x39907f[_0x4af0d5][_0x3ad289]=_0x520b5f;}});return _0x413392(),document[_0x35a4b5(0xdf)](_0x3309ad);}var fpsDiv=id(_0xf4acf4(0xb2));setInterval(function(){const _0x2378d6=_0xf4acf4;fpsDiv['innerHTML']='FPS:\x20'+fps,fpsDiv[_0x2378d6(0x11c)]+=_0x2378d6(0x124)+DTR[_0x2378d6(0x101)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x4c65a3=_0xf4acf4;this['x']=Math[_0x4c65a3(0x12e)]()*0x8-0x4|0x0,this['y']=Math[_0x4c65a3(0x12e)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x15587c=_0xf4acf4;this['x']=0x0,this['y']=0x0,this['yVel']=0x0,this[_0x15587c(0xa2)]=0x0,this[_0x15587c(0x128)]=0x0,this[_0x15587c(0xd4)]=0x0,this[_0x15587c(0xd2)]=!![],this[_0x15587c(0xd8)]=!![],this[_0x15587c(0x13b)]=!![],this[_0x15587c(0xff)]=0x0,this['lengthY']=0x0,this[_0x15587c(0xe6)]=0x1,this['color']=0x0,this['colors']=[_0x15587c(0xf2),_0x15587c(0xcc)],this[_0x15587c(0x127)]={'x':0x0,'y':0x0};}[_0xf4acf4(0xce)](){const _0x494edb=_0xf4acf4;Math[_0x494edb(0x13f)](this[_0x494edb(0xa2)]*0x3)>Math[_0x494edb(0x13f)](this['lengthX'])&&(this[_0x494edb(0xff)]=this['xVel']*0x3,this[_0x494edb(0xb4)]=this['yVel']*0x3),this[_0x494edb(0x127)]['x']=this['x']+this[_0x494edb(0xff)],this[_0x494edb(0x127)]['y']=this['y']+this[_0x494edb(0xb4)],c[_0x494edb(0x121)](this['x']+map['x'],this['y']+map['y']),c['lineTo'](this['x']+this['lengthX']+map['x'],this['y']+this[_0x494edb(0xb4)]+map['y']);}['compute'](){const _0x190bfd=_0xf4acf4;this['x']+=this[_0x190bfd(0xa2)]/DTR,this['y']+=this[_0x190bfd(0xcb)]/DTR;if(getTileData(this['x'],this['y'])[_0x190bfd(0xa9)])visualFxs[_0x190bfd(0x140)](new Explosion(this['x']+this[_0x190bfd(0xa2)],this['y']+this[_0x190bfd(0xcb)],this['color'])),this[_0x190bfd(0x14c)]==0x2&&(screenShake[_0x190bfd(0xcf)]=0x5),this[_0x190bfd(0xa2)]=0x0,this['yVel']=0x0,this['lengthX']/=0x2,this[_0x190bfd(0xb4)]/=0x2,this[_0x190bfd(0xd8)]=![];else for(let _0x2d744f=monsters[_0x190bfd(0xbf)]-0x1;_0x2d744f>=0x0;_0x2d744f--){let _0x29cbfb=monsters[_0x2d744f];!_0x29cbfb['dead']&&_0x29cbfb[_0x190bfd(0x12a)]&&((pointSquareCol(this,_0x29cbfb)||pointSquareCol(this['points'],_0x29cbfb))&&(this[_0x190bfd(0xd2)]=![],_0x29cbfb[_0x190bfd(0x154)]=this[_0x190bfd(0xa2)]/0x2,_0x29cbfb['yVelExt']=this[_0x190bfd(0xcb)]/0x2,visualFxs[_0x190bfd(0x140)](new Explosion(this['x'],this['y'],this[_0x190bfd(0x14c)])),this['color']==0x2&&(screenShake[_0x190bfd(0xcf)]=0x5),this[_0x190bfd(0xa2)]=0x0,this[_0x190bfd(0xcb)]=0x0,this[_0x190bfd(0x128)]=this['x']-_0x29cbfb['x'],this[_0x190bfd(0xd4)]=this['y']-_0x29cbfb['y'],_0x29cbfb[_0x190bfd(0xc9)][_0x190bfd(0x140)](this),_0x29cbfb['hp']-=this[_0x190bfd(0xe6)],_0x29cbfb[_0x190bfd(0xad)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x3faacc=_0xf4acf4;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x3faacc(0xcb)]=0x0,this[_0x3faacc(0xa2)]=0x0,this['free']=!![],this['friendly']=![],this[_0x3faacc(0xf3)]=id(_0x3faacc(0xf3)),this['actionX']=[0x5],this[_0x3faacc(0x134)]=[0x18],this[_0x3faacc(0xf6)]=0x0,this[_0x3faacc(0xe6)]=0x5;}['compute'](){const _0x357633=_0xf4acf4;this['x']+=this[_0x357633(0xa2)]/DTR,this['y']+=this[_0x357633(0xcb)]/DTR,getTileData(this['x'],this['y'])['solid']?(enemyProjectiles[_0x357633(0x117)](enemyProjectiles[_0x357633(0x149)](this),0x1),visualFxs[_0x357633(0x140)](new Explosion(this['x']+this[_0x357633(0xa2)],this['y']+this[_0x357633(0xcb)],0x1)),this[_0x357633(0xa2)]=0x0,this[_0x357633(0xcb)]=0x0,this['lengthX']/=0x2,this[_0x357633(0xb4)]/=0x2,this['free']=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x357633(0x117)](enemyProjectiles[_0x357633(0x149)](this),0x1),player[_0x357633(0x154)]+=this[_0x357633(0xa2)]/0x2,player[_0x357633(0xa6)]+=this[_0x357633(0xcb)]/0x2,player['hp']-=this[_0x357633(0xe6)],visualFxs[_0x357633(0x140)](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x357633(0xcf)]=0x5);}[_0xf4acf4(0xce)](){const _0x3ff79a=_0xf4acf4;c[_0x3ff79a(0xbe)](this[_0x3ff79a(0xf3)],this[_0x3ff79a(0xe1)][this[_0x3ff79a(0xf6)]]*TILESIZE,this[_0x3ff79a(0x134)][this[_0x3ff79a(0xf6)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x47abfc,_0x1fc937,_0x2ded6f){const _0x22bc2b=_0xf4acf4;this[_0x22bc2b(0xf3)]=id('sheet'),this['x']=_0x47abfc-0x10,this['y']=_0x1fc937-0x10,this['w']=0x20,this['h']=0x20,this[_0x22bc2b(0x10f)]=0x0,this[_0x22bc2b(0x133)]=0x0,this[_0x22bc2b(0x13e)]=_0x2ded6f-0x1,this[_0x22bc2b(0xe1)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x22bc2b(0x134)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this[_0x22bc2b(0xb8)]=0x4,this['ended']=![];}[_0xf4acf4(0xce)](){const _0x35da3d=_0xf4acf4;c['drawImage'](this[_0x35da3d(0xf3)],this[_0x35da3d(0xe1)][this[_0x35da3d(0x13e)]][this[_0x35da3d(0x133)]],this[_0x35da3d(0x134)][this[_0x35da3d(0x13e)]][this[_0x35da3d(0x133)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this['frameCounter']++,this[_0x35da3d(0x10f)]>this[_0x35da3d(0xb8)]*DTR&&(this['frameCounter']=0x0,this[_0x35da3d(0x133)]++,this[_0x35da3d(0x133)]>this[_0x35da3d(0xe1)][this[_0x35da3d(0x13e)]][_0x35da3d(0xbf)]-0x1&&(this['ended']=!![]));}}class Collidable{constructor(){}[_0xf4acf4(0xed)](){const _0x17d053=_0xf4acf4;let _0x31bea4;this[_0x17d053(0x112)]['T']=0x0,this[_0x17d053(0x112)]['B']=0x0,this[_0x17d053(0x112)]['L']=0x0,this[_0x17d053(0x112)]['R']=0x0,getTileData(this['x'],this['y'])[_0x17d053(0xe2)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x31bea4=colCheck(this,generatedSquare),this['x']+=(this[_0x17d053(0x112)]['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0x17d053(0x112)]['T']-this[_0x17d053(0x112)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])['unpassable']&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x31bea4=colCheck(this,generatedSquare),this['x']+=(this[_0x17d053(0x112)]['L']-this[_0x17d053(0x112)]['R'])/0x5/DTR,this['y']+=(this[_0x17d053(0x112)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])['unpassable']&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x31bea4=colCheck(this,generatedSquare),this['x']+=(this[_0x17d053(0x112)]['L']-this[_0x17d053(0x112)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x17d053(0x112)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x17d053(0xe2)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x31bea4=colCheck(this,generatedSquare),this['x']+=(this[_0x17d053(0x112)]['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0x17d053(0x112)]['T']-this[_0x17d053(0x112)]['B'])/0x5/DTR),this[_0x17d053(0x112)]['B']&&(this['yVelExt']>0x0&&(this[_0x17d053(0xa6)]*=-0.5)),this[_0x17d053(0x112)]['T']&&(this[_0x17d053(0xa6)]<0x0&&(this[_0x17d053(0xa6)]*=-0.5)),this[_0x17d053(0x112)]['R']&&(this[_0x17d053(0x154)]>0x0&&(this[_0x17d053(0x154)]*=-0.5)),this[_0x17d053(0x112)]['L']&&(this[_0x17d053(0x154)]<0x0&&(this['xVelExt']*=-0.5));}}class Player extends Collidable{constructor(_0x31a38d,_0x33fc89){const _0x3cf4b5=_0xf4acf4;super(Collidable),this['x']=_0x31a38d,this['y']=_0x33fc89,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x3cf4b5(0x139)]=0x3,this[_0x3cf4b5(0xcb)]=0x0,this[_0x3cf4b5(0xa2)]=0x0,this['yVelExt']=0x0,this[_0x3cf4b5(0x154)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x3cf4b5(0x11d)]=0xa,this[_0x3cf4b5(0xa5)]=0x0,this['centerY']=0x0,this[_0x3cf4b5(0x112)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x3cf4b5(0xe1)]=[0x0,0x20,0x40],this[_0x3cf4b5(0x134)]=[0x0,0x0,0x0],this[_0x3cf4b5(0x13e)]=0x0,this['frameCounter']=0x0,this[_0x3cf4b5(0xb8)]=0x6,this[_0x3cf4b5(0xac)]=0x0,this[_0x3cf4b5(0x12d)]=![],this[_0x3cf4b5(0x13d)]=0x14,this[_0x3cf4b5(0xf8)]=0x0,this[_0x3cf4b5(0x14b)]=0x0,this[_0x3cf4b5(0xf1)]=[0x1,0x1,0x1,0x1,0x1],this['arrowCD']=0x3c,this[_0x3cf4b5(0xec)]=0x0,this[_0x3cf4b5(0x138)]=0x4,this['hp']=0x64,this[_0x3cf4b5(0xfb)]=0x64,this['mp']=0x64,this[_0x3cf4b5(0xdb)]=0x64,this[_0x3cf4b5(0x113)]=0.25,this[_0x3cf4b5(0x146)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}['computeQuiver'](){const _0x38cc32=_0xf4acf4;let _0x23e30d=!![],_0x144626;for(_0x144626=0x0;_0x144626<this[_0x38cc32(0xf1)][_0x38cc32(0xbf)];_0x144626++){if(this['arrowsArr'][_0x144626]===0x0){_0x23e30d=![];break;}}this[_0x38cc32(0x138)]=_0x144626;if(!_0x23e30d){this[_0x38cc32(0xec)]++;if(this[_0x38cc32(0xec)]>this[_0x38cc32(0x104)]*DTR)for(_0x144626=0x0;_0x144626<this[_0x38cc32(0xf1)]['length'];_0x144626++){if(this[_0x38cc32(0xf1)][_0x144626]===0x0){Math['random']()<this[_0x38cc32(0x113)]?this[_0x38cc32(0xf1)][_0x144626]=0x2:this['arrowsArr'][_0x144626]=0x1;this[_0x38cc32(0xec)]=0x0;break;}}}else this[_0x38cc32(0xec)]=0x0;}[_0xf4acf4(0xf9)](){const _0x43b371=_0xf4acf4;this[_0x43b371(0xb7)](),this[_0x43b371(0xa5)]=this['x']+this['w']/0x2,this[_0x43b371(0xa4)]=this['y']+this['h']/0x2,this[_0x43b371(0xed)]();Math[_0x43b371(0x13f)](this[_0x43b371(0x154)])>0.01?this[_0x43b371(0x154)]-=this[_0x43b371(0x154)]*0.1/DTR:this['xVelExt']=0x0;Math[_0x43b371(0x13f)](this['yVelExt'])>0.01?this[_0x43b371(0xa6)]-=this[_0x43b371(0xa6)]*0.1/DTR:this[_0x43b371(0xa6)]=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x43b371(0x139)]=0x2:this[_0x43b371(0x139)]=0x3;this[_0x43b371(0xac)]=Math[_0x43b371(0xd7)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this['xVel']=-this[_0x43b371(0x139)];else!this['R']&&(this[_0x43b371(0xa2)]=0x0);if(this['R'])this[_0x43b371(0xa2)]=this['speed'];else!this['L']&&(this[_0x43b371(0xa2)]=0x0);if(this['T'])this[_0x43b371(0xcb)]=-this[_0x43b371(0x139)];else!this['B']&&(this[_0x43b371(0xcb)]=0x0);if(this['B'])this[_0x43b371(0xcb)]=this[_0x43b371(0x139)];else!this['T']&&(this['yVel']=0x0);this['x']+=(this[_0x43b371(0xa2)]+this[_0x43b371(0x154)])/DTR,this['y']+=(this[_0x43b371(0xcb)]+this['yVelExt'])/DTR;}[_0xf4acf4(0xce)](){const _0x50225b=_0xf4acf4;this[_0x50225b(0xa2)]===0x0&&this[_0x50225b(0xcb)]===0x0?this['action']=0x0:(this[_0x50225b(0x10f)]++,this[_0x50225b(0x10f)]>=this[_0x50225b(0xb8)]*DTR&&(this['action']++,this[_0x50225b(0x10f)]=0x0,this['action']>=this[_0x50225b(0xe1)][_0x50225b(0xbf)]&&(this[_0x50225b(0x13e)]=0x0))),c[_0x50225b(0x122)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x50225b(0x13a)](this['radians']),c[_0x50225b(0xbe)](id(_0x50225b(0xba)),this[_0x50225b(0xe1)][this[_0x50225b(0x13e)]],this[_0x50225b(0x134)][this[_0x50225b(0x13e)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c['restore'](),this[_0x50225b(0xf8)]&&(c[_0x50225b(0xbe)](id(_0x50225b(0xf3)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x50225b(0xf8)]--),this[_0x50225b(0x146)][_0x50225b(0xd2)]&&this['drawBow']();}[_0xf4acf4(0x150)](){const _0x5f5da5=_0xf4acf4;this[_0x5f5da5(0x146)][_0x5f5da5(0x10f)]++,this[_0x5f5da5(0x146)][_0x5f5da5(0x10f)]>=this[_0x5f5da5(0x146)]['slowness']*DTR&&(this[_0x5f5da5(0x146)]['action']++,this['bow'][_0x5f5da5(0x10f)]=0x0,this[_0x5f5da5(0x146)][_0x5f5da5(0xd2)]>=this[_0x5f5da5(0x146)][_0x5f5da5(0xe1)]['length']&&(this[_0x5f5da5(0x146)]['active']=![])),c[_0x5f5da5(0x122)](),c[_0x5f5da5(0x129)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c['rotate'](this[_0x5f5da5(0xac)]),c['drawImage'](id(_0x5f5da5(0x146)),this[_0x5f5da5(0x146)][_0x5f5da5(0xe1)][this[_0x5f5da5(0x146)][_0x5f5da5(0x13e)]],this['bow'][_0x5f5da5(0x134)][this[_0x5f5da5(0x146)][_0x5f5da5(0x13e)]],0x30,0x30,-this[_0x5f5da5(0x146)]['w']/0x2,-this[_0x5f5da5(0x146)]['h'],this['bow']['w'],this['bow']['h']),c[_0x5f5da5(0x100)]();}[_0xf4acf4(0x123)](){const _0x521e17=_0xf4acf4;this[_0x521e17(0x146)][_0x521e17(0xd2)]=!![],this[_0x521e17(0x146)][_0x521e17(0x10f)]=0x0,this['bow'][_0x521e17(0x133)]=0x0,this[_0x521e17(0x146)]['action']=0x0;let _0x10a93e=this['x']+this['w']/0x2,_0x4b525d=this['y']+this['h']/0x2,_0x159b86=Mouse['x']-_0x10a93e+Math[_0x521e17(0x12e)]()*this[_0x521e17(0x13d)]-this[_0x521e17(0x13d)]/0x2,_0x4da996=Mouse['y']-_0x4b525d+Math['random']()*this[_0x521e17(0x13d)]-this[_0x521e17(0x13d)]/0x2,_0x4ab256=Math[_0x521e17(0xd7)](_0x4da996,_0x159b86),_0x3bf9d9=Math[_0x521e17(0xc2)](_0x4ab256),_0x2ea403=Math[_0x521e17(0x151)](_0x4ab256),_0x44ef85=new Projectile();_0x44ef85['xVel']=_0x3bf9d9*this[_0x521e17(0x11d)],_0x44ef85['yVel']=_0x2ea403*this[_0x521e17(0x11d)],_0x44ef85['x']=_0x10a93e,_0x44ef85['y']=_0x4b525d,_0x44ef85[_0x521e17(0x14c)]=this['arrowsArr'][0x0],playerArrows[_0x521e17(0x140)](_0x44ef85),this[_0x521e17(0xf1)]['shift'](),this[_0x521e17(0xf1)][_0x521e17(0x140)](0x0);}[_0xf4acf4(0x12f)](){const _0x1243a6=_0xf4acf4;if(!sword[_0x1243a6(0xd2)]){sword[_0x1243a6(0xd2)]=!![],sword[_0x1243a6(0x116)]=this['radians'];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x164b5b=this['x']+this['w']/0x2,_0x4a6840=this['y']+this['h']/0x2,_0x45565a=returnCosine(Mouse['x'],Mouse['y'],_0x164b5b,_0x4a6840);this['xVelExt']=_0x45565a[_0x1243a6(0xc2)]*0xe,this[_0x1243a6(0xa6)]=_0x45565a['sin']*0xe;}}}}var player=new Player(CANVAS[_0xf4acf4(0xda)]/0x2,CANVAS['height']/0x4*0x3);class UserInterface{constructor(){const _0x1c577f=_0xf4acf4;this['sheet']=id(_0x1c577f(0x11f)),this['x']=0x14,this['y']=0x5,this['lClick']=![],this[_0x1c577f(0xdc)]=![],this[_0x1c577f(0x14b)]=0x0,this[_0x1c577f(0xc7)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0x1c577f(0x103)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this['hpBar']={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this['mpBar']={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x1c577f(0x146)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x1c577f(0x12d)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this['arrow']={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this['arrowsArr']=[0x1,0x1,0x1,0x1];}[_0xf4acf4(0xce)](){const _0x5311a2=_0xf4acf4;this[_0x5311a2(0xbd)]&&(c[_0x5311a2(0xd0)]=0.5);c['drawImage'](this[_0x5311a2(0xf3)],this[_0x5311a2(0x146)]['crop']['x'],this[_0x5311a2(0x146)][_0x5311a2(0x14e)]['y'],this[_0x5311a2(0x146)]['crop']['w'],this['bow'][_0x5311a2(0x14e)]['h'],this['bow'][_0x5311a2(0x10c)]['x'],this[_0x5311a2(0x146)][_0x5311a2(0x10c)]['y'],this[_0x5311a2(0x146)]['crop']['w'],this[_0x5311a2(0x146)][_0x5311a2(0x14e)]['h']);this[_0x5311a2(0xbd)]&&(c[_0x5311a2(0xd0)]=0x1);this[_0x5311a2(0xdc)]&&(c[_0x5311a2(0xd0)]=0.5);c[_0x5311a2(0xbe)](this[_0x5311a2(0xf3)],this['sword']['crop']['x'],this['sword'][_0x5311a2(0x14e)]['y'],this['sword']['crop']['w'],this[_0x5311a2(0x12d)][_0x5311a2(0x14e)]['h'],this[_0x5311a2(0x12d)][_0x5311a2(0x10c)]['x'],this[_0x5311a2(0x12d)][_0x5311a2(0x10c)]['y'],this[_0x5311a2(0x12d)]['crop']['w'],this['sword'][_0x5311a2(0x14e)]['h']);this[_0x5311a2(0xdc)]&&(c[_0x5311a2(0xd0)]=0x1);c[_0x5311a2(0xbe)](this[_0x5311a2(0xf3)],this[_0x5311a2(0xc7)]['crop']['x'],this['layout'][_0x5311a2(0x14e)]['y'],this[_0x5311a2(0xc7)]['crop']['w'],this[_0x5311a2(0xc7)][_0x5311a2(0x14e)]['h'],this[_0x5311a2(0xc7)][_0x5311a2(0x10c)]['x']+this['x'],this[_0x5311a2(0xc7)]['pos']['y']+this['y'],this['layout'][_0x5311a2(0x14e)]['w'],this[_0x5311a2(0xc7)]['crop']['h']),c[_0x5311a2(0xbe)](this[_0x5311a2(0xf3)],this[_0x5311a2(0x103)][_0x5311a2(0x14e)][player[_0x5311a2(0x14b)]]['x'],this[_0x5311a2(0x103)]['crop'][player[_0x5311a2(0x14b)]]['y'],this[_0x5311a2(0x103)][_0x5311a2(0x14e)][player['attacked']]['w'],this[_0x5311a2(0x103)][_0x5311a2(0x14e)][player[_0x5311a2(0x14b)]]['h'],this[_0x5311a2(0x103)][_0x5311a2(0x10c)]['x']+this['x'],this[_0x5311a2(0x103)][_0x5311a2(0x10c)]['y']+this['y'],this['portrait'][_0x5311a2(0x14e)][player[_0x5311a2(0x14b)]]['w'],this[_0x5311a2(0x103)][_0x5311a2(0x14e)][player[_0x5311a2(0x14b)]]['h']),c[_0x5311a2(0xbe)](this[_0x5311a2(0xf3)],this[_0x5311a2(0xb3)][_0x5311a2(0x14e)]['x'],this['hpBar'][_0x5311a2(0x14e)]['y'],this[_0x5311a2(0xb3)][_0x5311a2(0x14e)]['w'],this['hpBar'][_0x5311a2(0x14e)]['h'],this[_0x5311a2(0xb3)][_0x5311a2(0x10c)]['x']+this['x'],this['hpBar'][_0x5311a2(0x10c)]['y']+this['y'],this['hpBar']['crop']['w']/player[_0x5311a2(0xfb)]*player['hp'],this[_0x5311a2(0xb3)]['crop']['h']),c[_0x5311a2(0xbe)](this[_0x5311a2(0xf3)],this[_0x5311a2(0x14d)][_0x5311a2(0x14e)]['x'],this['mpBar']['crop']['y'],this[_0x5311a2(0x14d)][_0x5311a2(0x14e)]['w'],this[_0x5311a2(0x14d)][_0x5311a2(0x14e)]['h'],this['mpBar'][_0x5311a2(0x10c)]['x']+this['x'],this[_0x5311a2(0x14d)][_0x5311a2(0x10c)]['y']+this['y'],this[_0x5311a2(0x14d)][_0x5311a2(0x14e)]['w'],this[_0x5311a2(0x14d)][_0x5311a2(0x14e)]['h']);for(let _0xd7b37d=0x0;_0xd7b37d<player[_0x5311a2(0xf1)][_0x5311a2(0xbf)];_0xd7b37d++){c[_0x5311a2(0xbe)](this[_0x5311a2(0xf3)],this[_0x5311a2(0xae)][_0x5311a2(0x14e)][player[_0x5311a2(0xf1)][_0xd7b37d]]['x'],this[_0x5311a2(0xae)]['crop'][player[_0x5311a2(0xf1)][_0xd7b37d]]['y'],this[_0x5311a2(0xae)][_0x5311a2(0x14e)][player[_0x5311a2(0xf1)][_0xd7b37d]]['w'],this[_0x5311a2(0xae)][_0x5311a2(0x14e)][player['arrowsArr'][_0xd7b37d]]['h'],this[_0x5311a2(0xae)]['pos']['x']+this['x']-0xa*_0xd7b37d,this['arrow'][_0x5311a2(0x10c)]['y']+this['y'],this[_0x5311a2(0xae)][_0x5311a2(0x14e)][player[_0x5311a2(0xf1)][_0xd7b37d]]['w'],this[_0x5311a2(0xae)][_0x5311a2(0x14e)][player[_0x5311a2(0xf1)][_0xd7b37d]]['h']);}c['font']=_0x5311a2(0xe4),c[_0x5311a2(0xd5)]='center',c[_0x5311a2(0xc4)]='#2f4447',c[_0x5311a2(0xee)](player[_0x5311a2(0x138)]+'/'+player[_0x5311a2(0xf1)]['length'],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x338988=_0xf4acf4;let _0x4e8556=player['x']+player['w']/0x2,_0xc28df6=player['y']+player['h']/0x2,_0x581b97=_0x4e8556,_0x26aff4=_0xc28df6,_0x426647=![],_0x5a2a0a=0x0,_0x2d5ccb=returnCosine(_0x4e8556,_0xc28df6,Mouse['x'],Mouse['y']),_0x187e2f=[],_0x5424b2={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x1b9595={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0xc4e97b=0x4,_0x9c173a={'x':0x0,'y':0x0};while(!_0x426647&&_0x5a2a0a<CANVAS['width']*0x2/_0xc4e97b){_0x581b97-=_0x2d5ccb[_0x338988(0xc2)]*_0xc4e97b,_0x26aff4-=_0x2d5ccb[_0x338988(0x151)]*_0xc4e97b;getTileData(_0x581b97,_0x26aff4)[_0x338988(0xa9)]&&(_0x5424b2=getTileData(_0x581b97,_0x26aff4)[_0x338988(0x120)],_0x1b9595['x']=_0x5424b2['x'],_0x1b9595['y']=_0x5424b2['y'],_0x1b9595['w']=_0x5424b2['w'],_0x1b9595['h']=_0x5424b2['h'],_0x1b9595['x']+=_0x581b97-_0x581b97%TILESIZE,_0x1b9595['y']+=_0x26aff4-_0x26aff4%TILESIZE,_0x426647=!![]);_0x9c173a['x']=_0x581b97,_0x9c173a['y']=_0x26aff4;for(let _0x4d2266=0x0;_0x4d2266<monsters[_0x338988(0xbf)];_0x4d2266++){if(!monsters[_0x4d2266][_0x338988(0xc5)]&&pointSquareCol(_0x9c173a,monsters[_0x4d2266])){_0x1b9595['x']=monsters[_0x4d2266]['x'],_0x1b9595['y']=monsters[_0x4d2266]['y'],_0x1b9595['w']=monsters[_0x4d2266]['w'],_0x1b9595['h']=monsters[_0x4d2266]['h'],_0x426647=!![];break;}}_0x5a2a0a++;}_0x187e2f=getRectSides(_0x1b9595);let _0x211be6=[],_0x537e8d={},_0x24956e;for(let _0x437775=0x0;_0x437775<_0x187e2f['length'];_0x437775++){_0x537e8d=intersect(_0x4e8556,_0xc28df6,_0x581b97,_0x26aff4,_0x187e2f[_0x437775]['x1'],_0x187e2f[_0x437775]['y1'],_0x187e2f[_0x437775]['x2'],_0x187e2f[_0x437775]['y2']),_0x537e8d&&_0x211be6[_0x338988(0x140)](_0x537e8d);}let _0x17be99=Math[_0x338988(0x114)](_0x4e8556-_0x581b97,_0xc28df6-_0x26aff4),_0x110168=_0x581b97,_0x2d1667=_0x581b97;for(let _0x11ee05=0x0;_0x11ee05<_0x211be6[_0x338988(0xbf)];_0x11ee05++){_0x24956e=Math[_0x338988(0x114)](_0x4e8556-_0x581b97,_0xc28df6-_0x26aff4),_0x24956e<_0x17be99&&(_0x17be99=_0x24956e,_0x110168=_0x211be6[_0x11ee05]['x'],_0x2d1667=_0x211be6[_0x11ee05]['y']);}c[_0x338988(0xcd)]=_0x338988(0xe8),c[_0x338988(0xbb)](),c['moveTo'](_0x4e8556+map['x'],_0xc28df6+map['y']),c[_0x338988(0x153)](_0x581b97+map['x'],_0x26aff4+map['y']),c['stroke'](),c[_0x338988(0xcd)]=_0x338988(0x148);}function isObstructed(_0x58125d,_0x9a34fc){const _0x5d56b7=_0xf4acf4;let _0x375d5d=_0x58125d['x']+_0x58125d['w']/0x2,_0x5521a4=_0x58125d['y']+_0x58125d['h']/0x2,_0x483317=_0x9a34fc['x']+_0x9a34fc['w']/0x2,_0x5ca356=_0x9a34fc['y']+_0x9a34fc['h']/0x2,_0x37d1da=Math[_0x5d56b7(0x114)](_0x375d5d-_0x483317,_0x5521a4-_0x5ca356),_0x14bc2b=_0x375d5d,_0x3f964a=_0x5521a4,_0x8257f9=![],_0x44bbee=0x0,_0x2af286=returnCosine(_0x375d5d,_0x5521a4,_0x483317,_0x5ca356),_0x1a3900=[],_0x380eaa={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0xb6ddb2={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x3725bf=0x3,_0x587c82={'x':0x0,'y':0x0};while(!_0x8257f9&&_0x44bbee<_0x37d1da/_0x3725bf){_0x14bc2b-=_0x2af286['cos']*_0x3725bf,_0x3f964a-=_0x2af286['sin']*_0x3725bf;if(getTileData(_0x14bc2b,_0x3f964a)['solid'])return _0x380eaa=getTileData(_0x14bc2b,_0x3f964a)[_0x5d56b7(0x120)],_0xb6ddb2['x']=_0x380eaa['x'],_0xb6ddb2['y']=_0x380eaa['y'],_0xb6ddb2['w']=_0x380eaa['w'],_0xb6ddb2['h']=_0x380eaa['h'],_0xb6ddb2['x']+=_0x14bc2b-_0x14bc2b%TILESIZE,_0xb6ddb2['y']+=_0x3f964a-_0x3f964a%TILESIZE,!![];_0x587c82['x']=_0x14bc2b,_0x587c82['y']=_0x3f964a;if(pointSquareCol(_0x587c82,_0x9a34fc))return![];_0x44bbee++;}}function getRectSides(_0x181329){const _0x273cc5=_0xf4acf4;let _0x2b4979=[];return _0x2b4979[_0x273cc5(0x140)]({'x1':_0x181329['x'],'y1':_0x181329['y'],'x2':_0x181329['x']+_0x181329['w'],'y2':_0x181329['y']}),_0x2b4979[_0x273cc5(0x140)]({'x1':_0x181329['x']+_0x181329['w'],'y1':_0x181329['y'],'x2':_0x181329['x']+_0x181329['w'],'y2':_0x181329['y']+_0x181329['h']}),_0x2b4979[_0x273cc5(0x140)]({'x1':_0x181329['x']+_0x181329['w'],'y1':_0x181329['y']+_0x181329['h'],'x2':_0x181329['x'],'y2':_0x181329['y']+_0x181329['h']}),_0x2b4979[_0x273cc5(0x140)]({'x1':_0x181329['x'],'y1':_0x181329['y']+_0x181329['h'],'x2':_0x181329['x'],'y2':_0x181329['y']}),_0x2b4979;}function _0x1134(){const _0x59cdf0=['justDied','properties','round','lengthX','restore','toPrecision','[PwvOSIUxXUpBVKLGLxLTVyvUOxHVEyqWvkyPkLxVBKwWDLpxyXOpXzFxzxUZKDkIVQSIz]','portrait','arrowCD','log','clientX','vfxY','keyCode','<br>mouseTile\x20id\x20=\x20','Start','height','pos','colors','231136ODzLil','frameCounter','top','closePath','col','critChance','hypot','addEventListener','radiansP','splice','11jEIkvV','clearRect','slice','mousemove','innerHTML','arrowSpeed','createGrid','ui-sheet','hitbox','moveTo','save','shoot','<br>DTR:\x20','Goal','then','points','xRel','translate','collidable','projSpeed','4BGekBd','sword','random','attack','sword-vfx','split','getContext','currentFrame','actionY','hole','offsetLeft','4186800PpczZr','arrowsCount','speed','rotate','friendly','swordImg','precision','action','abs','push','mousedown','left','justShot','atkBox','return\x20(function()\x20','bow','<br>player.y\x20=\x20','black','indexOf','12ACSSSl','attacked','color','mpBar','crop','framecounter','drawBow','sin','937495tSSETM','lineTo','xVelExt','Empty','button','stats','xVel','replace','centerY','centerX','yVelExt','156681jLwnab','18665076dEuwiw','solid','name','ended','radians','justDamaged','arrow','stroke','style','3FyUuwH','FPS','hpBar','lengthY','offsetTop','followPlayer','computeQuiver','slowness','<br>mouseTile.x\x20=\x20','player','beginPath','sort','lClick','drawImage','length','now','<br>mouseTile.y\x20=\x20','cos','charCodeAt','fillStyle','dead','path','layout','1768016SHhoOv','arrows','oncontextmenu','yVel','#ff8db5','strokeStyle','draw','counter','globalAlpha','innerHeight','active','imageSmoothingEnabled','yRel','textAlign','attacking','atan2','free','saantoPnawvOSndre.IgUithub.xXUpBioVKL;localhGoLstxLTVyvUOxHVEyqWvkyPkLxVBKwWDLpxyXOpXzFxzxUZKDkIVQSIz','width','maxMp','rClick','canvas','fromCharCode','getElementById','apply','actionX','unpassable','hp-bar','14px\x20Arial','grass','damage','onclick','#ff0000','preventDefault','tiles','headY','arrowCounter','checkCollisions','fillText','3073779YlusWM','player.x\x20=\x20','arrowsArr','#8b5851','sheet','Obstacle','qpRaboFZHuctS:blvankhejvFYpeLMsKDphNFmgC','type','vfxX','noArrows','compute','8oplATg','maxHp'];_0x1134=function(){return _0x59cdf0;};return _0x1134();}function init(){const _0x893d59=_0xf4acf4;let _0x1e8bbd,_0x49f4d5={};fetch('./Archer.json')[_0x893d59(0x126)](function(_0x28ebdb){return _0x28ebdb['json']();})['then'](function(_0x584fc6){const _0x49a436=_0x893d59;_0x1e8bbd=_0x584fc6['tiles'];for(let _0x1a697b=0x0;_0x1a697b<_0x1e8bbd['length'];_0x1a697b++){_0x49f4d5={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x49f4d5['id']=_0x1e8bbd[_0x1a697b]['id'];if(_0x1e8bbd[_0x1a697b]['hasOwnProperty']('properties'))for(let _0x2465c3=0x0;_0x2465c3<_0x1e8bbd[_0x1a697b][_0x49a436(0xfd)][_0x49a436(0xbf)];_0x2465c3++){if(_0x1e8bbd[_0x1a697b]['properties'][_0x2465c3])switch(_0x1e8bbd[_0x1a697b][_0x49a436(0xfd)][_0x2465c3][_0x49a436(0xaa)]){case _0x49a436(0x135):_0x49f4d5[_0x49a436(0x135)]=!![],_0x49f4d5[_0x49a436(0xe2)]=!![];break;case _0x49a436(0xa9):_0x49f4d5['solid']=!![],_0x49f4d5[_0x49a436(0xe2)]=!![];break;}}TilesData['push'](_0x49f4d5);}loop();});}function _0x1f8b(_0x27139c,_0x436a91){const _0x1fe0a0=_0x1134();return _0x1f8b=function(_0x3f0cdc,_0x369bd7){_0x3f0cdc=_0x3f0cdc-0xa1;let _0x236459=_0x1fe0a0[_0x3f0cdc];return _0x236459;},_0x1f8b(_0x27139c,_0x436a91);}init();var HP_BAR=id(_0xf4acf4(0xe3));function renderHpBars(){const _0x14977f=_0xf4acf4;for(let _0x446d17=0x0;_0x446d17<monsters[_0x14977f(0xbf)];_0x446d17++){if(monsters[_0x446d17][_0x14977f(0xc5)])continue;let _0x207e0d=monsters[_0x446d17]['hp']/monsters[_0x446d17][_0x14977f(0xfb)],_0x1b5346=Math[_0x14977f(0xfe)](TILESIZE*_0x207e0d);c[_0x14977f(0xbe)](HP_BAR,0x0,0x4,_0x1b5346,0x4,monsters[_0x446d17]['x']+monsters[_0x446d17]['w']/0x2-0x10+map['x']|0x0,monsters[_0x446d17]['y']-0x8+map['y']|0x0,_0x1b5346|0x0,0x4|0x0),c[_0x14977f(0xbe)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x446d17]['x']+monsters[_0x446d17]['w']/0x2-0x10+map['x']|0x0,monsters[_0x446d17]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0xa89492=_0xf4acf4;this['width']=0x17,this['height']=0xf,this['x']=0x0,this['y']=0x0,this[_0xa89492(0xea)]=maps['m1'],this[_0xa89492(0xf3)]=id('sheet'),this['grass']=id(_0xa89492(0xe5));}['draw'](){const _0x411740=_0xf4acf4;for(let _0x347e45=0x0;_0x347e45<this[_0x411740(0xea)][_0x411740(0xbf)];_0x347e45++){_0x347e45==0x1&&c[_0x411740(0xbe)](this[_0x411740(0xe5)],0x0+this['x'],0x0+this['y'],CANVAS[_0x411740(0xda)],CANVAS[_0x411740(0x10b)]);for(let _0x29a8ea=0x0;_0x29a8ea<this[_0x411740(0xea)][_0x347e45][_0x411740(0xbf)];_0x29a8ea++){if(this[_0x411740(0xea)][_0x347e45][_0x29a8ea]===0x0)continue;c[_0x411740(0xbe)](this[_0x411740(0xf3)],(this[_0x411740(0xea)][_0x347e45][_0x29a8ea]-0x1)%0xf*TILESIZE,((this[_0x411740(0xea)][_0x347e45][_0x29a8ea]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x29a8ea%this['width']*TILESIZE+map['x'],(_0x29a8ea/this[_0x411740(0xda)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x323058=_0xf4acf4;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x323058(0xac)]=0x2,this[_0x323058(0x116)]=0x0,this[_0x323058(0xe1)]=[0x0],this[_0x323058(0x134)]=[0x0],this[_0x323058(0xf7)]=[0x0,0x0,0x0,0x0],this['vfxY']=[0x0,0x80,0x100,0x180],this[_0x323058(0x133)]=0x0,this[_0x323058(0x10f)]=0x0,this[_0x323058(0x13e)]=0x0,this[_0x323058(0xb8)]=0x3,this[_0x323058(0xd2)]=![],this['sheet']=id(_0x323058(0x130)),this['swordImg']=id(_0x323058(0x12d));}[_0xf4acf4(0xf9)](){const _0x1ace30=_0xf4acf4;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x25ff92,_0x5f305f,_0x12baa9;for(let _0x663478=0x0;_0x663478<monsters[_0x1ace30(0xbf)];_0x663478++){if(monsters[_0x663478]['dead']||!monsters[_0x663478][_0x1ace30(0x12a)])continue;_0x25ff92=monsters[_0x663478]['hitbox']['x']+monsters[_0x663478][_0x1ace30(0x120)]['w']/0x2,_0x5f305f=monsters[_0x663478][_0x1ace30(0x120)]['y']+monsters[_0x663478][_0x1ace30(0x120)]['h']/0x2,_0x12baa9=(monsters[_0x663478]['w']+monsters[_0x663478]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x25ff92,_0x5f305f,_0x12baa9)){let _0x4e3c03=this['x']+this['w']/0x2,_0x53d283=this['y']+this['h']/0x2,_0x400f0c=monsters[_0x663478]['x']-_0x4e3c03,_0x27abf2=monsters[_0x663478]['y']-_0x53d283,_0x3be9b4=Math[_0x1ace30(0xd7)](_0x27abf2,_0x400f0c),_0x2e170e=Math[_0x1ace30(0xc2)](_0x3be9b4),_0x58811f=Math[_0x1ace30(0x151)](_0x3be9b4);monsters[_0x663478]['xVelExt']=_0x2e170e*0xa,monsters[_0x663478][_0x1ace30(0xa6)]=_0x58811f*0xa,monsters[_0x663478]['hp']-=0.25,monsters[_0x663478][_0x1ace30(0xad)]=0xf;}}}[_0xf4acf4(0xce)](){const _0x2fab18=_0xf4acf4;this[_0x2fab18(0x10f)]++,this[_0x2fab18(0x10f)]>this[_0x2fab18(0xb8)]*DTR&&(this[_0x2fab18(0x10f)]=0x0,this[_0x2fab18(0x133)]++,this[_0x2fab18(0x133)]>=this[_0x2fab18(0xf7)][_0x2fab18(0xbf)]&&(this[_0x2fab18(0x133)]=0x0)),c[_0x2fab18(0xbe)](this[_0x2fab18(0xf3)],this[_0x2fab18(0xf7)][this[_0x2fab18(0x133)]],this[_0x2fab18(0x107)][this[_0x2fab18(0x133)]],0x80,0x40,this['x']-0x40-player[_0x2fab18(0x154)]*0x4+map['x'],this['y']-0x40-player[_0x2fab18(0xa6)]*0x4+map['y'],0x80,0x40),c[_0x2fab18(0x122)](),c[_0x2fab18(0x129)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x2fab18(0x13a)](this[_0x2fab18(0x116)]+this['radians']),c[_0x2fab18(0xbe)](this[_0x2fab18(0x13c)],this[_0x2fab18(0xe1)][this[_0x2fab18(0x13e)]],this[_0x2fab18(0x134)][this[_0x2fab18(0x13e)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x2fab18(0x100)](),this[_0x2fab18(0xac)]-=0.5/DTR,this[_0x2fab18(0xac)]<=-0x9&&(this[_0x2fab18(0xd2)]=![],this[_0x2fab18(0xac)]=0x2),c[_0x2fab18(0xbe)](this[_0x2fab18(0xf3)],this[_0x2fab18(0xf7)][this['currentFrame']],this[_0x2fab18(0x107)][this['currentFrame']]+0x40,0x80,0x40,this['x']-0x40-player[_0x2fab18(0x154)]*0x4+map['x'],this['y']-player[_0x2fab18(0xa6)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x4def1b=_0xf4acf4;monsters[_0x4def1b(0xbc)](function(_0x12f0c7,_0x20e54f){const _0x15118a=_0x4def1b;if(_0x12f0c7['dead']&&!_0x20e54f[_0x15118a(0xc5)])return-0x1;else return!_0x12f0c7[_0x15118a(0xc5)]&&_0x20e54f['dead']?0x1:_0x12f0c7['y']+0xf-_0x20e54f['y'];});}function adjustCollidingMonsters(){const _0x459c9c=_0xf4acf4;for(let _0x4d6d20=0x0;_0x4d6d20<monsters[_0x459c9c(0xbf)];_0x4d6d20++){if(monsters[_0x4d6d20][_0x459c9c(0xc5)])continue;monsters[_0x4d6d20]['col']['T']=0x0,monsters[_0x4d6d20][_0x459c9c(0x112)]['B']=0x0,monsters[_0x4d6d20][_0x459c9c(0x112)]['L']=0x0,monsters[_0x4d6d20][_0x459c9c(0x112)]['R']=0x0;for(let _0x3e706c=0x0;_0x3e706c<monsters[_0x459c9c(0xbf)];_0x3e706c++){if(monsters[_0x3e706c][_0x459c9c(0xc5)])continue;if(collided(monsters[_0x4d6d20],monsters[_0x3e706c])){let _0xe3d428=colCheck(monsters[_0x4d6d20],monsters[_0x3e706c]);switch(_0xe3d428){case'l':this[_0x459c9c(0xa2)]<0x0&&(this[_0x459c9c(0xa2)]=0x0);break;case'r':this['xVel']>0x0&&(this[_0x459c9c(0xa2)]=0x0);break;case'b':this[_0x459c9c(0xcb)]>0x0&&(this[_0x459c9c(0xcb)]=0x0);break;case't':this['yVel']<0x0&&(this[_0x459c9c(0xcb)]=0x0);break;}monsters[_0x4d6d20][_0x459c9c(0xa2)]+=(monsters[_0x4d6d20]['col']['L']-monsters[_0x4d6d20][_0x459c9c(0x112)]['R'])/0x5,monsters[_0x4d6d20][_0x459c9c(0xcb)]+=(monsters[_0x4d6d20][_0x459c9c(0x112)]['T']-monsters[_0x4d6d20][_0x459c9c(0x112)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x437d46,_0x55df20){const _0x3cd65b=_0xf4acf4;super(Collidable),this['x']=_0x437d46,this['y']=_0x55df20,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this[_0x3cd65b(0xcb)]=0x0,this[_0x3cd65b(0x154)]=0x0,this[_0x3cd65b(0xa6)]=0x0,this[_0x3cd65b(0x139)]=0x2,this[_0x3cd65b(0x142)]=0x0,this[_0x3cd65b(0xfc)]=![],this['justDamaged']=0x0,this[_0x3cd65b(0xc5)]=![],this[_0x3cd65b(0xc9)]=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x3cd65b(0x10f)]=0x0,this['slowness']=0x4,this[_0x3cd65b(0x133)]=0x0,this['collidable']=!![],this[_0x3cd65b(0xf3)]=id(_0x3cd65b(0xf3)),this['action']=0x0,this[_0x3cd65b(0x112)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x3cd65b(0x120)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x3cd65b(0xe1)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x3cd65b(0x134)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0xf4acf4(0xb6)](){const _0x2e3635=_0xf4acf4;if(this[_0x2e3635(0x13e)]!==0x0){let _0x1d0663=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x475018=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x8bf3e0=_0x1d0663>0x0?-0x1:0x1,_0x3acf14=_0x475018>0x0?-0x1:0x1,_0x43350d;_0x475018!==0x0?_0x43350d=Math[_0x2e3635(0x13f)](_0x1d0663)/(Math[_0x2e3635(0x13f)](_0x475018)+Math['abs'](_0x1d0663)):_0x43350d=0x0;this[_0x2e3635(0xa2)]=this[_0x2e3635(0x139)]*_0x43350d*_0x8bf3e0,this[_0x2e3635(0xcb)]=this[_0x2e3635(0x139)]*(0x1-_0x43350d)*_0x3acf14;if(this['x']+this['w']<player['x'])this[_0x2e3635(0x142)]=![];else player['x']+player['w']<this['x']&&(this[_0x2e3635(0x142)]=!![]);}}[_0xf4acf4(0xf9)](){const _0x251b04=_0xf4acf4;if(!this[_0x251b04(0xc5)]){this['followPlayer']();Math[_0x251b04(0x13f)](this[_0x251b04(0x154)])>0.01?this['xVelExt']*=0.9:this[_0x251b04(0x154)]=0x0;Math[_0x251b04(0x13f)](this[_0x251b04(0xa6)])>0.01?this['yVelExt']*=0.9:this[_0x251b04(0xa6)]=0x0;(this[_0x251b04(0x112)]['T']&&this[_0x251b04(0xcb)]<0x0||this[_0x251b04(0x112)]['B']&&this[_0x251b04(0xcb)]>0x0)&&(this[_0x251b04(0xcb)]=0x0);(this[_0x251b04(0x112)]['L']&&this[_0x251b04(0xa2)]<0x0||this[_0x251b04(0x112)]['R']&&this['xVel']>0x0)&&(this[_0x251b04(0xa2)]=0x0);this['action']!==0x0&&(this['left']?this[_0x251b04(0x13e)]=0x2:this[_0x251b04(0x13e)]=0x1);this[_0x251b04(0xed)](),this['x']+=(this[_0x251b04(0xa2)]+this['xVelExt'])/DTR,this['y']+=(this[_0x251b04(0xcb)]+this[_0x251b04(0xa6)])/DTR;for(let _0x2063f4=0x0;_0x2063f4<this[_0x251b04(0xc9)][_0x251b04(0xbf)];_0x2063f4++){this[_0x251b04(0xc9)][_0x2063f4]['x']=this['x']+this['arrows'][_0x2063f4]['xRel'],this[_0x251b04(0xc9)][_0x2063f4]['y']=this['y']+this['arrows'][_0x2063f4][_0x251b04(0xd4)];}this[_0x251b04(0x120)]['x']=this['x']+0x6,this['hitbox']['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x251b04(0xfc)]=!![]),this['justDied']&&(this[_0x251b04(0xad)]=0x0,this[_0x251b04(0xc5)]=!![],this[_0x251b04(0x13e)]=0x3,this[_0x251b04(0x10f)]=0x0,this[_0x251b04(0x133)]=0x0,this['slowness']=0xa);}}[_0xf4acf4(0xce)](){const _0x2366aa=_0xf4acf4;this[_0x2366aa(0x10f)]++;this[_0x2366aa(0x10f)]>this[_0x2366aa(0xb8)]*DTR&&(this[_0x2366aa(0x10f)]=0x0,this['currentFrame']++,this[_0x2366aa(0x133)]>=this[_0x2366aa(0xe1)][this[_0x2366aa(0x13e)]]['length']&&(this[_0x2366aa(0x13e)]==0x0&&(this[_0x2366aa(0x13e)]=0x1+this[_0x2366aa(0x142)]),this[_0x2366aa(0x133)]=0x0));this[_0x2366aa(0x13e)]==0x3&&(this[_0x2366aa(0x133)]==this['actionX'][this[_0x2366aa(0x13e)]]['length']-0x1&&(this[_0x2366aa(0x10f)]=0x0));if(!this[_0x2366aa(0xc5)])for(let _0x418bf9=0x0;_0x418bf9<this[_0x2366aa(0xc9)][_0x2366aa(0xbf)];_0x418bf9++){this['arrows'][_0x418bf9]['draw']();}this[_0x2366aa(0xad)]>0x0&&(this[_0x2366aa(0x13e)]=0x4,this[_0x2366aa(0x133)]=0x0,this[_0x2366aa(0x14f)]=0x0,this[_0x2366aa(0xad)]-=0x1/DTR),c[_0x2366aa(0xbe)](this[_0x2366aa(0xf3)],this['actionX'][this[_0x2366aa(0x13e)]][this[_0x2366aa(0x133)]]*TILESIZE,this[_0x2366aa(0x134)][this[_0x2366aa(0x13e)]][this[_0x2366aa(0x133)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x4dcabb,_0x58831c){const _0x121603=_0xf4acf4;super(Collidable),this['x']=(_0x4dcabb/TILESIZE|0x0)*TILESIZE,this['y']=(_0x58831c/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x121603(0xa2)]=0x0,this[_0x121603(0xcb)]=0x0,this[_0x121603(0x154)]=0x0,this[_0x121603(0xa6)]=0x0,this[_0x121603(0x139)]=0x2,this[_0x121603(0x142)]=0x0,this[_0x121603(0xfc)]=![],this['justDamaged']=0x0,this[_0x121603(0xc5)]=![],this[_0x121603(0xd6)]=![],this['arrows']=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x121603(0x10f)]=0x0,this[_0x121603(0xb8)]=0x4,this[_0x121603(0x133)]=0x0,this[_0x121603(0xf3)]=id(_0x121603(0xf3)),this[_0x121603(0x13e)]=0x0,this[_0x121603(0x12a)]=!![],this[_0x121603(0xc6)]=[],this[_0x121603(0x112)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x121603(0x120)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0x121603(0x144)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x121603(0xe1)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0x121603(0x134)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this['counter']=0x0;}['followPlayer'](){const _0x1e8cb5=_0xf4acf4;this[_0x1e8cb5(0x144)]['x']=this['x']-0x5*TILESIZE,this[_0x1e8cb5(0x144)]['y']=this['y']-0x5*TILESIZE,this[_0x1e8cb5(0x144)]['w']=0xb*TILESIZE,this[_0x1e8cb5(0x144)]['h']=0xb*TILESIZE;if(collided(this[_0x1e8cb5(0x144)],player)){if(this[_0x1e8cb5(0xd6)]){if(this[_0x1e8cb5(0x133)]==0x0&&this['frameCounter']==0x0){this[_0x1e8cb5(0x11e)]();switch(this['path'][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x1e8cb5(0x13e)]!==0x1&&(this['action']=0x1,this[_0x1e8cb5(0x133)]=0x0,this[_0x1e8cb5(0x10f)]=0x0);}else this[_0x1e8cb5(0xd6)]&&this[_0x1e8cb5(0x13e)]!==0x0&&this[_0x1e8cb5(0x13e)]!==0x2&&(this[_0x1e8cb5(0xd6)]=![],this['collidable']=!![],this[_0x1e8cb5(0x13e)]=0x2,this['currentFrame']=0x0,this[_0x1e8cb5(0x10f)]=0x0);}[_0xf4acf4(0xf9)](){const _0x447b7=_0xf4acf4;this[_0x447b7(0xb6)](),this['hitbox']['x']=this['x']+(this['w']-0xe)/0x2,this[_0x447b7(0x120)]['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x5e8af5=0x0;_0x5e8af5<this['arrows'][_0x447b7(0xbf)];_0x5e8af5++){this[_0x447b7(0xc9)][_0x5e8af5]['x']=this['x']+this[_0x447b7(0xc9)][_0x5e8af5][_0x447b7(0x128)],this[_0x447b7(0xc9)][_0x5e8af5]['y']=this['y']+this[_0x447b7(0xc9)][_0x5e8af5][_0x447b7(0xd4)];}this['hp']<=0x0&&(this['justDied']=!![]),this[_0x447b7(0xfc)]&&(this[_0x447b7(0xad)]=0x0,this[_0x447b7(0xc5)]=!![],this[_0x447b7(0x13e)]=0x3,this[_0x447b7(0x10f)]=0x0,this[_0x447b7(0x133)]=0x0,this[_0x447b7(0xb8)]=0xa);}[_0xf4acf4(0xce)](){const _0x182a7c=_0xf4acf4;this[_0x182a7c(0x10f)]++;this[_0x182a7c(0x13e)]==0x4?this[_0x182a7c(0xb8)]=0x3:this[_0x182a7c(0xb8)]=0x5;if(this[_0x182a7c(0x10f)]>this['slowness']*DTR){this[_0x182a7c(0x10f)]=0x0,this[_0x182a7c(0x133)]++;if(this[_0x182a7c(0x133)]>=this[_0x182a7c(0xe1)][this['action']][_0x182a7c(0xbf)]){if(this[_0x182a7c(0xc5)])this[_0x182a7c(0x133)]=this[_0x182a7c(0xe1)][this[_0x182a7c(0x13e)]][_0x182a7c(0xbf)]-0x1;else{if(this[_0x182a7c(0x13e)]==0x1)this[_0x182a7c(0xd6)]=!![],this['collidable']=![],this[_0x182a7c(0x13e)]=0x4,this['currentFrame']=0x0;else this['action']==0x2?(this['action']=0x0,this['currentFrame']=0x0):this[_0x182a7c(0x133)]=0x0;}}}if(!this['dead']){if(this[_0x182a7c(0x13e)]==0x0)for(let _0x11c1a5=0x0;_0x11c1a5<this[_0x182a7c(0xc9)][_0x182a7c(0xbf)];_0x11c1a5++){this['arrows'][_0x11c1a5][_0x182a7c(0xce)]();}}this[_0x182a7c(0xad)]>0x0&&(this[_0x182a7c(0x13e)]=0x3,this[_0x182a7c(0x133)]=0x0,this[_0x182a7c(0x14f)]=0x0,this[_0x182a7c(0xad)]-=0x1/DTR,this['justDamaged']<=0x0&&(this[_0x182a7c(0x13e)]=0x0)),c[_0x182a7c(0xbe)](this[_0x182a7c(0xf3)],this[_0x182a7c(0xe1)][this[_0x182a7c(0x13e)]][this[_0x182a7c(0x133)]]*TILESIZE,this[_0x182a7c(0x134)][this['action']][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}['createGrid'](){const _0x370a28=_0xf4acf4;let _0x20a903=0xb,_0x59e7c9=[],_0x3e822d=this['x']+this['w']/0x2-TILESIZE*0x5,_0x31efd7=this['y']+this['h']/0x2-TILESIZE*0x5,_0x82ab41;for(let _0x42bcae=0x0;_0x42bcae<_0x20a903;_0x42bcae++){_0x59e7c9[_0x42bcae]=[];for(let _0x4ef448=0x0;_0x4ef448<_0x20a903;_0x4ef448++){_0x82ab41=getTileData(_0x3e822d+_0x42bcae*TILESIZE,_0x31efd7+_0x4ef448*TILESIZE),_0x82ab41===![]?_0x59e7c9[_0x42bcae][_0x4ef448]=_0x370a28(0x155):_0x59e7c9[_0x42bcae][_0x4ef448]=_0x370a28(0xf4);}}_0x59e7c9[0x5][0x5]=_0x370a28(0x10a),_0x59e7c9[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x370a28(0x125),this[_0x370a28(0xc6)]=findShortestPath([0x5,0x5],_0x59e7c9);}}class Flower extends Collidable{constructor(_0x5ce160,_0x23f2ff){const _0x4c6de8=_0xf4acf4;super(Collidable),this['x']=_0x5ce160,this['y']=_0x23f2ff,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x4c6de8(0xa2)]=0x0,this['yVel']=0x0,this[_0x4c6de8(0x154)]=0x0,this[_0x4c6de8(0xa6)]=0x0,this['speed']=0x2,this['left']=0x0,this[_0x4c6de8(0xfc)]=![],this[_0x4c6de8(0xad)]=0x0,this[_0x4c6de8(0xc5)]=![],this['arrows']=[],this[_0x4c6de8(0xfb)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0x4c6de8(0xb8)]=0x8,this['attacking']=![],this['currentFrame']=0x0,this[_0x4c6de8(0xf3)]=id(_0x4c6de8(0xf3)),this['precision']=0x5,this[_0x4c6de8(0x12b)]=0x8,this[_0x4c6de8(0x12a)]=!![],this[_0x4c6de8(0x112)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x4c6de8(0x13e)]=0x0,this[_0x4c6de8(0xe1)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this['actionY']=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this['headX']=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x4c6de8(0xeb)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x4c6de8(0xac)]=0x0,this[_0x4c6de8(0x143)]=![];}['shoot'](){const _0x4a9548=_0xf4acf4;if(!isObstructed(this,player)){this['attacking']=!![];if(this[_0x4a9548(0x133)]==0x2){if(!this[_0x4a9548(0x143)]){let _0x24c3a3=new EnemyProjectile(),_0x5704e3=this['x']+this['w']/0x2,_0x5cbb6f=this['y']+this['h']/0x2,_0x38ee55=player['x']+player['w']/0x2-_0x5704e3+Math[_0x4a9548(0x12e)]()*this[_0x4a9548(0x13d)]-this[_0x4a9548(0x13d)]/0x2,_0x246c02=player['y']+player['h']/0x2-_0x5cbb6f+Math[_0x4a9548(0x12e)]()*this[_0x4a9548(0x13d)]-this[_0x4a9548(0x13d)]/0x2,_0x19626e=Math[_0x4a9548(0xd7)](_0x246c02,_0x38ee55),_0x27f4ec=Math[_0x4a9548(0xc2)](_0x19626e),_0x4b7fb8=Math[_0x4a9548(0x151)](_0x19626e);_0x24c3a3[_0x4a9548(0xa2)]=_0x27f4ec*this[_0x4a9548(0x12b)],_0x24c3a3[_0x4a9548(0xcb)]=_0x4b7fb8*this[_0x4a9548(0x12b)],_0x24c3a3['x']=_0x5704e3,_0x24c3a3['y']=_0x5cbb6f,enemyProjectiles[_0x4a9548(0x140)](_0x24c3a3),this[_0x4a9548(0x143)]=!![];}}else this[_0x4a9548(0x143)]=![];}else this[_0x4a9548(0xd6)]=![];}['compute'](){const _0x571b43=_0xf4acf4;this['shoot'](),this[_0x571b43(0x120)]['x']=this['x']+this['w']/0x3,this[_0x571b43(0x120)]['y']=this['y']+this['h']/0x5,this[_0x571b43(0xac)]=Math[_0x571b43(0xd7)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x1354f5=0x0;_0x1354f5<this[_0x571b43(0xc9)][_0x571b43(0xbf)];_0x1354f5++){this[_0x571b43(0xc9)][_0x1354f5]['x']=this['x']+this['arrows'][_0x1354f5][_0x571b43(0x128)],this[_0x571b43(0xc9)][_0x1354f5]['y']=this['y']+this[_0x571b43(0xc9)][_0x1354f5][_0x571b43(0xd4)];}this['hp']<=0x0&&(this[_0x571b43(0xfc)]=!![]),this[_0x571b43(0xfc)]&&(this[_0x571b43(0xad)]=0x0,this[_0x571b43(0xc5)]=!![],this['action']=0x2,this[_0x571b43(0x10f)]=0x0,this['currentFrame']=0x0,this[_0x571b43(0xb8)]=0xa);}[_0xf4acf4(0xce)](){const _0x35a566=_0xf4acf4;this[_0x35a566(0x10f)]++;this[_0x35a566(0x10f)]>this[_0x35a566(0xb8)]*DTR&&(this[_0x35a566(0x10f)]=0x0,this[_0x35a566(0x133)]++,this[_0x35a566(0x133)]>=this['actionX'][this['action']]['length']&&(this[_0x35a566(0xc5)]?this[_0x35a566(0x133)]=this[_0x35a566(0xe1)][this[_0x35a566(0x13e)]]['length']-0x1:this[_0x35a566(0x133)]=0x0));if(!this['dead']){this[_0x35a566(0xd6)]?this[_0x35a566(0x13e)]=0x1:this[_0x35a566(0x13e)]=0x0;for(let _0xeafa7a=0x0;_0xeafa7a<this[_0x35a566(0xc9)][_0x35a566(0xbf)];_0xeafa7a++){this[_0x35a566(0xc9)][_0xeafa7a]['draw']();}}this[_0x35a566(0xd6)]?this['slowness']=0x4:this[_0x35a566(0xb8)]=0x8,this[_0x35a566(0xad)]&&(this[_0x35a566(0x13e)]=0x2,this[_0x35a566(0x133)]=0x0,this[_0x35a566(0x14f)]=0x0,this[_0x35a566(0xad)]--),c['drawImage'](this[_0x35a566(0xf3)],this[_0x35a566(0xe1)][this[_0x35a566(0x13e)]][this['currentFrame']]*TILESIZE,this['actionY'][this['action']][this[_0x35a566(0x133)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0x35a566(0x13e)]==0x0||this[_0x35a566(0x13e)]==0x1)&&(c[_0x35a566(0x122)](),c[_0x35a566(0x129)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x35a566(0x13a)](this[_0x35a566(0xac)]),c[_0x35a566(0xbe)](this[_0x35a566(0xf3)],this['headX'][this[_0x35a566(0x13e)]][this[_0x35a566(0x133)]]*TILESIZE,this[_0x35a566(0xeb)][this[_0x35a566(0x13e)]][this[_0x35a566(0x133)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x35a566(0x100)]());}}function getTileData(_0x25f250,_0x39c401){const _0x3c6b9e=_0xf4acf4;let _0x416497=(_0x25f250/TILESIZE|0x0)+(_0x39c401/TILESIZE|0x0)*map[_0x3c6b9e(0xda)];for(let _0x229382=0x0;_0x229382<map['tiles'][_0x3c6b9e(0xbf)];_0x229382++){for(let _0x19cf26=0x0;_0x19cf26<TilesData[_0x3c6b9e(0xbf)];_0x19cf26++){if(TilesData[_0x19cf26]['id']==map['tiles'][_0x229382][_0x416497]-0x1)return TilesData[_0x19cf26];}}return![];}window[_0xf4acf4(0xe7)]=function(){const _0x485417=_0xf4acf4;player[_0x485417(0x138)]!==0x0?player[_0x485417(0x123)]():player[_0x485417(0xf8)]=0xa;},window[_0xf4acf4(0xca)]=function(_0x11f644){const _0x40acff=_0xf4acf4;_0x11f644[_0x40acff(0xe9)](),player['attack']();},document['addEventListener'](_0xf4acf4(0x141),function(_0x5acff5){const _0x2b2875=_0xf4acf4;switch(_0x5acff5[_0x2b2875(0x156)]){case 0x0:userInterface['lClick']=!![];break;case 0x2:userInterface[_0x2b2875(0xdc)]=!![];break;}}),document['addEventListener']('mouseup',function(_0x386405){const _0x5bf3d6=_0xf4acf4;switch(_0x386405[_0x5bf3d6(0x156)]){case 0x0:userInterface[_0x5bf3d6(0xbd)]=![];break;case 0x2:userInterface[_0x5bf3d6(0xdc)]=![];break;}});var stats=id(_0xf4acf4(0xa1));function drawStats(){const _0x1a40a9=_0xf4acf4;stats[_0x1a40a9(0x11c)]=_0x1a40a9(0xf0)+player['x'],stats[_0x1a40a9(0x11c)]+=_0x1a40a9(0x147)+player['y'],stats[_0x1a40a9(0x11c)]+=_0x1a40a9(0xb9)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x1a40a9(0x11c)]+=_0x1a40a9(0xc1)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x1a40a9(0x11c)]+='<br>mouseTile\x20pos\x20=\x20'+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x1a40a9(0xda)]),stats[_0x1a40a9(0x11c)]+=_0x1a40a9(0x109)+map[_0x1a40a9(0xea)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x1a40a9(0xda)]],map[_0x1a40a9(0xea)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x1a40a9(0xda)]],DEBUG&&(c['rect']((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x1a40a9(0xaf)]());}window[_0xf4acf4(0x115)]('keydown',function(_0x5ec050){const _0x2ab2c9=_0xf4acf4;switch(_0x5ec050[_0x2ab2c9(0x108)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0x2ab2c9(0x140)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x2ab2c9(0x105)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x27bcbd=0x0;_0x27bcbd<0x32;_0x27bcbd++){player[_0x2ab2c9(0x123)](),player['arrowCounter']=player['arrowCD']*DTR,player[_0x2ab2c9(0xb7)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0xf4acf4(0x115)]('keyup',function(_0x2436e7){switch(_0x2436e7['keyCode']){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0xf4acf4(0x115)](_0xf4acf4(0x11b),function(_0x1c0661){const _0x2be4be=_0xf4acf4;mousePP['x']=_0x1c0661[_0x2be4be(0x106)]-CANVAS[_0x2be4be(0x136)],mousePP['y']=_0x1c0661['clientY']-CANVAS[_0x2be4be(0xb5)];});function moveCamera(){const _0x268aa7=_0xf4acf4;map['x']=-player['x']/0x3+CANVAS[_0x268aa7(0xda)]/0x6,map['y']=-player['y']/0x3+CANVAS[_0x268aa7(0x10b)]/0x6,screenShake[_0x268aa7(0xcf)]&&(screenShake['counter']--,screenShake['set'](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x25cb59=_0xf4acf4;c['lineWidth']=0x2,c['strokeStyle']=sampleArrow[_0x25cb59(0x10d)][0x0],c[_0x25cb59(0xbb)]();for(let _0x56bf46=playerArrows[_0x25cb59(0xbf)]-0x1;_0x56bf46>=0x0;_0x56bf46--){if(!playerArrows[_0x56bf46]['active']||playerArrows[_0x56bf46][_0x25cb59(0x14c)]!=0x1)continue;playerArrows[_0x56bf46][_0x25cb59(0xd8)]&&playerArrows[_0x56bf46]['compute']();if(playerArrows[_0x56bf46]!==undefined)playerArrows[_0x56bf46]['draw']();}c[_0x25cb59(0x111)](),c[_0x25cb59(0xaf)](),c[_0x25cb59(0xcd)]=sampleArrow[_0x25cb59(0x10d)][0x1],c['beginPath']();for(let _0x1919d8=playerArrows[_0x25cb59(0xbf)]-0x1;_0x1919d8>=0x0;_0x1919d8--){if(!playerArrows[_0x1919d8][_0x25cb59(0xd2)]||playerArrows[_0x1919d8][_0x25cb59(0x14c)]!=0x2)continue;playerArrows[_0x1919d8][_0x25cb59(0xd8)]&&playerArrows[_0x1919d8][_0x25cb59(0xf9)]();if(playerArrows[_0x1919d8]!==undefined)playerArrows[_0x1919d8][_0x25cb59(0xce)]();}c['closePath'](),c[_0x25cb59(0xaf)]();}function loop(){const _0x1fc2fa=_0xf4acf4;fps++,c[_0x1fc2fa(0x119)](0x0,0x0,CANVAS[_0x1fc2fa(0xda)],CANVAS[_0x1fc2fa(0x10b)]),moveCamera(),map[_0x1fc2fa(0xce)](),player['compute']();for(let _0x3d9d2b=enemyProjectiles[_0x1fc2fa(0xbf)]-0x1;_0x3d9d2b>=0x0;_0x3d9d2b--){enemyProjectiles[_0x3d9d2b][_0x1fc2fa(0xf9)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x2a0978=0x0;_0x2a0978<monsters['length'];_0x2a0978++){!monsters[_0x2a0978]['dead']&&monsters[_0x2a0978]['compute'](),monsters[_0x2a0978]['draw']();}player[_0x1fc2fa(0xce)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x1c070a=enemyProjectiles[_0x1fc2fa(0xbf)]-0x1;_0x1c070a>=0x0;_0x1c070a--){enemyProjectiles[_0x1c070a]['draw']();}sword[_0x1fc2fa(0xd2)]&&(sword[_0x1fc2fa(0xf9)](),sword[_0x1fc2fa(0xce)]());for(let _0x482ea9=visualFxs[_0x1fc2fa(0xbf)]-0x1;_0x482ea9>=0x0;_0x482ea9--){!visualFxs[_0x482ea9][_0x1fc2fa(0xab)]&&visualFxs[_0x482ea9][_0x1fc2fa(0xce)]();}userInterface[_0x1fc2fa(0xce)](),drawStats();}var lastUpdate=Date[_0xf4acf4(0xc0)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){var _0x5c0694=Date['now'](),_0x2eac8a=_0x5c0694-lastUpdate;lastUpdate=_0x5c0694,DTR=0x3e8/0x3c/_0x2eac8a,!gamePaused&&loop();}