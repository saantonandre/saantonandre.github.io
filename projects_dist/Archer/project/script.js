'strict';const _0x4833b6=_0x3728;(function(_0x2e3f45,_0x5d8dbc){const _0x3779c2=_0x3728,_0x45f6a7=_0x2e3f45();while(!![]){try{const _0x3beb5d=parseInt(_0x3779c2(0x147))/0x1*(-parseInt(_0x3779c2(0x151))/0x2)+-parseInt(_0x3779c2(0x143))/0x3+-parseInt(_0x3779c2(0x1c4))/0x4+parseInt(_0x3779c2(0x1d4))/0x5*(-parseInt(_0x3779c2(0x153))/0x6)+-parseInt(_0x3779c2(0x181))/0x7*(parseInt(_0x3779c2(0x1b0))/0x8)+-parseInt(_0x3779c2(0x170))/0x9+parseInt(_0x3779c2(0x172))/0xa;if(_0x3beb5d===_0x5d8dbc)break;else _0x45f6a7['push'](_0x45f6a7['shift']());}catch(_0x2b3cf6){_0x45f6a7['push'](_0x45f6a7['shift']());}}}(_0x2fc2,0xcae6e));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0x4833b6(0x193)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS['getContext']('2d');CANVAS['width']=0x2e0,CANVAS[_0x4833b6(0x1bd)]=0x1e0,CANVAS[_0x4833b6(0x1c6)][_0x4833b6(0x1d6)]=(window[_0x4833b6(0x155)]-CANVAS[_0x4833b6(0x13f)])/0x2+'px',CANVAS[_0x4833b6(0x1c6)][_0x4833b6(0x1d7)]=(window[_0x4833b6(0x13e)]-CANVAS[_0x4833b6(0x1bd)])/0x2+'px',c[_0x4833b6(0x19b)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x2d8733){const _0x31b958=(function(){let _0x46c6f=!![];return function(_0x4fd131,_0x3e33e5){const _0x4bfa4a=_0x46c6f?function(){if(_0x3e33e5){const _0x3baa63=_0x3e33e5['apply'](_0x4fd131,arguments);return _0x3e33e5=null,_0x3baa63;}}:function(){};return _0x46c6f=![],_0x4bfa4a;};}()),_0x150088=_0x31b958(this,function(){const _0x4a66db=_0x3728,_0xf6e21c=function(){const _0x3beb8e=_0x3728;let _0x41736b;try{_0x41736b=Function(_0x3beb8e(0x1d1)+_0x3beb8e(0x195)+');')();}catch(_0x26318a){_0x41736b=window;}return _0x41736b;},_0x505704=_0xf6e21c(),_0x22248e=new RegExp(_0x4a66db(0x1c2),'g'),_0x51dbb9=_0x4a66db(0x1c7)[_0x4a66db(0x167)](_0x22248e,'')[_0x4a66db(0x171)](';');let _0x3199c6,_0x260ee4,_0xf10bff,_0x150572;const _0x334f89=function(_0x5e9fc7,_0x460834,_0x13f9d8){const _0x12c1bd=_0x4a66db;if(_0x5e9fc7[_0x12c1bd(0x15b)]!=_0x460834)return![];for(let _0x4df20f=0x0;_0x4df20f<_0x460834;_0x4df20f++){for(let _0x4c94dc=0x0;_0x4c94dc<_0x13f9d8[_0x12c1bd(0x15b)];_0x4c94dc+=0x2){if(_0x4df20f==_0x13f9d8[_0x4c94dc]&&_0x5e9fc7[_0x12c1bd(0x163)](_0x4df20f)!=_0x13f9d8[_0x4c94dc+0x1])return![];}}return!![];},_0x41a758=function(_0x81302b,_0x2158ba,_0x2857aa){return _0x334f89(_0x2158ba,_0x2857aa,_0x81302b);},_0x35c146=function(_0x2bf9c6,_0x285f2a,_0x328749){return _0x41a758(_0x285f2a,_0x2bf9c6,_0x328749);},_0x38d705=function(_0x55546c,_0x16ee26,_0x1dc8de){return _0x35c146(_0x16ee26,_0x1dc8de,_0x55546c);};for(let _0x21d5d2 in _0x505704){if(_0x334f89(_0x21d5d2,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3199c6=_0x21d5d2;break;}}for(let _0x2d3090 in _0x505704[_0x3199c6]){if(_0x38d705(0x6,_0x2d3090,[0x5,0x6e,0x0,0x64])){_0x260ee4=_0x2d3090;break;}}for(let _0x2330be in _0x505704[_0x3199c6]){if(_0x35c146(_0x2330be,[0x7,0x6e,0x0,0x6c],0x8)){_0xf10bff=_0x2330be;break;}}if(!('~'>_0x260ee4))for(let _0x3e1401 in _0x505704[_0x3199c6][_0xf10bff]){if(_0x41a758([0x7,0x65,0x0,0x68],_0x3e1401,0x8)){_0x150572=_0x3e1401;break;}}if(!_0x3199c6||!_0x505704[_0x3199c6])return;const _0x4e34e2=_0x505704[_0x3199c6][_0x260ee4],_0x24dcf8=!!_0x505704[_0x3199c6][_0xf10bff]&&_0x505704[_0x3199c6][_0xf10bff][_0x150572],_0x1a234c=_0x4e34e2||_0x24dcf8;if(!_0x1a234c)return;let _0x5e88ee=![];for(let _0x5c47b2=0x0;_0x5c47b2<_0x51dbb9[_0x4a66db(0x15b)];_0x5c47b2++){const _0x14b966=_0x51dbb9[_0x5c47b2],_0x500086=_0x14b966[0x0]===String[_0x4a66db(0x12d)](0x2e)?_0x14b966['slice'](0x1):_0x14b966,_0x13064e=_0x1a234c[_0x4a66db(0x15b)]-_0x500086[_0x4a66db(0x15b)],_0x511b01=_0x1a234c[_0x4a66db(0x19d)](_0x500086,_0x13064e),_0xbd9e45=_0x511b01!==-0x1&&_0x511b01===_0x13064e;_0xbd9e45&&((_0x1a234c[_0x4a66db(0x15b)]==_0x14b966['length']||_0x14b966[_0x4a66db(0x19d)]('.')===0x0)&&(_0x5e88ee=!![]));}if(!_0x5e88ee){const _0x42ff9a=new RegExp('[XvWqEMxhChisCiKFNxWXEAOpd]','g'),_0x3006f4=_0x4a66db(0x174)['replace'](_0x42ff9a,'');_0x505704[_0x3199c6][_0xf10bff]=_0x3006f4;}});return _0x150088(),document['getElementById'](_0x2d8733);}var fpsDiv=id(_0x4833b6(0x1a4));setInterval(function(){const _0x442266=_0x4833b6;fpsDiv[_0x442266(0x1b6)]=_0x442266(0x1c3)+fps,fpsDiv[_0x442266(0x1b6)]+=_0x442266(0x1a5)+DTR[_0x442266(0x1d5)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){this['x']=Math['random']()*0x8-0x4|0x0,this['y']=Math['random']()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x28b227=_0x4833b6;this['x']=0x0,this['y']=0x0,this[_0x28b227(0x1b4)]=0x0,this[_0x28b227(0x124)]=0x0,this[_0x28b227(0x17f)]=0x0,this['yRel']=0x0,this[_0x28b227(0x1a2)]=!![],this[_0x28b227(0x19a)]=!![],this[_0x28b227(0x145)]=!![],this['lengthX']=0x0,this[_0x28b227(0x1b8)]=0x0,this[_0x28b227(0x1ca)]=0x1,this['color']=0x0,this[_0x28b227(0x13c)]=['#8b5851',_0x28b227(0x154)],this[_0x28b227(0x16f)]={'x':0x0,'y':0x0};}[_0x4833b6(0x1a9)](){const _0xb77c0f=_0x4833b6;Math[_0xb77c0f(0x128)](this[_0xb77c0f(0x124)]*0x3)>Math[_0xb77c0f(0x128)](this[_0xb77c0f(0x1c0)])&&(this[_0xb77c0f(0x1c0)]=this[_0xb77c0f(0x124)]*0x3,this[_0xb77c0f(0x1b8)]=this['yVel']*0x3),this[_0xb77c0f(0x16f)]['x']=this['x']+this[_0xb77c0f(0x1c0)],this[_0xb77c0f(0x16f)]['y']=this['y']+this[_0xb77c0f(0x1b8)],c[_0xb77c0f(0x1ad)](this['x']+map['x'],this['y']+map['y']),c[_0xb77c0f(0x199)](this['x']+this[_0xb77c0f(0x1c0)]+map['x'],this['y']+this[_0xb77c0f(0x1b8)]+map['y']);}[_0x4833b6(0x19c)](){const _0x585cda=_0x4833b6;this['x']+=this[_0x585cda(0x124)]/DTR,this['y']+=this[_0x585cda(0x1b4)]/DTR;if(getTileData(this['x'],this['y'])['solid'])visualFxs[_0x585cda(0x1bc)](new Explosion(this['x']+this[_0x585cda(0x124)],this['y']+this[_0x585cda(0x1b4)],this['color'])),this[_0x585cda(0x149)]==0x2&&(screenShake[_0x585cda(0x129)]=0x5),this['xVel']=0x0,this['yVel']=0x0,this[_0x585cda(0x1c0)]/=0x2,this[_0x585cda(0x1b8)]/=0x2,this[_0x585cda(0x19a)]=![];else for(let _0x210631=monsters[_0x585cda(0x15b)]-0x1;_0x210631>=0x0;_0x210631--){let _0xde4d96=monsters[_0x210631];!_0xde4d96[_0x585cda(0x132)]&&_0xde4d96[_0x585cda(0x176)]&&((pointSquareCol(this,_0xde4d96)||pointSquareCol(this[_0x585cda(0x16f)],_0xde4d96))&&(this[_0x585cda(0x1a2)]=![],_0xde4d96[_0x585cda(0x1cc)]=this[_0x585cda(0x124)]/0x2,_0xde4d96[_0x585cda(0x1be)]=this['yVel']/0x2,visualFxs['push'](new Explosion(this['x'],this['y'],this['color'])),this[_0x585cda(0x149)]==0x2&&(screenShake['counter']=0x5),this['xVel']=0x0,this[_0x585cda(0x1b4)]=0x0,this[_0x585cda(0x17f)]=this['x']-_0xde4d96['x'],this[_0x585cda(0x1bf)]=this['y']-_0xde4d96['y'],_0xde4d96[_0x585cda(0x14e)][_0x585cda(0x1bc)](this),_0xde4d96['hp']-=this[_0x585cda(0x1ca)],_0xde4d96[_0x585cda(0x1b3)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x1b83ad=_0x4833b6;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x1b83ad(0x1b4)]=0x0,this['xVel']=0x0,this['free']=!![],this[_0x1b83ad(0x145)]=![],this[_0x1b83ad(0x14d)]=id(_0x1b83ad(0x14d)),this['actionX']=[0x5],this[_0x1b83ad(0x1ce)]=[0x18],this[_0x1b83ad(0x175)]=0x0,this[_0x1b83ad(0x1ca)]=0x5;}[_0x4833b6(0x19c)](){const _0x118504=_0x4833b6;this['x']+=this[_0x118504(0x124)]/DTR,this['y']+=this[_0x118504(0x1b4)]/DTR,getTileData(this['x'],this['y'])[_0x118504(0x17c)]?(enemyProjectiles[_0x118504(0x189)](enemyProjectiles[_0x118504(0x19d)](this),0x1),visualFxs['push'](new Explosion(this['x']+this[_0x118504(0x124)],this['y']+this['yVel'],0x1)),this[_0x118504(0x124)]=0x0,this[_0x118504(0x1b4)]=0x0,this[_0x118504(0x1c0)]/=0x2,this[_0x118504(0x1b8)]/=0x2,this[_0x118504(0x19a)]=![]):pointSquareCol(this,player)&&(enemyProjectiles['splice'](enemyProjectiles[_0x118504(0x19d)](this),0x1),player[_0x118504(0x1cc)]+=this[_0x118504(0x124)]/0x2,player['yVelExt']+=this['yVel']/0x2,player['hp']-=this[_0x118504(0x1ca)],visualFxs[_0x118504(0x1bc)](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x118504(0x129)]=0x5);}[_0x4833b6(0x1a9)](){const _0x14cfec=_0x4833b6;c[_0x14cfec(0x1c9)](this[_0x14cfec(0x14d)],this[_0x14cfec(0x179)][this[_0x14cfec(0x175)]]*TILESIZE,this[_0x14cfec(0x1ce)][this[_0x14cfec(0x175)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x5e626e,_0x5737d0,_0x1cec19){const _0x2dc27f=_0x4833b6;this[_0x2dc27f(0x14d)]=id(_0x2dc27f(0x14d)),this['x']=_0x5e626e-0x10,this['y']=_0x5737d0-0x10,this['w']=0x20,this['h']=0x20,this['frameCounter']=0x0,this[_0x2dc27f(0x1b2)]=0x0,this[_0x2dc27f(0x198)]=_0x1cec19-0x1,this[_0x2dc27f(0x179)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x2dc27f(0x1ce)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this['slowness']=0x4,this[_0x2dc27f(0x14f)]=![];}[_0x4833b6(0x1a9)](){const _0x4cacab=_0x4833b6;c['drawImage'](this[_0x4cacab(0x14d)],this[_0x4cacab(0x179)][this[_0x4cacab(0x198)]][this[_0x4cacab(0x1b2)]],this[_0x4cacab(0x1ce)][this[_0x4cacab(0x198)]][this[_0x4cacab(0x1b2)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this[_0x4cacab(0x138)]++,this[_0x4cacab(0x138)]>this[_0x4cacab(0x1c1)]*DTR&&(this[_0x4cacab(0x138)]=0x0,this[_0x4cacab(0x1b2)]++,this[_0x4cacab(0x1b2)]>this[_0x4cacab(0x179)][this['action']]['length']-0x1&&(this[_0x4cacab(0x14f)]=!![]));}}class Collidable{constructor(){}[_0x4833b6(0x19f)](){const _0x15080d=_0x4833b6;let _0x311cd4;this[_0x15080d(0x14c)]['T']=0x0,this['col']['B']=0x0,this[_0x15080d(0x14c)]['L']=0x0,this[_0x15080d(0x14c)]['R']=0x0,getTileData(this['x'],this['y'])[_0x15080d(0x1c5)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x311cd4=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x15080d(0x14c)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this['col']['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x15080d(0x1c5)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x311cd4=colCheck(this,generatedSquare),this['x']+=(this[_0x15080d(0x14c)]['L']-this[_0x15080d(0x14c)]['R'])/0x5/DTR,this['y']+=(this[_0x15080d(0x14c)]['T']-this[_0x15080d(0x14c)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x15080d(0x1c5)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x311cd4=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x15080d(0x14c)]['R'])/0x5/DTR,this['y']+=(this[_0x15080d(0x14c)]['T']-this[_0x15080d(0x14c)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x15080d(0x1c5)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x311cd4=colCheck(this,generatedSquare),this['x']+=(this[_0x15080d(0x14c)]['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0x15080d(0x14c)]['T']-this[_0x15080d(0x14c)]['B'])/0x5/DTR),this[_0x15080d(0x14c)]['B']&&(this[_0x15080d(0x1be)]>0x0&&(this['yVelExt']*=-0.5)),this[_0x15080d(0x14c)]['T']&&(this[_0x15080d(0x1be)]<0x0&&(this[_0x15080d(0x1be)]*=-0.5)),this['col']['R']&&(this[_0x15080d(0x1cc)]>0x0&&(this['xVelExt']*=-0.5)),this[_0x15080d(0x14c)]['L']&&(this[_0x15080d(0x1cc)]<0x0&&(this[_0x15080d(0x1cc)]*=-0.5));}}class Player extends Collidable{constructor(_0x4d1604,_0x171d32){const _0x1df186=_0x4833b6;super(Collidable),this['x']=_0x4d1604,this['y']=_0x171d32,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x1df186(0x16b)]=0x3,this[_0x1df186(0x1b4)]=0x0,this[_0x1df186(0x124)]=0x0,this['yVelExt']=0x0,this[_0x1df186(0x1cc)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x1df186(0x13b)]=0xa,this[_0x1df186(0x173)]=0x0,this['centerY']=0x0,this[_0x1df186(0x14c)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['actionX']=[0x0,0x20,0x40],this[_0x1df186(0x1ce)]=[0x0,0x0,0x0],this[_0x1df186(0x198)]=0x0,this['frameCounter']=0x0,this[_0x1df186(0x1c1)]=0x6,this[_0x1df186(0x126)]=0x0,this[_0x1df186(0x186)]=![],this[_0x1df186(0x12f)]=0x14,this[_0x1df186(0x1af)]=0x0,this[_0x1df186(0x15e)]=0x0,this[_0x1df186(0x1ac)]=[0x1,0x1,0x1,0x1,0x1],this[_0x1df186(0x17a)]=0x3c,this['arrowCounter']=0x0,this[_0x1df186(0x156)]=0x4,this['hp']=0x64,this[_0x1df186(0x1b9)]=0x64,this['mp']=0x64,this[_0x1df186(0x161)]=0x64,this[_0x1df186(0x192)]=0.25,this[_0x1df186(0x1d0)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}['computeQuiver'](){const _0x30d303=_0x4833b6;let _0x3a1ef5=!![],_0xdaa722;for(_0xdaa722=0x0;_0xdaa722<this[_0x30d303(0x1ac)][_0x30d303(0x15b)];_0xdaa722++){if(this[_0x30d303(0x1ac)][_0xdaa722]===0x0){_0x3a1ef5=![];break;}}this[_0x30d303(0x156)]=_0xdaa722;if(!_0x3a1ef5){this[_0x30d303(0x131)]++;if(this[_0x30d303(0x131)]>this[_0x30d303(0x17a)]*DTR)for(_0xdaa722=0x0;_0xdaa722<this['arrowsArr'][_0x30d303(0x15b)];_0xdaa722++){if(this[_0x30d303(0x1ac)][_0xdaa722]===0x0){Math['random']()<this['critChance']?this['arrowsArr'][_0xdaa722]=0x2:this[_0x30d303(0x1ac)][_0xdaa722]=0x1;this['arrowCounter']=0x0;break;}}}else this['arrowCounter']=0x0;}[_0x4833b6(0x19c)](){const _0x334807=_0x4833b6;this[_0x334807(0x125)](),this['centerX']=this['x']+this['w']/0x2,this[_0x334807(0x16a)]=this['y']+this['h']/0x2,this[_0x334807(0x19f)]();Math['abs'](this[_0x334807(0x1cc)])>0.01?this['xVelExt']-=this[_0x334807(0x1cc)]*0.1/DTR:this[_0x334807(0x1cc)]=0x0;Math[_0x334807(0x128)](this[_0x334807(0x1be)])>0.01?this[_0x334807(0x1be)]-=this[_0x334807(0x1be)]*0.1/DTR:this['yVelExt']=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x334807(0x16b)]=0x2:this[_0x334807(0x16b)]=0x3;this[_0x334807(0x126)]=Math[_0x334807(0x159)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x334807(0x124)]=-this[_0x334807(0x16b)];else!this['R']&&(this[_0x334807(0x124)]=0x0);if(this['R'])this[_0x334807(0x124)]=this[_0x334807(0x16b)];else!this['L']&&(this['xVel']=0x0);if(this['T'])this['yVel']=-this[_0x334807(0x16b)];else!this['B']&&(this[_0x334807(0x1b4)]=0x0);if(this['B'])this['yVel']=this['speed'];else!this['T']&&(this[_0x334807(0x1b4)]=0x0);this['x']+=(this[_0x334807(0x124)]+this[_0x334807(0x1cc)])/DTR,this['y']+=(this[_0x334807(0x1b4)]+this['yVelExt'])/DTR;}[_0x4833b6(0x1a9)](){const _0x5e8610=_0x4833b6;this[_0x5e8610(0x124)]===0x0&&this['yVel']===0x0?this[_0x5e8610(0x198)]=0x0:(this['frameCounter']++,this[_0x5e8610(0x138)]>=this[_0x5e8610(0x1c1)]*DTR&&(this[_0x5e8610(0x198)]++,this[_0x5e8610(0x138)]=0x0,this[_0x5e8610(0x198)]>=this['actionX'][_0x5e8610(0x15b)]&&(this[_0x5e8610(0x198)]=0x0))),c['save'](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x5e8610(0x139)](this[_0x5e8610(0x126)]),c[_0x5e8610(0x1c9)](id('player'),this['actionX'][this[_0x5e8610(0x198)]],this[_0x5e8610(0x1ce)][this['action']],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x5e8610(0x17d)](),this[_0x5e8610(0x1af)]&&(c['drawImage'](id(_0x5e8610(0x14d)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x5e8610(0x1af)]--),this[_0x5e8610(0x1d0)][_0x5e8610(0x1a2)]&&this[_0x5e8610(0x15a)]();}[_0x4833b6(0x15a)](){const _0x17dd98=_0x4833b6;this[_0x17dd98(0x1d0)]['frameCounter']++,this[_0x17dd98(0x1d0)][_0x17dd98(0x138)]>=this[_0x17dd98(0x1d0)][_0x17dd98(0x1c1)]*DTR&&(this['bow']['action']++,this[_0x17dd98(0x1d0)][_0x17dd98(0x138)]=0x0,this['bow'][_0x17dd98(0x1a2)]>=this[_0x17dd98(0x1d0)]['actionX'][_0x17dd98(0x15b)]&&(this[_0x17dd98(0x1d0)][_0x17dd98(0x1a2)]=![])),c[_0x17dd98(0x1b5)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x17dd98(0x139)](this[_0x17dd98(0x126)]),c[_0x17dd98(0x1c9)](id(_0x17dd98(0x1d0)),this['bow']['actionX'][this[_0x17dd98(0x1d0)][_0x17dd98(0x198)]],this['bow'][_0x17dd98(0x1ce)][this[_0x17dd98(0x1d0)][_0x17dd98(0x198)]],0x30,0x30,-this[_0x17dd98(0x1d0)]['w']/0x2,-this[_0x17dd98(0x1d0)]['h'],this['bow']['w'],this[_0x17dd98(0x1d0)]['h']),c[_0x17dd98(0x17d)]();}[_0x4833b6(0x16d)](){const _0x96c66=_0x4833b6;this[_0x96c66(0x1d0)][_0x96c66(0x1a2)]=!![],this[_0x96c66(0x1d0)]['frameCounter']=0x0,this[_0x96c66(0x1d0)][_0x96c66(0x1b2)]=0x0,this[_0x96c66(0x1d0)][_0x96c66(0x198)]=0x0;let _0xf4b6e3=this['x']+this['w']/0x2,_0x1f2c15=this['y']+this['h']/0x2,_0x34e7c6=Mouse['x']-_0xf4b6e3+Math['random']()*this[_0x96c66(0x12f)]-this[_0x96c66(0x12f)]/0x2,_0x4269da=Mouse['y']-_0x1f2c15+Math[_0x96c66(0x12c)]()*this[_0x96c66(0x12f)]-this['precision']/0x2,_0x472396=Math[_0x96c66(0x159)](_0x4269da,_0x34e7c6),_0x23d0bd=Math[_0x96c66(0x135)](_0x472396),_0x416ff8=Math['sin'](_0x472396),_0xfb9a9e=new Projectile();_0xfb9a9e['xVel']=_0x23d0bd*this[_0x96c66(0x13b)],_0xfb9a9e[_0x96c66(0x1b4)]=_0x416ff8*this[_0x96c66(0x13b)],_0xfb9a9e['x']=_0xf4b6e3,_0xfb9a9e['y']=_0x1f2c15,_0xfb9a9e[_0x96c66(0x149)]=this[_0x96c66(0x1ac)][0x0],playerArrows['push'](_0xfb9a9e),this[_0x96c66(0x1ac)][_0x96c66(0x12e)](),this[_0x96c66(0x1ac)][_0x96c66(0x1bc)](0x0);}[_0x4833b6(0x14b)](){const _0x41a12f=_0x4833b6;if(!sword[_0x41a12f(0x1a2)]){sword[_0x41a12f(0x1a2)]=!![],sword['radiansP']=this[_0x41a12f(0x126)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x379b89=this['x']+this['w']/0x2,_0x57ab7b=this['y']+this['h']/0x2,_0x1d3d69=returnCosine(Mouse['x'],Mouse['y'],_0x379b89,_0x57ab7b);this[_0x41a12f(0x1cc)]=_0x1d3d69[_0x41a12f(0x135)]*0xe,this[_0x41a12f(0x1be)]=_0x1d3d69[_0x41a12f(0x18b)]*0xe;}}}}var player=new Player(CANVAS[_0x4833b6(0x13f)]/0x2,CANVAS[_0x4833b6(0x1bd)]/0x4*0x3);class UserInterface{constructor(){const _0x19fb39=_0x4833b6;this[_0x19fb39(0x14d)]=id(_0x19fb39(0x182)),this['x']=0x14,this['y']=0x5,this['lClick']=![],this[_0x19fb39(0x160)]=![],this['attacked']=0x0,this[_0x19fb39(0x162)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this['portrait']={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0x19fb39(0x1a6)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this['mpBar']={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x19fb39(0x1d0)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this['sword']={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x19fb39(0x1ae)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this['arrowsArr']=[0x1,0x1,0x1,0x1];}[_0x4833b6(0x1a9)](){const _0x284e78=_0x4833b6;this[_0x284e78(0x18e)]&&(c[_0x284e78(0x16c)]=0.5);c[_0x284e78(0x1c9)](this[_0x284e78(0x14d)],this[_0x284e78(0x1d0)][_0x284e78(0x137)]['x'],this[_0x284e78(0x1d0)][_0x284e78(0x137)]['y'],this[_0x284e78(0x1d0)][_0x284e78(0x137)]['w'],this[_0x284e78(0x1d0)][_0x284e78(0x137)]['h'],this[_0x284e78(0x1d0)][_0x284e78(0x133)]['x'],this[_0x284e78(0x1d0)][_0x284e78(0x133)]['y'],this[_0x284e78(0x1d0)][_0x284e78(0x137)]['w'],this[_0x284e78(0x1d0)][_0x284e78(0x137)]['h']);this[_0x284e78(0x18e)]&&(c[_0x284e78(0x16c)]=0x1);this[_0x284e78(0x160)]&&(c['globalAlpha']=0.5);c[_0x284e78(0x1c9)](this[_0x284e78(0x14d)],this[_0x284e78(0x186)]['crop']['x'],this[_0x284e78(0x186)]['crop']['y'],this[_0x284e78(0x186)][_0x284e78(0x137)]['w'],this[_0x284e78(0x186)][_0x284e78(0x137)]['h'],this['sword']['pos']['x'],this[_0x284e78(0x186)][_0x284e78(0x133)]['y'],this[_0x284e78(0x186)][_0x284e78(0x137)]['w'],this[_0x284e78(0x186)]['crop']['h']);this[_0x284e78(0x160)]&&(c[_0x284e78(0x16c)]=0x1);c[_0x284e78(0x1c9)](this[_0x284e78(0x14d)],this['layout'][_0x284e78(0x137)]['x'],this[_0x284e78(0x162)][_0x284e78(0x137)]['y'],this[_0x284e78(0x162)][_0x284e78(0x137)]['w'],this['layout'][_0x284e78(0x137)]['h'],this['layout'][_0x284e78(0x133)]['x']+this['x'],this[_0x284e78(0x162)][_0x284e78(0x133)]['y']+this['y'],this[_0x284e78(0x162)][_0x284e78(0x137)]['w'],this['layout'][_0x284e78(0x137)]['h']),c[_0x284e78(0x1c9)](this[_0x284e78(0x14d)],this['portrait'][_0x284e78(0x137)][player[_0x284e78(0x15e)]]['x'],this[_0x284e78(0x17e)][_0x284e78(0x137)][player[_0x284e78(0x15e)]]['y'],this[_0x284e78(0x17e)][_0x284e78(0x137)][player[_0x284e78(0x15e)]]['w'],this[_0x284e78(0x17e)][_0x284e78(0x137)][player[_0x284e78(0x15e)]]['h'],this[_0x284e78(0x17e)][_0x284e78(0x133)]['x']+this['x'],this[_0x284e78(0x17e)]['pos']['y']+this['y'],this['portrait'][_0x284e78(0x137)][player[_0x284e78(0x15e)]]['w'],this[_0x284e78(0x17e)][_0x284e78(0x137)][player[_0x284e78(0x15e)]]['h']),c[_0x284e78(0x1c9)](this[_0x284e78(0x14d)],this[_0x284e78(0x1a6)]['crop']['x'],this[_0x284e78(0x1a6)]['crop']['y'],this[_0x284e78(0x1a6)][_0x284e78(0x137)]['w'],this[_0x284e78(0x1a6)][_0x284e78(0x137)]['h'],this['hpBar'][_0x284e78(0x133)]['x']+this['x'],this[_0x284e78(0x1a6)][_0x284e78(0x133)]['y']+this['y'],this[_0x284e78(0x1a6)][_0x284e78(0x137)]['w']/player['maxHp']*player['hp'],this['hpBar'][_0x284e78(0x137)]['h']),c[_0x284e78(0x1c9)](this['sheet'],this['mpBar']['crop']['x'],this[_0x284e78(0x197)]['crop']['y'],this[_0x284e78(0x197)][_0x284e78(0x137)]['w'],this[_0x284e78(0x197)][_0x284e78(0x137)]['h'],this[_0x284e78(0x197)][_0x284e78(0x133)]['x']+this['x'],this['mpBar'][_0x284e78(0x133)]['y']+this['y'],this[_0x284e78(0x197)]['crop']['w'],this[_0x284e78(0x197)]['crop']['h']);for(let _0x3d7eed=0x0;_0x3d7eed<player[_0x284e78(0x1ac)][_0x284e78(0x15b)];_0x3d7eed++){c[_0x284e78(0x1c9)](this[_0x284e78(0x14d)],this[_0x284e78(0x1ae)][_0x284e78(0x137)][player['arrowsArr'][_0x3d7eed]]['x'],this[_0x284e78(0x1ae)][_0x284e78(0x137)][player[_0x284e78(0x1ac)][_0x3d7eed]]['y'],this[_0x284e78(0x1ae)]['crop'][player[_0x284e78(0x1ac)][_0x3d7eed]]['w'],this[_0x284e78(0x1ae)][_0x284e78(0x137)][player[_0x284e78(0x1ac)][_0x3d7eed]]['h'],this['arrow'][_0x284e78(0x133)]['x']+this['x']-0xa*_0x3d7eed,this[_0x284e78(0x1ae)][_0x284e78(0x133)]['y']+this['y'],this[_0x284e78(0x1ae)][_0x284e78(0x137)][player['arrowsArr'][_0x3d7eed]]['w'],this[_0x284e78(0x1ae)]['crop'][player[_0x284e78(0x1ac)][_0x3d7eed]]['h']);}c[_0x284e78(0x178)]=_0x284e78(0x1ab),c['textAlign']=_0x284e78(0x1b7),c[_0x284e78(0x1a1)]=_0x284e78(0x1a0),c[_0x284e78(0x15f)](player[_0x284e78(0x156)]+'/'+player[_0x284e78(0x1ac)][_0x284e78(0x15b)],0x7a+this['x'],0x20+this['y']);}}function _0x3728(_0x4dd983,_0x2a46f8){const _0x2dcda4=_0x2fc2();return _0x3728=function(_0x385118,_0x3f452c){_0x385118=_0x385118-0x121;let _0x4d6f1e=_0x2dcda4[_0x385118];return _0x4d6f1e;},_0x3728(_0x4dd983,_0x2a46f8);}var userInterface=new UserInterface();function drawLaser(){const _0x59ba65=_0x4833b6;let _0x4fa5e8=player['x']+player['w']/0x2,_0x39c7f5=player['y']+player['h']/0x2,_0x2091c5=_0x4fa5e8,_0x443183=_0x39c7f5,_0x55c15b=![],_0x2686c3=0x0,_0x5329e8=returnCosine(_0x4fa5e8,_0x39c7f5,Mouse['x'],Mouse['y']),_0x151183=[],_0x283bbf={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x1b8495={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x12618d=0x4,_0x185098={'x':0x0,'y':0x0};while(!_0x55c15b&&_0x2686c3<CANVAS[_0x59ba65(0x13f)]*0x2/_0x12618d){_0x2091c5-=_0x5329e8[_0x59ba65(0x135)]*_0x12618d,_0x443183-=_0x5329e8['sin']*_0x12618d;getTileData(_0x2091c5,_0x443183)['solid']&&(_0x283bbf=getTileData(_0x2091c5,_0x443183)['hitbox'],_0x1b8495['x']=_0x283bbf['x'],_0x1b8495['y']=_0x283bbf['y'],_0x1b8495['w']=_0x283bbf['w'],_0x1b8495['h']=_0x283bbf['h'],_0x1b8495['x']+=_0x2091c5-_0x2091c5%TILESIZE,_0x1b8495['y']+=_0x443183-_0x443183%TILESIZE,_0x55c15b=!![]);_0x185098['x']=_0x2091c5,_0x185098['y']=_0x443183;for(let _0x290a0c=0x0;_0x290a0c<monsters[_0x59ba65(0x15b)];_0x290a0c++){if(!monsters[_0x290a0c][_0x59ba65(0x132)]&&pointSquareCol(_0x185098,monsters[_0x290a0c])){_0x1b8495['x']=monsters[_0x290a0c]['x'],_0x1b8495['y']=monsters[_0x290a0c]['y'],_0x1b8495['w']=monsters[_0x290a0c]['w'],_0x1b8495['h']=monsters[_0x290a0c]['h'],_0x55c15b=!![];break;}}_0x2686c3++;}_0x151183=getRectSides(_0x1b8495);let _0x25f9d4=[],_0x20fbce={},_0x422116;for(let _0x57d0fd=0x0;_0x57d0fd<_0x151183[_0x59ba65(0x15b)];_0x57d0fd++){_0x20fbce=intersect(_0x4fa5e8,_0x39c7f5,_0x2091c5,_0x443183,_0x151183[_0x57d0fd]['x1'],_0x151183[_0x57d0fd]['y1'],_0x151183[_0x57d0fd]['x2'],_0x151183[_0x57d0fd]['y2']),_0x20fbce&&_0x25f9d4['push'](_0x20fbce);}let _0x13cb69=Math[_0x59ba65(0x183)](_0x4fa5e8-_0x2091c5,_0x39c7f5-_0x443183),_0x408e19=_0x2091c5,_0x161c69=_0x2091c5;for(let _0x375d97=0x0;_0x375d97<_0x25f9d4[_0x59ba65(0x15b)];_0x375d97++){_0x422116=Math['hypot'](_0x4fa5e8-_0x2091c5,_0x39c7f5-_0x443183),_0x422116<_0x13cb69&&(_0x13cb69=_0x422116,_0x408e19=_0x25f9d4[_0x375d97]['x'],_0x161c69=_0x25f9d4[_0x375d97]['y']);}c[_0x59ba65(0x1d2)]='#ff0000',c[_0x59ba65(0x180)](),c['moveTo'](_0x4fa5e8+map['x'],_0x39c7f5+map['y']),c[_0x59ba65(0x199)](_0x2091c5+map['x'],_0x443183+map['y']),c[_0x59ba65(0x18d)](),c['strokeStyle']='black';}function isObstructed(_0x161a95,_0x46a5df){const _0x26dca3=_0x4833b6;let _0x5c4617=_0x161a95['x']+_0x161a95['w']/0x2,_0x2ad389=_0x161a95['y']+_0x161a95['h']/0x2,_0x515bb7=_0x46a5df['x']+_0x46a5df['w']/0x2,_0x1fc790=_0x46a5df['y']+_0x46a5df['h']/0x2,_0x2eaff9=Math[_0x26dca3(0x183)](_0x5c4617-_0x515bb7,_0x2ad389-_0x1fc790),_0x155229=_0x5c4617,_0x2d5e0c=_0x2ad389,_0x4c2817=![],_0xd84f6a=0x0,_0x4e508f=returnCosine(_0x5c4617,_0x2ad389,_0x515bb7,_0x1fc790),_0x5029d6=[],_0x4d2008={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x292114={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x4dab24=0x3,_0x1b181a={'x':0x0,'y':0x0};while(!_0x4c2817&&_0xd84f6a<_0x2eaff9/_0x4dab24){_0x155229-=_0x4e508f[_0x26dca3(0x135)]*_0x4dab24,_0x2d5e0c-=_0x4e508f['sin']*_0x4dab24;if(getTileData(_0x155229,_0x2d5e0c)[_0x26dca3(0x17c)])return _0x4d2008=getTileData(_0x155229,_0x2d5e0c)[_0x26dca3(0x150)],_0x292114['x']=_0x4d2008['x'],_0x292114['y']=_0x4d2008['y'],_0x292114['w']=_0x4d2008['w'],_0x292114['h']=_0x4d2008['h'],_0x292114['x']+=_0x155229-_0x155229%TILESIZE,_0x292114['y']+=_0x2d5e0c-_0x2d5e0c%TILESIZE,!![];_0x1b181a['x']=_0x155229,_0x1b181a['y']=_0x2d5e0c;if(pointSquareCol(_0x1b181a,_0x46a5df))return![];_0xd84f6a++;}}function getRectSides(_0x488af1){let _0x3b6e20=[];return _0x3b6e20['push']({'x1':_0x488af1['x'],'y1':_0x488af1['y'],'x2':_0x488af1['x']+_0x488af1['w'],'y2':_0x488af1['y']}),_0x3b6e20['push']({'x1':_0x488af1['x']+_0x488af1['w'],'y1':_0x488af1['y'],'x2':_0x488af1['x']+_0x488af1['w'],'y2':_0x488af1['y']+_0x488af1['h']}),_0x3b6e20['push']({'x1':_0x488af1['x']+_0x488af1['w'],'y1':_0x488af1['y']+_0x488af1['h'],'x2':_0x488af1['x'],'y2':_0x488af1['y']+_0x488af1['h']}),_0x3b6e20['push']({'x1':_0x488af1['x'],'y1':_0x488af1['y']+_0x488af1['h'],'x2':_0x488af1['x'],'y2':_0x488af1['y']}),_0x3b6e20;}function init(){const _0x2f84a7=_0x4833b6;let _0x431552,_0x1ffde4={};fetch(_0x2f84a7(0x144))['then'](function(_0x503c24){const _0xa8d7b4=_0x2f84a7;return _0x503c24[_0xa8d7b4(0x168)]();})[_0x2f84a7(0x184)](function(_0x3784f3){const _0xf91fdc=_0x2f84a7;_0x431552=_0x3784f3[_0xf91fdc(0x142)];for(let _0x1ee7c9=0x0;_0x1ee7c9<_0x431552[_0xf91fdc(0x15b)];_0x1ee7c9++){_0x1ffde4={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x1ffde4['id']=_0x431552[_0x1ee7c9]['id'];if(_0x431552[_0x1ee7c9]['hasOwnProperty'](_0xf91fdc(0x1aa)))for(let _0x35976f=0x0;_0x35976f<_0x431552[_0x1ee7c9][_0xf91fdc(0x1aa)]['length'];_0x35976f++){if(_0x431552[_0x1ee7c9][_0xf91fdc(0x1aa)][_0x35976f])switch(_0x431552[_0x1ee7c9][_0xf91fdc(0x1aa)][_0x35976f][_0xf91fdc(0x121)]){case _0xf91fdc(0x1ba):_0x1ffde4[_0xf91fdc(0x1ba)]=!![],_0x1ffde4[_0xf91fdc(0x1c5)]=!![];break;case'solid':_0x1ffde4[_0xf91fdc(0x17c)]=!![],_0x1ffde4[_0xf91fdc(0x1c5)]=!![];break;}}TilesData[_0xf91fdc(0x1bc)](_0x1ffde4);}loop();});}init();var HP_BAR=id(_0x4833b6(0x13a));function renderHpBars(){const _0xf1364e=_0x4833b6;for(let _0x23e34f=0x0;_0x23e34f<monsters['length'];_0x23e34f++){if(monsters[_0x23e34f][_0xf1364e(0x132)])continue;let _0x48045a=monsters[_0x23e34f]['hp']/monsters[_0x23e34f][_0xf1364e(0x1b9)],_0x109447=Math[_0xf1364e(0x134)](TILESIZE*_0x48045a);c[_0xf1364e(0x1c9)](HP_BAR,0x0,0x4,_0x109447,0x4,monsters[_0x23e34f]['x']+monsters[_0x23e34f]['w']/0x2-0x10+map['x']|0x0,monsters[_0x23e34f]['y']-0x8+map['y']|0x0,_0x109447|0x0,0x4|0x0),c['drawImage'](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x23e34f]['x']+monsters[_0x23e34f]['w']/0x2-0x10+map['x']|0x0,monsters[_0x23e34f]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x2f0563=_0x4833b6;this[_0x2f0563(0x13f)]=0x17,this[_0x2f0563(0x1bd)]=0xf,this['x']=0x0,this['y']=0x0,this[_0x2f0563(0x142)]=maps['m1'],this[_0x2f0563(0x14d)]=id(_0x2f0563(0x14d)),this[_0x2f0563(0x166)]=id('grass');}[_0x4833b6(0x1a9)](){const _0x153c19=_0x4833b6;for(let _0x24330c=0x0;_0x24330c<this['tiles']['length'];_0x24330c++){_0x24330c==0x1&&c[_0x153c19(0x1c9)](this[_0x153c19(0x166)],0x0+this['x'],0x0+this['y'],CANVAS[_0x153c19(0x13f)],CANVAS[_0x153c19(0x1bd)]);for(let _0xdd727c=0x0;_0xdd727c<this[_0x153c19(0x142)][_0x24330c][_0x153c19(0x15b)];_0xdd727c++){if(this[_0x153c19(0x142)][_0x24330c][_0xdd727c]===0x0)continue;c['drawImage'](this[_0x153c19(0x14d)],(this[_0x153c19(0x142)][_0x24330c][_0xdd727c]-0x1)%0xf*TILESIZE,((this[_0x153c19(0x142)][_0x24330c][_0xdd727c]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0xdd727c%this[_0x153c19(0x13f)]*TILESIZE+map['x'],(_0xdd727c/this[_0x153c19(0x13f)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x811dec=_0x4833b6;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x811dec(0x126)]=0x2,this['radiansP']=0x0,this[_0x811dec(0x179)]=[0x0],this[_0x811dec(0x1ce)]=[0x0],this['vfxX']=[0x0,0x0,0x0,0x0],this[_0x811dec(0x188)]=[0x0,0x80,0x100,0x180],this[_0x811dec(0x1b2)]=0x0,this[_0x811dec(0x138)]=0x0,this[_0x811dec(0x198)]=0x0,this[_0x811dec(0x1c1)]=0x3,this[_0x811dec(0x1a2)]=![],this[_0x811dec(0x14d)]=id(_0x811dec(0x177)),this[_0x811dec(0x158)]=id('sword');}['compute'](){const _0x3954d4=_0x4833b6;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x15e504,_0x234cf7,_0x4bc1a2;for(let _0x4cd461=0x0;_0x4cd461<monsters[_0x3954d4(0x15b)];_0x4cd461++){if(monsters[_0x4cd461][_0x3954d4(0x132)]||!monsters[_0x4cd461]['collidable'])continue;_0x15e504=monsters[_0x4cd461][_0x3954d4(0x150)]['x']+monsters[_0x4cd461]['hitbox']['w']/0x2,_0x234cf7=monsters[_0x4cd461]['hitbox']['y']+monsters[_0x4cd461][_0x3954d4(0x150)]['h']/0x2,_0x4bc1a2=(monsters[_0x4cd461]['w']+monsters[_0x4cd461]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x15e504,_0x234cf7,_0x4bc1a2)){let _0x4ea04a=this['x']+this['w']/0x2,_0x96dc35=this['y']+this['h']/0x2,_0x155fef=monsters[_0x4cd461]['x']-_0x4ea04a,_0x4d54e2=monsters[_0x4cd461]['y']-_0x96dc35,_0x2009db=Math[_0x3954d4(0x159)](_0x4d54e2,_0x155fef),_0x26e513=Math[_0x3954d4(0x135)](_0x2009db),_0x454901=Math['sin'](_0x2009db);monsters[_0x4cd461][_0x3954d4(0x1cc)]=_0x26e513*0xa,monsters[_0x4cd461]['yVelExt']=_0x454901*0xa,monsters[_0x4cd461]['hp']-=0.25,monsters[_0x4cd461][_0x3954d4(0x1b3)]=0xf;}}}[_0x4833b6(0x1a9)](){const _0x42c28d=_0x4833b6;this[_0x42c28d(0x138)]++,this['frameCounter']>this[_0x42c28d(0x1c1)]*DTR&&(this['frameCounter']=0x0,this[_0x42c28d(0x1b2)]++,this[_0x42c28d(0x1b2)]>=this[_0x42c28d(0x140)][_0x42c28d(0x15b)]&&(this[_0x42c28d(0x1b2)]=0x0)),c[_0x42c28d(0x1c9)](this[_0x42c28d(0x14d)],this['vfxX'][this[_0x42c28d(0x1b2)]],this[_0x42c28d(0x188)][this[_0x42c28d(0x1b2)]],0x80,0x40,this['x']-0x40-player[_0x42c28d(0x1cc)]*0x4+map['x'],this['y']-0x40-player['yVelExt']*0x4+map['y'],0x80,0x40),c[_0x42c28d(0x1b5)](),c[_0x42c28d(0x1a8)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x42c28d(0x139)](this[_0x42c28d(0x1cf)]+this[_0x42c28d(0x126)]),c[_0x42c28d(0x1c9)](this[_0x42c28d(0x158)],this[_0x42c28d(0x179)][this['action']],this[_0x42c28d(0x1ce)][this[_0x42c28d(0x198)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c['restore'](),this[_0x42c28d(0x126)]-=0.5/DTR,this['radians']<=-0x9&&(this[_0x42c28d(0x1a2)]=![],this[_0x42c28d(0x126)]=0x2),c[_0x42c28d(0x1c9)](this[_0x42c28d(0x14d)],this[_0x42c28d(0x140)][this[_0x42c28d(0x1b2)]],this[_0x42c28d(0x188)][this['currentFrame']]+0x40,0x80,0x40,this['x']-0x40-player[_0x42c28d(0x1cc)]*0x4+map['x'],this['y']-player[_0x42c28d(0x1be)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x2edbed=_0x4833b6;monsters[_0x2edbed(0x1a3)](function(_0x1365e1,_0x194d7f){const _0x20ea36=_0x2edbed;if(_0x1365e1[_0x20ea36(0x132)]&&!_0x194d7f[_0x20ea36(0x132)])return-0x1;else return!_0x1365e1['dead']&&_0x194d7f[_0x20ea36(0x132)]?0x1:_0x1365e1['y']+0xf-_0x194d7f['y'];});}function adjustCollidingMonsters(){const _0x13ecd8=_0x4833b6;for(let _0x2351a2=0x0;_0x2351a2<monsters['length'];_0x2351a2++){if(monsters[_0x2351a2][_0x13ecd8(0x132)])continue;monsters[_0x2351a2][_0x13ecd8(0x14c)]['T']=0x0,monsters[_0x2351a2]['col']['B']=0x0,monsters[_0x2351a2][_0x13ecd8(0x14c)]['L']=0x0,monsters[_0x2351a2]['col']['R']=0x0;for(let _0x5ddaf7=0x0;_0x5ddaf7<monsters[_0x13ecd8(0x15b)];_0x5ddaf7++){if(monsters[_0x5ddaf7][_0x13ecd8(0x132)])continue;if(collided(monsters[_0x2351a2],monsters[_0x5ddaf7])){let _0x348d95=colCheck(monsters[_0x2351a2],monsters[_0x5ddaf7]);switch(_0x348d95){case'l':this[_0x13ecd8(0x124)]<0x0&&(this[_0x13ecd8(0x124)]=0x0);break;case'r':this[_0x13ecd8(0x124)]>0x0&&(this[_0x13ecd8(0x124)]=0x0);break;case'b':this[_0x13ecd8(0x1b4)]>0x0&&(this['yVel']=0x0);break;case't':this['yVel']<0x0&&(this[_0x13ecd8(0x1b4)]=0x0);break;}monsters[_0x2351a2][_0x13ecd8(0x124)]+=(monsters[_0x2351a2]['col']['L']-monsters[_0x2351a2]['col']['R'])/0x5,monsters[_0x2351a2][_0x13ecd8(0x1b4)]+=(monsters[_0x2351a2][_0x13ecd8(0x14c)]['T']-monsters[_0x2351a2][_0x13ecd8(0x14c)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x2e431d,_0x3e91ab){const _0x34e59c=_0x4833b6;super(Collidable),this['x']=_0x2e431d,this['y']=_0x3e91ab,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x34e59c(0x124)]=0x0,this[_0x34e59c(0x1b4)]=0x0,this[_0x34e59c(0x1cc)]=0x0,this['yVelExt']=0x0,this[_0x34e59c(0x16b)]=0x2,this[_0x34e59c(0x1d6)]=0x0,this[_0x34e59c(0x127)]=![],this[_0x34e59c(0x1b3)]=0x0,this[_0x34e59c(0x132)]=![],this[_0x34e59c(0x14e)]=[],this[_0x34e59c(0x1b9)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0x34e59c(0x1c1)]=0x4,this['currentFrame']=0x0,this[_0x34e59c(0x176)]=!![],this[_0x34e59c(0x14d)]=id('sheet'),this[_0x34e59c(0x198)]=0x0,this[_0x34e59c(0x14c)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x34e59c(0x150)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x34e59c(0x179)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this['actionY']=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x4833b6(0x185)](){const _0x4d229d=_0x4833b6;if(this[_0x4d229d(0x198)]!==0x0){let _0x1ae1f5=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x3e0412=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x4c63c4=_0x1ae1f5>0x0?-0x1:0x1,_0xfe47ec=_0x3e0412>0x0?-0x1:0x1,_0xcf1bb7;_0x3e0412!==0x0?_0xcf1bb7=Math[_0x4d229d(0x128)](_0x1ae1f5)/(Math[_0x4d229d(0x128)](_0x3e0412)+Math[_0x4d229d(0x128)](_0x1ae1f5)):_0xcf1bb7=0x0;this['xVel']=this[_0x4d229d(0x16b)]*_0xcf1bb7*_0x4c63c4,this[_0x4d229d(0x1b4)]=this[_0x4d229d(0x16b)]*(0x1-_0xcf1bb7)*_0xfe47ec;if(this['x']+this['w']<player['x'])this[_0x4d229d(0x1d6)]=![];else player['x']+player['w']<this['x']&&(this[_0x4d229d(0x1d6)]=!![]);}}['compute'](){const _0x1a7789=_0x4833b6;if(!this[_0x1a7789(0x132)]){this[_0x1a7789(0x185)]();Math[_0x1a7789(0x128)](this['xVelExt'])>0.01?this[_0x1a7789(0x1cc)]*=0.9:this[_0x1a7789(0x1cc)]=0x0;Math[_0x1a7789(0x128)](this[_0x1a7789(0x1be)])>0.01?this[_0x1a7789(0x1be)]*=0.9:this[_0x1a7789(0x1be)]=0x0;(this[_0x1a7789(0x14c)]['T']&&this[_0x1a7789(0x1b4)]<0x0||this['col']['B']&&this[_0x1a7789(0x1b4)]>0x0)&&(this['yVel']=0x0);(this[_0x1a7789(0x14c)]['L']&&this[_0x1a7789(0x124)]<0x0||this[_0x1a7789(0x14c)]['R']&&this[_0x1a7789(0x124)]>0x0)&&(this[_0x1a7789(0x124)]=0x0);this[_0x1a7789(0x198)]!==0x0&&(this['left']?this['action']=0x2:this[_0x1a7789(0x198)]=0x1);this[_0x1a7789(0x19f)](),this['x']+=(this['xVel']+this[_0x1a7789(0x1cc)])/DTR,this['y']+=(this[_0x1a7789(0x1b4)]+this[_0x1a7789(0x1be)])/DTR;for(let _0x236a9f=0x0;_0x236a9f<this['arrows']['length'];_0x236a9f++){this[_0x1a7789(0x14e)][_0x236a9f]['x']=this['x']+this[_0x1a7789(0x14e)][_0x236a9f][_0x1a7789(0x17f)],this['arrows'][_0x236a9f]['y']=this['y']+this[_0x1a7789(0x14e)][_0x236a9f]['yRel'];}this[_0x1a7789(0x150)]['x']=this['x']+0x6,this['hitbox']['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x1a7789(0x127)]=!![]),this[_0x1a7789(0x127)]&&(this[_0x1a7789(0x1b3)]=0x0,this[_0x1a7789(0x132)]=!![],this[_0x1a7789(0x198)]=0x3,this['frameCounter']=0x0,this['currentFrame']=0x0,this[_0x1a7789(0x1c1)]=0xa);}}['draw'](){const _0x1ab3b9=_0x4833b6;this[_0x1ab3b9(0x138)]++;this[_0x1ab3b9(0x138)]>this['slowness']*DTR&&(this['frameCounter']=0x0,this[_0x1ab3b9(0x1b2)]++,this[_0x1ab3b9(0x1b2)]>=this[_0x1ab3b9(0x179)][this[_0x1ab3b9(0x198)]]['length']&&(this[_0x1ab3b9(0x198)]==0x0&&(this[_0x1ab3b9(0x198)]=0x1+this[_0x1ab3b9(0x1d6)]),this['currentFrame']=0x0));this['action']==0x3&&(this[_0x1ab3b9(0x1b2)]==this[_0x1ab3b9(0x179)][this[_0x1ab3b9(0x198)]][_0x1ab3b9(0x15b)]-0x1&&(this[_0x1ab3b9(0x138)]=0x0));if(!this[_0x1ab3b9(0x132)])for(let _0xb2cfa5=0x0;_0xb2cfa5<this[_0x1ab3b9(0x14e)][_0x1ab3b9(0x15b)];_0xb2cfa5++){this[_0x1ab3b9(0x14e)][_0xb2cfa5][_0x1ab3b9(0x1a9)]();}this[_0x1ab3b9(0x1b3)]>0x0&&(this['action']=0x4,this[_0x1ab3b9(0x1b2)]=0x0,this[_0x1ab3b9(0x12a)]=0x0,this[_0x1ab3b9(0x1b3)]-=0x1/DTR),c[_0x1ab3b9(0x1c9)](this[_0x1ab3b9(0x14d)],this[_0x1ab3b9(0x179)][this[_0x1ab3b9(0x198)]][this[_0x1ab3b9(0x1b2)]]*TILESIZE,this['actionY'][this[_0x1ab3b9(0x198)]][this[_0x1ab3b9(0x1b2)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x39eefe,_0x4ac69a){const _0x49d09f=_0x4833b6;super(Collidable),this['x']=(_0x39eefe/TILESIZE|0x0)*TILESIZE,this['y']=(_0x4ac69a/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this[_0x49d09f(0x1b4)]=0x0,this['xVelExt']=0x0,this[_0x49d09f(0x1be)]=0x0,this['speed']=0x2,this[_0x49d09f(0x1d6)]=0x0,this[_0x49d09f(0x127)]=![],this['justDamaged']=0x0,this[_0x49d09f(0x132)]=![],this[_0x49d09f(0x164)]=![],this['arrows']=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x49d09f(0x138)]=0x0,this[_0x49d09f(0x1c1)]=0x4,this[_0x49d09f(0x1b2)]=0x0,this[_0x49d09f(0x14d)]=id('sheet'),this['action']=0x0,this[_0x49d09f(0x176)]=!![],this[_0x49d09f(0x122)]=[],this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0x49d09f(0x190)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x49d09f(0x179)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0x49d09f(0x1ce)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this[_0x49d09f(0x129)]=0x0;}[_0x4833b6(0x185)](){const _0x1c22c3=_0x4833b6;this[_0x1c22c3(0x190)]['x']=this['x']-0x5*TILESIZE,this[_0x1c22c3(0x190)]['y']=this['y']-0x5*TILESIZE,this['atkBox']['w']=0xb*TILESIZE,this[_0x1c22c3(0x190)]['h']=0xb*TILESIZE;if(collided(this[_0x1c22c3(0x190)],player)){if(this[_0x1c22c3(0x164)]){if(this[_0x1c22c3(0x1b2)]==0x0&&this[_0x1c22c3(0x138)]==0x0){this[_0x1c22c3(0x157)]();switch(this[_0x1c22c3(0x122)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x1c22c3(0x198)]!==0x1&&(this[_0x1c22c3(0x198)]=0x1,this['currentFrame']=0x0,this[_0x1c22c3(0x138)]=0x0);}else this[_0x1c22c3(0x164)]&&this[_0x1c22c3(0x198)]!==0x0&&this[_0x1c22c3(0x198)]!==0x2&&(this[_0x1c22c3(0x164)]=![],this[_0x1c22c3(0x176)]=!![],this['action']=0x2,this[_0x1c22c3(0x1b2)]=0x0,this[_0x1c22c3(0x138)]=0x0);}[_0x4833b6(0x19c)](){const _0x31eb90=_0x4833b6;this['followPlayer'](),this[_0x31eb90(0x150)]['x']=this['x']+(this['w']-0xe)/0x2,this[_0x31eb90(0x150)]['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x28e2a9=0x0;_0x28e2a9<this[_0x31eb90(0x14e)][_0x31eb90(0x15b)];_0x28e2a9++){this[_0x31eb90(0x14e)][_0x28e2a9]['x']=this['x']+this['arrows'][_0x28e2a9][_0x31eb90(0x17f)],this['arrows'][_0x28e2a9]['y']=this['y']+this[_0x31eb90(0x14e)][_0x28e2a9][_0x31eb90(0x1bf)];}this['hp']<=0x0&&(this[_0x31eb90(0x127)]=!![]),this['justDied']&&(this[_0x31eb90(0x1b3)]=0x0,this[_0x31eb90(0x132)]=!![],this[_0x31eb90(0x198)]=0x3,this[_0x31eb90(0x138)]=0x0,this[_0x31eb90(0x1b2)]=0x0,this[_0x31eb90(0x1c1)]=0xa);}[_0x4833b6(0x1a9)](){const _0x5b63a0=_0x4833b6;this[_0x5b63a0(0x138)]++;this['action']==0x4?this[_0x5b63a0(0x1c1)]=0x3:this['slowness']=0x5;if(this[_0x5b63a0(0x138)]>this['slowness']*DTR){this[_0x5b63a0(0x138)]=0x0,this[_0x5b63a0(0x1b2)]++;if(this[_0x5b63a0(0x1b2)]>=this[_0x5b63a0(0x179)][this[_0x5b63a0(0x198)]][_0x5b63a0(0x15b)]){if(this[_0x5b63a0(0x132)])this['currentFrame']=this[_0x5b63a0(0x179)][this[_0x5b63a0(0x198)]][_0x5b63a0(0x15b)]-0x1;else{if(this[_0x5b63a0(0x198)]==0x1)this[_0x5b63a0(0x164)]=!![],this[_0x5b63a0(0x176)]=![],this[_0x5b63a0(0x198)]=0x4,this[_0x5b63a0(0x1b2)]=0x0;else this[_0x5b63a0(0x198)]==0x2?(this[_0x5b63a0(0x198)]=0x0,this[_0x5b63a0(0x1b2)]=0x0):this[_0x5b63a0(0x1b2)]=0x0;}}}if(!this['dead']){if(this[_0x5b63a0(0x198)]==0x0)for(let _0x54c859=0x0;_0x54c859<this[_0x5b63a0(0x14e)]['length'];_0x54c859++){this['arrows'][_0x54c859][_0x5b63a0(0x1a9)]();}}this['justDamaged']>0x0&&(this[_0x5b63a0(0x198)]=0x3,this[_0x5b63a0(0x1b2)]=0x0,this[_0x5b63a0(0x12a)]=0x0,this[_0x5b63a0(0x1b3)]-=0x1/DTR,this['justDamaged']<=0x0&&(this[_0x5b63a0(0x198)]=0x0)),c[_0x5b63a0(0x1c9)](this[_0x5b63a0(0x14d)],this[_0x5b63a0(0x179)][this['action']][this['currentFrame']]*TILESIZE,this[_0x5b63a0(0x1ce)][this[_0x5b63a0(0x198)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x4833b6(0x157)](){const _0x1dd9f1=_0x4833b6;let _0x1ac804=0xb,_0x2c685c=[],_0x4a1db8=this['x']+this['w']/0x2-TILESIZE*0x5,_0x3eb292=this['y']+this['h']/0x2-TILESIZE*0x5,_0x41f4eb;for(let _0x19cac6=0x0;_0x19cac6<_0x1ac804;_0x19cac6++){_0x2c685c[_0x19cac6]=[];for(let _0x31588b=0x0;_0x31588b<_0x1ac804;_0x31588b++){_0x41f4eb=getTileData(_0x4a1db8+_0x19cac6*TILESIZE,_0x3eb292+_0x31588b*TILESIZE),_0x41f4eb===![]?_0x2c685c[_0x19cac6][_0x31588b]=_0x1dd9f1(0x165):_0x2c685c[_0x19cac6][_0x31588b]=_0x1dd9f1(0x194);}}_0x2c685c[0x5][0x5]=_0x1dd9f1(0x1cd),_0x2c685c[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x1dd9f1(0x187),this['path']=findShortestPath([0x5,0x5],_0x2c685c);}}class Flower extends Collidable{constructor(_0x5c5d1b,_0x1f5e8e){const _0x4b09fb=_0x4833b6;super(Collidable),this['x']=_0x5c5d1b,this['y']=_0x1f5e8e,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x4b09fb(0x124)]=0x0,this[_0x4b09fb(0x1b4)]=0x0,this['xVelExt']=0x0,this[_0x4b09fb(0x1be)]=0x0,this[_0x4b09fb(0x16b)]=0x2,this[_0x4b09fb(0x1d6)]=0x0,this[_0x4b09fb(0x127)]=![],this['justDamaged']=0x0,this[_0x4b09fb(0x132)]=![],this[_0x4b09fb(0x14e)]=[],this[_0x4b09fb(0x1b9)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0x4b09fb(0x1c1)]=0x8,this[_0x4b09fb(0x164)]=![],this[_0x4b09fb(0x1b2)]=0x0,this[_0x4b09fb(0x14d)]=id(_0x4b09fb(0x14d)),this[_0x4b09fb(0x12f)]=0x5,this[_0x4b09fb(0x13d)]=0x8,this[_0x4b09fb(0x176)]=!![],this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x4b09fb(0x150)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x4b09fb(0x198)]=0x0,this[_0x4b09fb(0x179)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x4b09fb(0x1ce)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this['headX']=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x4b09fb(0x1cb)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x4b09fb(0x126)]=0x0,this[_0x4b09fb(0x15d)]=![];}['shoot'](){const _0x4bf8ca=_0x4833b6;if(!isObstructed(this,player)){this['attacking']=!![];if(this[_0x4bf8ca(0x1b2)]==0x2){if(!this[_0x4bf8ca(0x15d)]){let _0x40925e=new EnemyProjectile(),_0x15f4e9=this['x']+this['w']/0x2,_0x4e0fc3=this['y']+this['h']/0x2,_0x1aafa7=player['x']+player['w']/0x2-_0x15f4e9+Math['random']()*this['precision']-this[_0x4bf8ca(0x12f)]/0x2,_0x567865=player['y']+player['h']/0x2-_0x4e0fc3+Math[_0x4bf8ca(0x12c)]()*this['precision']-this['precision']/0x2,_0x5b7c17=Math[_0x4bf8ca(0x159)](_0x567865,_0x1aafa7),_0x184759=Math['cos'](_0x5b7c17),_0x34f6e0=Math['sin'](_0x5b7c17);_0x40925e[_0x4bf8ca(0x124)]=_0x184759*this[_0x4bf8ca(0x13d)],_0x40925e[_0x4bf8ca(0x1b4)]=_0x34f6e0*this['projSpeed'],_0x40925e['x']=_0x15f4e9,_0x40925e['y']=_0x4e0fc3,enemyProjectiles['push'](_0x40925e),this[_0x4bf8ca(0x15d)]=!![];}}else this['justShot']=![];}else this['attacking']=![];}[_0x4833b6(0x19c)](){const _0x321872=_0x4833b6;this[_0x321872(0x16d)](),this[_0x321872(0x150)]['x']=this['x']+this['w']/0x3,this[_0x321872(0x150)]['y']=this['y']+this['h']/0x5,this['radians']=Math[_0x321872(0x159)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x5c9812=0x0;_0x5c9812<this[_0x321872(0x14e)][_0x321872(0x15b)];_0x5c9812++){this[_0x321872(0x14e)][_0x5c9812]['x']=this['x']+this[_0x321872(0x14e)][_0x5c9812][_0x321872(0x17f)],this['arrows'][_0x5c9812]['y']=this['y']+this[_0x321872(0x14e)][_0x5c9812]['yRel'];}this['hp']<=0x0&&(this['justDied']=!![]),this[_0x321872(0x127)]&&(this['justDamaged']=0x0,this['dead']=!![],this['action']=0x2,this[_0x321872(0x138)]=0x0,this[_0x321872(0x1b2)]=0x0,this[_0x321872(0x1c1)]=0xa);}[_0x4833b6(0x1a9)](){const _0x232e54=_0x4833b6;this[_0x232e54(0x138)]++;this[_0x232e54(0x138)]>this['slowness']*DTR&&(this[_0x232e54(0x138)]=0x0,this[_0x232e54(0x1b2)]++,this['currentFrame']>=this[_0x232e54(0x179)][this[_0x232e54(0x198)]]['length']&&(this[_0x232e54(0x132)]?this['currentFrame']=this[_0x232e54(0x179)][this['action']][_0x232e54(0x15b)]-0x1:this[_0x232e54(0x1b2)]=0x0));if(!this[_0x232e54(0x132)]){this['attacking']?this['action']=0x1:this[_0x232e54(0x198)]=0x0;for(let _0x55c70a=0x0;_0x55c70a<this[_0x232e54(0x14e)][_0x232e54(0x15b)];_0x55c70a++){this[_0x232e54(0x14e)][_0x55c70a][_0x232e54(0x1a9)]();}}this[_0x232e54(0x164)]?this['slowness']=0x4:this['slowness']=0x8,this[_0x232e54(0x1b3)]&&(this[_0x232e54(0x198)]=0x2,this[_0x232e54(0x1b2)]=0x0,this[_0x232e54(0x12a)]=0x0,this[_0x232e54(0x1b3)]--),c[_0x232e54(0x1c9)](this[_0x232e54(0x14d)],this[_0x232e54(0x179)][this[_0x232e54(0x198)]][this['currentFrame']]*TILESIZE,this['actionY'][this['action']][this[_0x232e54(0x1b2)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0x232e54(0x198)]==0x0||this[_0x232e54(0x198)]==0x1)&&(c[_0x232e54(0x1b5)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x232e54(0x139)](this[_0x232e54(0x126)]),c['drawImage'](this[_0x232e54(0x14d)],this[_0x232e54(0x18c)][this[_0x232e54(0x198)]][this[_0x232e54(0x1b2)]]*TILESIZE,this['headY'][this['action']][this[_0x232e54(0x1b2)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x232e54(0x17d)]());}}function getTileData(_0x4e75d6,_0x669a1f){const _0x2802c4=_0x4833b6;let _0x4c5af0=(_0x4e75d6/TILESIZE|0x0)+(_0x669a1f/TILESIZE|0x0)*map[_0x2802c4(0x13f)];for(let _0x4402e8=0x0;_0x4402e8<map[_0x2802c4(0x142)][_0x2802c4(0x15b)];_0x4402e8++){for(let _0x38c714=0x0;_0x38c714<TilesData[_0x2802c4(0x15b)];_0x38c714++){if(TilesData[_0x38c714]['id']==map[_0x2802c4(0x142)][_0x4402e8][_0x4c5af0]-0x1)return TilesData[_0x38c714];}}return![];}window[_0x4833b6(0x19e)]=function(){const _0x3c0598=_0x4833b6;player['arrowsCount']!==0x0?player[_0x3c0598(0x16d)]():player[_0x3c0598(0x1af)]=0xa;},window[_0x4833b6(0x12b)]=function(_0x5bca4a){const _0xb812f5=_0x4833b6;_0x5bca4a[_0xb812f5(0x18f)](),player['attack']();},document[_0x4833b6(0x146)](_0x4833b6(0x17b),function(_0x346427){const _0x1aad24=_0x4833b6;switch(_0x346427[_0x1aad24(0x148)]){case 0x0:userInterface[_0x1aad24(0x18e)]=!![];break;case 0x2:userInterface[_0x1aad24(0x160)]=!![];break;}}),document[_0x4833b6(0x146)]('mouseup',function(_0x4a923a){const _0x53c15b=_0x4833b6;switch(_0x4a923a[_0x53c15b(0x148)]){case 0x0:userInterface['lClick']=![];break;case 0x2:userInterface['rClick']=![];break;}});var stats=id(_0x4833b6(0x123));function drawStats(){const _0x20402f=_0x4833b6;stats[_0x20402f(0x1b6)]=_0x20402f(0x1b1)+player['x'],stats[_0x20402f(0x1b6)]+=_0x20402f(0x152)+player['y'],stats[_0x20402f(0x1b6)]+=_0x20402f(0x16e)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x20402f(0x1b6)]+=_0x20402f(0x14a)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x20402f(0x1b6)]+=_0x20402f(0x1bb)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x20402f(0x13f)]),stats[_0x20402f(0x1b6)]+=_0x20402f(0x196)+map[_0x20402f(0x142)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x20402f(0x13f)]],map[_0x20402f(0x142)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']],DEBUG&&(c['rect']((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c['stroke']());}window['addEventListener'](_0x4833b6(0x1d3),function(_0x2de561){const _0x328405=_0x4833b6;switch(_0x2de561['keyCode']){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0x328405(0x1bc)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x328405(0x191)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x219048=0x0;_0x219048<0x32;_0x219048++){player['shoot'](),player[_0x328405(0x131)]=player[_0x328405(0x17a)]*DTR,player[_0x328405(0x125)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x4833b6(0x146)]('keyup',function(_0x8c1766){const _0xe00250=_0x4833b6;switch(_0x8c1766[_0xe00250(0x1c8)]){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0x4833b6(0x146)](_0x4833b6(0x169),function(_0x423fe7){const _0x18ae7b=_0x4833b6;mousePP['x']=_0x423fe7[_0x18ae7b(0x1a7)]-CANVAS['offsetLeft'],mousePP['y']=_0x423fe7['clientY']-CANVAS[_0x18ae7b(0x136)];});function moveCamera(){const _0x2ed135=_0x4833b6;map['x']=-player['x']/0x3+CANVAS[_0x2ed135(0x13f)]/0x6,map['y']=-player['y']/0x3+CANVAS[_0x2ed135(0x1bd)]/0x6,screenShake['counter']&&(screenShake[_0x2ed135(0x129)]--,screenShake[_0x2ed135(0x18a)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x5c2d50=_0x4833b6;c[_0x5c2d50(0x141)]=0x2,c[_0x5c2d50(0x1d2)]=sampleArrow[_0x5c2d50(0x13c)][0x0],c[_0x5c2d50(0x180)]();for(let _0x2711c4=playerArrows['length']-0x1;_0x2711c4>=0x0;_0x2711c4--){if(!playerArrows[_0x2711c4][_0x5c2d50(0x1a2)]||playerArrows[_0x2711c4][_0x5c2d50(0x149)]!=0x1)continue;playerArrows[_0x2711c4][_0x5c2d50(0x19a)]&&playerArrows[_0x2711c4][_0x5c2d50(0x19c)]();if(playerArrows[_0x2711c4]!==undefined)playerArrows[_0x2711c4]['draw']();}c['closePath'](),c[_0x5c2d50(0x18d)](),c[_0x5c2d50(0x1d2)]=sampleArrow['colors'][0x1],c[_0x5c2d50(0x180)]();for(let _0x1b2074=playerArrows[_0x5c2d50(0x15b)]-0x1;_0x1b2074>=0x0;_0x1b2074--){if(!playerArrows[_0x1b2074][_0x5c2d50(0x1a2)]||playerArrows[_0x1b2074]['color']!=0x2)continue;playerArrows[_0x1b2074][_0x5c2d50(0x19a)]&&playerArrows[_0x1b2074][_0x5c2d50(0x19c)]();if(playerArrows[_0x1b2074]!==undefined)playerArrows[_0x1b2074]['draw']();}c[_0x5c2d50(0x130)](),c[_0x5c2d50(0x18d)]();}function loop(){const _0x43b5ce=_0x4833b6;fps++,c['clearRect'](0x0,0x0,CANVAS[_0x43b5ce(0x13f)],CANVAS[_0x43b5ce(0x1bd)]),moveCamera(),map[_0x43b5ce(0x1a9)](),player[_0x43b5ce(0x19c)]();for(let _0x1f7a56=enemyProjectiles[_0x43b5ce(0x15b)]-0x1;_0x1f7a56>=0x0;_0x1f7a56--){enemyProjectiles[_0x1f7a56]['compute']();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x3f6347=0x0;_0x3f6347<monsters['length'];_0x3f6347++){!monsters[_0x3f6347][_0x43b5ce(0x132)]&&monsters[_0x3f6347][_0x43b5ce(0x19c)](),monsters[_0x3f6347][_0x43b5ce(0x1a9)]();}player[_0x43b5ce(0x1a9)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x391a84=enemyProjectiles[_0x43b5ce(0x15b)]-0x1;_0x391a84>=0x0;_0x391a84--){enemyProjectiles[_0x391a84][_0x43b5ce(0x1a9)]();}sword['active']&&(sword[_0x43b5ce(0x19c)](),sword[_0x43b5ce(0x1a9)]());for(let _0x37c21a=visualFxs[_0x43b5ce(0x15b)]-0x1;_0x37c21a>=0x0;_0x37c21a--){!visualFxs[_0x37c21a][_0x43b5ce(0x14f)]&&visualFxs[_0x37c21a]['draw']();}userInterface[_0x43b5ce(0x1a9)](),drawStats();}var lastUpdate=Date['now'](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0x45c197=_0x4833b6;var _0x100478=Date[_0x45c197(0x15c)](),_0xfcd1e0=_0x100478-lastUpdate;lastUpdate=_0x100478,DTR=0x3e8/0x3c/_0xfcd1e0,!gamePaused&&loop();}function _0x2fc2(){const _0x3c869e=['lineTo','free','imageSmoothingEnabled','compute','indexOf','onclick','checkCollisions','#2f4447','fillStyle','active','sort','FPS','<br>DTR:\x20','hpBar','clientX','translate','draw','properties','14px\x20Arial','arrowsArr','moveTo','arrow','noArrows','8dUAKcx','player.x\x20=\x20','currentFrame','justDamaged','yVel','save','innerHTML','center','lengthY','maxHp','hole','<br>mouseTile\x20pos\x20=\x20','push','height','yVelExt','yRel','lengthX','slowness','[QxFGxRQfNNMNBwyMUINJfmkHYVwGWFKLqvwpXGzRYKxQXDZpVSTHMGQUYJqBR]','FPS:\x20','1151536htdYmi','unpassable','style','QxsaaFGntxRQfonNNandMNrBweyMUI.NJfgmikthuHYVbwGWF.iKoL;lqvocawlhostpXGzRYKxQXDZpVSTHMGQUYJqBR','keyCode','drawImage','damage','headY','xVelExt','Start','actionY','radiansP','bow','return\x20(function()\x20','strokeStyle','keydown','267660CsZVCg','toPrecision','left','top','name','path','stats','xVel','computeQuiver','radians','justDied','abs','counter','framecounter','oncontextmenu','random','fromCharCode','shift','precision','closePath','arrowCounter','dead','pos','round','cos','offsetTop','crop','frameCounter','rotate','hp-bar','arrowSpeed','colors','projSpeed','innerHeight','width','vfxX','lineWidth','tiles','28980Sdalfd','./Archer.json','friendly','addEventListener','110023qGcLaj','button','color','<br>mouseTile.y\x20=\x20','attack','col','sheet','arrows','ended','hitbox','22CNAeLB','<br>player.y\x20=\x20','150QDKTAA','#ff8db5','innerWidth','arrowsCount','createGrid','swordImg','atan2','drawBow','length','now','justShot','attacked','fillText','rClick','maxMp','layout','charCodeAt','attacking','Empty','grass','replace','json','mousemove','centerY','speed','globalAlpha','shoot','<br>mouseTile.x\x20=\x20','points','7009758AjXkti','split','54016420ZqEnNL','centerX','XavWqbEMxhCout:blahniskCiKFNxWXEAOpd','type','collidable','sword-vfx','font','actionX','arrowCD','mousedown','solid','restore','portrait','xRel','beginPath','6619179LviUaq','ui-sheet','hypot','then','followPlayer','sword','Goal','vfxY','splice','set','sin','headX','stroke','lClick','preventDefault','atkBox','log','critChance','canvas','Obstacle','{}.constructor(\x22return\x20this\x22)(\x20)','<br>mouseTile\x20id\x20=\x20','mpBar','action'];_0x2fc2=function(){return _0x3c869e;};return _0x2fc2();}