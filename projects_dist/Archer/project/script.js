'strict';const _0x495aeb=_0x155f;(function(_0x49f107,_0xbaa3dd){const _0x23a1e7=_0x155f,_0x29e1d7=_0x49f107();while(!![]){try{const _0x46fcfc=parseInt(_0x23a1e7(0x265))/0x1+parseInt(_0x23a1e7(0x270))/0x2+-parseInt(_0x23a1e7(0x275))/0x3*(parseInt(_0x23a1e7(0x226))/0x4)+parseInt(_0x23a1e7(0x278))/0x5+-parseInt(_0x23a1e7(0x204))/0x6+parseInt(_0x23a1e7(0x1ec))/0x7+parseInt(_0x23a1e7(0x218))/0x8;if(_0x46fcfc===_0xbaa3dd)break;else _0x29e1d7['push'](_0x29e1d7['shift']());}catch(_0x1e8ed7){_0x29e1d7['push'](_0x29e1d7['shift']());}}}(_0x13e4,0x7195c));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id('canvas'),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS[_0x495aeb(0x262)]('2d');CANVAS[_0x495aeb(0x235)]=0x2e0,CANVAS[_0x495aeb(0x25b)]=0x1e0,CANVAS[_0x495aeb(0x254)]['left']=(window[_0x495aeb(0x1da)]-CANVAS[_0x495aeb(0x235)])/0x2+'px',CANVAS[_0x495aeb(0x254)]['top']=(window[_0x495aeb(0x25f)]-CANVAS[_0x495aeb(0x25b)])/0x2+'px',c[_0x495aeb(0x255)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x17ece7){const _0x2dbcf3=_0x495aeb,_0x37f49c=(function(){let _0x4a9dc1=!![];return function(_0xe7fdf2,_0x3c7453){const _0x38320d=_0x4a9dc1?function(){if(_0x3c7453){const _0x465c8a=_0x3c7453['apply'](_0xe7fdf2,arguments);return _0x3c7453=null,_0x465c8a;}}:function(){};return _0x4a9dc1=![],_0x38320d;};}()),_0x4a1f67=_0x37f49c(this,function(){const _0x5841cb=_0x155f,_0x5de70e=function(){const _0x13163b=_0x155f;let _0x4f32a2;try{_0x4f32a2=Function(_0x13163b(0x1ed)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x43a7ee){_0x4f32a2=window;}return _0x4f32a2;},_0x337053=_0x5de70e(),_0x20b4fe=new RegExp(_0x5841cb(0x1dc),'g'),_0x269ed1=_0x5841cb(0x264)[_0x5841cb(0x1fd)](_0x20b4fe,'')[_0x5841cb(0x23a)](';');let _0x58332e,_0x2c8661,_0x476573,_0x16e171;const _0x2322f0=function(_0x2c7e0c,_0x2ebdaf,_0x419518){const _0x555c10=_0x5841cb;if(_0x2c7e0c[_0x555c10(0x27c)]!=_0x2ebdaf)return![];for(let _0x110c4f=0x0;_0x110c4f<_0x2ebdaf;_0x110c4f++){for(let _0x43c7df=0x0;_0x43c7df<_0x419518[_0x555c10(0x27c)];_0x43c7df+=0x2){if(_0x110c4f==_0x419518[_0x43c7df]&&_0x2c7e0c['charCodeAt'](_0x110c4f)!=_0x419518[_0x43c7df+0x1])return![];}}return!![];},_0x3b059a=function(_0x44798b,_0x457b85,_0x59bac2){return _0x2322f0(_0x457b85,_0x59bac2,_0x44798b);},_0x43930e=function(_0x1b80fc,_0x567b5d,_0x18a255){return _0x3b059a(_0x567b5d,_0x1b80fc,_0x18a255);},_0x2367c6=function(_0x4cb12e,_0x23438a,_0x9a467c){return _0x43930e(_0x23438a,_0x9a467c,_0x4cb12e);};for(let _0x34e2c4 in _0x337053){if(_0x2322f0(_0x34e2c4,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x58332e=_0x34e2c4;break;}}for(let _0x1cfa18 in _0x337053[_0x58332e]){if(_0x2367c6(0x6,_0x1cfa18,[0x5,0x6e,0x0,0x64])){_0x2c8661=_0x1cfa18;break;}}for(let _0x1bf9b2 in _0x337053[_0x58332e]){if(_0x43930e(_0x1bf9b2,[0x7,0x6e,0x0,0x6c],0x8)){_0x476573=_0x1bf9b2;break;}}if(!('~'>_0x2c8661))for(let _0x2848d0 in _0x337053[_0x58332e][_0x476573]){if(_0x3b059a([0x7,0x65,0x0,0x68],_0x2848d0,0x8)){_0x16e171=_0x2848d0;break;}}if(!_0x58332e||!_0x337053[_0x58332e])return;const _0x4a5345=_0x337053[_0x58332e][_0x2c8661],_0x2e9f8c=!!_0x337053[_0x58332e][_0x476573]&&_0x337053[_0x58332e][_0x476573][_0x16e171],_0x24482c=_0x4a5345||_0x2e9f8c;if(!_0x24482c)return;let _0x3ec066=![];for(let _0x24cdd9=0x0;_0x24cdd9<_0x269ed1[_0x5841cb(0x27c)];_0x24cdd9++){const _0x1cc86c=_0x269ed1[_0x24cdd9],_0x4b8735=_0x1cc86c[0x0]===String[_0x5841cb(0x1e2)](0x2e)?_0x1cc86c['slice'](0x1):_0x1cc86c,_0x54b06f=_0x24482c[_0x5841cb(0x27c)]-_0x4b8735[_0x5841cb(0x27c)],_0x3e7896=_0x24482c['indexOf'](_0x4b8735,_0x54b06f),_0x102f3a=_0x3e7896!==-0x1&&_0x3e7896===_0x54b06f;_0x102f3a&&((_0x24482c[_0x5841cb(0x27c)]==_0x1cc86c[_0x5841cb(0x27c)]||_0x1cc86c[_0x5841cb(0x281)]('.')===0x0)&&(_0x3ec066=!![]));}if(!_0x3ec066){const _0x495512=new RegExp(_0x5841cb(0x1f2),'g'),_0x14f57e=_0x5841cb(0x227)[_0x5841cb(0x1fd)](_0x495512,'');_0x337053[_0x58332e][_0x476573]=_0x14f57e;}});return _0x4a1f67(),document[_0x2dbcf3(0x263)](_0x17ece7);}var fpsDiv=id(_0x495aeb(0x276));setInterval(function(){const _0x377bae=_0x495aeb;fpsDiv[_0x377bae(0x279)]=_0x377bae(0x25d)+fps,fpsDiv[_0x377bae(0x279)]+=_0x377bae(0x23e)+DTR[_0x377bae(0x251)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x5113c0=_0x495aeb;this['x']=Math[_0x5113c0(0x239)]()*0x8-0x4|0x0,this['y']=Math[_0x5113c0(0x239)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x45d655=_0x495aeb;this['x']=0x0,this['y']=0x0,this[_0x45d655(0x246)]=0x0,this[_0x45d655(0x21f)]=0x0,this['xRel']=0x0,this[_0x45d655(0x258)]=0x0,this[_0x45d655(0x21a)]=!![],this['free']=!![],this['friendly']=!![],this[_0x45d655(0x1f0)]=0x0,this[_0x45d655(0x272)]=0x0,this[_0x45d655(0x1f7)]=0x1,this[_0x45d655(0x1e9)]=0x0,this['colors']=[_0x45d655(0x23d),_0x45d655(0x1fe)],this['points']={'x':0x0,'y':0x0};}[_0x495aeb(0x200)](){const _0x1e9a2d=_0x495aeb;Math[_0x1e9a2d(0x241)](this['xVel']*0x3)>Math['abs'](this[_0x1e9a2d(0x1f0)])&&(this['lengthX']=this[_0x1e9a2d(0x21f)]*0x3,this['lengthY']=this[_0x1e9a2d(0x246)]*0x3),this['points']['x']=this['x']+this[_0x1e9a2d(0x1f0)],this[_0x1e9a2d(0x24f)]['y']=this['y']+this['lengthY'],c[_0x1e9a2d(0x220)](this['x']+map['x'],this['y']+map['y']),c[_0x1e9a2d(0x216)](this['x']+this[_0x1e9a2d(0x1f0)]+map['x'],this['y']+this[_0x1e9a2d(0x272)]+map['y']);}[_0x495aeb(0x274)](){const _0x37346a=_0x495aeb;this['x']+=this['xVel']/DTR,this['y']+=this[_0x37346a(0x246)]/DTR;if(getTileData(this['x'],this['y'])[_0x37346a(0x1e3)])visualFxs[_0x37346a(0x234)](new Explosion(this['x']+this['xVel'],this['y']+this[_0x37346a(0x246)],this[_0x37346a(0x1e9)])),this[_0x37346a(0x1e9)]==0x2&&(screenShake['counter']=0x5),this[_0x37346a(0x21f)]=0x0,this[_0x37346a(0x246)]=0x0,this[_0x37346a(0x1f0)]/=0x2,this[_0x37346a(0x272)]/=0x2,this[_0x37346a(0x1ef)]=![];else for(let _0x154e1f=monsters[_0x37346a(0x27c)]-0x1;_0x154e1f>=0x0;_0x154e1f--){let _0x20eb08=monsters[_0x154e1f];!_0x20eb08[_0x37346a(0x268)]&&_0x20eb08['collidable']&&((pointSquareCol(this,_0x20eb08)||pointSquareCol(this[_0x37346a(0x24f)],_0x20eb08))&&(this['active']=![],_0x20eb08[_0x37346a(0x1f8)]=this[_0x37346a(0x21f)]/0x2,_0x20eb08[_0x37346a(0x267)]=this[_0x37346a(0x246)]/0x2,visualFxs['push'](new Explosion(this['x'],this['y'],this[_0x37346a(0x1e9)])),this[_0x37346a(0x1e9)]==0x2&&(screenShake['counter']=0x5),this[_0x37346a(0x21f)]=0x0,this[_0x37346a(0x246)]=0x0,this[_0x37346a(0x257)]=this['x']-_0x20eb08['x'],this['yRel']=this['y']-_0x20eb08['y'],_0x20eb08[_0x37346a(0x206)][_0x37346a(0x234)](this),_0x20eb08['hp']-=this[_0x37346a(0x1f7)],_0x20eb08['justDamaged']=0xf));}}}var enemyProjectiles=[];function _0x13e4(){const _0x69b73=['84cOiGmP','HacHqbjouwtL:eblaRnkmjwPEmLvCGQNqACORK','vfxY','offsetTop','projSpeed','portrait','arrowsCount','atan2','swordImg','clearRect','bow','then','name','noArrows','push','width','hp-bar','sort','vfxX','random','split','arrow','justShot','#8b5851','<br>DTR:\x20','slowness','stroke','abs','shoot','textAlign','checkCollisions','rotate','yVel','arrowCounter','translate','hpBar','mousedown','radiansP','properties','onclick','maxHp','points','<br>mouseTile\x20id\x20=\x20','toPrecision','speed','sin','style','imageSmoothingEnabled','precision','xRel','yRel','Goal','grass','height','type','FPS:\x20','round','innerHeight','ui-sheet','actionY','getContext','getElementById','qsmaxanUtpwVOonanwdfreF.gHiQNtQhfqubD.fUkioLHp;floxcHalvGhxBOjTSosIyYyStAPIZGJDFzRIAHJqICLNpNpIIvZvBj','125204HVAlfE','critChance','yVelExt','dead','action','restore','sheet','now','offsetLeft','left','keydown','1436856tOaxFv','radians','lengthY','arrowCD','compute','59088WiVUKp','FPS','sword','691165uMSBGP','innerHTML','crop','createGrid','length','hitbox','save','arrowSpeed','drawBow','indexOf','set','counter','computeQuiver','centerX','14px\x20Arial','keyCode','innerWidth','unpassable','[qmxUpwVOwfFHQNQfqDfUkLHpfxHvGxBOjTSIyYySAPIZGJDFzRIAHJqICLNpNpIIvZvBj]','json','globalAlpha','colors','justDamaged','addEventListener','fromCharCode','solid','keyup','preventDefault','lClick','atkBox','#2f4447','color','<br>mouseTile.x\x20=\x20','<br>mouseTile.y\x20=\x20','156492XVrhxE','return\x20(function()\x20','log','free','lengthX','font','[HcHqjwLeRmjwPEmLvCGQNqACORK]','layout','cos','Start','followPlayer','damage','xVelExt','actionX','collidable','strokeStyle','framecounter','replace','#ff8db5','center','draw','mpBar','col','rect','1493556sjnlmm','attacked','arrows','rClick','drawImage','beginPath','sword-vfx','ended','frameCounter','maxMp','currentFrame','lineWidth','<br>player.y\x20=\x20','hole','path','hypot','player.x\x20=\x20','centerY','lineTo','pos','988520lziFhK','attack','active','button','attacking','splice','stats','xVel','moveTo','tiles','justDied','headY','arrowsArr','headX'];_0x13e4=function(){return _0x69b73;};return _0x13e4();}class EnemyProjectile{constructor(){const _0x361a18=_0x495aeb;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this['yVel']=0x0,this['xVel']=0x0,this[_0x361a18(0x1ef)]=!![],this['friendly']=![],this[_0x361a18(0x26b)]=id(_0x361a18(0x26b)),this['actionX']=[0x5],this['actionY']=[0x18],this[_0x361a18(0x25c)]=0x0,this[_0x361a18(0x1f7)]=0x5;}[_0x495aeb(0x274)](){const _0x3e5184=_0x495aeb;this['x']+=this[_0x3e5184(0x21f)]/DTR,this['y']+=this[_0x3e5184(0x246)]/DTR,getTileData(this['x'],this['y'])[_0x3e5184(0x1e3)]?(enemyProjectiles['splice'](enemyProjectiles[_0x3e5184(0x281)](this),0x1),visualFxs[_0x3e5184(0x234)](new Explosion(this['x']+this[_0x3e5184(0x21f)],this['y']+this[_0x3e5184(0x246)],0x1)),this[_0x3e5184(0x21f)]=0x0,this['yVel']=0x0,this[_0x3e5184(0x1f0)]/=0x2,this['lengthY']/=0x2,this[_0x3e5184(0x1ef)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x3e5184(0x21d)](enemyProjectiles['indexOf'](this),0x1),player['xVelExt']+=this[_0x3e5184(0x21f)]/0x2,player[_0x3e5184(0x267)]+=this[_0x3e5184(0x246)]/0x2,player['hp']-=this[_0x3e5184(0x1f7)],visualFxs[_0x3e5184(0x234)](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x3e5184(0x283)]=0x5);}[_0x495aeb(0x200)](){const _0x1a786c=_0x495aeb;c[_0x1a786c(0x208)](this[_0x1a786c(0x26b)],this[_0x1a786c(0x1f9)][this['type']]*TILESIZE,this['actionY'][this[_0x1a786c(0x25c)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x856d8a,_0x1be605,_0x492474){const _0x288207=_0x495aeb;this[_0x288207(0x26b)]=id(_0x288207(0x26b)),this['x']=_0x856d8a-0x10,this['y']=_0x1be605-0x10,this['w']=0x20,this['h']=0x20,this['frameCounter']=0x0,this[_0x288207(0x20e)]=0x0,this[_0x288207(0x269)]=_0x492474-0x1,this[_0x288207(0x1f9)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x288207(0x261)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this['slowness']=0x4,this[_0x288207(0x20b)]=![];}[_0x495aeb(0x200)](){const _0x8b74ff=_0x495aeb;c[_0x8b74ff(0x208)](this[_0x8b74ff(0x26b)],this[_0x8b74ff(0x1f9)][this[_0x8b74ff(0x269)]][this[_0x8b74ff(0x20e)]],this[_0x8b74ff(0x261)][this[_0x8b74ff(0x269)]][this[_0x8b74ff(0x20e)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this['frameCounter']++,this[_0x8b74ff(0x20c)]>this[_0x8b74ff(0x23f)]*DTR&&(this[_0x8b74ff(0x20c)]=0x0,this[_0x8b74ff(0x20e)]++,this[_0x8b74ff(0x20e)]>this[_0x8b74ff(0x1f9)][this['action']][_0x8b74ff(0x27c)]-0x1&&(this[_0x8b74ff(0x20b)]=!![]));}}class Collidable{constructor(){}['checkCollisions'](){const _0x379ae4=_0x495aeb;let _0x493b34;this[_0x379ae4(0x202)]['T']=0x0,this[_0x379ae4(0x202)]['B']=0x0,this[_0x379ae4(0x202)]['L']=0x0,this[_0x379ae4(0x202)]['R']=0x0,getTileData(this['x'],this['y'])[_0x379ae4(0x1db)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x493b34=colCheck(this,generatedSquare),this['x']+=(this[_0x379ae4(0x202)]['L']-this[_0x379ae4(0x202)]['R'])/0x5/DTR,this['y']+=(this[_0x379ae4(0x202)]['T']-this[_0x379ae4(0x202)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x379ae4(0x1db)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x493b34=colCheck(this,generatedSquare),this['x']+=(this[_0x379ae4(0x202)]['L']-this[_0x379ae4(0x202)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x379ae4(0x202)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x379ae4(0x1db)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x493b34=colCheck(this,generatedSquare),this['x']+=(this[_0x379ae4(0x202)]['L']-this[_0x379ae4(0x202)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x379ae4(0x202)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x379ae4(0x1db)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x493b34=colCheck(this,generatedSquare),this['x']+=(this[_0x379ae4(0x202)]['L']-this[_0x379ae4(0x202)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x379ae4(0x202)]['B'])/0x5/DTR),this[_0x379ae4(0x202)]['B']&&(this[_0x379ae4(0x267)]>0x0&&(this[_0x379ae4(0x267)]*=-0.5)),this[_0x379ae4(0x202)]['T']&&(this[_0x379ae4(0x267)]<0x0&&(this['yVelExt']*=-0.5)),this[_0x379ae4(0x202)]['R']&&(this[_0x379ae4(0x1f8)]>0x0&&(this[_0x379ae4(0x1f8)]*=-0.5)),this[_0x379ae4(0x202)]['L']&&(this[_0x379ae4(0x1f8)]<0x0&&(this[_0x379ae4(0x1f8)]*=-0.5));}}class Player extends Collidable{constructor(_0x20ad57,_0x547b7d){const _0x129ec4=_0x495aeb;super(Collidable),this['x']=_0x20ad57,this['y']=_0x547b7d,this['w']=TILESIZE,this['h']=TILESIZE,this['speed']=0x3,this[_0x129ec4(0x246)]=0x0,this['xVel']=0x0,this['yVelExt']=0x0,this[_0x129ec4(0x1f8)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x129ec4(0x27f)]=0xa,this[_0x129ec4(0x285)]=0x0,this['centerY']=0x0,this[_0x129ec4(0x202)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x129ec4(0x1f9)]=[0x0,0x20,0x40],this[_0x129ec4(0x261)]=[0x0,0x0,0x0],this[_0x129ec4(0x269)]=0x0,this[_0x129ec4(0x20c)]=0x0,this[_0x129ec4(0x23f)]=0x6,this['radians']=0x0,this['sword']=![],this[_0x129ec4(0x256)]=0x14,this[_0x129ec4(0x233)]=0x0,this['attacked']=0x0,this[_0x129ec4(0x224)]=[0x1,0x1,0x1,0x1,0x1],this[_0x129ec4(0x273)]=0x3c,this[_0x129ec4(0x247)]=0x0,this[_0x129ec4(0x22c)]=0x4,this['hp']=0x64,this[_0x129ec4(0x24e)]=0x64,this['mp']=0x64,this[_0x129ec4(0x20d)]=0x64,this[_0x129ec4(0x266)]=0.25,this['bow']={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}['computeQuiver'](){const _0x33a2e2=_0x495aeb;let _0x1d7149=!![],_0x254ca4;for(_0x254ca4=0x0;_0x254ca4<this[_0x33a2e2(0x224)][_0x33a2e2(0x27c)];_0x254ca4++){if(this[_0x33a2e2(0x224)][_0x254ca4]===0x0){_0x1d7149=![];break;}}this[_0x33a2e2(0x22c)]=_0x254ca4;if(!_0x1d7149){this[_0x33a2e2(0x247)]++;if(this[_0x33a2e2(0x247)]>this['arrowCD']*DTR)for(_0x254ca4=0x0;_0x254ca4<this['arrowsArr'][_0x33a2e2(0x27c)];_0x254ca4++){if(this[_0x33a2e2(0x224)][_0x254ca4]===0x0){Math[_0x33a2e2(0x239)]()<this[_0x33a2e2(0x266)]?this[_0x33a2e2(0x224)][_0x254ca4]=0x2:this[_0x33a2e2(0x224)][_0x254ca4]=0x1;this[_0x33a2e2(0x247)]=0x0;break;}}}else this[_0x33a2e2(0x247)]=0x0;}[_0x495aeb(0x274)](){const _0x393b6e=_0x495aeb;this[_0x393b6e(0x284)](),this[_0x393b6e(0x285)]=this['x']+this['w']/0x2,this[_0x393b6e(0x215)]=this['y']+this['h']/0x2,this[_0x393b6e(0x244)]();Math[_0x393b6e(0x241)](this[_0x393b6e(0x1f8)])>0.01?this[_0x393b6e(0x1f8)]-=this[_0x393b6e(0x1f8)]*0.1/DTR:this[_0x393b6e(0x1f8)]=0x0;Math[_0x393b6e(0x241)](this[_0x393b6e(0x267)])>0.01?this[_0x393b6e(0x267)]-=this['yVelExt']*0.1/DTR:this[_0x393b6e(0x267)]=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x393b6e(0x252)]=0x2:this[_0x393b6e(0x252)]=0x3;this['radians']=Math[_0x393b6e(0x22d)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x393b6e(0x21f)]=-this['speed'];else!this['R']&&(this['xVel']=0x0);if(this['R'])this[_0x393b6e(0x21f)]=this[_0x393b6e(0x252)];else!this['L']&&(this[_0x393b6e(0x21f)]=0x0);if(this['T'])this[_0x393b6e(0x246)]=-this[_0x393b6e(0x252)];else!this['B']&&(this[_0x393b6e(0x246)]=0x0);if(this['B'])this[_0x393b6e(0x246)]=this[_0x393b6e(0x252)];else!this['T']&&(this[_0x393b6e(0x246)]=0x0);this['x']+=(this['xVel']+this[_0x393b6e(0x1f8)])/DTR,this['y']+=(this[_0x393b6e(0x246)]+this[_0x393b6e(0x267)])/DTR;}[_0x495aeb(0x200)](){const _0x83acad=_0x495aeb;this[_0x83acad(0x21f)]===0x0&&this[_0x83acad(0x246)]===0x0?this[_0x83acad(0x269)]=0x0:(this[_0x83acad(0x20c)]++,this[_0x83acad(0x20c)]>=this[_0x83acad(0x23f)]*DTR&&(this[_0x83acad(0x269)]++,this[_0x83acad(0x20c)]=0x0,this[_0x83acad(0x269)]>=this[_0x83acad(0x1f9)][_0x83acad(0x27c)]&&(this[_0x83acad(0x269)]=0x0))),c['save'](),c[_0x83acad(0x248)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x83acad(0x245)](this[_0x83acad(0x271)]),c[_0x83acad(0x208)](id('player'),this[_0x83acad(0x1f9)][this['action']],this[_0x83acad(0x261)][this[_0x83acad(0x269)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x83acad(0x26a)](),this[_0x83acad(0x233)]&&(c[_0x83acad(0x208)](id(_0x83acad(0x26b)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x83acad(0x233)]--),this['bow']['active']&&this[_0x83acad(0x280)]();}[_0x495aeb(0x280)](){const _0x100253=_0x495aeb;this['bow']['frameCounter']++,this[_0x100253(0x230)][_0x100253(0x20c)]>=this[_0x100253(0x230)][_0x100253(0x23f)]*DTR&&(this[_0x100253(0x230)][_0x100253(0x269)]++,this[_0x100253(0x230)][_0x100253(0x20c)]=0x0,this[_0x100253(0x230)][_0x100253(0x21a)]>=this['bow'][_0x100253(0x1f9)][_0x100253(0x27c)]&&(this[_0x100253(0x230)][_0x100253(0x21a)]=![])),c[_0x100253(0x27e)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x100253(0x245)](this[_0x100253(0x271)]),c[_0x100253(0x208)](id('bow'),this[_0x100253(0x230)][_0x100253(0x1f9)][this['bow']['action']],this[_0x100253(0x230)][_0x100253(0x261)][this[_0x100253(0x230)][_0x100253(0x269)]],0x30,0x30,-this['bow']['w']/0x2,-this['bow']['h'],this['bow']['w'],this[_0x100253(0x230)]['h']),c[_0x100253(0x26a)]();}[_0x495aeb(0x242)](){const _0x56fadd=_0x495aeb;this['bow'][_0x56fadd(0x21a)]=!![],this[_0x56fadd(0x230)][_0x56fadd(0x20c)]=0x0,this[_0x56fadd(0x230)][_0x56fadd(0x20e)]=0x0,this[_0x56fadd(0x230)][_0x56fadd(0x269)]=0x0;let _0x5cd527=this['x']+this['w']/0x2,_0x4f8f08=this['y']+this['h']/0x2,_0x56902e=Mouse['x']-_0x5cd527+Math[_0x56fadd(0x239)]()*this['precision']-this['precision']/0x2,_0x5876c4=Mouse['y']-_0x4f8f08+Math['random']()*this[_0x56fadd(0x256)]-this['precision']/0x2,_0x4c714b=Math[_0x56fadd(0x22d)](_0x5876c4,_0x56902e),_0x3f4d20=Math[_0x56fadd(0x1f4)](_0x4c714b),_0x42872d=Math['sin'](_0x4c714b),_0x4f512f=new Projectile();_0x4f512f['xVel']=_0x3f4d20*this['arrowSpeed'],_0x4f512f[_0x56fadd(0x246)]=_0x42872d*this[_0x56fadd(0x27f)],_0x4f512f['x']=_0x5cd527,_0x4f512f['y']=_0x4f8f08,_0x4f512f['color']=this['arrowsArr'][0x0],playerArrows[_0x56fadd(0x234)](_0x4f512f),this[_0x56fadd(0x224)]['shift'](),this['arrowsArr']['push'](0x0);}[_0x495aeb(0x219)](){const _0x1f051a=_0x495aeb;if(!sword['active']){sword[_0x1f051a(0x21a)]=!![],sword[_0x1f051a(0x24b)]=this[_0x1f051a(0x271)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x5e0602=this['x']+this['w']/0x2,_0x2aac71=this['y']+this['h']/0x2,_0x22192a=returnCosine(Mouse['x'],Mouse['y'],_0x5e0602,_0x2aac71);this[_0x1f051a(0x1f8)]=_0x22192a['cos']*0xe,this['yVelExt']=_0x22192a[_0x1f051a(0x253)]*0xe;}}}}var player=new Player(CANVAS[_0x495aeb(0x235)]/0x2,CANVAS['height']/0x4*0x3);class UserInterface{constructor(){const _0x2ed919=_0x495aeb;this[_0x2ed919(0x26b)]=id(_0x2ed919(0x260)),this['x']=0x14,this['y']=0x5,this[_0x2ed919(0x1e6)]=![],this[_0x2ed919(0x207)]=![],this[_0x2ed919(0x205)]=0x0,this['layout']={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0x2ed919(0x22b)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0x2ed919(0x249)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0x2ed919(0x201)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x2ed919(0x230)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x2ed919(0x277)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x2ed919(0x23b)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x2ed919(0x224)]=[0x1,0x1,0x1,0x1];}[_0x495aeb(0x200)](){const _0x5b989b=_0x495aeb;this[_0x5b989b(0x1e6)]&&(c['globalAlpha']=0.5);c['drawImage'](this[_0x5b989b(0x26b)],this['bow'][_0x5b989b(0x27a)]['x'],this[_0x5b989b(0x230)][_0x5b989b(0x27a)]['y'],this[_0x5b989b(0x230)][_0x5b989b(0x27a)]['w'],this['bow'][_0x5b989b(0x27a)]['h'],this['bow'][_0x5b989b(0x217)]['x'],this[_0x5b989b(0x230)][_0x5b989b(0x217)]['y'],this[_0x5b989b(0x230)][_0x5b989b(0x27a)]['w'],this['bow'][_0x5b989b(0x27a)]['h']);this[_0x5b989b(0x1e6)]&&(c['globalAlpha']=0x1);this[_0x5b989b(0x207)]&&(c['globalAlpha']=0.5);c['drawImage'](this['sheet'],this['sword'][_0x5b989b(0x27a)]['x'],this['sword']['crop']['y'],this[_0x5b989b(0x277)]['crop']['w'],this['sword'][_0x5b989b(0x27a)]['h'],this['sword'][_0x5b989b(0x217)]['x'],this[_0x5b989b(0x277)]['pos']['y'],this[_0x5b989b(0x277)][_0x5b989b(0x27a)]['w'],this[_0x5b989b(0x277)][_0x5b989b(0x27a)]['h']);this[_0x5b989b(0x207)]&&(c[_0x5b989b(0x1de)]=0x1);c['drawImage'](this[_0x5b989b(0x26b)],this[_0x5b989b(0x1f3)]['crop']['x'],this[_0x5b989b(0x1f3)]['crop']['y'],this['layout']['crop']['w'],this[_0x5b989b(0x1f3)]['crop']['h'],this['layout']['pos']['x']+this['x'],this['layout'][_0x5b989b(0x217)]['y']+this['y'],this[_0x5b989b(0x1f3)][_0x5b989b(0x27a)]['w'],this[_0x5b989b(0x1f3)][_0x5b989b(0x27a)]['h']),c[_0x5b989b(0x208)](this['sheet'],this['portrait'][_0x5b989b(0x27a)][player['attacked']]['x'],this['portrait']['crop'][player[_0x5b989b(0x205)]]['y'],this[_0x5b989b(0x22b)]['crop'][player['attacked']]['w'],this[_0x5b989b(0x22b)][_0x5b989b(0x27a)][player[_0x5b989b(0x205)]]['h'],this[_0x5b989b(0x22b)]['pos']['x']+this['x'],this['portrait'][_0x5b989b(0x217)]['y']+this['y'],this[_0x5b989b(0x22b)][_0x5b989b(0x27a)][player[_0x5b989b(0x205)]]['w'],this[_0x5b989b(0x22b)][_0x5b989b(0x27a)][player['attacked']]['h']),c['drawImage'](this[_0x5b989b(0x26b)],this[_0x5b989b(0x249)][_0x5b989b(0x27a)]['x'],this[_0x5b989b(0x249)][_0x5b989b(0x27a)]['y'],this[_0x5b989b(0x249)][_0x5b989b(0x27a)]['w'],this[_0x5b989b(0x249)][_0x5b989b(0x27a)]['h'],this[_0x5b989b(0x249)][_0x5b989b(0x217)]['x']+this['x'],this['hpBar'][_0x5b989b(0x217)]['y']+this['y'],this[_0x5b989b(0x249)][_0x5b989b(0x27a)]['w']/player[_0x5b989b(0x24e)]*player['hp'],this['hpBar'][_0x5b989b(0x27a)]['h']),c['drawImage'](this['sheet'],this[_0x5b989b(0x201)][_0x5b989b(0x27a)]['x'],this['mpBar'][_0x5b989b(0x27a)]['y'],this['mpBar'][_0x5b989b(0x27a)]['w'],this['mpBar'][_0x5b989b(0x27a)]['h'],this[_0x5b989b(0x201)][_0x5b989b(0x217)]['x']+this['x'],this[_0x5b989b(0x201)][_0x5b989b(0x217)]['y']+this['y'],this[_0x5b989b(0x201)]['crop']['w'],this[_0x5b989b(0x201)][_0x5b989b(0x27a)]['h']);for(let _0x42ac2f=0x0;_0x42ac2f<player[_0x5b989b(0x224)][_0x5b989b(0x27c)];_0x42ac2f++){c['drawImage'](this['sheet'],this[_0x5b989b(0x23b)]['crop'][player[_0x5b989b(0x224)][_0x42ac2f]]['x'],this[_0x5b989b(0x23b)][_0x5b989b(0x27a)][player['arrowsArr'][_0x42ac2f]]['y'],this[_0x5b989b(0x23b)]['crop'][player[_0x5b989b(0x224)][_0x42ac2f]]['w'],this['arrow'][_0x5b989b(0x27a)][player[_0x5b989b(0x224)][_0x42ac2f]]['h'],this[_0x5b989b(0x23b)][_0x5b989b(0x217)]['x']+this['x']-0xa*_0x42ac2f,this['arrow'][_0x5b989b(0x217)]['y']+this['y'],this[_0x5b989b(0x23b)][_0x5b989b(0x27a)][player[_0x5b989b(0x224)][_0x42ac2f]]['w'],this[_0x5b989b(0x23b)]['crop'][player['arrowsArr'][_0x42ac2f]]['h']);}c[_0x5b989b(0x1f1)]=_0x5b989b(0x286),c[_0x5b989b(0x243)]=_0x5b989b(0x1ff),c['fillStyle']=_0x5b989b(0x1e8),c['fillText'](player[_0x5b989b(0x22c)]+'/'+player[_0x5b989b(0x224)][_0x5b989b(0x27c)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x424c12=_0x495aeb;let _0x5deeeb=player['x']+player['w']/0x2,_0x544630=player['y']+player['h']/0x2,_0x1da66a=_0x5deeeb,_0x46a965=_0x544630,_0x365dd7=![],_0x2a78dd=0x0,_0xe4f6a5=returnCosine(_0x5deeeb,_0x544630,Mouse['x'],Mouse['y']),_0x2b05a6=[],_0x9bf026={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x3515a3={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x580958=0x4,_0x4c37ad={'x':0x0,'y':0x0};while(!_0x365dd7&&_0x2a78dd<CANVAS[_0x424c12(0x235)]*0x2/_0x580958){_0x1da66a-=_0xe4f6a5[_0x424c12(0x1f4)]*_0x580958,_0x46a965-=_0xe4f6a5[_0x424c12(0x253)]*_0x580958;getTileData(_0x1da66a,_0x46a965)[_0x424c12(0x1e3)]&&(_0x9bf026=getTileData(_0x1da66a,_0x46a965)[_0x424c12(0x27d)],_0x3515a3['x']=_0x9bf026['x'],_0x3515a3['y']=_0x9bf026['y'],_0x3515a3['w']=_0x9bf026['w'],_0x3515a3['h']=_0x9bf026['h'],_0x3515a3['x']+=_0x1da66a-_0x1da66a%TILESIZE,_0x3515a3['y']+=_0x46a965-_0x46a965%TILESIZE,_0x365dd7=!![]);_0x4c37ad['x']=_0x1da66a,_0x4c37ad['y']=_0x46a965;for(let _0x4f705c=0x0;_0x4f705c<monsters[_0x424c12(0x27c)];_0x4f705c++){if(!monsters[_0x4f705c]['dead']&&pointSquareCol(_0x4c37ad,monsters[_0x4f705c])){_0x3515a3['x']=monsters[_0x4f705c]['x'],_0x3515a3['y']=monsters[_0x4f705c]['y'],_0x3515a3['w']=monsters[_0x4f705c]['w'],_0x3515a3['h']=monsters[_0x4f705c]['h'],_0x365dd7=!![];break;}}_0x2a78dd++;}_0x2b05a6=getRectSides(_0x3515a3);let _0x4c0e39=[],_0x57dc10={},_0x391353;for(let _0x1e47bb=0x0;_0x1e47bb<_0x2b05a6[_0x424c12(0x27c)];_0x1e47bb++){_0x57dc10=intersect(_0x5deeeb,_0x544630,_0x1da66a,_0x46a965,_0x2b05a6[_0x1e47bb]['x1'],_0x2b05a6[_0x1e47bb]['y1'],_0x2b05a6[_0x1e47bb]['x2'],_0x2b05a6[_0x1e47bb]['y2']),_0x57dc10&&_0x4c0e39[_0x424c12(0x234)](_0x57dc10);}let _0x3be10e=Math[_0x424c12(0x213)](_0x5deeeb-_0x1da66a,_0x544630-_0x46a965),_0x2c93c3=_0x1da66a,_0x42337d=_0x1da66a;for(let _0x2a6951=0x0;_0x2a6951<_0x4c0e39[_0x424c12(0x27c)];_0x2a6951++){_0x391353=Math[_0x424c12(0x213)](_0x5deeeb-_0x1da66a,_0x544630-_0x46a965),_0x391353<_0x3be10e&&(_0x3be10e=_0x391353,_0x2c93c3=_0x4c0e39[_0x2a6951]['x'],_0x42337d=_0x4c0e39[_0x2a6951]['y']);}c[_0x424c12(0x1fb)]='#ff0000',c[_0x424c12(0x209)](),c[_0x424c12(0x220)](_0x5deeeb+map['x'],_0x544630+map['y']),c['lineTo'](_0x1da66a+map['x'],_0x46a965+map['y']),c[_0x424c12(0x240)](),c['strokeStyle']='black';}function isObstructed(_0x1efd5f,_0x39c806){const _0x4c7384=_0x495aeb;let _0x33dab6=_0x1efd5f['x']+_0x1efd5f['w']/0x2,_0x3eea39=_0x1efd5f['y']+_0x1efd5f['h']/0x2,_0xdc6790=_0x39c806['x']+_0x39c806['w']/0x2,_0x47e0a6=_0x39c806['y']+_0x39c806['h']/0x2,_0x32179c=Math[_0x4c7384(0x213)](_0x33dab6-_0xdc6790,_0x3eea39-_0x47e0a6),_0x2be8d5=_0x33dab6,_0x48579f=_0x3eea39,_0x43fd9d=![],_0x5e3292=0x0,_0x362aef=returnCosine(_0x33dab6,_0x3eea39,_0xdc6790,_0x47e0a6),_0x22e8ae=[],_0x5bf107={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x52ee23={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x39842e=0x3,_0xd951d9={'x':0x0,'y':0x0};while(!_0x43fd9d&&_0x5e3292<_0x32179c/_0x39842e){_0x2be8d5-=_0x362aef[_0x4c7384(0x1f4)]*_0x39842e,_0x48579f-=_0x362aef[_0x4c7384(0x253)]*_0x39842e;if(getTileData(_0x2be8d5,_0x48579f)[_0x4c7384(0x1e3)])return _0x5bf107=getTileData(_0x2be8d5,_0x48579f)[_0x4c7384(0x27d)],_0x52ee23['x']=_0x5bf107['x'],_0x52ee23['y']=_0x5bf107['y'],_0x52ee23['w']=_0x5bf107['w'],_0x52ee23['h']=_0x5bf107['h'],_0x52ee23['x']+=_0x2be8d5-_0x2be8d5%TILESIZE,_0x52ee23['y']+=_0x48579f-_0x48579f%TILESIZE,!![];_0xd951d9['x']=_0x2be8d5,_0xd951d9['y']=_0x48579f;if(pointSquareCol(_0xd951d9,_0x39c806))return![];_0x5e3292++;}}function getRectSides(_0x4358e9){const _0x59ac0b=_0x495aeb;let _0x94cc72=[];return _0x94cc72[_0x59ac0b(0x234)]({'x1':_0x4358e9['x'],'y1':_0x4358e9['y'],'x2':_0x4358e9['x']+_0x4358e9['w'],'y2':_0x4358e9['y']}),_0x94cc72[_0x59ac0b(0x234)]({'x1':_0x4358e9['x']+_0x4358e9['w'],'y1':_0x4358e9['y'],'x2':_0x4358e9['x']+_0x4358e9['w'],'y2':_0x4358e9['y']+_0x4358e9['h']}),_0x94cc72[_0x59ac0b(0x234)]({'x1':_0x4358e9['x']+_0x4358e9['w'],'y1':_0x4358e9['y']+_0x4358e9['h'],'x2':_0x4358e9['x'],'y2':_0x4358e9['y']+_0x4358e9['h']}),_0x94cc72[_0x59ac0b(0x234)]({'x1':_0x4358e9['x'],'y1':_0x4358e9['y']+_0x4358e9['h'],'x2':_0x4358e9['x'],'y2':_0x4358e9['y']}),_0x94cc72;}function init(){const _0x529509=_0x495aeb;let _0x1a244b,_0x449e75={};fetch('./Archer.json')['then'](function(_0x216bea){const _0x3ad4a2=_0x155f;return _0x216bea[_0x3ad4a2(0x1dd)]();})[_0x529509(0x231)](function(_0x11f076){const _0x2d0f9b=_0x529509;_0x1a244b=_0x11f076[_0x2d0f9b(0x221)];for(let _0x5b73ba=0x0;_0x5b73ba<_0x1a244b['length'];_0x5b73ba++){_0x449e75={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x449e75['id']=_0x1a244b[_0x5b73ba]['id'];if(_0x1a244b[_0x5b73ba]['hasOwnProperty']('properties'))for(let _0x3dba75=0x0;_0x3dba75<_0x1a244b[_0x5b73ba][_0x2d0f9b(0x24c)][_0x2d0f9b(0x27c)];_0x3dba75++){if(_0x1a244b[_0x5b73ba][_0x2d0f9b(0x24c)][_0x3dba75])switch(_0x1a244b[_0x5b73ba]['properties'][_0x3dba75][_0x2d0f9b(0x232)]){case _0x2d0f9b(0x211):_0x449e75[_0x2d0f9b(0x211)]=!![],_0x449e75[_0x2d0f9b(0x1db)]=!![];break;case _0x2d0f9b(0x1e3):_0x449e75['solid']=!![],_0x449e75[_0x2d0f9b(0x1db)]=!![];break;}}TilesData[_0x2d0f9b(0x234)](_0x449e75);}loop();});}init();var HP_BAR=id(_0x495aeb(0x236));function renderHpBars(){const _0x1ed32b=_0x495aeb;for(let _0x2719ec=0x0;_0x2719ec<monsters['length'];_0x2719ec++){if(monsters[_0x2719ec][_0x1ed32b(0x268)])continue;let _0x354977=monsters[_0x2719ec]['hp']/monsters[_0x2719ec][_0x1ed32b(0x24e)],_0x43c596=Math[_0x1ed32b(0x25e)](TILESIZE*_0x354977);c[_0x1ed32b(0x208)](HP_BAR,0x0,0x4,_0x43c596,0x4,monsters[_0x2719ec]['x']+monsters[_0x2719ec]['w']/0x2-0x10+map['x']|0x0,monsters[_0x2719ec]['y']-0x8+map['y']|0x0,_0x43c596|0x0,0x4|0x0),c[_0x1ed32b(0x208)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x2719ec]['x']+monsters[_0x2719ec]['w']/0x2-0x10+map['x']|0x0,monsters[_0x2719ec]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x8a455c=_0x495aeb;this[_0x8a455c(0x235)]=0x17,this[_0x8a455c(0x25b)]=0xf,this['x']=0x0,this['y']=0x0,this['tiles']=maps['m1'],this[_0x8a455c(0x26b)]=id('sheet'),this[_0x8a455c(0x25a)]=id(_0x8a455c(0x25a));}[_0x495aeb(0x200)](){const _0x465104=_0x495aeb;for(let _0x28154f=0x0;_0x28154f<this[_0x465104(0x221)][_0x465104(0x27c)];_0x28154f++){_0x28154f==0x1&&c[_0x465104(0x208)](this[_0x465104(0x25a)],0x0+this['x'],0x0+this['y'],CANVAS[_0x465104(0x235)],CANVAS[_0x465104(0x25b)]);for(let _0x3edfe6=0x0;_0x3edfe6<this['tiles'][_0x28154f]['length'];_0x3edfe6++){if(this[_0x465104(0x221)][_0x28154f][_0x3edfe6]===0x0)continue;c[_0x465104(0x208)](this[_0x465104(0x26b)],(this[_0x465104(0x221)][_0x28154f][_0x3edfe6]-0x1)%0xf*TILESIZE,((this['tiles'][_0x28154f][_0x3edfe6]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x3edfe6%this[_0x465104(0x235)]*TILESIZE+map['x'],(_0x3edfe6/this[_0x465104(0x235)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x286446=_0x495aeb;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this['radians']=0x2,this[_0x286446(0x24b)]=0x0,this[_0x286446(0x1f9)]=[0x0],this['actionY']=[0x0],this['vfxX']=[0x0,0x0,0x0,0x0],this[_0x286446(0x228)]=[0x0,0x80,0x100,0x180],this[_0x286446(0x20e)]=0x0,this[_0x286446(0x20c)]=0x0,this[_0x286446(0x269)]=0x0,this[_0x286446(0x23f)]=0x3,this[_0x286446(0x21a)]=![],this[_0x286446(0x26b)]=id(_0x286446(0x20a)),this[_0x286446(0x22e)]=id(_0x286446(0x277));}[_0x495aeb(0x274)](){const _0x25e332=_0x495aeb;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x47ba06,_0x1cb6e8,_0x981604;for(let _0x56523f=0x0;_0x56523f<monsters[_0x25e332(0x27c)];_0x56523f++){if(monsters[_0x56523f][_0x25e332(0x268)]||!monsters[_0x56523f]['collidable'])continue;_0x47ba06=monsters[_0x56523f][_0x25e332(0x27d)]['x']+monsters[_0x56523f][_0x25e332(0x27d)]['w']/0x2,_0x1cb6e8=monsters[_0x56523f][_0x25e332(0x27d)]['y']+monsters[_0x56523f]['hitbox']['h']/0x2,_0x981604=(monsters[_0x56523f]['w']+monsters[_0x56523f]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x47ba06,_0x1cb6e8,_0x981604)){let _0x1fafb2=this['x']+this['w']/0x2,_0x50ce42=this['y']+this['h']/0x2,_0x2c9f79=monsters[_0x56523f]['x']-_0x1fafb2,_0x152dd0=monsters[_0x56523f]['y']-_0x50ce42,_0x38337e=Math[_0x25e332(0x22d)](_0x152dd0,_0x2c9f79),_0x1c87d6=Math[_0x25e332(0x1f4)](_0x38337e),_0x510c8e=Math[_0x25e332(0x253)](_0x38337e);monsters[_0x56523f]['xVelExt']=_0x1c87d6*0xa,monsters[_0x56523f][_0x25e332(0x267)]=_0x510c8e*0xa,monsters[_0x56523f]['hp']-=0.25,monsters[_0x56523f][_0x25e332(0x1e0)]=0xf;}}}[_0x495aeb(0x200)](){const _0x3c20ba=_0x495aeb;this[_0x3c20ba(0x20c)]++,this[_0x3c20ba(0x20c)]>this[_0x3c20ba(0x23f)]*DTR&&(this[_0x3c20ba(0x20c)]=0x0,this[_0x3c20ba(0x20e)]++,this[_0x3c20ba(0x20e)]>=this[_0x3c20ba(0x238)][_0x3c20ba(0x27c)]&&(this[_0x3c20ba(0x20e)]=0x0)),c[_0x3c20ba(0x208)](this['sheet'],this[_0x3c20ba(0x238)][this['currentFrame']],this[_0x3c20ba(0x228)][this[_0x3c20ba(0x20e)]],0x80,0x40,this['x']-0x40-player['xVelExt']*0x4+map['x'],this['y']-0x40-player[_0x3c20ba(0x267)]*0x4+map['y'],0x80,0x40),c[_0x3c20ba(0x27e)](),c[_0x3c20ba(0x248)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x3c20ba(0x245)](this[_0x3c20ba(0x24b)]+this['radians']),c[_0x3c20ba(0x208)](this[_0x3c20ba(0x22e)],this[_0x3c20ba(0x1f9)][this['action']],this['actionY'][this[_0x3c20ba(0x269)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x3c20ba(0x26a)](),this[_0x3c20ba(0x271)]-=0.5/DTR,this[_0x3c20ba(0x271)]<=-0x9&&(this[_0x3c20ba(0x21a)]=![],this[_0x3c20ba(0x271)]=0x2),c[_0x3c20ba(0x208)](this['sheet'],this[_0x3c20ba(0x238)][this[_0x3c20ba(0x20e)]],this['vfxY'][this[_0x3c20ba(0x20e)]]+0x40,0x80,0x40,this['x']-0x40-player['xVelExt']*0x4+map['x'],this['y']-player[_0x3c20ba(0x267)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x48f708=_0x495aeb;monsters[_0x48f708(0x237)](function(_0x19a573,_0x544a51){const _0x2b3e1e=_0x48f708;if(_0x19a573[_0x2b3e1e(0x268)]&&!_0x544a51[_0x2b3e1e(0x268)])return-0x1;else return!_0x19a573[_0x2b3e1e(0x268)]&&_0x544a51[_0x2b3e1e(0x268)]?0x1:_0x19a573['y']+0xf-_0x544a51['y'];});}function adjustCollidingMonsters(){const _0x40a45a=_0x495aeb;for(let _0x8e40e3=0x0;_0x8e40e3<monsters[_0x40a45a(0x27c)];_0x8e40e3++){if(monsters[_0x8e40e3][_0x40a45a(0x268)])continue;monsters[_0x8e40e3][_0x40a45a(0x202)]['T']=0x0,monsters[_0x8e40e3]['col']['B']=0x0,monsters[_0x8e40e3]['col']['L']=0x0,monsters[_0x8e40e3][_0x40a45a(0x202)]['R']=0x0;for(let _0x5f1664=0x0;_0x5f1664<monsters['length'];_0x5f1664++){if(monsters[_0x5f1664]['dead'])continue;if(collided(monsters[_0x8e40e3],monsters[_0x5f1664])){let _0x48c32e=colCheck(monsters[_0x8e40e3],monsters[_0x5f1664]);switch(_0x48c32e){case'l':this[_0x40a45a(0x21f)]<0x0&&(this[_0x40a45a(0x21f)]=0x0);break;case'r':this[_0x40a45a(0x21f)]>0x0&&(this[_0x40a45a(0x21f)]=0x0);break;case'b':this[_0x40a45a(0x246)]>0x0&&(this['yVel']=0x0);break;case't':this['yVel']<0x0&&(this[_0x40a45a(0x246)]=0x0);break;}monsters[_0x8e40e3][_0x40a45a(0x21f)]+=(monsters[_0x8e40e3]['col']['L']-monsters[_0x8e40e3][_0x40a45a(0x202)]['R'])/0x5,monsters[_0x8e40e3][_0x40a45a(0x246)]+=(monsters[_0x8e40e3]['col']['T']-monsters[_0x8e40e3][_0x40a45a(0x202)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x3e6707,_0x104c05){const _0x48d33c=_0x495aeb;super(Collidable),this['x']=_0x3e6707,this['y']=_0x104c05,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x48d33c(0x21f)]=0x0,this[_0x48d33c(0x246)]=0x0,this[_0x48d33c(0x1f8)]=0x0,this[_0x48d33c(0x267)]=0x0,this[_0x48d33c(0x252)]=0x2,this[_0x48d33c(0x26e)]=0x0,this[_0x48d33c(0x222)]=![],this[_0x48d33c(0x1e0)]=0x0,this['dead']=![],this[_0x48d33c(0x206)]=[],this[_0x48d33c(0x24e)]=0x3,this['hp']=0x3,this[_0x48d33c(0x20c)]=0x0,this[_0x48d33c(0x23f)]=0x4,this[_0x48d33c(0x20e)]=0x0,this['collidable']=!![],this['sheet']=id(_0x48d33c(0x26b)),this[_0x48d33c(0x269)]=0x0,this[_0x48d33c(0x202)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x48d33c(0x1f9)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x48d33c(0x261)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x495aeb(0x1f6)](){const _0x13e455=_0x495aeb;if(this['action']!==0x0){let _0x5699a6=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x31d3d1=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x1396de=_0x5699a6>0x0?-0x1:0x1,_0x37bb01=_0x31d3d1>0x0?-0x1:0x1,_0xa7dccf;_0x31d3d1!==0x0?_0xa7dccf=Math['abs'](_0x5699a6)/(Math[_0x13e455(0x241)](_0x31d3d1)+Math['abs'](_0x5699a6)):_0xa7dccf=0x0;this[_0x13e455(0x21f)]=this['speed']*_0xa7dccf*_0x1396de,this[_0x13e455(0x246)]=this[_0x13e455(0x252)]*(0x1-_0xa7dccf)*_0x37bb01;if(this['x']+this['w']<player['x'])this[_0x13e455(0x26e)]=![];else player['x']+player['w']<this['x']&&(this['left']=!![]);}}[_0x495aeb(0x274)](){const _0x49fdab=_0x495aeb;if(!this[_0x49fdab(0x268)]){this[_0x49fdab(0x1f6)]();Math['abs'](this[_0x49fdab(0x1f8)])>0.01?this['xVelExt']*=0.9:this[_0x49fdab(0x1f8)]=0x0;Math['abs'](this[_0x49fdab(0x267)])>0.01?this[_0x49fdab(0x267)]*=0.9:this['yVelExt']=0x0;(this['col']['T']&&this[_0x49fdab(0x246)]<0x0||this[_0x49fdab(0x202)]['B']&&this[_0x49fdab(0x246)]>0x0)&&(this[_0x49fdab(0x246)]=0x0);(this[_0x49fdab(0x202)]['L']&&this[_0x49fdab(0x21f)]<0x0||this[_0x49fdab(0x202)]['R']&&this[_0x49fdab(0x21f)]>0x0)&&(this[_0x49fdab(0x21f)]=0x0);this[_0x49fdab(0x269)]!==0x0&&(this['left']?this['action']=0x2:this[_0x49fdab(0x269)]=0x1);this[_0x49fdab(0x244)](),this['x']+=(this['xVel']+this['xVelExt'])/DTR,this['y']+=(this[_0x49fdab(0x246)]+this[_0x49fdab(0x267)])/DTR;for(let _0x201fda=0x0;_0x201fda<this[_0x49fdab(0x206)]['length'];_0x201fda++){this[_0x49fdab(0x206)][_0x201fda]['x']=this['x']+this['arrows'][_0x201fda][_0x49fdab(0x257)],this[_0x49fdab(0x206)][_0x201fda]['y']=this['y']+this[_0x49fdab(0x206)][_0x201fda][_0x49fdab(0x258)];}this['hitbox']['x']=this['x']+0x6,this[_0x49fdab(0x27d)]['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x49fdab(0x222)]=!![]),this[_0x49fdab(0x222)]&&(this['justDamaged']=0x0,this[_0x49fdab(0x268)]=!![],this[_0x49fdab(0x269)]=0x3,this['frameCounter']=0x0,this[_0x49fdab(0x20e)]=0x0,this[_0x49fdab(0x23f)]=0xa);}}[_0x495aeb(0x200)](){const _0x104655=_0x495aeb;this[_0x104655(0x20c)]++;this[_0x104655(0x20c)]>this[_0x104655(0x23f)]*DTR&&(this[_0x104655(0x20c)]=0x0,this['currentFrame']++,this[_0x104655(0x20e)]>=this[_0x104655(0x1f9)][this[_0x104655(0x269)]][_0x104655(0x27c)]&&(this['action']==0x0&&(this[_0x104655(0x269)]=0x1+this[_0x104655(0x26e)]),this[_0x104655(0x20e)]=0x0));this['action']==0x3&&(this[_0x104655(0x20e)]==this['actionX'][this[_0x104655(0x269)]][_0x104655(0x27c)]-0x1&&(this[_0x104655(0x20c)]=0x0));if(!this[_0x104655(0x268)])for(let _0x117072=0x0;_0x117072<this['arrows'][_0x104655(0x27c)];_0x117072++){this[_0x104655(0x206)][_0x117072]['draw']();}this['justDamaged']>0x0&&(this[_0x104655(0x269)]=0x4,this[_0x104655(0x20e)]=0x0,this[_0x104655(0x1fc)]=0x0,this[_0x104655(0x1e0)]-=0x1/DTR),c['drawImage'](this[_0x104655(0x26b)],this[_0x104655(0x1f9)][this[_0x104655(0x269)]][this[_0x104655(0x20e)]]*TILESIZE,this['actionY'][this[_0x104655(0x269)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x4d63c8,_0x2657dc){const _0x2466fb=_0x495aeb;super(Collidable),this['x']=(_0x4d63c8/TILESIZE|0x0)*TILESIZE,this['y']=(_0x2657dc/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x2466fb(0x21f)]=0x0,this[_0x2466fb(0x246)]=0x0,this[_0x2466fb(0x1f8)]=0x0,this['yVelExt']=0x0,this[_0x2466fb(0x252)]=0x2,this[_0x2466fb(0x26e)]=0x0,this[_0x2466fb(0x222)]=![],this[_0x2466fb(0x1e0)]=0x0,this[_0x2466fb(0x268)]=![],this['attacking']=![],this[_0x2466fb(0x206)]=[],this[_0x2466fb(0x24e)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0x2466fb(0x23f)]=0x4,this[_0x2466fb(0x20e)]=0x0,this[_0x2466fb(0x26b)]=id(_0x2466fb(0x26b)),this[_0x2466fb(0x269)]=0x0,this[_0x2466fb(0x1fa)]=!![],this[_0x2466fb(0x212)]=[],this[_0x2466fb(0x202)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x2466fb(0x27d)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0x2466fb(0x1e7)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x2466fb(0x1f9)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0x2466fb(0x261)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this['counter']=0x0;}[_0x495aeb(0x1f6)](){const _0x4ae9ea=_0x495aeb;this['atkBox']['x']=this['x']-0x5*TILESIZE,this['atkBox']['y']=this['y']-0x5*TILESIZE,this[_0x4ae9ea(0x1e7)]['w']=0xb*TILESIZE,this[_0x4ae9ea(0x1e7)]['h']=0xb*TILESIZE;if(collided(this[_0x4ae9ea(0x1e7)],player)){if(this['attacking']){if(this[_0x4ae9ea(0x20e)]==0x0&&this[_0x4ae9ea(0x20c)]==0x0){this[_0x4ae9ea(0x27b)]();switch(this[_0x4ae9ea(0x212)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x4ae9ea(0x269)]!==0x1&&(this[_0x4ae9ea(0x269)]=0x1,this['currentFrame']=0x0,this[_0x4ae9ea(0x20c)]=0x0);}else this['attacking']&&this['action']!==0x0&&this[_0x4ae9ea(0x269)]!==0x2&&(this[_0x4ae9ea(0x21c)]=![],this[_0x4ae9ea(0x1fa)]=!![],this[_0x4ae9ea(0x269)]=0x2,this[_0x4ae9ea(0x20e)]=0x0,this[_0x4ae9ea(0x20c)]=0x0);}[_0x495aeb(0x274)](){const _0xcad67d=_0x495aeb;this[_0xcad67d(0x1f6)](),this[_0xcad67d(0x27d)]['x']=this['x']+(this['w']-0xe)/0x2,this['hitbox']['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x18e100=0x0;_0x18e100<this[_0xcad67d(0x206)][_0xcad67d(0x27c)];_0x18e100++){this[_0xcad67d(0x206)][_0x18e100]['x']=this['x']+this[_0xcad67d(0x206)][_0x18e100][_0xcad67d(0x257)],this[_0xcad67d(0x206)][_0x18e100]['y']=this['y']+this[_0xcad67d(0x206)][_0x18e100][_0xcad67d(0x258)];}this['hp']<=0x0&&(this[_0xcad67d(0x222)]=!![]),this[_0xcad67d(0x222)]&&(this['justDamaged']=0x0,this[_0xcad67d(0x268)]=!![],this[_0xcad67d(0x269)]=0x3,this[_0xcad67d(0x20c)]=0x0,this[_0xcad67d(0x20e)]=0x0,this[_0xcad67d(0x23f)]=0xa);}[_0x495aeb(0x200)](){const _0x33b1dc=_0x495aeb;this[_0x33b1dc(0x20c)]++;this[_0x33b1dc(0x269)]==0x4?this[_0x33b1dc(0x23f)]=0x3:this[_0x33b1dc(0x23f)]=0x5;if(this['frameCounter']>this[_0x33b1dc(0x23f)]*DTR){this[_0x33b1dc(0x20c)]=0x0,this['currentFrame']++;if(this['currentFrame']>=this[_0x33b1dc(0x1f9)][this['action']][_0x33b1dc(0x27c)]){if(this['dead'])this['currentFrame']=this[_0x33b1dc(0x1f9)][this[_0x33b1dc(0x269)]][_0x33b1dc(0x27c)]-0x1;else{if(this['action']==0x1)this['attacking']=!![],this['collidable']=![],this['action']=0x4,this['currentFrame']=0x0;else this[_0x33b1dc(0x269)]==0x2?(this['action']=0x0,this[_0x33b1dc(0x20e)]=0x0):this[_0x33b1dc(0x20e)]=0x0;}}}if(!this[_0x33b1dc(0x268)]){if(this[_0x33b1dc(0x269)]==0x0)for(let _0x3884e5=0x0;_0x3884e5<this[_0x33b1dc(0x206)]['length'];_0x3884e5++){this[_0x33b1dc(0x206)][_0x3884e5]['draw']();}}this[_0x33b1dc(0x1e0)]>0x0&&(this[_0x33b1dc(0x269)]=0x3,this[_0x33b1dc(0x20e)]=0x0,this[_0x33b1dc(0x1fc)]=0x0,this[_0x33b1dc(0x1e0)]-=0x1/DTR,this[_0x33b1dc(0x1e0)]<=0x0&&(this['action']=0x0)),c[_0x33b1dc(0x208)](this[_0x33b1dc(0x26b)],this['actionX'][this[_0x33b1dc(0x269)]][this[_0x33b1dc(0x20e)]]*TILESIZE,this[_0x33b1dc(0x261)][this[_0x33b1dc(0x269)]][this[_0x33b1dc(0x20e)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x495aeb(0x27b)](){const _0x1e189b=_0x495aeb;let _0x54f1c0=0xb,_0x46e616=[],_0x4f2467=this['x']+this['w']/0x2-TILESIZE*0x5,_0x3fe5ae=this['y']+this['h']/0x2-TILESIZE*0x5,_0x53676f;for(let _0x48f74d=0x0;_0x48f74d<_0x54f1c0;_0x48f74d++){_0x46e616[_0x48f74d]=[];for(let _0x1bee1f=0x0;_0x1bee1f<_0x54f1c0;_0x1bee1f++){_0x53676f=getTileData(_0x4f2467+_0x48f74d*TILESIZE,_0x3fe5ae+_0x1bee1f*TILESIZE),_0x53676f===![]?_0x46e616[_0x48f74d][_0x1bee1f]='Empty':_0x46e616[_0x48f74d][_0x1bee1f]='Obstacle';}}_0x46e616[0x5][0x5]=_0x1e189b(0x1f5),_0x46e616[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x1e189b(0x259),this[_0x1e189b(0x212)]=findShortestPath([0x5,0x5],_0x46e616);}}class Flower extends Collidable{constructor(_0x43fa0e,_0x42c45){const _0x53e1ae=_0x495aeb;super(Collidable),this['x']=_0x43fa0e,this['y']=_0x42c45,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x53e1ae(0x21f)]=0x0,this[_0x53e1ae(0x246)]=0x0,this[_0x53e1ae(0x1f8)]=0x0,this[_0x53e1ae(0x267)]=0x0,this[_0x53e1ae(0x252)]=0x2,this[_0x53e1ae(0x26e)]=0x0,this['justDied']=![],this[_0x53e1ae(0x1e0)]=0x0,this['dead']=![],this['arrows']=[],this[_0x53e1ae(0x24e)]=0x3,this['hp']=0x3,this[_0x53e1ae(0x20c)]=0x0,this[_0x53e1ae(0x23f)]=0x8,this[_0x53e1ae(0x21c)]=![],this['currentFrame']=0x0,this[_0x53e1ae(0x26b)]=id(_0x53e1ae(0x26b)),this[_0x53e1ae(0x256)]=0x5,this[_0x53e1ae(0x22a)]=0x8,this['collidable']=!![],this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x53e1ae(0x27d)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x53e1ae(0x269)]=0x0,this[_0x53e1ae(0x1f9)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x53e1ae(0x261)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this[_0x53e1ae(0x225)]=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x53e1ae(0x223)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x53e1ae(0x271)]=0x0,this[_0x53e1ae(0x23c)]=![];}[_0x495aeb(0x242)](){const _0x23b74f=_0x495aeb;if(!isObstructed(this,player)){this[_0x23b74f(0x21c)]=!![];if(this['currentFrame']==0x2){if(!this[_0x23b74f(0x23c)]){let _0x4ee78e=new EnemyProjectile(),_0x9ef808=this['x']+this['w']/0x2,_0x28736f=this['y']+this['h']/0x2,_0x2af6f2=player['x']+player['w']/0x2-_0x9ef808+Math[_0x23b74f(0x239)]()*this[_0x23b74f(0x256)]-this['precision']/0x2,_0x16601d=player['y']+player['h']/0x2-_0x28736f+Math[_0x23b74f(0x239)]()*this['precision']-this['precision']/0x2,_0x4e3e4d=Math['atan2'](_0x16601d,_0x2af6f2),_0x6d68a4=Math['cos'](_0x4e3e4d),_0x46e556=Math[_0x23b74f(0x253)](_0x4e3e4d);_0x4ee78e[_0x23b74f(0x21f)]=_0x6d68a4*this['projSpeed'],_0x4ee78e[_0x23b74f(0x246)]=_0x46e556*this[_0x23b74f(0x22a)],_0x4ee78e['x']=_0x9ef808,_0x4ee78e['y']=_0x28736f,enemyProjectiles[_0x23b74f(0x234)](_0x4ee78e),this[_0x23b74f(0x23c)]=!![];}}else this[_0x23b74f(0x23c)]=![];}else this[_0x23b74f(0x21c)]=![];}[_0x495aeb(0x274)](){const _0xe7747e=_0x495aeb;this[_0xe7747e(0x242)](),this[_0xe7747e(0x27d)]['x']=this['x']+this['w']/0x3,this[_0xe7747e(0x27d)]['y']=this['y']+this['h']/0x5,this[_0xe7747e(0x271)]=Math[_0xe7747e(0x22d)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x2b7f0c=0x0;_0x2b7f0c<this[_0xe7747e(0x206)]['length'];_0x2b7f0c++){this[_0xe7747e(0x206)][_0x2b7f0c]['x']=this['x']+this[_0xe7747e(0x206)][_0x2b7f0c][_0xe7747e(0x257)],this[_0xe7747e(0x206)][_0x2b7f0c]['y']=this['y']+this[_0xe7747e(0x206)][_0x2b7f0c][_0xe7747e(0x258)];}this['hp']<=0x0&&(this[_0xe7747e(0x222)]=!![]),this[_0xe7747e(0x222)]&&(this[_0xe7747e(0x1e0)]=0x0,this[_0xe7747e(0x268)]=!![],this['action']=0x2,this[_0xe7747e(0x20c)]=0x0,this['currentFrame']=0x0,this[_0xe7747e(0x23f)]=0xa);}[_0x495aeb(0x200)](){const _0x59729b=_0x495aeb;this[_0x59729b(0x20c)]++;this[_0x59729b(0x20c)]>this[_0x59729b(0x23f)]*DTR&&(this[_0x59729b(0x20c)]=0x0,this['currentFrame']++,this[_0x59729b(0x20e)]>=this[_0x59729b(0x1f9)][this['action']]['length']&&(this[_0x59729b(0x268)]?this[_0x59729b(0x20e)]=this[_0x59729b(0x1f9)][this[_0x59729b(0x269)]]['length']-0x1:this[_0x59729b(0x20e)]=0x0));if(!this['dead']){this[_0x59729b(0x21c)]?this[_0x59729b(0x269)]=0x1:this[_0x59729b(0x269)]=0x0;for(let _0x1d7da6=0x0;_0x1d7da6<this[_0x59729b(0x206)][_0x59729b(0x27c)];_0x1d7da6++){this[_0x59729b(0x206)][_0x1d7da6][_0x59729b(0x200)]();}}this[_0x59729b(0x21c)]?this[_0x59729b(0x23f)]=0x4:this[_0x59729b(0x23f)]=0x8,this[_0x59729b(0x1e0)]&&(this[_0x59729b(0x269)]=0x2,this['currentFrame']=0x0,this['framecounter']=0x0,this[_0x59729b(0x1e0)]--),c['drawImage'](this[_0x59729b(0x26b)],this[_0x59729b(0x1f9)][this[_0x59729b(0x269)]][this[_0x59729b(0x20e)]]*TILESIZE,this['actionY'][this[_0x59729b(0x269)]][this[_0x59729b(0x20e)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0x59729b(0x269)]==0x0||this['action']==0x1)&&(c['save'](),c[_0x59729b(0x248)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x59729b(0x245)](this[_0x59729b(0x271)]),c[_0x59729b(0x208)](this[_0x59729b(0x26b)],this[_0x59729b(0x225)][this[_0x59729b(0x269)]][this[_0x59729b(0x20e)]]*TILESIZE,this[_0x59729b(0x223)][this[_0x59729b(0x269)]][this[_0x59729b(0x20e)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x59729b(0x26a)]());}}function getTileData(_0x446018,_0x2e4373){const _0x2649a7=_0x495aeb;let _0x14fd6e=(_0x446018/TILESIZE|0x0)+(_0x2e4373/TILESIZE|0x0)*map[_0x2649a7(0x235)];for(let _0x2dbc8b=0x0;_0x2dbc8b<map[_0x2649a7(0x221)][_0x2649a7(0x27c)];_0x2dbc8b++){for(let _0x206514=0x0;_0x206514<TilesData['length'];_0x206514++){if(TilesData[_0x206514]['id']==map[_0x2649a7(0x221)][_0x2dbc8b][_0x14fd6e]-0x1)return TilesData[_0x206514];}}return![];}window[_0x495aeb(0x24d)]=function(){const _0x25ec84=_0x495aeb;player[_0x25ec84(0x22c)]!==0x0?player[_0x25ec84(0x242)]():player[_0x25ec84(0x233)]=0xa;},window['oncontextmenu']=function(_0x4d0c24){const _0x5b3593=_0x495aeb;_0x4d0c24[_0x5b3593(0x1e5)](),player[_0x5b3593(0x219)]();},document[_0x495aeb(0x1e1)](_0x495aeb(0x24a),function(_0x4a95ba){const _0x2147d1=_0x495aeb;switch(_0x4a95ba['button']){case 0x0:userInterface[_0x2147d1(0x1e6)]=!![];break;case 0x2:userInterface[_0x2147d1(0x207)]=!![];break;}}),document['addEventListener']('mouseup',function(_0x5cd7fd){const _0x29fc8c=_0x495aeb;switch(_0x5cd7fd[_0x29fc8c(0x21b)]){case 0x0:userInterface[_0x29fc8c(0x1e6)]=![];break;case 0x2:userInterface[_0x29fc8c(0x207)]=![];break;}});function _0x155f(_0x31d8fe,_0x41a334){const _0x270e04=_0x13e4();return _0x155f=function(_0x1e5cad,_0x1664c9){_0x1e5cad=_0x1e5cad-0x1d9;let _0x1ed0a4=_0x270e04[_0x1e5cad];return _0x1ed0a4;},_0x155f(_0x31d8fe,_0x41a334);}var stats=id(_0x495aeb(0x21e));function drawStats(){const _0x108975=_0x495aeb;stats[_0x108975(0x279)]=_0x108975(0x214)+player['x'],stats[_0x108975(0x279)]+=_0x108975(0x210)+player['y'],stats[_0x108975(0x279)]+=_0x108975(0x1ea)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x108975(0x279)]+=_0x108975(0x1eb)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x108975(0x279)]+='<br>mouseTile\x20pos\x20=\x20'+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']),stats[_0x108975(0x279)]+=_0x108975(0x250)+map[_0x108975(0x221)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x108975(0x235)]],map['tiles'][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x108975(0x235)]],DEBUG&&(c[_0x108975(0x203)]((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x108975(0x240)]());}window[_0x495aeb(0x1e1)](_0x495aeb(0x26f),function(_0x4f4038){const _0x5abff9=_0x495aeb;switch(_0x4f4038[_0x5abff9(0x1d9)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0x5abff9(0x234)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x5abff9(0x1ee)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x454316=0x0;_0x454316<0x32;_0x454316++){player[_0x5abff9(0x242)](),player[_0x5abff9(0x247)]=player[_0x5abff9(0x273)]*DTR,player[_0x5abff9(0x284)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x495aeb(0x1e1)](_0x495aeb(0x1e4),function(_0x51b699){switch(_0x51b699['keyCode']){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0x495aeb(0x1e1)]('mousemove',function(_0x3fe497){const _0x3fe5f6=_0x495aeb;mousePP['x']=_0x3fe497['clientX']-CANVAS[_0x3fe5f6(0x26d)],mousePP['y']=_0x3fe497['clientY']-CANVAS[_0x3fe5f6(0x229)];});function moveCamera(){const _0x3d97ba=_0x495aeb;map['x']=-player['x']/0x3+CANVAS[_0x3d97ba(0x235)]/0x6,map['y']=-player['y']/0x3+CANVAS[_0x3d97ba(0x25b)]/0x6,screenShake[_0x3d97ba(0x283)]&&(screenShake[_0x3d97ba(0x283)]--,screenShake[_0x3d97ba(0x282)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x13d41f=_0x495aeb;c[_0x13d41f(0x20f)]=0x2,c['strokeStyle']=sampleArrow[_0x13d41f(0x1df)][0x0],c['beginPath']();for(let _0x574028=playerArrows[_0x13d41f(0x27c)]-0x1;_0x574028>=0x0;_0x574028--){if(!playerArrows[_0x574028][_0x13d41f(0x21a)]||playerArrows[_0x574028]['color']!=0x1)continue;playerArrows[_0x574028][_0x13d41f(0x1ef)]&&playerArrows[_0x574028][_0x13d41f(0x274)]();if(playerArrows[_0x574028]!==undefined)playerArrows[_0x574028]['draw']();}c['closePath'](),c[_0x13d41f(0x240)](),c[_0x13d41f(0x1fb)]=sampleArrow[_0x13d41f(0x1df)][0x1],c[_0x13d41f(0x209)]();for(let _0x4db537=playerArrows[_0x13d41f(0x27c)]-0x1;_0x4db537>=0x0;_0x4db537--){if(!playerArrows[_0x4db537][_0x13d41f(0x21a)]||playerArrows[_0x4db537][_0x13d41f(0x1e9)]!=0x2)continue;playerArrows[_0x4db537][_0x13d41f(0x1ef)]&&playerArrows[_0x4db537][_0x13d41f(0x274)]();if(playerArrows[_0x4db537]!==undefined)playerArrows[_0x4db537][_0x13d41f(0x200)]();}c['closePath'](),c[_0x13d41f(0x240)]();}function loop(){const _0x203c7e=_0x495aeb;fps++,c[_0x203c7e(0x22f)](0x0,0x0,CANVAS[_0x203c7e(0x235)],CANVAS[_0x203c7e(0x25b)]),moveCamera(),map[_0x203c7e(0x200)](),player['compute']();for(let _0x1023e4=enemyProjectiles[_0x203c7e(0x27c)]-0x1;_0x1023e4>=0x0;_0x1023e4--){enemyProjectiles[_0x1023e4][_0x203c7e(0x274)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x2f680d=0x0;_0x2f680d<monsters['length'];_0x2f680d++){!monsters[_0x2f680d][_0x203c7e(0x268)]&&monsters[_0x2f680d][_0x203c7e(0x274)](),monsters[_0x2f680d]['draw']();}player['draw'](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x4e4365=enemyProjectiles[_0x203c7e(0x27c)]-0x1;_0x4e4365>=0x0;_0x4e4365--){enemyProjectiles[_0x4e4365][_0x203c7e(0x200)]();}sword[_0x203c7e(0x21a)]&&(sword[_0x203c7e(0x274)](),sword[_0x203c7e(0x200)]());for(let _0x51a841=visualFxs[_0x203c7e(0x27c)]-0x1;_0x51a841>=0x0;_0x51a841--){!visualFxs[_0x51a841]['ended']&&visualFxs[_0x51a841][_0x203c7e(0x200)]();}userInterface[_0x203c7e(0x200)](),drawStats();}var lastUpdate=Date[_0x495aeb(0x26c)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0x295acd=_0x495aeb;var _0x592afa=Date[_0x295acd(0x26c)](),_0x3aa284=_0x592afa-lastUpdate;lastUpdate=_0x592afa,DTR=0x3e8/0x3c/_0x3aa284,!gamePaused&&loop();}