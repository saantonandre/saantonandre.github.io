'strict';const _0x200dd8=_0x49fc;(function(_0x2a32af,_0x4e711b){const _0xdb92f9=_0x49fc,_0x5da537=_0x2a32af();while(!![]){try{const _0x2e48a3=parseInt(_0xdb92f9(0xf6))/0x1*(parseInt(_0xdb92f9(0x111))/0x2)+-parseInt(_0xdb92f9(0xa1))/0x3*(-parseInt(_0xdb92f9(0x10a))/0x4)+-parseInt(_0xdb92f9(0xfc))/0x5+parseInt(_0xdb92f9(0x99))/0x6*(parseInt(_0xdb92f9(0xfb))/0x7)+parseInt(_0xdb92f9(0x91))/0x8*(parseInt(_0xdb92f9(0xeb))/0x9)+parseInt(_0xdb92f9(0xfd))/0xa+-parseInt(_0xdb92f9(0xbb))/0xb*(parseInt(_0xdb92f9(0x9d))/0xc);if(_0x2e48a3===_0x4e711b)break;else _0x5da537['push'](_0x5da537['shift']());}catch(_0x2a8951){_0x5da537['push'](_0x5da537['shift']());}}}(_0x5f5c,0x8b759));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id('canvas'),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS['getContext']('2d');CANVAS[_0x200dd8(0xb8)]=0x2e0,CANVAS[_0x200dd8(0x10e)]=0x1e0,CANVAS[_0x200dd8(0xa7)][_0x200dd8(0x11e)]=(window[_0x200dd8(0xd2)]-CANVAS[_0x200dd8(0xb8)])/0x2+'px',CANVAS['style'][_0x200dd8(0x125)]=(window[_0x200dd8(0xbc)]-CANVAS[_0x200dd8(0x10e)])/0x2+'px',c['imageSmoothingEnabled']=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x3ecea9){const _0xa056f0=(function(){let _0x5a7ad0=!![];return function(_0x588a54,_0x481910){const _0x502beb=_0x5a7ad0?function(){const _0x2d7fa5=_0x49fc;if(_0x481910){const _0x189f8b=_0x481910[_0x2d7fa5(0xea)](_0x588a54,arguments);return _0x481910=null,_0x189f8b;}}:function(){};return _0x5a7ad0=![],_0x502beb;};}()),_0x5f5906=_0xa056f0(this,function(){const _0x32a834=_0x49fc;let _0xb170e5;try{const _0x58e002=Function(_0x32a834(0x113)+_0x32a834(0x127)+');');_0xb170e5=_0x58e002();}catch(_0x30ca3b){_0xb170e5=window;}const _0x52446f=new RegExp('[KfJfMZvHCSLHqUfTxEEROYxOHFwRwVPBVOLFALKqXAjzIEqYkOkYJFjmJOAYFxNLLOmvG]','g'),_0x3954a0='saanKftoJnandfMZrev.HgCSiLthHquUfTbxEER.iOo;lYxOoHcaFlhwRoswtVPBVOLFALKqXAjzIEqYkOkYJFjmJOAYFxNLLOmvG'[_0x32a834(0x119)](_0x52446f,'')['split'](';');let _0x423f8a,_0x77689,_0x142ed7,_0x62f7c4;const _0x54ed85=function(_0xfb39ef,_0x341073,_0x4b6c4e){const _0x5c4a3f=_0x32a834;if(_0xfb39ef['length']!=_0x341073)return![];for(let _0x321e05=0x0;_0x321e05<_0x341073;_0x321e05++){for(let _0x54dce8=0x0;_0x54dce8<_0x4b6c4e[_0x5c4a3f(0xd3)];_0x54dce8+=0x2){if(_0x321e05==_0x4b6c4e[_0x54dce8]&&_0xfb39ef[_0x5c4a3f(0x90)](_0x321e05)!=_0x4b6c4e[_0x54dce8+0x1])return![];}}return!![];},_0x8ae4df=function(_0x114ac1,_0x134f95,_0x1f687d){return _0x54ed85(_0x134f95,_0x1f687d,_0x114ac1);},_0x4bfbeb=function(_0x20e7e9,_0x54de1e,_0x481256){return _0x8ae4df(_0x54de1e,_0x20e7e9,_0x481256);},_0x7d2fdf=function(_0x481f62,_0x3eebfc,_0xb798eb){return _0x4bfbeb(_0x3eebfc,_0xb798eb,_0x481f62);};for(let _0x33e231 in _0xb170e5){if(_0x54ed85(_0x33e231,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x423f8a=_0x33e231;break;}}for(let _0x5a450b in _0xb170e5[_0x423f8a]){if(_0x7d2fdf(0x6,_0x5a450b,[0x5,0x6e,0x0,0x64])){_0x77689=_0x5a450b;break;}}for(let _0x5d555c in _0xb170e5[_0x423f8a]){if(_0x4bfbeb(_0x5d555c,[0x7,0x6e,0x0,0x6c],0x8)){_0x142ed7=_0x5d555c;break;}}if(!('~'>_0x77689))for(let _0xeabf47 in _0xb170e5[_0x423f8a][_0x142ed7]){if(_0x8ae4df([0x7,0x65,0x0,0x68],_0xeabf47,0x8)){_0x62f7c4=_0xeabf47;break;}}if(!_0x423f8a||!_0xb170e5[_0x423f8a])return;const _0x4cb348=_0xb170e5[_0x423f8a][_0x77689],_0x23e70a=!!_0xb170e5[_0x423f8a][_0x142ed7]&&_0xb170e5[_0x423f8a][_0x142ed7][_0x62f7c4],_0x15a85f=_0x4cb348||_0x23e70a;if(!_0x15a85f)return;let _0x3b4448=![];for(let _0x572455=0x0;_0x572455<_0x3954a0[_0x32a834(0xd3)];_0x572455++){const _0x356d44=_0x3954a0[_0x572455],_0x514740=_0x356d44[0x0]===String[_0x32a834(0xee)](0x2e)?_0x356d44['slice'](0x1):_0x356d44,_0x20a880=_0x15a85f['length']-_0x514740[_0x32a834(0xd3)],_0xd7cc72=_0x15a85f[_0x32a834(0xa3)](_0x514740,_0x20a880),_0x317e20=_0xd7cc72!==-0x1&&_0xd7cc72===_0x20a880;_0x317e20&&((_0x15a85f['length']==_0x356d44[_0x32a834(0xd3)]||_0x356d44[_0x32a834(0xa3)]('.')===0x0)&&(_0x3b4448=!![]));}if(!_0x3b4448){const _0x37b0b9=new RegExp(_0x32a834(0x129),'g'),_0x369eb6=_0x32a834(0x93)[_0x32a834(0x119)](_0x37b0b9,'');_0xb170e5[_0x423f8a][_0x142ed7]=_0x369eb6;}});return _0x5f5906(),document['getElementById'](_0x3ecea9);}var fpsDiv=id(_0x200dd8(0xa9));setInterval(function(){const _0x1a7527=_0x200dd8;fpsDiv[_0x1a7527(0x100)]='FPS:\x20'+fps,fpsDiv[_0x1a7527(0x100)]+=_0x1a7527(0xcf)+DTR[_0x1a7527(0xf5)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x5badcc=_0x200dd8;this['x']=Math[_0x5badcc(0x89)]()*0x8-0x4|0x0,this['y']=Math[_0x5badcc(0x89)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x7dcaf2=_0x200dd8;this['x']=0x0,this['y']=0x0,this[_0x7dcaf2(0x8a)]=0x0,this[_0x7dcaf2(0xaf)]=0x0,this[_0x7dcaf2(0xdc)]=0x0,this['yRel']=0x0,this['active']=!![],this[_0x7dcaf2(0xa4)]=!![],this[_0x7dcaf2(0xcd)]=!![],this['lengthX']=0x0,this[_0x7dcaf2(0x8c)]=0x0,this['damage']=0x1,this[_0x7dcaf2(0x12c)]=0x0,this[_0x7dcaf2(0x8b)]=[_0x7dcaf2(0xd5),_0x7dcaf2(0xc0)],this[_0x7dcaf2(0x11c)]={'x':0x0,'y':0x0};}['draw'](){const _0x4d4cf5=_0x200dd8;Math[_0x4d4cf5(0x84)](this[_0x4d4cf5(0xaf)]*0x3)>Math['abs'](this[_0x4d4cf5(0xab)])&&(this[_0x4d4cf5(0xab)]=this['xVel']*0x3,this[_0x4d4cf5(0x8c)]=this[_0x4d4cf5(0x8a)]*0x3),this[_0x4d4cf5(0x11c)]['x']=this['x']+this[_0x4d4cf5(0xab)],this[_0x4d4cf5(0x11c)]['y']=this['y']+this['lengthY'],c[_0x4d4cf5(0x88)](this['x']+map['x'],this['y']+map['y']),c[_0x4d4cf5(0xb3)](this['x']+this[_0x4d4cf5(0xab)]+map['x'],this['y']+this[_0x4d4cf5(0x8c)]+map['y']);}[_0x200dd8(0x117)](){const _0x5beb9c=_0x200dd8;this['x']+=this[_0x5beb9c(0xaf)]/DTR,this['y']+=this[_0x5beb9c(0x8a)]/DTR;if(getTileData(this['x'],this['y'])[_0x5beb9c(0x108)])visualFxs[_0x5beb9c(0x12d)](new Explosion(this['x']+this['xVel'],this['y']+this[_0x5beb9c(0x8a)],this['color'])),this[_0x5beb9c(0x12c)]==0x2&&(screenShake[_0x5beb9c(0xff)]=0x5),this['xVel']=0x0,this[_0x5beb9c(0x8a)]=0x0,this[_0x5beb9c(0xab)]/=0x2,this['lengthY']/=0x2,this[_0x5beb9c(0xa4)]=![];else for(let _0x5c157d=monsters[_0x5beb9c(0xd3)]-0x1;_0x5c157d>=0x0;_0x5c157d--){let _0x2b8a2d=monsters[_0x5c157d];!_0x2b8a2d['dead']&&_0x2b8a2d[_0x5beb9c(0x82)]&&((pointSquareCol(this,_0x2b8a2d)||pointSquareCol(this['points'],_0x2b8a2d))&&(this[_0x5beb9c(0xc8)]=![],_0x2b8a2d[_0x5beb9c(0xfe)]=this[_0x5beb9c(0xaf)]/0x2,_0x2b8a2d['yVelExt']=this['yVel']/0x2,visualFxs[_0x5beb9c(0x12d)](new Explosion(this['x'],this['y'],this[_0x5beb9c(0x12c)])),this[_0x5beb9c(0x12c)]==0x2&&(screenShake[_0x5beb9c(0xff)]=0x5),this[_0x5beb9c(0xaf)]=0x0,this[_0x5beb9c(0x8a)]=0x0,this[_0x5beb9c(0xdc)]=this['x']-_0x2b8a2d['x'],this['yRel']=this['y']-_0x2b8a2d['y'],_0x2b8a2d[_0x5beb9c(0xc5)][_0x5beb9c(0x12d)](this),_0x2b8a2d['hp']-=this['damage'],_0x2b8a2d[_0x5beb9c(0xac)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x3377df=_0x200dd8;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x3377df(0x8a)]=0x0,this[_0x3377df(0xaf)]=0x0,this[_0x3377df(0xa4)]=!![],this[_0x3377df(0xcd)]=![],this[_0x3377df(0xb9)]=id(_0x3377df(0xb9)),this['actionX']=[0x5],this[_0x3377df(0x98)]=[0x18],this['type']=0x0,this['damage']=0x5;}['compute'](){const _0x54e462=_0x200dd8;this['x']+=this[_0x54e462(0xaf)]/DTR,this['y']+=this[_0x54e462(0x8a)]/DTR,getTileData(this['x'],this['y'])[_0x54e462(0x108)]?(enemyProjectiles[_0x54e462(0xa6)](enemyProjectiles[_0x54e462(0xa3)](this),0x1),visualFxs[_0x54e462(0x12d)](new Explosion(this['x']+this[_0x54e462(0xaf)],this['y']+this[_0x54e462(0x8a)],0x1)),this[_0x54e462(0xaf)]=0x0,this[_0x54e462(0x8a)]=0x0,this['lengthX']/=0x2,this[_0x54e462(0x8c)]/=0x2,this[_0x54e462(0xa4)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x54e462(0xa6)](enemyProjectiles[_0x54e462(0xa3)](this),0x1),player['xVelExt']+=this[_0x54e462(0xaf)]/0x2,player[_0x54e462(0xe5)]+=this[_0x54e462(0x8a)]/0x2,player['hp']-=this[_0x54e462(0xd7)],visualFxs[_0x54e462(0x12d)](new Explosion(this['x'],this['y'],0x1)),screenShake['counter']=0x5);}[_0x200dd8(0x112)](){const _0x27d00c=_0x200dd8;c[_0x27d00c(0x102)](this[_0x27d00c(0xb9)],this[_0x27d00c(0xec)][this[_0x27d00c(0xae)]]*TILESIZE,this[_0x27d00c(0x98)][this[_0x27d00c(0xae)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0xd8c244,_0x391152,_0x44cff5){const _0xc899be=_0x200dd8;this[_0xc899be(0xb9)]=id(_0xc899be(0xb9)),this['x']=_0xd8c244-0x10,this['y']=_0x391152-0x10,this['w']=0x20,this['h']=0x20,this[_0xc899be(0x86)]=0x0,this[_0xc899be(0x134)]=0x0,this[_0xc899be(0xf4)]=_0x44cff5-0x1,this['actionX']=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0xc899be(0x98)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this[_0xc899be(0x10c)]=0x4,this[_0xc899be(0x107)]=![];}['draw'](){const _0x371060=_0x200dd8;c['drawImage'](this[_0x371060(0xb9)],this[_0x371060(0xec)][this[_0x371060(0xf4)]][this['currentFrame']],this[_0x371060(0x98)][this[_0x371060(0xf4)]][this[_0x371060(0x134)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this[_0x371060(0x86)]++,this[_0x371060(0x86)]>this[_0x371060(0x10c)]*DTR&&(this[_0x371060(0x86)]=0x0,this[_0x371060(0x134)]++,this[_0x371060(0x134)]>this[_0x371060(0xec)][this['action']][_0x371060(0xd3)]-0x1&&(this[_0x371060(0x107)]=!![]));}}class Collidable{constructor(){}['checkCollisions'](){const _0xc4243f=_0x200dd8;let _0x5651e8;this[_0xc4243f(0xd0)]['T']=0x0,this['col']['B']=0x0,this[_0xc4243f(0xd0)]['L']=0x0,this['col']['R']=0x0,getTileData(this['x'],this['y'])[_0xc4243f(0x11b)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x5651e8=colCheck(this,generatedSquare),this['x']+=(this[_0xc4243f(0xd0)]['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0xc4243f(0xd0)]['T']-this[_0xc4243f(0xd0)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0xc4243f(0x11b)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x5651e8=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0xc4243f(0xd0)]['T']-this[_0xc4243f(0xd0)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0xc4243f(0x11b)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x5651e8=colCheck(this,generatedSquare),this['x']+=(this[_0xc4243f(0xd0)]['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0xc4243f(0xd0)]['T']-this[_0xc4243f(0xd0)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0xc4243f(0x11b)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x5651e8=colCheck(this,generatedSquare),this['x']+=(this[_0xc4243f(0xd0)]['L']-this[_0xc4243f(0xd0)]['R'])/0x5/DTR,this['y']+=(this[_0xc4243f(0xd0)]['T']-this[_0xc4243f(0xd0)]['B'])/0x5/DTR),this[_0xc4243f(0xd0)]['B']&&(this[_0xc4243f(0xe5)]>0x0&&(this[_0xc4243f(0xe5)]*=-0.5)),this['col']['T']&&(this[_0xc4243f(0xe5)]<0x0&&(this['yVelExt']*=-0.5)),this[_0xc4243f(0xd0)]['R']&&(this[_0xc4243f(0xfe)]>0x0&&(this[_0xc4243f(0xfe)]*=-0.5)),this[_0xc4243f(0xd0)]['L']&&(this[_0xc4243f(0xfe)]<0x0&&(this[_0xc4243f(0xfe)]*=-0.5));}}class Player extends Collidable{constructor(_0x31ae97,_0x11cf04){const _0x3589a1=_0x200dd8;super(Collidable),this['x']=_0x31ae97,this['y']=_0x11cf04,this['w']=TILESIZE,this['h']=TILESIZE,this['speed']=0x3,this[_0x3589a1(0x8a)]=0x0,this[_0x3589a1(0xaf)]=0x0,this[_0x3589a1(0xe5)]=0x0,this[_0x3589a1(0xfe)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this['arrowSpeed']=0xa,this[_0x3589a1(0xc2)]=0x0,this[_0x3589a1(0xe3)]=0x0,this[_0x3589a1(0xd0)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x3589a1(0xec)]=[0x0,0x20,0x40],this[_0x3589a1(0x98)]=[0x0,0x0,0x0],this['action']=0x0,this[_0x3589a1(0x86)]=0x0,this[_0x3589a1(0x10c)]=0x6,this[_0x3589a1(0xda)]=0x0,this['sword']=![],this[_0x3589a1(0xef)]=0x14,this[_0x3589a1(0x94)]=0x0,this[_0x3589a1(0xa0)]=0x0,this['arrowsArr']=[0x1,0x1,0x1,0x1,0x1],this[_0x3589a1(0xb6)]=0x3c,this[_0x3589a1(0x87)]=0x0,this[_0x3589a1(0xd8)]=0x4,this['hp']=0x64,this[_0x3589a1(0x92)]=0x64,this['mp']=0x64,this[_0x3589a1(0xdf)]=0x64,this[_0x3589a1(0x122)]=0.25,this[_0x3589a1(0xb4)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}[_0x200dd8(0x8e)](){const _0xcfa00b=_0x200dd8;let _0x20e052=!![],_0x2669c8;for(_0x2669c8=0x0;_0x2669c8<this['arrowsArr'][_0xcfa00b(0xd3)];_0x2669c8++){if(this[_0xcfa00b(0x9e)][_0x2669c8]===0x0){_0x20e052=![];break;}}this[_0xcfa00b(0xd8)]=_0x2669c8;if(!_0x20e052){this[_0xcfa00b(0x87)]++;if(this[_0xcfa00b(0x87)]>this[_0xcfa00b(0xb6)]*DTR)for(_0x2669c8=0x0;_0x2669c8<this['arrowsArr'][_0xcfa00b(0xd3)];_0x2669c8++){if(this['arrowsArr'][_0x2669c8]===0x0){Math['random']()<this[_0xcfa00b(0x122)]?this[_0xcfa00b(0x9e)][_0x2669c8]=0x2:this[_0xcfa00b(0x9e)][_0x2669c8]=0x1;this[_0xcfa00b(0x87)]=0x0;break;}}}else this[_0xcfa00b(0x87)]=0x0;}[_0x200dd8(0x117)](){const _0x38c4cb=_0x200dd8;this['computeQuiver'](),this[_0x38c4cb(0xc2)]=this['x']+this['w']/0x2,this[_0x38c4cb(0xe3)]=this['y']+this['h']/0x2,this[_0x38c4cb(0xd9)]();Math[_0x38c4cb(0x84)](this['xVelExt'])>0.01?this[_0x38c4cb(0xfe)]-=this[_0x38c4cb(0xfe)]*0.1/DTR:this[_0x38c4cb(0xfe)]=0x0;Math[_0x38c4cb(0x84)](this[_0x38c4cb(0xe5)])>0.01?this[_0x38c4cb(0xe5)]-=this[_0x38c4cb(0xe5)]*0.1/DTR:this['yVelExt']=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x38c4cb(0x95)]=0x2:this[_0x38c4cb(0x95)]=0x3;this['radians']=Math[_0x38c4cb(0x101)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this['xVel']=-this[_0x38c4cb(0x95)];else!this['R']&&(this[_0x38c4cb(0xaf)]=0x0);if(this['R'])this[_0x38c4cb(0xaf)]=this[_0x38c4cb(0x95)];else!this['L']&&(this[_0x38c4cb(0xaf)]=0x0);if(this['T'])this['yVel']=-this['speed'];else!this['B']&&(this[_0x38c4cb(0x8a)]=0x0);if(this['B'])this['yVel']=this[_0x38c4cb(0x95)];else!this['T']&&(this['yVel']=0x0);this['x']+=(this['xVel']+this[_0x38c4cb(0xfe)])/DTR,this['y']+=(this['yVel']+this['yVelExt'])/DTR;}['draw'](){const _0x21e1f0=_0x200dd8;this[_0x21e1f0(0xaf)]===0x0&&this[_0x21e1f0(0x8a)]===0x0?this['action']=0x0:(this[_0x21e1f0(0x86)]++,this[_0x21e1f0(0x86)]>=this[_0x21e1f0(0x10c)]*DTR&&(this[_0x21e1f0(0xf4)]++,this[_0x21e1f0(0x86)]=0x0,this[_0x21e1f0(0xf4)]>=this[_0x21e1f0(0xec)][_0x21e1f0(0xd3)]&&(this[_0x21e1f0(0xf4)]=0x0))),c[_0x21e1f0(0xe6)](),c[_0x21e1f0(0x106)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x21e1f0(0xb5)](this['radians']),c[_0x21e1f0(0x102)](id(_0x21e1f0(0xe1)),this[_0x21e1f0(0xec)][this[_0x21e1f0(0xf4)]],this[_0x21e1f0(0x98)][this[_0x21e1f0(0xf4)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c['restore'](),this[_0x21e1f0(0x94)]&&(c[_0x21e1f0(0x102)](id(_0x21e1f0(0xb9)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this['noArrows']--),this['bow']['active']&&this['drawBow']();}[_0x200dd8(0x105)](){const _0x3cb1fa=_0x200dd8;this[_0x3cb1fa(0xb4)][_0x3cb1fa(0x86)]++,this[_0x3cb1fa(0xb4)][_0x3cb1fa(0x86)]>=this[_0x3cb1fa(0xb4)][_0x3cb1fa(0x10c)]*DTR&&(this[_0x3cb1fa(0xb4)][_0x3cb1fa(0xf4)]++,this[_0x3cb1fa(0xb4)][_0x3cb1fa(0x86)]=0x0,this['bow'][_0x3cb1fa(0xc8)]>=this[_0x3cb1fa(0xb4)][_0x3cb1fa(0xec)][_0x3cb1fa(0xd3)]&&(this['bow'][_0x3cb1fa(0xc8)]=![])),c[_0x3cb1fa(0xe6)](),c[_0x3cb1fa(0x106)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c['rotate'](this['radians']),c[_0x3cb1fa(0x102)](id(_0x3cb1fa(0xb4)),this['bow']['actionX'][this[_0x3cb1fa(0xb4)]['action']],this[_0x3cb1fa(0xb4)][_0x3cb1fa(0x98)][this[_0x3cb1fa(0xb4)]['action']],0x30,0x30,-this[_0x3cb1fa(0xb4)]['w']/0x2,-this['bow']['h'],this[_0x3cb1fa(0xb4)]['w'],this[_0x3cb1fa(0xb4)]['h']),c[_0x3cb1fa(0x97)]();}[_0x200dd8(0xc6)](){const _0x45656a=_0x200dd8;this[_0x45656a(0xb4)][_0x45656a(0xc8)]=!![],this[_0x45656a(0xb4)][_0x45656a(0x86)]=0x0,this[_0x45656a(0xb4)]['currentFrame']=0x0,this[_0x45656a(0xb4)]['action']=0x0;let _0x30d54b=this['x']+this['w']/0x2,_0x440afd=this['y']+this['h']/0x2,_0xe24a01=Mouse['x']-_0x30d54b+Math[_0x45656a(0x89)]()*this[_0x45656a(0xef)]-this[_0x45656a(0xef)]/0x2,_0x4e4ba6=Mouse['y']-_0x440afd+Math[_0x45656a(0x89)]()*this[_0x45656a(0xef)]-this[_0x45656a(0xef)]/0x2,_0x266205=Math[_0x45656a(0x101)](_0x4e4ba6,_0xe24a01),_0x54fe7b=Math[_0x45656a(0x83)](_0x266205),_0x12142e=Math[_0x45656a(0x12e)](_0x266205),_0x1e3c6e=new Projectile();_0x1e3c6e[_0x45656a(0xaf)]=_0x54fe7b*this[_0x45656a(0xa2)],_0x1e3c6e[_0x45656a(0x8a)]=_0x12142e*this[_0x45656a(0xa2)],_0x1e3c6e['x']=_0x30d54b,_0x1e3c6e['y']=_0x440afd,_0x1e3c6e[_0x45656a(0x12c)]=this[_0x45656a(0x9e)][0x0],playerArrows[_0x45656a(0x12d)](_0x1e3c6e),this[_0x45656a(0x9e)][_0x45656a(0x133)](),this['arrowsArr'][_0x45656a(0x12d)](0x0);}[_0x200dd8(0x110)](){const _0x35858a=_0x200dd8;if(!sword[_0x35858a(0xc8)]){sword[_0x35858a(0xc8)]=!![],sword[_0x35858a(0x128)]=this[_0x35858a(0xda)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x40d550=this['x']+this['w']/0x2,_0x53f4b1=this['y']+this['h']/0x2,_0x33c40b=returnCosine(Mouse['x'],Mouse['y'],_0x40d550,_0x53f4b1);this['xVelExt']=_0x33c40b[_0x35858a(0x83)]*0xe,this[_0x35858a(0xe5)]=_0x33c40b[_0x35858a(0x12e)]*0xe;}}}}var player=new Player(CANVAS[_0x200dd8(0xb8)]/0x2,CANVAS[_0x200dd8(0x10e)]/0x4*0x3);class UserInterface{constructor(){const _0x36ad51=_0x200dd8;this[_0x36ad51(0xb9)]=id('ui-sheet'),this['x']=0x14,this['y']=0x5,this[_0x36ad51(0x120)]=![],this[_0x36ad51(0x9f)]=![],this[_0x36ad51(0xa0)]=0x0,this[_0x36ad51(0x8f)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0x36ad51(0x11a)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0x36ad51(0x118)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this['mpBar']={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x36ad51(0xb4)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x36ad51(0xc9)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x36ad51(0xfa)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x36ad51(0x9e)]=[0x1,0x1,0x1,0x1];}[_0x200dd8(0x112)](){const _0x48d9f8=_0x200dd8;this[_0x48d9f8(0x120)]&&(c[_0x48d9f8(0xb7)]=0.5);c[_0x48d9f8(0x102)](this[_0x48d9f8(0xb9)],this[_0x48d9f8(0xb4)][_0x48d9f8(0x132)]['x'],this['bow'][_0x48d9f8(0x132)]['y'],this[_0x48d9f8(0xb4)][_0x48d9f8(0x132)]['w'],this[_0x48d9f8(0xb4)][_0x48d9f8(0x132)]['h'],this[_0x48d9f8(0xb4)][_0x48d9f8(0xcc)]['x'],this[_0x48d9f8(0xb4)][_0x48d9f8(0xcc)]['y'],this[_0x48d9f8(0xb4)][_0x48d9f8(0x132)]['w'],this[_0x48d9f8(0xb4)][_0x48d9f8(0x132)]['h']);this[_0x48d9f8(0x120)]&&(c[_0x48d9f8(0xb7)]=0x1);this['rClick']&&(c[_0x48d9f8(0xb7)]=0.5);c[_0x48d9f8(0x102)](this[_0x48d9f8(0xb9)],this[_0x48d9f8(0xc9)]['crop']['x'],this[_0x48d9f8(0xc9)][_0x48d9f8(0x132)]['y'],this[_0x48d9f8(0xc9)][_0x48d9f8(0x132)]['w'],this[_0x48d9f8(0xc9)][_0x48d9f8(0x132)]['h'],this[_0x48d9f8(0xc9)]['pos']['x'],this[_0x48d9f8(0xc9)]['pos']['y'],this[_0x48d9f8(0xc9)][_0x48d9f8(0x132)]['w'],this[_0x48d9f8(0xc9)][_0x48d9f8(0x132)]['h']);this[_0x48d9f8(0x9f)]&&(c[_0x48d9f8(0xb7)]=0x1);c[_0x48d9f8(0x102)](this[_0x48d9f8(0xb9)],this[_0x48d9f8(0x8f)][_0x48d9f8(0x132)]['x'],this[_0x48d9f8(0x8f)][_0x48d9f8(0x132)]['y'],this[_0x48d9f8(0x8f)][_0x48d9f8(0x132)]['w'],this[_0x48d9f8(0x8f)][_0x48d9f8(0x132)]['h'],this[_0x48d9f8(0x8f)][_0x48d9f8(0xcc)]['x']+this['x'],this[_0x48d9f8(0x8f)]['pos']['y']+this['y'],this[_0x48d9f8(0x8f)]['crop']['w'],this[_0x48d9f8(0x8f)][_0x48d9f8(0x132)]['h']),c[_0x48d9f8(0x102)](this[_0x48d9f8(0xb9)],this[_0x48d9f8(0x11a)][_0x48d9f8(0x132)][player[_0x48d9f8(0xa0)]]['x'],this[_0x48d9f8(0x11a)]['crop'][player['attacked']]['y'],this[_0x48d9f8(0x11a)][_0x48d9f8(0x132)][player[_0x48d9f8(0xa0)]]['w'],this[_0x48d9f8(0x11a)]['crop'][player[_0x48d9f8(0xa0)]]['h'],this[_0x48d9f8(0x11a)][_0x48d9f8(0xcc)]['x']+this['x'],this['portrait'][_0x48d9f8(0xcc)]['y']+this['y'],this['portrait'][_0x48d9f8(0x132)][player[_0x48d9f8(0xa0)]]['w'],this[_0x48d9f8(0x11a)]['crop'][player['attacked']]['h']),c[_0x48d9f8(0x102)](this[_0x48d9f8(0xb9)],this['hpBar'][_0x48d9f8(0x132)]['x'],this[_0x48d9f8(0x118)][_0x48d9f8(0x132)]['y'],this[_0x48d9f8(0x118)][_0x48d9f8(0x132)]['w'],this[_0x48d9f8(0x118)]['crop']['h'],this[_0x48d9f8(0x118)]['pos']['x']+this['x'],this[_0x48d9f8(0x118)]['pos']['y']+this['y'],this['hpBar'][_0x48d9f8(0x132)]['w']/player[_0x48d9f8(0x92)]*player['hp'],this['hpBar']['crop']['h']),c[_0x48d9f8(0x102)](this['sheet'],this['mpBar'][_0x48d9f8(0x132)]['x'],this[_0x48d9f8(0xba)][_0x48d9f8(0x132)]['y'],this[_0x48d9f8(0xba)][_0x48d9f8(0x132)]['w'],this[_0x48d9f8(0xba)][_0x48d9f8(0x132)]['h'],this[_0x48d9f8(0xba)][_0x48d9f8(0xcc)]['x']+this['x'],this[_0x48d9f8(0xba)][_0x48d9f8(0xcc)]['y']+this['y'],this[_0x48d9f8(0xba)][_0x48d9f8(0x132)]['w'],this[_0x48d9f8(0xba)]['crop']['h']);for(let _0x4ed674=0x0;_0x4ed674<player['arrowsArr']['length'];_0x4ed674++){c[_0x48d9f8(0x102)](this[_0x48d9f8(0xb9)],this[_0x48d9f8(0xfa)]['crop'][player[_0x48d9f8(0x9e)][_0x4ed674]]['x'],this[_0x48d9f8(0xfa)][_0x48d9f8(0x132)][player['arrowsArr'][_0x4ed674]]['y'],this[_0x48d9f8(0xfa)][_0x48d9f8(0x132)][player['arrowsArr'][_0x4ed674]]['w'],this['arrow'][_0x48d9f8(0x132)][player[_0x48d9f8(0x9e)][_0x4ed674]]['h'],this[_0x48d9f8(0xfa)][_0x48d9f8(0xcc)]['x']+this['x']-0xa*_0x4ed674,this[_0x48d9f8(0xfa)][_0x48d9f8(0xcc)]['y']+this['y'],this['arrow']['crop'][player['arrowsArr'][_0x4ed674]]['w'],this['arrow'][_0x48d9f8(0x132)][player['arrowsArr'][_0x4ed674]]['h']);}c['font']=_0x48d9f8(0xb0),c[_0x48d9f8(0xe2)]=_0x48d9f8(0xc4),c[_0x48d9f8(0x114)]=_0x48d9f8(0xbf),c['fillText'](player[_0x48d9f8(0xd8)]+'/'+player['arrowsArr'][_0x48d9f8(0xd3)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x2bb612=_0x200dd8;let _0x1563e7=player['x']+player['w']/0x2,_0x4397e8=player['y']+player['h']/0x2,_0x50ba9c=_0x1563e7,_0x4e3e9d=_0x4397e8,_0x1dc44b=![],_0x27af8e=0x0,_0x408255=returnCosine(_0x1563e7,_0x4397e8,Mouse['x'],Mouse['y']),_0xac6515=[],_0x2abfb4={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x105d19={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x3052d0=0x4,_0x372877={'x':0x0,'y':0x0};while(!_0x1dc44b&&_0x27af8e<CANVAS['width']*0x2/_0x3052d0){_0x50ba9c-=_0x408255['cos']*_0x3052d0,_0x4e3e9d-=_0x408255[_0x2bb612(0x12e)]*_0x3052d0;getTileData(_0x50ba9c,_0x4e3e9d)[_0x2bb612(0x108)]&&(_0x2abfb4=getTileData(_0x50ba9c,_0x4e3e9d)[_0x2bb612(0xf3)],_0x105d19['x']=_0x2abfb4['x'],_0x105d19['y']=_0x2abfb4['y'],_0x105d19['w']=_0x2abfb4['w'],_0x105d19['h']=_0x2abfb4['h'],_0x105d19['x']+=_0x50ba9c-_0x50ba9c%TILESIZE,_0x105d19['y']+=_0x4e3e9d-_0x4e3e9d%TILESIZE,_0x1dc44b=!![]);_0x372877['x']=_0x50ba9c,_0x372877['y']=_0x4e3e9d;for(let _0x3ec49c=0x0;_0x3ec49c<monsters['length'];_0x3ec49c++){if(!monsters[_0x3ec49c][_0x2bb612(0xad)]&&pointSquareCol(_0x372877,monsters[_0x3ec49c])){_0x105d19['x']=monsters[_0x3ec49c]['x'],_0x105d19['y']=monsters[_0x3ec49c]['y'],_0x105d19['w']=monsters[_0x3ec49c]['w'],_0x105d19['h']=monsters[_0x3ec49c]['h'],_0x1dc44b=!![];break;}}_0x27af8e++;}_0xac6515=getRectSides(_0x105d19);let _0x5d9213=[],_0x57cdf4={},_0x465a93;for(let _0x386be5=0x0;_0x386be5<_0xac6515['length'];_0x386be5++){_0x57cdf4=intersect(_0x1563e7,_0x4397e8,_0x50ba9c,_0x4e3e9d,_0xac6515[_0x386be5]['x1'],_0xac6515[_0x386be5]['y1'],_0xac6515[_0x386be5]['x2'],_0xac6515[_0x386be5]['y2']),_0x57cdf4&&_0x5d9213[_0x2bb612(0x12d)](_0x57cdf4);}let _0x43ccb6=Math['hypot'](_0x1563e7-_0x50ba9c,_0x4397e8-_0x4e3e9d),_0x1bd6b9=_0x50ba9c,_0x747865=_0x50ba9c;for(let _0x3b4e91=0x0;_0x3b4e91<_0x5d9213[_0x2bb612(0xd3)];_0x3b4e91++){_0x465a93=Math[_0x2bb612(0x85)](_0x1563e7-_0x50ba9c,_0x4397e8-_0x4e3e9d),_0x465a93<_0x43ccb6&&(_0x43ccb6=_0x465a93,_0x1bd6b9=_0x5d9213[_0x3b4e91]['x'],_0x747865=_0x5d9213[_0x3b4e91]['y']);}c['strokeStyle']=_0x2bb612(0x126),c[_0x2bb612(0xe9)](),c[_0x2bb612(0x88)](_0x1563e7+map['x'],_0x4397e8+map['y']),c[_0x2bb612(0xb3)](_0x50ba9c+map['x'],_0x4e3e9d+map['y']),c[_0x2bb612(0x116)](),c[_0x2bb612(0x123)]=_0x2bb612(0xd6);}function isObstructed(_0x516252,_0x40dd12){const _0x581584=_0x200dd8;let _0x368bf9=_0x516252['x']+_0x516252['w']/0x2,_0x5d6ad9=_0x516252['y']+_0x516252['h']/0x2,_0x54bfd9=_0x40dd12['x']+_0x40dd12['w']/0x2,_0x5bab5e=_0x40dd12['y']+_0x40dd12['h']/0x2,_0xef5546=Math[_0x581584(0x85)](_0x368bf9-_0x54bfd9,_0x5d6ad9-_0x5bab5e),_0x1407f2=_0x368bf9,_0x46427c=_0x5d6ad9,_0xd83ef9=![],_0x5d1447=0x0,_0x758fb8=returnCosine(_0x368bf9,_0x5d6ad9,_0x54bfd9,_0x5bab5e),_0x53bf72=[],_0x2457ad={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x4b1d1d={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x19bd54=0x3,_0x41e035={'x':0x0,'y':0x0};while(!_0xd83ef9&&_0x5d1447<_0xef5546/_0x19bd54){_0x1407f2-=_0x758fb8[_0x581584(0x83)]*_0x19bd54,_0x46427c-=_0x758fb8[_0x581584(0x12e)]*_0x19bd54;if(getTileData(_0x1407f2,_0x46427c)[_0x581584(0x108)])return _0x2457ad=getTileData(_0x1407f2,_0x46427c)[_0x581584(0xf3)],_0x4b1d1d['x']=_0x2457ad['x'],_0x4b1d1d['y']=_0x2457ad['y'],_0x4b1d1d['w']=_0x2457ad['w'],_0x4b1d1d['h']=_0x2457ad['h'],_0x4b1d1d['x']+=_0x1407f2-_0x1407f2%TILESIZE,_0x4b1d1d['y']+=_0x46427c-_0x46427c%TILESIZE,!![];_0x41e035['x']=_0x1407f2,_0x41e035['y']=_0x46427c;if(pointSquareCol(_0x41e035,_0x40dd12))return![];_0x5d1447++;}}function getRectSides(_0x5b79a8){const _0x251e38=_0x200dd8;let _0x541ab8=[];return _0x541ab8[_0x251e38(0x12d)]({'x1':_0x5b79a8['x'],'y1':_0x5b79a8['y'],'x2':_0x5b79a8['x']+_0x5b79a8['w'],'y2':_0x5b79a8['y']}),_0x541ab8[_0x251e38(0x12d)]({'x1':_0x5b79a8['x']+_0x5b79a8['w'],'y1':_0x5b79a8['y'],'x2':_0x5b79a8['x']+_0x5b79a8['w'],'y2':_0x5b79a8['y']+_0x5b79a8['h']}),_0x541ab8[_0x251e38(0x12d)]({'x1':_0x5b79a8['x']+_0x5b79a8['w'],'y1':_0x5b79a8['y']+_0x5b79a8['h'],'x2':_0x5b79a8['x'],'y2':_0x5b79a8['y']+_0x5b79a8['h']}),_0x541ab8[_0x251e38(0x12d)]({'x1':_0x5b79a8['x'],'y1':_0x5b79a8['y']+_0x5b79a8['h'],'x2':_0x5b79a8['x'],'y2':_0x5b79a8['y']}),_0x541ab8;}function init(){const _0x1198bf=_0x200dd8;let _0x481f57,_0x4befa4={};fetch(_0x1198bf(0xbd))[_0x1198bf(0xce)](function(_0x3c3020){return _0x3c3020['json']();})[_0x1198bf(0xce)](function(_0x4fe440){const _0x41404f=_0x1198bf;_0x481f57=_0x4fe440[_0x41404f(0xe8)];for(let _0x1929f4=0x0;_0x1929f4<_0x481f57['length'];_0x1929f4++){_0x4befa4={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x4befa4['id']=_0x481f57[_0x1929f4]['id'];if(_0x481f57[_0x1929f4]['hasOwnProperty'](_0x41404f(0xf7)))for(let _0x3575ff=0x0;_0x3575ff<_0x481f57[_0x1929f4][_0x41404f(0xf7)][_0x41404f(0xd3)];_0x3575ff++){if(_0x481f57[_0x1929f4]['properties'][_0x3575ff])switch(_0x481f57[_0x1929f4][_0x41404f(0xf7)][_0x3575ff]['name']){case _0x41404f(0x131):_0x4befa4['hole']=!![],_0x4befa4['unpassable']=!![];break;case'solid':_0x4befa4['solid']=!![],_0x4befa4['unpassable']=!![];break;}}TilesData[_0x41404f(0x12d)](_0x4befa4);}loop();});}init();var HP_BAR=id(_0x200dd8(0xa5));function renderHpBars(){const _0x479338=_0x200dd8;for(let _0x3ff301=0x0;_0x3ff301<monsters[_0x479338(0xd3)];_0x3ff301++){if(monsters[_0x3ff301][_0x479338(0xad)])continue;let _0x4cae47=monsters[_0x3ff301]['hp']/monsters[_0x3ff301][_0x479338(0x92)],_0x3ea77a=Math[_0x479338(0x9c)](TILESIZE*_0x4cae47);c[_0x479338(0x102)](HP_BAR,0x0,0x4,_0x3ea77a,0x4,monsters[_0x3ff301]['x']+monsters[_0x3ff301]['w']/0x2-0x10+map['x']|0x0,monsters[_0x3ff301]['y']-0x8+map['y']|0x0,_0x3ea77a|0x0,0x4|0x0),c[_0x479338(0x102)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x3ff301]['x']+monsters[_0x3ff301]['w']/0x2-0x10+map['x']|0x0,monsters[_0x3ff301]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x3b9791=_0x200dd8;this[_0x3b9791(0xb8)]=0x17,this[_0x3b9791(0x10e)]=0xf,this['x']=0x0,this['y']=0x0,this[_0x3b9791(0xe8)]=maps['m1'],this['sheet']=id(_0x3b9791(0xb9)),this['grass']=id('grass');}[_0x200dd8(0x112)](){const _0x4ee354=_0x200dd8;for(let _0x4f1f45=0x0;_0x4f1f45<this[_0x4ee354(0xe8)][_0x4ee354(0xd3)];_0x4f1f45++){_0x4f1f45==0x1&&c['drawImage'](this[_0x4ee354(0x10d)],0x0+this['x'],0x0+this['y'],CANVAS['width'],CANVAS[_0x4ee354(0x10e)]);for(let _0x1f0974=0x0;_0x1f0974<this[_0x4ee354(0xe8)][_0x4f1f45][_0x4ee354(0xd3)];_0x1f0974++){if(this[_0x4ee354(0xe8)][_0x4f1f45][_0x1f0974]===0x0)continue;c[_0x4ee354(0x102)](this['sheet'],(this['tiles'][_0x4f1f45][_0x1f0974]-0x1)%0xf*TILESIZE,((this[_0x4ee354(0xe8)][_0x4f1f45][_0x1f0974]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x1f0974%this[_0x4ee354(0xb8)]*TILESIZE+map['x'],(_0x1f0974/this[_0x4ee354(0xb8)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x400706=_0x200dd8;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this['radians']=0x2,this[_0x400706(0x128)]=0x0,this[_0x400706(0xec)]=[0x0],this[_0x400706(0x98)]=[0x0],this[_0x400706(0x109)]=[0x0,0x0,0x0,0x0],this[_0x400706(0xc1)]=[0x0,0x80,0x100,0x180],this['currentFrame']=0x0,this['frameCounter']=0x0,this[_0x400706(0xf4)]=0x0,this[_0x400706(0x10c)]=0x3,this['active']=![],this[_0x400706(0xb9)]=id(_0x400706(0xf0)),this[_0x400706(0xf9)]=id(_0x400706(0xc9));}['compute'](){const _0x3cb5e9=_0x200dd8;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x452e88,_0x5217b4,_0x335a77;for(let _0x513ed6=0x0;_0x513ed6<monsters[_0x3cb5e9(0xd3)];_0x513ed6++){if(monsters[_0x513ed6][_0x3cb5e9(0xad)]||!monsters[_0x513ed6][_0x3cb5e9(0x82)])continue;_0x452e88=monsters[_0x513ed6][_0x3cb5e9(0xf3)]['x']+monsters[_0x513ed6][_0x3cb5e9(0xf3)]['w']/0x2,_0x5217b4=monsters[_0x513ed6][_0x3cb5e9(0xf3)]['y']+monsters[_0x513ed6][_0x3cb5e9(0xf3)]['h']/0x2,_0x335a77=(monsters[_0x513ed6]['w']+monsters[_0x513ed6]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x452e88,_0x5217b4,_0x335a77)){let _0xe8652c=this['x']+this['w']/0x2,_0x4f9e62=this['y']+this['h']/0x2,_0x22e091=monsters[_0x513ed6]['x']-_0xe8652c,_0x1de287=monsters[_0x513ed6]['y']-_0x4f9e62,_0x1e3aff=Math[_0x3cb5e9(0x101)](_0x1de287,_0x22e091),_0x5f5d92=Math[_0x3cb5e9(0x83)](_0x1e3aff),_0x4adf49=Math[_0x3cb5e9(0x12e)](_0x1e3aff);monsters[_0x513ed6][_0x3cb5e9(0xfe)]=_0x5f5d92*0xa,monsters[_0x513ed6][_0x3cb5e9(0xe5)]=_0x4adf49*0xa,monsters[_0x513ed6]['hp']-=0.25,monsters[_0x513ed6][_0x3cb5e9(0xac)]=0xf;}}}[_0x200dd8(0x112)](){const _0x485e6a=_0x200dd8;this[_0x485e6a(0x86)]++,this[_0x485e6a(0x86)]>this[_0x485e6a(0x10c)]*DTR&&(this['frameCounter']=0x0,this[_0x485e6a(0x134)]++,this[_0x485e6a(0x134)]>=this[_0x485e6a(0x109)][_0x485e6a(0xd3)]&&(this['currentFrame']=0x0)),c[_0x485e6a(0x102)](this['sheet'],this[_0x485e6a(0x109)][this[_0x485e6a(0x134)]],this[_0x485e6a(0xc1)][this[_0x485e6a(0x134)]],0x80,0x40,this['x']-0x40-player[_0x485e6a(0xfe)]*0x4+map['x'],this['y']-0x40-player[_0x485e6a(0xe5)]*0x4+map['y'],0x80,0x40),c[_0x485e6a(0xe6)](),c['translate'](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x485e6a(0xb5)](this[_0x485e6a(0x128)]+this['radians']),c[_0x485e6a(0x102)](this[_0x485e6a(0xf9)],this[_0x485e6a(0xec)][this[_0x485e6a(0xf4)]],this['actionY'][this['action']],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c['restore'](),this[_0x485e6a(0xda)]-=0.5/DTR,this[_0x485e6a(0xda)]<=-0x9&&(this[_0x485e6a(0xc8)]=![],this[_0x485e6a(0xda)]=0x2),c[_0x485e6a(0x102)](this[_0x485e6a(0xb9)],this[_0x485e6a(0x109)][this[_0x485e6a(0x134)]],this[_0x485e6a(0xc1)][this[_0x485e6a(0x134)]]+0x40,0x80,0x40,this['x']-0x40-player[_0x485e6a(0xfe)]*0x4+map['x'],this['y']-player[_0x485e6a(0xe5)]*0x4+map['y'],0x80,0x40);}}function _0x49fc(_0x3161f0,_0x384dde){const _0x1dbf4a=_0x5f5c();return _0x49fc=function(_0x45a2ca,_0x348073){_0x45a2ca=_0x45a2ca-0x82;let _0xe6e73c=_0x1dbf4a[_0x45a2ca];return _0xe6e73c;},_0x49fc(_0x3161f0,_0x384dde);}function _0x5f5c(){const _0x115475=['headY','closePath','drawBow','translate','ended','solid','vfxX','4lHYzZN','<br>mouseTile.y\x20=\x20','slowness','grass','height','<br>mouseTile.x\x20=\x20','attack','82CUtNFj','draw','return\x20(function()\x20','fillStyle','framecounter','stroke','compute','hpBar','replace','portrait','unpassable','points','addEventListener','left','atkBox','lClick','createGrid','critChance','strokeStyle','now','top','#ff0000','{}.constructor(\x22return\x20this\x22)(\x20)','radiansP','[ACYMpJEyIjEpiUZTsQSeUJNhOAc]','justDied','Goal','color','push','sin','set','log','hole','crop','shift','currentFrame','collidable','cos','abs','hypot','frameCounter','arrowCounter','moveTo','random','yVel','colors','lengthY','keyup','computeQuiver','layout','charCodeAt','23144MqjgKn','maxHp','ACabYMouptJEyI:jEblpiaUnZkTsQSeUJNhOAc','noArrows','speed','keyCode','restore','actionY','4333830zqwzTa','mouseup','yRel','round','12snTWTH','arrowsArr','rClick','attacked','2307744KDBiwb','arrowSpeed','indexOf','free','hp-bar','splice','style','justShot','FPS','mousedown','lengthX','justDamaged','dead','type','xVel','14px\x20Arial','<br>player.y\x20=\x20','projSpeed','lineTo','bow','rotate','arrowCD','globalAlpha','width','sheet','mpBar','24632773aDpymG','innerHeight','./Archer.json','rect','#2f4447','#ff8db5','vfxY','centerX','followPlayer','center','arrows','shoot','<br>mouseTile\x20id\x20=\x20','active','sword','attacking','stats','pos','friendly','then','<br>DTR:\x20','col','clientX','innerWidth','length','offsetTop','#8b5851','black','damage','arrowsCount','checkCollisions','radians','player.x\x20=\x20','xRel','oncontextmenu','headX','maxMp','mousemove','player','textAlign','centerY','path','yVelExt','save','button','tiles','beginPath','apply','1161TuRpkN','actionX','keydown','fromCharCode','precision','sword-vfx','Obstacle','Start','hitbox','action','toPrecision','22394qmZJOF','properties','onclick','swordImg','arrow','7FatNqK','2672770zxxGbL','5622180AiwFLE','xVelExt','counter','innerHTML','atan2','drawImage'];_0x5f5c=function(){return _0x115475;};return _0x5f5c();}var sword=new Sword();function sortMonsters(){monsters['sort'](function(_0x1474df,_0x46a577){const _0x3a7811=_0x49fc;if(_0x1474df['dead']&&!_0x46a577[_0x3a7811(0xad)])return-0x1;else return!_0x1474df[_0x3a7811(0xad)]&&_0x46a577[_0x3a7811(0xad)]?0x1:_0x1474df['y']+0xf-_0x46a577['y'];});}function adjustCollidingMonsters(){const _0x14d108=_0x200dd8;for(let _0x401576=0x0;_0x401576<monsters['length'];_0x401576++){if(monsters[_0x401576]['dead'])continue;monsters[_0x401576][_0x14d108(0xd0)]['T']=0x0,monsters[_0x401576][_0x14d108(0xd0)]['B']=0x0,monsters[_0x401576][_0x14d108(0xd0)]['L']=0x0,monsters[_0x401576][_0x14d108(0xd0)]['R']=0x0;for(let _0x4ffd21=0x0;_0x4ffd21<monsters[_0x14d108(0xd3)];_0x4ffd21++){if(monsters[_0x4ffd21][_0x14d108(0xad)])continue;if(collided(monsters[_0x401576],monsters[_0x4ffd21])){let _0xbbd59f=colCheck(monsters[_0x401576],monsters[_0x4ffd21]);switch(_0xbbd59f){case'l':this[_0x14d108(0xaf)]<0x0&&(this['xVel']=0x0);break;case'r':this['xVel']>0x0&&(this[_0x14d108(0xaf)]=0x0);break;case'b':this[_0x14d108(0x8a)]>0x0&&(this[_0x14d108(0x8a)]=0x0);break;case't':this['yVel']<0x0&&(this[_0x14d108(0x8a)]=0x0);break;}monsters[_0x401576][_0x14d108(0xaf)]+=(monsters[_0x401576][_0x14d108(0xd0)]['L']-monsters[_0x401576][_0x14d108(0xd0)]['R'])/0x5,monsters[_0x401576]['yVel']+=(monsters[_0x401576][_0x14d108(0xd0)]['T']-monsters[_0x401576][_0x14d108(0xd0)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x46e094,_0x271763){const _0x2f97fb=_0x200dd8;super(Collidable),this['x']=_0x46e094,this['y']=_0x271763,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x2f97fb(0xaf)]=0x0,this['yVel']=0x0,this[_0x2f97fb(0xfe)]=0x0,this[_0x2f97fb(0xe5)]=0x0,this[_0x2f97fb(0x95)]=0x2,this['left']=0x0,this[_0x2f97fb(0x12a)]=![],this[_0x2f97fb(0xac)]=0x0,this[_0x2f97fb(0xad)]=![],this[_0x2f97fb(0xc5)]=[],this[_0x2f97fb(0x92)]=0x3,this['hp']=0x3,this[_0x2f97fb(0x86)]=0x0,this[_0x2f97fb(0x10c)]=0x4,this[_0x2f97fb(0x134)]=0x0,this[_0x2f97fb(0x82)]=!![],this[_0x2f97fb(0xb9)]=id(_0x2f97fb(0xb9)),this[_0x2f97fb(0xf4)]=0x0,this[_0x2f97fb(0xd0)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x2f97fb(0xf3)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this['actionX']=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x2f97fb(0x98)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x200dd8(0xc3)](){const _0x5779a7=_0x200dd8;if(this[_0x5779a7(0xf4)]!==0x0){let _0x28e616=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x450e6d=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x54ba99=_0x28e616>0x0?-0x1:0x1,_0x501d1f=_0x450e6d>0x0?-0x1:0x1,_0x12cd80;_0x450e6d!==0x0?_0x12cd80=Math[_0x5779a7(0x84)](_0x28e616)/(Math[_0x5779a7(0x84)](_0x450e6d)+Math[_0x5779a7(0x84)](_0x28e616)):_0x12cd80=0x0;this[_0x5779a7(0xaf)]=this[_0x5779a7(0x95)]*_0x12cd80*_0x54ba99,this['yVel']=this[_0x5779a7(0x95)]*(0x1-_0x12cd80)*_0x501d1f;if(this['x']+this['w']<player['x'])this[_0x5779a7(0x11e)]=![];else player['x']+player['w']<this['x']&&(this['left']=!![]);}}[_0x200dd8(0x117)](){const _0x4194f2=_0x200dd8;if(!this['dead']){this[_0x4194f2(0xc3)]();Math[_0x4194f2(0x84)](this[_0x4194f2(0xfe)])>0.01?this[_0x4194f2(0xfe)]*=0.9:this[_0x4194f2(0xfe)]=0x0;Math['abs'](this[_0x4194f2(0xe5)])>0.01?this['yVelExt']*=0.9:this[_0x4194f2(0xe5)]=0x0;(this[_0x4194f2(0xd0)]['T']&&this[_0x4194f2(0x8a)]<0x0||this[_0x4194f2(0xd0)]['B']&&this[_0x4194f2(0x8a)]>0x0)&&(this[_0x4194f2(0x8a)]=0x0);(this[_0x4194f2(0xd0)]['L']&&this[_0x4194f2(0xaf)]<0x0||this[_0x4194f2(0xd0)]['R']&&this[_0x4194f2(0xaf)]>0x0)&&(this[_0x4194f2(0xaf)]=0x0);this[_0x4194f2(0xf4)]!==0x0&&(this[_0x4194f2(0x11e)]?this[_0x4194f2(0xf4)]=0x2:this[_0x4194f2(0xf4)]=0x1);this[_0x4194f2(0xd9)](),this['x']+=(this[_0x4194f2(0xaf)]+this[_0x4194f2(0xfe)])/DTR,this['y']+=(this[_0x4194f2(0x8a)]+this[_0x4194f2(0xe5)])/DTR;for(let _0x224d81=0x0;_0x224d81<this[_0x4194f2(0xc5)]['length'];_0x224d81++){this['arrows'][_0x224d81]['x']=this['x']+this[_0x4194f2(0xc5)][_0x224d81][_0x4194f2(0xdc)],this[_0x4194f2(0xc5)][_0x224d81]['y']=this['y']+this[_0x4194f2(0xc5)][_0x224d81][_0x4194f2(0x9b)];}this[_0x4194f2(0xf3)]['x']=this['x']+0x6,this['hitbox']['y']=this['y']+0x4,this['hp']<=0x0&&(this['justDied']=!![]),this[_0x4194f2(0x12a)]&&(this[_0x4194f2(0xac)]=0x0,this['dead']=!![],this[_0x4194f2(0xf4)]=0x3,this[_0x4194f2(0x86)]=0x0,this[_0x4194f2(0x134)]=0x0,this[_0x4194f2(0x10c)]=0xa);}}[_0x200dd8(0x112)](){const _0xe98ec4=_0x200dd8;this[_0xe98ec4(0x86)]++;this['frameCounter']>this[_0xe98ec4(0x10c)]*DTR&&(this['frameCounter']=0x0,this[_0xe98ec4(0x134)]++,this['currentFrame']>=this['actionX'][this[_0xe98ec4(0xf4)]]['length']&&(this[_0xe98ec4(0xf4)]==0x0&&(this['action']=0x1+this[_0xe98ec4(0x11e)]),this[_0xe98ec4(0x134)]=0x0));this[_0xe98ec4(0xf4)]==0x3&&(this['currentFrame']==this['actionX'][this[_0xe98ec4(0xf4)]][_0xe98ec4(0xd3)]-0x1&&(this['frameCounter']=0x0));if(!this[_0xe98ec4(0xad)])for(let _0x380c30=0x0;_0x380c30<this[_0xe98ec4(0xc5)][_0xe98ec4(0xd3)];_0x380c30++){this['arrows'][_0x380c30][_0xe98ec4(0x112)]();}this[_0xe98ec4(0xac)]>0x0&&(this[_0xe98ec4(0xf4)]=0x4,this[_0xe98ec4(0x134)]=0x0,this[_0xe98ec4(0x115)]=0x0,this[_0xe98ec4(0xac)]-=0x1/DTR),c[_0xe98ec4(0x102)](this['sheet'],this[_0xe98ec4(0xec)][this[_0xe98ec4(0xf4)]][this[_0xe98ec4(0x134)]]*TILESIZE,this['actionY'][this[_0xe98ec4(0xf4)]][this[_0xe98ec4(0x134)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0xbe68c4,_0x48974d){const _0x498341=_0x200dd8;super(Collidable),this['x']=(_0xbe68c4/TILESIZE|0x0)*TILESIZE,this['y']=(_0x48974d/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x498341(0xaf)]=0x0,this['yVel']=0x0,this[_0x498341(0xfe)]=0x0,this[_0x498341(0xe5)]=0x0,this[_0x498341(0x95)]=0x2,this[_0x498341(0x11e)]=0x0,this[_0x498341(0x12a)]=![],this[_0x498341(0xac)]=0x0,this[_0x498341(0xad)]=![],this[_0x498341(0xca)]=![],this[_0x498341(0xc5)]=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x498341(0x86)]=0x0,this['slowness']=0x4,this['currentFrame']=0x0,this['sheet']=id('sheet'),this[_0x498341(0xf4)]=0x0,this[_0x498341(0x82)]=!![],this[_0x498341(0xe4)]=[],this[_0x498341(0xd0)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0x498341(0x11f)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x498341(0xec)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this['actionY']=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this[_0x498341(0xff)]=0x0;}['followPlayer'](){const _0x24cb14=_0x200dd8;this[_0x24cb14(0x11f)]['x']=this['x']-0x5*TILESIZE,this[_0x24cb14(0x11f)]['y']=this['y']-0x5*TILESIZE,this[_0x24cb14(0x11f)]['w']=0xb*TILESIZE,this['atkBox']['h']=0xb*TILESIZE;if(collided(this[_0x24cb14(0x11f)],player)){if(this[_0x24cb14(0xca)]){if(this[_0x24cb14(0x134)]==0x0&&this[_0x24cb14(0x86)]==0x0){this['createGrid']();switch(this[_0x24cb14(0xe4)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x24cb14(0xf4)]!==0x1&&(this['action']=0x1,this[_0x24cb14(0x134)]=0x0,this[_0x24cb14(0x86)]=0x0);}else this[_0x24cb14(0xca)]&&this['action']!==0x0&&this[_0x24cb14(0xf4)]!==0x2&&(this[_0x24cb14(0xca)]=![],this[_0x24cb14(0x82)]=!![],this[_0x24cb14(0xf4)]=0x2,this[_0x24cb14(0x134)]=0x0,this[_0x24cb14(0x86)]=0x0);}[_0x200dd8(0x117)](){const _0x48f9af=_0x200dd8;this[_0x48f9af(0xc3)](),this[_0x48f9af(0xf3)]['x']=this['x']+(this['w']-0xe)/0x2,this['hitbox']['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x292f2b=0x0;_0x292f2b<this['arrows']['length'];_0x292f2b++){this[_0x48f9af(0xc5)][_0x292f2b]['x']=this['x']+this['arrows'][_0x292f2b]['xRel'],this[_0x48f9af(0xc5)][_0x292f2b]['y']=this['y']+this[_0x48f9af(0xc5)][_0x292f2b][_0x48f9af(0x9b)];}this['hp']<=0x0&&(this['justDied']=!![]),this['justDied']&&(this['justDamaged']=0x0,this['dead']=!![],this[_0x48f9af(0xf4)]=0x3,this[_0x48f9af(0x86)]=0x0,this['currentFrame']=0x0,this[_0x48f9af(0x10c)]=0xa);}[_0x200dd8(0x112)](){const _0x77e448=_0x200dd8;this[_0x77e448(0x86)]++;this[_0x77e448(0xf4)]==0x4?this['slowness']=0x3:this[_0x77e448(0x10c)]=0x5;if(this['frameCounter']>this[_0x77e448(0x10c)]*DTR){this['frameCounter']=0x0,this[_0x77e448(0x134)]++;if(this['currentFrame']>=this['actionX'][this[_0x77e448(0xf4)]]['length']){if(this[_0x77e448(0xad)])this['currentFrame']=this[_0x77e448(0xec)][this[_0x77e448(0xf4)]]['length']-0x1;else{if(this[_0x77e448(0xf4)]==0x1)this[_0x77e448(0xca)]=!![],this[_0x77e448(0x82)]=![],this['action']=0x4,this[_0x77e448(0x134)]=0x0;else this[_0x77e448(0xf4)]==0x2?(this[_0x77e448(0xf4)]=0x0,this[_0x77e448(0x134)]=0x0):this[_0x77e448(0x134)]=0x0;}}}if(!this[_0x77e448(0xad)]){if(this[_0x77e448(0xf4)]==0x0)for(let _0x35f2f9=0x0;_0x35f2f9<this[_0x77e448(0xc5)][_0x77e448(0xd3)];_0x35f2f9++){this[_0x77e448(0xc5)][_0x35f2f9][_0x77e448(0x112)]();}}this[_0x77e448(0xac)]>0x0&&(this[_0x77e448(0xf4)]=0x3,this[_0x77e448(0x134)]=0x0,this[_0x77e448(0x115)]=0x0,this['justDamaged']-=0x1/DTR,this['justDamaged']<=0x0&&(this[_0x77e448(0xf4)]=0x0)),c[_0x77e448(0x102)](this['sheet'],this['actionX'][this['action']][this[_0x77e448(0x134)]]*TILESIZE,this['actionY'][this[_0x77e448(0xf4)]][this[_0x77e448(0x134)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x200dd8(0x121)](){const _0x438487=_0x200dd8;let _0x4b9609=0xb,_0x410965=[],_0x15bdc9=this['x']+this['w']/0x2-TILESIZE*0x5,_0x4e3ade=this['y']+this['h']/0x2-TILESIZE*0x5,_0x49054b;for(let _0x314b53=0x0;_0x314b53<_0x4b9609;_0x314b53++){_0x410965[_0x314b53]=[];for(let _0x55d6ea=0x0;_0x55d6ea<_0x4b9609;_0x55d6ea++){_0x49054b=getTileData(_0x15bdc9+_0x314b53*TILESIZE,_0x4e3ade+_0x55d6ea*TILESIZE),_0x49054b===![]?_0x410965[_0x314b53][_0x55d6ea]='Empty':_0x410965[_0x314b53][_0x55d6ea]=_0x438487(0xf1);}}_0x410965[0x5][0x5]=_0x438487(0xf2),_0x410965[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x438487(0x12b),this[_0x438487(0xe4)]=findShortestPath([0x5,0x5],_0x410965);}}class Flower extends Collidable{constructor(_0x2fa475,_0xfe79de){const _0x1548a7=_0x200dd8;super(Collidable),this['x']=_0x2fa475,this['y']=_0xfe79de,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x1548a7(0xaf)]=0x0,this[_0x1548a7(0x8a)]=0x0,this[_0x1548a7(0xfe)]=0x0,this[_0x1548a7(0xe5)]=0x0,this[_0x1548a7(0x95)]=0x2,this['left']=0x0,this[_0x1548a7(0x12a)]=![],this[_0x1548a7(0xac)]=0x0,this[_0x1548a7(0xad)]=![],this[_0x1548a7(0xc5)]=[],this[_0x1548a7(0x92)]=0x3,this['hp']=0x3,this[_0x1548a7(0x86)]=0x0,this['slowness']=0x8,this['attacking']=![],this['currentFrame']=0x0,this[_0x1548a7(0xb9)]=id(_0x1548a7(0xb9)),this['precision']=0x5,this[_0x1548a7(0xb2)]=0x8,this[_0x1548a7(0x82)]=!![],this[_0x1548a7(0xd0)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x1548a7(0xf4)]=0x0,this['actionX']=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x1548a7(0x98)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this[_0x1548a7(0xde)]=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x1548a7(0x103)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x1548a7(0xda)]=0x0,this['justShot']=![];}[_0x200dd8(0xc6)](){const _0x346c50=_0x200dd8;if(!isObstructed(this,player)){this['attacking']=!![];if(this[_0x346c50(0x134)]==0x2){if(!this[_0x346c50(0xa8)]){let _0x542d07=new EnemyProjectile(),_0x432c6c=this['x']+this['w']/0x2,_0xd957b3=this['y']+this['h']/0x2,_0x40a2fa=player['x']+player['w']/0x2-_0x432c6c+Math['random']()*this[_0x346c50(0xef)]-this['precision']/0x2,_0x3cdcd8=player['y']+player['h']/0x2-_0xd957b3+Math[_0x346c50(0x89)]()*this[_0x346c50(0xef)]-this[_0x346c50(0xef)]/0x2,_0x4ae1b7=Math[_0x346c50(0x101)](_0x3cdcd8,_0x40a2fa),_0x4942c4=Math[_0x346c50(0x83)](_0x4ae1b7),_0x4fe0b5=Math[_0x346c50(0x12e)](_0x4ae1b7);_0x542d07[_0x346c50(0xaf)]=_0x4942c4*this[_0x346c50(0xb2)],_0x542d07[_0x346c50(0x8a)]=_0x4fe0b5*this[_0x346c50(0xb2)],_0x542d07['x']=_0x432c6c,_0x542d07['y']=_0xd957b3,enemyProjectiles[_0x346c50(0x12d)](_0x542d07),this[_0x346c50(0xa8)]=!![];}}else this[_0x346c50(0xa8)]=![];}else this[_0x346c50(0xca)]=![];}[_0x200dd8(0x117)](){const _0x5efd3f=_0x200dd8;this[_0x5efd3f(0xc6)](),this[_0x5efd3f(0xf3)]['x']=this['x']+this['w']/0x3,this[_0x5efd3f(0xf3)]['y']=this['y']+this['h']/0x5,this[_0x5efd3f(0xda)]=Math['atan2'](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x246c85=0x0;_0x246c85<this[_0x5efd3f(0xc5)][_0x5efd3f(0xd3)];_0x246c85++){this[_0x5efd3f(0xc5)][_0x246c85]['x']=this['x']+this[_0x5efd3f(0xc5)][_0x246c85][_0x5efd3f(0xdc)],this[_0x5efd3f(0xc5)][_0x246c85]['y']=this['y']+this['arrows'][_0x246c85][_0x5efd3f(0x9b)];}this['hp']<=0x0&&(this[_0x5efd3f(0x12a)]=!![]),this['justDied']&&(this[_0x5efd3f(0xac)]=0x0,this[_0x5efd3f(0xad)]=!![],this[_0x5efd3f(0xf4)]=0x2,this[_0x5efd3f(0x86)]=0x0,this[_0x5efd3f(0x134)]=0x0,this[_0x5efd3f(0x10c)]=0xa);}['draw'](){const _0x49f0c2=_0x200dd8;this[_0x49f0c2(0x86)]++;this[_0x49f0c2(0x86)]>this['slowness']*DTR&&(this[_0x49f0c2(0x86)]=0x0,this[_0x49f0c2(0x134)]++,this[_0x49f0c2(0x134)]>=this[_0x49f0c2(0xec)][this[_0x49f0c2(0xf4)]][_0x49f0c2(0xd3)]&&(this[_0x49f0c2(0xad)]?this[_0x49f0c2(0x134)]=this[_0x49f0c2(0xec)][this[_0x49f0c2(0xf4)]][_0x49f0c2(0xd3)]-0x1:this[_0x49f0c2(0x134)]=0x0));if(!this[_0x49f0c2(0xad)]){this[_0x49f0c2(0xca)]?this[_0x49f0c2(0xf4)]=0x1:this[_0x49f0c2(0xf4)]=0x0;for(let _0xf12250=0x0;_0xf12250<this[_0x49f0c2(0xc5)][_0x49f0c2(0xd3)];_0xf12250++){this[_0x49f0c2(0xc5)][_0xf12250][_0x49f0c2(0x112)]();}}this['attacking']?this['slowness']=0x4:this[_0x49f0c2(0x10c)]=0x8,this[_0x49f0c2(0xac)]&&(this['action']=0x2,this[_0x49f0c2(0x134)]=0x0,this[_0x49f0c2(0x115)]=0x0,this[_0x49f0c2(0xac)]--),c[_0x49f0c2(0x102)](this['sheet'],this[_0x49f0c2(0xec)][this[_0x49f0c2(0xf4)]][this['currentFrame']]*TILESIZE,this['actionY'][this[_0x49f0c2(0xf4)]][this[_0x49f0c2(0x134)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this['action']==0x0||this['action']==0x1)&&(c[_0x49f0c2(0xe6)](),c[_0x49f0c2(0x106)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x49f0c2(0xb5)](this['radians']),c['drawImage'](this[_0x49f0c2(0xb9)],this[_0x49f0c2(0xde)][this[_0x49f0c2(0xf4)]][this[_0x49f0c2(0x134)]]*TILESIZE,this[_0x49f0c2(0x103)][this[_0x49f0c2(0xf4)]][this[_0x49f0c2(0x134)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x49f0c2(0x97)]());}}function getTileData(_0x1d9fc5,_0x1e7adc){const _0x1cff73=_0x200dd8;let _0xcb5772=(_0x1d9fc5/TILESIZE|0x0)+(_0x1e7adc/TILESIZE|0x0)*map[_0x1cff73(0xb8)];for(let _0x354803=0x0;_0x354803<map['tiles'][_0x1cff73(0xd3)];_0x354803++){for(let _0x119b0e=0x0;_0x119b0e<TilesData['length'];_0x119b0e++){if(TilesData[_0x119b0e]['id']==map[_0x1cff73(0xe8)][_0x354803][_0xcb5772]-0x1)return TilesData[_0x119b0e];}}return![];}window[_0x200dd8(0xf8)]=function(){const _0x19f2f3=_0x200dd8;player['arrowsCount']!==0x0?player[_0x19f2f3(0xc6)]():player['noArrows']=0xa;},window[_0x200dd8(0xdd)]=function(_0x29aaaa){_0x29aaaa['preventDefault'](),player['attack']();},document[_0x200dd8(0x11d)](_0x200dd8(0xaa),function(_0x441c9d){const _0x11e553=_0x200dd8;switch(_0x441c9d[_0x11e553(0xe7)]){case 0x0:userInterface['lClick']=!![];break;case 0x2:userInterface[_0x11e553(0x9f)]=!![];break;}}),document[_0x200dd8(0x11d)](_0x200dd8(0x9a),function(_0x1907b0){const _0x215503=_0x200dd8;switch(_0x1907b0[_0x215503(0xe7)]){case 0x0:userInterface['lClick']=![];break;case 0x2:userInterface[_0x215503(0x9f)]=![];break;}});var stats=id(_0x200dd8(0xcb));function drawStats(){const _0x245f14=_0x200dd8;stats['innerHTML']=_0x245f14(0xdb)+player['x'],stats[_0x245f14(0x100)]+=_0x245f14(0xb1)+player['y'],stats[_0x245f14(0x100)]+=_0x245f14(0x10f)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x245f14(0x100)]+=_0x245f14(0x10b)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x245f14(0x100)]+='<br>mouseTile\x20pos\x20=\x20'+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x245f14(0xb8)]),stats[_0x245f14(0x100)]+=_0x245f14(0xc7)+map[_0x245f14(0xe8)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']],map['tiles'][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x245f14(0xb8)]],DEBUG&&(c[_0x245f14(0xbe)]((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x245f14(0x116)]());}window[_0x200dd8(0x11d)](_0x200dd8(0xed),function(_0x1e24fe){const _0x2e296e=_0x200dd8;switch(_0x1e24fe['keyCode']){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters['push'](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x2e296e(0x130)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x4f4d74=0x0;_0x4f4d74<0x32;_0x4f4d74++){player[_0x2e296e(0xc6)](),player[_0x2e296e(0x87)]=player[_0x2e296e(0xb6)]*DTR,player[_0x2e296e(0x8e)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window['addEventListener'](_0x200dd8(0x8d),function(_0x59786c){const _0x566b03=_0x200dd8;switch(_0x59786c[_0x566b03(0x96)]){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0x200dd8(0x11d)](_0x200dd8(0xe0),function(_0x38fdb8){const _0x224efa=_0x200dd8;mousePP['x']=_0x38fdb8[_0x224efa(0xd1)]-CANVAS['offsetLeft'],mousePP['y']=_0x38fdb8['clientY']-CANVAS[_0x224efa(0xd4)];});function moveCamera(){const _0xda3d86=_0x200dd8;map['x']=-player['x']/0x3+CANVAS[_0xda3d86(0xb8)]/0x6,map['y']=-player['y']/0x3+CANVAS['height']/0x6,screenShake[_0xda3d86(0xff)]&&(screenShake[_0xda3d86(0xff)]--,screenShake[_0xda3d86(0x12f)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x406ed0=_0x200dd8;c['lineWidth']=0x2,c[_0x406ed0(0x123)]=sampleArrow['colors'][0x0],c[_0x406ed0(0xe9)]();for(let _0xb99d4e=playerArrows['length']-0x1;_0xb99d4e>=0x0;_0xb99d4e--){if(!playerArrows[_0xb99d4e][_0x406ed0(0xc8)]||playerArrows[_0xb99d4e][_0x406ed0(0x12c)]!=0x1)continue;playerArrows[_0xb99d4e][_0x406ed0(0xa4)]&&playerArrows[_0xb99d4e][_0x406ed0(0x117)]();if(playerArrows[_0xb99d4e]!==undefined)playerArrows[_0xb99d4e][_0x406ed0(0x112)]();}c[_0x406ed0(0x104)](),c['stroke'](),c[_0x406ed0(0x123)]=sampleArrow['colors'][0x1],c[_0x406ed0(0xe9)]();for(let _0x1630c0=playerArrows[_0x406ed0(0xd3)]-0x1;_0x1630c0>=0x0;_0x1630c0--){if(!playerArrows[_0x1630c0]['active']||playerArrows[_0x1630c0][_0x406ed0(0x12c)]!=0x2)continue;playerArrows[_0x1630c0][_0x406ed0(0xa4)]&&playerArrows[_0x1630c0][_0x406ed0(0x117)]();if(playerArrows[_0x1630c0]!==undefined)playerArrows[_0x1630c0][_0x406ed0(0x112)]();}c['closePath'](),c[_0x406ed0(0x116)]();}function loop(){const _0x2e50df=_0x200dd8;fps++,c['clearRect'](0x0,0x0,CANVAS[_0x2e50df(0xb8)],CANVAS['height']),moveCamera(),map[_0x2e50df(0x112)](),player['compute']();for(let _0x189460=enemyProjectiles[_0x2e50df(0xd3)]-0x1;_0x189460>=0x0;_0x189460--){enemyProjectiles[_0x189460]['compute']();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x1dda8b=0x0;_0x1dda8b<monsters[_0x2e50df(0xd3)];_0x1dda8b++){!monsters[_0x1dda8b][_0x2e50df(0xad)]&&monsters[_0x1dda8b][_0x2e50df(0x117)](),monsters[_0x1dda8b]['draw']();}player[_0x2e50df(0x112)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x406f26=enemyProjectiles[_0x2e50df(0xd3)]-0x1;_0x406f26>=0x0;_0x406f26--){enemyProjectiles[_0x406f26][_0x2e50df(0x112)]();}sword[_0x2e50df(0xc8)]&&(sword[_0x2e50df(0x117)](),sword[_0x2e50df(0x112)]());for(let _0x332e10=visualFxs[_0x2e50df(0xd3)]-0x1;_0x332e10>=0x0;_0x332e10--){!visualFxs[_0x332e10][_0x2e50df(0x107)]&&visualFxs[_0x332e10]['draw']();}userInterface[_0x2e50df(0x112)](),drawStats();}var lastUpdate=Date['now'](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0x3e850a=_0x200dd8;var _0x3c7c2b=Date[_0x3e850a(0x124)](),_0x2aa120=_0x3c7c2b-lastUpdate;lastUpdate=_0x3c7c2b,DTR=0x3e8/0x3c/_0x2aa120,!gamePaused&&loop();}