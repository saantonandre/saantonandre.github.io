'strict';function _0x403f(){const _0x51a3c9=['actionY','sort','sword','rClick','8IAUtSS','projSpeed','rect','rotate','path','computeQuiver','<br>mouseTile.x\x20=\x20','actionX','attacking','col','yRel','compute','then','xRel','yVelExt','innerHTML','fillStyle','points','abs','tiles','333231nWuBsh','sin','friendly','fromCharCode','centerY','push','centerX','grass','round','textAlign','portrait','keydown','globalAlpha','return\x20(function()\x20','clientX','vfxY','lineWidth','yVel','action','name','maxHp','currentFrame','./Archer.json','player','arrowCD','<br>mouseTile.y\x20=\x20','createGrid','44NwGiCs','type','arrows','attack','lClick','<br>mouseTile\x20pos\x20=\x20','#ff0000','followPlayer','#8b5851','arrow','vfxX','ended','precision','black','toPrecision','1625958jFvgwa','save','headX','{}.constructor(\x22return\x20this\x22)(\x20)','1826622PwZrwv','height','framecounter','arrowsCount','ZVMsaZaHntGonKOandrIeH.KTgHitBChqub.iDTo;ClocalHzjwhWOANosTtmGkxqKGAXBqjIpyHRZVxQXKXOTySZwXvVLPOMG','noArrows','slowness','atan2','layout','color','cos','hitbox','counter','stroke','Goal','clientY','solid','14ltoDus','justDamaged','properties','radians','4jPDuXV','onclick','preventDefault','hypot','slice','innerHeight','3259753Zhdtfx','2135660dkYdgB','bow','[ZVMZHGKOIHKTHBCqDTCHzjwWOANTmGkxqKGAXBqjIpyHRZVxQXKXOTySZwXvVLPOMG]','justDied','speed','crop','xVelExt','lengthX','now','mouseup','atkBox','strokeStyle','arrowsArr','shift','beginPath','innerWidth','xVel','left','button','hp-bar','hole','sheet','attacked','random','active','hpBar','keyCode','addEventListener','free','drawImage','damage','keyup','arrowSpeed','pos','frameCounter','[shFvgEVAZUHUqRpqfsSPyJs]','lineTo','dead','shoot','restore','radiansP','width','colors','clearRect','translate','sword-vfx','critChance','arrowCounter','22721MtKfry','drawBow','length','checkCollisions','style','fillText','#2f4447','lengthY','Start','#ff8db5','log','splice','indexOf','json','unpassable','justShot','closePath','Empty','headY','FPS:\x20','moveTo','collidable','965620QNTase','mousemove','draw','mpBar','hasOwnProperty'];_0x403f=function(){return _0x51a3c9;};return _0x403f();}const _0x1fdc50=_0x554c;(function(_0x1c4de2,_0x50b9e1){const _0x6a18eb=_0x554c,_0x26ddd5=_0x1c4de2();while(!![]){try{const _0x2c2915=-parseInt(_0x6a18eb(0x88))/0x1*(-parseInt(_0x6a18eb(0xfa))/0x2)+-parseInt(_0x6a18eb(0xbb))/0x3*(-parseInt(_0x6a18eb(0xfe))/0x4)+-parseInt(_0x6a18eb(0x105))/0x5+parseInt(_0x6a18eb(0xe5))/0x6+parseInt(_0x6a18eb(0x104))/0x7*(-parseInt(_0x6a18eb(0xa7))/0x8)+parseInt(_0x6a18eb(0xe9))/0x9+-parseInt(_0x6a18eb(0x9e))/0xa*(-parseInt(_0x6a18eb(0xd6))/0xb);if(_0x2c2915===_0x50b9e1)break;else _0x26ddd5['push'](_0x26ddd5['shift']());}catch(_0x45e1e3){_0x26ddd5['push'](_0x26ddd5['shift']());}}}(_0x403f,0x39fc8));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id('canvas'),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS['getContext']('2d');CANVAS[_0x1fdc50(0x81)]=0x2e0,CANVAS['height']=0x1e0,CANVAS[_0x1fdc50(0x8c)]['left']=(window[_0x1fdc50(0x114)]-CANVAS[_0x1fdc50(0x81)])/0x2+'px',CANVAS[_0x1fdc50(0x8c)]['top']=(window[_0x1fdc50(0x103)]-CANVAS[_0x1fdc50(0xea)])/0x2+'px',c['imageSmoothingEnabled']=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x10746d){const _0x596153=(function(){let _0x3a9746=!![];return function(_0x59bb44,_0x2cdebe){const _0x499f95=_0x3a9746?function(){if(_0x2cdebe){const _0x4002ff=_0x2cdebe['apply'](_0x59bb44,arguments);return _0x2cdebe=null,_0x4002ff;}}:function(){};return _0x3a9746=![],_0x499f95;};}()),_0x9b0272=_0x596153(this,function(){const _0x16303b=_0x554c;let _0x553e8c;try{const _0x404375=Function(_0x16303b(0xc8)+_0x16303b(0xe8)+');');_0x553e8c=_0x404375();}catch(_0x45d284){_0x553e8c=window;}const _0x260dfd=new RegExp(_0x16303b(0x107),'g'),_0x19b7b6=_0x16303b(0xed)['replace'](_0x260dfd,'')['split'](';');let _0x3b4723,_0x2ebe7a,_0x348212,_0x5d0b5c;const _0x7c2a96=function(_0x4b8e7a,_0x464a67,_0x3caba2){const _0x47b713=_0x16303b;if(_0x4b8e7a[_0x47b713(0x8a)]!=_0x464a67)return![];for(let _0x34fef6=0x0;_0x34fef6<_0x464a67;_0x34fef6++){for(let _0x332302=0x0;_0x332302<_0x3caba2[_0x47b713(0x8a)];_0x332302+=0x2){if(_0x34fef6==_0x3caba2[_0x332302]&&_0x4b8e7a['charCodeAt'](_0x34fef6)!=_0x3caba2[_0x332302+0x1])return![];}}return!![];},_0x1b3d60=function(_0x365298,_0x5c9b18,_0x188763){return _0x7c2a96(_0x5c9b18,_0x188763,_0x365298);},_0x31de2a=function(_0x437e92,_0x4f602f,_0x4c34cd){return _0x1b3d60(_0x4f602f,_0x437e92,_0x4c34cd);},_0x4da45d=function(_0x53cda5,_0x58524d,_0x12c273){return _0x31de2a(_0x58524d,_0x12c273,_0x53cda5);};for(let _0x6d3702 in _0x553e8c){if(_0x7c2a96(_0x6d3702,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3b4723=_0x6d3702;break;}}for(let _0x53a781 in _0x553e8c[_0x3b4723]){if(_0x4da45d(0x6,_0x53a781,[0x5,0x6e,0x0,0x64])){_0x2ebe7a=_0x53a781;break;}}for(let _0x4ddee5 in _0x553e8c[_0x3b4723]){if(_0x31de2a(_0x4ddee5,[0x7,0x6e,0x0,0x6c],0x8)){_0x348212=_0x4ddee5;break;}}if(!('~'>_0x2ebe7a))for(let _0x49b647 in _0x553e8c[_0x3b4723][_0x348212]){if(_0x1b3d60([0x7,0x65,0x0,0x68],_0x49b647,0x8)){_0x5d0b5c=_0x49b647;break;}}if(!_0x3b4723||!_0x553e8c[_0x3b4723])return;const _0xbf37a3=_0x553e8c[_0x3b4723][_0x2ebe7a],_0x1e1552=!!_0x553e8c[_0x3b4723][_0x348212]&&_0x553e8c[_0x3b4723][_0x348212][_0x5d0b5c],_0x2589c1=_0xbf37a3||_0x1e1552;if(!_0x2589c1)return;let _0x1fd8a3=![];for(let _0x2b25ed=0x0;_0x2b25ed<_0x19b7b6[_0x16303b(0x8a)];_0x2b25ed++){const _0x7adbd0=_0x19b7b6[_0x2b25ed],_0x26326e=_0x7adbd0[0x0]===String[_0x16303b(0xbe)](0x2e)?_0x7adbd0[_0x16303b(0x102)](0x1):_0x7adbd0,_0x15b34d=_0x2589c1[_0x16303b(0x8a)]-_0x26326e[_0x16303b(0x8a)],_0xf51850=_0x2589c1[_0x16303b(0x94)](_0x26326e,_0x15b34d),_0x4efdce=_0xf51850!==-0x1&&_0xf51850===_0x15b34d;_0x4efdce&&((_0x2589c1['length']==_0x7adbd0['length']||_0x7adbd0[_0x16303b(0x94)]('.')===0x0)&&(_0x1fd8a3=!![]));}if(!_0x1fd8a3){const _0x5dbfe9=new RegExp(_0x16303b(0x7b),'g'),_0x383637='shabFovgEuVt:blaAZnkUHUqRpqfsSPyJs'['replace'](_0x5dbfe9,'');_0x553e8c[_0x3b4723][_0x348212]=_0x383637;}});return _0x9b0272(),document['getElementById'](_0x10746d);}var fpsDiv=id('FPS');setInterval(function(){const _0x370575=_0x1fdc50;fpsDiv[_0x370575(0xb6)]=_0x370575(0x9b)+fps,fpsDiv[_0x370575(0xb6)]+='<br>DTR:\x20'+DTR[_0x370575(0xe4)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x4eff29=_0x1fdc50;this['x']=Math[_0x4eff29(0x11c)]()*0x8-0x4|0x0,this['y']=Math[_0x4eff29(0x11c)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x4a30f9=_0x1fdc50;this['x']=0x0,this['y']=0x0,this[_0x4a30f9(0xcc)]=0x0,this[_0x4a30f9(0x115)]=0x0,this['xRel']=0x0,this[_0x4a30f9(0xb1)]=0x0,this[_0x4a30f9(0x11d)]=!![],this[_0x4a30f9(0x74)]=!![],this['friendly']=!![],this[_0x4a30f9(0x10c)]=0x0,this[_0x4a30f9(0x8f)]=0x0,this[_0x4a30f9(0x76)]=0x1,this['color']=0x0,this['colors']=[_0x4a30f9(0xde),_0x4a30f9(0x91)],this[_0x4a30f9(0xb8)]={'x':0x0,'y':0x0};}[_0x1fdc50(0xa0)](){const _0x4d0b60=_0x1fdc50;Math['abs'](this[_0x4d0b60(0x115)]*0x3)>Math[_0x4d0b60(0xb9)](this[_0x4d0b60(0x10c)])&&(this[_0x4d0b60(0x10c)]=this[_0x4d0b60(0x115)]*0x3,this[_0x4d0b60(0x8f)]=this[_0x4d0b60(0xcc)]*0x3),this['points']['x']=this['x']+this[_0x4d0b60(0x10c)],this['points']['y']=this['y']+this[_0x4d0b60(0x8f)],c[_0x4d0b60(0x9c)](this['x']+map['x'],this['y']+map['y']),c[_0x4d0b60(0x7c)](this['x']+this[_0x4d0b60(0x10c)]+map['x'],this['y']+this[_0x4d0b60(0x8f)]+map['y']);}[_0x1fdc50(0xb2)](){const _0x50a96e=_0x1fdc50;this['x']+=this['xVel']/DTR,this['y']+=this['yVel']/DTR;if(getTileData(this['x'],this['y'])[_0x50a96e(0xf9)])visualFxs['push'](new Explosion(this['x']+this[_0x50a96e(0x115)],this['y']+this[_0x50a96e(0xcc)],this['color'])),this['color']==0x2&&(screenShake[_0x50a96e(0xf5)]=0x5),this[_0x50a96e(0x115)]=0x0,this['yVel']=0x0,this['lengthX']/=0x2,this[_0x50a96e(0x8f)]/=0x2,this['free']=![];else for(let _0x566bb0=monsters[_0x50a96e(0x8a)]-0x1;_0x566bb0>=0x0;_0x566bb0--){let _0x1fe437=monsters[_0x566bb0];!_0x1fe437[_0x50a96e(0x7d)]&&_0x1fe437[_0x50a96e(0x9d)]&&((pointSquareCol(this,_0x1fe437)||pointSquareCol(this[_0x50a96e(0xb8)],_0x1fe437))&&(this['active']=![],_0x1fe437[_0x50a96e(0x10b)]=this[_0x50a96e(0x115)]/0x2,_0x1fe437[_0x50a96e(0xb5)]=this[_0x50a96e(0xcc)]/0x2,visualFxs[_0x50a96e(0xc0)](new Explosion(this['x'],this['y'],this[_0x50a96e(0xf2)])),this['color']==0x2&&(screenShake['counter']=0x5),this[_0x50a96e(0x115)]=0x0,this[_0x50a96e(0xcc)]=0x0,this['xRel']=this['x']-_0x1fe437['x'],this['yRel']=this['y']-_0x1fe437['y'],_0x1fe437['arrows'][_0x50a96e(0xc0)](this),_0x1fe437['hp']-=this[_0x50a96e(0x76)],_0x1fe437[_0x50a96e(0xfb)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x3d9d28=_0x1fdc50;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x3d9d28(0xcc)]=0x0,this[_0x3d9d28(0x115)]=0x0,this['free']=!![],this[_0x3d9d28(0xbd)]=![],this['sheet']=id(_0x3d9d28(0x11a)),this[_0x3d9d28(0xae)]=[0x5],this['actionY']=[0x18],this['type']=0x0,this[_0x3d9d28(0x76)]=0x5;}[_0x1fdc50(0xb2)](){const _0x3d5644=_0x1fdc50;this['x']+=this[_0x3d5644(0x115)]/DTR,this['y']+=this['yVel']/DTR,getTileData(this['x'],this['y'])[_0x3d5644(0xf9)]?(enemyProjectiles[_0x3d5644(0x93)](enemyProjectiles[_0x3d5644(0x94)](this),0x1),visualFxs[_0x3d5644(0xc0)](new Explosion(this['x']+this[_0x3d5644(0x115)],this['y']+this[_0x3d5644(0xcc)],0x1)),this[_0x3d5644(0x115)]=0x0,this[_0x3d5644(0xcc)]=0x0,this[_0x3d5644(0x10c)]/=0x2,this[_0x3d5644(0x8f)]/=0x2,this['free']=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x3d5644(0x93)](enemyProjectiles['indexOf'](this),0x1),player[_0x3d5644(0x10b)]+=this['xVel']/0x2,player['yVelExt']+=this['yVel']/0x2,player['hp']-=this[_0x3d5644(0x76)],visualFxs['push'](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x3d5644(0xf5)]=0x5);}['draw'](){const _0x41471d=_0x1fdc50;c[_0x41471d(0x75)](this['sheet'],this['actionX'][this[_0x41471d(0xd7)]]*TILESIZE,this[_0x41471d(0xa3)][this[_0x41471d(0xd7)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x8e6ee,_0x21f409,_0x1dfb16){const _0x3aabc2=_0x1fdc50;this['sheet']=id('sheet'),this['x']=_0x8e6ee-0x10,this['y']=_0x21f409-0x10,this['w']=0x20,this['h']=0x20,this['frameCounter']=0x0,this[_0x3aabc2(0xd0)]=0x0,this[_0x3aabc2(0xcd)]=_0x1dfb16-0x1,this[_0x3aabc2(0xae)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this['actionY']=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this[_0x3aabc2(0xef)]=0x4,this['ended']=![];}[_0x1fdc50(0xa0)](){const _0x43cf60=_0x1fdc50;c[_0x43cf60(0x75)](this['sheet'],this[_0x43cf60(0xae)][this['action']][this[_0x43cf60(0xd0)]],this[_0x43cf60(0xa3)][this[_0x43cf60(0xcd)]][this[_0x43cf60(0xd0)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this['frameCounter']++,this[_0x43cf60(0x7a)]>this[_0x43cf60(0xef)]*DTR&&(this[_0x43cf60(0x7a)]=0x0,this[_0x43cf60(0xd0)]++,this[_0x43cf60(0xd0)]>this[_0x43cf60(0xae)][this[_0x43cf60(0xcd)]]['length']-0x1&&(this[_0x43cf60(0xe1)]=!![]));}}class Collidable{constructor(){}['checkCollisions'](){const _0x335aa4=_0x1fdc50;let _0x501567;this[_0x335aa4(0xb0)]['T']=0x0,this['col']['B']=0x0,this[_0x335aa4(0xb0)]['L']=0x0,this[_0x335aa4(0xb0)]['R']=0x0,getTileData(this['x'],this['y'])['unpassable']&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x501567=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x335aa4(0xb0)]['R'])/0x5/DTR,this['y']+=(this[_0x335aa4(0xb0)]['T']-this[_0x335aa4(0xb0)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])['unpassable']&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x501567=colCheck(this,generatedSquare),this['x']+=(this[_0x335aa4(0xb0)]['L']-this[_0x335aa4(0xb0)]['R'])/0x5/DTR,this['y']+=(this[_0x335aa4(0xb0)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x335aa4(0x96)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x501567=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x335aa4(0xb0)]['R'])/0x5/DTR,this['y']+=(this[_0x335aa4(0xb0)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x335aa4(0x96)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x501567=colCheck(this,generatedSquare),this['x']+=(this[_0x335aa4(0xb0)]['L']-this[_0x335aa4(0xb0)]['R'])/0x5/DTR,this['y']+=(this[_0x335aa4(0xb0)]['T']-this[_0x335aa4(0xb0)]['B'])/0x5/DTR),this['col']['B']&&(this[_0x335aa4(0xb5)]>0x0&&(this[_0x335aa4(0xb5)]*=-0.5)),this[_0x335aa4(0xb0)]['T']&&(this[_0x335aa4(0xb5)]<0x0&&(this[_0x335aa4(0xb5)]*=-0.5)),this[_0x335aa4(0xb0)]['R']&&(this[_0x335aa4(0x10b)]>0x0&&(this[_0x335aa4(0x10b)]*=-0.5)),this[_0x335aa4(0xb0)]['L']&&(this[_0x335aa4(0x10b)]<0x0&&(this[_0x335aa4(0x10b)]*=-0.5));}}class Player extends Collidable{constructor(_0x1597e0,_0x318ce1){const _0x4d0461=_0x1fdc50;super(Collidable),this['x']=_0x1597e0,this['y']=_0x318ce1,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x4d0461(0x109)]=0x3,this[_0x4d0461(0xcc)]=0x0,this[_0x4d0461(0x115)]=0x0,this[_0x4d0461(0xb5)]=0x0,this[_0x4d0461(0x10b)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this['arrowSpeed']=0xa,this[_0x4d0461(0xc1)]=0x0,this[_0x4d0461(0xbf)]=0x0,this[_0x4d0461(0xb0)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x4d0461(0xae)]=[0x0,0x20,0x40],this[_0x4d0461(0xa3)]=[0x0,0x0,0x0],this[_0x4d0461(0xcd)]=0x0,this[_0x4d0461(0x7a)]=0x0,this[_0x4d0461(0xef)]=0x6,this[_0x4d0461(0xfd)]=0x0,this['sword']=![],this['precision']=0x14,this[_0x4d0461(0xee)]=0x0,this[_0x4d0461(0x11b)]=0x0,this[_0x4d0461(0x111)]=[0x1,0x1,0x1,0x1,0x1],this[_0x4d0461(0xd3)]=0x3c,this['arrowCounter']=0x0,this['arrowsCount']=0x4,this['hp']=0x64,this[_0x4d0461(0xcf)]=0x64,this['mp']=0x64,this['maxMp']=0x64,this[_0x4d0461(0x86)]=0.25,this[_0x4d0461(0x106)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}[_0x1fdc50(0xac)](){const _0x2886ce=_0x1fdc50;let _0x5edca3=!![],_0xb6a31a;for(_0xb6a31a=0x0;_0xb6a31a<this[_0x2886ce(0x111)][_0x2886ce(0x8a)];_0xb6a31a++){if(this[_0x2886ce(0x111)][_0xb6a31a]===0x0){_0x5edca3=![];break;}}this[_0x2886ce(0xec)]=_0xb6a31a;if(!_0x5edca3){this[_0x2886ce(0x87)]++;if(this[_0x2886ce(0x87)]>this[_0x2886ce(0xd3)]*DTR)for(_0xb6a31a=0x0;_0xb6a31a<this[_0x2886ce(0x111)][_0x2886ce(0x8a)];_0xb6a31a++){if(this['arrowsArr'][_0xb6a31a]===0x0){Math[_0x2886ce(0x11c)]()<this[_0x2886ce(0x86)]?this[_0x2886ce(0x111)][_0xb6a31a]=0x2:this[_0x2886ce(0x111)][_0xb6a31a]=0x1;this[_0x2886ce(0x87)]=0x0;break;}}}else this[_0x2886ce(0x87)]=0x0;}['compute'](){const _0x4c29ff=_0x1fdc50;this[_0x4c29ff(0xac)](),this[_0x4c29ff(0xc1)]=this['x']+this['w']/0x2,this['centerY']=this['y']+this['h']/0x2,this[_0x4c29ff(0x8b)]();Math[_0x4c29ff(0xb9)](this['xVelExt'])>0.01?this[_0x4c29ff(0x10b)]-=this['xVelExt']*0.1/DTR:this[_0x4c29ff(0x10b)]=0x0;Math[_0x4c29ff(0xb9)](this[_0x4c29ff(0xb5)])>0.01?this['yVelExt']-=this[_0x4c29ff(0xb5)]*0.1/DTR:this['yVelExt']=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x4c29ff(0x109)]=0x2:this[_0x4c29ff(0x109)]=0x3;this[_0x4c29ff(0xfd)]=Math[_0x4c29ff(0xf0)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x4c29ff(0x115)]=-this[_0x4c29ff(0x109)];else!this['R']&&(this[_0x4c29ff(0x115)]=0x0);if(this['R'])this['xVel']=this[_0x4c29ff(0x109)];else!this['L']&&(this[_0x4c29ff(0x115)]=0x0);if(this['T'])this[_0x4c29ff(0xcc)]=-this['speed'];else!this['B']&&(this[_0x4c29ff(0xcc)]=0x0);if(this['B'])this[_0x4c29ff(0xcc)]=this['speed'];else!this['T']&&(this[_0x4c29ff(0xcc)]=0x0);this['x']+=(this[_0x4c29ff(0x115)]+this[_0x4c29ff(0x10b)])/DTR,this['y']+=(this['yVel']+this[_0x4c29ff(0xb5)])/DTR;}[_0x1fdc50(0xa0)](){const _0x336f56=_0x1fdc50;this[_0x336f56(0x115)]===0x0&&this['yVel']===0x0?this[_0x336f56(0xcd)]=0x0:(this[_0x336f56(0x7a)]++,this[_0x336f56(0x7a)]>=this['slowness']*DTR&&(this[_0x336f56(0xcd)]++,this[_0x336f56(0x7a)]=0x0,this['action']>=this['actionX'][_0x336f56(0x8a)]&&(this['action']=0x0))),c['save'](),c[_0x336f56(0x84)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x336f56(0xaa)](this['radians']),c[_0x336f56(0x75)](id(_0x336f56(0xd2)),this['actionX'][this[_0x336f56(0xcd)]],this[_0x336f56(0xa3)][this[_0x336f56(0xcd)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x336f56(0x7f)](),this['noArrows']&&(c[_0x336f56(0x75)](id(_0x336f56(0x11a)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x336f56(0xee)]--),this[_0x336f56(0x106)][_0x336f56(0x11d)]&&this[_0x336f56(0x89)]();}[_0x1fdc50(0x89)](){const _0x14604c=_0x1fdc50;this[_0x14604c(0x106)]['frameCounter']++,this[_0x14604c(0x106)][_0x14604c(0x7a)]>=this[_0x14604c(0x106)][_0x14604c(0xef)]*DTR&&(this[_0x14604c(0x106)][_0x14604c(0xcd)]++,this[_0x14604c(0x106)][_0x14604c(0x7a)]=0x0,this[_0x14604c(0x106)][_0x14604c(0x11d)]>=this[_0x14604c(0x106)][_0x14604c(0xae)]['length']&&(this[_0x14604c(0x106)][_0x14604c(0x11d)]=![])),c[_0x14604c(0xe6)](),c[_0x14604c(0x84)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x14604c(0xaa)](this['radians']),c['drawImage'](id(_0x14604c(0x106)),this[_0x14604c(0x106)]['actionX'][this[_0x14604c(0x106)][_0x14604c(0xcd)]],this[_0x14604c(0x106)][_0x14604c(0xa3)][this['bow']['action']],0x30,0x30,-this[_0x14604c(0x106)]['w']/0x2,-this['bow']['h'],this[_0x14604c(0x106)]['w'],this['bow']['h']),c[_0x14604c(0x7f)]();}[_0x1fdc50(0x7e)](){const _0x18f0cc=_0x1fdc50;this[_0x18f0cc(0x106)][_0x18f0cc(0x11d)]=!![],this[_0x18f0cc(0x106)][_0x18f0cc(0x7a)]=0x0,this[_0x18f0cc(0x106)]['currentFrame']=0x0,this[_0x18f0cc(0x106)][_0x18f0cc(0xcd)]=0x0;let _0x2f12d3=this['x']+this['w']/0x2,_0xfc61de=this['y']+this['h']/0x2,_0x35d209=Mouse['x']-_0x2f12d3+Math[_0x18f0cc(0x11c)]()*this[_0x18f0cc(0xe2)]-this[_0x18f0cc(0xe2)]/0x2,_0x522c3f=Mouse['y']-_0xfc61de+Math[_0x18f0cc(0x11c)]()*this[_0x18f0cc(0xe2)]-this['precision']/0x2,_0x1b27cd=Math[_0x18f0cc(0xf0)](_0x522c3f,_0x35d209),_0x1fdd14=Math[_0x18f0cc(0xf3)](_0x1b27cd),_0x4ea3fd=Math['sin'](_0x1b27cd),_0x2a6ac6=new Projectile();_0x2a6ac6['xVel']=_0x1fdd14*this[_0x18f0cc(0x78)],_0x2a6ac6[_0x18f0cc(0xcc)]=_0x4ea3fd*this['arrowSpeed'],_0x2a6ac6['x']=_0x2f12d3,_0x2a6ac6['y']=_0xfc61de,_0x2a6ac6[_0x18f0cc(0xf2)]=this[_0x18f0cc(0x111)][0x0],playerArrows['push'](_0x2a6ac6),this[_0x18f0cc(0x111)][_0x18f0cc(0x112)](),this['arrowsArr'][_0x18f0cc(0xc0)](0x0);}[_0x1fdc50(0xd9)](){const _0x582ecb=_0x1fdc50;if(!sword['active']){sword[_0x582ecb(0x11d)]=!![],sword[_0x582ecb(0x80)]=this[_0x582ecb(0xfd)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0xed5c2a=this['x']+this['w']/0x2,_0x18df91=this['y']+this['h']/0x2,_0x3a8d42=returnCosine(Mouse['x'],Mouse['y'],_0xed5c2a,_0x18df91);this['xVelExt']=_0x3a8d42[_0x582ecb(0xf3)]*0xe,this[_0x582ecb(0xb5)]=_0x3a8d42[_0x582ecb(0xbc)]*0xe;}}}}var player=new Player(CANVAS[_0x1fdc50(0x81)]/0x2,CANVAS[_0x1fdc50(0xea)]/0x4*0x3);class UserInterface{constructor(){const _0x463f9f=_0x1fdc50;this[_0x463f9f(0x11a)]=id('ui-sheet'),this['x']=0x14,this['y']=0x5,this['lClick']=![],this[_0x463f9f(0xa6)]=![],this[_0x463f9f(0x11b)]=0x0,this[_0x463f9f(0xf1)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0x463f9f(0xc5)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0x463f9f(0x71)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0x463f9f(0xa1)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x463f9f(0x106)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x463f9f(0xa5)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x463f9f(0xdf)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x463f9f(0x111)]=[0x1,0x1,0x1,0x1];}['draw'](){const _0x74f3df=_0x1fdc50;this[_0x74f3df(0xda)]&&(c[_0x74f3df(0xc7)]=0.5);c[_0x74f3df(0x75)](this[_0x74f3df(0x11a)],this[_0x74f3df(0x106)]['crop']['x'],this['bow'][_0x74f3df(0x10a)]['y'],this['bow']['crop']['w'],this[_0x74f3df(0x106)]['crop']['h'],this['bow'][_0x74f3df(0x79)]['x'],this[_0x74f3df(0x106)][_0x74f3df(0x79)]['y'],this['bow'][_0x74f3df(0x10a)]['w'],this[_0x74f3df(0x106)][_0x74f3df(0x10a)]['h']);this['lClick']&&(c['globalAlpha']=0x1);this[_0x74f3df(0xa6)]&&(c['globalAlpha']=0.5);c[_0x74f3df(0x75)](this[_0x74f3df(0x11a)],this['sword'][_0x74f3df(0x10a)]['x'],this[_0x74f3df(0xa5)][_0x74f3df(0x10a)]['y'],this['sword'][_0x74f3df(0x10a)]['w'],this[_0x74f3df(0xa5)][_0x74f3df(0x10a)]['h'],this['sword'][_0x74f3df(0x79)]['x'],this[_0x74f3df(0xa5)]['pos']['y'],this[_0x74f3df(0xa5)][_0x74f3df(0x10a)]['w'],this['sword']['crop']['h']);this[_0x74f3df(0xa6)]&&(c[_0x74f3df(0xc7)]=0x1);c[_0x74f3df(0x75)](this[_0x74f3df(0x11a)],this[_0x74f3df(0xf1)][_0x74f3df(0x10a)]['x'],this['layout'][_0x74f3df(0x10a)]['y'],this['layout'][_0x74f3df(0x10a)]['w'],this['layout']['crop']['h'],this[_0x74f3df(0xf1)][_0x74f3df(0x79)]['x']+this['x'],this['layout'][_0x74f3df(0x79)]['y']+this['y'],this[_0x74f3df(0xf1)][_0x74f3df(0x10a)]['w'],this['layout'][_0x74f3df(0x10a)]['h']),c[_0x74f3df(0x75)](this[_0x74f3df(0x11a)],this[_0x74f3df(0xc5)][_0x74f3df(0x10a)][player[_0x74f3df(0x11b)]]['x'],this['portrait'][_0x74f3df(0x10a)][player['attacked']]['y'],this[_0x74f3df(0xc5)][_0x74f3df(0x10a)][player[_0x74f3df(0x11b)]]['w'],this[_0x74f3df(0xc5)][_0x74f3df(0x10a)][player[_0x74f3df(0x11b)]]['h'],this[_0x74f3df(0xc5)][_0x74f3df(0x79)]['x']+this['x'],this[_0x74f3df(0xc5)][_0x74f3df(0x79)]['y']+this['y'],this[_0x74f3df(0xc5)]['crop'][player['attacked']]['w'],this[_0x74f3df(0xc5)][_0x74f3df(0x10a)][player['attacked']]['h']),c['drawImage'](this[_0x74f3df(0x11a)],this[_0x74f3df(0x71)][_0x74f3df(0x10a)]['x'],this[_0x74f3df(0x71)]['crop']['y'],this['hpBar'][_0x74f3df(0x10a)]['w'],this[_0x74f3df(0x71)][_0x74f3df(0x10a)]['h'],this['hpBar'][_0x74f3df(0x79)]['x']+this['x'],this[_0x74f3df(0x71)][_0x74f3df(0x79)]['y']+this['y'],this['hpBar'][_0x74f3df(0x10a)]['w']/player['maxHp']*player['hp'],this[_0x74f3df(0x71)][_0x74f3df(0x10a)]['h']),c[_0x74f3df(0x75)](this[_0x74f3df(0x11a)],this[_0x74f3df(0xa1)][_0x74f3df(0x10a)]['x'],this['mpBar'][_0x74f3df(0x10a)]['y'],this[_0x74f3df(0xa1)][_0x74f3df(0x10a)]['w'],this[_0x74f3df(0xa1)][_0x74f3df(0x10a)]['h'],this[_0x74f3df(0xa1)]['pos']['x']+this['x'],this[_0x74f3df(0xa1)][_0x74f3df(0x79)]['y']+this['y'],this['mpBar']['crop']['w'],this[_0x74f3df(0xa1)]['crop']['h']);for(let _0x3536f9=0x0;_0x3536f9<player[_0x74f3df(0x111)][_0x74f3df(0x8a)];_0x3536f9++){c[_0x74f3df(0x75)](this['sheet'],this['arrow'][_0x74f3df(0x10a)][player[_0x74f3df(0x111)][_0x3536f9]]['x'],this[_0x74f3df(0xdf)][_0x74f3df(0x10a)][player[_0x74f3df(0x111)][_0x3536f9]]['y'],this['arrow'][_0x74f3df(0x10a)][player['arrowsArr'][_0x3536f9]]['w'],this[_0x74f3df(0xdf)][_0x74f3df(0x10a)][player[_0x74f3df(0x111)][_0x3536f9]]['h'],this[_0x74f3df(0xdf)]['pos']['x']+this['x']-0xa*_0x3536f9,this[_0x74f3df(0xdf)]['pos']['y']+this['y'],this['arrow'][_0x74f3df(0x10a)][player[_0x74f3df(0x111)][_0x3536f9]]['w'],this[_0x74f3df(0xdf)][_0x74f3df(0x10a)][player[_0x74f3df(0x111)][_0x3536f9]]['h']);}c['font']='14px\x20Arial',c[_0x74f3df(0xc4)]='center',c[_0x74f3df(0xb7)]=_0x74f3df(0x8e),c[_0x74f3df(0x8d)](player[_0x74f3df(0xec)]+'/'+player['arrowsArr'][_0x74f3df(0x8a)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x4ae95a=_0x1fdc50;let _0x25c898=player['x']+player['w']/0x2,_0x394a62=player['y']+player['h']/0x2,_0x17ad80=_0x25c898,_0x1a19d0=_0x394a62,_0x72d435=![],_0x1ee2ed=0x0,_0x54e023=returnCosine(_0x25c898,_0x394a62,Mouse['x'],Mouse['y']),_0x31669a=[],_0x4cf5da={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x883a86={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x2313e7=0x4,_0x121b59={'x':0x0,'y':0x0};while(!_0x72d435&&_0x1ee2ed<CANVAS[_0x4ae95a(0x81)]*0x2/_0x2313e7){_0x17ad80-=_0x54e023[_0x4ae95a(0xf3)]*_0x2313e7,_0x1a19d0-=_0x54e023[_0x4ae95a(0xbc)]*_0x2313e7;getTileData(_0x17ad80,_0x1a19d0)[_0x4ae95a(0xf9)]&&(_0x4cf5da=getTileData(_0x17ad80,_0x1a19d0)[_0x4ae95a(0xf4)],_0x883a86['x']=_0x4cf5da['x'],_0x883a86['y']=_0x4cf5da['y'],_0x883a86['w']=_0x4cf5da['w'],_0x883a86['h']=_0x4cf5da['h'],_0x883a86['x']+=_0x17ad80-_0x17ad80%TILESIZE,_0x883a86['y']+=_0x1a19d0-_0x1a19d0%TILESIZE,_0x72d435=!![]);_0x121b59['x']=_0x17ad80,_0x121b59['y']=_0x1a19d0;for(let _0x587248=0x0;_0x587248<monsters['length'];_0x587248++){if(!monsters[_0x587248][_0x4ae95a(0x7d)]&&pointSquareCol(_0x121b59,monsters[_0x587248])){_0x883a86['x']=monsters[_0x587248]['x'],_0x883a86['y']=monsters[_0x587248]['y'],_0x883a86['w']=monsters[_0x587248]['w'],_0x883a86['h']=monsters[_0x587248]['h'],_0x72d435=!![];break;}}_0x1ee2ed++;}_0x31669a=getRectSides(_0x883a86);let _0x45c543=[],_0x533836={},_0x4d3cf2;for(let _0x4a82eb=0x0;_0x4a82eb<_0x31669a[_0x4ae95a(0x8a)];_0x4a82eb++){_0x533836=intersect(_0x25c898,_0x394a62,_0x17ad80,_0x1a19d0,_0x31669a[_0x4a82eb]['x1'],_0x31669a[_0x4a82eb]['y1'],_0x31669a[_0x4a82eb]['x2'],_0x31669a[_0x4a82eb]['y2']),_0x533836&&_0x45c543[_0x4ae95a(0xc0)](_0x533836);}let _0x343a9e=Math[_0x4ae95a(0x101)](_0x25c898-_0x17ad80,_0x394a62-_0x1a19d0),_0x3f86d9=_0x17ad80,_0x529715=_0x17ad80;for(let _0x4dff68=0x0;_0x4dff68<_0x45c543[_0x4ae95a(0x8a)];_0x4dff68++){_0x4d3cf2=Math[_0x4ae95a(0x101)](_0x25c898-_0x17ad80,_0x394a62-_0x1a19d0),_0x4d3cf2<_0x343a9e&&(_0x343a9e=_0x4d3cf2,_0x3f86d9=_0x45c543[_0x4dff68]['x'],_0x529715=_0x45c543[_0x4dff68]['y']);}c['strokeStyle']=_0x4ae95a(0xdc),c['beginPath'](),c[_0x4ae95a(0x9c)](_0x25c898+map['x'],_0x394a62+map['y']),c[_0x4ae95a(0x7c)](_0x17ad80+map['x'],_0x1a19d0+map['y']),c[_0x4ae95a(0xf6)](),c[_0x4ae95a(0x110)]=_0x4ae95a(0xe3);}function isObstructed(_0x1277d5,_0xa4208b){const _0x464ec4=_0x1fdc50;let _0x25f0e5=_0x1277d5['x']+_0x1277d5['w']/0x2,_0xc94649=_0x1277d5['y']+_0x1277d5['h']/0x2,_0x5d62db=_0xa4208b['x']+_0xa4208b['w']/0x2,_0x2951a6=_0xa4208b['y']+_0xa4208b['h']/0x2,_0x9e22fe=Math[_0x464ec4(0x101)](_0x25f0e5-_0x5d62db,_0xc94649-_0x2951a6),_0x403281=_0x25f0e5,_0x1a5da7=_0xc94649,_0x25329e=![],_0x303056=0x0,_0x331922=returnCosine(_0x25f0e5,_0xc94649,_0x5d62db,_0x2951a6),_0x1d7613=[],_0x32efdd={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x2d1fdc={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x496d07=0x3,_0x2f2356={'x':0x0,'y':0x0};while(!_0x25329e&&_0x303056<_0x9e22fe/_0x496d07){_0x403281-=_0x331922[_0x464ec4(0xf3)]*_0x496d07,_0x1a5da7-=_0x331922[_0x464ec4(0xbc)]*_0x496d07;if(getTileData(_0x403281,_0x1a5da7)[_0x464ec4(0xf9)])return _0x32efdd=getTileData(_0x403281,_0x1a5da7)[_0x464ec4(0xf4)],_0x2d1fdc['x']=_0x32efdd['x'],_0x2d1fdc['y']=_0x32efdd['y'],_0x2d1fdc['w']=_0x32efdd['w'],_0x2d1fdc['h']=_0x32efdd['h'],_0x2d1fdc['x']+=_0x403281-_0x403281%TILESIZE,_0x2d1fdc['y']+=_0x1a5da7-_0x1a5da7%TILESIZE,!![];_0x2f2356['x']=_0x403281,_0x2f2356['y']=_0x1a5da7;if(pointSquareCol(_0x2f2356,_0xa4208b))return![];_0x303056++;}}function getRectSides(_0x3bdede){const _0x307ebc=_0x1fdc50;let _0x2acf70=[];return _0x2acf70['push']({'x1':_0x3bdede['x'],'y1':_0x3bdede['y'],'x2':_0x3bdede['x']+_0x3bdede['w'],'y2':_0x3bdede['y']}),_0x2acf70[_0x307ebc(0xc0)]({'x1':_0x3bdede['x']+_0x3bdede['w'],'y1':_0x3bdede['y'],'x2':_0x3bdede['x']+_0x3bdede['w'],'y2':_0x3bdede['y']+_0x3bdede['h']}),_0x2acf70[_0x307ebc(0xc0)]({'x1':_0x3bdede['x']+_0x3bdede['w'],'y1':_0x3bdede['y']+_0x3bdede['h'],'x2':_0x3bdede['x'],'y2':_0x3bdede['y']+_0x3bdede['h']}),_0x2acf70['push']({'x1':_0x3bdede['x'],'y1':_0x3bdede['y']+_0x3bdede['h'],'x2':_0x3bdede['x'],'y2':_0x3bdede['y']}),_0x2acf70;}function init(){const _0x4d6193=_0x1fdc50;let _0xdc8cdc,_0x203f05={};fetch(_0x4d6193(0xd1))['then'](function(_0x5ade58){const _0x39bef5=_0x4d6193;return _0x5ade58[_0x39bef5(0x95)]();})[_0x4d6193(0xb3)](function(_0x25f34a){const _0x16e3e7=_0x4d6193;_0xdc8cdc=_0x25f34a[_0x16e3e7(0xba)];for(let _0x505582=0x0;_0x505582<_0xdc8cdc[_0x16e3e7(0x8a)];_0x505582++){_0x203f05={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x203f05['id']=_0xdc8cdc[_0x505582]['id'];if(_0xdc8cdc[_0x505582][_0x16e3e7(0xa2)](_0x16e3e7(0xfc)))for(let _0x4c495c=0x0;_0x4c495c<_0xdc8cdc[_0x505582][_0x16e3e7(0xfc)]['length'];_0x4c495c++){if(_0xdc8cdc[_0x505582][_0x16e3e7(0xfc)][_0x4c495c])switch(_0xdc8cdc[_0x505582][_0x16e3e7(0xfc)][_0x4c495c][_0x16e3e7(0xce)]){case _0x16e3e7(0x119):_0x203f05[_0x16e3e7(0x119)]=!![],_0x203f05[_0x16e3e7(0x96)]=!![];break;case _0x16e3e7(0xf9):_0x203f05[_0x16e3e7(0xf9)]=!![],_0x203f05['unpassable']=!![];break;}}TilesData[_0x16e3e7(0xc0)](_0x203f05);}loop();});}init();function _0x554c(_0x46b7be,_0x183135){const _0x11c0b3=_0x403f();return _0x554c=function(_0x5e32be,_0x120857){_0x5e32be=_0x5e32be-0x71;let _0x5ec8a4=_0x11c0b3[_0x5e32be];return _0x5ec8a4;},_0x554c(_0x46b7be,_0x183135);}var HP_BAR=id(_0x1fdc50(0x118));function renderHpBars(){const _0x4f913a=_0x1fdc50;for(let _0x3e49b3=0x0;_0x3e49b3<monsters[_0x4f913a(0x8a)];_0x3e49b3++){if(monsters[_0x3e49b3][_0x4f913a(0x7d)])continue;let _0x37ec5d=monsters[_0x3e49b3]['hp']/monsters[_0x3e49b3][_0x4f913a(0xcf)],_0x4a69ce=Math[_0x4f913a(0xc3)](TILESIZE*_0x37ec5d);c['drawImage'](HP_BAR,0x0,0x4,_0x4a69ce,0x4,monsters[_0x3e49b3]['x']+monsters[_0x3e49b3]['w']/0x2-0x10+map['x']|0x0,monsters[_0x3e49b3]['y']-0x8+map['y']|0x0,_0x4a69ce|0x0,0x4|0x0),c[_0x4f913a(0x75)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x3e49b3]['x']+monsters[_0x3e49b3]['w']/0x2-0x10+map['x']|0x0,monsters[_0x3e49b3]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x3deb44=_0x1fdc50;this['width']=0x17,this[_0x3deb44(0xea)]=0xf,this['x']=0x0,this['y']=0x0,this[_0x3deb44(0xba)]=maps['m1'],this[_0x3deb44(0x11a)]=id('sheet'),this['grass']=id(_0x3deb44(0xc2));}[_0x1fdc50(0xa0)](){const _0x519d0e=_0x1fdc50;for(let _0x214add=0x0;_0x214add<this[_0x519d0e(0xba)][_0x519d0e(0x8a)];_0x214add++){_0x214add==0x1&&c['drawImage'](this[_0x519d0e(0xc2)],0x0+this['x'],0x0+this['y'],CANVAS[_0x519d0e(0x81)],CANVAS[_0x519d0e(0xea)]);for(let _0x39ee72=0x0;_0x39ee72<this['tiles'][_0x214add][_0x519d0e(0x8a)];_0x39ee72++){if(this['tiles'][_0x214add][_0x39ee72]===0x0)continue;c[_0x519d0e(0x75)](this[_0x519d0e(0x11a)],(this[_0x519d0e(0xba)][_0x214add][_0x39ee72]-0x1)%0xf*TILESIZE,((this[_0x519d0e(0xba)][_0x214add][_0x39ee72]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x39ee72%this[_0x519d0e(0x81)]*TILESIZE+map['x'],(_0x39ee72/this[_0x519d0e(0x81)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x211713=_0x1fdc50;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x211713(0xfd)]=0x2,this[_0x211713(0x80)]=0x0,this['actionX']=[0x0],this[_0x211713(0xa3)]=[0x0],this[_0x211713(0xe0)]=[0x0,0x0,0x0,0x0],this[_0x211713(0xca)]=[0x0,0x80,0x100,0x180],this[_0x211713(0xd0)]=0x0,this[_0x211713(0x7a)]=0x0,this[_0x211713(0xcd)]=0x0,this[_0x211713(0xef)]=0x3,this[_0x211713(0x11d)]=![],this['sheet']=id(_0x211713(0x85)),this['swordImg']=id('sword');}[_0x1fdc50(0xb2)](){const _0x4889a4=_0x1fdc50;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x5e798d,_0x3c723e,_0x1a6a02;for(let _0x3f0042=0x0;_0x3f0042<monsters[_0x4889a4(0x8a)];_0x3f0042++){if(monsters[_0x3f0042]['dead']||!monsters[_0x3f0042]['collidable'])continue;_0x5e798d=monsters[_0x3f0042][_0x4889a4(0xf4)]['x']+monsters[_0x3f0042][_0x4889a4(0xf4)]['w']/0x2,_0x3c723e=monsters[_0x3f0042][_0x4889a4(0xf4)]['y']+monsters[_0x3f0042][_0x4889a4(0xf4)]['h']/0x2,_0x1a6a02=(monsters[_0x3f0042]['w']+monsters[_0x3f0042]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x5e798d,_0x3c723e,_0x1a6a02)){let _0x359ce4=this['x']+this['w']/0x2,_0x57cbb9=this['y']+this['h']/0x2,_0x5899e0=monsters[_0x3f0042]['x']-_0x359ce4,_0x36b9d2=monsters[_0x3f0042]['y']-_0x57cbb9,_0x338f9a=Math[_0x4889a4(0xf0)](_0x36b9d2,_0x5899e0),_0x210f5d=Math['cos'](_0x338f9a),_0x28cda8=Math['sin'](_0x338f9a);monsters[_0x3f0042][_0x4889a4(0x10b)]=_0x210f5d*0xa,monsters[_0x3f0042][_0x4889a4(0xb5)]=_0x28cda8*0xa,monsters[_0x3f0042]['hp']-=0.25,monsters[_0x3f0042][_0x4889a4(0xfb)]=0xf;}}}['draw'](){const _0x3c0527=_0x1fdc50;this['frameCounter']++,this['frameCounter']>this[_0x3c0527(0xef)]*DTR&&(this[_0x3c0527(0x7a)]=0x0,this[_0x3c0527(0xd0)]++,this[_0x3c0527(0xd0)]>=this['vfxX'][_0x3c0527(0x8a)]&&(this['currentFrame']=0x0)),c[_0x3c0527(0x75)](this['sheet'],this['vfxX'][this['currentFrame']],this[_0x3c0527(0xca)][this['currentFrame']],0x80,0x40,this['x']-0x40-player[_0x3c0527(0x10b)]*0x4+map['x'],this['y']-0x40-player[_0x3c0527(0xb5)]*0x4+map['y'],0x80,0x40),c['save'](),c[_0x3c0527(0x84)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x3c0527(0xaa)](this[_0x3c0527(0x80)]+this[_0x3c0527(0xfd)]),c[_0x3c0527(0x75)](this['swordImg'],this[_0x3c0527(0xae)][this[_0x3c0527(0xcd)]],this[_0x3c0527(0xa3)][this['action']],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x3c0527(0x7f)](),this[_0x3c0527(0xfd)]-=0.5/DTR,this[_0x3c0527(0xfd)]<=-0x9&&(this[_0x3c0527(0x11d)]=![],this['radians']=0x2),c[_0x3c0527(0x75)](this[_0x3c0527(0x11a)],this['vfxX'][this['currentFrame']],this[_0x3c0527(0xca)][this['currentFrame']]+0x40,0x80,0x40,this['x']-0x40-player[_0x3c0527(0x10b)]*0x4+map['x'],this['y']-player[_0x3c0527(0xb5)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x3b111a=_0x1fdc50;monsters[_0x3b111a(0xa4)](function(_0x4267b4,_0x486053){const _0x1a942a=_0x3b111a;if(_0x4267b4[_0x1a942a(0x7d)]&&!_0x486053[_0x1a942a(0x7d)])return-0x1;else return!_0x4267b4['dead']&&_0x486053[_0x1a942a(0x7d)]?0x1:_0x4267b4['y']+0xf-_0x486053['y'];});}function adjustCollidingMonsters(){const _0xbc3337=_0x1fdc50;for(let _0x2e0b72=0x0;_0x2e0b72<monsters[_0xbc3337(0x8a)];_0x2e0b72++){if(monsters[_0x2e0b72]['dead'])continue;monsters[_0x2e0b72][_0xbc3337(0xb0)]['T']=0x0,monsters[_0x2e0b72][_0xbc3337(0xb0)]['B']=0x0,monsters[_0x2e0b72][_0xbc3337(0xb0)]['L']=0x0,monsters[_0x2e0b72][_0xbc3337(0xb0)]['R']=0x0;for(let _0x380c38=0x0;_0x380c38<monsters[_0xbc3337(0x8a)];_0x380c38++){if(monsters[_0x380c38]['dead'])continue;if(collided(monsters[_0x2e0b72],monsters[_0x380c38])){let _0x1fe6a1=colCheck(monsters[_0x2e0b72],monsters[_0x380c38]);switch(_0x1fe6a1){case'l':this[_0xbc3337(0x115)]<0x0&&(this['xVel']=0x0);break;case'r':this['xVel']>0x0&&(this[_0xbc3337(0x115)]=0x0);break;case'b':this[_0xbc3337(0xcc)]>0x0&&(this[_0xbc3337(0xcc)]=0x0);break;case't':this[_0xbc3337(0xcc)]<0x0&&(this[_0xbc3337(0xcc)]=0x0);break;}monsters[_0x2e0b72]['xVel']+=(monsters[_0x2e0b72][_0xbc3337(0xb0)]['L']-monsters[_0x2e0b72][_0xbc3337(0xb0)]['R'])/0x5,monsters[_0x2e0b72][_0xbc3337(0xcc)]+=(monsters[_0x2e0b72][_0xbc3337(0xb0)]['T']-monsters[_0x2e0b72][_0xbc3337(0xb0)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x3a1764,_0x342de5){const _0x4c228d=_0x1fdc50;super(Collidable),this['x']=_0x3a1764,this['y']=_0x342de5,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x4c228d(0x115)]=0x0,this[_0x4c228d(0xcc)]=0x0,this[_0x4c228d(0x10b)]=0x0,this[_0x4c228d(0xb5)]=0x0,this[_0x4c228d(0x109)]=0x2,this[_0x4c228d(0x116)]=0x0,this[_0x4c228d(0x108)]=![],this['justDamaged']=0x0,this[_0x4c228d(0x7d)]=![],this['arrows']=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x4c228d(0x7a)]=0x0,this[_0x4c228d(0xef)]=0x4,this['currentFrame']=0x0,this['collidable']=!![],this[_0x4c228d(0x11a)]=id('sheet'),this['action']=0x0,this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x4c228d(0xf4)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x4c228d(0xae)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x4c228d(0xa3)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x1fdc50(0xdd)](){const _0x1c6f46=_0x1fdc50;if(this[_0x1c6f46(0xcd)]!==0x0){let _0x1d9e20=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x53a471=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x2bc1b6=_0x1d9e20>0x0?-0x1:0x1,_0x3c2202=_0x53a471>0x0?-0x1:0x1,_0x2c46d9;_0x53a471!==0x0?_0x2c46d9=Math[_0x1c6f46(0xb9)](_0x1d9e20)/(Math[_0x1c6f46(0xb9)](_0x53a471)+Math[_0x1c6f46(0xb9)](_0x1d9e20)):_0x2c46d9=0x0;this[_0x1c6f46(0x115)]=this[_0x1c6f46(0x109)]*_0x2c46d9*_0x2bc1b6,this[_0x1c6f46(0xcc)]=this['speed']*(0x1-_0x2c46d9)*_0x3c2202;if(this['x']+this['w']<player['x'])this[_0x1c6f46(0x116)]=![];else player['x']+player['w']<this['x']&&(this[_0x1c6f46(0x116)]=!![]);}}[_0x1fdc50(0xb2)](){const _0x5b14c4=_0x1fdc50;if(!this[_0x5b14c4(0x7d)]){this[_0x5b14c4(0xdd)]();Math['abs'](this[_0x5b14c4(0x10b)])>0.01?this[_0x5b14c4(0x10b)]*=0.9:this[_0x5b14c4(0x10b)]=0x0;Math[_0x5b14c4(0xb9)](this['yVelExt'])>0.01?this[_0x5b14c4(0xb5)]*=0.9:this[_0x5b14c4(0xb5)]=0x0;(this[_0x5b14c4(0xb0)]['T']&&this[_0x5b14c4(0xcc)]<0x0||this[_0x5b14c4(0xb0)]['B']&&this[_0x5b14c4(0xcc)]>0x0)&&(this['yVel']=0x0);(this[_0x5b14c4(0xb0)]['L']&&this['xVel']<0x0||this[_0x5b14c4(0xb0)]['R']&&this[_0x5b14c4(0x115)]>0x0)&&(this['xVel']=0x0);this[_0x5b14c4(0xcd)]!==0x0&&(this[_0x5b14c4(0x116)]?this[_0x5b14c4(0xcd)]=0x2:this[_0x5b14c4(0xcd)]=0x1);this[_0x5b14c4(0x8b)](),this['x']+=(this['xVel']+this[_0x5b14c4(0x10b)])/DTR,this['y']+=(this['yVel']+this[_0x5b14c4(0xb5)])/DTR;for(let _0x3ec8d3=0x0;_0x3ec8d3<this[_0x5b14c4(0xd8)]['length'];_0x3ec8d3++){this['arrows'][_0x3ec8d3]['x']=this['x']+this[_0x5b14c4(0xd8)][_0x3ec8d3][_0x5b14c4(0xb4)],this['arrows'][_0x3ec8d3]['y']=this['y']+this[_0x5b14c4(0xd8)][_0x3ec8d3]['yRel'];}this[_0x5b14c4(0xf4)]['x']=this['x']+0x6,this[_0x5b14c4(0xf4)]['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x5b14c4(0x108)]=!![]),this[_0x5b14c4(0x108)]&&(this[_0x5b14c4(0xfb)]=0x0,this[_0x5b14c4(0x7d)]=!![],this[_0x5b14c4(0xcd)]=0x3,this[_0x5b14c4(0x7a)]=0x0,this[_0x5b14c4(0xd0)]=0x0,this[_0x5b14c4(0xef)]=0xa);}}[_0x1fdc50(0xa0)](){const _0x3dd1ef=_0x1fdc50;this[_0x3dd1ef(0x7a)]++;this[_0x3dd1ef(0x7a)]>this[_0x3dd1ef(0xef)]*DTR&&(this[_0x3dd1ef(0x7a)]=0x0,this['currentFrame']++,this['currentFrame']>=this[_0x3dd1ef(0xae)][this['action']][_0x3dd1ef(0x8a)]&&(this[_0x3dd1ef(0xcd)]==0x0&&(this[_0x3dd1ef(0xcd)]=0x1+this[_0x3dd1ef(0x116)]),this[_0x3dd1ef(0xd0)]=0x0));this['action']==0x3&&(this[_0x3dd1ef(0xd0)]==this[_0x3dd1ef(0xae)][this[_0x3dd1ef(0xcd)]][_0x3dd1ef(0x8a)]-0x1&&(this[_0x3dd1ef(0x7a)]=0x0));if(!this[_0x3dd1ef(0x7d)])for(let _0x5963db=0x0;_0x5963db<this[_0x3dd1ef(0xd8)][_0x3dd1ef(0x8a)];_0x5963db++){this[_0x3dd1ef(0xd8)][_0x5963db]['draw']();}this[_0x3dd1ef(0xfb)]>0x0&&(this['action']=0x4,this[_0x3dd1ef(0xd0)]=0x0,this[_0x3dd1ef(0xeb)]=0x0,this[_0x3dd1ef(0xfb)]-=0x1/DTR),c[_0x3dd1ef(0x75)](this[_0x3dd1ef(0x11a)],this[_0x3dd1ef(0xae)][this['action']][this['currentFrame']]*TILESIZE,this[_0x3dd1ef(0xa3)][this[_0x3dd1ef(0xcd)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x507c46,_0x150971){const _0x35787c=_0x1fdc50;super(Collidable),this['x']=(_0x507c46/TILESIZE|0x0)*TILESIZE,this['y']=(_0x150971/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x35787c(0x115)]=0x0,this[_0x35787c(0xcc)]=0x0,this[_0x35787c(0x10b)]=0x0,this[_0x35787c(0xb5)]=0x0,this['speed']=0x2,this['left']=0x0,this['justDied']=![],this[_0x35787c(0xfb)]=0x0,this['dead']=![],this[_0x35787c(0xaf)]=![],this[_0x35787c(0xd8)]=[],this[_0x35787c(0xcf)]=0x3,this['hp']=0x3,this[_0x35787c(0x7a)]=0x0,this[_0x35787c(0xef)]=0x4,this[_0x35787c(0xd0)]=0x0,this['sheet']=id(_0x35787c(0x11a)),this['action']=0x0,this['collidable']=!![],this[_0x35787c(0xab)]=[],this[_0x35787c(0xb0)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x35787c(0xf4)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['actionX']=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0x35787c(0xa3)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this[_0x35787c(0xf5)]=0x0;}[_0x1fdc50(0xdd)](){const _0x32a5d4=_0x1fdc50;this[_0x32a5d4(0x10f)]['x']=this['x']-0x5*TILESIZE,this[_0x32a5d4(0x10f)]['y']=this['y']-0x5*TILESIZE,this[_0x32a5d4(0x10f)]['w']=0xb*TILESIZE,this[_0x32a5d4(0x10f)]['h']=0xb*TILESIZE;if(collided(this[_0x32a5d4(0x10f)],player)){if(this['attacking']){if(this[_0x32a5d4(0xd0)]==0x0&&this['frameCounter']==0x0){this[_0x32a5d4(0xd5)]();switch(this[_0x32a5d4(0xab)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this['action']!==0x1&&(this[_0x32a5d4(0xcd)]=0x1,this[_0x32a5d4(0xd0)]=0x0,this['frameCounter']=0x0);}else this['attacking']&&this[_0x32a5d4(0xcd)]!==0x0&&this[_0x32a5d4(0xcd)]!==0x2&&(this[_0x32a5d4(0xaf)]=![],this[_0x32a5d4(0x9d)]=!![],this[_0x32a5d4(0xcd)]=0x2,this[_0x32a5d4(0xd0)]=0x0,this['frameCounter']=0x0);}[_0x1fdc50(0xb2)](){const _0x32bef6=_0x1fdc50;this[_0x32bef6(0xdd)](),this[_0x32bef6(0xf4)]['x']=this['x']+(this['w']-0xe)/0x2,this[_0x32bef6(0xf4)]['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x541b2d=0x0;_0x541b2d<this[_0x32bef6(0xd8)]['length'];_0x541b2d++){this[_0x32bef6(0xd8)][_0x541b2d]['x']=this['x']+this[_0x32bef6(0xd8)][_0x541b2d][_0x32bef6(0xb4)],this[_0x32bef6(0xd8)][_0x541b2d]['y']=this['y']+this[_0x32bef6(0xd8)][_0x541b2d][_0x32bef6(0xb1)];}this['hp']<=0x0&&(this[_0x32bef6(0x108)]=!![]),this['justDied']&&(this[_0x32bef6(0xfb)]=0x0,this['dead']=!![],this[_0x32bef6(0xcd)]=0x3,this[_0x32bef6(0x7a)]=0x0,this[_0x32bef6(0xd0)]=0x0,this['slowness']=0xa);}[_0x1fdc50(0xa0)](){const _0x1a4703=_0x1fdc50;this[_0x1a4703(0x7a)]++;this['action']==0x4?this[_0x1a4703(0xef)]=0x3:this['slowness']=0x5;if(this[_0x1a4703(0x7a)]>this[_0x1a4703(0xef)]*DTR){this[_0x1a4703(0x7a)]=0x0,this[_0x1a4703(0xd0)]++;if(this[_0x1a4703(0xd0)]>=this['actionX'][this[_0x1a4703(0xcd)]][_0x1a4703(0x8a)]){if(this['dead'])this[_0x1a4703(0xd0)]=this[_0x1a4703(0xae)][this['action']][_0x1a4703(0x8a)]-0x1;else{if(this[_0x1a4703(0xcd)]==0x1)this[_0x1a4703(0xaf)]=!![],this[_0x1a4703(0x9d)]=![],this[_0x1a4703(0xcd)]=0x4,this['currentFrame']=0x0;else this[_0x1a4703(0xcd)]==0x2?(this[_0x1a4703(0xcd)]=0x0,this['currentFrame']=0x0):this[_0x1a4703(0xd0)]=0x0;}}}if(!this[_0x1a4703(0x7d)]){if(this[_0x1a4703(0xcd)]==0x0)for(let _0x4a636b=0x0;_0x4a636b<this[_0x1a4703(0xd8)][_0x1a4703(0x8a)];_0x4a636b++){this['arrows'][_0x4a636b]['draw']();}}this[_0x1a4703(0xfb)]>0x0&&(this[_0x1a4703(0xcd)]=0x3,this['currentFrame']=0x0,this[_0x1a4703(0xeb)]=0x0,this['justDamaged']-=0x1/DTR,this[_0x1a4703(0xfb)]<=0x0&&(this[_0x1a4703(0xcd)]=0x0)),c[_0x1a4703(0x75)](this['sheet'],this[_0x1a4703(0xae)][this[_0x1a4703(0xcd)]][this[_0x1a4703(0xd0)]]*TILESIZE,this['actionY'][this[_0x1a4703(0xcd)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x1fdc50(0xd5)](){const _0x373239=_0x1fdc50;let _0x28d748=0xb,_0x144beb=[],_0x23397f=this['x']+this['w']/0x2-TILESIZE*0x5,_0x3e4a0a=this['y']+this['h']/0x2-TILESIZE*0x5,_0x34d983;for(let _0x5cf98a=0x0;_0x5cf98a<_0x28d748;_0x5cf98a++){_0x144beb[_0x5cf98a]=[];for(let _0xf1ce6d=0x0;_0xf1ce6d<_0x28d748;_0xf1ce6d++){_0x34d983=getTileData(_0x23397f+_0x5cf98a*TILESIZE,_0x3e4a0a+_0xf1ce6d*TILESIZE),_0x34d983===![]?_0x144beb[_0x5cf98a][_0xf1ce6d]=_0x373239(0x99):_0x144beb[_0x5cf98a][_0xf1ce6d]='Obstacle';}}_0x144beb[0x5][0x5]=_0x373239(0x90),_0x144beb[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x373239(0xf7),this[_0x373239(0xab)]=findShortestPath([0x5,0x5],_0x144beb);}}class Flower extends Collidable{constructor(_0x6ce53,_0x57c0e3){const _0x5ac6d8=_0x1fdc50;super(Collidable),this['x']=_0x6ce53,this['y']=_0x57c0e3,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this[_0x5ac6d8(0xcc)]=0x0,this[_0x5ac6d8(0x10b)]=0x0,this[_0x5ac6d8(0xb5)]=0x0,this[_0x5ac6d8(0x109)]=0x2,this[_0x5ac6d8(0x116)]=0x0,this[_0x5ac6d8(0x108)]=![],this['justDamaged']=0x0,this[_0x5ac6d8(0x7d)]=![],this[_0x5ac6d8(0xd8)]=[],this[_0x5ac6d8(0xcf)]=0x3,this['hp']=0x3,this[_0x5ac6d8(0x7a)]=0x0,this[_0x5ac6d8(0xef)]=0x8,this['attacking']=![],this['currentFrame']=0x0,this[_0x5ac6d8(0x11a)]=id(_0x5ac6d8(0x11a)),this['precision']=0x5,this[_0x5ac6d8(0xa8)]=0x8,this[_0x5ac6d8(0x9d)]=!![],this[_0x5ac6d8(0xb0)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x5ac6d8(0xf4)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this['action']=0x0,this[_0x5ac6d8(0xae)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x5ac6d8(0xa3)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this[_0x5ac6d8(0xe7)]=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x5ac6d8(0x9a)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this['radians']=0x0,this['justShot']=![];}['shoot'](){const _0xcf55dd=_0x1fdc50;if(!isObstructed(this,player)){this[_0xcf55dd(0xaf)]=!![];if(this[_0xcf55dd(0xd0)]==0x2){if(!this[_0xcf55dd(0x97)]){let _0x39f606=new EnemyProjectile(),_0x336bbc=this['x']+this['w']/0x2,_0x41ba07=this['y']+this['h']/0x2,_0x37dfc6=player['x']+player['w']/0x2-_0x336bbc+Math[_0xcf55dd(0x11c)]()*this['precision']-this[_0xcf55dd(0xe2)]/0x2,_0x3cdd5e=player['y']+player['h']/0x2-_0x41ba07+Math['random']()*this[_0xcf55dd(0xe2)]-this[_0xcf55dd(0xe2)]/0x2,_0x1067f4=Math[_0xcf55dd(0xf0)](_0x3cdd5e,_0x37dfc6),_0x5c480c=Math['cos'](_0x1067f4),_0x4d1ef0=Math['sin'](_0x1067f4);_0x39f606['xVel']=_0x5c480c*this[_0xcf55dd(0xa8)],_0x39f606[_0xcf55dd(0xcc)]=_0x4d1ef0*this[_0xcf55dd(0xa8)],_0x39f606['x']=_0x336bbc,_0x39f606['y']=_0x41ba07,enemyProjectiles['push'](_0x39f606),this[_0xcf55dd(0x97)]=!![];}}else this[_0xcf55dd(0x97)]=![];}else this[_0xcf55dd(0xaf)]=![];}['compute'](){const _0x4cb56d=_0x1fdc50;this['shoot'](),this['hitbox']['x']=this['x']+this['w']/0x3,this['hitbox']['y']=this['y']+this['h']/0x5,this[_0x4cb56d(0xfd)]=Math[_0x4cb56d(0xf0)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x262f04=0x0;_0x262f04<this[_0x4cb56d(0xd8)][_0x4cb56d(0x8a)];_0x262f04++){this[_0x4cb56d(0xd8)][_0x262f04]['x']=this['x']+this[_0x4cb56d(0xd8)][_0x262f04][_0x4cb56d(0xb4)],this[_0x4cb56d(0xd8)][_0x262f04]['y']=this['y']+this[_0x4cb56d(0xd8)][_0x262f04][_0x4cb56d(0xb1)];}this['hp']<=0x0&&(this[_0x4cb56d(0x108)]=!![]),this[_0x4cb56d(0x108)]&&(this[_0x4cb56d(0xfb)]=0x0,this[_0x4cb56d(0x7d)]=!![],this[_0x4cb56d(0xcd)]=0x2,this[_0x4cb56d(0x7a)]=0x0,this[_0x4cb56d(0xd0)]=0x0,this[_0x4cb56d(0xef)]=0xa);}['draw'](){const _0x3a9b36=_0x1fdc50;this[_0x3a9b36(0x7a)]++;this[_0x3a9b36(0x7a)]>this[_0x3a9b36(0xef)]*DTR&&(this[_0x3a9b36(0x7a)]=0x0,this[_0x3a9b36(0xd0)]++,this[_0x3a9b36(0xd0)]>=this[_0x3a9b36(0xae)][this['action']][_0x3a9b36(0x8a)]&&(this[_0x3a9b36(0x7d)]?this[_0x3a9b36(0xd0)]=this[_0x3a9b36(0xae)][this['action']][_0x3a9b36(0x8a)]-0x1:this['currentFrame']=0x0));if(!this[_0x3a9b36(0x7d)]){this[_0x3a9b36(0xaf)]?this[_0x3a9b36(0xcd)]=0x1:this[_0x3a9b36(0xcd)]=0x0;for(let _0x115e18=0x0;_0x115e18<this[_0x3a9b36(0xd8)][_0x3a9b36(0x8a)];_0x115e18++){this[_0x3a9b36(0xd8)][_0x115e18][_0x3a9b36(0xa0)]();}}this[_0x3a9b36(0xaf)]?this[_0x3a9b36(0xef)]=0x4:this[_0x3a9b36(0xef)]=0x8,this['justDamaged']&&(this[_0x3a9b36(0xcd)]=0x2,this[_0x3a9b36(0xd0)]=0x0,this[_0x3a9b36(0xeb)]=0x0,this['justDamaged']--),c['drawImage'](this[_0x3a9b36(0x11a)],this[_0x3a9b36(0xae)][this['action']][this[_0x3a9b36(0xd0)]]*TILESIZE,this['actionY'][this[_0x3a9b36(0xcd)]][this[_0x3a9b36(0xd0)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this['action']==0x0||this[_0x3a9b36(0xcd)]==0x1)&&(c[_0x3a9b36(0xe6)](),c[_0x3a9b36(0x84)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c['rotate'](this[_0x3a9b36(0xfd)]),c['drawImage'](this[_0x3a9b36(0x11a)],this[_0x3a9b36(0xe7)][this[_0x3a9b36(0xcd)]][this['currentFrame']]*TILESIZE,this[_0x3a9b36(0x9a)][this['action']][this[_0x3a9b36(0xd0)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x3a9b36(0x7f)]());}}function getTileData(_0x1b662e,_0x22981e){const _0x311575=_0x1fdc50;let _0x192e3b=(_0x1b662e/TILESIZE|0x0)+(_0x22981e/TILESIZE|0x0)*map[_0x311575(0x81)];for(let _0x3349dd=0x0;_0x3349dd<map[_0x311575(0xba)][_0x311575(0x8a)];_0x3349dd++){for(let _0x5a70d3=0x0;_0x5a70d3<TilesData[_0x311575(0x8a)];_0x5a70d3++){if(TilesData[_0x5a70d3]['id']==map[_0x311575(0xba)][_0x3349dd][_0x192e3b]-0x1)return TilesData[_0x5a70d3];}}return![];}window[_0x1fdc50(0xff)]=function(){const _0x226769=_0x1fdc50;player[_0x226769(0xec)]!==0x0?player[_0x226769(0x7e)]():player[_0x226769(0xee)]=0xa;},window['oncontextmenu']=function(_0x476a83){const _0x38d8c9=_0x1fdc50;_0x476a83[_0x38d8c9(0x100)](),player['attack']();},document[_0x1fdc50(0x73)]('mousedown',function(_0x56385a){const _0x2cd222=_0x1fdc50;switch(_0x56385a[_0x2cd222(0x117)]){case 0x0:userInterface[_0x2cd222(0xda)]=!![];break;case 0x2:userInterface[_0x2cd222(0xa6)]=!![];break;}}),document[_0x1fdc50(0x73)](_0x1fdc50(0x10e),function(_0x5f4c01){const _0x5e191b=_0x1fdc50;switch(_0x5f4c01['button']){case 0x0:userInterface['lClick']=![];break;case 0x2:userInterface[_0x5e191b(0xa6)]=![];break;}});var stats=id('stats');function drawStats(){const _0x3af791=_0x1fdc50;stats[_0x3af791(0xb6)]='player.x\x20=\x20'+player['x'],stats[_0x3af791(0xb6)]+='<br>player.y\x20=\x20'+player['y'],stats[_0x3af791(0xb6)]+=_0x3af791(0xad)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x3af791(0xb6)]+=_0x3af791(0xd4)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x3af791(0xb6)]+=_0x3af791(0xdb)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']),stats[_0x3af791(0xb6)]+='<br>mouseTile\x20id\x20=\x20'+map[_0x3af791(0xba)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x3af791(0x81)]],map[_0x3af791(0xba)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x3af791(0x81)]],DEBUG&&(c[_0x3af791(0xa9)]((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x3af791(0xf6)]());}window['addEventListener'](_0x1fdc50(0xc6),function(_0x3cbb34){const _0x26feb0=_0x1fdc50;switch(_0x3cbb34[_0x26feb0(0x72)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters['push'](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x26feb0(0x92)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x5472a7=0x0;_0x5472a7<0x32;_0x5472a7++){player[_0x26feb0(0x7e)](),player[_0x26feb0(0x87)]=player[_0x26feb0(0xd3)]*DTR,player[_0x26feb0(0xac)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x1fdc50(0x73)](_0x1fdc50(0x77),function(_0x4e68d7){const _0x40cdcd=_0x1fdc50;switch(_0x4e68d7[_0x40cdcd(0x72)]){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0x1fdc50(0x73)](_0x1fdc50(0x9f),function(_0x5d1882){const _0xbc64d=_0x1fdc50;mousePP['x']=_0x5d1882[_0xbc64d(0xc9)]-CANVAS['offsetLeft'],mousePP['y']=_0x5d1882[_0xbc64d(0xf8)]-CANVAS['offsetTop'];});function moveCamera(){const _0x4f2572=_0x1fdc50;map['x']=-player['x']/0x3+CANVAS[_0x4f2572(0x81)]/0x6,map['y']=-player['y']/0x3+CANVAS[_0x4f2572(0xea)]/0x6,screenShake[_0x4f2572(0xf5)]&&(screenShake[_0x4f2572(0xf5)]--,screenShake['set'](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x478f1d=_0x1fdc50;c[_0x478f1d(0xcb)]=0x2,c['strokeStyle']=sampleArrow['colors'][0x0],c[_0x478f1d(0x113)]();for(let _0xed4566=playerArrows[_0x478f1d(0x8a)]-0x1;_0xed4566>=0x0;_0xed4566--){if(!playerArrows[_0xed4566][_0x478f1d(0x11d)]||playerArrows[_0xed4566][_0x478f1d(0xf2)]!=0x1)continue;playerArrows[_0xed4566][_0x478f1d(0x74)]&&playerArrows[_0xed4566][_0x478f1d(0xb2)]();if(playerArrows[_0xed4566]!==undefined)playerArrows[_0xed4566][_0x478f1d(0xa0)]();}c[_0x478f1d(0x98)](),c['stroke'](),c[_0x478f1d(0x110)]=sampleArrow[_0x478f1d(0x82)][0x1],c[_0x478f1d(0x113)]();for(let _0x62c946=playerArrows[_0x478f1d(0x8a)]-0x1;_0x62c946>=0x0;_0x62c946--){if(!playerArrows[_0x62c946][_0x478f1d(0x11d)]||playerArrows[_0x62c946]['color']!=0x2)continue;playerArrows[_0x62c946]['free']&&playerArrows[_0x62c946][_0x478f1d(0xb2)]();if(playerArrows[_0x62c946]!==undefined)playerArrows[_0x62c946][_0x478f1d(0xa0)]();}c[_0x478f1d(0x98)](),c[_0x478f1d(0xf6)]();}function loop(){const _0x5998ba=_0x1fdc50;fps++,c[_0x5998ba(0x83)](0x0,0x0,CANVAS['width'],CANVAS[_0x5998ba(0xea)]),moveCamera(),map[_0x5998ba(0xa0)](),player[_0x5998ba(0xb2)]();for(let _0x2514b1=enemyProjectiles[_0x5998ba(0x8a)]-0x1;_0x2514b1>=0x0;_0x2514b1--){enemyProjectiles[_0x2514b1][_0x5998ba(0xb2)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x532fc8=0x0;_0x532fc8<monsters['length'];_0x532fc8++){!monsters[_0x532fc8][_0x5998ba(0x7d)]&&monsters[_0x532fc8]['compute'](),monsters[_0x532fc8][_0x5998ba(0xa0)]();}player['draw'](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x47c508=enemyProjectiles[_0x5998ba(0x8a)]-0x1;_0x47c508>=0x0;_0x47c508--){enemyProjectiles[_0x47c508][_0x5998ba(0xa0)]();}sword['active']&&(sword[_0x5998ba(0xb2)](),sword['draw']());for(let _0x56261b=visualFxs[_0x5998ba(0x8a)]-0x1;_0x56261b>=0x0;_0x56261b--){!visualFxs[_0x56261b][_0x5998ba(0xe1)]&&visualFxs[_0x56261b][_0x5998ba(0xa0)]();}userInterface[_0x5998ba(0xa0)](),drawStats();}var lastUpdate=Date[_0x1fdc50(0x10d)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0x12d6fa=_0x1fdc50;var _0x26faab=Date[_0x12d6fa(0x10d)](),_0x240c4b=_0x26faab-lastUpdate;lastUpdate=_0x26faab,DTR=0x3e8/0x3c/_0x240c4b,!gamePaused&&loop();}