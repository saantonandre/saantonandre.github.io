'strict';const _0x457a63=_0x2892;(function(_0x50f04b,_0x1768b0){const _0x6e6643=_0x2892,_0x3c8e98=_0x50f04b();while(!![]){try{const _0x46eab7=-parseInt(_0x6e6643(0x132))/0x1+-parseInt(_0x6e6643(0x144))/0x2*(parseInt(_0x6e6643(0xfd))/0x3)+-parseInt(_0x6e6643(0x192))/0x4+-parseInt(_0x6e6643(0xfa))/0x5*(-parseInt(_0x6e6643(0x176))/0x6)+parseInt(_0x6e6643(0x11c))/0x7+parseInt(_0x6e6643(0x142))/0x8*(-parseInt(_0x6e6643(0x194))/0x9)+parseInt(_0x6e6643(0x16b))/0xa*(parseInt(_0x6e6643(0x16e))/0xb);if(_0x46eab7===_0x1768b0)break;else _0x3c8e98['push'](_0x3c8e98['shift']());}catch(_0x1b3133){_0x3c8e98['push'](_0x3c8e98['shift']());}}}(_0x1424,0x51350));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0x457a63(0x15f)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS['getContext']('2d');CANVAS['width']=0x2e0,CANVAS[_0x457a63(0x165)]=0x1e0,CANVAS[_0x457a63(0x103)][_0x457a63(0x12f)]=(window[_0x457a63(0x10f)]-CANVAS[_0x457a63(0x127)])/0x2+'px',CANVAS[_0x457a63(0x103)][_0x457a63(0x17c)]=(window[_0x457a63(0x110)]-CANVAS[_0x457a63(0x165)])/0x2+'px',c['imageSmoothingEnabled']=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x2a16a7){const _0x26d9ba=_0x457a63,_0x7b0aae=(function(){let _0x5307fc=!![];return function(_0x567183,_0x259aa2){const _0x1b1ea0=_0x5307fc?function(){const _0x2a785b=_0x2892;if(_0x259aa2){const _0x4d09cb=_0x259aa2[_0x2a785b(0x119)](_0x567183,arguments);return _0x259aa2=null,_0x4d09cb;}}:function(){};return _0x5307fc=![],_0x1b1ea0;};}()),_0x43facd=_0x7b0aae(this,function(){const _0x28e52c=_0x2892,_0x3474b2=function(){const _0x1cebbd=_0x2892;let _0x535d90;try{_0x535d90=Function(_0x1cebbd(0x139)+_0x1cebbd(0x124)+');')();}catch(_0x1ccd3a){_0x535d90=window;}return _0x535d90;},_0x18fe40=_0x3474b2(),_0x2dbfbf=new RegExp('[xOyMvpZRYMVEVQLZNzBRvyORZpWjfRGVCjyCMfyzZOMVXxkfWGHLWOjDWWXQUDqMAxXQ]','g'),_0x3db076=_0x28e52c(0x189)['replace'](_0x2dbfbf,'')['split'](';');let _0x52bb8c,_0x38ebba,_0x3ea54b,_0x418c05;const _0x38653e=function(_0x52f6d7,_0x33d83b,_0x2435ab){const _0x4cb846=_0x28e52c;if(_0x52f6d7[_0x4cb846(0x190)]!=_0x33d83b)return![];for(let _0x3bc85b=0x0;_0x3bc85b<_0x33d83b;_0x3bc85b++){for(let _0x262083=0x0;_0x262083<_0x2435ab['length'];_0x262083+=0x2){if(_0x3bc85b==_0x2435ab[_0x262083]&&_0x52f6d7['charCodeAt'](_0x3bc85b)!=_0x2435ab[_0x262083+0x1])return![];}}return!![];},_0x15845f=function(_0x1188bb,_0x38f5e7,_0x58a6e2){return _0x38653e(_0x38f5e7,_0x58a6e2,_0x1188bb);},_0x3e9259=function(_0x569180,_0x4691bc,_0x261c3b){return _0x15845f(_0x4691bc,_0x569180,_0x261c3b);},_0x4fb158=function(_0x1bb4fe,_0x1bd486,_0x3eb734){return _0x3e9259(_0x1bd486,_0x3eb734,_0x1bb4fe);};for(let _0x30004c in _0x18fe40){if(_0x38653e(_0x30004c,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x52bb8c=_0x30004c;break;}}for(let _0x156422 in _0x18fe40[_0x52bb8c]){if(_0x4fb158(0x6,_0x156422,[0x5,0x6e,0x0,0x64])){_0x38ebba=_0x156422;break;}}for(let _0x193f57 in _0x18fe40[_0x52bb8c]){if(_0x3e9259(_0x193f57,[0x7,0x6e,0x0,0x6c],0x8)){_0x3ea54b=_0x193f57;break;}}if(!('~'>_0x38ebba))for(let _0x4fba69 in _0x18fe40[_0x52bb8c][_0x3ea54b]){if(_0x15845f([0x7,0x65,0x0,0x68],_0x4fba69,0x8)){_0x418c05=_0x4fba69;break;}}if(!_0x52bb8c||!_0x18fe40[_0x52bb8c])return;const _0x146b18=_0x18fe40[_0x52bb8c][_0x38ebba],_0x23a0e6=!!_0x18fe40[_0x52bb8c][_0x3ea54b]&&_0x18fe40[_0x52bb8c][_0x3ea54b][_0x418c05],_0x2e46c1=_0x146b18||_0x23a0e6;if(!_0x2e46c1)return;let _0x50e3ed=![];for(let _0x427837=0x0;_0x427837<_0x3db076[_0x28e52c(0x190)];_0x427837++){const _0x286369=_0x3db076[_0x427837],_0x11fc39=_0x286369[0x0]===String[_0x28e52c(0x178)](0x2e)?_0x286369['slice'](0x1):_0x286369,_0xa1993c=_0x2e46c1['length']-_0x11fc39[_0x28e52c(0x190)],_0x1b2a7e=_0x2e46c1['indexOf'](_0x11fc39,_0xa1993c),_0x2b88d2=_0x1b2a7e!==-0x1&&_0x1b2a7e===_0xa1993c;_0x2b88d2&&((_0x2e46c1[_0x28e52c(0x190)]==_0x286369[_0x28e52c(0x190)]||_0x286369[_0x28e52c(0xeb)]('.')===0x0)&&(_0x50e3ed=!![]));}if(!_0x50e3ed){const _0x4b404e=new RegExp(_0x28e52c(0x129),'g'),_0x3117c3=_0x28e52c(0x14c)[_0x28e52c(0xe9)](_0x4b404e,'');_0x18fe40[_0x52bb8c][_0x3ea54b]=_0x3117c3;}});return _0x43facd(),document[_0x26d9ba(0x17d)](_0x2a16a7);}var fpsDiv=id(_0x457a63(0x107));setInterval(function(){const _0x145bf6=_0x457a63;fpsDiv[_0x145bf6(0x151)]=_0x145bf6(0x195)+fps,fpsDiv[_0x145bf6(0x151)]+='<br>DTR:\x20'+DTR[_0x145bf6(0x126)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0xdd69d0=_0x457a63;this['x']=Math['random']()*0x8-0x4|0x0,this['y']=Math[_0xdd69d0(0x123)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x1aaa0b=_0x457a63;this['x']=0x0,this['y']=0x0,this[_0x1aaa0b(0x18b)]=0x0,this[_0x1aaa0b(0x12e)]=0x0,this[_0x1aaa0b(0x149)]=0x0,this[_0x1aaa0b(0x112)]=0x0,this['active']=!![],this[_0x1aaa0b(0x133)]=!![],this['friendly']=!![],this[_0x1aaa0b(0x114)]=0x0,this[_0x1aaa0b(0x15a)]=0x0,this[_0x1aaa0b(0xe6)]=0x1,this[_0x1aaa0b(0x10a)]=0x0,this[_0x1aaa0b(0x191)]=[_0x1aaa0b(0xf1),'#ff8db5'],this[_0x1aaa0b(0x18c)]={'x':0x0,'y':0x0};}[_0x457a63(0x113)](){const _0x3ffa42=_0x457a63;Math[_0x3ffa42(0x152)](this['xVel']*0x3)>Math[_0x3ffa42(0x152)](this[_0x3ffa42(0x114)])&&(this[_0x3ffa42(0x114)]=this[_0x3ffa42(0x12e)]*0x3,this[_0x3ffa42(0x15a)]=this[_0x3ffa42(0x18b)]*0x3),this[_0x3ffa42(0x18c)]['x']=this['x']+this[_0x3ffa42(0x114)],this[_0x3ffa42(0x18c)]['y']=this['y']+this[_0x3ffa42(0x15a)],c[_0x3ffa42(0x17b)](this['x']+map['x'],this['y']+map['y']),c[_0x3ffa42(0x16a)](this['x']+this[_0x3ffa42(0x114)]+map['x'],this['y']+this['lengthY']+map['y']);}[_0x457a63(0x136)](){const _0x4b77b5=_0x457a63;this['x']+=this[_0x4b77b5(0x12e)]/DTR,this['y']+=this['yVel']/DTR;if(getTileData(this['x'],this['y'])[_0x4b77b5(0x180)])visualFxs['push'](new Explosion(this['x']+this[_0x4b77b5(0x12e)],this['y']+this['yVel'],this[_0x4b77b5(0x10a)])),this[_0x4b77b5(0x10a)]==0x2&&(screenShake[_0x4b77b5(0x14f)]=0x5),this[_0x4b77b5(0x12e)]=0x0,this[_0x4b77b5(0x18b)]=0x0,this[_0x4b77b5(0x114)]/=0x2,this[_0x4b77b5(0x15a)]/=0x2,this[_0x4b77b5(0x133)]=![];else for(let _0x4e619f=monsters['length']-0x1;_0x4e619f>=0x0;_0x4e619f--){let _0x3af43d=monsters[_0x4e619f];!_0x3af43d[_0x4b77b5(0x17f)]&&_0x3af43d['collidable']&&((pointSquareCol(this,_0x3af43d)||pointSquareCol(this[_0x4b77b5(0x18c)],_0x3af43d))&&(this[_0x4b77b5(0x170)]=![],_0x3af43d[_0x4b77b5(0x148)]=this[_0x4b77b5(0x12e)]/0x2,_0x3af43d[_0x4b77b5(0x11a)]=this['yVel']/0x2,visualFxs['push'](new Explosion(this['x'],this['y'],this[_0x4b77b5(0x10a)])),this[_0x4b77b5(0x10a)]==0x2&&(screenShake[_0x4b77b5(0x14f)]=0x5),this[_0x4b77b5(0x12e)]=0x0,this[_0x4b77b5(0x18b)]=0x0,this[_0x4b77b5(0x149)]=this['x']-_0x3af43d['x'],this[_0x4b77b5(0x112)]=this['y']-_0x3af43d['y'],_0x3af43d[_0x4b77b5(0x158)][_0x4b77b5(0xfb)](this),_0x3af43d['hp']-=this[_0x4b77b5(0xe6)],_0x3af43d['justDamaged']=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x47718a=_0x457a63;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x47718a(0x18b)]=0x0,this['xVel']=0x0,this[_0x47718a(0x133)]=!![],this['friendly']=![],this[_0x47718a(0x135)]=id(_0x47718a(0x135)),this['actionX']=[0x5],this[_0x47718a(0x11f)]=[0x18],this['type']=0x0,this[_0x47718a(0xe6)]=0x5;}[_0x457a63(0x136)](){const _0xebbc77=_0x457a63;this['x']+=this['xVel']/DTR,this['y']+=this[_0xebbc77(0x18b)]/DTR,getTileData(this['x'],this['y'])[_0xebbc77(0x180)]?(enemyProjectiles[_0xebbc77(0x120)](enemyProjectiles[_0xebbc77(0xeb)](this),0x1),visualFxs[_0xebbc77(0xfb)](new Explosion(this['x']+this['xVel'],this['y']+this[_0xebbc77(0x18b)],0x1)),this[_0xebbc77(0x12e)]=0x0,this[_0xebbc77(0x18b)]=0x0,this[_0xebbc77(0x114)]/=0x2,this[_0xebbc77(0x15a)]/=0x2,this[_0xebbc77(0x133)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0xebbc77(0x120)](enemyProjectiles[_0xebbc77(0xeb)](this),0x1),player[_0xebbc77(0x148)]+=this[_0xebbc77(0x12e)]/0x2,player[_0xebbc77(0x11a)]+=this[_0xebbc77(0x18b)]/0x2,player['hp']-=this[_0xebbc77(0xe6)],visualFxs[_0xebbc77(0xfb)](new Explosion(this['x'],this['y'],0x1)),screenShake[_0xebbc77(0x14f)]=0x5);}[_0x457a63(0x113)](){const _0x3bedae=_0x457a63;c[_0x3bedae(0x181)](this[_0x3bedae(0x135)],this[_0x3bedae(0x13d)][this[_0x3bedae(0x145)]]*TILESIZE,this[_0x3bedae(0x11f)][this[_0x3bedae(0x145)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}function _0x2892(_0x204130,_0x3c2943){const _0x4e8261=_0x1424();return _0x2892=function(_0x2a9a9e,_0x393ea3){_0x2a9a9e=_0x2a9a9e-0xe2;let _0x2b16b2=_0x4e8261[_0x2a9a9e];return _0x2b16b2;},_0x2892(_0x204130,_0x3c2943);}class Explosion{constructor(_0x5e658c,_0x1d64c7,_0xf89a04){const _0x297a55=_0x457a63;this['sheet']=id(_0x297a55(0x135)),this['x']=_0x5e658c-0x10,this['y']=_0x1d64c7-0x10,this['w']=0x20,this['h']=0x20,this['frameCounter']=0x0,this['currentFrame']=0x0,this[_0x297a55(0x101)]=_0xf89a04-0x1,this[_0x297a55(0x13d)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x297a55(0x11f)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this[_0x297a55(0x18d)]=0x4,this['ended']=![];}[_0x457a63(0x113)](){const _0xb32f8b=_0x457a63;c[_0xb32f8b(0x181)](this[_0xb32f8b(0x135)],this[_0xb32f8b(0x13d)][this['action']][this[_0xb32f8b(0x187)]],this['actionY'][this['action']][this[_0xb32f8b(0x187)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this['frameCounter']++,this[_0xb32f8b(0xe3)]>this[_0xb32f8b(0x18d)]*DTR&&(this[_0xb32f8b(0xe3)]=0x0,this['currentFrame']++,this[_0xb32f8b(0x187)]>this['actionX'][this['action']][_0xb32f8b(0x190)]-0x1&&(this[_0xb32f8b(0x128)]=!![]));}}class Collidable{constructor(){}[_0x457a63(0x161)](){const _0x15c0fd=_0x457a63;let _0x262c2b;this[_0x15c0fd(0xe7)]['T']=0x0,this['col']['B']=0x0,this[_0x15c0fd(0xe7)]['L']=0x0,this[_0x15c0fd(0xe7)]['R']=0x0,getTileData(this['x'],this['y'])[_0x15c0fd(0xe8)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x262c2b=colCheck(this,generatedSquare),this['x']+=(this[_0x15c0fd(0xe7)]['L']-this[_0x15c0fd(0xe7)]['R'])/0x5/DTR,this['y']+=(this[_0x15c0fd(0xe7)]['T']-this[_0x15c0fd(0xe7)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x15c0fd(0xe8)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x262c2b=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this['col']['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x15c0fd(0xe7)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x15c0fd(0xe8)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x262c2b=colCheck(this,generatedSquare),this['x']+=(this[_0x15c0fd(0xe7)]['L']-this['col']['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x15c0fd(0xe7)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x15c0fd(0xe8)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x262c2b=colCheck(this,generatedSquare),this['x']+=(this[_0x15c0fd(0xe7)]['L']-this[_0x15c0fd(0xe7)]['R'])/0x5/DTR,this['y']+=(this[_0x15c0fd(0xe7)]['T']-this[_0x15c0fd(0xe7)]['B'])/0x5/DTR),this[_0x15c0fd(0xe7)]['B']&&(this[_0x15c0fd(0x11a)]>0x0&&(this['yVelExt']*=-0.5)),this[_0x15c0fd(0xe7)]['T']&&(this[_0x15c0fd(0x11a)]<0x0&&(this[_0x15c0fd(0x11a)]*=-0.5)),this['col']['R']&&(this[_0x15c0fd(0x148)]>0x0&&(this[_0x15c0fd(0x148)]*=-0.5)),this[_0x15c0fd(0xe7)]['L']&&(this[_0x15c0fd(0x148)]<0x0&&(this[_0x15c0fd(0x148)]*=-0.5));}}class Player extends Collidable{constructor(_0x405be5,_0x2e1ff4){const _0x58e495=_0x457a63;super(Collidable),this['x']=_0x405be5,this['y']=_0x2e1ff4,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x58e495(0x11e)]=0x3,this['yVel']=0x0,this[_0x58e495(0x12e)]=0x0,this[_0x58e495(0x11a)]=0x0,this['xVelExt']=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x58e495(0xed)]=0xa,this[_0x58e495(0x100)]=0x0,this[_0x58e495(0x10e)]=0x0,this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x58e495(0x13d)]=[0x0,0x20,0x40],this[_0x58e495(0x11f)]=[0x0,0x0,0x0],this[_0x58e495(0x101)]=0x0,this['frameCounter']=0x0,this[_0x58e495(0x18d)]=0x6,this[_0x58e495(0x13b)]=0x0,this[_0x58e495(0x196)]=![],this[_0x58e495(0x13a)]=0x14,this[_0x58e495(0x182)]=0x0,this[_0x58e495(0x172)]=0x0,this[_0x58e495(0x17e)]=[0x1,0x1,0x1,0x1,0x1],this['arrowCD']=0x3c,this['arrowCounter']=0x0,this['arrowsCount']=0x4,this['hp']=0x64,this[_0x58e495(0x156)]=0x64,this['mp']=0x64,this[_0x58e495(0x18a)]=0x64,this['critChance']=0.25,this['bow']={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}['computeQuiver'](){const _0x142800=_0x457a63;let _0x2b22df=!![],_0x404d68;for(_0x404d68=0x0;_0x404d68<this['arrowsArr']['length'];_0x404d68++){if(this[_0x142800(0x17e)][_0x404d68]===0x0){_0x2b22df=![];break;}}this[_0x142800(0x167)]=_0x404d68;if(!_0x2b22df){this[_0x142800(0x174)]++;if(this[_0x142800(0x174)]>this[_0x142800(0xf3)]*DTR)for(_0x404d68=0x0;_0x404d68<this[_0x142800(0x17e)]['length'];_0x404d68++){if(this[_0x142800(0x17e)][_0x404d68]===0x0){Math['random']()<this[_0x142800(0x177)]?this[_0x142800(0x17e)][_0x404d68]=0x2:this['arrowsArr'][_0x404d68]=0x1;this[_0x142800(0x174)]=0x0;break;}}}else this[_0x142800(0x174)]=0x0;}[_0x457a63(0x136)](){const _0x4cf15f=_0x457a63;this[_0x4cf15f(0x160)](),this[_0x4cf15f(0x100)]=this['x']+this['w']/0x2,this[_0x4cf15f(0x10e)]=this['y']+this['h']/0x2,this[_0x4cf15f(0x161)]();Math['abs'](this[_0x4cf15f(0x148)])>0.01?this[_0x4cf15f(0x148)]-=this[_0x4cf15f(0x148)]*0.1/DTR:this['xVelExt']=0x0;Math[_0x4cf15f(0x152)](this[_0x4cf15f(0x11a)])>0.01?this[_0x4cf15f(0x11a)]-=this[_0x4cf15f(0x11a)]*0.1/DTR:this[_0x4cf15f(0x11a)]=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x4cf15f(0x11e)]=0x2:this[_0x4cf15f(0x11e)]=0x3;this[_0x4cf15f(0x13b)]=Math[_0x4cf15f(0xf2)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x4cf15f(0x12e)]=-this[_0x4cf15f(0x11e)];else!this['R']&&(this[_0x4cf15f(0x12e)]=0x0);if(this['R'])this['xVel']=this[_0x4cf15f(0x11e)];else!this['L']&&(this[_0x4cf15f(0x12e)]=0x0);if(this['T'])this[_0x4cf15f(0x18b)]=-this['speed'];else!this['B']&&(this[_0x4cf15f(0x18b)]=0x0);if(this['B'])this[_0x4cf15f(0x18b)]=this['speed'];else!this['T']&&(this[_0x4cf15f(0x18b)]=0x0);this['x']+=(this[_0x4cf15f(0x12e)]+this[_0x4cf15f(0x148)])/DTR,this['y']+=(this['yVel']+this[_0x4cf15f(0x11a)])/DTR;}[_0x457a63(0x113)](){const _0x5915ec=_0x457a63;this[_0x5915ec(0x12e)]===0x0&&this[_0x5915ec(0x18b)]===0x0?this[_0x5915ec(0x101)]=0x0:(this[_0x5915ec(0xe3)]++,this[_0x5915ec(0xe3)]>=this[_0x5915ec(0x18d)]*DTR&&(this[_0x5915ec(0x101)]++,this['frameCounter']=0x0,this['action']>=this[_0x5915ec(0x13d)][_0x5915ec(0x190)]&&(this[_0x5915ec(0x101)]=0x0))),c['save'](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c['rotate'](this['radians']),c['drawImage'](id(_0x5915ec(0x15b)),this[_0x5915ec(0x13d)][this[_0x5915ec(0x101)]],this[_0x5915ec(0x11f)][this[_0x5915ec(0x101)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c['restore'](),this[_0x5915ec(0x182)]&&(c[_0x5915ec(0x181)](id('sheet'),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this['noArrows']--),this[_0x5915ec(0x15e)][_0x5915ec(0x170)]&&this[_0x5915ec(0x15d)]();}[_0x457a63(0x15d)](){const _0x4e1100=_0x457a63;this[_0x4e1100(0x15e)][_0x4e1100(0xe3)]++,this[_0x4e1100(0x15e)]['frameCounter']>=this['bow'][_0x4e1100(0x18d)]*DTR&&(this['bow'][_0x4e1100(0x101)]++,this[_0x4e1100(0x15e)][_0x4e1100(0xe3)]=0x0,this[_0x4e1100(0x15e)]['active']>=this['bow'][_0x4e1100(0x13d)][_0x4e1100(0x190)]&&(this[_0x4e1100(0x15e)]['active']=![])),c['save'](),c[_0x4e1100(0x102)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x4e1100(0x147)](this[_0x4e1100(0x13b)]),c[_0x4e1100(0x181)](id(_0x4e1100(0x15e)),this['bow']['actionX'][this['bow'][_0x4e1100(0x101)]],this['bow'][_0x4e1100(0x11f)][this['bow'][_0x4e1100(0x101)]],0x30,0x30,-this['bow']['w']/0x2,-this[_0x4e1100(0x15e)]['h'],this[_0x4e1100(0x15e)]['w'],this[_0x4e1100(0x15e)]['h']),c[_0x4e1100(0x117)]();}[_0x457a63(0x155)](){const _0x5e8b23=_0x457a63;this['bow'][_0x5e8b23(0x170)]=!![],this[_0x5e8b23(0x15e)][_0x5e8b23(0xe3)]=0x0,this['bow'][_0x5e8b23(0x187)]=0x0,this[_0x5e8b23(0x15e)][_0x5e8b23(0x101)]=0x0;let _0x46624=this['x']+this['w']/0x2,_0x4954ce=this['y']+this['h']/0x2,_0x184849=Mouse['x']-_0x46624+Math[_0x5e8b23(0x123)]()*this[_0x5e8b23(0x13a)]-this[_0x5e8b23(0x13a)]/0x2,_0x273f8b=Mouse['y']-_0x4954ce+Math['random']()*this[_0x5e8b23(0x13a)]-this[_0x5e8b23(0x13a)]/0x2,_0x26c7c9=Math[_0x5e8b23(0xf2)](_0x273f8b,_0x184849),_0x2ff90b=Math[_0x5e8b23(0xfe)](_0x26c7c9),_0x302b88=Math[_0x5e8b23(0xea)](_0x26c7c9),_0x5954c0=new Projectile();_0x5954c0[_0x5e8b23(0x12e)]=_0x2ff90b*this[_0x5e8b23(0xed)],_0x5954c0[_0x5e8b23(0x18b)]=_0x302b88*this[_0x5e8b23(0xed)],_0x5954c0['x']=_0x46624,_0x5954c0['y']=_0x4954ce,_0x5954c0[_0x5e8b23(0x10a)]=this[_0x5e8b23(0x17e)][0x0],playerArrows[_0x5e8b23(0xfb)](_0x5954c0),this['arrowsArr'][_0x5e8b23(0x185)](),this[_0x5e8b23(0x17e)]['push'](0x0);}['attack'](){const _0x390523=_0x457a63;if(!sword[_0x390523(0x170)]){sword[_0x390523(0x170)]=!![],sword['radiansP']=this[_0x390523(0x13b)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x4b705e=this['x']+this['w']/0x2,_0x4ed2e4=this['y']+this['h']/0x2,_0x4f4178=returnCosine(Mouse['x'],Mouse['y'],_0x4b705e,_0x4ed2e4);this[_0x390523(0x148)]=_0x4f4178[_0x390523(0xfe)]*0xe,this[_0x390523(0x11a)]=_0x4f4178[_0x390523(0xea)]*0xe;}}}}var player=new Player(CANVAS[_0x457a63(0x127)]/0x2,CANVAS[_0x457a63(0x165)]/0x4*0x3);class UserInterface{constructor(){const _0x2d408b=_0x457a63;this[_0x2d408b(0x135)]=id(_0x2d408b(0xf8)),this['x']=0x14,this['y']=0x5,this['lClick']=![],this[_0x2d408b(0xee)]=![],this['attacked']=0x0,this[_0x2d408b(0x10b)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0x2d408b(0x106)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0x2d408b(0x118)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0x2d408b(0x108)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x2d408b(0x15e)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x2d408b(0x196)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x2d408b(0x162)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x2d408b(0x17e)]=[0x1,0x1,0x1,0x1];}[_0x457a63(0x113)](){const _0x1f5b6c=_0x457a63;this[_0x1f5b6c(0xef)]&&(c[_0x1f5b6c(0x17a)]=0.5);c[_0x1f5b6c(0x181)](this[_0x1f5b6c(0x135)],this['bow']['crop']['x'],this[_0x1f5b6c(0x15e)][_0x1f5b6c(0x10c)]['y'],this['bow'][_0x1f5b6c(0x10c)]['w'],this[_0x1f5b6c(0x15e)]['crop']['h'],this[_0x1f5b6c(0x15e)][_0x1f5b6c(0x130)]['x'],this[_0x1f5b6c(0x15e)][_0x1f5b6c(0x130)]['y'],this[_0x1f5b6c(0x15e)][_0x1f5b6c(0x10c)]['w'],this['bow'][_0x1f5b6c(0x10c)]['h']);this[_0x1f5b6c(0xef)]&&(c[_0x1f5b6c(0x17a)]=0x1);this[_0x1f5b6c(0xee)]&&(c[_0x1f5b6c(0x17a)]=0.5);c[_0x1f5b6c(0x181)](this['sheet'],this[_0x1f5b6c(0x196)][_0x1f5b6c(0x10c)]['x'],this['sword'][_0x1f5b6c(0x10c)]['y'],this[_0x1f5b6c(0x196)][_0x1f5b6c(0x10c)]['w'],this[_0x1f5b6c(0x196)][_0x1f5b6c(0x10c)]['h'],this[_0x1f5b6c(0x196)]['pos']['x'],this['sword'][_0x1f5b6c(0x130)]['y'],this[_0x1f5b6c(0x196)][_0x1f5b6c(0x10c)]['w'],this[_0x1f5b6c(0x196)][_0x1f5b6c(0x10c)]['h']);this['rClick']&&(c[_0x1f5b6c(0x17a)]=0x1);c[_0x1f5b6c(0x181)](this[_0x1f5b6c(0x135)],this['layout'][_0x1f5b6c(0x10c)]['x'],this[_0x1f5b6c(0x10b)][_0x1f5b6c(0x10c)]['y'],this[_0x1f5b6c(0x10b)]['crop']['w'],this[_0x1f5b6c(0x10b)]['crop']['h'],this[_0x1f5b6c(0x10b)]['pos']['x']+this['x'],this[_0x1f5b6c(0x10b)][_0x1f5b6c(0x130)]['y']+this['y'],this[_0x1f5b6c(0x10b)]['crop']['w'],this[_0x1f5b6c(0x10b)][_0x1f5b6c(0x10c)]['h']),c['drawImage'](this[_0x1f5b6c(0x135)],this[_0x1f5b6c(0x106)][_0x1f5b6c(0x10c)][player['attacked']]['x'],this[_0x1f5b6c(0x106)][_0x1f5b6c(0x10c)][player[_0x1f5b6c(0x172)]]['y'],this[_0x1f5b6c(0x106)]['crop'][player[_0x1f5b6c(0x172)]]['w'],this[_0x1f5b6c(0x106)][_0x1f5b6c(0x10c)][player[_0x1f5b6c(0x172)]]['h'],this[_0x1f5b6c(0x106)]['pos']['x']+this['x'],this[_0x1f5b6c(0x106)]['pos']['y']+this['y'],this['portrait'][_0x1f5b6c(0x10c)][player['attacked']]['w'],this[_0x1f5b6c(0x106)]['crop'][player[_0x1f5b6c(0x172)]]['h']),c[_0x1f5b6c(0x181)](this[_0x1f5b6c(0x135)],this[_0x1f5b6c(0x118)][_0x1f5b6c(0x10c)]['x'],this[_0x1f5b6c(0x118)][_0x1f5b6c(0x10c)]['y'],this[_0x1f5b6c(0x118)]['crop']['w'],this['hpBar'][_0x1f5b6c(0x10c)]['h'],this[_0x1f5b6c(0x118)]['pos']['x']+this['x'],this[_0x1f5b6c(0x118)][_0x1f5b6c(0x130)]['y']+this['y'],this['hpBar'][_0x1f5b6c(0x10c)]['w']/player[_0x1f5b6c(0x156)]*player['hp'],this[_0x1f5b6c(0x118)][_0x1f5b6c(0x10c)]['h']),c[_0x1f5b6c(0x181)](this[_0x1f5b6c(0x135)],this[_0x1f5b6c(0x108)][_0x1f5b6c(0x10c)]['x'],this[_0x1f5b6c(0x108)][_0x1f5b6c(0x10c)]['y'],this['mpBar'][_0x1f5b6c(0x10c)]['w'],this[_0x1f5b6c(0x108)][_0x1f5b6c(0x10c)]['h'],this[_0x1f5b6c(0x108)][_0x1f5b6c(0x130)]['x']+this['x'],this['mpBar'][_0x1f5b6c(0x130)]['y']+this['y'],this[_0x1f5b6c(0x108)]['crop']['w'],this[_0x1f5b6c(0x108)]['crop']['h']);for(let _0x38bed2=0x0;_0x38bed2<player[_0x1f5b6c(0x17e)]['length'];_0x38bed2++){c[_0x1f5b6c(0x181)](this[_0x1f5b6c(0x135)],this[_0x1f5b6c(0x162)][_0x1f5b6c(0x10c)][player[_0x1f5b6c(0x17e)][_0x38bed2]]['x'],this['arrow'][_0x1f5b6c(0x10c)][player[_0x1f5b6c(0x17e)][_0x38bed2]]['y'],this['arrow']['crop'][player['arrowsArr'][_0x38bed2]]['w'],this[_0x1f5b6c(0x162)][_0x1f5b6c(0x10c)][player[_0x1f5b6c(0x17e)][_0x38bed2]]['h'],this[_0x1f5b6c(0x162)][_0x1f5b6c(0x130)]['x']+this['x']-0xa*_0x38bed2,this[_0x1f5b6c(0x162)][_0x1f5b6c(0x130)]['y']+this['y'],this[_0x1f5b6c(0x162)][_0x1f5b6c(0x10c)][player['arrowsArr'][_0x38bed2]]['w'],this[_0x1f5b6c(0x162)][_0x1f5b6c(0x10c)][player['arrowsArr'][_0x38bed2]]['h']);}c[_0x1f5b6c(0x12c)]=_0x1f5b6c(0x12a),c[_0x1f5b6c(0x163)]=_0x1f5b6c(0x125),c[_0x1f5b6c(0x146)]=_0x1f5b6c(0x18e),c[_0x1f5b6c(0x115)](player['arrowsCount']+'/'+player[_0x1f5b6c(0x17e)][_0x1f5b6c(0x190)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x1605e8=_0x457a63;let _0x184ff1=player['x']+player['w']/0x2,_0x2c3b84=player['y']+player['h']/0x2,_0x26c68d=_0x184ff1,_0x3b299a=_0x2c3b84,_0x1e53ef=![],_0x904229=0x0,_0x2f6ca6=returnCosine(_0x184ff1,_0x2c3b84,Mouse['x'],Mouse['y']),_0x2e7ec9=[],_0x344092={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x57dd54={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0xed44c1=0x4,_0xdfffba={'x':0x0,'y':0x0};while(!_0x1e53ef&&_0x904229<CANVAS[_0x1605e8(0x127)]*0x2/_0xed44c1){_0x26c68d-=_0x2f6ca6[_0x1605e8(0xfe)]*_0xed44c1,_0x3b299a-=_0x2f6ca6[_0x1605e8(0xea)]*_0xed44c1;getTileData(_0x26c68d,_0x3b299a)['solid']&&(_0x344092=getTileData(_0x26c68d,_0x3b299a)[_0x1605e8(0x173)],_0x57dd54['x']=_0x344092['x'],_0x57dd54['y']=_0x344092['y'],_0x57dd54['w']=_0x344092['w'],_0x57dd54['h']=_0x344092['h'],_0x57dd54['x']+=_0x26c68d-_0x26c68d%TILESIZE,_0x57dd54['y']+=_0x3b299a-_0x3b299a%TILESIZE,_0x1e53ef=!![]);_0xdfffba['x']=_0x26c68d,_0xdfffba['y']=_0x3b299a;for(let _0x37dc28=0x0;_0x37dc28<monsters[_0x1605e8(0x190)];_0x37dc28++){if(!monsters[_0x37dc28]['dead']&&pointSquareCol(_0xdfffba,monsters[_0x37dc28])){_0x57dd54['x']=monsters[_0x37dc28]['x'],_0x57dd54['y']=monsters[_0x37dc28]['y'],_0x57dd54['w']=monsters[_0x37dc28]['w'],_0x57dd54['h']=monsters[_0x37dc28]['h'],_0x1e53ef=!![];break;}}_0x904229++;}_0x2e7ec9=getRectSides(_0x57dd54);let _0x417f69=[],_0x5696bd={},_0x1b542a;for(let _0x120eb7=0x0;_0x120eb7<_0x2e7ec9[_0x1605e8(0x190)];_0x120eb7++){_0x5696bd=intersect(_0x184ff1,_0x2c3b84,_0x26c68d,_0x3b299a,_0x2e7ec9[_0x120eb7]['x1'],_0x2e7ec9[_0x120eb7]['y1'],_0x2e7ec9[_0x120eb7]['x2'],_0x2e7ec9[_0x120eb7]['y2']),_0x5696bd&&_0x417f69[_0x1605e8(0xfb)](_0x5696bd);}let _0x3cc148=Math[_0x1605e8(0xe5)](_0x184ff1-_0x26c68d,_0x2c3b84-_0x3b299a),_0x298cc4=_0x26c68d,_0x10b382=_0x26c68d;for(let _0x1d5aee=0x0;_0x1d5aee<_0x417f69[_0x1605e8(0x190)];_0x1d5aee++){_0x1b542a=Math[_0x1605e8(0xe5)](_0x184ff1-_0x26c68d,_0x2c3b84-_0x3b299a),_0x1b542a<_0x3cc148&&(_0x3cc148=_0x1b542a,_0x298cc4=_0x417f69[_0x1d5aee]['x'],_0x10b382=_0x417f69[_0x1d5aee]['y']);}c[_0x1605e8(0x14d)]=_0x1605e8(0xec),c[_0x1605e8(0x11d)](),c['moveTo'](_0x184ff1+map['x'],_0x2c3b84+map['y']),c[_0x1605e8(0x16a)](_0x26c68d+map['x'],_0x3b299a+map['y']),c[_0x1605e8(0xf0)](),c['strokeStyle']=_0x1605e8(0xff);}function isObstructed(_0x55b6fb,_0x138f95){const _0x5a74ab=_0x457a63;let _0x12b7a1=_0x55b6fb['x']+_0x55b6fb['w']/0x2,_0x1f93f2=_0x55b6fb['y']+_0x55b6fb['h']/0x2,_0x80fcc6=_0x138f95['x']+_0x138f95['w']/0x2,_0x1da38c=_0x138f95['y']+_0x138f95['h']/0x2,_0x482103=Math['hypot'](_0x12b7a1-_0x80fcc6,_0x1f93f2-_0x1da38c),_0x3987d0=_0x12b7a1,_0x193ca9=_0x1f93f2,_0x1905b9=![],_0xecfd5b=0x0,_0x8604f1=returnCosine(_0x12b7a1,_0x1f93f2,_0x80fcc6,_0x1da38c),_0x5c823c=[],_0x3ac6b3={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x14b6d9={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x33411d=0x3,_0x3f456e={'x':0x0,'y':0x0};while(!_0x1905b9&&_0xecfd5b<_0x482103/_0x33411d){_0x3987d0-=_0x8604f1[_0x5a74ab(0xfe)]*_0x33411d,_0x193ca9-=_0x8604f1[_0x5a74ab(0xea)]*_0x33411d;if(getTileData(_0x3987d0,_0x193ca9)[_0x5a74ab(0x180)])return _0x3ac6b3=getTileData(_0x3987d0,_0x193ca9)[_0x5a74ab(0x173)],_0x14b6d9['x']=_0x3ac6b3['x'],_0x14b6d9['y']=_0x3ac6b3['y'],_0x14b6d9['w']=_0x3ac6b3['w'],_0x14b6d9['h']=_0x3ac6b3['h'],_0x14b6d9['x']+=_0x3987d0-_0x3987d0%TILESIZE,_0x14b6d9['y']+=_0x193ca9-_0x193ca9%TILESIZE,!![];_0x3f456e['x']=_0x3987d0,_0x3f456e['y']=_0x193ca9;if(pointSquareCol(_0x3f456e,_0x138f95))return![];_0xecfd5b++;}}function getRectSides(_0x157444){const _0x3579ba=_0x457a63;let _0x50012d=[];return _0x50012d[_0x3579ba(0xfb)]({'x1':_0x157444['x'],'y1':_0x157444['y'],'x2':_0x157444['x']+_0x157444['w'],'y2':_0x157444['y']}),_0x50012d[_0x3579ba(0xfb)]({'x1':_0x157444['x']+_0x157444['w'],'y1':_0x157444['y'],'x2':_0x157444['x']+_0x157444['w'],'y2':_0x157444['y']+_0x157444['h']}),_0x50012d[_0x3579ba(0xfb)]({'x1':_0x157444['x']+_0x157444['w'],'y1':_0x157444['y']+_0x157444['h'],'x2':_0x157444['x'],'y2':_0x157444['y']+_0x157444['h']}),_0x50012d[_0x3579ba(0xfb)]({'x1':_0x157444['x'],'y1':_0x157444['y']+_0x157444['h'],'x2':_0x157444['x'],'y2':_0x157444['y']}),_0x50012d;}function init(){const _0x22c54b=_0x457a63;let _0x51f1e6,_0x4b4c19={};fetch(_0x22c54b(0xf9))[_0x22c54b(0x179)](function(_0x129f7c){const _0x45a76e=_0x22c54b;return _0x129f7c[_0x45a76e(0x166)]();})[_0x22c54b(0x179)](function(_0x216886){const _0x119be7=_0x22c54b;_0x51f1e6=_0x216886[_0x119be7(0x14b)];for(let _0x41d365=0x0;_0x41d365<_0x51f1e6['length'];_0x41d365++){_0x4b4c19={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x4b4c19['id']=_0x51f1e6[_0x41d365]['id'];if(_0x51f1e6[_0x41d365]['hasOwnProperty'](_0x119be7(0x109)))for(let _0x194515=0x0;_0x194515<_0x51f1e6[_0x41d365]['properties']['length'];_0x194515++){if(_0x51f1e6[_0x41d365][_0x119be7(0x109)][_0x194515])switch(_0x51f1e6[_0x41d365][_0x119be7(0x109)][_0x194515][_0x119be7(0x14e)]){case _0x119be7(0x183):_0x4b4c19[_0x119be7(0x183)]=!![],_0x4b4c19[_0x119be7(0xe8)]=!![];break;case'solid':_0x4b4c19[_0x119be7(0x180)]=!![],_0x4b4c19[_0x119be7(0xe8)]=!![];break;}}TilesData[_0x119be7(0xfb)](_0x4b4c19);}loop();});}init();var HP_BAR=id(_0x457a63(0x186));function renderHpBars(){const _0x4de0fc=_0x457a63;for(let _0x1c4aee=0x0;_0x1c4aee<monsters[_0x4de0fc(0x190)];_0x1c4aee++){if(monsters[_0x1c4aee][_0x4de0fc(0x17f)])continue;let _0x3a57aa=monsters[_0x1c4aee]['hp']/monsters[_0x1c4aee][_0x4de0fc(0x156)],_0x266fca=Math[_0x4de0fc(0xf7)](TILESIZE*_0x3a57aa);c['drawImage'](HP_BAR,0x0,0x4,_0x266fca,0x4,monsters[_0x1c4aee]['x']+monsters[_0x1c4aee]['w']/0x2-0x10+map['x']|0x0,monsters[_0x1c4aee]['y']-0x8+map['y']|0x0,_0x266fca|0x0,0x4|0x0),c[_0x4de0fc(0x181)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x1c4aee]['x']+monsters[_0x1c4aee]['w']/0x2-0x10+map['x']|0x0,monsters[_0x1c4aee]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x59432d=_0x457a63;this[_0x59432d(0x127)]=0x17,this[_0x59432d(0x165)]=0xf,this['x']=0x0,this['y']=0x0,this[_0x59432d(0x14b)]=maps['m1'],this[_0x59432d(0x135)]=id(_0x59432d(0x135)),this[_0x59432d(0x131)]=id(_0x59432d(0x131));}['draw'](){const _0x20ea4f=_0x457a63;for(let _0x534dac=0x0;_0x534dac<this['tiles'][_0x20ea4f(0x190)];_0x534dac++){_0x534dac==0x1&&c[_0x20ea4f(0x181)](this['grass'],0x0+this['x'],0x0+this['y'],CANVAS['width'],CANVAS['height']);for(let _0x35b5b0=0x0;_0x35b5b0<this['tiles'][_0x534dac]['length'];_0x35b5b0++){if(this[_0x20ea4f(0x14b)][_0x534dac][_0x35b5b0]===0x0)continue;c['drawImage'](this[_0x20ea4f(0x135)],(this[_0x20ea4f(0x14b)][_0x534dac][_0x35b5b0]-0x1)%0xf*TILESIZE,((this[_0x20ea4f(0x14b)][_0x534dac][_0x35b5b0]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x35b5b0%this['width']*TILESIZE+map['x'],(_0x35b5b0/this['width']|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x1cb159=_0x457a63;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x1cb159(0x13b)]=0x2,this[_0x1cb159(0x13f)]=0x0,this[_0x1cb159(0x13d)]=[0x0],this[_0x1cb159(0x11f)]=[0x0],this[_0x1cb159(0x169)]=[0x0,0x0,0x0,0x0],this['vfxY']=[0x0,0x80,0x100,0x180],this[_0x1cb159(0x187)]=0x0,this[_0x1cb159(0xe3)]=0x0,this[_0x1cb159(0x101)]=0x0,this[_0x1cb159(0x18d)]=0x3,this[_0x1cb159(0x170)]=![],this['sheet']=id(_0x1cb159(0x14a)),this[_0x1cb159(0xf5)]=id(_0x1cb159(0x196));}['compute'](){const _0x261c2a=_0x457a63;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x28c4e4,_0x5dd519,_0x552bad;for(let _0x58502d=0x0;_0x58502d<monsters[_0x261c2a(0x190)];_0x58502d++){if(monsters[_0x58502d]['dead']||!monsters[_0x58502d]['collidable'])continue;_0x28c4e4=monsters[_0x58502d]['hitbox']['x']+monsters[_0x58502d][_0x261c2a(0x173)]['w']/0x2,_0x5dd519=monsters[_0x58502d][_0x261c2a(0x173)]['y']+monsters[_0x58502d][_0x261c2a(0x173)]['h']/0x2,_0x552bad=(monsters[_0x58502d]['w']+monsters[_0x58502d]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x28c4e4,_0x5dd519,_0x552bad)){let _0x34d946=this['x']+this['w']/0x2,_0x2dde59=this['y']+this['h']/0x2,_0x156c6e=monsters[_0x58502d]['x']-_0x34d946,_0x5af576=monsters[_0x58502d]['y']-_0x2dde59,_0x8aeadc=Math['atan2'](_0x5af576,_0x156c6e),_0x583387=Math[_0x261c2a(0xfe)](_0x8aeadc),_0x329822=Math[_0x261c2a(0xea)](_0x8aeadc);monsters[_0x58502d]['xVelExt']=_0x583387*0xa,monsters[_0x58502d][_0x261c2a(0x11a)]=_0x329822*0xa,monsters[_0x58502d]['hp']-=0.25,monsters[_0x58502d][_0x261c2a(0x171)]=0xf;}}}[_0x457a63(0x113)](){const _0x33691f=_0x457a63;this[_0x33691f(0xe3)]++,this[_0x33691f(0xe3)]>this['slowness']*DTR&&(this['frameCounter']=0x0,this['currentFrame']++,this[_0x33691f(0x187)]>=this['vfxX'][_0x33691f(0x190)]&&(this[_0x33691f(0x187)]=0x0)),c[_0x33691f(0x181)](this['sheet'],this[_0x33691f(0x169)][this[_0x33691f(0x187)]],this[_0x33691f(0x141)][this['currentFrame']],0x80,0x40,this['x']-0x40-player['xVelExt']*0x4+map['x'],this['y']-0x40-player[_0x33691f(0x11a)]*0x4+map['y'],0x80,0x40),c[_0x33691f(0x16c)](),c[_0x33691f(0x102)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x33691f(0x147)](this['radiansP']+this[_0x33691f(0x13b)]),c[_0x33691f(0x181)](this[_0x33691f(0xf5)],this[_0x33691f(0x13d)][this[_0x33691f(0x101)]],this['actionY'][this[_0x33691f(0x101)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x33691f(0x117)](),this['radians']-=0.5/DTR,this[_0x33691f(0x13b)]<=-0x9&&(this[_0x33691f(0x170)]=![],this[_0x33691f(0x13b)]=0x2),c[_0x33691f(0x181)](this[_0x33691f(0x135)],this['vfxX'][this[_0x33691f(0x187)]],this['vfxY'][this[_0x33691f(0x187)]]+0x40,0x80,0x40,this['x']-0x40-player[_0x33691f(0x148)]*0x4+map['x'],this['y']-player[_0x33691f(0x11a)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){monsters['sort'](function(_0x453c1f,_0xa0f741){const _0x1d6376=_0x2892;if(_0x453c1f['dead']&&!_0xa0f741[_0x1d6376(0x17f)])return-0x1;else return!_0x453c1f[_0x1d6376(0x17f)]&&_0xa0f741['dead']?0x1:_0x453c1f['y']+0xf-_0xa0f741['y'];});}function adjustCollidingMonsters(){const _0xeeacbc=_0x457a63;for(let _0xc2276f=0x0;_0xc2276f<monsters[_0xeeacbc(0x190)];_0xc2276f++){if(monsters[_0xc2276f][_0xeeacbc(0x17f)])continue;monsters[_0xc2276f][_0xeeacbc(0xe7)]['T']=0x0,monsters[_0xc2276f][_0xeeacbc(0xe7)]['B']=0x0,monsters[_0xc2276f][_0xeeacbc(0xe7)]['L']=0x0,monsters[_0xc2276f][_0xeeacbc(0xe7)]['R']=0x0;for(let _0x298095=0x0;_0x298095<monsters[_0xeeacbc(0x190)];_0x298095++){if(monsters[_0x298095][_0xeeacbc(0x17f)])continue;if(collided(monsters[_0xc2276f],monsters[_0x298095])){let _0x150863=colCheck(monsters[_0xc2276f],monsters[_0x298095]);switch(_0x150863){case'l':this['xVel']<0x0&&(this[_0xeeacbc(0x12e)]=0x0);break;case'r':this[_0xeeacbc(0x12e)]>0x0&&(this[_0xeeacbc(0x12e)]=0x0);break;case'b':this[_0xeeacbc(0x18b)]>0x0&&(this[_0xeeacbc(0x18b)]=0x0);break;case't':this[_0xeeacbc(0x18b)]<0x0&&(this[_0xeeacbc(0x18b)]=0x0);break;}monsters[_0xc2276f][_0xeeacbc(0x12e)]+=(monsters[_0xc2276f]['col']['L']-monsters[_0xc2276f]['col']['R'])/0x5,monsters[_0xc2276f][_0xeeacbc(0x18b)]+=(monsters[_0xc2276f]['col']['T']-monsters[_0xc2276f][_0xeeacbc(0xe7)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x469774,_0x5847d8){const _0x1332af=_0x457a63;super(Collidable),this['x']=_0x469774,this['y']=_0x5847d8,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x1332af(0x12e)]=0x0,this['yVel']=0x0,this[_0x1332af(0x148)]=0x0,this['yVelExt']=0x0,this[_0x1332af(0x11e)]=0x2,this[_0x1332af(0x12f)]=0x0,this['justDied']=![],this[_0x1332af(0x171)]=0x0,this[_0x1332af(0x17f)]=![],this[_0x1332af(0x158)]=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x1332af(0xe3)]=0x0,this['slowness']=0x4,this[_0x1332af(0x187)]=0x0,this[_0x1332af(0x157)]=!![],this[_0x1332af(0x135)]=id(_0x1332af(0x135)),this[_0x1332af(0x101)]=0x0,this[_0x1332af(0xe7)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this['actionX']=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x1332af(0x11f)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x457a63(0x122)](){const _0x44ed3a=_0x457a63;if(this['action']!==0x0){let _0xa7d015=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x1d2b60=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x7d4f2d=_0xa7d015>0x0?-0x1:0x1,_0x209fe2=_0x1d2b60>0x0?-0x1:0x1,_0x596eb3;_0x1d2b60!==0x0?_0x596eb3=Math[_0x44ed3a(0x152)](_0xa7d015)/(Math[_0x44ed3a(0x152)](_0x1d2b60)+Math[_0x44ed3a(0x152)](_0xa7d015)):_0x596eb3=0x0;this['xVel']=this['speed']*_0x596eb3*_0x7d4f2d,this['yVel']=this[_0x44ed3a(0x11e)]*(0x1-_0x596eb3)*_0x209fe2;if(this['x']+this['w']<player['x'])this[_0x44ed3a(0x12f)]=![];else player['x']+player['w']<this['x']&&(this[_0x44ed3a(0x12f)]=!![]);}}[_0x457a63(0x136)](){const _0x221f7d=_0x457a63;if(!this[_0x221f7d(0x17f)]){this[_0x221f7d(0x122)]();Math[_0x221f7d(0x152)](this[_0x221f7d(0x148)])>0.01?this[_0x221f7d(0x148)]*=0.9:this[_0x221f7d(0x148)]=0x0;Math['abs'](this[_0x221f7d(0x11a)])>0.01?this[_0x221f7d(0x11a)]*=0.9:this[_0x221f7d(0x11a)]=0x0;(this[_0x221f7d(0xe7)]['T']&&this[_0x221f7d(0x18b)]<0x0||this['col']['B']&&this['yVel']>0x0)&&(this[_0x221f7d(0x18b)]=0x0);(this['col']['L']&&this[_0x221f7d(0x12e)]<0x0||this[_0x221f7d(0xe7)]['R']&&this[_0x221f7d(0x12e)]>0x0)&&(this['xVel']=0x0);this['action']!==0x0&&(this[_0x221f7d(0x12f)]?this[_0x221f7d(0x101)]=0x2:this[_0x221f7d(0x101)]=0x1);this[_0x221f7d(0x161)](),this['x']+=(this[_0x221f7d(0x12e)]+this[_0x221f7d(0x148)])/DTR,this['y']+=(this['yVel']+this[_0x221f7d(0x11a)])/DTR;for(let _0x22960e=0x0;_0x22960e<this[_0x221f7d(0x158)]['length'];_0x22960e++){this[_0x221f7d(0x158)][_0x22960e]['x']=this['x']+this[_0x221f7d(0x158)][_0x22960e]['xRel'],this[_0x221f7d(0x158)][_0x22960e]['y']=this['y']+this[_0x221f7d(0x158)][_0x22960e][_0x221f7d(0x112)];}this['hitbox']['x']=this['x']+0x6,this[_0x221f7d(0x173)]['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x221f7d(0x193)]=!![]),this['justDied']&&(this[_0x221f7d(0x171)]=0x0,this[_0x221f7d(0x17f)]=!![],this['action']=0x3,this[_0x221f7d(0xe3)]=0x0,this[_0x221f7d(0x187)]=0x0,this[_0x221f7d(0x18d)]=0xa);}}[_0x457a63(0x113)](){const _0x2bd5a7=_0x457a63;this['frameCounter']++;this[_0x2bd5a7(0xe3)]>this['slowness']*DTR&&(this[_0x2bd5a7(0xe3)]=0x0,this[_0x2bd5a7(0x187)]++,this['currentFrame']>=this[_0x2bd5a7(0x13d)][this[_0x2bd5a7(0x101)]][_0x2bd5a7(0x190)]&&(this[_0x2bd5a7(0x101)]==0x0&&(this['action']=0x1+this['left']),this[_0x2bd5a7(0x187)]=0x0));this[_0x2bd5a7(0x101)]==0x3&&(this[_0x2bd5a7(0x187)]==this['actionX'][this[_0x2bd5a7(0x101)]][_0x2bd5a7(0x190)]-0x1&&(this['frameCounter']=0x0));if(!this[_0x2bd5a7(0x17f)])for(let _0x22121b=0x0;_0x22121b<this[_0x2bd5a7(0x158)][_0x2bd5a7(0x190)];_0x22121b++){this['arrows'][_0x22121b]['draw']();}this[_0x2bd5a7(0x171)]>0x0&&(this[_0x2bd5a7(0x101)]=0x4,this[_0x2bd5a7(0x187)]=0x0,this[_0x2bd5a7(0x184)]=0x0,this[_0x2bd5a7(0x171)]-=0x1/DTR),c[_0x2bd5a7(0x181)](this[_0x2bd5a7(0x135)],this['actionX'][this[_0x2bd5a7(0x101)]][this[_0x2bd5a7(0x187)]]*TILESIZE,this['actionY'][this[_0x2bd5a7(0x101)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x4e2edd,_0x4c8061){const _0x395a31=_0x457a63;super(Collidable),this['x']=(_0x4e2edd/TILESIZE|0x0)*TILESIZE,this['y']=(_0x4c8061/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x395a31(0x12e)]=0x0,this[_0x395a31(0x18b)]=0x0,this['xVelExt']=0x0,this[_0x395a31(0x11a)]=0x0,this['speed']=0x2,this[_0x395a31(0x12f)]=0x0,this['justDied']=![],this[_0x395a31(0x171)]=0x0,this[_0x395a31(0x17f)]=![],this[_0x395a31(0x10d)]=![],this[_0x395a31(0x158)]=[],this[_0x395a31(0x156)]=0x3,this['hp']=0x3,this[_0x395a31(0xe3)]=0x0,this[_0x395a31(0x18d)]=0x4,this[_0x395a31(0x187)]=0x0,this[_0x395a31(0x135)]=id(_0x395a31(0x135)),this[_0x395a31(0x101)]=0x0,this[_0x395a31(0x157)]=!![],this[_0x395a31(0x121)]=[],this[_0x395a31(0xe7)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x395a31(0x173)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['actionX']=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this['actionY']=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this[_0x395a31(0x14f)]=0x0;}[_0x457a63(0x122)](){const _0x2556e5=_0x457a63;this[_0x2556e5(0x16f)]['x']=this['x']-0x5*TILESIZE,this[_0x2556e5(0x16f)]['y']=this['y']-0x5*TILESIZE,this[_0x2556e5(0x16f)]['w']=0xb*TILESIZE,this['atkBox']['h']=0xb*TILESIZE;if(collided(this[_0x2556e5(0x16f)],player)){if(this[_0x2556e5(0x10d)]){if(this[_0x2556e5(0x187)]==0x0&&this[_0x2556e5(0xe3)]==0x0){this['createGrid']();switch(this['path'][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x2556e5(0x101)]!==0x1&&(this[_0x2556e5(0x101)]=0x1,this[_0x2556e5(0x187)]=0x0,this[_0x2556e5(0xe3)]=0x0);}else this[_0x2556e5(0x10d)]&&this['action']!==0x0&&this['action']!==0x2&&(this[_0x2556e5(0x10d)]=![],this['collidable']=!![],this[_0x2556e5(0x101)]=0x2,this[_0x2556e5(0x187)]=0x0,this['frameCounter']=0x0);}['compute'](){const _0x452b27=_0x457a63;this[_0x452b27(0x122)](),this['hitbox']['x']=this['x']+(this['w']-0xe)/0x2,this[_0x452b27(0x173)]['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x12efbf=0x0;_0x12efbf<this[_0x452b27(0x158)][_0x452b27(0x190)];_0x12efbf++){this['arrows'][_0x12efbf]['x']=this['x']+this[_0x452b27(0x158)][_0x12efbf][_0x452b27(0x149)],this[_0x452b27(0x158)][_0x12efbf]['y']=this['y']+this[_0x452b27(0x158)][_0x12efbf][_0x452b27(0x112)];}this['hp']<=0x0&&(this[_0x452b27(0x193)]=!![]),this[_0x452b27(0x193)]&&(this[_0x452b27(0x171)]=0x0,this['dead']=!![],this['action']=0x3,this[_0x452b27(0xe3)]=0x0,this[_0x452b27(0x187)]=0x0,this[_0x452b27(0x18d)]=0xa);}[_0x457a63(0x113)](){const _0x40e90a=_0x457a63;this[_0x40e90a(0xe3)]++;this[_0x40e90a(0x101)]==0x4?this['slowness']=0x3:this[_0x40e90a(0x18d)]=0x5;if(this[_0x40e90a(0xe3)]>this['slowness']*DTR){this['frameCounter']=0x0,this[_0x40e90a(0x187)]++;if(this[_0x40e90a(0x187)]>=this[_0x40e90a(0x13d)][this[_0x40e90a(0x101)]][_0x40e90a(0x190)]){if(this[_0x40e90a(0x17f)])this[_0x40e90a(0x187)]=this[_0x40e90a(0x13d)][this['action']][_0x40e90a(0x190)]-0x1;else{if(this[_0x40e90a(0x101)]==0x1)this[_0x40e90a(0x10d)]=!![],this['collidable']=![],this[_0x40e90a(0x101)]=0x4,this[_0x40e90a(0x187)]=0x0;else this[_0x40e90a(0x101)]==0x2?(this[_0x40e90a(0x101)]=0x0,this[_0x40e90a(0x187)]=0x0):this['currentFrame']=0x0;}}}if(!this['dead']){if(this['action']==0x0)for(let _0xbe8a38=0x0;_0xbe8a38<this[_0x40e90a(0x158)][_0x40e90a(0x190)];_0xbe8a38++){this['arrows'][_0xbe8a38][_0x40e90a(0x113)]();}}this[_0x40e90a(0x171)]>0x0&&(this[_0x40e90a(0x101)]=0x3,this[_0x40e90a(0x187)]=0x0,this[_0x40e90a(0x184)]=0x0,this[_0x40e90a(0x171)]-=0x1/DTR,this[_0x40e90a(0x171)]<=0x0&&(this[_0x40e90a(0x101)]=0x0)),c['drawImage'](this[_0x40e90a(0x135)],this[_0x40e90a(0x13d)][this[_0x40e90a(0x101)]][this[_0x40e90a(0x187)]]*TILESIZE,this[_0x40e90a(0x11f)][this[_0x40e90a(0x101)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}['createGrid'](){const _0x21318c=_0x457a63;let _0x1d0b42=0xb,_0x45bac0=[],_0x4c21ca=this['x']+this['w']/0x2-TILESIZE*0x5,_0x48a4b5=this['y']+this['h']/0x2-TILESIZE*0x5,_0x51ebc3;for(let _0x542991=0x0;_0x542991<_0x1d0b42;_0x542991++){_0x45bac0[_0x542991]=[];for(let _0x3d594b=0x0;_0x3d594b<_0x1d0b42;_0x3d594b++){_0x51ebc3=getTileData(_0x4c21ca+_0x542991*TILESIZE,_0x48a4b5+_0x3d594b*TILESIZE),_0x51ebc3===![]?_0x45bac0[_0x542991][_0x3d594b]=_0x21318c(0x137):_0x45bac0[_0x542991][_0x3d594b]='Obstacle';}}_0x45bac0[0x5][0x5]=_0x21318c(0x15c),_0x45bac0[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]='Goal',this[_0x21318c(0x121)]=findShortestPath([0x5,0x5],_0x45bac0);}}class Flower extends Collidable{constructor(_0x13b763,_0x866ee6){const _0x5578d4=_0x457a63;super(Collidable),this['x']=_0x13b763,this['y']=_0x866ee6,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x5578d4(0x12e)]=0x0,this['yVel']=0x0,this['xVelExt']=0x0,this[_0x5578d4(0x11a)]=0x0,this[_0x5578d4(0x11e)]=0x2,this[_0x5578d4(0x12f)]=0x0,this[_0x5578d4(0x193)]=![],this[_0x5578d4(0x171)]=0x0,this[_0x5578d4(0x17f)]=![],this[_0x5578d4(0x158)]=[],this[_0x5578d4(0x156)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0x5578d4(0x18d)]=0x8,this['attacking']=![],this['currentFrame']=0x0,this[_0x5578d4(0x135)]=id(_0x5578d4(0x135)),this[_0x5578d4(0x13a)]=0x5,this[_0x5578d4(0x138)]=0x8,this[_0x5578d4(0x157)]=!![],this[_0x5578d4(0xe7)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x5578d4(0x101)]=0x0,this[_0x5578d4(0x13d)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x5578d4(0x11f)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this[_0x5578d4(0x153)]=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x5578d4(0xf6)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x5578d4(0x13b)]=0x0,this[_0x5578d4(0xf4)]=![];}[_0x457a63(0x155)](){const _0x87b88e=_0x457a63;if(!isObstructed(this,player)){this[_0x87b88e(0x10d)]=!![];if(this[_0x87b88e(0x187)]==0x2){if(!this['justShot']){let _0x339130=new EnemyProjectile(),_0xe67ab8=this['x']+this['w']/0x2,_0x2e4607=this['y']+this['h']/0x2,_0x5857bb=player['x']+player['w']/0x2-_0xe67ab8+Math['random']()*this['precision']-this[_0x87b88e(0x13a)]/0x2,_0x19b0a5=player['y']+player['h']/0x2-_0x2e4607+Math[_0x87b88e(0x123)]()*this[_0x87b88e(0x13a)]-this['precision']/0x2,_0x5b1ef3=Math[_0x87b88e(0xf2)](_0x19b0a5,_0x5857bb),_0x3692b6=Math['cos'](_0x5b1ef3),_0x57cf8e=Math[_0x87b88e(0xea)](_0x5b1ef3);_0x339130[_0x87b88e(0x12e)]=_0x3692b6*this[_0x87b88e(0x138)],_0x339130['yVel']=_0x57cf8e*this[_0x87b88e(0x138)],_0x339130['x']=_0xe67ab8,_0x339130['y']=_0x2e4607,enemyProjectiles[_0x87b88e(0xfb)](_0x339130),this['justShot']=!![];}}else this[_0x87b88e(0xf4)]=![];}else this[_0x87b88e(0x10d)]=![];}[_0x457a63(0x136)](){const _0x33fa87=_0x457a63;this['shoot'](),this[_0x33fa87(0x173)]['x']=this['x']+this['w']/0x3,this['hitbox']['y']=this['y']+this['h']/0x5,this['radians']=Math[_0x33fa87(0xf2)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x42c0b1=0x0;_0x42c0b1<this[_0x33fa87(0x158)][_0x33fa87(0x190)];_0x42c0b1++){this['arrows'][_0x42c0b1]['x']=this['x']+this[_0x33fa87(0x158)][_0x42c0b1][_0x33fa87(0x149)],this[_0x33fa87(0x158)][_0x42c0b1]['y']=this['y']+this[_0x33fa87(0x158)][_0x42c0b1][_0x33fa87(0x112)];}this['hp']<=0x0&&(this[_0x33fa87(0x193)]=!![]),this[_0x33fa87(0x193)]&&(this['justDamaged']=0x0,this[_0x33fa87(0x17f)]=!![],this[_0x33fa87(0x101)]=0x2,this[_0x33fa87(0xe3)]=0x0,this[_0x33fa87(0x187)]=0x0,this['slowness']=0xa);}[_0x457a63(0x113)](){const _0x425449=_0x457a63;this[_0x425449(0xe3)]++;this['frameCounter']>this[_0x425449(0x18d)]*DTR&&(this['frameCounter']=0x0,this['currentFrame']++,this[_0x425449(0x187)]>=this[_0x425449(0x13d)][this[_0x425449(0x101)]]['length']&&(this[_0x425449(0x17f)]?this[_0x425449(0x187)]=this[_0x425449(0x13d)][this[_0x425449(0x101)]][_0x425449(0x190)]-0x1:this[_0x425449(0x187)]=0x0));if(!this[_0x425449(0x17f)]){this[_0x425449(0x10d)]?this[_0x425449(0x101)]=0x1:this[_0x425449(0x101)]=0x0;for(let _0x3ead03=0x0;_0x3ead03<this[_0x425449(0x158)][_0x425449(0x190)];_0x3ead03++){this[_0x425449(0x158)][_0x3ead03][_0x425449(0x113)]();}}this[_0x425449(0x10d)]?this['slowness']=0x4:this[_0x425449(0x18d)]=0x8,this[_0x425449(0x171)]&&(this['action']=0x2,this['currentFrame']=0x0,this['framecounter']=0x0,this[_0x425449(0x171)]--),c[_0x425449(0x181)](this['sheet'],this['actionX'][this[_0x425449(0x101)]][this['currentFrame']]*TILESIZE,this['actionY'][this['action']][this[_0x425449(0x187)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0x425449(0x101)]==0x0||this[_0x425449(0x101)]==0x1)&&(c['save'](),c[_0x425449(0x102)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x425449(0x147)](this[_0x425449(0x13b)]),c[_0x425449(0x181)](this[_0x425449(0x135)],this[_0x425449(0x153)][this[_0x425449(0x101)]][this[_0x425449(0x187)]]*TILESIZE,this['headY'][this[_0x425449(0x101)]][this[_0x425449(0x187)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x425449(0x117)]());}}function getTileData(_0x36bab2,_0x210095){const _0x14e1ee=_0x457a63;let _0x523f2e=(_0x36bab2/TILESIZE|0x0)+(_0x210095/TILESIZE|0x0)*map[_0x14e1ee(0x127)];for(let _0x307071=0x0;_0x307071<map[_0x14e1ee(0x14b)][_0x14e1ee(0x190)];_0x307071++){for(let _0x407d1b=0x0;_0x407d1b<TilesData[_0x14e1ee(0x190)];_0x407d1b++){if(TilesData[_0x407d1b]['id']==map['tiles'][_0x307071][_0x523f2e]-0x1)return TilesData[_0x407d1b];}}return![];}window[_0x457a63(0x188)]=function(){const _0x26f92e=_0x457a63;player['arrowsCount']!==0x0?player[_0x26f92e(0x155)]():player[_0x26f92e(0x182)]=0xa;},window['oncontextmenu']=function(_0x177dcf){const _0x1b8eaf=_0x457a63;_0x177dcf[_0x1b8eaf(0xfc)](),player[_0x1b8eaf(0x16d)]();},document[_0x457a63(0x12d)](_0x457a63(0x150),function(_0x231ae5){const _0x4d860d=_0x457a63;switch(_0x231ae5[_0x4d860d(0x11b)]){case 0x0:userInterface[_0x4d860d(0xef)]=!![];break;case 0x2:userInterface['rClick']=!![];break;}}),document[_0x457a63(0x12d)](_0x457a63(0xe2),function(_0x41d87d){const _0x30b891=_0x457a63;switch(_0x41d87d['button']){case 0x0:userInterface[_0x30b891(0xef)]=![];break;case 0x2:userInterface[_0x30b891(0xee)]=![];break;}});var stats=id(_0x457a63(0x116));function drawStats(){const _0x2ac5b5=_0x457a63;stats[_0x2ac5b5(0x151)]='player.x\x20=\x20'+player['x'],stats[_0x2ac5b5(0x151)]+='<br>player.y\x20=\x20'+player['y'],stats['innerHTML']+=_0x2ac5b5(0x175)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x2ac5b5(0x151)]+=_0x2ac5b5(0x154)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x2ac5b5(0x151)]+=_0x2ac5b5(0xe4)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x2ac5b5(0x127)]),stats[_0x2ac5b5(0x151)]+='<br>mouseTile\x20id\x20=\x20'+map[_0x2ac5b5(0x14b)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x2ac5b5(0x127)]],map[_0x2ac5b5(0x14b)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x2ac5b5(0x127)]],DEBUG&&(c[_0x2ac5b5(0x134)]((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x2ac5b5(0xf0)]());}window['addEventListener'](_0x457a63(0x105),function(_0x303157){const _0x12af48=_0x457a63;switch(_0x303157[_0x12af48(0x12b)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0x12af48(0xfb)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x12af48(0x140)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x3bdf56=0x0;_0x3bdf56<0x32;_0x3bdf56++){player['shoot'](),player[_0x12af48(0x174)]=player[_0x12af48(0xf3)]*DTR,player[_0x12af48(0x160)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window['addEventListener'](_0x457a63(0x18f),function(_0x10af6e){const _0x1532b4=_0x457a63;switch(_0x10af6e[_0x1532b4(0x12b)]){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0x457a63(0x12d)]('mousemove',function(_0x39a5e9){const _0x55b9c9=_0x457a63;mousePP['x']=_0x39a5e9[_0x55b9c9(0x111)]-CANVAS[_0x55b9c9(0x13c)],mousePP['y']=_0x39a5e9[_0x55b9c9(0x164)]-CANVAS['offsetTop'];});function moveCamera(){const _0x3ff958=_0x457a63;map['x']=-player['x']/0x3+CANVAS[_0x3ff958(0x127)]/0x6,map['y']=-player['y']/0x3+CANVAS[_0x3ff958(0x165)]/0x6,screenShake[_0x3ff958(0x14f)]&&(screenShake[_0x3ff958(0x14f)]--,screenShake[_0x3ff958(0x13e)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}function _0x1424(){const _0x3045f4=['sword','mouseup','frameCounter','<br>mouseTile\x20pos\x20=\x20','hypot','damage','col','unpassable','replace','sin','indexOf','#ff0000','arrowSpeed','rClick','lClick','stroke','#8b5851','atan2','arrowCD','justShot','swordImg','headY','round','ui-sheet','./Archer.json','55NQwVrq','push','preventDefault','6EcjRyC','cos','black','centerX','action','translate','style','closePath','keydown','portrait','FPS','mpBar','properties','color','layout','crop','attacking','centerY','innerWidth','innerHeight','clientX','yRel','draw','lengthX','fillText','stats','restore','hpBar','apply','yVelExt','button','3712408KmJvkx','beginPath','speed','actionY','splice','path','followPlayer','random','{}.constructor(\x22return\x20this\x22)(\x20)','center','toPrecision','width','ended','[DQxNgxcJFfLrrcYRdvJgmpsrYFSUEC]','14px\x20Arial','keyCode','font','addEventListener','xVel','left','pos','grass','531605yVXTQk','free','rect','sheet','compute','Empty','projSpeed','return\x20(function()\x20','precision','radians','offsetLeft','actionX','set','radiansP','log','vfxY','5224drDnEQ','lineWidth','662998HMnwqM','type','fillStyle','rotate','xVelExt','xRel','sword-vfx','tiles','DaQboxNut:gxblanckJFfLrrcYRdvJgmpsrYFSUEC','strokeStyle','name','counter','mousedown','innerHTML','abs','headX','<br>mouseTile.y\x20=\x20','shoot','maxHp','collidable','arrows','now','lengthY','player','Start','drawBow','bow','canvas','computeQuiver','checkCollisions','arrow','textAlign','clientY','height','json','arrowsCount','clearRect','vfxX','lineTo','16305290comvgr','save','attack','11oOHmzC','atkBox','active','justDamaged','attacked','hitbox','arrowCounter','<br>mouseTile.x\x20=\x20','194598WiELyp','critChance','fromCharCode','then','globalAlpha','moveTo','top','getElementById','arrowsArr','dead','solid','drawImage','noArrows','hole','framecounter','shift','hp-bar','currentFrame','onclick','sxOayanMtvponZanRYMVEdVQLrZeN.gizBtRvhuyObR.Zio;pWlojfRcGValhCosjtyCMfyzZOMVXxkfWGHLWOjDWWXQUDqMAxXQ','maxMp','yVel','points','slowness','#2f4447','keyup','length','colors','2086220HfMGCD','justDied','6462mwfCWY','FPS:\x20'];_0x1424=function(){return _0x3045f4;};return _0x1424();}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x4e959e=_0x457a63;c[_0x4e959e(0x143)]=0x2,c[_0x4e959e(0x14d)]=sampleArrow[_0x4e959e(0x191)][0x0],c[_0x4e959e(0x11d)]();for(let _0x4723da=playerArrows[_0x4e959e(0x190)]-0x1;_0x4723da>=0x0;_0x4723da--){if(!playerArrows[_0x4723da][_0x4e959e(0x170)]||playerArrows[_0x4723da][_0x4e959e(0x10a)]!=0x1)continue;playerArrows[_0x4723da]['free']&&playerArrows[_0x4723da][_0x4e959e(0x136)]();if(playerArrows[_0x4723da]!==undefined)playerArrows[_0x4723da][_0x4e959e(0x113)]();}c[_0x4e959e(0x104)](),c[_0x4e959e(0xf0)](),c[_0x4e959e(0x14d)]=sampleArrow[_0x4e959e(0x191)][0x1],c['beginPath']();for(let _0x584e05=playerArrows['length']-0x1;_0x584e05>=0x0;_0x584e05--){if(!playerArrows[_0x584e05][_0x4e959e(0x170)]||playerArrows[_0x584e05][_0x4e959e(0x10a)]!=0x2)continue;playerArrows[_0x584e05][_0x4e959e(0x133)]&&playerArrows[_0x584e05][_0x4e959e(0x136)]();if(playerArrows[_0x584e05]!==undefined)playerArrows[_0x584e05][_0x4e959e(0x113)]();}c['closePath'](),c[_0x4e959e(0xf0)]();}function loop(){const _0x241aa6=_0x457a63;fps++,c[_0x241aa6(0x168)](0x0,0x0,CANVAS['width'],CANVAS[_0x241aa6(0x165)]),moveCamera(),map['draw'](),player[_0x241aa6(0x136)]();for(let _0x377c18=enemyProjectiles[_0x241aa6(0x190)]-0x1;_0x377c18>=0x0;_0x377c18--){enemyProjectiles[_0x377c18][_0x241aa6(0x136)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x11cb3d=0x0;_0x11cb3d<monsters[_0x241aa6(0x190)];_0x11cb3d++){!monsters[_0x11cb3d][_0x241aa6(0x17f)]&&monsters[_0x11cb3d][_0x241aa6(0x136)](),monsters[_0x11cb3d][_0x241aa6(0x113)]();}player[_0x241aa6(0x113)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x523bfd=enemyProjectiles[_0x241aa6(0x190)]-0x1;_0x523bfd>=0x0;_0x523bfd--){enemyProjectiles[_0x523bfd][_0x241aa6(0x113)]();}sword[_0x241aa6(0x170)]&&(sword[_0x241aa6(0x136)](),sword[_0x241aa6(0x113)]());for(let _0x3bfd93=visualFxs[_0x241aa6(0x190)]-0x1;_0x3bfd93>=0x0;_0x3bfd93--){!visualFxs[_0x3bfd93][_0x241aa6(0x128)]&&visualFxs[_0x3bfd93][_0x241aa6(0x113)]();}userInterface['draw'](),drawStats();}var lastUpdate=Date[_0x457a63(0x159)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){var _0xe6329b=Date['now'](),_0x36da60=_0xe6329b-lastUpdate;lastUpdate=_0xe6329b,DTR=0x3e8/0x3c/_0x36da60,!gamePaused&&loop();}