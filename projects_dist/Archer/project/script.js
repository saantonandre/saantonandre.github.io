'strict';const _0xc09cd0=_0x333b;(function(_0x319ae7,_0x344e3f){const _0x1e3fbe=_0x333b,_0x42edcf=_0x319ae7();while(!![]){try{const _0x1734cc=-parseInt(_0x1e3fbe(0xf0))/0x1+-parseInt(_0x1e3fbe(0x190))/0x2*(-parseInt(_0x1e3fbe(0x126))/0x3)+parseInt(_0x1e3fbe(0x197))/0x4+parseInt(_0x1e3fbe(0x115))/0x5+-parseInt(_0x1e3fbe(0xf4))/0x6*(parseInt(_0x1e3fbe(0x15e))/0x7)+-parseInt(_0x1e3fbe(0x13a))/0x8*(parseInt(_0x1e3fbe(0x13c))/0x9)+parseInt(_0x1e3fbe(0xf2))/0xa*(parseInt(_0x1e3fbe(0x15c))/0xb);if(_0x1734cc===_0x344e3f)break;else _0x42edcf['push'](_0x42edcf['shift']());}catch(_0x5ad025){_0x42edcf['push'](_0x42edcf['shift']());}}}(_0x2ef6,0x9467c));function _0x333b(_0x2adeeb,_0x3126a7){const _0x318f8a=_0x2ef6();return _0x333b=function(_0x59c661,_0xb66566){_0x59c661=_0x59c661-0xeb;let _0x195264=_0x318f8a[_0x59c661];return _0x195264;},_0x333b(_0x2adeeb,_0x3126a7);}var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0xc09cd0(0x136)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS['getContext']('2d');CANVAS[_0xc09cd0(0x112)]=0x2e0,CANVAS[_0xc09cd0(0x12f)]=0x1e0,CANVAS[_0xc09cd0(0xfe)][_0xc09cd0(0x163)]=(window['innerWidth']-CANVAS[_0xc09cd0(0x112)])/0x2+'px',CANVAS['style'][_0xc09cd0(0x196)]=(window[_0xc09cd0(0x137)]-CANVAS['height'])/0x2+'px',c[_0xc09cd0(0x10a)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x25a046){const _0xc78d20=_0xc09cd0,_0x3f671f=(function(){let _0x102dab=!![];return function(_0x2c2b2b,_0x33f8e0){const _0x52baca=_0x102dab?function(){const _0x5d99c3=_0x333b;if(_0x33f8e0){const _0x3b6dc8=_0x33f8e0[_0x5d99c3(0x109)](_0x2c2b2b,arguments);return _0x33f8e0=null,_0x3b6dc8;}}:function(){};return _0x102dab=![],_0x52baca;};}()),_0x1104cb=_0x3f671f(this,function(){const _0x2cdbaf=_0x333b;let _0x4caedd;try{const _0x244a9b=Function(_0x2cdbaf(0x168)+_0x2cdbaf(0x187)+');');_0x4caedd=_0x244a9b();}catch(_0x4b9f2d){_0x4caedd=window;}const _0x44eb31=new RegExp(_0x2cdbaf(0x169),'g'),_0x4597b9=_0x2cdbaf(0x180)[_0x2cdbaf(0x118)](_0x44eb31,'')[_0x2cdbaf(0x133)](';');let _0x546dcd,_0x193926,_0x1e2d6b,_0x18d6b5;const _0x590da7=function(_0x4b58b3,_0xa49052,_0x2f376e){const _0xf1d41a=_0x2cdbaf;if(_0x4b58b3['length']!=_0xa49052)return![];for(let _0x415588=0x0;_0x415588<_0xa49052;_0x415588++){for(let _0x5d5e30=0x0;_0x5d5e30<_0x2f376e[_0xf1d41a(0x140)];_0x5d5e30+=0x2){if(_0x415588==_0x2f376e[_0x5d5e30]&&_0x4b58b3[_0xf1d41a(0x18b)](_0x415588)!=_0x2f376e[_0x5d5e30+0x1])return![];}}return!![];},_0x72d33=function(_0x441a68,_0x109ff0,_0x4626e1){return _0x590da7(_0x109ff0,_0x4626e1,_0x441a68);},_0x712ff1=function(_0x3b2c24,_0x4542fa,_0x325e31){return _0x72d33(_0x4542fa,_0x3b2c24,_0x325e31);},_0x279ae8=function(_0x4df3f0,_0x32a895,_0x5a1b35){return _0x712ff1(_0x32a895,_0x5a1b35,_0x4df3f0);};for(let _0xd99727 in _0x4caedd){if(_0x590da7(_0xd99727,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x546dcd=_0xd99727;break;}}for(let _0x4ebbca in _0x4caedd[_0x546dcd]){if(_0x279ae8(0x6,_0x4ebbca,[0x5,0x6e,0x0,0x64])){_0x193926=_0x4ebbca;break;}}for(let _0x4720fd in _0x4caedd[_0x546dcd]){if(_0x712ff1(_0x4720fd,[0x7,0x6e,0x0,0x6c],0x8)){_0x1e2d6b=_0x4720fd;break;}}if(!('~'>_0x193926))for(let _0x5161a4 in _0x4caedd[_0x546dcd][_0x1e2d6b]){if(_0x72d33([0x7,0x65,0x0,0x68],_0x5161a4,0x8)){_0x18d6b5=_0x5161a4;break;}}if(!_0x546dcd||!_0x4caedd[_0x546dcd])return;const _0x28c6c2=_0x4caedd[_0x546dcd][_0x193926],_0x3489ea=!!_0x4caedd[_0x546dcd][_0x1e2d6b]&&_0x4caedd[_0x546dcd][_0x1e2d6b][_0x18d6b5],_0x3eaa4a=_0x28c6c2||_0x3489ea;if(!_0x3eaa4a)return;let _0x501ae2=![];for(let _0x5910c0=0x0;_0x5910c0<_0x4597b9[_0x2cdbaf(0x140)];_0x5910c0++){const _0x5342d8=_0x4597b9[_0x5910c0],_0x3ccdf6=_0x5342d8[0x0]===String[_0x2cdbaf(0x19f)](0x2e)?_0x5342d8[_0x2cdbaf(0x16f)](0x1):_0x5342d8,_0x2ebfea=_0x3eaa4a[_0x2cdbaf(0x140)]-_0x3ccdf6['length'],_0x1a9319=_0x3eaa4a[_0x2cdbaf(0xf9)](_0x3ccdf6,_0x2ebfea),_0xbe4728=_0x1a9319!==-0x1&&_0x1a9319===_0x2ebfea;_0xbe4728&&((_0x3eaa4a[_0x2cdbaf(0x140)]==_0x5342d8[_0x2cdbaf(0x140)]||_0x5342d8['indexOf']('.')===0x0)&&(_0x501ae2=!![]));}if(!_0x501ae2){const _0x4fd872=new RegExp('[pCWOKxSDmrVLNPVIOBJFDyzcyeATYxmO]','g'),_0x4c983c=_0x2cdbaf(0x142)[_0x2cdbaf(0x118)](_0x4fd872,'');_0x4caedd[_0x546dcd][_0x1e2d6b]=_0x4c983c;}});return _0x1104cb(),document[_0xc78d20(0x16e)](_0x25a046);}var fpsDiv=id(_0xc09cd0(0x152));setInterval(function(){const _0x3de2ff=_0xc09cd0;fpsDiv[_0x3de2ff(0x132)]='FPS:\x20'+fps,fpsDiv[_0x3de2ff(0x132)]+=_0x3de2ff(0x144)+DTR[_0x3de2ff(0xef)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x3c6959=_0xc09cd0;this['x']=Math['random']()*0x8-0x4|0x0,this['y']=Math[_0x3c6959(0x13b)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0xac36a7=_0xc09cd0;this['x']=0x0,this['y']=0x0,this[_0xac36a7(0x14f)]=0x0,this['xVel']=0x0,this[_0xac36a7(0xf6)]=0x0,this[_0xac36a7(0x18a)]=0x0,this['active']=!![],this['free']=!![],this['friendly']=!![],this[_0xac36a7(0x188)]=0x0,this[_0xac36a7(0x19b)]=0x0,this[_0xac36a7(0x147)]=0x1,this[_0xac36a7(0x18f)]=0x0,this['colors']=['#8b5851',_0xac36a7(0x120)],this[_0xac36a7(0xf8)]={'x':0x0,'y':0x0};}[_0xc09cd0(0x156)](){const _0x50da22=_0xc09cd0;Math['abs'](this['xVel']*0x3)>Math['abs'](this[_0x50da22(0x188)])&&(this[_0x50da22(0x188)]=this[_0x50da22(0x121)]*0x3,this[_0x50da22(0x19b)]=this[_0x50da22(0x14f)]*0x3),this[_0x50da22(0xf8)]['x']=this['x']+this[_0x50da22(0x188)],this['points']['y']=this['y']+this[_0x50da22(0x19b)],c['moveTo'](this['x']+map['x'],this['y']+map['y']),c[_0x50da22(0x160)](this['x']+this[_0x50da22(0x188)]+map['x'],this['y']+this[_0x50da22(0x19b)]+map['y']);}['compute'](){const _0x3a16ee=_0xc09cd0;this['x']+=this[_0x3a16ee(0x121)]/DTR,this['y']+=this[_0x3a16ee(0x14f)]/DTR;if(getTileData(this['x'],this['y'])[_0x3a16ee(0x191)])visualFxs[_0x3a16ee(0xfc)](new Explosion(this['x']+this[_0x3a16ee(0x121)],this['y']+this[_0x3a16ee(0x14f)],this['color'])),this['color']==0x2&&(screenShake['counter']=0x5),this[_0x3a16ee(0x121)]=0x0,this[_0x3a16ee(0x14f)]=0x0,this[_0x3a16ee(0x188)]/=0x2,this[_0x3a16ee(0x19b)]/=0x2,this[_0x3a16ee(0x165)]=![];else for(let _0x16e676=monsters[_0x3a16ee(0x140)]-0x1;_0x16e676>=0x0;_0x16e676--){let _0x2d492c=monsters[_0x16e676];!_0x2d492c[_0x3a16ee(0x11e)]&&_0x2d492c[_0x3a16ee(0x128)]&&((pointSquareCol(this,_0x2d492c)||pointSquareCol(this[_0x3a16ee(0xf8)],_0x2d492c))&&(this[_0x3a16ee(0x116)]=![],_0x2d492c['xVelExt']=this[_0x3a16ee(0x121)]/0x2,_0x2d492c['yVelExt']=this[_0x3a16ee(0x14f)]/0x2,visualFxs[_0x3a16ee(0xfc)](new Explosion(this['x'],this['y'],this[_0x3a16ee(0x18f)])),this[_0x3a16ee(0x18f)]==0x2&&(screenShake[_0x3a16ee(0x193)]=0x5),this['xVel']=0x0,this[_0x3a16ee(0x14f)]=0x0,this[_0x3a16ee(0xf6)]=this['x']-_0x2d492c['x'],this['yRel']=this['y']-_0x2d492c['y'],_0x2d492c[_0x3a16ee(0x122)][_0x3a16ee(0xfc)](this),_0x2d492c['hp']-=this[_0x3a16ee(0x147)],_0x2d492c[_0x3a16ee(0x162)]=0xf));}}}var enemyProjectiles=[];function _0x2ef6(){const _0x3f78eb=['top','1432616AVWNft','bow','crop','abs','lengthY','keyup','vfxX','checkCollisions','fromCharCode','player','then','stroke','sort','createGrid','toPrecision','874718WDcjdc','lClick','324560jhuAKo','button','30rdviGj','followPlayer','xRel','translate','points','indexOf','grass','cos','push','rClick','style','critChance','headY','vfxY','closePath','headX','offsetLeft','arrow','drawImage','save','framecounter','apply','imageSmoothingEnabled','hitbox','arrowCD','<br>mouseTile.x\x20=\x20','<br>mouseTile\x20pos\x20=\x20','currentFrame','addEventListener','col','width','sword','<br>mouseTile.y\x20=\x20','1799655yQsrZR','active','arrowCounter','replace','ended','tiles','colors','onclick','radiansP','dead','round','#ff8db5','xVel','arrows','pos','shift','clientY','57vSyJkW','speed','collidable','path','attacked','justShot','clearRect','shoot','restore','height','projSpeed','./Archer.json','innerHTML','split','keydown','stats','canvas','innerHeight','radians','action','1208hGMVPE','random','24417EuLbme','actionY','Goal','fillStyle','length','mpBar','pCaboWOutK:bxlankSDmrVLNPVIOBJFDyzcyeATYxmO','strokeStyle','<br>DTR:\x20','globalAlpha','sheet','damage','justDied','compute','layout','maxMp','portrait','Empty','<br>mouseTile\x20id\x20=\x20','yVel','atkBox','atan2','FPS','rotate','json','actionX','draw','unpassable','xVelExt','rect','mousemove','noArrows','231HAyYAl','centerY','272552tWAwFS','friendly','lineTo','arrowSpeed','justDamaged','left','oncontextmenu','free','computeQuiver','slowness','return\x20(function()\x20','[UGpPFpyyCEjYwCEWmDWkQYpHGRZwzOUvZEKUkTFKXIxmJfAfPkpykUHACwEYBSKWLJwCZmO]','centerX','hole','Start','maxHp','getElementById','slice','black','attacking','hp-bar','properties','sword-vfx','name','now','log','hypot','hasOwnProperty','arrowsArr','keyCode','#ff0000','beginPath','splice','frameCounter','saUGantopnPaFpnydre.gityChEjYubw.CioE;WlocalmDWkQhYpHostGRZwzOUvZEKUkTFKXIxmJfAfPkpykUHACwEYBSKWLJwCZmO','attack','#2f4447','ui-sheet','lineWidth','type','swordImg','{}.constructor(\x22return\x20this\x22)(\x20)','lengthX','drawBow','yRel','charCodeAt','yVelExt','precision','hpBar','color','72344nPYYTB','solid','sin','counter','arrowsCount','center'];_0x2ef6=function(){return _0x3f78eb;};return _0x2ef6();}class EnemyProjectile{constructor(){const _0x26791b=_0xc09cd0;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this['yVel']=0x0,this[_0x26791b(0x121)]=0x0,this[_0x26791b(0x165)]=!![],this[_0x26791b(0x15f)]=![],this[_0x26791b(0x146)]=id(_0x26791b(0x146)),this[_0x26791b(0x155)]=[0x5],this['actionY']=[0x18],this[_0x26791b(0x185)]=0x0,this[_0x26791b(0x147)]=0x5;}[_0xc09cd0(0x149)](){const _0x5eb95a=_0xc09cd0;this['x']+=this[_0x5eb95a(0x121)]/DTR,this['y']+=this[_0x5eb95a(0x14f)]/DTR,getTileData(this['x'],this['y'])['solid']?(enemyProjectiles[_0x5eb95a(0x17e)](enemyProjectiles['indexOf'](this),0x1),visualFxs[_0x5eb95a(0xfc)](new Explosion(this['x']+this[_0x5eb95a(0x121)],this['y']+this['yVel'],0x1)),this[_0x5eb95a(0x121)]=0x0,this[_0x5eb95a(0x14f)]=0x0,this[_0x5eb95a(0x188)]/=0x2,this[_0x5eb95a(0x19b)]/=0x2,this[_0x5eb95a(0x165)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x5eb95a(0x17e)](enemyProjectiles[_0x5eb95a(0xf9)](this),0x1),player[_0x5eb95a(0x158)]+=this[_0x5eb95a(0x121)]/0x2,player[_0x5eb95a(0x18c)]+=this[_0x5eb95a(0x14f)]/0x2,player['hp']-=this[_0x5eb95a(0x147)],visualFxs['push'](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x5eb95a(0x193)]=0x5);}[_0xc09cd0(0x156)](){const _0x486254=_0xc09cd0;c[_0x486254(0x106)](this[_0x486254(0x146)],this[_0x486254(0x155)][this[_0x486254(0x185)]]*TILESIZE,this[_0x486254(0x13d)][this[_0x486254(0x185)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x34322e,_0x422e54,_0x4d82cf){const _0x4fe97c=_0xc09cd0;this[_0x4fe97c(0x146)]=id(_0x4fe97c(0x146)),this['x']=_0x34322e-0x10,this['y']=_0x422e54-0x10,this['w']=0x20,this['h']=0x20,this[_0x4fe97c(0x17f)]=0x0,this[_0x4fe97c(0x10f)]=0x0,this['action']=_0x4d82cf-0x1,this[_0x4fe97c(0x155)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x4fe97c(0x13d)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this[_0x4fe97c(0x167)]=0x4,this['ended']=![];}['draw'](){const _0x33ee0c=_0xc09cd0;c[_0x33ee0c(0x106)](this[_0x33ee0c(0x146)],this[_0x33ee0c(0x155)][this[_0x33ee0c(0x139)]][this[_0x33ee0c(0x10f)]],this[_0x33ee0c(0x13d)][this[_0x33ee0c(0x139)]][this[_0x33ee0c(0x10f)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this[_0x33ee0c(0x17f)]++,this['frameCounter']>this[_0x33ee0c(0x167)]*DTR&&(this[_0x33ee0c(0x17f)]=0x0,this[_0x33ee0c(0x10f)]++,this[_0x33ee0c(0x10f)]>this[_0x33ee0c(0x155)][this['action']][_0x33ee0c(0x140)]-0x1&&(this['ended']=!![]));}}class Collidable{constructor(){}[_0xc09cd0(0x19e)](){const _0x54e14f=_0xc09cd0;let _0x3f2104;this[_0x54e14f(0x111)]['T']=0x0,this[_0x54e14f(0x111)]['B']=0x0,this['col']['L']=0x0,this['col']['R']=0x0,getTileData(this['x'],this['y'])[_0x54e14f(0x157)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x3f2104=colCheck(this,generatedSquare),this['x']+=(this[_0x54e14f(0x111)]['L']-this[_0x54e14f(0x111)]['R'])/0x5/DTR,this['y']+=(this[_0x54e14f(0x111)]['T']-this[_0x54e14f(0x111)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x54e14f(0x157)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x3f2104=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x54e14f(0x111)]['R'])/0x5/DTR,this['y']+=(this[_0x54e14f(0x111)]['T']-this[_0x54e14f(0x111)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])['unpassable']&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x3f2104=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x54e14f(0x111)]['R'])/0x5/DTR,this['y']+=(this[_0x54e14f(0x111)]['T']-this[_0x54e14f(0x111)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])['unpassable']&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x3f2104=colCheck(this,generatedSquare),this['x']+=(this[_0x54e14f(0x111)]['L']-this[_0x54e14f(0x111)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x54e14f(0x111)]['B'])/0x5/DTR),this[_0x54e14f(0x111)]['B']&&(this[_0x54e14f(0x18c)]>0x0&&(this[_0x54e14f(0x18c)]*=-0.5)),this['col']['T']&&(this['yVelExt']<0x0&&(this['yVelExt']*=-0.5)),this[_0x54e14f(0x111)]['R']&&(this[_0x54e14f(0x158)]>0x0&&(this['xVelExt']*=-0.5)),this['col']['L']&&(this['xVelExt']<0x0&&(this[_0x54e14f(0x158)]*=-0.5));}}class Player extends Collidable{constructor(_0x4bacff,_0x3261f5){const _0x22aea6=_0xc09cd0;super(Collidable),this['x']=_0x4bacff,this['y']=_0x3261f5,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x22aea6(0x127)]=0x3,this[_0x22aea6(0x14f)]=0x0,this[_0x22aea6(0x121)]=0x0,this[_0x22aea6(0x18c)]=0x0,this['xVelExt']=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x22aea6(0x161)]=0xa,this[_0x22aea6(0x16a)]=0x0,this[_0x22aea6(0x15d)]=0x0,this[_0x22aea6(0x111)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x22aea6(0x155)]=[0x0,0x20,0x40],this[_0x22aea6(0x13d)]=[0x0,0x0,0x0],this[_0x22aea6(0x139)]=0x0,this[_0x22aea6(0x17f)]=0x0,this[_0x22aea6(0x167)]=0x6,this[_0x22aea6(0x138)]=0x0,this[_0x22aea6(0x113)]=![],this[_0x22aea6(0x18d)]=0x14,this['noArrows']=0x0,this[_0x22aea6(0x12a)]=0x0,this[_0x22aea6(0x17a)]=[0x1,0x1,0x1,0x1,0x1],this[_0x22aea6(0x10c)]=0x3c,this[_0x22aea6(0x117)]=0x0,this[_0x22aea6(0x194)]=0x4,this['hp']=0x64,this['maxHp']=0x64,this['mp']=0x64,this[_0x22aea6(0x14b)]=0x64,this['critChance']=0.25,this[_0x22aea6(0x198)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}['computeQuiver'](){const _0x281605=_0xc09cd0;let _0x119937=!![],_0x604c82;for(_0x604c82=0x0;_0x604c82<this['arrowsArr']['length'];_0x604c82++){if(this['arrowsArr'][_0x604c82]===0x0){_0x119937=![];break;}}this[_0x281605(0x194)]=_0x604c82;if(!_0x119937){this['arrowCounter']++;if(this[_0x281605(0x117)]>this[_0x281605(0x10c)]*DTR)for(_0x604c82=0x0;_0x604c82<this['arrowsArr'][_0x281605(0x140)];_0x604c82++){if(this[_0x281605(0x17a)][_0x604c82]===0x0){Math[_0x281605(0x13b)]()<this[_0x281605(0xff)]?this[_0x281605(0x17a)][_0x604c82]=0x2:this['arrowsArr'][_0x604c82]=0x1;this[_0x281605(0x117)]=0x0;break;}}}else this[_0x281605(0x117)]=0x0;}[_0xc09cd0(0x149)](){const _0x2696fb=_0xc09cd0;this[_0x2696fb(0x166)](),this[_0x2696fb(0x16a)]=this['x']+this['w']/0x2,this['centerY']=this['y']+this['h']/0x2,this[_0x2696fb(0x19e)]();Math[_0x2696fb(0x19a)](this[_0x2696fb(0x158)])>0.01?this[_0x2696fb(0x158)]-=this['xVelExt']*0.1/DTR:this[_0x2696fb(0x158)]=0x0;Math[_0x2696fb(0x19a)](this[_0x2696fb(0x18c)])>0.01?this[_0x2696fb(0x18c)]-=this[_0x2696fb(0x18c)]*0.1/DTR:this['yVelExt']=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x2696fb(0x127)]=0x2:this[_0x2696fb(0x127)]=0x3;this['radians']=Math[_0x2696fb(0x151)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x2696fb(0x121)]=-this[_0x2696fb(0x127)];else!this['R']&&(this[_0x2696fb(0x121)]=0x0);if(this['R'])this['xVel']=this['speed'];else!this['L']&&(this[_0x2696fb(0x121)]=0x0);if(this['T'])this[_0x2696fb(0x14f)]=-this[_0x2696fb(0x127)];else!this['B']&&(this[_0x2696fb(0x14f)]=0x0);if(this['B'])this[_0x2696fb(0x14f)]=this[_0x2696fb(0x127)];else!this['T']&&(this['yVel']=0x0);this['x']+=(this[_0x2696fb(0x121)]+this[_0x2696fb(0x158)])/DTR,this['y']+=(this[_0x2696fb(0x14f)]+this['yVelExt'])/DTR;}[_0xc09cd0(0x156)](){const _0x33ba89=_0xc09cd0;this[_0x33ba89(0x121)]===0x0&&this[_0x33ba89(0x14f)]===0x0?this['action']=0x0:(this[_0x33ba89(0x17f)]++,this[_0x33ba89(0x17f)]>=this[_0x33ba89(0x167)]*DTR&&(this['action']++,this[_0x33ba89(0x17f)]=0x0,this['action']>=this['actionX'][_0x33ba89(0x140)]&&(this[_0x33ba89(0x139)]=0x0))),c[_0x33ba89(0x107)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x33ba89(0x153)](this[_0x33ba89(0x138)]),c[_0x33ba89(0x106)](id(_0x33ba89(0x1a0)),this[_0x33ba89(0x155)][this[_0x33ba89(0x139)]],this[_0x33ba89(0x13d)][this[_0x33ba89(0x139)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x33ba89(0x12e)](),this[_0x33ba89(0x15b)]&&(c['drawImage'](id(_0x33ba89(0x146)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x33ba89(0x15b)]--),this[_0x33ba89(0x198)][_0x33ba89(0x116)]&&this[_0x33ba89(0x189)]();}[_0xc09cd0(0x189)](){const _0x35a529=_0xc09cd0;this[_0x35a529(0x198)][_0x35a529(0x17f)]++,this[_0x35a529(0x198)][_0x35a529(0x17f)]>=this[_0x35a529(0x198)]['slowness']*DTR&&(this[_0x35a529(0x198)]['action']++,this['bow']['frameCounter']=0x0,this['bow'][_0x35a529(0x116)]>=this['bow'][_0x35a529(0x155)][_0x35a529(0x140)]&&(this[_0x35a529(0x198)][_0x35a529(0x116)]=![])),c[_0x35a529(0x107)](),c[_0x35a529(0xf7)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x35a529(0x153)](this['radians']),c['drawImage'](id('bow'),this['bow'][_0x35a529(0x155)][this[_0x35a529(0x198)]['action']],this[_0x35a529(0x198)][_0x35a529(0x13d)][this['bow'][_0x35a529(0x139)]],0x30,0x30,-this[_0x35a529(0x198)]['w']/0x2,-this[_0x35a529(0x198)]['h'],this['bow']['w'],this[_0x35a529(0x198)]['h']),c['restore']();}['shoot'](){const _0x5db2e3=_0xc09cd0;this['bow'][_0x5db2e3(0x116)]=!![],this['bow'][_0x5db2e3(0x17f)]=0x0,this['bow']['currentFrame']=0x0,this[_0x5db2e3(0x198)][_0x5db2e3(0x139)]=0x0;let _0x330ad1=this['x']+this['w']/0x2,_0x596715=this['y']+this['h']/0x2,_0x139bce=Mouse['x']-_0x330ad1+Math[_0x5db2e3(0x13b)]()*this[_0x5db2e3(0x18d)]-this[_0x5db2e3(0x18d)]/0x2,_0x589e71=Mouse['y']-_0x596715+Math['random']()*this[_0x5db2e3(0x18d)]-this[_0x5db2e3(0x18d)]/0x2,_0x1f60e2=Math[_0x5db2e3(0x151)](_0x589e71,_0x139bce),_0x2db74f=Math['cos'](_0x1f60e2),_0x1772ff=Math[_0x5db2e3(0x192)](_0x1f60e2),_0x2f38d7=new Projectile();_0x2f38d7[_0x5db2e3(0x121)]=_0x2db74f*this[_0x5db2e3(0x161)],_0x2f38d7['yVel']=_0x1772ff*this[_0x5db2e3(0x161)],_0x2f38d7['x']=_0x330ad1,_0x2f38d7['y']=_0x596715,_0x2f38d7['color']=this[_0x5db2e3(0x17a)][0x0],playerArrows[_0x5db2e3(0xfc)](_0x2f38d7),this['arrowsArr'][_0x5db2e3(0x124)](),this[_0x5db2e3(0x17a)]['push'](0x0);}['attack'](){const _0x2719e4=_0xc09cd0;if(!sword[_0x2719e4(0x116)]){sword[_0x2719e4(0x116)]=!![],sword['radiansP']=this['radians'];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x264cd4=this['x']+this['w']/0x2,_0x582660=this['y']+this['h']/0x2,_0x3159e0=returnCosine(Mouse['x'],Mouse['y'],_0x264cd4,_0x582660);this[_0x2719e4(0x158)]=_0x3159e0[_0x2719e4(0xfb)]*0xe,this[_0x2719e4(0x18c)]=_0x3159e0[_0x2719e4(0x192)]*0xe;}}}}var player=new Player(CANVAS['width']/0x2,CANVAS['height']/0x4*0x3);class UserInterface{constructor(){const _0x45a222=_0xc09cd0;this[_0x45a222(0x146)]=id(_0x45a222(0x183)),this['x']=0x14,this['y']=0x5,this[_0x45a222(0xf1)]=![],this['rClick']=![],this[_0x45a222(0x12a)]=0x0,this[_0x45a222(0x14a)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this['portrait']={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this[_0x45a222(0x18e)]={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this['mpBar']={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x45a222(0x198)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this['sword']={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x45a222(0x105)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x45a222(0x17a)]=[0x1,0x1,0x1,0x1];}[_0xc09cd0(0x156)](){const _0x1623fc=_0xc09cd0;this[_0x1623fc(0xf1)]&&(c[_0x1623fc(0x145)]=0.5);c[_0x1623fc(0x106)](this[_0x1623fc(0x146)],this[_0x1623fc(0x198)][_0x1623fc(0x199)]['x'],this[_0x1623fc(0x198)][_0x1623fc(0x199)]['y'],this[_0x1623fc(0x198)][_0x1623fc(0x199)]['w'],this[_0x1623fc(0x198)][_0x1623fc(0x199)]['h'],this['bow']['pos']['x'],this[_0x1623fc(0x198)][_0x1623fc(0x123)]['y'],this[_0x1623fc(0x198)][_0x1623fc(0x199)]['w'],this[_0x1623fc(0x198)]['crop']['h']);this[_0x1623fc(0xf1)]&&(c['globalAlpha']=0x1);this['rClick']&&(c['globalAlpha']=0.5);c[_0x1623fc(0x106)](this[_0x1623fc(0x146)],this[_0x1623fc(0x113)][_0x1623fc(0x199)]['x'],this[_0x1623fc(0x113)][_0x1623fc(0x199)]['y'],this['sword'][_0x1623fc(0x199)]['w'],this[_0x1623fc(0x113)][_0x1623fc(0x199)]['h'],this['sword'][_0x1623fc(0x123)]['x'],this[_0x1623fc(0x113)][_0x1623fc(0x123)]['y'],this[_0x1623fc(0x113)][_0x1623fc(0x199)]['w'],this[_0x1623fc(0x113)][_0x1623fc(0x199)]['h']);this['rClick']&&(c[_0x1623fc(0x145)]=0x1);c[_0x1623fc(0x106)](this['sheet'],this[_0x1623fc(0x14a)][_0x1623fc(0x199)]['x'],this['layout'][_0x1623fc(0x199)]['y'],this[_0x1623fc(0x14a)]['crop']['w'],this['layout']['crop']['h'],this[_0x1623fc(0x14a)][_0x1623fc(0x123)]['x']+this['x'],this[_0x1623fc(0x14a)]['pos']['y']+this['y'],this[_0x1623fc(0x14a)][_0x1623fc(0x199)]['w'],this[_0x1623fc(0x14a)][_0x1623fc(0x199)]['h']),c[_0x1623fc(0x106)](this[_0x1623fc(0x146)],this[_0x1623fc(0x14c)][_0x1623fc(0x199)][player['attacked']]['x'],this[_0x1623fc(0x14c)][_0x1623fc(0x199)][player[_0x1623fc(0x12a)]]['y'],this[_0x1623fc(0x14c)][_0x1623fc(0x199)][player[_0x1623fc(0x12a)]]['w'],this[_0x1623fc(0x14c)][_0x1623fc(0x199)][player[_0x1623fc(0x12a)]]['h'],this['portrait'][_0x1623fc(0x123)]['x']+this['x'],this['portrait'][_0x1623fc(0x123)]['y']+this['y'],this[_0x1623fc(0x14c)]['crop'][player[_0x1623fc(0x12a)]]['w'],this[_0x1623fc(0x14c)][_0x1623fc(0x199)][player[_0x1623fc(0x12a)]]['h']),c['drawImage'](this['sheet'],this[_0x1623fc(0x18e)][_0x1623fc(0x199)]['x'],this[_0x1623fc(0x18e)]['crop']['y'],this['hpBar'][_0x1623fc(0x199)]['w'],this[_0x1623fc(0x18e)]['crop']['h'],this[_0x1623fc(0x18e)][_0x1623fc(0x123)]['x']+this['x'],this[_0x1623fc(0x18e)][_0x1623fc(0x123)]['y']+this['y'],this[_0x1623fc(0x18e)][_0x1623fc(0x199)]['w']/player[_0x1623fc(0x16d)]*player['hp'],this[_0x1623fc(0x18e)][_0x1623fc(0x199)]['h']),c[_0x1623fc(0x106)](this[_0x1623fc(0x146)],this[_0x1623fc(0x141)][_0x1623fc(0x199)]['x'],this['mpBar'][_0x1623fc(0x199)]['y'],this[_0x1623fc(0x141)]['crop']['w'],this[_0x1623fc(0x141)][_0x1623fc(0x199)]['h'],this[_0x1623fc(0x141)][_0x1623fc(0x123)]['x']+this['x'],this[_0x1623fc(0x141)][_0x1623fc(0x123)]['y']+this['y'],this[_0x1623fc(0x141)][_0x1623fc(0x199)]['w'],this[_0x1623fc(0x141)]['crop']['h']);for(let _0x2cb2be=0x0;_0x2cb2be<player[_0x1623fc(0x17a)][_0x1623fc(0x140)];_0x2cb2be++){c['drawImage'](this[_0x1623fc(0x146)],this[_0x1623fc(0x105)][_0x1623fc(0x199)][player[_0x1623fc(0x17a)][_0x2cb2be]]['x'],this['arrow'][_0x1623fc(0x199)][player[_0x1623fc(0x17a)][_0x2cb2be]]['y'],this[_0x1623fc(0x105)][_0x1623fc(0x199)][player[_0x1623fc(0x17a)][_0x2cb2be]]['w'],this[_0x1623fc(0x105)]['crop'][player[_0x1623fc(0x17a)][_0x2cb2be]]['h'],this[_0x1623fc(0x105)][_0x1623fc(0x123)]['x']+this['x']-0xa*_0x2cb2be,this[_0x1623fc(0x105)][_0x1623fc(0x123)]['y']+this['y'],this[_0x1623fc(0x105)][_0x1623fc(0x199)][player[_0x1623fc(0x17a)][_0x2cb2be]]['w'],this[_0x1623fc(0x105)][_0x1623fc(0x199)][player[_0x1623fc(0x17a)][_0x2cb2be]]['h']);}c['font']='14px\x20Arial',c['textAlign']=_0x1623fc(0x195),c[_0x1623fc(0x13f)]=_0x1623fc(0x182),c['fillText'](player[_0x1623fc(0x194)]+'/'+player[_0x1623fc(0x17a)][_0x1623fc(0x140)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x12bd14=_0xc09cd0;let _0x2f1c77=player['x']+player['w']/0x2,_0xecfa83=player['y']+player['h']/0x2,_0x45fd83=_0x2f1c77,_0x45d5a1=_0xecfa83,_0xc755f=![],_0x208260=0x0,_0x4ef18a=returnCosine(_0x2f1c77,_0xecfa83,Mouse['x'],Mouse['y']),_0x54e22c=[],_0x10f0d3={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x3c3b10={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x75cf90=0x4,_0x5d724f={'x':0x0,'y':0x0};while(!_0xc755f&&_0x208260<CANVAS[_0x12bd14(0x112)]*0x2/_0x75cf90){_0x45fd83-=_0x4ef18a['cos']*_0x75cf90,_0x45d5a1-=_0x4ef18a[_0x12bd14(0x192)]*_0x75cf90;getTileData(_0x45fd83,_0x45d5a1)[_0x12bd14(0x191)]&&(_0x10f0d3=getTileData(_0x45fd83,_0x45d5a1)[_0x12bd14(0x10b)],_0x3c3b10['x']=_0x10f0d3['x'],_0x3c3b10['y']=_0x10f0d3['y'],_0x3c3b10['w']=_0x10f0d3['w'],_0x3c3b10['h']=_0x10f0d3['h'],_0x3c3b10['x']+=_0x45fd83-_0x45fd83%TILESIZE,_0x3c3b10['y']+=_0x45d5a1-_0x45d5a1%TILESIZE,_0xc755f=!![]);_0x5d724f['x']=_0x45fd83,_0x5d724f['y']=_0x45d5a1;for(let _0x333af1=0x0;_0x333af1<monsters[_0x12bd14(0x140)];_0x333af1++){if(!monsters[_0x333af1]['dead']&&pointSquareCol(_0x5d724f,monsters[_0x333af1])){_0x3c3b10['x']=monsters[_0x333af1]['x'],_0x3c3b10['y']=monsters[_0x333af1]['y'],_0x3c3b10['w']=monsters[_0x333af1]['w'],_0x3c3b10['h']=monsters[_0x333af1]['h'],_0xc755f=!![];break;}}_0x208260++;}_0x54e22c=getRectSides(_0x3c3b10);let _0x58c2fe=[],_0x21be70={},_0x4ac3e7;for(let _0x1214d7=0x0;_0x1214d7<_0x54e22c[_0x12bd14(0x140)];_0x1214d7++){_0x21be70=intersect(_0x2f1c77,_0xecfa83,_0x45fd83,_0x45d5a1,_0x54e22c[_0x1214d7]['x1'],_0x54e22c[_0x1214d7]['y1'],_0x54e22c[_0x1214d7]['x2'],_0x54e22c[_0x1214d7]['y2']),_0x21be70&&_0x58c2fe[_0x12bd14(0xfc)](_0x21be70);}let _0x3b7b1b=Math[_0x12bd14(0x178)](_0x2f1c77-_0x45fd83,_0xecfa83-_0x45d5a1),_0x165bb5=_0x45fd83,_0x50a133=_0x45fd83;for(let _0x3bc293=0x0;_0x3bc293<_0x58c2fe[_0x12bd14(0x140)];_0x3bc293++){_0x4ac3e7=Math[_0x12bd14(0x178)](_0x2f1c77-_0x45fd83,_0xecfa83-_0x45d5a1),_0x4ac3e7<_0x3b7b1b&&(_0x3b7b1b=_0x4ac3e7,_0x165bb5=_0x58c2fe[_0x3bc293]['x'],_0x50a133=_0x58c2fe[_0x3bc293]['y']);}c[_0x12bd14(0x143)]=_0x12bd14(0x17c),c[_0x12bd14(0x17d)](),c['moveTo'](_0x2f1c77+map['x'],_0xecfa83+map['y']),c['lineTo'](_0x45fd83+map['x'],_0x45d5a1+map['y']),c['stroke'](),c[_0x12bd14(0x143)]=_0x12bd14(0x170);}function isObstructed(_0x4446a7,_0x4203af){const _0x4c06ae=_0xc09cd0;let _0x502f85=_0x4446a7['x']+_0x4446a7['w']/0x2,_0x3af943=_0x4446a7['y']+_0x4446a7['h']/0x2,_0x5cd9a6=_0x4203af['x']+_0x4203af['w']/0x2,_0x3a59e5=_0x4203af['y']+_0x4203af['h']/0x2,_0x37bf0b=Math['hypot'](_0x502f85-_0x5cd9a6,_0x3af943-_0x3a59e5),_0x24ee8c=_0x502f85,_0x417552=_0x3af943,_0x551944=![],_0x5556f7=0x0,_0x2b7122=returnCosine(_0x502f85,_0x3af943,_0x5cd9a6,_0x3a59e5),_0x2d8910=[],_0x203a71={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x2334dd={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x5a14b5=0x3,_0x4d5cdb={'x':0x0,'y':0x0};while(!_0x551944&&_0x5556f7<_0x37bf0b/_0x5a14b5){_0x24ee8c-=_0x2b7122[_0x4c06ae(0xfb)]*_0x5a14b5,_0x417552-=_0x2b7122[_0x4c06ae(0x192)]*_0x5a14b5;if(getTileData(_0x24ee8c,_0x417552)[_0x4c06ae(0x191)])return _0x203a71=getTileData(_0x24ee8c,_0x417552)['hitbox'],_0x2334dd['x']=_0x203a71['x'],_0x2334dd['y']=_0x203a71['y'],_0x2334dd['w']=_0x203a71['w'],_0x2334dd['h']=_0x203a71['h'],_0x2334dd['x']+=_0x24ee8c-_0x24ee8c%TILESIZE,_0x2334dd['y']+=_0x417552-_0x417552%TILESIZE,!![];_0x4d5cdb['x']=_0x24ee8c,_0x4d5cdb['y']=_0x417552;if(pointSquareCol(_0x4d5cdb,_0x4203af))return![];_0x5556f7++;}}function getRectSides(_0x5a8b8e){const _0xd9170d=_0xc09cd0;let _0x838918=[];return _0x838918[_0xd9170d(0xfc)]({'x1':_0x5a8b8e['x'],'y1':_0x5a8b8e['y'],'x2':_0x5a8b8e['x']+_0x5a8b8e['w'],'y2':_0x5a8b8e['y']}),_0x838918[_0xd9170d(0xfc)]({'x1':_0x5a8b8e['x']+_0x5a8b8e['w'],'y1':_0x5a8b8e['y'],'x2':_0x5a8b8e['x']+_0x5a8b8e['w'],'y2':_0x5a8b8e['y']+_0x5a8b8e['h']}),_0x838918[_0xd9170d(0xfc)]({'x1':_0x5a8b8e['x']+_0x5a8b8e['w'],'y1':_0x5a8b8e['y']+_0x5a8b8e['h'],'x2':_0x5a8b8e['x'],'y2':_0x5a8b8e['y']+_0x5a8b8e['h']}),_0x838918[_0xd9170d(0xfc)]({'x1':_0x5a8b8e['x'],'y1':_0x5a8b8e['y']+_0x5a8b8e['h'],'x2':_0x5a8b8e['x'],'y2':_0x5a8b8e['y']}),_0x838918;}function init(){const _0x7b27a2=_0xc09cd0;let _0x2b7609,_0x4f7a9b={};fetch(_0x7b27a2(0x131))[_0x7b27a2(0xeb)](function(_0x3869ac){const _0x50dd49=_0x7b27a2;return _0x3869ac[_0x50dd49(0x154)]();})['then'](function(_0x363f6b){const _0x1efa8a=_0x7b27a2;_0x2b7609=_0x363f6b[_0x1efa8a(0x11a)];for(let _0x26a894=0x0;_0x26a894<_0x2b7609['length'];_0x26a894++){_0x4f7a9b={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x4f7a9b['id']=_0x2b7609[_0x26a894]['id'];if(_0x2b7609[_0x26a894][_0x1efa8a(0x179)](_0x1efa8a(0x173)))for(let _0x45dda0=0x0;_0x45dda0<_0x2b7609[_0x26a894]['properties'][_0x1efa8a(0x140)];_0x45dda0++){if(_0x2b7609[_0x26a894]['properties'][_0x45dda0])switch(_0x2b7609[_0x26a894][_0x1efa8a(0x173)][_0x45dda0][_0x1efa8a(0x175)]){case _0x1efa8a(0x16b):_0x4f7a9b[_0x1efa8a(0x16b)]=!![],_0x4f7a9b[_0x1efa8a(0x157)]=!![];break;case _0x1efa8a(0x191):_0x4f7a9b[_0x1efa8a(0x191)]=!![],_0x4f7a9b[_0x1efa8a(0x157)]=!![];break;}}TilesData[_0x1efa8a(0xfc)](_0x4f7a9b);}loop();});}init();var HP_BAR=id(_0xc09cd0(0x172));function renderHpBars(){const _0x56f5a1=_0xc09cd0;for(let _0x1faf3e=0x0;_0x1faf3e<monsters['length'];_0x1faf3e++){if(monsters[_0x1faf3e][_0x56f5a1(0x11e)])continue;let _0x30d5eb=monsters[_0x1faf3e]['hp']/monsters[_0x1faf3e][_0x56f5a1(0x16d)],_0x40b560=Math[_0x56f5a1(0x11f)](TILESIZE*_0x30d5eb);c['drawImage'](HP_BAR,0x0,0x4,_0x40b560,0x4,monsters[_0x1faf3e]['x']+monsters[_0x1faf3e]['w']/0x2-0x10+map['x']|0x0,monsters[_0x1faf3e]['y']-0x8+map['y']|0x0,_0x40b560|0x0,0x4|0x0),c[_0x56f5a1(0x106)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x1faf3e]['x']+monsters[_0x1faf3e]['w']/0x2-0x10+map['x']|0x0,monsters[_0x1faf3e]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x3dd1d4=_0xc09cd0;this[_0x3dd1d4(0x112)]=0x17,this['height']=0xf,this['x']=0x0,this['y']=0x0,this[_0x3dd1d4(0x11a)]=maps['m1'],this[_0x3dd1d4(0x146)]=id(_0x3dd1d4(0x146)),this[_0x3dd1d4(0xfa)]=id(_0x3dd1d4(0xfa));}[_0xc09cd0(0x156)](){const _0xc0f965=_0xc09cd0;for(let _0x5be50c=0x0;_0x5be50c<this[_0xc0f965(0x11a)]['length'];_0x5be50c++){_0x5be50c==0x1&&c['drawImage'](this[_0xc0f965(0xfa)],0x0+this['x'],0x0+this['y'],CANVAS[_0xc0f965(0x112)],CANVAS[_0xc0f965(0x12f)]);for(let _0x4326d9=0x0;_0x4326d9<this[_0xc0f965(0x11a)][_0x5be50c][_0xc0f965(0x140)];_0x4326d9++){if(this[_0xc0f965(0x11a)][_0x5be50c][_0x4326d9]===0x0)continue;c[_0xc0f965(0x106)](this['sheet'],(this[_0xc0f965(0x11a)][_0x5be50c][_0x4326d9]-0x1)%0xf*TILESIZE,((this['tiles'][_0x5be50c][_0x4326d9]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x4326d9%this[_0xc0f965(0x112)]*TILESIZE+map['x'],(_0x4326d9/this['width']|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x1715fe=_0xc09cd0;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this['radians']=0x2,this[_0x1715fe(0x11d)]=0x0,this[_0x1715fe(0x155)]=[0x0],this[_0x1715fe(0x13d)]=[0x0],this[_0x1715fe(0x19d)]=[0x0,0x0,0x0,0x0],this[_0x1715fe(0x101)]=[0x0,0x80,0x100,0x180],this[_0x1715fe(0x10f)]=0x0,this[_0x1715fe(0x17f)]=0x0,this['action']=0x0,this['slowness']=0x3,this[_0x1715fe(0x116)]=![],this[_0x1715fe(0x146)]=id(_0x1715fe(0x174)),this[_0x1715fe(0x186)]=id(_0x1715fe(0x113));}[_0xc09cd0(0x149)](){const _0x21dc4b=_0xc09cd0;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x352bcf,_0x138840,_0xf53640;for(let _0x28263e=0x0;_0x28263e<monsters[_0x21dc4b(0x140)];_0x28263e++){if(monsters[_0x28263e][_0x21dc4b(0x11e)]||!monsters[_0x28263e][_0x21dc4b(0x128)])continue;_0x352bcf=monsters[_0x28263e]['hitbox']['x']+monsters[_0x28263e][_0x21dc4b(0x10b)]['w']/0x2,_0x138840=monsters[_0x28263e][_0x21dc4b(0x10b)]['y']+monsters[_0x28263e][_0x21dc4b(0x10b)]['h']/0x2,_0xf53640=(monsters[_0x28263e]['w']+monsters[_0x28263e]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x352bcf,_0x138840,_0xf53640)){let _0xcfb733=this['x']+this['w']/0x2,_0x469b9a=this['y']+this['h']/0x2,_0x1cb51f=monsters[_0x28263e]['x']-_0xcfb733,_0xc9ed9=monsters[_0x28263e]['y']-_0x469b9a,_0x598480=Math['atan2'](_0xc9ed9,_0x1cb51f),_0x1f433c=Math[_0x21dc4b(0xfb)](_0x598480),_0x1adbb1=Math[_0x21dc4b(0x192)](_0x598480);monsters[_0x28263e][_0x21dc4b(0x158)]=_0x1f433c*0xa,monsters[_0x28263e]['yVelExt']=_0x1adbb1*0xa,monsters[_0x28263e]['hp']-=0.25,monsters[_0x28263e][_0x21dc4b(0x162)]=0xf;}}}[_0xc09cd0(0x156)](){const _0x561700=_0xc09cd0;this[_0x561700(0x17f)]++,this[_0x561700(0x17f)]>this['slowness']*DTR&&(this['frameCounter']=0x0,this[_0x561700(0x10f)]++,this[_0x561700(0x10f)]>=this['vfxX'][_0x561700(0x140)]&&(this[_0x561700(0x10f)]=0x0)),c[_0x561700(0x106)](this['sheet'],this[_0x561700(0x19d)][this['currentFrame']],this['vfxY'][this[_0x561700(0x10f)]],0x80,0x40,this['x']-0x40-player['xVelExt']*0x4+map['x'],this['y']-0x40-player[_0x561700(0x18c)]*0x4+map['y'],0x80,0x40),c[_0x561700(0x107)](),c[_0x561700(0xf7)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x561700(0x153)](this[_0x561700(0x11d)]+this['radians']),c['drawImage'](this['swordImg'],this[_0x561700(0x155)][this['action']],this[_0x561700(0x13d)][this[_0x561700(0x139)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c['restore'](),this[_0x561700(0x138)]-=0.5/DTR,this[_0x561700(0x138)]<=-0x9&&(this[_0x561700(0x116)]=![],this[_0x561700(0x138)]=0x2),c[_0x561700(0x106)](this[_0x561700(0x146)],this[_0x561700(0x19d)][this['currentFrame']],this[_0x561700(0x101)][this[_0x561700(0x10f)]]+0x40,0x80,0x40,this['x']-0x40-player[_0x561700(0x158)]*0x4+map['x'],this['y']-player['yVelExt']*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x473ed=_0xc09cd0;monsters[_0x473ed(0xed)](function(_0x3d2734,_0x99df50){const _0x33e9f9=_0x473ed;if(_0x3d2734['dead']&&!_0x99df50[_0x33e9f9(0x11e)])return-0x1;else return!_0x3d2734[_0x33e9f9(0x11e)]&&_0x99df50[_0x33e9f9(0x11e)]?0x1:_0x3d2734['y']+0xf-_0x99df50['y'];});}function adjustCollidingMonsters(){const _0x251e93=_0xc09cd0;for(let _0x39a3b3=0x0;_0x39a3b3<monsters[_0x251e93(0x140)];_0x39a3b3++){if(monsters[_0x39a3b3][_0x251e93(0x11e)])continue;monsters[_0x39a3b3]['col']['T']=0x0,monsters[_0x39a3b3][_0x251e93(0x111)]['B']=0x0,monsters[_0x39a3b3][_0x251e93(0x111)]['L']=0x0,monsters[_0x39a3b3]['col']['R']=0x0;for(let _0x48158c=0x0;_0x48158c<monsters[_0x251e93(0x140)];_0x48158c++){if(monsters[_0x48158c][_0x251e93(0x11e)])continue;if(collided(monsters[_0x39a3b3],monsters[_0x48158c])){let _0x5bd335=colCheck(monsters[_0x39a3b3],monsters[_0x48158c]);switch(_0x5bd335){case'l':this[_0x251e93(0x121)]<0x0&&(this[_0x251e93(0x121)]=0x0);break;case'r':this[_0x251e93(0x121)]>0x0&&(this[_0x251e93(0x121)]=0x0);break;case'b':this[_0x251e93(0x14f)]>0x0&&(this[_0x251e93(0x14f)]=0x0);break;case't':this['yVel']<0x0&&(this[_0x251e93(0x14f)]=0x0);break;}monsters[_0x39a3b3][_0x251e93(0x121)]+=(monsters[_0x39a3b3][_0x251e93(0x111)]['L']-monsters[_0x39a3b3][_0x251e93(0x111)]['R'])/0x5,monsters[_0x39a3b3][_0x251e93(0x14f)]+=(monsters[_0x39a3b3][_0x251e93(0x111)]['T']-monsters[_0x39a3b3][_0x251e93(0x111)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x512b36,_0x371f5b){const _0x1e7b48=_0xc09cd0;super(Collidable),this['x']=_0x512b36,this['y']=_0x371f5b,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x1e7b48(0x121)]=0x0,this[_0x1e7b48(0x14f)]=0x0,this[_0x1e7b48(0x158)]=0x0,this['yVelExt']=0x0,this[_0x1e7b48(0x127)]=0x2,this['left']=0x0,this['justDied']=![],this[_0x1e7b48(0x162)]=0x0,this[_0x1e7b48(0x11e)]=![],this[_0x1e7b48(0x122)]=[],this[_0x1e7b48(0x16d)]=0x3,this['hp']=0x3,this[_0x1e7b48(0x17f)]=0x0,this[_0x1e7b48(0x167)]=0x4,this['currentFrame']=0x0,this['collidable']=!![],this[_0x1e7b48(0x146)]=id('sheet'),this['action']=0x0,this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x1e7b48(0x155)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x1e7b48(0x13d)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0xc09cd0(0xf5)](){const _0x28f4af=_0xc09cd0;if(this['action']!==0x0){let _0xec9bf7=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x1b31a2=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x5a4f09=_0xec9bf7>0x0?-0x1:0x1,_0x559a76=_0x1b31a2>0x0?-0x1:0x1,_0x23e5ab;_0x1b31a2!==0x0?_0x23e5ab=Math['abs'](_0xec9bf7)/(Math[_0x28f4af(0x19a)](_0x1b31a2)+Math['abs'](_0xec9bf7)):_0x23e5ab=0x0;this['xVel']=this[_0x28f4af(0x127)]*_0x23e5ab*_0x5a4f09,this['yVel']=this[_0x28f4af(0x127)]*(0x1-_0x23e5ab)*_0x559a76;if(this['x']+this['w']<player['x'])this[_0x28f4af(0x163)]=![];else player['x']+player['w']<this['x']&&(this[_0x28f4af(0x163)]=!![]);}}[_0xc09cd0(0x149)](){const _0x5e38c7=_0xc09cd0;if(!this[_0x5e38c7(0x11e)]){this[_0x5e38c7(0xf5)]();Math[_0x5e38c7(0x19a)](this['xVelExt'])>0.01?this[_0x5e38c7(0x158)]*=0.9:this[_0x5e38c7(0x158)]=0x0;Math[_0x5e38c7(0x19a)](this[_0x5e38c7(0x18c)])>0.01?this['yVelExt']*=0.9:this[_0x5e38c7(0x18c)]=0x0;(this['col']['T']&&this[_0x5e38c7(0x14f)]<0x0||this[_0x5e38c7(0x111)]['B']&&this[_0x5e38c7(0x14f)]>0x0)&&(this[_0x5e38c7(0x14f)]=0x0);(this[_0x5e38c7(0x111)]['L']&&this[_0x5e38c7(0x121)]<0x0||this['col']['R']&&this['xVel']>0x0)&&(this[_0x5e38c7(0x121)]=0x0);this[_0x5e38c7(0x139)]!==0x0&&(this[_0x5e38c7(0x163)]?this[_0x5e38c7(0x139)]=0x2:this[_0x5e38c7(0x139)]=0x1);this[_0x5e38c7(0x19e)](),this['x']+=(this[_0x5e38c7(0x121)]+this[_0x5e38c7(0x158)])/DTR,this['y']+=(this['yVel']+this[_0x5e38c7(0x18c)])/DTR;for(let _0x520b8a=0x0;_0x520b8a<this[_0x5e38c7(0x122)]['length'];_0x520b8a++){this[_0x5e38c7(0x122)][_0x520b8a]['x']=this['x']+this[_0x5e38c7(0x122)][_0x520b8a][_0x5e38c7(0xf6)],this['arrows'][_0x520b8a]['y']=this['y']+this[_0x5e38c7(0x122)][_0x520b8a][_0x5e38c7(0x18a)];}this[_0x5e38c7(0x10b)]['x']=this['x']+0x6,this[_0x5e38c7(0x10b)]['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x5e38c7(0x148)]=!![]),this[_0x5e38c7(0x148)]&&(this[_0x5e38c7(0x162)]=0x0,this[_0x5e38c7(0x11e)]=!![],this['action']=0x3,this[_0x5e38c7(0x17f)]=0x0,this[_0x5e38c7(0x10f)]=0x0,this[_0x5e38c7(0x167)]=0xa);}}[_0xc09cd0(0x156)](){const _0x1ca042=_0xc09cd0;this[_0x1ca042(0x17f)]++;this[_0x1ca042(0x17f)]>this['slowness']*DTR&&(this[_0x1ca042(0x17f)]=0x0,this['currentFrame']++,this[_0x1ca042(0x10f)]>=this[_0x1ca042(0x155)][this[_0x1ca042(0x139)]]['length']&&(this[_0x1ca042(0x139)]==0x0&&(this[_0x1ca042(0x139)]=0x1+this['left']),this[_0x1ca042(0x10f)]=0x0));this[_0x1ca042(0x139)]==0x3&&(this[_0x1ca042(0x10f)]==this['actionX'][this['action']][_0x1ca042(0x140)]-0x1&&(this[_0x1ca042(0x17f)]=0x0));if(!this[_0x1ca042(0x11e)])for(let _0x4f1ea4=0x0;_0x4f1ea4<this[_0x1ca042(0x122)]['length'];_0x4f1ea4++){this[_0x1ca042(0x122)][_0x4f1ea4]['draw']();}this['justDamaged']>0x0&&(this[_0x1ca042(0x139)]=0x4,this['currentFrame']=0x0,this[_0x1ca042(0x108)]=0x0,this['justDamaged']-=0x1/DTR),c[_0x1ca042(0x106)](this['sheet'],this[_0x1ca042(0x155)][this[_0x1ca042(0x139)]][this['currentFrame']]*TILESIZE,this['actionY'][this[_0x1ca042(0x139)]][this[_0x1ca042(0x10f)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x13f548,_0x46a33d){const _0xde6c2a=_0xc09cd0;super(Collidable),this['x']=(_0x13f548/TILESIZE|0x0)*TILESIZE,this['y']=(_0x46a33d/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this[_0xde6c2a(0x14f)]=0x0,this['xVelExt']=0x0,this[_0xde6c2a(0x18c)]=0x0,this[_0xde6c2a(0x127)]=0x2,this[_0xde6c2a(0x163)]=0x0,this[_0xde6c2a(0x148)]=![],this[_0xde6c2a(0x162)]=0x0,this[_0xde6c2a(0x11e)]=![],this['attacking']=![],this['arrows']=[],this[_0xde6c2a(0x16d)]=0x3,this['hp']=0x3,this[_0xde6c2a(0x17f)]=0x0,this[_0xde6c2a(0x167)]=0x4,this['currentFrame']=0x0,this['sheet']=id(_0xde6c2a(0x146)),this[_0xde6c2a(0x139)]=0x0,this[_0xde6c2a(0x128)]=!![],this['path']=[],this[_0xde6c2a(0x111)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0xde6c2a(0x10b)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0xde6c2a(0x150)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0xde6c2a(0x155)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0xde6c2a(0x13d)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this['counter']=0x0;}[_0xc09cd0(0xf5)](){const _0x42810b=_0xc09cd0;this[_0x42810b(0x150)]['x']=this['x']-0x5*TILESIZE,this[_0x42810b(0x150)]['y']=this['y']-0x5*TILESIZE,this[_0x42810b(0x150)]['w']=0xb*TILESIZE,this['atkBox']['h']=0xb*TILESIZE;if(collided(this[_0x42810b(0x150)],player)){if(this[_0x42810b(0x171)]){if(this[_0x42810b(0x10f)]==0x0&&this[_0x42810b(0x17f)]==0x0){this[_0x42810b(0xee)]();switch(this[_0x42810b(0x129)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this['action']!==0x1&&(this['action']=0x1,this['currentFrame']=0x0,this['frameCounter']=0x0);}else this[_0x42810b(0x171)]&&this[_0x42810b(0x139)]!==0x0&&this[_0x42810b(0x139)]!==0x2&&(this[_0x42810b(0x171)]=![],this[_0x42810b(0x128)]=!![],this[_0x42810b(0x139)]=0x2,this['currentFrame']=0x0,this['frameCounter']=0x0);}[_0xc09cd0(0x149)](){const _0x213125=_0xc09cd0;this[_0x213125(0xf5)](),this[_0x213125(0x10b)]['x']=this['x']+(this['w']-0xe)/0x2,this[_0x213125(0x10b)]['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x352f2b=0x0;_0x352f2b<this[_0x213125(0x122)]['length'];_0x352f2b++){this[_0x213125(0x122)][_0x352f2b]['x']=this['x']+this['arrows'][_0x352f2b][_0x213125(0xf6)],this[_0x213125(0x122)][_0x352f2b]['y']=this['y']+this[_0x213125(0x122)][_0x352f2b][_0x213125(0x18a)];}this['hp']<=0x0&&(this[_0x213125(0x148)]=!![]),this['justDied']&&(this[_0x213125(0x162)]=0x0,this[_0x213125(0x11e)]=!![],this['action']=0x3,this[_0x213125(0x17f)]=0x0,this[_0x213125(0x10f)]=0x0,this[_0x213125(0x167)]=0xa);}[_0xc09cd0(0x156)](){const _0x352eee=_0xc09cd0;this[_0x352eee(0x17f)]++;this[_0x352eee(0x139)]==0x4?this[_0x352eee(0x167)]=0x3:this[_0x352eee(0x167)]=0x5;if(this[_0x352eee(0x17f)]>this[_0x352eee(0x167)]*DTR){this['frameCounter']=0x0,this[_0x352eee(0x10f)]++;if(this['currentFrame']>=this[_0x352eee(0x155)][this[_0x352eee(0x139)]][_0x352eee(0x140)]){if(this[_0x352eee(0x11e)])this[_0x352eee(0x10f)]=this['actionX'][this[_0x352eee(0x139)]][_0x352eee(0x140)]-0x1;else{if(this['action']==0x1)this[_0x352eee(0x171)]=!![],this['collidable']=![],this['action']=0x4,this['currentFrame']=0x0;else this[_0x352eee(0x139)]==0x2?(this['action']=0x0,this[_0x352eee(0x10f)]=0x0):this['currentFrame']=0x0;}}}if(!this[_0x352eee(0x11e)]){if(this[_0x352eee(0x139)]==0x0)for(let _0x39ffc8=0x0;_0x39ffc8<this['arrows']['length'];_0x39ffc8++){this[_0x352eee(0x122)][_0x39ffc8][_0x352eee(0x156)]();}}this[_0x352eee(0x162)]>0x0&&(this['action']=0x3,this[_0x352eee(0x10f)]=0x0,this[_0x352eee(0x108)]=0x0,this[_0x352eee(0x162)]-=0x1/DTR,this[_0x352eee(0x162)]<=0x0&&(this[_0x352eee(0x139)]=0x0)),c[_0x352eee(0x106)](this[_0x352eee(0x146)],this[_0x352eee(0x155)][this[_0x352eee(0x139)]][this['currentFrame']]*TILESIZE,this[_0x352eee(0x13d)][this['action']][this[_0x352eee(0x10f)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0xc09cd0(0xee)](){const _0x34409b=_0xc09cd0;let _0x333283=0xb,_0xbb4e48=[],_0x174bf7=this['x']+this['w']/0x2-TILESIZE*0x5,_0x21c4df=this['y']+this['h']/0x2-TILESIZE*0x5,_0x290cb2;for(let _0x578249=0x0;_0x578249<_0x333283;_0x578249++){_0xbb4e48[_0x578249]=[];for(let _0x1cf75c=0x0;_0x1cf75c<_0x333283;_0x1cf75c++){_0x290cb2=getTileData(_0x174bf7+_0x578249*TILESIZE,_0x21c4df+_0x1cf75c*TILESIZE),_0x290cb2===![]?_0xbb4e48[_0x578249][_0x1cf75c]=_0x34409b(0x14d):_0xbb4e48[_0x578249][_0x1cf75c]='Obstacle';}}_0xbb4e48[0x5][0x5]=_0x34409b(0x16c),_0xbb4e48[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x34409b(0x13e),this[_0x34409b(0x129)]=findShortestPath([0x5,0x5],_0xbb4e48);}}class Flower extends Collidable{constructor(_0x40fc3e,_0x47bac6){const _0x268e9c=_0xc09cd0;super(Collidable),this['x']=_0x40fc3e,this['y']=_0x47bac6,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this['yVel']=0x0,this[_0x268e9c(0x158)]=0x0,this[_0x268e9c(0x18c)]=0x0,this[_0x268e9c(0x127)]=0x2,this['left']=0x0,this['justDied']=![],this[_0x268e9c(0x162)]=0x0,this[_0x268e9c(0x11e)]=![],this[_0x268e9c(0x122)]=[],this[_0x268e9c(0x16d)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this['slowness']=0x8,this[_0x268e9c(0x171)]=![],this['currentFrame']=0x0,this[_0x268e9c(0x146)]=id(_0x268e9c(0x146)),this['precision']=0x5,this[_0x268e9c(0x130)]=0x8,this['collidable']=!![],this[_0x268e9c(0x111)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x268e9c(0x139)]=0x0,this['actionX']=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x268e9c(0x13d)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this[_0x268e9c(0x103)]=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x268e9c(0x100)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x268e9c(0x138)]=0x0,this[_0x268e9c(0x12b)]=![];}[_0xc09cd0(0x12d)](){const _0x19012c=_0xc09cd0;if(!isObstructed(this,player)){this[_0x19012c(0x171)]=!![];if(this[_0x19012c(0x10f)]==0x2){if(!this[_0x19012c(0x12b)]){let _0x1fc883=new EnemyProjectile(),_0x41c80e=this['x']+this['w']/0x2,_0x1b5ac2=this['y']+this['h']/0x2,_0x1ae24c=player['x']+player['w']/0x2-_0x41c80e+Math[_0x19012c(0x13b)]()*this[_0x19012c(0x18d)]-this['precision']/0x2,_0x21e467=player['y']+player['h']/0x2-_0x1b5ac2+Math[_0x19012c(0x13b)]()*this[_0x19012c(0x18d)]-this[_0x19012c(0x18d)]/0x2,_0x48bd72=Math['atan2'](_0x21e467,_0x1ae24c),_0x200255=Math[_0x19012c(0xfb)](_0x48bd72),_0x253b47=Math[_0x19012c(0x192)](_0x48bd72);_0x1fc883[_0x19012c(0x121)]=_0x200255*this['projSpeed'],_0x1fc883['yVel']=_0x253b47*this[_0x19012c(0x130)],_0x1fc883['x']=_0x41c80e,_0x1fc883['y']=_0x1b5ac2,enemyProjectiles['push'](_0x1fc883),this[_0x19012c(0x12b)]=!![];}}else this[_0x19012c(0x12b)]=![];}else this[_0x19012c(0x171)]=![];}[_0xc09cd0(0x149)](){const _0x5f24d2=_0xc09cd0;this['shoot'](),this[_0x5f24d2(0x10b)]['x']=this['x']+this['w']/0x3,this['hitbox']['y']=this['y']+this['h']/0x5,this[_0x5f24d2(0x138)]=Math[_0x5f24d2(0x151)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x1554ff=0x0;_0x1554ff<this[_0x5f24d2(0x122)][_0x5f24d2(0x140)];_0x1554ff++){this[_0x5f24d2(0x122)][_0x1554ff]['x']=this['x']+this['arrows'][_0x1554ff][_0x5f24d2(0xf6)],this['arrows'][_0x1554ff]['y']=this['y']+this[_0x5f24d2(0x122)][_0x1554ff]['yRel'];}this['hp']<=0x0&&(this[_0x5f24d2(0x148)]=!![]),this[_0x5f24d2(0x148)]&&(this[_0x5f24d2(0x162)]=0x0,this[_0x5f24d2(0x11e)]=!![],this['action']=0x2,this[_0x5f24d2(0x17f)]=0x0,this[_0x5f24d2(0x10f)]=0x0,this[_0x5f24d2(0x167)]=0xa);}[_0xc09cd0(0x156)](){const _0x367c83=_0xc09cd0;this[_0x367c83(0x17f)]++;this[_0x367c83(0x17f)]>this[_0x367c83(0x167)]*DTR&&(this[_0x367c83(0x17f)]=0x0,this['currentFrame']++,this[_0x367c83(0x10f)]>=this[_0x367c83(0x155)][this[_0x367c83(0x139)]][_0x367c83(0x140)]&&(this[_0x367c83(0x11e)]?this[_0x367c83(0x10f)]=this['actionX'][this['action']][_0x367c83(0x140)]-0x1:this['currentFrame']=0x0));if(!this[_0x367c83(0x11e)]){this[_0x367c83(0x171)]?this['action']=0x1:this[_0x367c83(0x139)]=0x0;for(let _0x143312=0x0;_0x143312<this['arrows']['length'];_0x143312++){this['arrows'][_0x143312]['draw']();}}this[_0x367c83(0x171)]?this['slowness']=0x4:this[_0x367c83(0x167)]=0x8,this[_0x367c83(0x162)]&&(this[_0x367c83(0x139)]=0x2,this[_0x367c83(0x10f)]=0x0,this[_0x367c83(0x108)]=0x0,this['justDamaged']--),c['drawImage'](this[_0x367c83(0x146)],this[_0x367c83(0x155)][this[_0x367c83(0x139)]][this[_0x367c83(0x10f)]]*TILESIZE,this[_0x367c83(0x13d)][this['action']][this[_0x367c83(0x10f)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0x367c83(0x139)]==0x0||this[_0x367c83(0x139)]==0x1)&&(c[_0x367c83(0x107)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x367c83(0x153)](this['radians']),c[_0x367c83(0x106)](this[_0x367c83(0x146)],this[_0x367c83(0x103)][this[_0x367c83(0x139)]][this['currentFrame']]*TILESIZE,this['headY'][this[_0x367c83(0x139)]][this[_0x367c83(0x10f)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c['restore']());}}function getTileData(_0x2be3aa,_0x47a85f){const _0xfc3b96=_0xc09cd0;let _0x5ce1a4=(_0x2be3aa/TILESIZE|0x0)+(_0x47a85f/TILESIZE|0x0)*map[_0xfc3b96(0x112)];for(let _0x108151=0x0;_0x108151<map[_0xfc3b96(0x11a)][_0xfc3b96(0x140)];_0x108151++){for(let _0x12c83e=0x0;_0x12c83e<TilesData['length'];_0x12c83e++){if(TilesData[_0x12c83e]['id']==map[_0xfc3b96(0x11a)][_0x108151][_0x5ce1a4]-0x1)return TilesData[_0x12c83e];}}return![];}window[_0xc09cd0(0x11c)]=function(){const _0xaad396=_0xc09cd0;player[_0xaad396(0x194)]!==0x0?player[_0xaad396(0x12d)]():player[_0xaad396(0x15b)]=0xa;},window[_0xc09cd0(0x164)]=function(_0x2fc53b){const _0x4d187a=_0xc09cd0;_0x2fc53b['preventDefault'](),player[_0x4d187a(0x181)]();},document[_0xc09cd0(0x110)]('mousedown',function(_0x1d6dce){const _0x21ead1=_0xc09cd0;switch(_0x1d6dce[_0x21ead1(0xf3)]){case 0x0:userInterface[_0x21ead1(0xf1)]=!![];break;case 0x2:userInterface[_0x21ead1(0xfd)]=!![];break;}}),document[_0xc09cd0(0x110)]('mouseup',function(_0x34018b){const _0x2b9659=_0xc09cd0;switch(_0x34018b[_0x2b9659(0xf3)]){case 0x0:userInterface['lClick']=![];break;case 0x2:userInterface[_0x2b9659(0xfd)]=![];break;}});var stats=id(_0xc09cd0(0x135));function drawStats(){const _0x33dfb1=_0xc09cd0;stats['innerHTML']='player.x\x20=\x20'+player['x'],stats[_0x33dfb1(0x132)]+='<br>player.y\x20=\x20'+player['y'],stats['innerHTML']+=_0x33dfb1(0x10d)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x33dfb1(0x132)]+=_0x33dfb1(0x114)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x33dfb1(0x132)]+=_0x33dfb1(0x10e)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x33dfb1(0x112)]),stats[_0x33dfb1(0x132)]+=_0x33dfb1(0x14e)+map[_0x33dfb1(0x11a)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']],map['tiles'][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']],DEBUG&&(c[_0x33dfb1(0x159)]((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x33dfb1(0xec)]());}window['addEventListener'](_0xc09cd0(0x134),function(_0x1a3bf4){const _0x23d03c=_0xc09cd0;switch(_0x1a3bf4['keyCode']){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters['push'](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x23d03c(0x177)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x3ceca3=0x0;_0x3ceca3<0x32;_0x3ceca3++){player[_0x23d03c(0x12d)](),player[_0x23d03c(0x117)]=player[_0x23d03c(0x10c)]*DTR,player[_0x23d03c(0x166)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window['addEventListener'](_0xc09cd0(0x19c),function(_0x520186){const _0x2f4f73=_0xc09cd0;switch(_0x520186[_0x2f4f73(0x17b)]){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0xc09cd0(0x110)](_0xc09cd0(0x15a),function(_0x34601e){const _0x2617ab=_0xc09cd0;mousePP['x']=_0x34601e['clientX']-CANVAS[_0x2617ab(0x104)],mousePP['y']=_0x34601e[_0x2617ab(0x125)]-CANVAS['offsetTop'];});function moveCamera(){const _0x1d2851=_0xc09cd0;map['x']=-player['x']/0x3+CANVAS[_0x1d2851(0x112)]/0x6,map['y']=-player['y']/0x3+CANVAS['height']/0x6,screenShake['counter']&&(screenShake[_0x1d2851(0x193)]--,screenShake['set'](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x1733a5=_0xc09cd0;c[_0x1733a5(0x184)]=0x2,c[_0x1733a5(0x143)]=sampleArrow[_0x1733a5(0x11b)][0x0],c[_0x1733a5(0x17d)]();for(let _0x18f119=playerArrows[_0x1733a5(0x140)]-0x1;_0x18f119>=0x0;_0x18f119--){if(!playerArrows[_0x18f119][_0x1733a5(0x116)]||playerArrows[_0x18f119][_0x1733a5(0x18f)]!=0x1)continue;playerArrows[_0x18f119]['free']&&playerArrows[_0x18f119]['compute']();if(playerArrows[_0x18f119]!==undefined)playerArrows[_0x18f119][_0x1733a5(0x156)]();}c[_0x1733a5(0x102)](),c[_0x1733a5(0xec)](),c['strokeStyle']=sampleArrow['colors'][0x1],c[_0x1733a5(0x17d)]();for(let _0x1ff396=playerArrows[_0x1733a5(0x140)]-0x1;_0x1ff396>=0x0;_0x1ff396--){if(!playerArrows[_0x1ff396]['active']||playerArrows[_0x1ff396][_0x1733a5(0x18f)]!=0x2)continue;playerArrows[_0x1ff396][_0x1733a5(0x165)]&&playerArrows[_0x1ff396][_0x1733a5(0x149)]();if(playerArrows[_0x1ff396]!==undefined)playerArrows[_0x1ff396][_0x1733a5(0x156)]();}c[_0x1733a5(0x102)](),c['stroke']();}function loop(){const _0x50f077=_0xc09cd0;fps++,c[_0x50f077(0x12c)](0x0,0x0,CANVAS[_0x50f077(0x112)],CANVAS[_0x50f077(0x12f)]),moveCamera(),map[_0x50f077(0x156)](),player[_0x50f077(0x149)]();for(let _0x47dc79=enemyProjectiles[_0x50f077(0x140)]-0x1;_0x47dc79>=0x0;_0x47dc79--){enemyProjectiles[_0x47dc79]['compute']();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x5ca9f9=0x0;_0x5ca9f9<monsters[_0x50f077(0x140)];_0x5ca9f9++){!monsters[_0x5ca9f9][_0x50f077(0x11e)]&&monsters[_0x5ca9f9][_0x50f077(0x149)](),monsters[_0x5ca9f9][_0x50f077(0x156)]();}player[_0x50f077(0x156)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x421f9c=enemyProjectiles[_0x50f077(0x140)]-0x1;_0x421f9c>=0x0;_0x421f9c--){enemyProjectiles[_0x421f9c]['draw']();}sword[_0x50f077(0x116)]&&(sword[_0x50f077(0x149)](),sword[_0x50f077(0x156)]());for(let _0x44790f=visualFxs[_0x50f077(0x140)]-0x1;_0x44790f>=0x0;_0x44790f--){!visualFxs[_0x44790f][_0x50f077(0x119)]&&visualFxs[_0x44790f][_0x50f077(0x156)]();}userInterface['draw'](),drawStats();}var lastUpdate=Date[_0xc09cd0(0x176)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0x1b1fd4=_0xc09cd0;var _0x2bbd8c=Date[_0x1b1fd4(0x176)](),_0x395e0e=_0x2bbd8c-lastUpdate;lastUpdate=_0x2bbd8c,DTR=0x3e8/0x3c/_0x395e0e,!gamePaused&&loop();}