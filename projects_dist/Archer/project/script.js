'strict';const _0x13d418=_0x3ca3;function _0x3ca3(_0x3e4c88,_0x143c36){const _0x213844=_0x8439();return _0x3ca3=function(_0x1163af,_0x553efe){_0x1163af=_0x1163af-0x168;let _0x5321f7=_0x213844[_0x1163af];return _0x5321f7;},_0x3ca3(_0x3e4c88,_0x143c36);}(function(_0x56bc46,_0x6b56f7){const _0x21e120=_0x3ca3,_0x14878e=_0x56bc46();while(!![]){try{const _0x58d134=-parseInt(_0x21e120(0x1e5))/0x1*(parseInt(_0x21e120(0x1b0))/0x2)+parseInt(_0x21e120(0x210))/0x3*(parseInt(_0x21e120(0x17d))/0x4)+-parseInt(_0x21e120(0x1fc))/0x5+-parseInt(_0x21e120(0x18a))/0x6*(parseInt(_0x21e120(0x18e))/0x7)+-parseInt(_0x21e120(0x1d3))/0x8*(parseInt(_0x21e120(0x1ce))/0x9)+-parseInt(_0x21e120(0x1f5))/0xa*(-parseInt(_0x21e120(0x17c))/0xb)+-parseInt(_0x21e120(0x1d2))/0xc*(-parseInt(_0x21e120(0x222))/0xd);if(_0x58d134===_0x6b56f7)break;else _0x14878e['push'](_0x14878e['shift']());}catch(_0x283833){_0x14878e['push'](_0x14878e['shift']());}}}(_0x8439,0x4579f));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id('canvas'),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS[_0x13d418(0x1e4)]('2d');CANVAS['width']=0x2e0,CANVAS[_0x13d418(0x1ea)]=0x1e0,CANVAS['style'][_0x13d418(0x1cc)]=(window['innerWidth']-CANVAS[_0x13d418(0x187)])/0x2+'px',CANVAS[_0x13d418(0x215)][_0x13d418(0x169)]=(window[_0x13d418(0x188)]-CANVAS[_0x13d418(0x1ea)])/0x2+'px',c['imageSmoothingEnabled']=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x6fe758){const _0x507af1=_0x13d418,_0x14f97a=(function(){let _0x2714ef=!![];return function(_0x14ce1d,_0x1fc444){const _0x25f27f=_0x2714ef?function(){const _0x3b11ad=_0x3ca3;if(_0x1fc444){const _0x1002af=_0x1fc444[_0x3b11ad(0x1f8)](_0x14ce1d,arguments);return _0x1fc444=null,_0x1002af;}}:function(){};return _0x2714ef=![],_0x25f27f;};}()),_0x5e5d59=_0x14f97a(this,function(){const _0x335795=_0x3ca3;let _0x148da4;try{const _0x48b0e6=Function('return\x20(function()\x20'+_0x335795(0x19a)+');');_0x148da4=_0x48b0e6();}catch(_0x2d368b){_0x148da4=window;}const _0x22aa56=new RegExp(_0x335795(0x197),'g'),_0x22a8d8=_0x335795(0x1d8)[_0x335795(0x1c8)](_0x22aa56,'')[_0x335795(0x178)](';');let _0x2a42ba,_0x5f2c59,_0x567494,_0x48de4e;const _0x38a940=function(_0x1e0cd9,_0x22734d,_0x169f92){const _0x2e754a=_0x335795;if(_0x1e0cd9[_0x2e754a(0x21c)]!=_0x22734d)return![];for(let _0x2591c8=0x0;_0x2591c8<_0x22734d;_0x2591c8++){for(let _0x16dfd7=0x0;_0x16dfd7<_0x169f92[_0x2e754a(0x21c)];_0x16dfd7+=0x2){if(_0x2591c8==_0x169f92[_0x16dfd7]&&_0x1e0cd9[_0x2e754a(0x17b)](_0x2591c8)!=_0x169f92[_0x16dfd7+0x1])return![];}}return!![];},_0x4ebc80=function(_0x2d8069,_0x500cc7,_0xa6929a){return _0x38a940(_0x500cc7,_0xa6929a,_0x2d8069);},_0xbca5c2=function(_0x31aeff,_0x57002e,_0x3b679c){return _0x4ebc80(_0x57002e,_0x31aeff,_0x3b679c);},_0x8fb539=function(_0xf63963,_0xbbbaa,_0x4ad361){return _0xbca5c2(_0xbbbaa,_0x4ad361,_0xf63963);};for(let _0x14489a in _0x148da4){if(_0x38a940(_0x14489a,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2a42ba=_0x14489a;break;}}for(let _0x3f2001 in _0x148da4[_0x2a42ba]){if(_0x8fb539(0x6,_0x3f2001,[0x5,0x6e,0x0,0x64])){_0x5f2c59=_0x3f2001;break;}}for(let _0x21e23e in _0x148da4[_0x2a42ba]){if(_0xbca5c2(_0x21e23e,[0x7,0x6e,0x0,0x6c],0x8)){_0x567494=_0x21e23e;break;}}if(!('~'>_0x5f2c59))for(let _0x52a152 in _0x148da4[_0x2a42ba][_0x567494]){if(_0x4ebc80([0x7,0x65,0x0,0x68],_0x52a152,0x8)){_0x48de4e=_0x52a152;break;}}if(!_0x2a42ba||!_0x148da4[_0x2a42ba])return;const _0x577026=_0x148da4[_0x2a42ba][_0x5f2c59],_0x368f94=!!_0x148da4[_0x2a42ba][_0x567494]&&_0x148da4[_0x2a42ba][_0x567494][_0x48de4e],_0x39b962=_0x577026||_0x368f94;if(!_0x39b962)return;let _0x61a074=![];for(let _0x254857=0x0;_0x254857<_0x22a8d8[_0x335795(0x21c)];_0x254857++){const _0x3a2485=_0x22a8d8[_0x254857],_0x987fb7=_0x3a2485[0x0]===String[_0x335795(0x1e3)](0x2e)?_0x3a2485[_0x335795(0x1f6)](0x1):_0x3a2485,_0x444965=_0x39b962[_0x335795(0x21c)]-_0x987fb7[_0x335795(0x21c)],_0x4894c8=_0x39b962[_0x335795(0x206)](_0x987fb7,_0x444965),_0x39c98a=_0x4894c8!==-0x1&&_0x4894c8===_0x444965;_0x39c98a&&((_0x39b962[_0x335795(0x21c)]==_0x3a2485[_0x335795(0x21c)]||_0x3a2485['indexOf']('.')===0x0)&&(_0x61a074=!![]));}if(!_0x61a074){const _0xf0339b=new RegExp(_0x335795(0x211),'g'),_0x514527=_0x335795(0x199)[_0x335795(0x1c8)](_0xf0339b,'');_0x148da4[_0x2a42ba][_0x567494]=_0x514527;}});return _0x5e5d59(),document[_0x507af1(0x207)](_0x6fe758);}var fpsDiv=id(_0x13d418(0x172));setInterval(function(){const _0x1d62b6=_0x13d418;fpsDiv['innerHTML']='FPS:\x20'+fps,fpsDiv['innerHTML']+=_0x1d62b6(0x21e)+DTR['toPrecision'](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0xf27daf=_0x13d418;this['x']=Math[_0xf27daf(0x1cb)]()*0x8-0x4|0x0,this['y']=Math[_0xf27daf(0x1cb)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x118a80=_0x13d418;this['x']=0x0,this['y']=0x0,this[_0x118a80(0x181)]=0x0,this['xVel']=0x0,this[_0x118a80(0x191)]=0x0,this['yRel']=0x0,this['active']=!![],this[_0x118a80(0x17e)]=!![],this[_0x118a80(0x1d9)]=!![],this[_0x118a80(0x16d)]=0x0,this[_0x118a80(0x1de)]=0x0,this[_0x118a80(0x1ef)]=0x1,this[_0x118a80(0x212)]=0x0,this['colors']=[_0x118a80(0x1f9),_0x118a80(0x1b1)],this[_0x118a80(0x1eb)]={'x':0x0,'y':0x0};}[_0x13d418(0x1af)](){const _0x15db4c=_0x13d418;Math['abs'](this[_0x15db4c(0x1db)]*0x3)>Math[_0x15db4c(0x21b)](this[_0x15db4c(0x16d)])&&(this[_0x15db4c(0x16d)]=this[_0x15db4c(0x1db)]*0x3,this['lengthY']=this['yVel']*0x3),this['points']['x']=this['x']+this[_0x15db4c(0x16d)],this[_0x15db4c(0x1eb)]['y']=this['y']+this[_0x15db4c(0x1de)],c[_0x15db4c(0x20f)](this['x']+map['x'],this['y']+map['y']),c[_0x15db4c(0x189)](this['x']+this[_0x15db4c(0x16d)]+map['x'],this['y']+this[_0x15db4c(0x1de)]+map['y']);}['compute'](){const _0x32cef8=_0x13d418;this['x']+=this[_0x32cef8(0x1db)]/DTR,this['y']+=this[_0x32cef8(0x181)]/DTR;if(getTileData(this['x'],this['y'])[_0x32cef8(0x1f3)])visualFxs[_0x32cef8(0x192)](new Explosion(this['x']+this[_0x32cef8(0x1db)],this['y']+this[_0x32cef8(0x181)],this['color'])),this[_0x32cef8(0x212)]==0x2&&(screenShake[_0x32cef8(0x16e)]=0x5),this[_0x32cef8(0x1db)]=0x0,this[_0x32cef8(0x181)]=0x0,this[_0x32cef8(0x16d)]/=0x2,this['lengthY']/=0x2,this['free']=![];else for(let _0x3f5510=monsters[_0x32cef8(0x21c)]-0x1;_0x3f5510>=0x0;_0x3f5510--){let _0x11bd5b=monsters[_0x3f5510];!_0x11bd5b[_0x32cef8(0x168)]&&_0x11bd5b[_0x32cef8(0x16b)]&&((pointSquareCol(this,_0x11bd5b)||pointSquareCol(this[_0x32cef8(0x1eb)],_0x11bd5b))&&(this[_0x32cef8(0x21a)]=![],_0x11bd5b[_0x32cef8(0x21f)]=this[_0x32cef8(0x1db)]/0x2,_0x11bd5b[_0x32cef8(0x1c4)]=this[_0x32cef8(0x181)]/0x2,visualFxs[_0x32cef8(0x192)](new Explosion(this['x'],this['y'],this[_0x32cef8(0x212)])),this[_0x32cef8(0x212)]==0x2&&(screenShake['counter']=0x5),this['xVel']=0x0,this[_0x32cef8(0x181)]=0x0,this[_0x32cef8(0x191)]=this['x']-_0x11bd5b['x'],this[_0x32cef8(0x216)]=this['y']-_0x11bd5b['y'],_0x11bd5b[_0x32cef8(0x1a3)][_0x32cef8(0x192)](this),_0x11bd5b['hp']-=this[_0x32cef8(0x1ef)],_0x11bd5b['justDamaged']=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0xb33b41=_0x13d418;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this['yVel']=0x0,this[_0xb33b41(0x1db)]=0x0,this[_0xb33b41(0x17e)]=!![],this[_0xb33b41(0x1d9)]=![],this[_0xb33b41(0x16f)]=id('sheet'),this['actionX']=[0x5],this['actionY']=[0x18],this[_0xb33b41(0x19b)]=0x0,this[_0xb33b41(0x1ef)]=0x5;}[_0x13d418(0x1be)](){const _0x9b0f63=_0x13d418;this['x']+=this['xVel']/DTR,this['y']+=this[_0x9b0f63(0x181)]/DTR,getTileData(this['x'],this['y'])['solid']?(enemyProjectiles[_0x9b0f63(0x1f7)](enemyProjectiles[_0x9b0f63(0x206)](this),0x1),visualFxs['push'](new Explosion(this['x']+this['xVel'],this['y']+this[_0x9b0f63(0x181)],0x1)),this['xVel']=0x0,this[_0x9b0f63(0x181)]=0x0,this[_0x9b0f63(0x16d)]/=0x2,this['lengthY']/=0x2,this['free']=![]):pointSquareCol(this,player)&&(enemyProjectiles['splice'](enemyProjectiles[_0x9b0f63(0x206)](this),0x1),player[_0x9b0f63(0x21f)]+=this['xVel']/0x2,player[_0x9b0f63(0x1c4)]+=this[_0x9b0f63(0x181)]/0x2,player['hp']-=this[_0x9b0f63(0x1ef)],visualFxs[_0x9b0f63(0x192)](new Explosion(this['x'],this['y'],0x1)),screenShake['counter']=0x5);}[_0x13d418(0x1af)](){const _0x30c243=_0x13d418;c[_0x30c243(0x19e)](this[_0x30c243(0x16f)],this[_0x30c243(0x1c6)][this[_0x30c243(0x19b)]]*TILESIZE,this[_0x30c243(0x1b4)][this[_0x30c243(0x19b)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x3061f4,_0x46cf35,_0x4a3956){const _0x15e3b5=_0x13d418;this[_0x15e3b5(0x16f)]=id(_0x15e3b5(0x16f)),this['x']=_0x3061f4-0x10,this['y']=_0x46cf35-0x10,this['w']=0x20,this['h']=0x20,this['frameCounter']=0x0,this[_0x15e3b5(0x1d0)]=0x0,this[_0x15e3b5(0x1c2)]=_0x4a3956-0x1,this[_0x15e3b5(0x1c6)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x15e3b5(0x1b4)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this[_0x15e3b5(0x205)]=0x4,this[_0x15e3b5(0x1a2)]=![];}['draw'](){const _0x33e037=_0x13d418;c['drawImage'](this[_0x33e037(0x16f)],this[_0x33e037(0x1c6)][this[_0x33e037(0x1c2)]][this[_0x33e037(0x1d0)]],this['actionY'][this[_0x33e037(0x1c2)]][this[_0x33e037(0x1d0)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this['frameCounter']++,this[_0x33e037(0x1a1)]>this[_0x33e037(0x205)]*DTR&&(this[_0x33e037(0x1a1)]=0x0,this['currentFrame']++,this[_0x33e037(0x1d0)]>this[_0x33e037(0x1c6)][this[_0x33e037(0x1c2)]]['length']-0x1&&(this[_0x33e037(0x1a2)]=!![]));}}class Collidable{constructor(){}[_0x13d418(0x176)](){const _0x249c00=_0x13d418;let _0x2c2bd0;this['col']['T']=0x0,this[_0x249c00(0x1e6)]['B']=0x0,this[_0x249c00(0x1e6)]['L']=0x0,this[_0x249c00(0x1e6)]['R']=0x0,getTileData(this['x'],this['y'])[_0x249c00(0x175)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x2c2bd0=colCheck(this,generatedSquare),this['x']+=(this[_0x249c00(0x1e6)]['L']-this[_0x249c00(0x1e6)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this[_0x249c00(0x1e6)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x249c00(0x175)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x2c2bd0=colCheck(this,generatedSquare),this['x']+=(this[_0x249c00(0x1e6)]['L']-this[_0x249c00(0x1e6)]['R'])/0x5/DTR,this['y']+=(this[_0x249c00(0x1e6)]['T']-this[_0x249c00(0x1e6)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x249c00(0x175)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x2c2bd0=colCheck(this,generatedSquare),this['x']+=(this[_0x249c00(0x1e6)]['L']-this[_0x249c00(0x1e6)]['R'])/0x5/DTR,this['y']+=(this[_0x249c00(0x1e6)]['T']-this[_0x249c00(0x1e6)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x249c00(0x175)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x2c2bd0=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this[_0x249c00(0x1e6)]['R'])/0x5/DTR,this['y']+=(this[_0x249c00(0x1e6)]['T']-this[_0x249c00(0x1e6)]['B'])/0x5/DTR),this[_0x249c00(0x1e6)]['B']&&(this['yVelExt']>0x0&&(this[_0x249c00(0x1c4)]*=-0.5)),this[_0x249c00(0x1e6)]['T']&&(this[_0x249c00(0x1c4)]<0x0&&(this[_0x249c00(0x1c4)]*=-0.5)),this[_0x249c00(0x1e6)]['R']&&(this['xVelExt']>0x0&&(this[_0x249c00(0x21f)]*=-0.5)),this['col']['L']&&(this[_0x249c00(0x21f)]<0x0&&(this[_0x249c00(0x21f)]*=-0.5));}}class Player extends Collidable{constructor(_0x3b7ce6,_0x5f55e3){const _0x2caaa1=_0x13d418;super(Collidable),this['x']=_0x3b7ce6,this['y']=_0x5f55e3,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x2caaa1(0x200)]=0x3,this[_0x2caaa1(0x181)]=0x0,this[_0x2caaa1(0x1db)]=0x0,this[_0x2caaa1(0x1c4)]=0x0,this[_0x2caaa1(0x21f)]=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this['arrowSpeed']=0xa,this[_0x2caaa1(0x208)]=0x0,this[_0x2caaa1(0x1a6)]=0x0,this[_0x2caaa1(0x1e6)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x2caaa1(0x1c6)]=[0x0,0x20,0x40],this[_0x2caaa1(0x1b4)]=[0x0,0x0,0x0],this[_0x2caaa1(0x1c2)]=0x0,this[_0x2caaa1(0x1a1)]=0x0,this[_0x2caaa1(0x205)]=0x6,this[_0x2caaa1(0x1a9)]=0x0,this['sword']=![],this[_0x2caaa1(0x20c)]=0x14,this[_0x2caaa1(0x1ab)]=0x0,this[_0x2caaa1(0x1b2)]=0x0,this[_0x2caaa1(0x1a0)]=[0x1,0x1,0x1,0x1,0x1],this[_0x2caaa1(0x1f1)]=0x3c,this[_0x2caaa1(0x202)]=0x0,this[_0x2caaa1(0x1bf)]=0x4,this['hp']=0x64,this[_0x2caaa1(0x1b6)]=0x64,this['mp']=0x64,this[_0x2caaa1(0x19c)]=0x64,this[_0x2caaa1(0x171)]=0.25,this[_0x2caaa1(0x1dd)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}[_0x13d418(0x217)](){const _0x1ebf27=_0x13d418;let _0x47b455=!![],_0x558e34;for(_0x558e34=0x0;_0x558e34<this['arrowsArr'][_0x1ebf27(0x21c)];_0x558e34++){if(this['arrowsArr'][_0x558e34]===0x0){_0x47b455=![];break;}}this[_0x1ebf27(0x1bf)]=_0x558e34;if(!_0x47b455){this[_0x1ebf27(0x202)]++;if(this['arrowCounter']>this[_0x1ebf27(0x1f1)]*DTR)for(_0x558e34=0x0;_0x558e34<this[_0x1ebf27(0x1a0)]['length'];_0x558e34++){if(this[_0x1ebf27(0x1a0)][_0x558e34]===0x0){Math[_0x1ebf27(0x1cb)]()<this[_0x1ebf27(0x171)]?this[_0x1ebf27(0x1a0)][_0x558e34]=0x2:this[_0x1ebf27(0x1a0)][_0x558e34]=0x1;this[_0x1ebf27(0x202)]=0x0;break;}}}else this['arrowCounter']=0x0;}[_0x13d418(0x1be)](){const _0x4b4e68=_0x13d418;this[_0x4b4e68(0x217)](),this[_0x4b4e68(0x208)]=this['x']+this['w']/0x2,this[_0x4b4e68(0x1a6)]=this['y']+this['h']/0x2,this[_0x4b4e68(0x176)]();Math['abs'](this['xVelExt'])>0.01?this[_0x4b4e68(0x21f)]-=this['xVelExt']*0.1/DTR:this[_0x4b4e68(0x21f)]=0x0;Math[_0x4b4e68(0x21b)](this[_0x4b4e68(0x1c4)])>0.01?this['yVelExt']-=this[_0x4b4e68(0x1c4)]*0.1/DTR:this[_0x4b4e68(0x1c4)]=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this['speed']=0x2:this['speed']=0x3;this[_0x4b4e68(0x1a9)]=Math['atan2'](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x4b4e68(0x1db)]=-this[_0x4b4e68(0x200)];else!this['R']&&(this[_0x4b4e68(0x1db)]=0x0);if(this['R'])this[_0x4b4e68(0x1db)]=this['speed'];else!this['L']&&(this[_0x4b4e68(0x1db)]=0x0);if(this['T'])this[_0x4b4e68(0x181)]=-this[_0x4b4e68(0x200)];else!this['B']&&(this[_0x4b4e68(0x181)]=0x0);if(this['B'])this[_0x4b4e68(0x181)]=this[_0x4b4e68(0x200)];else!this['T']&&(this['yVel']=0x0);this['x']+=(this[_0x4b4e68(0x1db)]+this[_0x4b4e68(0x21f)])/DTR,this['y']+=(this[_0x4b4e68(0x181)]+this[_0x4b4e68(0x1c4)])/DTR;}[_0x13d418(0x1af)](){const _0x68eebe=_0x13d418;this['xVel']===0x0&&this[_0x68eebe(0x181)]===0x0?this[_0x68eebe(0x1c2)]=0x0:(this[_0x68eebe(0x1a1)]++,this[_0x68eebe(0x1a1)]>=this[_0x68eebe(0x205)]*DTR&&(this[_0x68eebe(0x1c2)]++,this[_0x68eebe(0x1a1)]=0x0,this[_0x68eebe(0x1c2)]>=this[_0x68eebe(0x1c6)][_0x68eebe(0x21c)]&&(this['action']=0x0))),c[_0x68eebe(0x1d6)](),c[_0x68eebe(0x1ba)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x68eebe(0x177)](this[_0x68eebe(0x1a9)]),c[_0x68eebe(0x19e)](id(_0x68eebe(0x1d4)),this['actionX'][this['action']],this[_0x68eebe(0x1b4)][this[_0x68eebe(0x1c2)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x68eebe(0x1b3)](),this['noArrows']&&(c['drawImage'](id(_0x68eebe(0x16f)),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0x68eebe(0x1ab)]--),this[_0x68eebe(0x1dd)][_0x68eebe(0x21a)]&&this[_0x68eebe(0x184)]();}[_0x13d418(0x184)](){const _0x5ebdcd=_0x13d418;this[_0x5ebdcd(0x1dd)][_0x5ebdcd(0x1a1)]++,this[_0x5ebdcd(0x1dd)][_0x5ebdcd(0x1a1)]>=this['bow'][_0x5ebdcd(0x205)]*DTR&&(this[_0x5ebdcd(0x1dd)][_0x5ebdcd(0x1c2)]++,this[_0x5ebdcd(0x1dd)][_0x5ebdcd(0x1a1)]=0x0,this[_0x5ebdcd(0x1dd)][_0x5ebdcd(0x21a)]>=this[_0x5ebdcd(0x1dd)][_0x5ebdcd(0x1c6)][_0x5ebdcd(0x21c)]&&(this[_0x5ebdcd(0x1dd)][_0x5ebdcd(0x21a)]=![])),c[_0x5ebdcd(0x1d6)](),c[_0x5ebdcd(0x1ba)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x5ebdcd(0x177)](this[_0x5ebdcd(0x1a9)]),c[_0x5ebdcd(0x19e)](id(_0x5ebdcd(0x1dd)),this[_0x5ebdcd(0x1dd)]['actionX'][this[_0x5ebdcd(0x1dd)][_0x5ebdcd(0x1c2)]],this[_0x5ebdcd(0x1dd)][_0x5ebdcd(0x1b4)][this[_0x5ebdcd(0x1dd)][_0x5ebdcd(0x1c2)]],0x30,0x30,-this[_0x5ebdcd(0x1dd)]['w']/0x2,-this[_0x5ebdcd(0x1dd)]['h'],this['bow']['w'],this['bow']['h']),c[_0x5ebdcd(0x1b3)]();}['shoot'](){const _0x432bdd=_0x13d418;this['bow'][_0x432bdd(0x21a)]=!![],this[_0x432bdd(0x1dd)][_0x432bdd(0x1a1)]=0x0,this[_0x432bdd(0x1dd)][_0x432bdd(0x1d0)]=0x0,this[_0x432bdd(0x1dd)][_0x432bdd(0x1c2)]=0x0;let _0x583b8b=this['x']+this['w']/0x2,_0x3d8790=this['y']+this['h']/0x2,_0x39362c=Mouse['x']-_0x583b8b+Math[_0x432bdd(0x1cb)]()*this[_0x432bdd(0x20c)]-this['precision']/0x2,_0x2e8a16=Mouse['y']-_0x3d8790+Math[_0x432bdd(0x1cb)]()*this[_0x432bdd(0x20c)]-this['precision']/0x2,_0x3f7504=Math[_0x432bdd(0x1ee)](_0x2e8a16,_0x39362c),_0x2a98d3=Math['cos'](_0x3f7504),_0x21731a=Math['sin'](_0x3f7504),_0x34bfe1=new Projectile();_0x34bfe1[_0x432bdd(0x1db)]=_0x2a98d3*this['arrowSpeed'],_0x34bfe1[_0x432bdd(0x181)]=_0x21731a*this[_0x432bdd(0x20b)],_0x34bfe1['x']=_0x583b8b,_0x34bfe1['y']=_0x3d8790,_0x34bfe1[_0x432bdd(0x212)]=this[_0x432bdd(0x1a0)][0x0],playerArrows[_0x432bdd(0x192)](_0x34bfe1),this['arrowsArr'][_0x432bdd(0x1e8)](),this[_0x432bdd(0x1a0)]['push'](0x0);}[_0x13d418(0x203)](){const _0x4d5473=_0x13d418;if(!sword[_0x4d5473(0x21a)]){sword[_0x4d5473(0x21a)]=!![],sword['radiansP']=this[_0x4d5473(0x1a9)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x5f4cd7=this['x']+this['w']/0x2,_0x446c7e=this['y']+this['h']/0x2,_0x306120=returnCosine(Mouse['x'],Mouse['y'],_0x5f4cd7,_0x446c7e);this[_0x4d5473(0x21f)]=_0x306120['cos']*0xe,this[_0x4d5473(0x1c4)]=_0x306120[_0x4d5473(0x1ae)]*0xe;}}}}var player=new Player(CANVAS[_0x13d418(0x187)]/0x2,CANVAS[_0x13d418(0x1ea)]/0x4*0x3);class UserInterface{constructor(){const _0x2d28fc=_0x13d418;this[_0x2d28fc(0x16f)]=id('ui-sheet'),this['x']=0x14,this['y']=0x5,this['lClick']=![],this[_0x2d28fc(0x1e7)]=![],this[_0x2d28fc(0x1b2)]=0x0,this[_0x2d28fc(0x194)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0x2d28fc(0x1c5)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this['hpBar']={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0x2d28fc(0x1a4)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this[_0x2d28fc(0x1dd)]={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this['sword']={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this['arrow']={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x2d28fc(0x1a0)]=[0x1,0x1,0x1,0x1];}[_0x13d418(0x1af)](){const _0x16bc75=_0x13d418;this['lClick']&&(c[_0x16bc75(0x173)]=0.5);c[_0x16bc75(0x19e)](this['sheet'],this[_0x16bc75(0x1dd)][_0x16bc75(0x1e9)]['x'],this[_0x16bc75(0x1dd)]['crop']['y'],this[_0x16bc75(0x1dd)][_0x16bc75(0x1e9)]['w'],this[_0x16bc75(0x1dd)][_0x16bc75(0x1e9)]['h'],this['bow'][_0x16bc75(0x219)]['x'],this['bow']['pos']['y'],this[_0x16bc75(0x1dd)][_0x16bc75(0x1e9)]['w'],this['bow'][_0x16bc75(0x1e9)]['h']);this[_0x16bc75(0x1ed)]&&(c['globalAlpha']=0x1);this[_0x16bc75(0x1e7)]&&(c[_0x16bc75(0x173)]=0.5);c[_0x16bc75(0x19e)](this[_0x16bc75(0x16f)],this[_0x16bc75(0x1fe)][_0x16bc75(0x1e9)]['x'],this[_0x16bc75(0x1fe)][_0x16bc75(0x1e9)]['y'],this['sword'][_0x16bc75(0x1e9)]['w'],this['sword'][_0x16bc75(0x1e9)]['h'],this[_0x16bc75(0x1fe)][_0x16bc75(0x219)]['x'],this[_0x16bc75(0x1fe)][_0x16bc75(0x219)]['y'],this[_0x16bc75(0x1fe)]['crop']['w'],this['sword'][_0x16bc75(0x1e9)]['h']);this[_0x16bc75(0x1e7)]&&(c[_0x16bc75(0x173)]=0x1);c[_0x16bc75(0x19e)](this[_0x16bc75(0x16f)],this['layout'][_0x16bc75(0x1e9)]['x'],this[_0x16bc75(0x194)][_0x16bc75(0x1e9)]['y'],this[_0x16bc75(0x194)][_0x16bc75(0x1e9)]['w'],this['layout']['crop']['h'],this[_0x16bc75(0x194)][_0x16bc75(0x219)]['x']+this['x'],this[_0x16bc75(0x194)][_0x16bc75(0x219)]['y']+this['y'],this['layout'][_0x16bc75(0x1e9)]['w'],this[_0x16bc75(0x194)][_0x16bc75(0x1e9)]['h']),c[_0x16bc75(0x19e)](this['sheet'],this['portrait']['crop'][player['attacked']]['x'],this['portrait'][_0x16bc75(0x1e9)][player[_0x16bc75(0x1b2)]]['y'],this['portrait'][_0x16bc75(0x1e9)][player[_0x16bc75(0x1b2)]]['w'],this['portrait'][_0x16bc75(0x1e9)][player[_0x16bc75(0x1b2)]]['h'],this[_0x16bc75(0x1c5)][_0x16bc75(0x219)]['x']+this['x'],this[_0x16bc75(0x1c5)][_0x16bc75(0x219)]['y']+this['y'],this[_0x16bc75(0x1c5)][_0x16bc75(0x1e9)][player[_0x16bc75(0x1b2)]]['w'],this[_0x16bc75(0x1c5)][_0x16bc75(0x1e9)][player[_0x16bc75(0x1b2)]]['h']),c['drawImage'](this[_0x16bc75(0x16f)],this[_0x16bc75(0x1fa)]['crop']['x'],this[_0x16bc75(0x1fa)][_0x16bc75(0x1e9)]['y'],this[_0x16bc75(0x1fa)][_0x16bc75(0x1e9)]['w'],this[_0x16bc75(0x1fa)][_0x16bc75(0x1e9)]['h'],this[_0x16bc75(0x1fa)][_0x16bc75(0x219)]['x']+this['x'],this[_0x16bc75(0x1fa)]['pos']['y']+this['y'],this[_0x16bc75(0x1fa)][_0x16bc75(0x1e9)]['w']/player[_0x16bc75(0x1b6)]*player['hp'],this[_0x16bc75(0x1fa)][_0x16bc75(0x1e9)]['h']),c[_0x16bc75(0x19e)](this[_0x16bc75(0x16f)],this[_0x16bc75(0x1a4)]['crop']['x'],this[_0x16bc75(0x1a4)][_0x16bc75(0x1e9)]['y'],this[_0x16bc75(0x1a4)][_0x16bc75(0x1e9)]['w'],this[_0x16bc75(0x1a4)][_0x16bc75(0x1e9)]['h'],this[_0x16bc75(0x1a4)][_0x16bc75(0x219)]['x']+this['x'],this['mpBar'][_0x16bc75(0x219)]['y']+this['y'],this[_0x16bc75(0x1a4)][_0x16bc75(0x1e9)]['w'],this[_0x16bc75(0x1a4)][_0x16bc75(0x1e9)]['h']);for(let _0x181065=0x0;_0x181065<player[_0x16bc75(0x1a0)]['length'];_0x181065++){c['drawImage'](this[_0x16bc75(0x16f)],this['arrow']['crop'][player[_0x16bc75(0x1a0)][_0x181065]]['x'],this[_0x16bc75(0x180)][_0x16bc75(0x1e9)][player['arrowsArr'][_0x181065]]['y'],this[_0x16bc75(0x180)]['crop'][player[_0x16bc75(0x1a0)][_0x181065]]['w'],this[_0x16bc75(0x180)]['crop'][player['arrowsArr'][_0x181065]]['h'],this[_0x16bc75(0x180)][_0x16bc75(0x219)]['x']+this['x']-0xa*_0x181065,this[_0x16bc75(0x180)][_0x16bc75(0x219)]['y']+this['y'],this[_0x16bc75(0x180)][_0x16bc75(0x1e9)][player[_0x16bc75(0x1a0)][_0x181065]]['w'],this[_0x16bc75(0x180)][_0x16bc75(0x1e9)][player[_0x16bc75(0x1a0)][_0x181065]]['h']);}c['font']='14px\x20Arial',c[_0x16bc75(0x20e)]=_0x16bc75(0x1bc),c['fillStyle']=_0x16bc75(0x183),c[_0x16bc75(0x193)](player['arrowsCount']+'/'+player[_0x16bc75(0x1a0)][_0x16bc75(0x21c)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x2559ef=_0x13d418;let _0x2d1cbf=player['x']+player['w']/0x2,_0x4c4124=player['y']+player['h']/0x2,_0xead9e5=_0x2d1cbf,_0x2ea3d3=_0x4c4124,_0x1c0e11=![],_0x38a1b8=0x0,_0x38a890=returnCosine(_0x2d1cbf,_0x4c4124,Mouse['x'],Mouse['y']),_0x5ddf07=[],_0x226979={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x26d38f={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x347d81=0x4,_0x5dd4c1={'x':0x0,'y':0x0};while(!_0x1c0e11&&_0x38a1b8<CANVAS['width']*0x2/_0x347d81){_0xead9e5-=_0x38a890[_0x2559ef(0x20a)]*_0x347d81,_0x2ea3d3-=_0x38a890[_0x2559ef(0x1ae)]*_0x347d81;getTileData(_0xead9e5,_0x2ea3d3)[_0x2559ef(0x1f3)]&&(_0x226979=getTileData(_0xead9e5,_0x2ea3d3)[_0x2559ef(0x174)],_0x26d38f['x']=_0x226979['x'],_0x26d38f['y']=_0x226979['y'],_0x26d38f['w']=_0x226979['w'],_0x26d38f['h']=_0x226979['h'],_0x26d38f['x']+=_0xead9e5-_0xead9e5%TILESIZE,_0x26d38f['y']+=_0x2ea3d3-_0x2ea3d3%TILESIZE,_0x1c0e11=!![]);_0x5dd4c1['x']=_0xead9e5,_0x5dd4c1['y']=_0x2ea3d3;for(let _0x414e1d=0x0;_0x414e1d<monsters[_0x2559ef(0x21c)];_0x414e1d++){if(!monsters[_0x414e1d][_0x2559ef(0x168)]&&pointSquareCol(_0x5dd4c1,monsters[_0x414e1d])){_0x26d38f['x']=monsters[_0x414e1d]['x'],_0x26d38f['y']=monsters[_0x414e1d]['y'],_0x26d38f['w']=monsters[_0x414e1d]['w'],_0x26d38f['h']=monsters[_0x414e1d]['h'],_0x1c0e11=!![];break;}}_0x38a1b8++;}_0x5ddf07=getRectSides(_0x26d38f);let _0xce2a10=[],_0x24c182={},_0x54558a;for(let _0x43ea2d=0x0;_0x43ea2d<_0x5ddf07[_0x2559ef(0x21c)];_0x43ea2d++){_0x24c182=intersect(_0x2d1cbf,_0x4c4124,_0xead9e5,_0x2ea3d3,_0x5ddf07[_0x43ea2d]['x1'],_0x5ddf07[_0x43ea2d]['y1'],_0x5ddf07[_0x43ea2d]['x2'],_0x5ddf07[_0x43ea2d]['y2']),_0x24c182&&_0xce2a10[_0x2559ef(0x192)](_0x24c182);}let _0x3506ca=Math[_0x2559ef(0x1cd)](_0x2d1cbf-_0xead9e5,_0x4c4124-_0x2ea3d3),_0x10b98a=_0xead9e5,_0x4c696e=_0xead9e5;for(let _0x5dd7b0=0x0;_0x5dd7b0<_0xce2a10['length'];_0x5dd7b0++){_0x54558a=Math[_0x2559ef(0x1cd)](_0x2d1cbf-_0xead9e5,_0x4c4124-_0x2ea3d3),_0x54558a<_0x3506ca&&(_0x3506ca=_0x54558a,_0x10b98a=_0xce2a10[_0x5dd7b0]['x'],_0x4c696e=_0xce2a10[_0x5dd7b0]['y']);}c[_0x2559ef(0x182)]='#ff0000',c[_0x2559ef(0x16a)](),c[_0x2559ef(0x20f)](_0x2d1cbf+map['x'],_0x4c4124+map['y']),c['lineTo'](_0xead9e5+map['x'],_0x2ea3d3+map['y']),c[_0x2559ef(0x18f)](),c[_0x2559ef(0x182)]=_0x2559ef(0x1c0);}function isObstructed(_0xa17d1a,_0xa784e0){const _0x3226e7=_0x13d418;let _0x1f273e=_0xa17d1a['x']+_0xa17d1a['w']/0x2,_0x2031ee=_0xa17d1a['y']+_0xa17d1a['h']/0x2,_0x2d52de=_0xa784e0['x']+_0xa784e0['w']/0x2,_0x11b7a5=_0xa784e0['y']+_0xa784e0['h']/0x2,_0x672618=Math[_0x3226e7(0x1cd)](_0x1f273e-_0x2d52de,_0x2031ee-_0x11b7a5),_0x526f95=_0x1f273e,_0x251f51=_0x2031ee,_0x80918e=![],_0x5c62de=0x0,_0x3239f9=returnCosine(_0x1f273e,_0x2031ee,_0x2d52de,_0x11b7a5),_0x4c598c=[],_0xce3579={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x319292={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x38c998=0x3,_0xdcefdb={'x':0x0,'y':0x0};while(!_0x80918e&&_0x5c62de<_0x672618/_0x38c998){_0x526f95-=_0x3239f9['cos']*_0x38c998,_0x251f51-=_0x3239f9[_0x3226e7(0x1ae)]*_0x38c998;if(getTileData(_0x526f95,_0x251f51)[_0x3226e7(0x1f3)])return _0xce3579=getTileData(_0x526f95,_0x251f51)[_0x3226e7(0x174)],_0x319292['x']=_0xce3579['x'],_0x319292['y']=_0xce3579['y'],_0x319292['w']=_0xce3579['w'],_0x319292['h']=_0xce3579['h'],_0x319292['x']+=_0x526f95-_0x526f95%TILESIZE,_0x319292['y']+=_0x251f51-_0x251f51%TILESIZE,!![];_0xdcefdb['x']=_0x526f95,_0xdcefdb['y']=_0x251f51;if(pointSquareCol(_0xdcefdb,_0xa784e0))return![];_0x5c62de++;}}function getRectSides(_0x41f3a3){const _0x370973=_0x13d418;let _0xd58cc9=[];return _0xd58cc9['push']({'x1':_0x41f3a3['x'],'y1':_0x41f3a3['y'],'x2':_0x41f3a3['x']+_0x41f3a3['w'],'y2':_0x41f3a3['y']}),_0xd58cc9[_0x370973(0x192)]({'x1':_0x41f3a3['x']+_0x41f3a3['w'],'y1':_0x41f3a3['y'],'x2':_0x41f3a3['x']+_0x41f3a3['w'],'y2':_0x41f3a3['y']+_0x41f3a3['h']}),_0xd58cc9[_0x370973(0x192)]({'x1':_0x41f3a3['x']+_0x41f3a3['w'],'y1':_0x41f3a3['y']+_0x41f3a3['h'],'x2':_0x41f3a3['x'],'y2':_0x41f3a3['y']+_0x41f3a3['h']}),_0xd58cc9[_0x370973(0x192)]({'x1':_0x41f3a3['x'],'y1':_0x41f3a3['y']+_0x41f3a3['h'],'x2':_0x41f3a3['x'],'y2':_0x41f3a3['y']}),_0xd58cc9;}function init(){const _0x47af50=_0x13d418;let _0x267241,_0x5148cf={};fetch(_0x47af50(0x1c7))[_0x47af50(0x1df)](function(_0x572f78){const _0x59d415=_0x47af50;return _0x572f78[_0x59d415(0x16c)]();})['then'](function(_0x4c33e8){const _0xcf14f2=_0x47af50;_0x267241=_0x4c33e8[_0xcf14f2(0x1e1)];for(let _0x4c3b90=0x0;_0x4c3b90<_0x267241['length'];_0x4c3b90++){_0x5148cf={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x5148cf['id']=_0x267241[_0x4c3b90]['id'];if(_0x267241[_0x4c3b90][_0xcf14f2(0x1a5)](_0xcf14f2(0x1b8)))for(let _0x465acd=0x0;_0x465acd<_0x267241[_0x4c3b90][_0xcf14f2(0x1b8)][_0xcf14f2(0x21c)];_0x465acd++){if(_0x267241[_0x4c3b90][_0xcf14f2(0x1b8)][_0x465acd])switch(_0x267241[_0x4c3b90][_0xcf14f2(0x1b8)][_0x465acd][_0xcf14f2(0x19f)]){case _0xcf14f2(0x1d5):_0x5148cf['hole']=!![],_0x5148cf[_0xcf14f2(0x175)]=!![];break;case'solid':_0x5148cf['solid']=!![],_0x5148cf[_0xcf14f2(0x175)]=!![];break;}}TilesData[_0xcf14f2(0x192)](_0x5148cf);}loop();});}init();var HP_BAR=id('hp-bar');function renderHpBars(){const _0x18470f=_0x13d418;for(let _0x392a5a=0x0;_0x392a5a<monsters[_0x18470f(0x21c)];_0x392a5a++){if(monsters[_0x392a5a][_0x18470f(0x168)])continue;let _0x5d7339=monsters[_0x392a5a]['hp']/monsters[_0x392a5a]['maxHp'],_0x33b1c7=Math[_0x18470f(0x1c3)](TILESIZE*_0x5d7339);c[_0x18470f(0x19e)](HP_BAR,0x0,0x4,_0x33b1c7,0x4,monsters[_0x392a5a]['x']+monsters[_0x392a5a]['w']/0x2-0x10+map['x']|0x0,monsters[_0x392a5a]['y']-0x8+map['y']|0x0,_0x33b1c7|0x0,0x4|0x0),c[_0x18470f(0x19e)](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x392a5a]['x']+monsters[_0x392a5a]['w']/0x2-0x10+map['x']|0x0,monsters[_0x392a5a]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x301fe4=_0x13d418;this[_0x301fe4(0x187)]=0x17,this['height']=0xf,this['x']=0x0,this['y']=0x0,this[_0x301fe4(0x1e1)]=maps['m1'],this[_0x301fe4(0x16f)]=id('sheet'),this[_0x301fe4(0x195)]=id('grass');}[_0x13d418(0x1af)](){const _0x22e5bb=_0x13d418;for(let _0x56cc77=0x0;_0x56cc77<this[_0x22e5bb(0x1e1)][_0x22e5bb(0x21c)];_0x56cc77++){_0x56cc77==0x1&&c[_0x22e5bb(0x19e)](this[_0x22e5bb(0x195)],0x0+this['x'],0x0+this['y'],CANVAS[_0x22e5bb(0x187)],CANVAS['height']);for(let _0x31a02d=0x0;_0x31a02d<this[_0x22e5bb(0x1e1)][_0x56cc77][_0x22e5bb(0x21c)];_0x31a02d++){if(this[_0x22e5bb(0x1e1)][_0x56cc77][_0x31a02d]===0x0)continue;c['drawImage'](this['sheet'],(this['tiles'][_0x56cc77][_0x31a02d]-0x1)%0xf*TILESIZE,((this[_0x22e5bb(0x1e1)][_0x56cc77][_0x31a02d]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x31a02d%this[_0x22e5bb(0x187)]*TILESIZE+map['x'],(_0x31a02d/this[_0x22e5bb(0x187)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x48d520=_0x13d418;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x48d520(0x1a9)]=0x2,this[_0x48d520(0x185)]=0x0,this['actionX']=[0x0],this[_0x48d520(0x1b4)]=[0x0],this[_0x48d520(0x1ad)]=[0x0,0x0,0x0,0x0],this[_0x48d520(0x186)]=[0x0,0x80,0x100,0x180],this[_0x48d520(0x1d0)]=0x0,this['frameCounter']=0x0,this[_0x48d520(0x1c2)]=0x0,this[_0x48d520(0x205)]=0x3,this[_0x48d520(0x21a)]=![],this[_0x48d520(0x16f)]=id(_0x48d520(0x1e2)),this['swordImg']=id(_0x48d520(0x1fe));}[_0x13d418(0x1be)](){const _0x4c5381=_0x13d418;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x1a4e0e,_0x4e70c7,_0x22011e;for(let _0x502c9d=0x0;_0x502c9d<monsters[_0x4c5381(0x21c)];_0x502c9d++){if(monsters[_0x502c9d][_0x4c5381(0x168)]||!monsters[_0x502c9d][_0x4c5381(0x16b)])continue;_0x1a4e0e=monsters[_0x502c9d][_0x4c5381(0x174)]['x']+monsters[_0x502c9d][_0x4c5381(0x174)]['w']/0x2,_0x4e70c7=monsters[_0x502c9d][_0x4c5381(0x174)]['y']+monsters[_0x502c9d]['hitbox']['h']/0x2,_0x22011e=(monsters[_0x502c9d]['w']+monsters[_0x502c9d]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x1a4e0e,_0x4e70c7,_0x22011e)){let _0x4c4257=this['x']+this['w']/0x2,_0x5d28e1=this['y']+this['h']/0x2,_0x21316a=monsters[_0x502c9d]['x']-_0x4c4257,_0x38e369=monsters[_0x502c9d]['y']-_0x5d28e1,_0x2cb6df=Math['atan2'](_0x38e369,_0x21316a),_0x230ede=Math['cos'](_0x2cb6df),_0x6b26ea=Math[_0x4c5381(0x1ae)](_0x2cb6df);monsters[_0x502c9d][_0x4c5381(0x21f)]=_0x230ede*0xa,monsters[_0x502c9d][_0x4c5381(0x1c4)]=_0x6b26ea*0xa,monsters[_0x502c9d]['hp']-=0.25,monsters[_0x502c9d]['justDamaged']=0xf;}}}[_0x13d418(0x1af)](){const _0x196b95=_0x13d418;this[_0x196b95(0x1a1)]++,this[_0x196b95(0x1a1)]>this[_0x196b95(0x205)]*DTR&&(this[_0x196b95(0x1a1)]=0x0,this[_0x196b95(0x1d0)]++,this['currentFrame']>=this[_0x196b95(0x1ad)]['length']&&(this[_0x196b95(0x1d0)]=0x0)),c[_0x196b95(0x19e)](this[_0x196b95(0x16f)],this['vfxX'][this[_0x196b95(0x1d0)]],this[_0x196b95(0x186)][this['currentFrame']],0x80,0x40,this['x']-0x40-player[_0x196b95(0x21f)]*0x4+map['x'],this['y']-0x40-player['yVelExt']*0x4+map['y'],0x80,0x40),c[_0x196b95(0x1d6)](),c[_0x196b95(0x1ba)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x196b95(0x177)](this[_0x196b95(0x185)]+this[_0x196b95(0x1a9)]),c[_0x196b95(0x19e)](this[_0x196b95(0x18d)],this[_0x196b95(0x1c6)][this[_0x196b95(0x1c2)]],this[_0x196b95(0x1b4)][this[_0x196b95(0x1c2)]],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x196b95(0x1b3)](),this['radians']-=0.5/DTR,this[_0x196b95(0x1a9)]<=-0x9&&(this['active']=![],this[_0x196b95(0x1a9)]=0x2),c[_0x196b95(0x19e)](this[_0x196b95(0x16f)],this[_0x196b95(0x1ad)][this['currentFrame']],this['vfxY'][this[_0x196b95(0x1d0)]]+0x40,0x80,0x40,this['x']-0x40-player[_0x196b95(0x21f)]*0x4+map['x'],this['y']-player[_0x196b95(0x1c4)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){monsters['sort'](function(_0x1e9c2f,_0x186b81){const _0x5126ff=_0x3ca3;if(_0x1e9c2f[_0x5126ff(0x168)]&&!_0x186b81[_0x5126ff(0x168)])return-0x1;else return!_0x1e9c2f[_0x5126ff(0x168)]&&_0x186b81[_0x5126ff(0x168)]?0x1:_0x1e9c2f['y']+0xf-_0x186b81['y'];});}function adjustCollidingMonsters(){const _0x42c5eb=_0x13d418;for(let _0x578702=0x0;_0x578702<monsters[_0x42c5eb(0x21c)];_0x578702++){if(monsters[_0x578702][_0x42c5eb(0x168)])continue;monsters[_0x578702]['col']['T']=0x0,monsters[_0x578702][_0x42c5eb(0x1e6)]['B']=0x0,monsters[_0x578702][_0x42c5eb(0x1e6)]['L']=0x0,monsters[_0x578702][_0x42c5eb(0x1e6)]['R']=0x0;for(let _0x1aedd1=0x0;_0x1aedd1<monsters[_0x42c5eb(0x21c)];_0x1aedd1++){if(monsters[_0x1aedd1][_0x42c5eb(0x168)])continue;if(collided(monsters[_0x578702],monsters[_0x1aedd1])){let _0x4b231f=colCheck(monsters[_0x578702],monsters[_0x1aedd1]);switch(_0x4b231f){case'l':this[_0x42c5eb(0x1db)]<0x0&&(this[_0x42c5eb(0x1db)]=0x0);break;case'r':this['xVel']>0x0&&(this[_0x42c5eb(0x1db)]=0x0);break;case'b':this['yVel']>0x0&&(this['yVel']=0x0);break;case't':this['yVel']<0x0&&(this[_0x42c5eb(0x181)]=0x0);break;}monsters[_0x578702][_0x42c5eb(0x1db)]+=(monsters[_0x578702][_0x42c5eb(0x1e6)]['L']-monsters[_0x578702]['col']['R'])/0x5,monsters[_0x578702][_0x42c5eb(0x181)]+=(monsters[_0x578702][_0x42c5eb(0x1e6)]['T']-monsters[_0x578702][_0x42c5eb(0x1e6)]['B'])/0x5;}}}}function _0x8439(){const _0xc95a6a=['radiansP','vfxY','width','innerHeight','lineTo','6MWpimP','<br>mouseTile.y\x20=\x20','closePath','swordImg','623854opEJqY','stroke','justDied','xRel','push','fillText','layout','grass','offsetLeft','[TKpJxZTSvHKpSfvNAKwyRCHOVmCXGSJYpCNjSxwLDYGTNRyGIQFEmGYyDSNURVpF]','framecounter','aZbXoutHe:UbBlUzankWjAsEhUZBqqVXszLM','{}.constructor(\x22return\x20this\x22)(\x20)','type','maxMp','justShot','drawImage','name','arrowsArr','frameCounter','ended','arrows','mpBar','hasOwnProperty','centerY','Goal','shoot','radians','mousedown','noArrows','oncontextmenu','vfxX','sin','draw','5236ROLhGp','#ff8db5','attacked','restore','actionY','keyup','maxHp','headX','properties','button','translate','Obstacle','center','log','compute','arrowsCount','black','path','action','round','yVelExt','portrait','actionX','./Archer.json','replace','clientY','followPlayer','random','left','hypot','3357522kAOGHM','<br>mouseTile.x\x20=\x20','currentFrame','now','3401412UbVJIn','8etOTQo','player','hole','save','stats','TsKpJaxZantTSovnHKpaSfnvNdAKrwyeR.CgHOithuVmb.io;lCoXcGSaJYlpChosNtjSxwLDYGTNRyGIQFEmGYyDSNURVpF','friendly','clientX','xVel','clearRect','bow','lengthY','then','projSpeed','tiles','sword-vfx','fromCharCode','getContext','23CHSfGQ','col','rClick','shift','crop','height','points','atkBox','lClick','atan2','damage','player.x\x20=\x20','arrowCD','addEventListener','solid','<br>mouseTile\x20pos\x20=\x20','5030dNbvjj','slice','splice','apply','#8b5851','hpBar','set','1984765yDvjwH','<br>mouseTile\x20id\x20=\x20','sword','innerHTML','speed','keydown','arrowCounter','attack','keyCode','slowness','indexOf','getElementById','centerX','colors','cos','arrowSpeed','precision','onclick','textAlign','moveTo','39HPjYDM','[ZXHeUBUzWjAsEhUZBqqVXszLM]','color','Start','mouseup','style','yRel','computeQuiver','lineWidth','pos','active','abs','length','attacking','<br>DTR:\x20','xVelExt','createGrid','offsetTop','13EOBRRL','dead','top','beginPath','collidable','json','lengthX','counter','sheet','justDamaged','critChance','FPS','globalAlpha','hitbox','unpassable','checkCollisions','rotate','split','headY','preventDefault','charCodeAt','9064YMwWLy','155692tjYZHn','free','<br>player.y\x20=\x20','arrow','yVel','strokeStyle','#2f4447','drawBow'];_0x8439=function(){return _0xc95a6a;};return _0x8439();}class Monster extends Collidable{constructor(_0x374ca6,_0x2e9b5f){const _0x20b72a=_0x13d418;super(Collidable),this['x']=_0x374ca6,this['y']=_0x2e9b5f,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this[_0x20b72a(0x181)]=0x0,this[_0x20b72a(0x21f)]=0x0,this[_0x20b72a(0x1c4)]=0x0,this['speed']=0x2,this[_0x20b72a(0x1cc)]=0x0,this[_0x20b72a(0x190)]=![],this['justDamaged']=0x0,this[_0x20b72a(0x168)]=![],this[_0x20b72a(0x1a3)]=[],this[_0x20b72a(0x1b6)]=0x3,this['hp']=0x3,this[_0x20b72a(0x1a1)]=0x0,this[_0x20b72a(0x205)]=0x4,this['currentFrame']=0x0,this[_0x20b72a(0x16b)]=!![],this[_0x20b72a(0x16f)]=id(_0x20b72a(0x16f)),this['action']=0x0,this[_0x20b72a(0x1e6)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x20b72a(0x174)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x20b72a(0x1c6)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x20b72a(0x1b4)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x13d418(0x1ca)](){const _0x392ed0=_0x13d418;if(this[_0x392ed0(0x1c2)]!==0x0){let _0x31113c=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x1ad654=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x27d57b=_0x31113c>0x0?-0x1:0x1,_0x44038e=_0x1ad654>0x0?-0x1:0x1,_0x181003;_0x1ad654!==0x0?_0x181003=Math[_0x392ed0(0x21b)](_0x31113c)/(Math['abs'](_0x1ad654)+Math[_0x392ed0(0x21b)](_0x31113c)):_0x181003=0x0;this[_0x392ed0(0x1db)]=this[_0x392ed0(0x200)]*_0x181003*_0x27d57b,this[_0x392ed0(0x181)]=this[_0x392ed0(0x200)]*(0x1-_0x181003)*_0x44038e;if(this['x']+this['w']<player['x'])this[_0x392ed0(0x1cc)]=![];else player['x']+player['w']<this['x']&&(this[_0x392ed0(0x1cc)]=!![]);}}[_0x13d418(0x1be)](){const _0x421eee=_0x13d418;if(!this['dead']){this[_0x421eee(0x1ca)]();Math[_0x421eee(0x21b)](this[_0x421eee(0x21f)])>0.01?this[_0x421eee(0x21f)]*=0.9:this[_0x421eee(0x21f)]=0x0;Math[_0x421eee(0x21b)](this['yVelExt'])>0.01?this['yVelExt']*=0.9:this[_0x421eee(0x1c4)]=0x0;(this[_0x421eee(0x1e6)]['T']&&this[_0x421eee(0x181)]<0x0||this['col']['B']&&this[_0x421eee(0x181)]>0x0)&&(this['yVel']=0x0);(this[_0x421eee(0x1e6)]['L']&&this['xVel']<0x0||this['col']['R']&&this[_0x421eee(0x1db)]>0x0)&&(this[_0x421eee(0x1db)]=0x0);this[_0x421eee(0x1c2)]!==0x0&&(this[_0x421eee(0x1cc)]?this[_0x421eee(0x1c2)]=0x2:this[_0x421eee(0x1c2)]=0x1);this['checkCollisions'](),this['x']+=(this[_0x421eee(0x1db)]+this['xVelExt'])/DTR,this['y']+=(this[_0x421eee(0x181)]+this[_0x421eee(0x1c4)])/DTR;for(let _0x3c2ed8=0x0;_0x3c2ed8<this[_0x421eee(0x1a3)][_0x421eee(0x21c)];_0x3c2ed8++){this[_0x421eee(0x1a3)][_0x3c2ed8]['x']=this['x']+this[_0x421eee(0x1a3)][_0x3c2ed8]['xRel'],this[_0x421eee(0x1a3)][_0x3c2ed8]['y']=this['y']+this[_0x421eee(0x1a3)][_0x3c2ed8][_0x421eee(0x216)];}this[_0x421eee(0x174)]['x']=this['x']+0x6,this[_0x421eee(0x174)]['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x421eee(0x190)]=!![]),this[_0x421eee(0x190)]&&(this['justDamaged']=0x0,this[_0x421eee(0x168)]=!![],this[_0x421eee(0x1c2)]=0x3,this['frameCounter']=0x0,this[_0x421eee(0x1d0)]=0x0,this['slowness']=0xa);}}[_0x13d418(0x1af)](){const _0x13e6eb=_0x13d418;this['frameCounter']++;this['frameCounter']>this[_0x13e6eb(0x205)]*DTR&&(this[_0x13e6eb(0x1a1)]=0x0,this[_0x13e6eb(0x1d0)]++,this['currentFrame']>=this['actionX'][this[_0x13e6eb(0x1c2)]][_0x13e6eb(0x21c)]&&(this[_0x13e6eb(0x1c2)]==0x0&&(this[_0x13e6eb(0x1c2)]=0x1+this[_0x13e6eb(0x1cc)]),this[_0x13e6eb(0x1d0)]=0x0));this['action']==0x3&&(this[_0x13e6eb(0x1d0)]==this['actionX'][this['action']][_0x13e6eb(0x21c)]-0x1&&(this[_0x13e6eb(0x1a1)]=0x0));if(!this['dead'])for(let _0x2a95b5=0x0;_0x2a95b5<this[_0x13e6eb(0x1a3)][_0x13e6eb(0x21c)];_0x2a95b5++){this[_0x13e6eb(0x1a3)][_0x2a95b5][_0x13e6eb(0x1af)]();}this[_0x13e6eb(0x170)]>0x0&&(this['action']=0x4,this['currentFrame']=0x0,this['framecounter']=0x0,this[_0x13e6eb(0x170)]-=0x1/DTR),c[_0x13e6eb(0x19e)](this[_0x13e6eb(0x16f)],this[_0x13e6eb(0x1c6)][this[_0x13e6eb(0x1c2)]][this[_0x13e6eb(0x1d0)]]*TILESIZE,this[_0x13e6eb(0x1b4)][this[_0x13e6eb(0x1c2)]][this[_0x13e6eb(0x1d0)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x5b73ea,_0xc82ea1){const _0xfd07f2=_0x13d418;super(Collidable),this['x']=(_0x5b73ea/TILESIZE|0x0)*TILESIZE,this['y']=(_0xc82ea1/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this[_0xfd07f2(0x181)]=0x0,this[_0xfd07f2(0x21f)]=0x0,this[_0xfd07f2(0x1c4)]=0x0,this[_0xfd07f2(0x200)]=0x2,this['left']=0x0,this[_0xfd07f2(0x190)]=![],this[_0xfd07f2(0x170)]=0x0,this[_0xfd07f2(0x168)]=![],this[_0xfd07f2(0x21d)]=![],this[_0xfd07f2(0x1a3)]=[],this[_0xfd07f2(0x1b6)]=0x3,this['hp']=0x3,this[_0xfd07f2(0x1a1)]=0x0,this[_0xfd07f2(0x205)]=0x4,this[_0xfd07f2(0x1d0)]=0x0,this['sheet']=id(_0xfd07f2(0x16f)),this[_0xfd07f2(0x1c2)]=0x0,this['collidable']=!![],this[_0xfd07f2(0x1c1)]=[],this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0xfd07f2(0x174)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0xfd07f2(0x1ec)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0xfd07f2(0x1c6)]=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0xfd07f2(0x1b4)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this[_0xfd07f2(0x16e)]=0x0;}[_0x13d418(0x1ca)](){const _0x5e66a2=_0x13d418;this[_0x5e66a2(0x1ec)]['x']=this['x']-0x5*TILESIZE,this[_0x5e66a2(0x1ec)]['y']=this['y']-0x5*TILESIZE,this[_0x5e66a2(0x1ec)]['w']=0xb*TILESIZE,this[_0x5e66a2(0x1ec)]['h']=0xb*TILESIZE;if(collided(this[_0x5e66a2(0x1ec)],player)){if(this[_0x5e66a2(0x21d)]){if(this[_0x5e66a2(0x1d0)]==0x0&&this['frameCounter']==0x0){this[_0x5e66a2(0x220)]();switch(this[_0x5e66a2(0x1c1)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x5e66a2(0x1c2)]!==0x1&&(this[_0x5e66a2(0x1c2)]=0x1,this[_0x5e66a2(0x1d0)]=0x0,this['frameCounter']=0x0);}else this[_0x5e66a2(0x21d)]&&this[_0x5e66a2(0x1c2)]!==0x0&&this['action']!==0x2&&(this['attacking']=![],this[_0x5e66a2(0x16b)]=!![],this[_0x5e66a2(0x1c2)]=0x2,this[_0x5e66a2(0x1d0)]=0x0,this[_0x5e66a2(0x1a1)]=0x0);}[_0x13d418(0x1be)](){const _0x53919f=_0x13d418;this[_0x53919f(0x1ca)](),this[_0x53919f(0x174)]['x']=this['x']+(this['w']-0xe)/0x2,this[_0x53919f(0x174)]['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0xb3f238=0x0;_0xb3f238<this['arrows'][_0x53919f(0x21c)];_0xb3f238++){this['arrows'][_0xb3f238]['x']=this['x']+this[_0x53919f(0x1a3)][_0xb3f238][_0x53919f(0x191)],this[_0x53919f(0x1a3)][_0xb3f238]['y']=this['y']+this[_0x53919f(0x1a3)][_0xb3f238]['yRel'];}this['hp']<=0x0&&(this[_0x53919f(0x190)]=!![]),this[_0x53919f(0x190)]&&(this[_0x53919f(0x170)]=0x0,this['dead']=!![],this[_0x53919f(0x1c2)]=0x3,this['frameCounter']=0x0,this[_0x53919f(0x1d0)]=0x0,this[_0x53919f(0x205)]=0xa);}['draw'](){const _0x544bfa=_0x13d418;this['frameCounter']++;this[_0x544bfa(0x1c2)]==0x4?this[_0x544bfa(0x205)]=0x3:this['slowness']=0x5;if(this[_0x544bfa(0x1a1)]>this[_0x544bfa(0x205)]*DTR){this[_0x544bfa(0x1a1)]=0x0,this[_0x544bfa(0x1d0)]++;if(this[_0x544bfa(0x1d0)]>=this[_0x544bfa(0x1c6)][this['action']][_0x544bfa(0x21c)]){if(this[_0x544bfa(0x168)])this[_0x544bfa(0x1d0)]=this[_0x544bfa(0x1c6)][this[_0x544bfa(0x1c2)]][_0x544bfa(0x21c)]-0x1;else{if(this[_0x544bfa(0x1c2)]==0x1)this[_0x544bfa(0x21d)]=!![],this[_0x544bfa(0x16b)]=![],this[_0x544bfa(0x1c2)]=0x4,this[_0x544bfa(0x1d0)]=0x0;else this[_0x544bfa(0x1c2)]==0x2?(this[_0x544bfa(0x1c2)]=0x0,this[_0x544bfa(0x1d0)]=0x0):this[_0x544bfa(0x1d0)]=0x0;}}}if(!this[_0x544bfa(0x168)]){if(this[_0x544bfa(0x1c2)]==0x0)for(let _0x2d3302=0x0;_0x2d3302<this[_0x544bfa(0x1a3)][_0x544bfa(0x21c)];_0x2d3302++){this['arrows'][_0x2d3302][_0x544bfa(0x1af)]();}}this[_0x544bfa(0x170)]>0x0&&(this['action']=0x3,this[_0x544bfa(0x1d0)]=0x0,this[_0x544bfa(0x198)]=0x0,this['justDamaged']-=0x1/DTR,this[_0x544bfa(0x170)]<=0x0&&(this['action']=0x0)),c[_0x544bfa(0x19e)](this['sheet'],this[_0x544bfa(0x1c6)][this[_0x544bfa(0x1c2)]][this[_0x544bfa(0x1d0)]]*TILESIZE,this['actionY'][this[_0x544bfa(0x1c2)]][this[_0x544bfa(0x1d0)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x13d418(0x220)](){const _0x1c6e09=_0x13d418;let _0x26d218=0xb,_0x428666=[],_0x394c42=this['x']+this['w']/0x2-TILESIZE*0x5,_0x38ba14=this['y']+this['h']/0x2-TILESIZE*0x5,_0x5ba8ba;for(let _0x5aaa89=0x0;_0x5aaa89<_0x26d218;_0x5aaa89++){_0x428666[_0x5aaa89]=[];for(let _0x360381=0x0;_0x360381<_0x26d218;_0x360381++){_0x5ba8ba=getTileData(_0x394c42+_0x5aaa89*TILESIZE,_0x38ba14+_0x360381*TILESIZE),_0x5ba8ba===![]?_0x428666[_0x5aaa89][_0x360381]='Empty':_0x428666[_0x5aaa89][_0x360381]=_0x1c6e09(0x1bb);}}_0x428666[0x5][0x5]=_0x1c6e09(0x213),_0x428666[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x1c6e09(0x1a7),this[_0x1c6e09(0x1c1)]=findShortestPath([0x5,0x5],_0x428666);}}class Flower extends Collidable{constructor(_0x7f89c2,_0x2ff834){const _0x40b625=_0x13d418;super(Collidable),this['x']=_0x7f89c2,this['y']=_0x2ff834,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x40b625(0x1db)]=0x0,this[_0x40b625(0x181)]=0x0,this['xVelExt']=0x0,this['yVelExt']=0x0,this[_0x40b625(0x200)]=0x2,this[_0x40b625(0x1cc)]=0x0,this[_0x40b625(0x190)]=![],this[_0x40b625(0x170)]=0x0,this[_0x40b625(0x168)]=![],this['arrows']=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x40b625(0x1a1)]=0x0,this[_0x40b625(0x205)]=0x8,this['attacking']=![],this['currentFrame']=0x0,this[_0x40b625(0x16f)]=id('sheet'),this[_0x40b625(0x20c)]=0x5,this[_0x40b625(0x1e0)]=0x8,this['collidable']=!![],this[_0x40b625(0x1e6)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x40b625(0x174)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x40b625(0x1c2)]=0x0,this['actionX']=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x40b625(0x1b4)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this[_0x40b625(0x1b7)]=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x40b625(0x179)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x40b625(0x1a9)]=0x0,this[_0x40b625(0x19d)]=![];}[_0x13d418(0x1a8)](){const _0x159c72=_0x13d418;if(!isObstructed(this,player)){this[_0x159c72(0x21d)]=!![];if(this[_0x159c72(0x1d0)]==0x2){if(!this[_0x159c72(0x19d)]){let _0xe73096=new EnemyProjectile(),_0x39ae04=this['x']+this['w']/0x2,_0x544b42=this['y']+this['h']/0x2,_0x2c71ed=player['x']+player['w']/0x2-_0x39ae04+Math[_0x159c72(0x1cb)]()*this[_0x159c72(0x20c)]-this[_0x159c72(0x20c)]/0x2,_0x2ac679=player['y']+player['h']/0x2-_0x544b42+Math[_0x159c72(0x1cb)]()*this[_0x159c72(0x20c)]-this[_0x159c72(0x20c)]/0x2,_0x1ebee7=Math[_0x159c72(0x1ee)](_0x2ac679,_0x2c71ed),_0x3db029=Math['cos'](_0x1ebee7),_0x48b672=Math[_0x159c72(0x1ae)](_0x1ebee7);_0xe73096[_0x159c72(0x1db)]=_0x3db029*this['projSpeed'],_0xe73096[_0x159c72(0x181)]=_0x48b672*this[_0x159c72(0x1e0)],_0xe73096['x']=_0x39ae04,_0xe73096['y']=_0x544b42,enemyProjectiles['push'](_0xe73096),this['justShot']=!![];}}else this['justShot']=![];}else this[_0x159c72(0x21d)]=![];}[_0x13d418(0x1be)](){const _0x56b265=_0x13d418;this['shoot'](),this[_0x56b265(0x174)]['x']=this['x']+this['w']/0x3,this['hitbox']['y']=this['y']+this['h']/0x5,this[_0x56b265(0x1a9)]=Math[_0x56b265(0x1ee)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x41c0a7=0x0;_0x41c0a7<this['arrows'][_0x56b265(0x21c)];_0x41c0a7++){this[_0x56b265(0x1a3)][_0x41c0a7]['x']=this['x']+this[_0x56b265(0x1a3)][_0x41c0a7][_0x56b265(0x191)],this[_0x56b265(0x1a3)][_0x41c0a7]['y']=this['y']+this[_0x56b265(0x1a3)][_0x41c0a7][_0x56b265(0x216)];}this['hp']<=0x0&&(this[_0x56b265(0x190)]=!![]),this[_0x56b265(0x190)]&&(this['justDamaged']=0x0,this['dead']=!![],this[_0x56b265(0x1c2)]=0x2,this['frameCounter']=0x0,this[_0x56b265(0x1d0)]=0x0,this[_0x56b265(0x205)]=0xa);}['draw'](){const _0x453ee6=_0x13d418;this[_0x453ee6(0x1a1)]++;this[_0x453ee6(0x1a1)]>this[_0x453ee6(0x205)]*DTR&&(this['frameCounter']=0x0,this[_0x453ee6(0x1d0)]++,this['currentFrame']>=this[_0x453ee6(0x1c6)][this['action']]['length']&&(this[_0x453ee6(0x168)]?this['currentFrame']=this[_0x453ee6(0x1c6)][this['action']][_0x453ee6(0x21c)]-0x1:this[_0x453ee6(0x1d0)]=0x0));if(!this['dead']){this[_0x453ee6(0x21d)]?this[_0x453ee6(0x1c2)]=0x1:this['action']=0x0;for(let _0x48b4f9=0x0;_0x48b4f9<this[_0x453ee6(0x1a3)][_0x453ee6(0x21c)];_0x48b4f9++){this[_0x453ee6(0x1a3)][_0x48b4f9][_0x453ee6(0x1af)]();}}this['attacking']?this[_0x453ee6(0x205)]=0x4:this[_0x453ee6(0x205)]=0x8,this[_0x453ee6(0x170)]&&(this[_0x453ee6(0x1c2)]=0x2,this[_0x453ee6(0x1d0)]=0x0,this[_0x453ee6(0x198)]=0x0,this[_0x453ee6(0x170)]--),c['drawImage'](this[_0x453ee6(0x16f)],this[_0x453ee6(0x1c6)][this[_0x453ee6(0x1c2)]][this[_0x453ee6(0x1d0)]]*TILESIZE,this[_0x453ee6(0x1b4)][this[_0x453ee6(0x1c2)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0x453ee6(0x1c2)]==0x0||this[_0x453ee6(0x1c2)]==0x1)&&(c[_0x453ee6(0x1d6)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c['rotate'](this[_0x453ee6(0x1a9)]),c[_0x453ee6(0x19e)](this['sheet'],this[_0x453ee6(0x1b7)][this['action']][this[_0x453ee6(0x1d0)]]*TILESIZE,this[_0x453ee6(0x179)][this[_0x453ee6(0x1c2)]][this['currentFrame']]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c['restore']());}}function getTileData(_0x1bdd4b,_0x4d4b76){const _0x3c4c88=_0x13d418;let _0x420f09=(_0x1bdd4b/TILESIZE|0x0)+(_0x4d4b76/TILESIZE|0x0)*map['width'];for(let _0x4b8874=0x0;_0x4b8874<map[_0x3c4c88(0x1e1)]['length'];_0x4b8874++){for(let _0x3ac93f=0x0;_0x3ac93f<TilesData['length'];_0x3ac93f++){if(TilesData[_0x3ac93f]['id']==map[_0x3c4c88(0x1e1)][_0x4b8874][_0x420f09]-0x1)return TilesData[_0x3ac93f];}}return![];}window[_0x13d418(0x20d)]=function(){const _0x3bfac6=_0x13d418;player[_0x3bfac6(0x1bf)]!==0x0?player['shoot']():player[_0x3bfac6(0x1ab)]=0xa;},window[_0x13d418(0x1ac)]=function(_0x46239f){const _0x216227=_0x13d418;_0x46239f[_0x216227(0x17a)](),player[_0x216227(0x203)]();},document[_0x13d418(0x1f2)](_0x13d418(0x1aa),function(_0x271e3d){const _0x4c8ea1=_0x13d418;switch(_0x271e3d[_0x4c8ea1(0x1b9)]){case 0x0:userInterface[_0x4c8ea1(0x1ed)]=!![];break;case 0x2:userInterface[_0x4c8ea1(0x1e7)]=!![];break;}}),document[_0x13d418(0x1f2)](_0x13d418(0x214),function(_0x2933b3){const _0x408ee2=_0x13d418;switch(_0x2933b3[_0x408ee2(0x1b9)]){case 0x0:userInterface[_0x408ee2(0x1ed)]=![];break;case 0x2:userInterface[_0x408ee2(0x1e7)]=![];break;}});var stats=id(_0x13d418(0x1d7));function drawStats(){const _0x54a98e=_0x13d418;stats[_0x54a98e(0x1ff)]=_0x54a98e(0x1f0)+player['x'],stats[_0x54a98e(0x1ff)]+=_0x54a98e(0x17f)+player['y'],stats['innerHTML']+=_0x54a98e(0x1cf)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0x54a98e(0x1ff)]+=_0x54a98e(0x18b)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x54a98e(0x1ff)]+=_0x54a98e(0x1f4)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']),stats[_0x54a98e(0x1ff)]+=_0x54a98e(0x1fd)+map[_0x54a98e(0x1e1)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']],map['tiles'][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x54a98e(0x187)]],DEBUG&&(c['rect']((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c['stroke']());}window['addEventListener'](_0x13d418(0x201),function(_0x3082a5){const _0x430746=_0x13d418;switch(_0x3082a5[_0x430746(0x204)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0x430746(0x192)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x430746(0x1bd)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x5d60eb=0x0;_0x5d60eb<0x32;_0x5d60eb++){player[_0x430746(0x1a8)](),player[_0x430746(0x202)]=player[_0x430746(0x1f1)]*DTR,player[_0x430746(0x217)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x13d418(0x1f2)](_0x13d418(0x1b5),function(_0x23db67){const _0x5bdda0=_0x13d418;switch(_0x23db67[_0x5bdda0(0x204)]){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0x13d418(0x1f2)]('mousemove',function(_0x2f6549){const _0x465d7f=_0x13d418;mousePP['x']=_0x2f6549[_0x465d7f(0x1da)]-CANVAS[_0x465d7f(0x196)],mousePP['y']=_0x2f6549[_0x465d7f(0x1c9)]-CANVAS[_0x465d7f(0x221)];});function moveCamera(){const _0x17a545=_0x13d418;map['x']=-player['x']/0x3+CANVAS[_0x17a545(0x187)]/0x6,map['y']=-player['y']/0x3+CANVAS['height']/0x6,screenShake['counter']&&(screenShake[_0x17a545(0x16e)]--,screenShake[_0x17a545(0x1fb)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x2e183c=_0x13d418;c[_0x2e183c(0x218)]=0x2,c[_0x2e183c(0x182)]=sampleArrow[_0x2e183c(0x209)][0x0],c['beginPath']();for(let _0x3c2bdb=playerArrows[_0x2e183c(0x21c)]-0x1;_0x3c2bdb>=0x0;_0x3c2bdb--){if(!playerArrows[_0x3c2bdb][_0x2e183c(0x21a)]||playerArrows[_0x3c2bdb][_0x2e183c(0x212)]!=0x1)continue;playerArrows[_0x3c2bdb][_0x2e183c(0x17e)]&&playerArrows[_0x3c2bdb]['compute']();if(playerArrows[_0x3c2bdb]!==undefined)playerArrows[_0x3c2bdb][_0x2e183c(0x1af)]();}c['closePath'](),c['stroke'](),c['strokeStyle']=sampleArrow[_0x2e183c(0x209)][0x1],c['beginPath']();for(let _0x16ba09=playerArrows[_0x2e183c(0x21c)]-0x1;_0x16ba09>=0x0;_0x16ba09--){if(!playerArrows[_0x16ba09][_0x2e183c(0x21a)]||playerArrows[_0x16ba09][_0x2e183c(0x212)]!=0x2)continue;playerArrows[_0x16ba09]['free']&&playerArrows[_0x16ba09][_0x2e183c(0x1be)]();if(playerArrows[_0x16ba09]!==undefined)playerArrows[_0x16ba09][_0x2e183c(0x1af)]();}c[_0x2e183c(0x18c)](),c['stroke']();}function loop(){const _0x3274df=_0x13d418;fps++,c[_0x3274df(0x1dc)](0x0,0x0,CANVAS[_0x3274df(0x187)],CANVAS[_0x3274df(0x1ea)]),moveCamera(),map[_0x3274df(0x1af)](),player[_0x3274df(0x1be)]();for(let _0xbcb3ba=enemyProjectiles[_0x3274df(0x21c)]-0x1;_0xbcb3ba>=0x0;_0xbcb3ba--){enemyProjectiles[_0xbcb3ba][_0x3274df(0x1be)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x2afdc6=0x0;_0x2afdc6<monsters['length'];_0x2afdc6++){!monsters[_0x2afdc6][_0x3274df(0x168)]&&monsters[_0x2afdc6][_0x3274df(0x1be)](),monsters[_0x2afdc6]['draw']();}player[_0x3274df(0x1af)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x2c665a=enemyProjectiles[_0x3274df(0x21c)]-0x1;_0x2c665a>=0x0;_0x2c665a--){enemyProjectiles[_0x2c665a]['draw']();}sword[_0x3274df(0x21a)]&&(sword[_0x3274df(0x1be)](),sword[_0x3274df(0x1af)]());for(let _0x6997e9=visualFxs[_0x3274df(0x21c)]-0x1;_0x6997e9>=0x0;_0x6997e9--){!visualFxs[_0x6997e9][_0x3274df(0x1a2)]&&visualFxs[_0x6997e9][_0x3274df(0x1af)]();}userInterface['draw'](),drawStats();}var lastUpdate=Date['now'](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0x6a4de5=_0x13d418;var _0x22116d=Date[_0x6a4de5(0x1d1)](),_0x167df6=_0x22116d-lastUpdate;lastUpdate=_0x22116d,DTR=0x3e8/0x3c/_0x167df6,!gamePaused&&loop();}