'strict';function _0x4452(){const _0x297d14=['arrow','player.x\x20=\x20','random','clientX','set','framecounter','fromCharCode','yVel','frameCounter','portrait','radians','addEventListener','lClick','getContext','layout','justShot','free','getElementById','./Archer.json','justDied','pos','color','hitbox','lengthX','fillText','drawBow','actionX','#ff0000','stroke','xVelExt','<br>mouseTile.x\x20=\x20','log','slice','lineWidth','Goal','solid','player','crop','charCodeAt','type','followPlayer','save','colors','currentFrame','width','canvas','noArrows','push','speed','font','FPS','<br>mouseTile\x20id\x20=\x20','centerX','beginPath','6787287qGOldH','4129914IfKXzK','arrows','preventDefault','xVel','splice','clearRect','arrowsCount','stats','oncontextmenu','hpBar','unpassable','replace','name','apply','hole','rect','maxHp','drawImage','critChance','actionY','atan2','1404CRBbhj','attacked','restore','4408760BRWopA','keyCode','13528cqApXA','bow','shift','sin','headX','innerHeight','indexOf','grass','draw','path','moveTo','624015lsMuFP','#8b5851','sword-vfx','cos','lengthY','projSpeed','precision','split','collidable','col','style','[WipfLMCRffKGNeGmqWKUgCpDA]','round','WiabopfLut:bMCRlfafKnGNekGmqWKUgCpDA','<br>player.y\x20=\x20','sheet','atkBox','tiles','290ywlkBs','counter','friendly','ended','top','then','offsetLeft','sword','justDamaged','mpBar','yRel','lineTo','closePath','arrowSpeed','attack','checkCollisions','Empty','fillStyle','innerWidth','vfxX','hypot','headY','offsetTop','textAlign','{}.constructor(\x22return\x20this\x22)(\x20)','left','now','dead','FPS:\x20','center','properties','vfxY','xRel','attacking','globalAlpha','active','button','7EqdnDR','imageSmoothingEnabled','slowness','height','onclick','swordImg','arrowsArr','translate','arrowCD','#ff8db5','keydown','strokeStyle','action','1451988WnxMyK','hp-bar','ui-sheet','innerHTML','radiansP','clientY','[OjNpHqEKYvQvLBWYJQpSIADKITffYmVxYNXWBNMEDzNCyLSExvWkZPmwYOXLAARXTFk]','<br>DTR:\x20','rClick','rotate','points','sort','maxMp','abs','yVelExt','arrowCounter','length','damage','computeQuiver','compute','shoot','return\x20(function()\x20'];_0x4452=function(){return _0x297d14;};return _0x4452();}const _0x12445e=_0x3d7a;(function(_0xa38e77,_0x5db83d){const _0x23835a=_0x3d7a,_0x342e88=_0xa38e77();while(!![]){try{const _0xbe3288=-parseInt(_0x23835a(0xe4))/0x1+-parseInt(_0x23835a(0x128))/0x2+-parseInt(_0x23835a(0xd4))/0x3+parseInt(_0x23835a(0xd9))/0x4*(-parseInt(_0x23835a(0xf6))/0x5)+parseInt(_0x23835a(0xbf))/0x6+parseInt(_0x23835a(0x11b))/0x7*(parseInt(_0x23835a(0xd7))/0x8)+parseInt(_0x23835a(0xbe))/0x9;if(_0xbe3288===_0x5db83d)break;else _0x342e88['push'](_0x342e88['shift']());}catch(_0x2814cc){_0x342e88['push'](_0x342e88['shift']());}}}(_0x4452,0x6d1cc));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0x12445e(0xb5)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS[_0x12445e(0x95)]('2d');CANVAS[_0x12445e(0xb4)]=0x2e0,CANVAS['height']=0x1e0,CANVAS[_0x12445e(0xee)][_0x12445e(0x10f)]=(window[_0x12445e(0x108)]-CANVAS[_0x12445e(0xb4)])/0x2+'px',CANVAS['style'][_0x12445e(0xfa)]=(window[_0x12445e(0xde)]-CANVAS['height'])/0x2+'px',c[_0x12445e(0x11c)]=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x476906){const _0x5233ff=_0x12445e,_0xffa0de=(function(){let _0x2a7e21=!![];return function(_0x5e52b3,_0x54225b){const _0x55b3df=_0x2a7e21?function(){const _0x1dd60d=_0x3d7a;if(_0x54225b){const _0x1c00b2=_0x54225b[_0x1dd60d(0xcc)](_0x5e52b3,arguments);return _0x54225b=null,_0x1c00b2;}}:function(){};return _0x2a7e21=![],_0x55b3df;};}()),_0x5c3464=_0xffa0de(this,function(){const _0xe1f9b8=_0x3d7a,_0xb38d30=function(){const _0x1bcfd6=_0x3d7a;let _0x21a97a;try{_0x21a97a=Function(_0x1bcfd6(0x87)+_0x1bcfd6(0x10e)+');')();}catch(_0x547617){_0x21a97a=window;}return _0x21a97a;},_0x585360=_0xb38d30(),_0x17066d=new RegExp(_0xe1f9b8(0x12e),'g'),_0x178ca3='OsajNanpHtqonandrEKYveQvLBWYJQ.pgitSIhAuDKIb.iToff;loYmVxcalhYNXoWsBtNMEDzNCyLSExvWkZPmwYOXLAARXTFk'[_0xe1f9b8(0xca)](_0x17066d,'')[_0xe1f9b8(0xeb)](';');let _0x2bd528,_0x4f0ce2,_0x183a03,_0x547f2f;const _0x510039=function(_0x1c9d5e,_0x104500,_0x31e1c2){const _0x391ede=_0xe1f9b8;if(_0x1c9d5e[_0x391ede(0x82)]!=_0x104500)return![];for(let _0xf4d54=0x0;_0xf4d54<_0x104500;_0xf4d54++){for(let _0xf643d9=0x0;_0xf643d9<_0x31e1c2[_0x391ede(0x82)];_0xf643d9+=0x2){if(_0xf4d54==_0x31e1c2[_0xf643d9]&&_0x1c9d5e[_0x391ede(0xae)](_0xf4d54)!=_0x31e1c2[_0xf643d9+0x1])return![];}}return!![];},_0x335c0f=function(_0x2f9e37,_0x34da33,_0x5cf1cf){return _0x510039(_0x34da33,_0x5cf1cf,_0x2f9e37);},_0x276fd1=function(_0x462b46,_0x5d3a5c,_0x24c377){return _0x335c0f(_0x5d3a5c,_0x462b46,_0x24c377);},_0x1a6b58=function(_0x1df853,_0x153e3d,_0x27f14d){return _0x276fd1(_0x153e3d,_0x27f14d,_0x1df853);};for(let _0x1952cf in _0x585360){if(_0x510039(_0x1952cf,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2bd528=_0x1952cf;break;}}for(let _0x79a8e2 in _0x585360[_0x2bd528]){if(_0x1a6b58(0x6,_0x79a8e2,[0x5,0x6e,0x0,0x64])){_0x4f0ce2=_0x79a8e2;break;}}for(let _0x2c3b54 in _0x585360[_0x2bd528]){if(_0x276fd1(_0x2c3b54,[0x7,0x6e,0x0,0x6c],0x8)){_0x183a03=_0x2c3b54;break;}}if(!('~'>_0x4f0ce2))for(let _0x33d882 in _0x585360[_0x2bd528][_0x183a03]){if(_0x335c0f([0x7,0x65,0x0,0x68],_0x33d882,0x8)){_0x547f2f=_0x33d882;break;}}if(!_0x2bd528||!_0x585360[_0x2bd528])return;const _0x354d3a=_0x585360[_0x2bd528][_0x4f0ce2],_0x588fed=!!_0x585360[_0x2bd528][_0x183a03]&&_0x585360[_0x2bd528][_0x183a03][_0x547f2f],_0x2230e9=_0x354d3a||_0x588fed;if(!_0x2230e9)return;let _0x3f0797=![];for(let _0x577192=0x0;_0x577192<_0x178ca3[_0xe1f9b8(0x82)];_0x577192++){const _0x3ac962=_0x178ca3[_0x577192],_0x61727f=_0x3ac962[0x0]===String[_0xe1f9b8(0x8e)](0x2e)?_0x3ac962[_0xe1f9b8(0xa8)](0x1):_0x3ac962,_0x5d21fa=_0x2230e9[_0xe1f9b8(0x82)]-_0x61727f[_0xe1f9b8(0x82)],_0x53e0ee=_0x2230e9[_0xe1f9b8(0xdf)](_0x61727f,_0x5d21fa),_0x5c43aa=_0x53e0ee!==-0x1&&_0x53e0ee===_0x5d21fa;_0x5c43aa&&((_0x2230e9[_0xe1f9b8(0x82)]==_0x3ac962['length']||_0x3ac962[_0xe1f9b8(0xdf)]('.')===0x0)&&(_0x3f0797=!![]));}if(!_0x3f0797){const _0x265b00=new RegExp(_0xe1f9b8(0xef),'g'),_0x125f05=_0xe1f9b8(0xf1)[_0xe1f9b8(0xca)](_0x265b00,'');_0x585360[_0x2bd528][_0x183a03]=_0x125f05;}});return _0x5c3464(),document[_0x5233ff(0x99)](_0x476906);}var fpsDiv=id(_0x12445e(0xba));setInterval(function(){const _0x240a5b=_0x12445e;fpsDiv['innerHTML']=_0x240a5b(0x112)+fps,fpsDiv[_0x240a5b(0x12b)]+=_0x240a5b(0x12f)+DTR['toPrecision'](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x424833=_0x12445e;this['x']=Math[_0x424833(0x8a)]()*0x8-0x4|0x0,this['y']=Math[_0x424833(0x8a)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x35e025=_0x12445e;this['x']=0x0,this['y']=0x0,this[_0x35e025(0x8f)]=0x0,this[_0x35e025(0xc2)]=0x0,this[_0x35e025(0x116)]=0x0,this[_0x35e025(0x100)]=0x0,this['active']=!![],this[_0x35e025(0x98)]=!![],this[_0x35e025(0xf8)]=!![],this['lengthX']=0x0,this[_0x35e025(0xe8)]=0x0,this[_0x35e025(0x83)]=0x1,this[_0x35e025(0x9d)]=0x0,this['colors']=[_0x35e025(0xe5),_0x35e025(0x124)],this[_0x35e025(0x132)]={'x':0x0,'y':0x0};}[_0x12445e(0xe1)](){const _0x510331=_0x12445e;Math['abs'](this[_0x510331(0xc2)]*0x3)>Math[_0x510331(0x7f)](this['lengthX'])&&(this[_0x510331(0x9f)]=this['xVel']*0x3,this[_0x510331(0xe8)]=this[_0x510331(0x8f)]*0x3),this[_0x510331(0x132)]['x']=this['x']+this[_0x510331(0x9f)],this[_0x510331(0x132)]['y']=this['y']+this['lengthY'],c[_0x510331(0xe3)](this['x']+map['x'],this['y']+map['y']),c['lineTo'](this['x']+this[_0x510331(0x9f)]+map['x'],this['y']+this[_0x510331(0xe8)]+map['y']);}[_0x12445e(0x85)](){const _0x4be674=_0x12445e;this['x']+=this[_0x4be674(0xc2)]/DTR,this['y']+=this['yVel']/DTR;if(getTileData(this['x'],this['y'])[_0x4be674(0xab)])visualFxs['push'](new Explosion(this['x']+this[_0x4be674(0xc2)],this['y']+this[_0x4be674(0x8f)],this['color'])),this[_0x4be674(0x9d)]==0x2&&(screenShake[_0x4be674(0xf7)]=0x5),this[_0x4be674(0xc2)]=0x0,this[_0x4be674(0x8f)]=0x0,this['lengthX']/=0x2,this[_0x4be674(0xe8)]/=0x2,this[_0x4be674(0x98)]=![];else for(let _0x2a285a=monsters['length']-0x1;_0x2a285a>=0x0;_0x2a285a--){let _0x33c680=monsters[_0x2a285a];!_0x33c680[_0x4be674(0x111)]&&_0x33c680[_0x4be674(0xec)]&&((pointSquareCol(this,_0x33c680)||pointSquareCol(this[_0x4be674(0x132)],_0x33c680))&&(this['active']=![],_0x33c680[_0x4be674(0xa5)]=this[_0x4be674(0xc2)]/0x2,_0x33c680['yVelExt']=this[_0x4be674(0x8f)]/0x2,visualFxs[_0x4be674(0xb7)](new Explosion(this['x'],this['y'],this['color'])),this['color']==0x2&&(screenShake[_0x4be674(0xf7)]=0x5),this[_0x4be674(0xc2)]=0x0,this['yVel']=0x0,this[_0x4be674(0x116)]=this['x']-_0x33c680['x'],this['yRel']=this['y']-_0x33c680['y'],_0x33c680['arrows']['push'](this),_0x33c680['hp']-=this[_0x4be674(0x83)],_0x33c680[_0x4be674(0xfe)]=0xf));}}}function _0x3d7a(_0x36165c,_0x3da71d){const _0x82120f=_0x4452();return _0x3d7a=function(_0x4a01da,_0x56cd26){_0x4a01da=_0x4a01da-0x7e;let _0x495eec=_0x82120f[_0x4a01da];return _0x495eec;},_0x3d7a(_0x36165c,_0x3da71d);}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x1a52a6=_0x12445e;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x1a52a6(0x8f)]=0x0,this[_0x1a52a6(0xc2)]=0x0,this[_0x1a52a6(0x98)]=!![],this[_0x1a52a6(0xf8)]=![],this[_0x1a52a6(0xf3)]=id(_0x1a52a6(0xf3)),this[_0x1a52a6(0xa2)]=[0x5],this['actionY']=[0x18],this[_0x1a52a6(0xaf)]=0x0,this[_0x1a52a6(0x83)]=0x5;}['compute'](){const _0x30172a=_0x12445e;this['x']+=this[_0x30172a(0xc2)]/DTR,this['y']+=this[_0x30172a(0x8f)]/DTR,getTileData(this['x'],this['y'])[_0x30172a(0xab)]?(enemyProjectiles['splice'](enemyProjectiles[_0x30172a(0xdf)](this),0x1),visualFxs[_0x30172a(0xb7)](new Explosion(this['x']+this[_0x30172a(0xc2)],this['y']+this['yVel'],0x1)),this[_0x30172a(0xc2)]=0x0,this[_0x30172a(0x8f)]=0x0,this[_0x30172a(0x9f)]/=0x2,this[_0x30172a(0xe8)]/=0x2,this[_0x30172a(0x98)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x30172a(0xc3)](enemyProjectiles[_0x30172a(0xdf)](this),0x1),player[_0x30172a(0xa5)]+=this[_0x30172a(0xc2)]/0x2,player[_0x30172a(0x80)]+=this[_0x30172a(0x8f)]/0x2,player['hp']-=this[_0x30172a(0x83)],visualFxs[_0x30172a(0xb7)](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x30172a(0xf7)]=0x5);}['draw'](){const _0x3c5fee=_0x12445e;c[_0x3c5fee(0xd0)](this[_0x3c5fee(0xf3)],this['actionX'][this[_0x3c5fee(0xaf)]]*TILESIZE,this[_0x3c5fee(0xd2)][this[_0x3c5fee(0xaf)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0x13fd70,_0x3aaf43,_0x2810bc){const _0x5bc5e2=_0x12445e;this[_0x5bc5e2(0xf3)]=id('sheet'),this['x']=_0x13fd70-0x10,this['y']=_0x3aaf43-0x10,this['w']=0x20,this['h']=0x20,this['frameCounter']=0x0,this[_0x5bc5e2(0xb3)]=0x0,this[_0x5bc5e2(0x127)]=_0x2810bc-0x1,this[_0x5bc5e2(0xa2)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this['actionY']=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this['slowness']=0x4,this[_0x5bc5e2(0xf9)]=![];}[_0x12445e(0xe1)](){const _0x5740e6=_0x12445e;c['drawImage'](this[_0x5740e6(0xf3)],this[_0x5740e6(0xa2)][this[_0x5740e6(0x127)]][this[_0x5740e6(0xb3)]],this['actionY'][this[_0x5740e6(0x127)]][this['currentFrame']],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this['frameCounter']++,this[_0x5740e6(0x90)]>this[_0x5740e6(0x11d)]*DTR&&(this[_0x5740e6(0x90)]=0x0,this[_0x5740e6(0xb3)]++,this['currentFrame']>this['actionX'][this[_0x5740e6(0x127)]][_0x5740e6(0x82)]-0x1&&(this[_0x5740e6(0xf9)]=!![]));}}class Collidable{constructor(){}[_0x12445e(0x105)](){const _0x5154c5=_0x12445e;let _0x25ad1a;this[_0x5154c5(0xed)]['T']=0x0,this[_0x5154c5(0xed)]['B']=0x0,this[_0x5154c5(0xed)]['L']=0x0,this[_0x5154c5(0xed)]['R']=0x0,getTileData(this['x'],this['y'])[_0x5154c5(0xc9)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x25ad1a=colCheck(this,generatedSquare),this['x']+=(this[_0x5154c5(0xed)]['L']-this[_0x5154c5(0xed)]['R'])/0x5/DTR,this['y']+=(this[_0x5154c5(0xed)]['T']-this[_0x5154c5(0xed)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])[_0x5154c5(0xc9)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x25ad1a=colCheck(this,generatedSquare),this['x']+=(this[_0x5154c5(0xed)]['L']-this[_0x5154c5(0xed)]['R'])/0x5/DTR,this['y']+=(this[_0x5154c5(0xed)]['T']-this[_0x5154c5(0xed)]['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])[_0x5154c5(0xc9)]&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x25ad1a=colCheck(this,generatedSquare),this['x']+=(this[_0x5154c5(0xed)]['L']-this[_0x5154c5(0xed)]['R'])/0x5/DTR,this['y']+=(this[_0x5154c5(0xed)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x5154c5(0xc9)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x25ad1a=colCheck(this,generatedSquare),this['x']+=(this[_0x5154c5(0xed)]['L']-this[_0x5154c5(0xed)]['R'])/0x5/DTR,this['y']+=(this[_0x5154c5(0xed)]['T']-this[_0x5154c5(0xed)]['B'])/0x5/DTR),this['col']['B']&&(this[_0x5154c5(0x80)]>0x0&&(this['yVelExt']*=-0.5)),this[_0x5154c5(0xed)]['T']&&(this[_0x5154c5(0x80)]<0x0&&(this['yVelExt']*=-0.5)),this['col']['R']&&(this[_0x5154c5(0xa5)]>0x0&&(this[_0x5154c5(0xa5)]*=-0.5)),this['col']['L']&&(this[_0x5154c5(0xa5)]<0x0&&(this[_0x5154c5(0xa5)]*=-0.5));}}class Player extends Collidable{constructor(_0x1d6c8c,_0x41ff75){const _0x4b69dc=_0x12445e;super(Collidable),this['x']=_0x1d6c8c,this['y']=_0x41ff75,this['w']=TILESIZE,this['h']=TILESIZE,this['speed']=0x3,this['yVel']=0x0,this['xVel']=0x0,this[_0x4b69dc(0x80)]=0x0,this['xVelExt']=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this['arrowSpeed']=0xa,this[_0x4b69dc(0xbc)]=0x0,this['centerY']=0x0,this[_0x4b69dc(0xed)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x4b69dc(0xa2)]=[0x0,0x20,0x40],this[_0x4b69dc(0xd2)]=[0x0,0x0,0x0],this['action']=0x0,this['frameCounter']=0x0,this[_0x4b69dc(0x11d)]=0x6,this[_0x4b69dc(0x92)]=0x0,this[_0x4b69dc(0xfd)]=![],this[_0x4b69dc(0xea)]=0x14,this[_0x4b69dc(0xb6)]=0x0,this[_0x4b69dc(0xd5)]=0x0,this[_0x4b69dc(0x121)]=[0x1,0x1,0x1,0x1,0x1],this[_0x4b69dc(0x123)]=0x3c,this[_0x4b69dc(0x81)]=0x0,this[_0x4b69dc(0xc5)]=0x4,this['hp']=0x64,this[_0x4b69dc(0xcf)]=0x64,this['mp']=0x64,this[_0x4b69dc(0x7e)]=0x64,this[_0x4b69dc(0xd1)]=0.25,this[_0x4b69dc(0xda)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}[_0x12445e(0x84)](){const _0x5ba675=_0x12445e;let _0x26b2fc=!![],_0x156caa;for(_0x156caa=0x0;_0x156caa<this[_0x5ba675(0x121)]['length'];_0x156caa++){if(this['arrowsArr'][_0x156caa]===0x0){_0x26b2fc=![];break;}}this[_0x5ba675(0xc5)]=_0x156caa;if(!_0x26b2fc){this[_0x5ba675(0x81)]++;if(this['arrowCounter']>this[_0x5ba675(0x123)]*DTR)for(_0x156caa=0x0;_0x156caa<this[_0x5ba675(0x121)]['length'];_0x156caa++){if(this[_0x5ba675(0x121)][_0x156caa]===0x0){Math['random']()<this[_0x5ba675(0xd1)]?this[_0x5ba675(0x121)][_0x156caa]=0x2:this[_0x5ba675(0x121)][_0x156caa]=0x1;this[_0x5ba675(0x81)]=0x0;break;}}}else this['arrowCounter']=0x0;}['compute'](){const _0x1af9be=_0x12445e;this['computeQuiver'](),this[_0x1af9be(0xbc)]=this['x']+this['w']/0x2,this['centerY']=this['y']+this['h']/0x2,this['checkCollisions']();Math['abs'](this[_0x1af9be(0xa5)])>0.01?this[_0x1af9be(0xa5)]-=this['xVelExt']*0.1/DTR:this[_0x1af9be(0xa5)]=0x0;Math[_0x1af9be(0x7f)](this[_0x1af9be(0x80)])>0.01?this[_0x1af9be(0x80)]-=this[_0x1af9be(0x80)]*0.1/DTR:this[_0x1af9be(0x80)]=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x1af9be(0xb8)]=0x2:this[_0x1af9be(0xb8)]=0x3;this[_0x1af9be(0x92)]=Math['atan2'](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this['xVel']=-this[_0x1af9be(0xb8)];else!this['R']&&(this[_0x1af9be(0xc2)]=0x0);if(this['R'])this[_0x1af9be(0xc2)]=this[_0x1af9be(0xb8)];else!this['L']&&(this[_0x1af9be(0xc2)]=0x0);if(this['T'])this['yVel']=-this[_0x1af9be(0xb8)];else!this['B']&&(this[_0x1af9be(0x8f)]=0x0);if(this['B'])this[_0x1af9be(0x8f)]=this[_0x1af9be(0xb8)];else!this['T']&&(this[_0x1af9be(0x8f)]=0x0);this['x']+=(this[_0x1af9be(0xc2)]+this[_0x1af9be(0xa5)])/DTR,this['y']+=(this[_0x1af9be(0x8f)]+this[_0x1af9be(0x80)])/DTR;}['draw'](){const _0x217b84=_0x12445e;this['xVel']===0x0&&this[_0x217b84(0x8f)]===0x0?this['action']=0x0:(this['frameCounter']++,this['frameCounter']>=this[_0x217b84(0x11d)]*DTR&&(this[_0x217b84(0x127)]++,this[_0x217b84(0x90)]=0x0,this[_0x217b84(0x127)]>=this[_0x217b84(0xa2)][_0x217b84(0x82)]&&(this['action']=0x0))),c[_0x217b84(0xb1)](),c[_0x217b84(0x122)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x217b84(0x131)](this[_0x217b84(0x92)]),c['drawImage'](id(_0x217b84(0xac)),this['actionX'][this[_0x217b84(0x127)]],this[_0x217b84(0xd2)][this[_0x217b84(0x127)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x217b84(0xd6)](),this[_0x217b84(0xb6)]&&(c['drawImage'](id('sheet'),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this['noArrows']--),this['bow'][_0x217b84(0x119)]&&this['drawBow']();}[_0x12445e(0xa1)](){const _0x252b38=_0x12445e;this[_0x252b38(0xda)]['frameCounter']++,this[_0x252b38(0xda)][_0x252b38(0x90)]>=this[_0x252b38(0xda)][_0x252b38(0x11d)]*DTR&&(this[_0x252b38(0xda)][_0x252b38(0x127)]++,this[_0x252b38(0xda)][_0x252b38(0x90)]=0x0,this[_0x252b38(0xda)]['active']>=this[_0x252b38(0xda)]['actionX'][_0x252b38(0x82)]&&(this[_0x252b38(0xda)]['active']=![])),c[_0x252b38(0xb1)](),c['translate'](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0x252b38(0x131)](this[_0x252b38(0x92)]),c[_0x252b38(0xd0)](id(_0x252b38(0xda)),this[_0x252b38(0xda)][_0x252b38(0xa2)][this[_0x252b38(0xda)]['action']],this[_0x252b38(0xda)][_0x252b38(0xd2)][this[_0x252b38(0xda)]['action']],0x30,0x30,-this[_0x252b38(0xda)]['w']/0x2,-this[_0x252b38(0xda)]['h'],this[_0x252b38(0xda)]['w'],this[_0x252b38(0xda)]['h']),c['restore']();}['shoot'](){const _0x597771=_0x12445e;this['bow'][_0x597771(0x119)]=!![],this[_0x597771(0xda)][_0x597771(0x90)]=0x0,this[_0x597771(0xda)]['currentFrame']=0x0,this[_0x597771(0xda)][_0x597771(0x127)]=0x0;let _0x39e2d4=this['x']+this['w']/0x2,_0x1460d1=this['y']+this['h']/0x2,_0x58eca4=Mouse['x']-_0x39e2d4+Math[_0x597771(0x8a)]()*this[_0x597771(0xea)]-this[_0x597771(0xea)]/0x2,_0x56e50f=Mouse['y']-_0x1460d1+Math[_0x597771(0x8a)]()*this[_0x597771(0xea)]-this['precision']/0x2,_0x14fc35=Math['atan2'](_0x56e50f,_0x58eca4),_0x74c865=Math[_0x597771(0xe7)](_0x14fc35),_0x136f63=Math[_0x597771(0xdc)](_0x14fc35),_0xdafacc=new Projectile();_0xdafacc[_0x597771(0xc2)]=_0x74c865*this['arrowSpeed'],_0xdafacc[_0x597771(0x8f)]=_0x136f63*this[_0x597771(0x103)],_0xdafacc['x']=_0x39e2d4,_0xdafacc['y']=_0x1460d1,_0xdafacc['color']=this['arrowsArr'][0x0],playerArrows[_0x597771(0xb7)](_0xdafacc),this['arrowsArr'][_0x597771(0xdb)](),this[_0x597771(0x121)][_0x597771(0xb7)](0x0);}['attack'](){const _0xf8267e=_0x12445e;if(!sword[_0xf8267e(0x119)]){sword[_0xf8267e(0x119)]=!![],sword[_0xf8267e(0x12c)]=this[_0xf8267e(0x92)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x9a5a1a=this['x']+this['w']/0x2,_0x48ece7=this['y']+this['h']/0x2,_0x54bee1=returnCosine(Mouse['x'],Mouse['y'],_0x9a5a1a,_0x48ece7);this[_0xf8267e(0xa5)]=_0x54bee1['cos']*0xe,this[_0xf8267e(0x80)]=_0x54bee1[_0xf8267e(0xdc)]*0xe;}}}}var player=new Player(CANVAS['width']/0x2,CANVAS['height']/0x4*0x3);class UserInterface{constructor(){const _0x5c92ae=_0x12445e;this[_0x5c92ae(0xf3)]=id(_0x5c92ae(0x12a)),this['x']=0x14,this['y']=0x5,this[_0x5c92ae(0x94)]=![],this['rClick']=![],this[_0x5c92ae(0xd5)]=0x0,this[_0x5c92ae(0x96)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this[_0x5c92ae(0x91)]={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this['hpBar']={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0x5c92ae(0xff)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this['bow']={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x5c92ae(0xfd)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this['arrow']={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x5c92ae(0x121)]=[0x1,0x1,0x1,0x1];}[_0x12445e(0xe1)](){const _0x324026=_0x12445e;this[_0x324026(0x94)]&&(c[_0x324026(0x118)]=0.5);c[_0x324026(0xd0)](this[_0x324026(0xf3)],this[_0x324026(0xda)][_0x324026(0xad)]['x'],this[_0x324026(0xda)]['crop']['y'],this[_0x324026(0xda)][_0x324026(0xad)]['w'],this[_0x324026(0xda)][_0x324026(0xad)]['h'],this[_0x324026(0xda)][_0x324026(0x9c)]['x'],this['bow'][_0x324026(0x9c)]['y'],this['bow'][_0x324026(0xad)]['w'],this[_0x324026(0xda)][_0x324026(0xad)]['h']);this[_0x324026(0x94)]&&(c[_0x324026(0x118)]=0x1);this[_0x324026(0x130)]&&(c[_0x324026(0x118)]=0.5);c[_0x324026(0xd0)](this[_0x324026(0xf3)],this['sword'][_0x324026(0xad)]['x'],this['sword'][_0x324026(0xad)]['y'],this[_0x324026(0xfd)][_0x324026(0xad)]['w'],this[_0x324026(0xfd)][_0x324026(0xad)]['h'],this[_0x324026(0xfd)][_0x324026(0x9c)]['x'],this[_0x324026(0xfd)][_0x324026(0x9c)]['y'],this[_0x324026(0xfd)][_0x324026(0xad)]['w'],this['sword'][_0x324026(0xad)]['h']);this[_0x324026(0x130)]&&(c[_0x324026(0x118)]=0x1);c[_0x324026(0xd0)](this['sheet'],this['layout']['crop']['x'],this['layout']['crop']['y'],this['layout'][_0x324026(0xad)]['w'],this[_0x324026(0x96)][_0x324026(0xad)]['h'],this[_0x324026(0x96)]['pos']['x']+this['x'],this[_0x324026(0x96)][_0x324026(0x9c)]['y']+this['y'],this['layout'][_0x324026(0xad)]['w'],this['layout'][_0x324026(0xad)]['h']),c[_0x324026(0xd0)](this['sheet'],this[_0x324026(0x91)]['crop'][player[_0x324026(0xd5)]]['x'],this[_0x324026(0x91)][_0x324026(0xad)][player[_0x324026(0xd5)]]['y'],this[_0x324026(0x91)][_0x324026(0xad)][player['attacked']]['w'],this[_0x324026(0x91)][_0x324026(0xad)][player[_0x324026(0xd5)]]['h'],this[_0x324026(0x91)][_0x324026(0x9c)]['x']+this['x'],this['portrait'][_0x324026(0x9c)]['y']+this['y'],this[_0x324026(0x91)][_0x324026(0xad)][player['attacked']]['w'],this[_0x324026(0x91)][_0x324026(0xad)][player['attacked']]['h']),c[_0x324026(0xd0)](this[_0x324026(0xf3)],this['hpBar'][_0x324026(0xad)]['x'],this['hpBar']['crop']['y'],this['hpBar'][_0x324026(0xad)]['w'],this[_0x324026(0xc8)][_0x324026(0xad)]['h'],this[_0x324026(0xc8)]['pos']['x']+this['x'],this[_0x324026(0xc8)][_0x324026(0x9c)]['y']+this['y'],this[_0x324026(0xc8)][_0x324026(0xad)]['w']/player['maxHp']*player['hp'],this[_0x324026(0xc8)]['crop']['h']),c[_0x324026(0xd0)](this[_0x324026(0xf3)],this[_0x324026(0xff)]['crop']['x'],this[_0x324026(0xff)]['crop']['y'],this[_0x324026(0xff)][_0x324026(0xad)]['w'],this[_0x324026(0xff)][_0x324026(0xad)]['h'],this[_0x324026(0xff)][_0x324026(0x9c)]['x']+this['x'],this[_0x324026(0xff)][_0x324026(0x9c)]['y']+this['y'],this[_0x324026(0xff)]['crop']['w'],this[_0x324026(0xff)][_0x324026(0xad)]['h']);for(let _0x358a87=0x0;_0x358a87<player[_0x324026(0x121)][_0x324026(0x82)];_0x358a87++){c['drawImage'](this['sheet'],this[_0x324026(0x88)][_0x324026(0xad)][player['arrowsArr'][_0x358a87]]['x'],this['arrow'][_0x324026(0xad)][player['arrowsArr'][_0x358a87]]['y'],this['arrow']['crop'][player[_0x324026(0x121)][_0x358a87]]['w'],this[_0x324026(0x88)]['crop'][player['arrowsArr'][_0x358a87]]['h'],this[_0x324026(0x88)][_0x324026(0x9c)]['x']+this['x']-0xa*_0x358a87,this[_0x324026(0x88)][_0x324026(0x9c)]['y']+this['y'],this[_0x324026(0x88)][_0x324026(0xad)][player[_0x324026(0x121)][_0x358a87]]['w'],this[_0x324026(0x88)][_0x324026(0xad)][player[_0x324026(0x121)][_0x358a87]]['h']);}c[_0x324026(0xb9)]='14px\x20Arial',c[_0x324026(0x10d)]=_0x324026(0x113),c[_0x324026(0x107)]='#2f4447',c[_0x324026(0xa0)](player['arrowsCount']+'/'+player[_0x324026(0x121)][_0x324026(0x82)],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x50f470=_0x12445e;let _0x563e12=player['x']+player['w']/0x2,_0x20ee57=player['y']+player['h']/0x2,_0x926998=_0x563e12,_0x24ae9a=_0x20ee57,_0x4d001a=![],_0x4d7aa0=0x0,_0x557123=returnCosine(_0x563e12,_0x20ee57,Mouse['x'],Mouse['y']),_0x249e18=[],_0x44328d={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x349e32={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x56970f=0x4,_0x26cd3d={'x':0x0,'y':0x0};while(!_0x4d001a&&_0x4d7aa0<CANVAS[_0x50f470(0xb4)]*0x2/_0x56970f){_0x926998-=_0x557123[_0x50f470(0xe7)]*_0x56970f,_0x24ae9a-=_0x557123['sin']*_0x56970f;getTileData(_0x926998,_0x24ae9a)['solid']&&(_0x44328d=getTileData(_0x926998,_0x24ae9a)[_0x50f470(0x9e)],_0x349e32['x']=_0x44328d['x'],_0x349e32['y']=_0x44328d['y'],_0x349e32['w']=_0x44328d['w'],_0x349e32['h']=_0x44328d['h'],_0x349e32['x']+=_0x926998-_0x926998%TILESIZE,_0x349e32['y']+=_0x24ae9a-_0x24ae9a%TILESIZE,_0x4d001a=!![]);_0x26cd3d['x']=_0x926998,_0x26cd3d['y']=_0x24ae9a;for(let _0x69c347=0x0;_0x69c347<monsters[_0x50f470(0x82)];_0x69c347++){if(!monsters[_0x69c347]['dead']&&pointSquareCol(_0x26cd3d,monsters[_0x69c347])){_0x349e32['x']=monsters[_0x69c347]['x'],_0x349e32['y']=monsters[_0x69c347]['y'],_0x349e32['w']=monsters[_0x69c347]['w'],_0x349e32['h']=monsters[_0x69c347]['h'],_0x4d001a=!![];break;}}_0x4d7aa0++;}_0x249e18=getRectSides(_0x349e32);let _0x94ca29=[],_0x3729d0={},_0x2c4cf2;for(let _0x4c3a00=0x0;_0x4c3a00<_0x249e18[_0x50f470(0x82)];_0x4c3a00++){_0x3729d0=intersect(_0x563e12,_0x20ee57,_0x926998,_0x24ae9a,_0x249e18[_0x4c3a00]['x1'],_0x249e18[_0x4c3a00]['y1'],_0x249e18[_0x4c3a00]['x2'],_0x249e18[_0x4c3a00]['y2']),_0x3729d0&&_0x94ca29['push'](_0x3729d0);}let _0xa4249c=Math[_0x50f470(0x10a)](_0x563e12-_0x926998,_0x20ee57-_0x24ae9a),_0x54d32d=_0x926998,_0xe01c83=_0x926998;for(let _0x5a61bb=0x0;_0x5a61bb<_0x94ca29[_0x50f470(0x82)];_0x5a61bb++){_0x2c4cf2=Math[_0x50f470(0x10a)](_0x563e12-_0x926998,_0x20ee57-_0x24ae9a),_0x2c4cf2<_0xa4249c&&(_0xa4249c=_0x2c4cf2,_0x54d32d=_0x94ca29[_0x5a61bb]['x'],_0xe01c83=_0x94ca29[_0x5a61bb]['y']);}c['strokeStyle']=_0x50f470(0xa3),c[_0x50f470(0xbd)](),c[_0x50f470(0xe3)](_0x563e12+map['x'],_0x20ee57+map['y']),c[_0x50f470(0x101)](_0x926998+map['x'],_0x24ae9a+map['y']),c[_0x50f470(0xa4)](),c[_0x50f470(0x126)]='black';}function isObstructed(_0x177fce,_0x292594){const _0x1752c2=_0x12445e;let _0x506c3d=_0x177fce['x']+_0x177fce['w']/0x2,_0x38cd02=_0x177fce['y']+_0x177fce['h']/0x2,_0x2a7cbc=_0x292594['x']+_0x292594['w']/0x2,_0x220134=_0x292594['y']+_0x292594['h']/0x2,_0x1d1d5b=Math[_0x1752c2(0x10a)](_0x506c3d-_0x2a7cbc,_0x38cd02-_0x220134),_0xf0a6e6=_0x506c3d,_0x5cbf9f=_0x38cd02,_0x3f26b3=![],_0xae0e22=0x0,_0xd52aa7=returnCosine(_0x506c3d,_0x38cd02,_0x2a7cbc,_0x220134),_0x5550a5=[],_0x5e9237={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x4456d8={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x869327=0x3,_0x5de426={'x':0x0,'y':0x0};while(!_0x3f26b3&&_0xae0e22<_0x1d1d5b/_0x869327){_0xf0a6e6-=_0xd52aa7['cos']*_0x869327,_0x5cbf9f-=_0xd52aa7[_0x1752c2(0xdc)]*_0x869327;if(getTileData(_0xf0a6e6,_0x5cbf9f)['solid'])return _0x5e9237=getTileData(_0xf0a6e6,_0x5cbf9f)['hitbox'],_0x4456d8['x']=_0x5e9237['x'],_0x4456d8['y']=_0x5e9237['y'],_0x4456d8['w']=_0x5e9237['w'],_0x4456d8['h']=_0x5e9237['h'],_0x4456d8['x']+=_0xf0a6e6-_0xf0a6e6%TILESIZE,_0x4456d8['y']+=_0x5cbf9f-_0x5cbf9f%TILESIZE,!![];_0x5de426['x']=_0xf0a6e6,_0x5de426['y']=_0x5cbf9f;if(pointSquareCol(_0x5de426,_0x292594))return![];_0xae0e22++;}}function getRectSides(_0x4b40af){const _0x127cf6=_0x12445e;let _0x126cd1=[];return _0x126cd1['push']({'x1':_0x4b40af['x'],'y1':_0x4b40af['y'],'x2':_0x4b40af['x']+_0x4b40af['w'],'y2':_0x4b40af['y']}),_0x126cd1[_0x127cf6(0xb7)]({'x1':_0x4b40af['x']+_0x4b40af['w'],'y1':_0x4b40af['y'],'x2':_0x4b40af['x']+_0x4b40af['w'],'y2':_0x4b40af['y']+_0x4b40af['h']}),_0x126cd1['push']({'x1':_0x4b40af['x']+_0x4b40af['w'],'y1':_0x4b40af['y']+_0x4b40af['h'],'x2':_0x4b40af['x'],'y2':_0x4b40af['y']+_0x4b40af['h']}),_0x126cd1[_0x127cf6(0xb7)]({'x1':_0x4b40af['x'],'y1':_0x4b40af['y']+_0x4b40af['h'],'x2':_0x4b40af['x'],'y2':_0x4b40af['y']}),_0x126cd1;}function init(){const _0x4cad82=_0x12445e;let _0x4ea545,_0x34dcd1={};fetch(_0x4cad82(0x9a))[_0x4cad82(0xfb)](function(_0x3d9009){return _0x3d9009['json']();})[_0x4cad82(0xfb)](function(_0x42754a){const _0xa30598=_0x4cad82;_0x4ea545=_0x42754a[_0xa30598(0xf5)];for(let _0x2b1ced=0x0;_0x2b1ced<_0x4ea545[_0xa30598(0x82)];_0x2b1ced++){_0x34dcd1={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x34dcd1['id']=_0x4ea545[_0x2b1ced]['id'];if(_0x4ea545[_0x2b1ced]['hasOwnProperty'](_0xa30598(0x114)))for(let _0x371ebf=0x0;_0x371ebf<_0x4ea545[_0x2b1ced]['properties'][_0xa30598(0x82)];_0x371ebf++){if(_0x4ea545[_0x2b1ced][_0xa30598(0x114)][_0x371ebf])switch(_0x4ea545[_0x2b1ced][_0xa30598(0x114)][_0x371ebf][_0xa30598(0xcb)]){case'hole':_0x34dcd1[_0xa30598(0xcd)]=!![],_0x34dcd1['unpassable']=!![];break;case _0xa30598(0xab):_0x34dcd1['solid']=!![],_0x34dcd1[_0xa30598(0xc9)]=!![];break;}}TilesData[_0xa30598(0xb7)](_0x34dcd1);}loop();});}init();var HP_BAR=id(_0x12445e(0x129));function renderHpBars(){const _0x1e8958=_0x12445e;for(let _0x90e8d1=0x0;_0x90e8d1<monsters[_0x1e8958(0x82)];_0x90e8d1++){if(monsters[_0x90e8d1]['dead'])continue;let _0x373b93=monsters[_0x90e8d1]['hp']/monsters[_0x90e8d1][_0x1e8958(0xcf)],_0x269892=Math[_0x1e8958(0xf0)](TILESIZE*_0x373b93);c[_0x1e8958(0xd0)](HP_BAR,0x0,0x4,_0x269892,0x4,monsters[_0x90e8d1]['x']+monsters[_0x90e8d1]['w']/0x2-0x10+map['x']|0x0,monsters[_0x90e8d1]['y']-0x8+map['y']|0x0,_0x269892|0x0,0x4|0x0),c['drawImage'](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x90e8d1]['x']+monsters[_0x90e8d1]['w']/0x2-0x10+map['x']|0x0,monsters[_0x90e8d1]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x124508=_0x12445e;this[_0x124508(0xb4)]=0x17,this['height']=0xf,this['x']=0x0,this['y']=0x0,this['tiles']=maps['m1'],this[_0x124508(0xf3)]=id(_0x124508(0xf3)),this[_0x124508(0xe0)]=id(_0x124508(0xe0));}[_0x12445e(0xe1)](){const _0x53b1a9=_0x12445e;for(let _0x463150=0x0;_0x463150<this[_0x53b1a9(0xf5)][_0x53b1a9(0x82)];_0x463150++){_0x463150==0x1&&c[_0x53b1a9(0xd0)](this[_0x53b1a9(0xe0)],0x0+this['x'],0x0+this['y'],CANVAS[_0x53b1a9(0xb4)],CANVAS['height']);for(let _0x17ff94=0x0;_0x17ff94<this['tiles'][_0x463150][_0x53b1a9(0x82)];_0x17ff94++){if(this[_0x53b1a9(0xf5)][_0x463150][_0x17ff94]===0x0)continue;c['drawImage'](this['sheet'],(this[_0x53b1a9(0xf5)][_0x463150][_0x17ff94]-0x1)%0xf*TILESIZE,((this['tiles'][_0x463150][_0x17ff94]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x17ff94%this[_0x53b1a9(0xb4)]*TILESIZE+map['x'],(_0x17ff94/this[_0x53b1a9(0xb4)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x14adec=_0x12445e;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this[_0x14adec(0x92)]=0x2,this['radiansP']=0x0,this[_0x14adec(0xa2)]=[0x0],this[_0x14adec(0xd2)]=[0x0],this[_0x14adec(0x109)]=[0x0,0x0,0x0,0x0],this['vfxY']=[0x0,0x80,0x100,0x180],this[_0x14adec(0xb3)]=0x0,this[_0x14adec(0x90)]=0x0,this['action']=0x0,this[_0x14adec(0x11d)]=0x3,this[_0x14adec(0x119)]=![],this[_0x14adec(0xf3)]=id(_0x14adec(0xe6)),this[_0x14adec(0x120)]=id(_0x14adec(0xfd));}[_0x12445e(0x85)](){const _0x56d275=_0x12445e;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x5424d6,_0x4a307c,_0xbaee37;for(let _0x897759=0x0;_0x897759<monsters[_0x56d275(0x82)];_0x897759++){if(monsters[_0x897759]['dead']||!monsters[_0x897759]['collidable'])continue;_0x5424d6=monsters[_0x897759]['hitbox']['x']+monsters[_0x897759][_0x56d275(0x9e)]['w']/0x2,_0x4a307c=monsters[_0x897759][_0x56d275(0x9e)]['y']+monsters[_0x897759][_0x56d275(0x9e)]['h']/0x2,_0xbaee37=(monsters[_0x897759]['w']+monsters[_0x897759]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x5424d6,_0x4a307c,_0xbaee37)){let _0x24835b=this['x']+this['w']/0x2,_0x2f9960=this['y']+this['h']/0x2,_0x120f5f=monsters[_0x897759]['x']-_0x24835b,_0x48fd04=monsters[_0x897759]['y']-_0x2f9960,_0x22512e=Math[_0x56d275(0xd3)](_0x48fd04,_0x120f5f),_0x26462b=Math[_0x56d275(0xe7)](_0x22512e),_0x5bd6f3=Math[_0x56d275(0xdc)](_0x22512e);monsters[_0x897759][_0x56d275(0xa5)]=_0x26462b*0xa,monsters[_0x897759][_0x56d275(0x80)]=_0x5bd6f3*0xa,monsters[_0x897759]['hp']-=0.25,monsters[_0x897759][_0x56d275(0xfe)]=0xf;}}}['draw'](){const _0x320abb=_0x12445e;this[_0x320abb(0x90)]++,this[_0x320abb(0x90)]>this[_0x320abb(0x11d)]*DTR&&(this[_0x320abb(0x90)]=0x0,this[_0x320abb(0xb3)]++,this[_0x320abb(0xb3)]>=this['vfxX'][_0x320abb(0x82)]&&(this[_0x320abb(0xb3)]=0x0)),c[_0x320abb(0xd0)](this[_0x320abb(0xf3)],this[_0x320abb(0x109)][this['currentFrame']],this[_0x320abb(0x115)][this[_0x320abb(0xb3)]],0x80,0x40,this['x']-0x40-player[_0x320abb(0xa5)]*0x4+map['x'],this['y']-0x40-player[_0x320abb(0x80)]*0x4+map['y'],0x80,0x40),c[_0x320abb(0xb1)](),c[_0x320abb(0x122)](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x320abb(0x131)](this[_0x320abb(0x12c)]+this[_0x320abb(0x92)]),c[_0x320abb(0xd0)](this[_0x320abb(0x120)],this[_0x320abb(0xa2)][this['action']],this[_0x320abb(0xd2)][this['action']],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x320abb(0xd6)](),this[_0x320abb(0x92)]-=0.5/DTR,this[_0x320abb(0x92)]<=-0x9&&(this[_0x320abb(0x119)]=![],this[_0x320abb(0x92)]=0x2),c[_0x320abb(0xd0)](this[_0x320abb(0xf3)],this['vfxX'][this['currentFrame']],this['vfxY'][this[_0x320abb(0xb3)]]+0x40,0x80,0x40,this['x']-0x40-player[_0x320abb(0xa5)]*0x4+map['x'],this['y']-player[_0x320abb(0x80)]*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x326eab=_0x12445e;monsters[_0x326eab(0x133)](function(_0x3a93ec,_0x2323ef){const _0x147948=_0x326eab;if(_0x3a93ec[_0x147948(0x111)]&&!_0x2323ef['dead'])return-0x1;else return!_0x3a93ec['dead']&&_0x2323ef['dead']?0x1:_0x3a93ec['y']+0xf-_0x2323ef['y'];});}function adjustCollidingMonsters(){const _0x9ec001=_0x12445e;for(let _0x58d1a9=0x0;_0x58d1a9<monsters[_0x9ec001(0x82)];_0x58d1a9++){if(monsters[_0x58d1a9][_0x9ec001(0x111)])continue;monsters[_0x58d1a9][_0x9ec001(0xed)]['T']=0x0,monsters[_0x58d1a9][_0x9ec001(0xed)]['B']=0x0,monsters[_0x58d1a9][_0x9ec001(0xed)]['L']=0x0,monsters[_0x58d1a9][_0x9ec001(0xed)]['R']=0x0;for(let _0x3ee900=0x0;_0x3ee900<monsters['length'];_0x3ee900++){if(monsters[_0x3ee900][_0x9ec001(0x111)])continue;if(collided(monsters[_0x58d1a9],monsters[_0x3ee900])){let _0x919651=colCheck(monsters[_0x58d1a9],monsters[_0x3ee900]);switch(_0x919651){case'l':this[_0x9ec001(0xc2)]<0x0&&(this[_0x9ec001(0xc2)]=0x0);break;case'r':this[_0x9ec001(0xc2)]>0x0&&(this[_0x9ec001(0xc2)]=0x0);break;case'b':this[_0x9ec001(0x8f)]>0x0&&(this[_0x9ec001(0x8f)]=0x0);break;case't':this[_0x9ec001(0x8f)]<0x0&&(this[_0x9ec001(0x8f)]=0x0);break;}monsters[_0x58d1a9][_0x9ec001(0xc2)]+=(monsters[_0x58d1a9]['col']['L']-monsters[_0x58d1a9]['col']['R'])/0x5,monsters[_0x58d1a9][_0x9ec001(0x8f)]+=(monsters[_0x58d1a9][_0x9ec001(0xed)]['T']-monsters[_0x58d1a9]['col']['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x1ac3de,_0x342447){const _0x5828b0=_0x12445e;super(Collidable),this['x']=_0x1ac3de,this['y']=_0x342447,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x5828b0(0xc2)]=0x0,this[_0x5828b0(0x8f)]=0x0,this['xVelExt']=0x0,this[_0x5828b0(0x80)]=0x0,this[_0x5828b0(0xb8)]=0x2,this[_0x5828b0(0x10f)]=0x0,this['justDied']=![],this['justDamaged']=0x0,this['dead']=![],this[_0x5828b0(0xc0)]=[],this[_0x5828b0(0xcf)]=0x3,this['hp']=0x3,this[_0x5828b0(0x90)]=0x0,this[_0x5828b0(0x11d)]=0x4,this[_0x5828b0(0xb3)]=0x0,this[_0x5828b0(0xec)]=!![],this[_0x5828b0(0xf3)]=id(_0x5828b0(0xf3)),this['action']=0x0,this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this['hitbox']={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this['actionX']=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x5828b0(0xd2)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x12445e(0xb0)](){const _0x99ae1a=_0x12445e;if(this[_0x99ae1a(0x127)]!==0x0){let _0xed9340=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x286be1=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0xf439a0=_0xed9340>0x0?-0x1:0x1,_0xe678ea=_0x286be1>0x0?-0x1:0x1,_0x14775e;_0x286be1!==0x0?_0x14775e=Math['abs'](_0xed9340)/(Math[_0x99ae1a(0x7f)](_0x286be1)+Math[_0x99ae1a(0x7f)](_0xed9340)):_0x14775e=0x0;this[_0x99ae1a(0xc2)]=this[_0x99ae1a(0xb8)]*_0x14775e*_0xf439a0,this[_0x99ae1a(0x8f)]=this[_0x99ae1a(0xb8)]*(0x1-_0x14775e)*_0xe678ea;if(this['x']+this['w']<player['x'])this[_0x99ae1a(0x10f)]=![];else player['x']+player['w']<this['x']&&(this[_0x99ae1a(0x10f)]=!![]);}}[_0x12445e(0x85)](){const _0x3a9fc5=_0x12445e;if(!this[_0x3a9fc5(0x111)]){this['followPlayer']();Math[_0x3a9fc5(0x7f)](this['xVelExt'])>0.01?this[_0x3a9fc5(0xa5)]*=0.9:this['xVelExt']=0x0;Math['abs'](this['yVelExt'])>0.01?this[_0x3a9fc5(0x80)]*=0.9:this[_0x3a9fc5(0x80)]=0x0;(this[_0x3a9fc5(0xed)]['T']&&this[_0x3a9fc5(0x8f)]<0x0||this['col']['B']&&this[_0x3a9fc5(0x8f)]>0x0)&&(this['yVel']=0x0);(this['col']['L']&&this[_0x3a9fc5(0xc2)]<0x0||this[_0x3a9fc5(0xed)]['R']&&this[_0x3a9fc5(0xc2)]>0x0)&&(this[_0x3a9fc5(0xc2)]=0x0);this[_0x3a9fc5(0x127)]!==0x0&&(this[_0x3a9fc5(0x10f)]?this[_0x3a9fc5(0x127)]=0x2:this[_0x3a9fc5(0x127)]=0x1);this['checkCollisions'](),this['x']+=(this[_0x3a9fc5(0xc2)]+this[_0x3a9fc5(0xa5)])/DTR,this['y']+=(this[_0x3a9fc5(0x8f)]+this[_0x3a9fc5(0x80)])/DTR;for(let _0xc3286=0x0;_0xc3286<this[_0x3a9fc5(0xc0)][_0x3a9fc5(0x82)];_0xc3286++){this[_0x3a9fc5(0xc0)][_0xc3286]['x']=this['x']+this[_0x3a9fc5(0xc0)][_0xc3286]['xRel'],this[_0x3a9fc5(0xc0)][_0xc3286]['y']=this['y']+this['arrows'][_0xc3286][_0x3a9fc5(0x100)];}this[_0x3a9fc5(0x9e)]['x']=this['x']+0x6,this['hitbox']['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x3a9fc5(0x9b)]=!![]),this[_0x3a9fc5(0x9b)]&&(this[_0x3a9fc5(0xfe)]=0x0,this[_0x3a9fc5(0x111)]=!![],this['action']=0x3,this[_0x3a9fc5(0x90)]=0x0,this['currentFrame']=0x0,this[_0x3a9fc5(0x11d)]=0xa);}}[_0x12445e(0xe1)](){const _0x57abea=_0x12445e;this[_0x57abea(0x90)]++;this['frameCounter']>this[_0x57abea(0x11d)]*DTR&&(this[_0x57abea(0x90)]=0x0,this['currentFrame']++,this[_0x57abea(0xb3)]>=this['actionX'][this[_0x57abea(0x127)]][_0x57abea(0x82)]&&(this[_0x57abea(0x127)]==0x0&&(this['action']=0x1+this[_0x57abea(0x10f)]),this['currentFrame']=0x0));this['action']==0x3&&(this['currentFrame']==this['actionX'][this[_0x57abea(0x127)]][_0x57abea(0x82)]-0x1&&(this[_0x57abea(0x90)]=0x0));if(!this['dead'])for(let _0x14618d=0x0;_0x14618d<this[_0x57abea(0xc0)][_0x57abea(0x82)];_0x14618d++){this[_0x57abea(0xc0)][_0x14618d][_0x57abea(0xe1)]();}this[_0x57abea(0xfe)]>0x0&&(this[_0x57abea(0x127)]=0x4,this['currentFrame']=0x0,this[_0x57abea(0x8d)]=0x0,this[_0x57abea(0xfe)]-=0x1/DTR),c[_0x57abea(0xd0)](this['sheet'],this[_0x57abea(0xa2)][this[_0x57abea(0x127)]][this[_0x57abea(0xb3)]]*TILESIZE,this[_0x57abea(0xd2)][this[_0x57abea(0x127)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x1fce8f,_0x255c4a){const _0x38a7fd=_0x12445e;super(Collidable),this['x']=(_0x1fce8f/TILESIZE|0x0)*TILESIZE,this['y']=(_0x255c4a/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this[_0x38a7fd(0x8f)]=0x0,this[_0x38a7fd(0xa5)]=0x0,this[_0x38a7fd(0x80)]=0x0,this[_0x38a7fd(0xb8)]=0x2,this[_0x38a7fd(0x10f)]=0x0,this[_0x38a7fd(0x9b)]=![],this[_0x38a7fd(0xfe)]=0x0,this[_0x38a7fd(0x111)]=![],this['attacking']=![],this[_0x38a7fd(0xc0)]=[],this[_0x38a7fd(0xcf)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0x38a7fd(0x11d)]=0x4,this[_0x38a7fd(0xb3)]=0x0,this['sheet']=id(_0x38a7fd(0xf3)),this[_0x38a7fd(0x127)]=0x0,this[_0x38a7fd(0xec)]=!![],this[_0x38a7fd(0xe2)]=[],this[_0x38a7fd(0xed)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x38a7fd(0x9e)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0x38a7fd(0xf4)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['actionX']=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0x38a7fd(0xd2)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this[_0x38a7fd(0xf7)]=0x0;}[_0x12445e(0xb0)](){const _0x3566a0=_0x12445e;this[_0x3566a0(0xf4)]['x']=this['x']-0x5*TILESIZE,this[_0x3566a0(0xf4)]['y']=this['y']-0x5*TILESIZE,this[_0x3566a0(0xf4)]['w']=0xb*TILESIZE,this['atkBox']['h']=0xb*TILESIZE;if(collided(this[_0x3566a0(0xf4)],player)){if(this[_0x3566a0(0x117)]){if(this[_0x3566a0(0xb3)]==0x0&&this[_0x3566a0(0x90)]==0x0){this['createGrid']();switch(this[_0x3566a0(0xe2)][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x3566a0(0x127)]!==0x1&&(this[_0x3566a0(0x127)]=0x1,this[_0x3566a0(0xb3)]=0x0,this[_0x3566a0(0x90)]=0x0);}else this[_0x3566a0(0x117)]&&this[_0x3566a0(0x127)]!==0x0&&this[_0x3566a0(0x127)]!==0x2&&(this['attacking']=![],this[_0x3566a0(0xec)]=!![],this['action']=0x2,this['currentFrame']=0x0,this[_0x3566a0(0x90)]=0x0);}['compute'](){const _0x50dbdf=_0x12445e;this[_0x50dbdf(0xb0)](),this[_0x50dbdf(0x9e)]['x']=this['x']+(this['w']-0xe)/0x2,this[_0x50dbdf(0x9e)]['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x185033=0x0;_0x185033<this[_0x50dbdf(0xc0)]['length'];_0x185033++){this['arrows'][_0x185033]['x']=this['x']+this['arrows'][_0x185033][_0x50dbdf(0x116)],this[_0x50dbdf(0xc0)][_0x185033]['y']=this['y']+this[_0x50dbdf(0xc0)][_0x185033]['yRel'];}this['hp']<=0x0&&(this['justDied']=!![]),this[_0x50dbdf(0x9b)]&&(this[_0x50dbdf(0xfe)]=0x0,this[_0x50dbdf(0x111)]=!![],this['action']=0x3,this['frameCounter']=0x0,this[_0x50dbdf(0xb3)]=0x0,this[_0x50dbdf(0x11d)]=0xa);}[_0x12445e(0xe1)](){const _0x50df21=_0x12445e;this[_0x50df21(0x90)]++;this[_0x50df21(0x127)]==0x4?this[_0x50df21(0x11d)]=0x3:this[_0x50df21(0x11d)]=0x5;if(this['frameCounter']>this['slowness']*DTR){this['frameCounter']=0x0,this[_0x50df21(0xb3)]++;if(this['currentFrame']>=this[_0x50df21(0xa2)][this[_0x50df21(0x127)]][_0x50df21(0x82)]){if(this['dead'])this[_0x50df21(0xb3)]=this['actionX'][this[_0x50df21(0x127)]]['length']-0x1;else{if(this[_0x50df21(0x127)]==0x1)this[_0x50df21(0x117)]=!![],this[_0x50df21(0xec)]=![],this[_0x50df21(0x127)]=0x4,this[_0x50df21(0xb3)]=0x0;else this[_0x50df21(0x127)]==0x2?(this[_0x50df21(0x127)]=0x0,this[_0x50df21(0xb3)]=0x0):this[_0x50df21(0xb3)]=0x0;}}}if(!this['dead']){if(this[_0x50df21(0x127)]==0x0)for(let _0x4e5219=0x0;_0x4e5219<this['arrows'][_0x50df21(0x82)];_0x4e5219++){this['arrows'][_0x4e5219]['draw']();}}this[_0x50df21(0xfe)]>0x0&&(this[_0x50df21(0x127)]=0x3,this['currentFrame']=0x0,this['framecounter']=0x0,this[_0x50df21(0xfe)]-=0x1/DTR,this[_0x50df21(0xfe)]<=0x0&&(this[_0x50df21(0x127)]=0x0)),c[_0x50df21(0xd0)](this[_0x50df21(0xf3)],this['actionX'][this['action']][this[_0x50df21(0xb3)]]*TILESIZE,this[_0x50df21(0xd2)][this[_0x50df21(0x127)]][this[_0x50df21(0xb3)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}['createGrid'](){const _0x21e76c=_0x12445e;let _0x3c8e76=0xb,_0x93a6f=[],_0x4944cf=this['x']+this['w']/0x2-TILESIZE*0x5,_0x35396b=this['y']+this['h']/0x2-TILESIZE*0x5,_0x252c67;for(let _0x476f39=0x0;_0x476f39<_0x3c8e76;_0x476f39++){_0x93a6f[_0x476f39]=[];for(let _0x2758a6=0x0;_0x2758a6<_0x3c8e76;_0x2758a6++){_0x252c67=getTileData(_0x4944cf+_0x476f39*TILESIZE,_0x35396b+_0x2758a6*TILESIZE),_0x252c67===![]?_0x93a6f[_0x476f39][_0x2758a6]=_0x21e76c(0x106):_0x93a6f[_0x476f39][_0x2758a6]='Obstacle';}}_0x93a6f[0x5][0x5]='Start',_0x93a6f[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x21e76c(0xaa),this[_0x21e76c(0xe2)]=findShortestPath([0x5,0x5],_0x93a6f);}}class Flower extends Collidable{constructor(_0x46365a,_0xde733d){const _0x504ec7=_0x12445e;super(Collidable),this['x']=_0x46365a,this['y']=_0xde733d,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x504ec7(0xc2)]=0x0,this[_0x504ec7(0x8f)]=0x0,this['xVelExt']=0x0,this['yVelExt']=0x0,this[_0x504ec7(0xb8)]=0x2,this[_0x504ec7(0x10f)]=0x0,this['justDied']=![],this[_0x504ec7(0xfe)]=0x0,this[_0x504ec7(0x111)]=![],this['arrows']=[],this[_0x504ec7(0xcf)]=0x3,this['hp']=0x3,this[_0x504ec7(0x90)]=0x0,this[_0x504ec7(0x11d)]=0x8,this[_0x504ec7(0x117)]=![],this[_0x504ec7(0xb3)]=0x0,this[_0x504ec7(0xf3)]=id(_0x504ec7(0xf3)),this[_0x504ec7(0xea)]=0x5,this[_0x504ec7(0xe9)]=0x8,this['collidable']=!![],this[_0x504ec7(0xed)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x504ec7(0x9e)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this['action']=0x0,this[_0x504ec7(0xa2)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x504ec7(0xd2)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this['headX']=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x504ec7(0x10b)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this[_0x504ec7(0x92)]=0x0,this[_0x504ec7(0x97)]=![];}['shoot'](){const _0x2f5eef=_0x12445e;if(!isObstructed(this,player)){this[_0x2f5eef(0x117)]=!![];if(this[_0x2f5eef(0xb3)]==0x2){if(!this[_0x2f5eef(0x97)]){let _0xe7ac44=new EnemyProjectile(),_0xfa1943=this['x']+this['w']/0x2,_0x5b6147=this['y']+this['h']/0x2,_0x3d9c3b=player['x']+player['w']/0x2-_0xfa1943+Math[_0x2f5eef(0x8a)]()*this[_0x2f5eef(0xea)]-this['precision']/0x2,_0x37abbb=player['y']+player['h']/0x2-_0x5b6147+Math['random']()*this[_0x2f5eef(0xea)]-this['precision']/0x2,_0x507e7e=Math[_0x2f5eef(0xd3)](_0x37abbb,_0x3d9c3b),_0x4739cd=Math[_0x2f5eef(0xe7)](_0x507e7e),_0x3dded6=Math[_0x2f5eef(0xdc)](_0x507e7e);_0xe7ac44[_0x2f5eef(0xc2)]=_0x4739cd*this[_0x2f5eef(0xe9)],_0xe7ac44[_0x2f5eef(0x8f)]=_0x3dded6*this[_0x2f5eef(0xe9)],_0xe7ac44['x']=_0xfa1943,_0xe7ac44['y']=_0x5b6147,enemyProjectiles[_0x2f5eef(0xb7)](_0xe7ac44),this['justShot']=!![];}}else this[_0x2f5eef(0x97)]=![];}else this['attacking']=![];}[_0x12445e(0x85)](){const _0x54e957=_0x12445e;this[_0x54e957(0x86)](),this[_0x54e957(0x9e)]['x']=this['x']+this['w']/0x3,this[_0x54e957(0x9e)]['y']=this['y']+this['h']/0x5,this['radians']=Math[_0x54e957(0xd3)](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x3715bc=0x0;_0x3715bc<this[_0x54e957(0xc0)][_0x54e957(0x82)];_0x3715bc++){this[_0x54e957(0xc0)][_0x3715bc]['x']=this['x']+this[_0x54e957(0xc0)][_0x3715bc][_0x54e957(0x116)],this[_0x54e957(0xc0)][_0x3715bc]['y']=this['y']+this[_0x54e957(0xc0)][_0x3715bc][_0x54e957(0x100)];}this['hp']<=0x0&&(this[_0x54e957(0x9b)]=!![]),this[_0x54e957(0x9b)]&&(this[_0x54e957(0xfe)]=0x0,this['dead']=!![],this[_0x54e957(0x127)]=0x2,this[_0x54e957(0x90)]=0x0,this[_0x54e957(0xb3)]=0x0,this[_0x54e957(0x11d)]=0xa);}[_0x12445e(0xe1)](){const _0xaa8dcc=_0x12445e;this[_0xaa8dcc(0x90)]++;this['frameCounter']>this['slowness']*DTR&&(this[_0xaa8dcc(0x90)]=0x0,this['currentFrame']++,this[_0xaa8dcc(0xb3)]>=this[_0xaa8dcc(0xa2)][this['action']][_0xaa8dcc(0x82)]&&(this[_0xaa8dcc(0x111)]?this[_0xaa8dcc(0xb3)]=this['actionX'][this[_0xaa8dcc(0x127)]][_0xaa8dcc(0x82)]-0x1:this[_0xaa8dcc(0xb3)]=0x0));if(!this[_0xaa8dcc(0x111)]){this[_0xaa8dcc(0x117)]?this['action']=0x1:this['action']=0x0;for(let _0x2c8798=0x0;_0x2c8798<this[_0xaa8dcc(0xc0)][_0xaa8dcc(0x82)];_0x2c8798++){this[_0xaa8dcc(0xc0)][_0x2c8798][_0xaa8dcc(0xe1)]();}}this['attacking']?this[_0xaa8dcc(0x11d)]=0x4:this[_0xaa8dcc(0x11d)]=0x8,this[_0xaa8dcc(0xfe)]&&(this[_0xaa8dcc(0x127)]=0x2,this[_0xaa8dcc(0xb3)]=0x0,this[_0xaa8dcc(0x8d)]=0x0,this['justDamaged']--),c[_0xaa8dcc(0xd0)](this[_0xaa8dcc(0xf3)],this[_0xaa8dcc(0xa2)][this['action']][this[_0xaa8dcc(0xb3)]]*TILESIZE,this[_0xaa8dcc(0xd2)][this[_0xaa8dcc(0x127)]][this[_0xaa8dcc(0xb3)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this[_0xaa8dcc(0x127)]==0x0||this[_0xaa8dcc(0x127)]==0x1)&&(c['save'](),c[_0xaa8dcc(0x122)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0xaa8dcc(0x131)](this[_0xaa8dcc(0x92)]),c[_0xaa8dcc(0xd0)](this['sheet'],this[_0xaa8dcc(0xdd)][this[_0xaa8dcc(0x127)]][this['currentFrame']]*TILESIZE,this['headY'][this[_0xaa8dcc(0x127)]][this[_0xaa8dcc(0xb3)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0xaa8dcc(0xd6)]());}}function getTileData(_0x2e1b82,_0x20077e){const _0x32795d=_0x12445e;let _0xaecf08=(_0x2e1b82/TILESIZE|0x0)+(_0x20077e/TILESIZE|0x0)*map[_0x32795d(0xb4)];for(let _0x5637f4=0x0;_0x5637f4<map[_0x32795d(0xf5)][_0x32795d(0x82)];_0x5637f4++){for(let _0x407bdf=0x0;_0x407bdf<TilesData[_0x32795d(0x82)];_0x407bdf++){if(TilesData[_0x407bdf]['id']==map[_0x32795d(0xf5)][_0x5637f4][_0xaecf08]-0x1)return TilesData[_0x407bdf];}}return![];}window[_0x12445e(0x11f)]=function(){const _0x1d5420=_0x12445e;player[_0x1d5420(0xc5)]!==0x0?player[_0x1d5420(0x86)]():player[_0x1d5420(0xb6)]=0xa;},window[_0x12445e(0xc7)]=function(_0x5dd401){const _0x1d4c1b=_0x12445e;_0x5dd401[_0x1d4c1b(0xc1)](),player[_0x1d4c1b(0x104)]();},document[_0x12445e(0x93)]('mousedown',function(_0x76b447){const _0x7dd9c=_0x12445e;switch(_0x76b447[_0x7dd9c(0x11a)]){case 0x0:userInterface[_0x7dd9c(0x94)]=!![];break;case 0x2:userInterface[_0x7dd9c(0x130)]=!![];break;}}),document[_0x12445e(0x93)]('mouseup',function(_0xf0877e){const _0x2ceccf=_0x12445e;switch(_0xf0877e[_0x2ceccf(0x11a)]){case 0x0:userInterface[_0x2ceccf(0x94)]=![];break;case 0x2:userInterface[_0x2ceccf(0x130)]=![];break;}});var stats=id(_0x12445e(0xc6));function drawStats(){const _0x15dbf5=_0x12445e;stats[_0x15dbf5(0x12b)]=_0x15dbf5(0x89)+player['x'],stats[_0x15dbf5(0x12b)]+=_0x15dbf5(0xf2)+player['y'],stats[_0x15dbf5(0x12b)]+=_0x15dbf5(0xa6)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats['innerHTML']+='<br>mouseTile.y\x20=\x20'+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0x15dbf5(0x12b)]+='<br>mouseTile\x20pos\x20=\x20'+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x15dbf5(0xb4)]),stats[_0x15dbf5(0x12b)]+=_0x15dbf5(0xbb)+map['tiles'][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0x15dbf5(0xb4)]],map[_0x15dbf5(0xf5)][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']],DEBUG&&(c[_0x15dbf5(0xce)]((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0x15dbf5(0xa4)]());}window[_0x12445e(0x93)](_0x12445e(0x125),function(_0x13e8ed){const _0x273a11=_0x12445e;switch(_0x13e8ed[_0x273a11(0xd8)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters['push'](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x273a11(0xa7)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x4ac03d=0x0;_0x4ac03d<0x32;_0x4ac03d++){player[_0x273a11(0x86)](),player[_0x273a11(0x81)]=player['arrowCD']*DTR,player[_0x273a11(0x84)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x12445e(0x93)]('keyup',function(_0x548df1){switch(_0x548df1['keyCode']){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window[_0x12445e(0x93)]('mousemove',function(_0x5af7ce){const _0x2331a3=_0x12445e;mousePP['x']=_0x5af7ce[_0x2331a3(0x8b)]-CANVAS[_0x2331a3(0xfc)],mousePP['y']=_0x5af7ce[_0x2331a3(0x12d)]-CANVAS[_0x2331a3(0x10c)];});function moveCamera(){const _0x1375d9=_0x12445e;map['x']=-player['x']/0x3+CANVAS[_0x1375d9(0xb4)]/0x6,map['y']=-player['y']/0x3+CANVAS[_0x1375d9(0x11e)]/0x6,screenShake['counter']&&(screenShake[_0x1375d9(0xf7)]--,screenShake[_0x1375d9(0x8c)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x5bf9a8=_0x12445e;c[_0x5bf9a8(0xa9)]=0x2,c[_0x5bf9a8(0x126)]=sampleArrow[_0x5bf9a8(0xb2)][0x0],c['beginPath']();for(let _0x4d88bd=playerArrows[_0x5bf9a8(0x82)]-0x1;_0x4d88bd>=0x0;_0x4d88bd--){if(!playerArrows[_0x4d88bd][_0x5bf9a8(0x119)]||playerArrows[_0x4d88bd]['color']!=0x1)continue;playerArrows[_0x4d88bd][_0x5bf9a8(0x98)]&&playerArrows[_0x4d88bd][_0x5bf9a8(0x85)]();if(playerArrows[_0x4d88bd]!==undefined)playerArrows[_0x4d88bd][_0x5bf9a8(0xe1)]();}c[_0x5bf9a8(0x102)](),c[_0x5bf9a8(0xa4)](),c[_0x5bf9a8(0x126)]=sampleArrow[_0x5bf9a8(0xb2)][0x1],c[_0x5bf9a8(0xbd)]();for(let _0x2dbeeb=playerArrows[_0x5bf9a8(0x82)]-0x1;_0x2dbeeb>=0x0;_0x2dbeeb--){if(!playerArrows[_0x2dbeeb][_0x5bf9a8(0x119)]||playerArrows[_0x2dbeeb][_0x5bf9a8(0x9d)]!=0x2)continue;playerArrows[_0x2dbeeb][_0x5bf9a8(0x98)]&&playerArrows[_0x2dbeeb][_0x5bf9a8(0x85)]();if(playerArrows[_0x2dbeeb]!==undefined)playerArrows[_0x2dbeeb][_0x5bf9a8(0xe1)]();}c[_0x5bf9a8(0x102)](),c[_0x5bf9a8(0xa4)]();}function loop(){const _0x4eeb47=_0x12445e;fps++,c[_0x4eeb47(0xc4)](0x0,0x0,CANVAS[_0x4eeb47(0xb4)],CANVAS['height']),moveCamera(),map[_0x4eeb47(0xe1)](),player[_0x4eeb47(0x85)]();for(let _0x2624cc=enemyProjectiles[_0x4eeb47(0x82)]-0x1;_0x2624cc>=0x0;_0x2624cc--){enemyProjectiles[_0x2624cc][_0x4eeb47(0x85)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x463fb7=0x0;_0x463fb7<monsters[_0x4eeb47(0x82)];_0x463fb7++){!monsters[_0x463fb7]['dead']&&monsters[_0x463fb7]['compute'](),monsters[_0x463fb7][_0x4eeb47(0xe1)]();}player[_0x4eeb47(0xe1)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x2caafb=enemyProjectiles[_0x4eeb47(0x82)]-0x1;_0x2caafb>=0x0;_0x2caafb--){enemyProjectiles[_0x2caafb][_0x4eeb47(0xe1)]();}sword[_0x4eeb47(0x119)]&&(sword[_0x4eeb47(0x85)](),sword[_0x4eeb47(0xe1)]());for(let _0x2c1626=visualFxs[_0x4eeb47(0x82)]-0x1;_0x2c1626>=0x0;_0x2c1626--){!visualFxs[_0x2c1626][_0x4eeb47(0xf9)]&&visualFxs[_0x2c1626][_0x4eeb47(0xe1)]();}userInterface[_0x4eeb47(0xe1)](),drawStats();}var lastUpdate=Date[_0x12445e(0x110)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){var _0x200da1=Date['now'](),_0x2fe5e0=_0x200da1-lastUpdate;lastUpdate=_0x200da1,DTR=0x3e8/0x3c/_0x2fe5e0,!gamePaused&&loop();}