'strict';const _0x138f77=_0x2cc4;(function(_0x14d61b,_0x333af5){const _0x200af1=_0x2cc4,_0x1c7855=_0x14d61b();while(!![]){try{const _0x3bab8f=-parseInt(_0x200af1(0x249))/0x1*(parseInt(_0x200af1(0x28c))/0x2)+-parseInt(_0x200af1(0x22f))/0x3+parseInt(_0x200af1(0x220))/0x4+parseInt(_0x200af1(0x252))/0x5+-parseInt(_0x200af1(0x1fa))/0x6*(-parseInt(_0x200af1(0x280))/0x7)+parseInt(_0x200af1(0x263))/0x8+-parseInt(_0x200af1(0x20a))/0x9*(-parseInt(_0x200af1(0x21a))/0xa);if(_0x3bab8f===_0x333af5)break;else _0x1c7855['push'](_0x1c7855['shift']());}catch(_0x6c25cf){_0x1c7855['push'](_0x1c7855['shift']());}}}(_0x1544,0x45c3f));var mousePP={'x':0x0,'y':0x0},fps=0x0;const DEBUG=![],CANVAS=id(_0x138f77(0x25e)),TILESIZE=0x20;var gamePaused=![],visualFxs=[],TilesData=[],playerArrows=[],monsters=[],c=CANVAS['getContext']('2d');function _0x1544(){const _0x579bcd=['translate','precision','NabohLdZut:YziblxanUkRLOVFZgxFZAHOPSDFrB','yVel','1519971CcXuLh','col','globalAlpha','replace','arrowsArr','<br>mouseTile.y\x20=\x20','ui-sheet','bow','length','pos','xVelExt','type','<br>mouseTile\x20id\x20=\x20','json','layout','save','{}.constructor(\x22return\x20this\x22)(\x20)','drawImage','grass','preventDefault','free','offsetLeft','strokeStyle','<br>mouseTile\x20pos\x20=\x20','collidable','currentFrame','31qbUSwP','attacking','offsetTop','dead','then','draw','atkBox','damage','portrait','87595FftawM','maxHp','colors','xVel','wsvaantRJonBanmdre.ygiNYUthyquVTbL.io;qLlocalQhostDARZJyEFzfRNkEvPKFODqkHmzzzVGImSUPHIfVNxyjTwWDHGBS','random','indexOf','compute','followPlayer','computeQuiver','Goal','return\x20(function()\x20','canvas','font','atan2','sword','fillText','45696HqcfXr','swordImg','actionY','set','hypot','yVelExt','path','innerWidth','critChance','createGrid','innerHeight','crop','xRel','headY','rotate','stats','slice','moveTo','centerX','lengthX','14px\x20Arial','center','shift','<br>mouseTile.x\x20=\x20','sin','attack','justDamaged','counter','push','1841kaRbwH','sort','mpBar','addEventListener','headX','actionX','height','oncontextmenu','restore','framecounter','rClick','cos','33742SztbnU','lClick','#8b5851','arrowCD','friendly','hitbox','vfxX','speed','checkCollisions','Empty','hasOwnProperty','projSpeed','arrowSpeed','[NhLdZYzixURLOVFZgxFZAHOPSDFrB]','justShot','hpBar','mousedown','hole','points','centerY','attacked','active','arrows','name','top','mousemove','justDied','radians','radiansP','#ff0000','now','./Archer.json','noArrows','lengthY','shoot','stroke','132DylpVa','round','abs','sword-vfx','innerHTML','fromCharCode','clientX','player.x\x20=\x20','rect','width','drawBow','arrowsCount','arrowCounter','toPrecision','clearRect','clientY','3275649snztVM','FPS:\x20','#ff8db5','ended','log','left','frameCounter','yRel','apply','slowness','arrow','solid','closePath','unpassable','color','maxMp','30GnAebx','tiles','beginPath','splice','keyCode','lineTo','778068AAGllG','action','vfxY','<br>DTR:\x20','black','style','sheet','keydown','properties','mouseup','textAlign'];_0x1544=function(){return _0x579bcd;};return _0x1544();}CANVAS[_0x138f77(0x203)]=0x2e0,CANVAS['height']=0x1e0,CANVAS[_0x138f77(0x225)][_0x138f77(0x20f)]=(window[_0x138f77(0x26a)]-CANVAS[_0x138f77(0x203)])/0x2+'px',CANVAS[_0x138f77(0x225)][_0x138f77(0x1ee)]=(window[_0x138f77(0x26d)]-CANVAS[_0x138f77(0x286)])/0x2+'px',c['imageSmoothingEnabled']=![];var generatedSquare={'x':0x0,'y':0x0,'w':0x0,'h':0x0};function id(_0x2800a6){const _0x120da8=(function(){let _0x16dec4=!![];return function(_0x1d4c58,_0x40d731){const _0x505d51=_0x16dec4?function(){const _0x2b4a81=_0x2cc4;if(_0x40d731){const _0x434139=_0x40d731[_0x2b4a81(0x212)](_0x1d4c58,arguments);return _0x40d731=null,_0x434139;}}:function(){};return _0x16dec4=![],_0x505d51;};}()),_0x3b0ae7=_0x120da8(this,function(){const _0x1b27fb=_0x2cc4;let _0x1c4e1e;try{const _0x9ae139=Function(_0x1b27fb(0x25d)+_0x1b27fb(0x23f)+');');_0x1c4e1e=_0x9ae139();}catch(_0x15cf18){_0x1c4e1e=window;}const _0x3cc983=new RegExp('[wvRJBmyNYUyqVTLqLQDARZJyEFzfRNkEvPKFODqkHmzzzVGImSUPHIfVNxyjTwWDHGBS]','g'),_0x71e188=_0x1b27fb(0x256)['replace'](_0x3cc983,'')['split'](';');let _0x465229,_0x50e888,_0x3aa15f,_0x4d7df8;const _0x8bfca1=function(_0x9caf04,_0x4d52a3,_0x7e4b0f){const _0x4e111d=_0x1b27fb;if(_0x9caf04[_0x4e111d(0x237)]!=_0x4d52a3)return![];for(let _0x70da83=0x0;_0x70da83<_0x4d52a3;_0x70da83++){for(let _0x38f7e1=0x0;_0x38f7e1<_0x7e4b0f[_0x4e111d(0x237)];_0x38f7e1+=0x2){if(_0x70da83==_0x7e4b0f[_0x38f7e1]&&_0x9caf04['charCodeAt'](_0x70da83)!=_0x7e4b0f[_0x38f7e1+0x1])return![];}}return!![];},_0x4e991c=function(_0x291488,_0x1d20e1,_0x31e1b3){return _0x8bfca1(_0x1d20e1,_0x31e1b3,_0x291488);},_0x26ca73=function(_0x4932cb,_0x52ba9b,_0x20acc9){return _0x4e991c(_0x52ba9b,_0x4932cb,_0x20acc9);},_0x4e1bc9=function(_0x1196a2,_0x390d4e,_0x46a597){return _0x26ca73(_0x390d4e,_0x46a597,_0x1196a2);};for(let _0x153caa in _0x1c4e1e){if(_0x8bfca1(_0x153caa,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x465229=_0x153caa;break;}}for(let _0x224e23 in _0x1c4e1e[_0x465229]){if(_0x4e1bc9(0x6,_0x224e23,[0x5,0x6e,0x0,0x64])){_0x50e888=_0x224e23;break;}}for(let _0x16d8fa in _0x1c4e1e[_0x465229]){if(_0x26ca73(_0x16d8fa,[0x7,0x6e,0x0,0x6c],0x8)){_0x3aa15f=_0x16d8fa;break;}}if(!('~'>_0x50e888))for(let _0xa4026b in _0x1c4e1e[_0x465229][_0x3aa15f]){if(_0x4e991c([0x7,0x65,0x0,0x68],_0xa4026b,0x8)){_0x4d7df8=_0xa4026b;break;}}if(!_0x465229||!_0x1c4e1e[_0x465229])return;const _0x1330b8=_0x1c4e1e[_0x465229][_0x50e888],_0x392e83=!!_0x1c4e1e[_0x465229][_0x3aa15f]&&_0x1c4e1e[_0x465229][_0x3aa15f][_0x4d7df8],_0x29c8cf=_0x1330b8||_0x392e83;if(!_0x29c8cf)return;let _0xd97bfb=![];for(let _0x5e1012=0x0;_0x5e1012<_0x71e188['length'];_0x5e1012++){const _0x416cdf=_0x71e188[_0x5e1012],_0x50285b=_0x416cdf[0x0]===String[_0x1b27fb(0x1ff)](0x2e)?_0x416cdf[_0x1b27fb(0x273)](0x1):_0x416cdf,_0xf1e5ca=_0x29c8cf['length']-_0x50285b[_0x1b27fb(0x237)],_0x2c4e67=_0x29c8cf[_0x1b27fb(0x258)](_0x50285b,_0xf1e5ca),_0x2feace=_0x2c4e67!==-0x1&&_0x2c4e67===_0xf1e5ca;_0x2feace&&((_0x29c8cf[_0x1b27fb(0x237)]==_0x416cdf[_0x1b27fb(0x237)]||_0x416cdf['indexOf']('.')===0x0)&&(_0xd97bfb=!![]));}if(!_0xd97bfb){const _0x3cd2e2=new RegExp(_0x1b27fb(0x299),'g'),_0x40f480=_0x1b27fb(0x22d)[_0x1b27fb(0x232)](_0x3cd2e2,'');_0x1c4e1e[_0x465229][_0x3aa15f]=_0x40f480;}});return _0x3b0ae7(),document['getElementById'](_0x2800a6);}var fpsDiv=id('FPS');setInterval(function(){const _0x28d11d=_0x138f77;fpsDiv[_0x28d11d(0x1fe)]=_0x28d11d(0x20b)+fps,fpsDiv[_0x28d11d(0x1fe)]+=_0x28d11d(0x223)+DTR[_0x28d11d(0x207)](0x3),fps=0x0;},0x3e8);var Mouse={'x':0x0,'y':0x0},screenShake={'x':0x0,'y':0x0,'counter':0x0,'set':function(){const _0x1d9d06=_0x138f77;this['x']=Math[_0x1d9d06(0x257)]()*0x8-0x4|0x0,this['y']=Math[_0x1d9d06(0x257)]()*0x8-0x4|0x0;}};class Projectile{constructor(){const _0x16b0bf=_0x138f77;this['x']=0x0,this['y']=0x0,this['yVel']=0x0,this['xVel']=0x0,this[_0x16b0bf(0x26f)]=0x0,this['yRel']=0x0,this[_0x16b0bf(0x1eb)]=!![],this[_0x16b0bf(0x243)]=!![],this['friendly']=!![],this[_0x16b0bf(0x276)]=0x0,this[_0x16b0bf(0x1f7)]=0x0,this[_0x16b0bf(0x250)]=0x1,this[_0x16b0bf(0x218)]=0x0,this[_0x16b0bf(0x254)]=[_0x16b0bf(0x28e),_0x16b0bf(0x20c)],this[_0x16b0bf(0x1e8)]={'x':0x0,'y':0x0};}[_0x138f77(0x24e)](){const _0x4f0767=_0x138f77;Math[_0x4f0767(0x1fc)](this[_0x4f0767(0x255)]*0x3)>Math[_0x4f0767(0x1fc)](this[_0x4f0767(0x276)])&&(this[_0x4f0767(0x276)]=this[_0x4f0767(0x255)]*0x3,this[_0x4f0767(0x1f7)]=this[_0x4f0767(0x22e)]*0x3),this[_0x4f0767(0x1e8)]['x']=this['x']+this[_0x4f0767(0x276)],this[_0x4f0767(0x1e8)]['y']=this['y']+this[_0x4f0767(0x1f7)],c[_0x4f0767(0x274)](this['x']+map['x'],this['y']+map['y']),c[_0x4f0767(0x21f)](this['x']+this[_0x4f0767(0x276)]+map['x'],this['y']+this[_0x4f0767(0x1f7)]+map['y']);}['compute'](){const _0x27d61c=_0x138f77;this['x']+=this[_0x27d61c(0x255)]/DTR,this['y']+=this[_0x27d61c(0x22e)]/DTR;if(getTileData(this['x'],this['y'])[_0x27d61c(0x215)])visualFxs['push'](new Explosion(this['x']+this[_0x27d61c(0x255)],this['y']+this[_0x27d61c(0x22e)],this[_0x27d61c(0x218)])),this[_0x27d61c(0x218)]==0x2&&(screenShake['counter']=0x5),this[_0x27d61c(0x255)]=0x0,this[_0x27d61c(0x22e)]=0x0,this[_0x27d61c(0x276)]/=0x2,this['lengthY']/=0x2,this[_0x27d61c(0x243)]=![];else for(let _0x2a6171=monsters[_0x27d61c(0x237)]-0x1;_0x2a6171>=0x0;_0x2a6171--){let _0x5195c2=monsters[_0x2a6171];!_0x5195c2['dead']&&_0x5195c2['collidable']&&((pointSquareCol(this,_0x5195c2)||pointSquareCol(this[_0x27d61c(0x1e8)],_0x5195c2))&&(this[_0x27d61c(0x1eb)]=![],_0x5195c2[_0x27d61c(0x239)]=this[_0x27d61c(0x255)]/0x2,_0x5195c2[_0x27d61c(0x268)]=this['yVel']/0x2,visualFxs[_0x27d61c(0x27f)](new Explosion(this['x'],this['y'],this[_0x27d61c(0x218)])),this[_0x27d61c(0x218)]==0x2&&(screenShake[_0x27d61c(0x27e)]=0x5),this['xVel']=0x0,this[_0x27d61c(0x22e)]=0x0,this[_0x27d61c(0x26f)]=this['x']-_0x5195c2['x'],this[_0x27d61c(0x211)]=this['y']-_0x5195c2['y'],_0x5195c2['arrows'][_0x27d61c(0x27f)](this),_0x5195c2['hp']-=this[_0x27d61c(0x250)],_0x5195c2[_0x27d61c(0x27d)]=0xf));}}}var enemyProjectiles=[];class EnemyProjectile{constructor(){const _0x30afd4=_0x138f77;this['x']=0x0,this['y']=0x0,this['w'],this['h'],this[_0x30afd4(0x22e)]=0x0,this[_0x30afd4(0x255)]=0x0,this[_0x30afd4(0x243)]=!![],this[_0x30afd4(0x290)]=![],this[_0x30afd4(0x226)]=id(_0x30afd4(0x226)),this[_0x30afd4(0x285)]=[0x5],this['actionY']=[0x18],this[_0x30afd4(0x23a)]=0x0,this[_0x30afd4(0x250)]=0x5;}['compute'](){const _0x538cb0=_0x138f77;this['x']+=this[_0x538cb0(0x255)]/DTR,this['y']+=this[_0x538cb0(0x22e)]/DTR,getTileData(this['x'],this['y'])['solid']?(enemyProjectiles[_0x538cb0(0x21d)](enemyProjectiles['indexOf'](this),0x1),visualFxs[_0x538cb0(0x27f)](new Explosion(this['x']+this[_0x538cb0(0x255)],this['y']+this[_0x538cb0(0x22e)],0x1)),this[_0x538cb0(0x255)]=0x0,this[_0x538cb0(0x22e)]=0x0,this[_0x538cb0(0x276)]/=0x2,this['lengthY']/=0x2,this[_0x538cb0(0x243)]=![]):pointSquareCol(this,player)&&(enemyProjectiles[_0x538cb0(0x21d)](enemyProjectiles['indexOf'](this),0x1),player[_0x538cb0(0x239)]+=this[_0x538cb0(0x255)]/0x2,player[_0x538cb0(0x268)]+=this['yVel']/0x2,player['hp']-=this[_0x538cb0(0x250)],visualFxs[_0x538cb0(0x27f)](new Explosion(this['x'],this['y'],0x1)),screenShake[_0x538cb0(0x27e)]=0x5);}[_0x138f77(0x24e)](){const _0xcb4fc5=_0x138f77;c[_0xcb4fc5(0x240)](this['sheet'],this[_0xcb4fc5(0x285)][this[_0xcb4fc5(0x23a)]]*TILESIZE,this[_0xcb4fc5(0x265)][this[_0xcb4fc5(0x23a)]]*TILESIZE,TILESIZE,TILESIZE,this['x']-TILESIZE/0x2+map['x'],this['y']-TILESIZE/0x2+map['y'],TILESIZE,TILESIZE);}}class Explosion{constructor(_0xb22e34,_0x532c3d,_0x3ee942){const _0x32b059=_0x138f77;this[_0x32b059(0x226)]=id('sheet'),this['x']=_0xb22e34-0x10,this['y']=_0x532c3d-0x10,this['w']=0x20,this['h']=0x20,this[_0x32b059(0x210)]=0x0,this['currentFrame']=0x0,this[_0x32b059(0x221)]=_0x3ee942-0x1,this[_0x32b059(0x285)]=[[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0],[0x1c0,0x1c0,0x1c0,0x1c0,0x1c0,0x1c0]],this[_0x32b059(0x265)]=[[0x0,0x20,0x40,0x60,0x80,0xa0],[0xc0,0xe0,0x100,0x120,0x140,0x160]],this['slowness']=0x4,this[_0x32b059(0x20d)]=![];}[_0x138f77(0x24e)](){const _0x1fd446=_0x138f77;c[_0x1fd446(0x240)](this[_0x1fd446(0x226)],this[_0x1fd446(0x285)][this[_0x1fd446(0x221)]][this[_0x1fd446(0x248)]],this[_0x1fd446(0x265)][this[_0x1fd446(0x221)]][this[_0x1fd446(0x248)]],TILESIZE,TILESIZE,this['x']+map['x'],this['y']+map['y'],this['w'],this['h']),this['frameCounter']++,this[_0x1fd446(0x210)]>this[_0x1fd446(0x213)]*DTR&&(this[_0x1fd446(0x210)]=0x0,this['currentFrame']++,this[_0x1fd446(0x248)]>this[_0x1fd446(0x285)][this[_0x1fd446(0x221)]][_0x1fd446(0x237)]-0x1&&(this[_0x1fd446(0x20d)]=!![]));}}class Collidable{constructor(){}[_0x138f77(0x294)](){const _0x12eb15=_0x138f77;let _0x54bc4d;this['col']['T']=0x0,this['col']['B']=0x0,this[_0x12eb15(0x230)]['L']=0x0,this['col']['R']=0x0,getTileData(this['x'],this['y'])['unpassable']&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x54bc4d=colCheck(this,generatedSquare),this['x']+=(this[_0x12eb15(0x230)]['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0x12eb15(0x230)]['T']-this[_0x12eb15(0x230)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y'])['unpassable']&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':(this['y']/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x54bc4d=colCheck(this,generatedSquare),this['x']+=(this[_0x12eb15(0x230)]['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0x12eb15(0x230)]['T']-this['col']['B'])/0x5/DTR),getTileData(this['x'],this['y']+this['h'])['unpassable']&&(generatedSquare={'x':(this['x']/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x54bc4d=colCheck(this,generatedSquare),this['x']+=(this['col']['L']-this['col']['R'])/0x5/DTR,this['y']+=(this[_0x12eb15(0x230)]['T']-this[_0x12eb15(0x230)]['B'])/0x5/DTR),getTileData(this['x']+this['w'],this['y']+this['h'])[_0x12eb15(0x217)]&&(generatedSquare={'x':((this['x']+this['w'])/TILESIZE|0x0)*TILESIZE,'y':((this['y']+this['h'])/TILESIZE|0x0)*TILESIZE,'w':TILESIZE,'h':TILESIZE},_0x54bc4d=colCheck(this,generatedSquare),this['x']+=(this[_0x12eb15(0x230)]['L']-this[_0x12eb15(0x230)]['R'])/0x5/DTR,this['y']+=(this['col']['T']-this['col']['B'])/0x5/DTR),this['col']['B']&&(this[_0x12eb15(0x268)]>0x0&&(this[_0x12eb15(0x268)]*=-0.5)),this[_0x12eb15(0x230)]['T']&&(this['yVelExt']<0x0&&(this['yVelExt']*=-0.5)),this[_0x12eb15(0x230)]['R']&&(this[_0x12eb15(0x239)]>0x0&&(this[_0x12eb15(0x239)]*=-0.5)),this[_0x12eb15(0x230)]['L']&&(this[_0x12eb15(0x239)]<0x0&&(this[_0x12eb15(0x239)]*=-0.5));}}class Player extends Collidable{constructor(_0x312a6b,_0x1fbd60){const _0x59440f=_0x138f77;super(Collidable),this['x']=_0x312a6b,this['y']=_0x1fbd60,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x59440f(0x293)]=0x3,this['yVel']=0x0,this[_0x59440f(0x255)]=0x0,this[_0x59440f(0x268)]=0x0,this['xVelExt']=0x0,this['L']=![],this['R']=![],this['T']=![],this['B']=![],this[_0x59440f(0x298)]=0xa,this[_0x59440f(0x275)]=0x0,this[_0x59440f(0x1e9)]=0x0,this[_0x59440f(0x230)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x59440f(0x285)]=[0x0,0x20,0x40],this[_0x59440f(0x265)]=[0x0,0x0,0x0],this['action']=0x0,this['frameCounter']=0x0,this['slowness']=0x6,this[_0x59440f(0x1f1)]=0x0,this[_0x59440f(0x261)]=![],this[_0x59440f(0x22c)]=0x14,this[_0x59440f(0x1f6)]=0x0,this[_0x59440f(0x1ea)]=0x0,this[_0x59440f(0x233)]=[0x1,0x1,0x1,0x1,0x1],this['arrowCD']=0x3c,this['arrowCounter']=0x0,this[_0x59440f(0x205)]=0x4,this['hp']=0x64,this['maxHp']=0x64,this['mp']=0x64,this[_0x59440f(0x219)]=0x64,this['critChance']=0.25,this[_0x59440f(0x236)]={'active':![],'radians':0x0,'actionX':[0xc0,0xf0,0x120,0x150,0x180],'actionY':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'frameCounter':0x0,'action':0x0,'slowness':0x4,'w':0x30,'h':0x30};}[_0x138f77(0x25b)](){const _0x14d60e=_0x138f77;let _0x40a977=!![],_0x2e9305;for(_0x2e9305=0x0;_0x2e9305<this['arrowsArr']['length'];_0x2e9305++){if(this[_0x14d60e(0x233)][_0x2e9305]===0x0){_0x40a977=![];break;}}this[_0x14d60e(0x205)]=_0x2e9305;if(!_0x40a977){this['arrowCounter']++;if(this[_0x14d60e(0x206)]>this[_0x14d60e(0x28f)]*DTR)for(_0x2e9305=0x0;_0x2e9305<this['arrowsArr']['length'];_0x2e9305++){if(this[_0x14d60e(0x233)][_0x2e9305]===0x0){Math[_0x14d60e(0x257)]()<this[_0x14d60e(0x26b)]?this['arrowsArr'][_0x2e9305]=0x2:this[_0x14d60e(0x233)][_0x2e9305]=0x1;this[_0x14d60e(0x206)]=0x0;break;}}}else this[_0x14d60e(0x206)]=0x0;}[_0x138f77(0x259)](){const _0x4ee45d=_0x138f77;this[_0x4ee45d(0x25b)](),this[_0x4ee45d(0x275)]=this['x']+this['w']/0x2,this[_0x4ee45d(0x1e9)]=this['y']+this['h']/0x2,this[_0x4ee45d(0x294)]();Math[_0x4ee45d(0x1fc)](this[_0x4ee45d(0x239)])>0.01?this[_0x4ee45d(0x239)]-=this[_0x4ee45d(0x239)]*0.1/DTR:this[_0x4ee45d(0x239)]=0x0;Math['abs'](this['yVelExt'])>0.01?this['yVelExt']-=this[_0x4ee45d(0x268)]*0.1/DTR:this[_0x4ee45d(0x268)]=0x0;this['L']&&this['T']||this['L']&&this['B']||this['R']&&this['T']||this['R']&&this['B']?this[_0x4ee45d(0x293)]=0x2:this[_0x4ee45d(0x293)]=0x3;this[_0x4ee45d(0x1f1)]=Math[_0x4ee45d(0x260)](Mouse['y']-this['y']-this['h']/0x2,Mouse['x']-this['w']/0x2-this['x'])+Math['PI']/0x2;if(this['L'])this[_0x4ee45d(0x255)]=-this[_0x4ee45d(0x293)];else!this['R']&&(this[_0x4ee45d(0x255)]=0x0);if(this['R'])this[_0x4ee45d(0x255)]=this[_0x4ee45d(0x293)];else!this['L']&&(this[_0x4ee45d(0x255)]=0x0);if(this['T'])this['yVel']=-this[_0x4ee45d(0x293)];else!this['B']&&(this[_0x4ee45d(0x22e)]=0x0);if(this['B'])this[_0x4ee45d(0x22e)]=this[_0x4ee45d(0x293)];else!this['T']&&(this[_0x4ee45d(0x22e)]=0x0);this['x']+=(this[_0x4ee45d(0x255)]+this[_0x4ee45d(0x239)])/DTR,this['y']+=(this[_0x4ee45d(0x22e)]+this[_0x4ee45d(0x268)])/DTR;}[_0x138f77(0x24e)](){const _0xf5e19d=_0x138f77;this['xVel']===0x0&&this[_0xf5e19d(0x22e)]===0x0?this[_0xf5e19d(0x221)]=0x0:(this[_0xf5e19d(0x210)]++,this['frameCounter']>=this[_0xf5e19d(0x213)]*DTR&&(this[_0xf5e19d(0x221)]++,this['frameCounter']=0x0,this[_0xf5e19d(0x221)]>=this[_0xf5e19d(0x285)][_0xf5e19d(0x237)]&&(this[_0xf5e19d(0x221)]=0x0))),c[_0xf5e19d(0x23e)](),c[_0xf5e19d(0x22b)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c[_0xf5e19d(0x271)](this['radians']),c[_0xf5e19d(0x240)](id('player'),this[_0xf5e19d(0x285)][this[_0xf5e19d(0x221)]],this['actionY'][this[_0xf5e19d(0x221)]],TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0xf5e19d(0x288)](),this['noArrows']&&(c['drawImage'](id('sheet'),0x40,0x80,0x10,0x10,this['x']+0x8+map['x'],this['y']-0x10+map['y'],0x10,0x10),this[_0xf5e19d(0x1f6)]--),this[_0xf5e19d(0x236)][_0xf5e19d(0x1eb)]&&this[_0xf5e19d(0x204)]();}[_0x138f77(0x204)](){const _0x4a06b6=_0x138f77;this[_0x4a06b6(0x236)][_0x4a06b6(0x210)]++,this[_0x4a06b6(0x236)][_0x4a06b6(0x210)]>=this['bow'][_0x4a06b6(0x213)]*DTR&&(this['bow'][_0x4a06b6(0x221)]++,this[_0x4a06b6(0x236)][_0x4a06b6(0x210)]=0x0,this[_0x4a06b6(0x236)][_0x4a06b6(0x1eb)]>=this[_0x4a06b6(0x236)][_0x4a06b6(0x285)][_0x4a06b6(0x237)]&&(this['bow'][_0x4a06b6(0x1eb)]=![])),c['save'](),c[_0x4a06b6(0x22b)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']),c['rotate'](this[_0x4a06b6(0x1f1)]),c[_0x4a06b6(0x240)](id('bow'),this[_0x4a06b6(0x236)]['actionX'][this['bow'][_0x4a06b6(0x221)]],this[_0x4a06b6(0x236)][_0x4a06b6(0x265)][this[_0x4a06b6(0x236)][_0x4a06b6(0x221)]],0x30,0x30,-this[_0x4a06b6(0x236)]['w']/0x2,-this['bow']['h'],this[_0x4a06b6(0x236)]['w'],this[_0x4a06b6(0x236)]['h']),c[_0x4a06b6(0x288)]();}[_0x138f77(0x1f8)](){const _0x2416ec=_0x138f77;this['bow']['active']=!![],this[_0x2416ec(0x236)][_0x2416ec(0x210)]=0x0,this[_0x2416ec(0x236)][_0x2416ec(0x248)]=0x0,this['bow'][_0x2416ec(0x221)]=0x0;let _0x40faaf=this['x']+this['w']/0x2,_0x5df45f=this['y']+this['h']/0x2,_0x30238b=Mouse['x']-_0x40faaf+Math['random']()*this[_0x2416ec(0x22c)]-this['precision']/0x2,_0x3ac65c=Mouse['y']-_0x5df45f+Math[_0x2416ec(0x257)]()*this['precision']-this[_0x2416ec(0x22c)]/0x2,_0x203699=Math[_0x2416ec(0x260)](_0x3ac65c,_0x30238b),_0x2192c0=Math[_0x2416ec(0x28b)](_0x203699),_0x81d163=Math['sin'](_0x203699),_0x27ac4a=new Projectile();_0x27ac4a[_0x2416ec(0x255)]=_0x2192c0*this[_0x2416ec(0x298)],_0x27ac4a[_0x2416ec(0x22e)]=_0x81d163*this[_0x2416ec(0x298)],_0x27ac4a['x']=_0x40faaf,_0x27ac4a['y']=_0x5df45f,_0x27ac4a[_0x2416ec(0x218)]=this[_0x2416ec(0x233)][0x0],playerArrows[_0x2416ec(0x27f)](_0x27ac4a),this[_0x2416ec(0x233)][_0x2416ec(0x279)](),this['arrowsArr'][_0x2416ec(0x27f)](0x0);}['attack'](){const _0x29dddb=_0x138f77;if(!sword[_0x29dddb(0x1eb)]){sword[_0x29dddb(0x1eb)]=!![],sword[_0x29dddb(0x1f2)]=this[_0x29dddb(0x1f1)];if(Mouse['x']<this['x']-0x10||Mouse['x']>this['x']+this['w']+0x10||Mouse['y']<this['y']-0x10||Mouse['y']>this['y']+this['h']+0x10){let _0x1eefda=this['x']+this['w']/0x2,_0x2372eb=this['y']+this['h']/0x2,_0x3b5462=returnCosine(Mouse['x'],Mouse['y'],_0x1eefda,_0x2372eb);this[_0x29dddb(0x239)]=_0x3b5462['cos']*0xe,this['yVelExt']=_0x3b5462['sin']*0xe;}}}}var player=new Player(CANVAS[_0x138f77(0x203)]/0x2,CANVAS[_0x138f77(0x286)]/0x4*0x3);class UserInterface{constructor(){const _0x5d9276=_0x138f77;this['sheet']=id(_0x5d9276(0x235)),this['x']=0x14,this['y']=0x5,this[_0x5d9276(0x28d)]=![],this['rClick']=![],this[_0x5d9276(0x1ea)]=0x0,this[_0x5d9276(0x23d)]={'crop':{'x':0x0,'y':0x0,'w':0x144,'h':0x35},'pos':{'x':0x0,'y':0x0}},this['portrait']={'crop':[{'x':0x0,'y':0x40,'w':0x35,'h':0x35},{'x':0x40,'y':0x40,'w':0x35,'h':0x35}],'pos':{'x':0x8a,'y':0x0}},this['hpBar']={'crop':{'x':0x80,'y':0x40,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0xa}},this[_0x5d9276(0x282)]={'crop':{'x':0x80,'y':0x50,'w':0x65,'h':0xb},'pos':{'x':0xd7,'y':0x17}},this['bow']={'crop':{'x':0xf0,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0xe}},this[_0x5d9276(0x261)]={'crop':{'x':0x130,'y':0x40,'w':0x3c,'h':0x3d},'pos':{'x':0x29a,'y':0x56}},this[_0x5d9276(0x214)]={'crop':[{'x':0x80,'y':0x60,'w':0x6,'h':0x15},{'x':0x90,'y':0x60,'w':0x6,'h':0x15},{'x':0xa0,'y':0x60,'w':0x6,'h':0x15}],'pos':{'x':0x63,'y':0xc}},this[_0x5d9276(0x233)]=[0x1,0x1,0x1,0x1];}[_0x138f77(0x24e)](){const _0x541a6f=_0x138f77;this[_0x541a6f(0x28d)]&&(c[_0x541a6f(0x231)]=0.5);c[_0x541a6f(0x240)](this[_0x541a6f(0x226)],this[_0x541a6f(0x236)][_0x541a6f(0x26e)]['x'],this[_0x541a6f(0x236)][_0x541a6f(0x26e)]['y'],this[_0x541a6f(0x236)][_0x541a6f(0x26e)]['w'],this[_0x541a6f(0x236)][_0x541a6f(0x26e)]['h'],this[_0x541a6f(0x236)][_0x541a6f(0x238)]['x'],this[_0x541a6f(0x236)][_0x541a6f(0x238)]['y'],this[_0x541a6f(0x236)][_0x541a6f(0x26e)]['w'],this[_0x541a6f(0x236)][_0x541a6f(0x26e)]['h']);this[_0x541a6f(0x28d)]&&(c['globalAlpha']=0x1);this[_0x541a6f(0x28a)]&&(c['globalAlpha']=0.5);c[_0x541a6f(0x240)](this['sheet'],this[_0x541a6f(0x261)][_0x541a6f(0x26e)]['x'],this[_0x541a6f(0x261)][_0x541a6f(0x26e)]['y'],this[_0x541a6f(0x261)][_0x541a6f(0x26e)]['w'],this[_0x541a6f(0x261)][_0x541a6f(0x26e)]['h'],this[_0x541a6f(0x261)]['pos']['x'],this[_0x541a6f(0x261)]['pos']['y'],this[_0x541a6f(0x261)][_0x541a6f(0x26e)]['w'],this[_0x541a6f(0x261)][_0x541a6f(0x26e)]['h']);this[_0x541a6f(0x28a)]&&(c[_0x541a6f(0x231)]=0x1);c['drawImage'](this['sheet'],this[_0x541a6f(0x23d)][_0x541a6f(0x26e)]['x'],this[_0x541a6f(0x23d)]['crop']['y'],this[_0x541a6f(0x23d)]['crop']['w'],this[_0x541a6f(0x23d)]['crop']['h'],this[_0x541a6f(0x23d)][_0x541a6f(0x238)]['x']+this['x'],this['layout'][_0x541a6f(0x238)]['y']+this['y'],this[_0x541a6f(0x23d)][_0x541a6f(0x26e)]['w'],this[_0x541a6f(0x23d)][_0x541a6f(0x26e)]['h']),c[_0x541a6f(0x240)](this[_0x541a6f(0x226)],this[_0x541a6f(0x251)][_0x541a6f(0x26e)][player[_0x541a6f(0x1ea)]]['x'],this[_0x541a6f(0x251)][_0x541a6f(0x26e)][player[_0x541a6f(0x1ea)]]['y'],this['portrait'][_0x541a6f(0x26e)][player['attacked']]['w'],this[_0x541a6f(0x251)]['crop'][player[_0x541a6f(0x1ea)]]['h'],this['portrait'][_0x541a6f(0x238)]['x']+this['x'],this[_0x541a6f(0x251)][_0x541a6f(0x238)]['y']+this['y'],this[_0x541a6f(0x251)][_0x541a6f(0x26e)][player[_0x541a6f(0x1ea)]]['w'],this[_0x541a6f(0x251)][_0x541a6f(0x26e)][player[_0x541a6f(0x1ea)]]['h']),c[_0x541a6f(0x240)](this[_0x541a6f(0x226)],this[_0x541a6f(0x29b)][_0x541a6f(0x26e)]['x'],this[_0x541a6f(0x29b)][_0x541a6f(0x26e)]['y'],this[_0x541a6f(0x29b)]['crop']['w'],this[_0x541a6f(0x29b)][_0x541a6f(0x26e)]['h'],this[_0x541a6f(0x29b)][_0x541a6f(0x238)]['x']+this['x'],this[_0x541a6f(0x29b)]['pos']['y']+this['y'],this['hpBar'][_0x541a6f(0x26e)]['w']/player[_0x541a6f(0x253)]*player['hp'],this[_0x541a6f(0x29b)][_0x541a6f(0x26e)]['h']),c[_0x541a6f(0x240)](this[_0x541a6f(0x226)],this[_0x541a6f(0x282)][_0x541a6f(0x26e)]['x'],this['mpBar'][_0x541a6f(0x26e)]['y'],this[_0x541a6f(0x282)]['crop']['w'],this['mpBar'][_0x541a6f(0x26e)]['h'],this[_0x541a6f(0x282)]['pos']['x']+this['x'],this[_0x541a6f(0x282)][_0x541a6f(0x238)]['y']+this['y'],this[_0x541a6f(0x282)][_0x541a6f(0x26e)]['w'],this[_0x541a6f(0x282)][_0x541a6f(0x26e)]['h']);for(let _0x5a6bfe=0x0;_0x5a6bfe<player['arrowsArr']['length'];_0x5a6bfe++){c[_0x541a6f(0x240)](this['sheet'],this[_0x541a6f(0x214)][_0x541a6f(0x26e)][player[_0x541a6f(0x233)][_0x5a6bfe]]['x'],this[_0x541a6f(0x214)][_0x541a6f(0x26e)][player[_0x541a6f(0x233)][_0x5a6bfe]]['y'],this[_0x541a6f(0x214)][_0x541a6f(0x26e)][player[_0x541a6f(0x233)][_0x5a6bfe]]['w'],this['arrow'][_0x541a6f(0x26e)][player[_0x541a6f(0x233)][_0x5a6bfe]]['h'],this[_0x541a6f(0x214)]['pos']['x']+this['x']-0xa*_0x5a6bfe,this[_0x541a6f(0x214)][_0x541a6f(0x238)]['y']+this['y'],this[_0x541a6f(0x214)][_0x541a6f(0x26e)][player[_0x541a6f(0x233)][_0x5a6bfe]]['w'],this[_0x541a6f(0x214)][_0x541a6f(0x26e)][player[_0x541a6f(0x233)][_0x5a6bfe]]['h']);}c[_0x541a6f(0x25f)]=_0x541a6f(0x277),c[_0x541a6f(0x22a)]=_0x541a6f(0x278),c['fillStyle']='#2f4447',c[_0x541a6f(0x262)](player[_0x541a6f(0x205)]+'/'+player[_0x541a6f(0x233)]['length'],0x7a+this['x'],0x20+this['y']);}}var userInterface=new UserInterface();function drawLaser(){const _0x35e725=_0x138f77;let _0x425214=player['x']+player['w']/0x2,_0xae77a1=player['y']+player['h']/0x2,_0xd1975b=_0x425214,_0x353cd8=_0xae77a1,_0x53189d=![],_0x47c233=0x0,_0x8ed904=returnCosine(_0x425214,_0xae77a1,Mouse['x'],Mouse['y']),_0x28b807=[],_0x46fe7b={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x182835={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0x22e64d=0x4,_0x1c24c5={'x':0x0,'y':0x0};while(!_0x53189d&&_0x47c233<CANVAS[_0x35e725(0x203)]*0x2/_0x22e64d){_0xd1975b-=_0x8ed904[_0x35e725(0x28b)]*_0x22e64d,_0x353cd8-=_0x8ed904[_0x35e725(0x27b)]*_0x22e64d;getTileData(_0xd1975b,_0x353cd8)[_0x35e725(0x215)]&&(_0x46fe7b=getTileData(_0xd1975b,_0x353cd8)[_0x35e725(0x291)],_0x182835['x']=_0x46fe7b['x'],_0x182835['y']=_0x46fe7b['y'],_0x182835['w']=_0x46fe7b['w'],_0x182835['h']=_0x46fe7b['h'],_0x182835['x']+=_0xd1975b-_0xd1975b%TILESIZE,_0x182835['y']+=_0x353cd8-_0x353cd8%TILESIZE,_0x53189d=!![]);_0x1c24c5['x']=_0xd1975b,_0x1c24c5['y']=_0x353cd8;for(let _0x3ca1b7=0x0;_0x3ca1b7<monsters['length'];_0x3ca1b7++){if(!monsters[_0x3ca1b7][_0x35e725(0x24c)]&&pointSquareCol(_0x1c24c5,monsters[_0x3ca1b7])){_0x182835['x']=monsters[_0x3ca1b7]['x'],_0x182835['y']=monsters[_0x3ca1b7]['y'],_0x182835['w']=monsters[_0x3ca1b7]['w'],_0x182835['h']=monsters[_0x3ca1b7]['h'],_0x53189d=!![];break;}}_0x47c233++;}_0x28b807=getRectSides(_0x182835);let _0x488d21=[],_0x423d4d={},_0x10fbe2;for(let _0x5a475e=0x0;_0x5a475e<_0x28b807['length'];_0x5a475e++){_0x423d4d=intersect(_0x425214,_0xae77a1,_0xd1975b,_0x353cd8,_0x28b807[_0x5a475e]['x1'],_0x28b807[_0x5a475e]['y1'],_0x28b807[_0x5a475e]['x2'],_0x28b807[_0x5a475e]['y2']),_0x423d4d&&_0x488d21[_0x35e725(0x27f)](_0x423d4d);}let _0x271888=Math[_0x35e725(0x267)](_0x425214-_0xd1975b,_0xae77a1-_0x353cd8),_0x20a79f=_0xd1975b,_0x302eae=_0xd1975b;for(let _0x1917fc=0x0;_0x1917fc<_0x488d21['length'];_0x1917fc++){_0x10fbe2=Math['hypot'](_0x425214-_0xd1975b,_0xae77a1-_0x353cd8),_0x10fbe2<_0x271888&&(_0x271888=_0x10fbe2,_0x20a79f=_0x488d21[_0x1917fc]['x'],_0x302eae=_0x488d21[_0x1917fc]['y']);}c[_0x35e725(0x245)]=_0x35e725(0x1f3),c[_0x35e725(0x21c)](),c[_0x35e725(0x274)](_0x425214+map['x'],_0xae77a1+map['y']),c['lineTo'](_0xd1975b+map['x'],_0x353cd8+map['y']),c[_0x35e725(0x1f9)](),c[_0x35e725(0x245)]=_0x35e725(0x224);}function isObstructed(_0x48bfba,_0x57475a){const _0xb2b9fd=_0x138f77;let _0x4d6061=_0x48bfba['x']+_0x48bfba['w']/0x2,_0x4d136a=_0x48bfba['y']+_0x48bfba['h']/0x2,_0x3e6272=_0x57475a['x']+_0x57475a['w']/0x2,_0x3007e2=_0x57475a['y']+_0x57475a['h']/0x2,_0x4a9a89=Math[_0xb2b9fd(0x267)](_0x4d6061-_0x3e6272,_0x4d136a-_0x3007e2),_0xae6b53=_0x4d6061,_0x947053=_0x4d136a,_0x3a7449=![],_0x58175b=0x0,_0x572803=returnCosine(_0x4d6061,_0x4d136a,_0x3e6272,_0x3007e2),_0x20e5fc=[],_0x58c079={'x1':0x0,'y1':0x0,'x2':0x0,'y2':0x0},_0x2b4491={'x':0x0,'y':0x0,'w':0x0,'h':0x0},_0xfb355c=0x3,_0x4f5935={'x':0x0,'y':0x0};while(!_0x3a7449&&_0x58175b<_0x4a9a89/_0xfb355c){_0xae6b53-=_0x572803[_0xb2b9fd(0x28b)]*_0xfb355c,_0x947053-=_0x572803[_0xb2b9fd(0x27b)]*_0xfb355c;if(getTileData(_0xae6b53,_0x947053)[_0xb2b9fd(0x215)])return _0x58c079=getTileData(_0xae6b53,_0x947053)[_0xb2b9fd(0x291)],_0x2b4491['x']=_0x58c079['x'],_0x2b4491['y']=_0x58c079['y'],_0x2b4491['w']=_0x58c079['w'],_0x2b4491['h']=_0x58c079['h'],_0x2b4491['x']+=_0xae6b53-_0xae6b53%TILESIZE,_0x2b4491['y']+=_0x947053-_0x947053%TILESIZE,!![];_0x4f5935['x']=_0xae6b53,_0x4f5935['y']=_0x947053;if(pointSquareCol(_0x4f5935,_0x57475a))return![];_0x58175b++;}}function getRectSides(_0x575b5f){const _0x29e44c=_0x138f77;let _0x419571=[];return _0x419571['push']({'x1':_0x575b5f['x'],'y1':_0x575b5f['y'],'x2':_0x575b5f['x']+_0x575b5f['w'],'y2':_0x575b5f['y']}),_0x419571[_0x29e44c(0x27f)]({'x1':_0x575b5f['x']+_0x575b5f['w'],'y1':_0x575b5f['y'],'x2':_0x575b5f['x']+_0x575b5f['w'],'y2':_0x575b5f['y']+_0x575b5f['h']}),_0x419571[_0x29e44c(0x27f)]({'x1':_0x575b5f['x']+_0x575b5f['w'],'y1':_0x575b5f['y']+_0x575b5f['h'],'x2':_0x575b5f['x'],'y2':_0x575b5f['y']+_0x575b5f['h']}),_0x419571[_0x29e44c(0x27f)]({'x1':_0x575b5f['x'],'y1':_0x575b5f['y']+_0x575b5f['h'],'x2':_0x575b5f['x'],'y2':_0x575b5f['y']}),_0x419571;}function init(){const _0xc956d9=_0x138f77;let _0x62c92c,_0x34a8c1={};fetch(_0xc956d9(0x1f5))[_0xc956d9(0x24d)](function(_0x2cbbc1){const _0x5120df=_0xc956d9;return _0x2cbbc1[_0x5120df(0x23c)]();})[_0xc956d9(0x24d)](function(_0x2010d5){const _0x15a958=_0xc956d9;_0x62c92c=_0x2010d5[_0x15a958(0x21b)];for(let _0xfa0c80=0x0;_0xfa0c80<_0x62c92c[_0x15a958(0x237)];_0xfa0c80++){_0x34a8c1={'id':0x0,'solid':![],'hole':![],'unpassable':![],'hitbox':{'x':0x0,'y':0x0,'w':TILESIZE,'h':TILESIZE}},_0x34a8c1['id']=_0x62c92c[_0xfa0c80]['id'];if(_0x62c92c[_0xfa0c80][_0x15a958(0x296)](_0x15a958(0x228)))for(let _0x176247=0x0;_0x176247<_0x62c92c[_0xfa0c80][_0x15a958(0x228)]['length'];_0x176247++){if(_0x62c92c[_0xfa0c80][_0x15a958(0x228)][_0x176247])switch(_0x62c92c[_0xfa0c80][_0x15a958(0x228)][_0x176247][_0x15a958(0x1ed)]){case _0x15a958(0x1e7):_0x34a8c1[_0x15a958(0x1e7)]=!![],_0x34a8c1[_0x15a958(0x217)]=!![];break;case _0x15a958(0x215):_0x34a8c1[_0x15a958(0x215)]=!![],_0x34a8c1[_0x15a958(0x217)]=!![];break;}}TilesData[_0x15a958(0x27f)](_0x34a8c1);}loop();});}init();var HP_BAR=id('hp-bar');function renderHpBars(){const _0x442a52=_0x138f77;for(let _0x4df78a=0x0;_0x4df78a<monsters[_0x442a52(0x237)];_0x4df78a++){if(monsters[_0x4df78a]['dead'])continue;let _0x5147d7=monsters[_0x4df78a]['hp']/monsters[_0x4df78a][_0x442a52(0x253)],_0xb1874=Math[_0x442a52(0x1fb)](TILESIZE*_0x5147d7);c[_0x442a52(0x240)](HP_BAR,0x0,0x4,_0xb1874,0x4,monsters[_0x4df78a]['x']+monsters[_0x4df78a]['w']/0x2-0x10+map['x']|0x0,monsters[_0x4df78a]['y']-0x8+map['y']|0x0,_0xb1874|0x0,0x4|0x0),c['drawImage'](HP_BAR,0x0,0x0,TILESIZE,0x4,monsters[_0x4df78a]['x']+monsters[_0x4df78a]['w']/0x2-0x10+map['x']|0x0,monsters[_0x4df78a]['y']-0x8+map['y']|0x0,TILESIZE|0x0,0x4|0x0);}}class Map{constructor(){const _0x4344b4=_0x138f77;this[_0x4344b4(0x203)]=0x17,this[_0x4344b4(0x286)]=0xf,this['x']=0x0,this['y']=0x0,this[_0x4344b4(0x21b)]=maps['m1'],this[_0x4344b4(0x226)]=id('sheet'),this[_0x4344b4(0x241)]=id(_0x4344b4(0x241));}[_0x138f77(0x24e)](){const _0x38dad7=_0x138f77;for(let _0x3bcd6b=0x0;_0x3bcd6b<this['tiles'][_0x38dad7(0x237)];_0x3bcd6b++){_0x3bcd6b==0x1&&c[_0x38dad7(0x240)](this[_0x38dad7(0x241)],0x0+this['x'],0x0+this['y'],CANVAS[_0x38dad7(0x203)],CANVAS['height']);for(let _0x2b359a=0x0;_0x2b359a<this[_0x38dad7(0x21b)][_0x3bcd6b][_0x38dad7(0x237)];_0x2b359a++){if(this[_0x38dad7(0x21b)][_0x3bcd6b][_0x2b359a]===0x0)continue;c[_0x38dad7(0x240)](this[_0x38dad7(0x226)],(this[_0x38dad7(0x21b)][_0x3bcd6b][_0x2b359a]-0x1)%0xf*TILESIZE,((this[_0x38dad7(0x21b)][_0x3bcd6b][_0x2b359a]-0x1)/0xf|0x0)*TILESIZE,TILESIZE,TILESIZE,_0x2b359a%this[_0x38dad7(0x203)]*TILESIZE+map['x'],(_0x2b359a/this[_0x38dad7(0x203)]|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE);}}}}var map=new Map();class Sword{constructor(){const _0x3aacb4=_0x138f77;this['x']=player['x'],this['y']=player['y'],this['w']=0x10,this['h']=0x30,this['r']=0x32,this['radians']=0x2,this[_0x3aacb4(0x1f2)]=0x0,this['actionX']=[0x0],this[_0x3aacb4(0x265)]=[0x0],this[_0x3aacb4(0x292)]=[0x0,0x0,0x0,0x0],this[_0x3aacb4(0x222)]=[0x0,0x80,0x100,0x180],this[_0x3aacb4(0x248)]=0x0,this['frameCounter']=0x0,this[_0x3aacb4(0x221)]=0x0,this[_0x3aacb4(0x213)]=0x3,this[_0x3aacb4(0x1eb)]=![],this['sheet']=id(_0x3aacb4(0x1fd)),this['swordImg']=id('sword');}[_0x138f77(0x259)](){const _0x712907=_0x138f77;this['x']=player['x']+player['w']/0x2,this['y']=player['y']+player['h']/0x2;let _0x20d683,_0x2ac978,_0x53e99d;for(let _0x5d1958=0x0;_0x5d1958<monsters[_0x712907(0x237)];_0x5d1958++){if(monsters[_0x5d1958][_0x712907(0x24c)]||!monsters[_0x5d1958][_0x712907(0x247)])continue;_0x20d683=monsters[_0x5d1958][_0x712907(0x291)]['x']+monsters[_0x5d1958][_0x712907(0x291)]['w']/0x2,_0x2ac978=monsters[_0x5d1958][_0x712907(0x291)]['y']+monsters[_0x5d1958][_0x712907(0x291)]['h']/0x2,_0x53e99d=(monsters[_0x5d1958]['w']+monsters[_0x5d1958]['h'])/0x2*0.5;if(circleCollision(this['x'],this['y'],this['r'],_0x20d683,_0x2ac978,_0x53e99d)){let _0x3dd341=this['x']+this['w']/0x2,_0x2bbae8=this['y']+this['h']/0x2,_0x4a8198=monsters[_0x5d1958]['x']-_0x3dd341,_0x2fc692=monsters[_0x5d1958]['y']-_0x2bbae8,_0x3cdd8c=Math['atan2'](_0x2fc692,_0x4a8198),_0x4a23a0=Math['cos'](_0x3cdd8c),_0x272c1a=Math[_0x712907(0x27b)](_0x3cdd8c);monsters[_0x5d1958]['xVelExt']=_0x4a23a0*0xa,monsters[_0x5d1958][_0x712907(0x268)]=_0x272c1a*0xa,monsters[_0x5d1958]['hp']-=0.25,monsters[_0x5d1958]['justDamaged']=0xf;}}}[_0x138f77(0x24e)](){const _0x1f00fa=_0x138f77;this['frameCounter']++,this[_0x1f00fa(0x210)]>this[_0x1f00fa(0x213)]*DTR&&(this['frameCounter']=0x0,this[_0x1f00fa(0x248)]++,this[_0x1f00fa(0x248)]>=this['vfxX'][_0x1f00fa(0x237)]&&(this[_0x1f00fa(0x248)]=0x0)),c[_0x1f00fa(0x240)](this['sheet'],this[_0x1f00fa(0x292)][this[_0x1f00fa(0x248)]],this[_0x1f00fa(0x222)][this['currentFrame']],0x80,0x40,this['x']-0x40-player[_0x1f00fa(0x239)]*0x4+map['x'],this['y']-0x40-player['yVelExt']*0x4+map['y'],0x80,0x40),c[_0x1f00fa(0x23e)](),c['translate'](player['x']+player['w']/0x2+map['x'],player['y']+player['h']/0x2+map['y']),c[_0x1f00fa(0x271)](this[_0x1f00fa(0x1f2)]+this['radians']),c[_0x1f00fa(0x240)](this[_0x1f00fa(0x264)],this[_0x1f00fa(0x285)][this['action']],this['actionY'][this['action']],this['w'],this['h'],-this['w']/0x2,-this['h']/0x2-player['h'],this['w'],this['h']),c[_0x1f00fa(0x288)](),this[_0x1f00fa(0x1f1)]-=0.5/DTR,this[_0x1f00fa(0x1f1)]<=-0x9&&(this[_0x1f00fa(0x1eb)]=![],this[_0x1f00fa(0x1f1)]=0x2),c['drawImage'](this[_0x1f00fa(0x226)],this[_0x1f00fa(0x292)][this['currentFrame']],this[_0x1f00fa(0x222)][this['currentFrame']]+0x40,0x80,0x40,this['x']-0x40-player[_0x1f00fa(0x239)]*0x4+map['x'],this['y']-player['yVelExt']*0x4+map['y'],0x80,0x40);}}var sword=new Sword();function sortMonsters(){const _0x3bafe3=_0x138f77;monsters[_0x3bafe3(0x281)](function(_0x3374e3,_0x5e186d){const _0x24f6f8=_0x3bafe3;if(_0x3374e3[_0x24f6f8(0x24c)]&&!_0x5e186d[_0x24f6f8(0x24c)])return-0x1;else return!_0x3374e3[_0x24f6f8(0x24c)]&&_0x5e186d[_0x24f6f8(0x24c)]?0x1:_0x3374e3['y']+0xf-_0x5e186d['y'];});}function adjustCollidingMonsters(){const _0x538138=_0x138f77;for(let _0x382d9a=0x0;_0x382d9a<monsters['length'];_0x382d9a++){if(monsters[_0x382d9a]['dead'])continue;monsters[_0x382d9a][_0x538138(0x230)]['T']=0x0,monsters[_0x382d9a]['col']['B']=0x0,monsters[_0x382d9a][_0x538138(0x230)]['L']=0x0,monsters[_0x382d9a][_0x538138(0x230)]['R']=0x0;for(let _0x1d99f5=0x0;_0x1d99f5<monsters[_0x538138(0x237)];_0x1d99f5++){if(monsters[_0x1d99f5][_0x538138(0x24c)])continue;if(collided(monsters[_0x382d9a],monsters[_0x1d99f5])){let _0x3f97c7=colCheck(monsters[_0x382d9a],monsters[_0x1d99f5]);switch(_0x3f97c7){case'l':this[_0x538138(0x255)]<0x0&&(this[_0x538138(0x255)]=0x0);break;case'r':this[_0x538138(0x255)]>0x0&&(this['xVel']=0x0);break;case'b':this[_0x538138(0x22e)]>0x0&&(this[_0x538138(0x22e)]=0x0);break;case't':this[_0x538138(0x22e)]<0x0&&(this['yVel']=0x0);break;}monsters[_0x382d9a][_0x538138(0x255)]+=(monsters[_0x382d9a]['col']['L']-monsters[_0x382d9a][_0x538138(0x230)]['R'])/0x5,monsters[_0x382d9a]['yVel']+=(monsters[_0x382d9a][_0x538138(0x230)]['T']-monsters[_0x382d9a][_0x538138(0x230)]['B'])/0x5;}}}}class Monster extends Collidable{constructor(_0x22648d,_0x53081c){const _0x2bfef3=_0x138f77;super(Collidable),this['x']=_0x22648d,this['y']=_0x53081c,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x2bfef3(0x255)]=0x0,this['yVel']=0x0,this[_0x2bfef3(0x239)]=0x0,this['yVelExt']=0x0,this[_0x2bfef3(0x293)]=0x2,this[_0x2bfef3(0x20f)]=0x0,this['justDied']=![],this[_0x2bfef3(0x27d)]=0x0,this[_0x2bfef3(0x24c)]=![],this[_0x2bfef3(0x1ec)]=[],this['maxHp']=0x3,this['hp']=0x3,this[_0x2bfef3(0x210)]=0x0,this[_0x2bfef3(0x213)]=0x4,this[_0x2bfef3(0x248)]=0x0,this[_0x2bfef3(0x247)]=!![],this[_0x2bfef3(0x226)]=id(_0x2bfef3(0x226)),this[_0x2bfef3(0x221)]=0x0,this[_0x2bfef3(0x230)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x2bfef3(0x291)]={'x':0x0,'y':0x0,'w':0x13,'h':0x11},this[_0x2bfef3(0x285)]=[[0x3,0x3,0x3,0x3],[0x4,0x4,0x4,0x4],[0x5,0x5,0x5,0x5],[0x3,0x3,0x3,0x3],[0x3]],this[_0x2bfef3(0x265)]=[[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x6,0x7,0x8,0x9],[0x9,0x8,0x7,0x6],[0x9]];}[_0x138f77(0x25a)](){const _0x4bae3b=_0x138f77;if(this[_0x4bae3b(0x221)]!==0x0){let _0x15e844=this['x']+this['w']/0x2-player['x']-player['w']/0x2,_0x508b0d=this['y']+this['h']/0x2-player['y']-player['h']/0x2,_0x564d25=_0x15e844>0x0?-0x1:0x1,_0x431a10=_0x508b0d>0x0?-0x1:0x1,_0x3d8339;_0x508b0d!==0x0?_0x3d8339=Math[_0x4bae3b(0x1fc)](_0x15e844)/(Math[_0x4bae3b(0x1fc)](_0x508b0d)+Math[_0x4bae3b(0x1fc)](_0x15e844)):_0x3d8339=0x0;this[_0x4bae3b(0x255)]=this[_0x4bae3b(0x293)]*_0x3d8339*_0x564d25,this[_0x4bae3b(0x22e)]=this[_0x4bae3b(0x293)]*(0x1-_0x3d8339)*_0x431a10;if(this['x']+this['w']<player['x'])this['left']=![];else player['x']+player['w']<this['x']&&(this[_0x4bae3b(0x20f)]=!![]);}}[_0x138f77(0x259)](){const _0x37c220=_0x138f77;if(!this[_0x37c220(0x24c)]){this[_0x37c220(0x25a)]();Math['abs'](this[_0x37c220(0x239)])>0.01?this[_0x37c220(0x239)]*=0.9:this[_0x37c220(0x239)]=0x0;Math[_0x37c220(0x1fc)](this[_0x37c220(0x268)])>0.01?this[_0x37c220(0x268)]*=0.9:this[_0x37c220(0x268)]=0x0;(this[_0x37c220(0x230)]['T']&&this[_0x37c220(0x22e)]<0x0||this['col']['B']&&this[_0x37c220(0x22e)]>0x0)&&(this['yVel']=0x0);(this[_0x37c220(0x230)]['L']&&this[_0x37c220(0x255)]<0x0||this[_0x37c220(0x230)]['R']&&this[_0x37c220(0x255)]>0x0)&&(this['xVel']=0x0);this['action']!==0x0&&(this[_0x37c220(0x20f)]?this[_0x37c220(0x221)]=0x2:this[_0x37c220(0x221)]=0x1);this['checkCollisions'](),this['x']+=(this[_0x37c220(0x255)]+this[_0x37c220(0x239)])/DTR,this['y']+=(this[_0x37c220(0x22e)]+this[_0x37c220(0x268)])/DTR;for(let _0x341340=0x0;_0x341340<this[_0x37c220(0x1ec)][_0x37c220(0x237)];_0x341340++){this[_0x37c220(0x1ec)][_0x341340]['x']=this['x']+this[_0x37c220(0x1ec)][_0x341340][_0x37c220(0x26f)],this[_0x37c220(0x1ec)][_0x341340]['y']=this['y']+this[_0x37c220(0x1ec)][_0x341340][_0x37c220(0x211)];}this[_0x37c220(0x291)]['x']=this['x']+0x6,this[_0x37c220(0x291)]['y']=this['y']+0x4,this['hp']<=0x0&&(this[_0x37c220(0x1f0)]=!![]),this[_0x37c220(0x1f0)]&&(this[_0x37c220(0x27d)]=0x0,this[_0x37c220(0x24c)]=!![],this[_0x37c220(0x221)]=0x3,this['frameCounter']=0x0,this[_0x37c220(0x248)]=0x0,this[_0x37c220(0x213)]=0xa);}}[_0x138f77(0x24e)](){const _0x4cfab2=_0x138f77;this[_0x4cfab2(0x210)]++;this[_0x4cfab2(0x210)]>this[_0x4cfab2(0x213)]*DTR&&(this[_0x4cfab2(0x210)]=0x0,this[_0x4cfab2(0x248)]++,this[_0x4cfab2(0x248)]>=this[_0x4cfab2(0x285)][this['action']]['length']&&(this[_0x4cfab2(0x221)]==0x0&&(this[_0x4cfab2(0x221)]=0x1+this[_0x4cfab2(0x20f)]),this[_0x4cfab2(0x248)]=0x0));this[_0x4cfab2(0x221)]==0x3&&(this['currentFrame']==this[_0x4cfab2(0x285)][this[_0x4cfab2(0x221)]]['length']-0x1&&(this[_0x4cfab2(0x210)]=0x0));if(!this[_0x4cfab2(0x24c)])for(let _0x2bfcd8=0x0;_0x2bfcd8<this['arrows'][_0x4cfab2(0x237)];_0x2bfcd8++){this[_0x4cfab2(0x1ec)][_0x2bfcd8][_0x4cfab2(0x24e)]();}this['justDamaged']>0x0&&(this[_0x4cfab2(0x221)]=0x4,this[_0x4cfab2(0x248)]=0x0,this[_0x4cfab2(0x289)]=0x0,this[_0x4cfab2(0x27d)]-=0x1/DTR),c[_0x4cfab2(0x240)](this[_0x4cfab2(0x226)],this[_0x4cfab2(0x285)][this[_0x4cfab2(0x221)]][this['currentFrame']]*TILESIZE,this[_0x4cfab2(0x265)][this[_0x4cfab2(0x221)]][this[_0x4cfab2(0x248)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}}class Mole extends Collidable{constructor(_0x2092c3,_0x4853fd){const _0xf1021=_0x138f77;super(Collidable),this['x']=(_0x2092c3/TILESIZE|0x0)*TILESIZE,this['y']=(_0x4853fd/TILESIZE|0x0)*TILESIZE,this['w']=TILESIZE,this['h']=TILESIZE,this['xVel']=0x0,this[_0xf1021(0x22e)]=0x0,this[_0xf1021(0x239)]=0x0,this[_0xf1021(0x268)]=0x0,this[_0xf1021(0x293)]=0x2,this[_0xf1021(0x20f)]=0x0,this[_0xf1021(0x1f0)]=![],this['justDamaged']=0x0,this['dead']=![],this[_0xf1021(0x24a)]=![],this[_0xf1021(0x1ec)]=[],this[_0xf1021(0x253)]=0x3,this['hp']=0x3,this['frameCounter']=0x0,this[_0xf1021(0x213)]=0x4,this[_0xf1021(0x248)]=0x0,this[_0xf1021(0x226)]=id(_0xf1021(0x226)),this[_0xf1021(0x221)]=0x0,this['collidable']=!![],this[_0xf1021(0x269)]=[],this[_0xf1021(0x230)]={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0xf1021(0x291)]={'x':0x0,'y':0x0,'w':0xe,'h':0x1a},this[_0xf1021(0x24f)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['actionX']=[[0x9,0x9,0x9,0x9],[0xa,0xa,0xa,0xa,0xb,0xb,0xb,0xb],[0xc,0xc,0xc,0xc],[0xd,0xd,0xd,0xd],[0xe,0xe,0xe,0xe,0xe]],this[_0xf1021(0x265)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17,0x18]],this['counter']=0x0;}[_0x138f77(0x25a)](){const _0x51c883=_0x138f77;this[_0x51c883(0x24f)]['x']=this['x']-0x5*TILESIZE,this[_0x51c883(0x24f)]['y']=this['y']-0x5*TILESIZE,this[_0x51c883(0x24f)]['w']=0xb*TILESIZE,this[_0x51c883(0x24f)]['h']=0xb*TILESIZE;if(collided(this['atkBox'],player)){if(this[_0x51c883(0x24a)]){if(this[_0x51c883(0x248)]==0x0&&this['frameCounter']==0x0){this[_0x51c883(0x26c)]();switch(this['path'][0x0]){case'l':this['x']-=TILESIZE;break;case'r':this['x']+=TILESIZE;break;case't':this['y']-=TILESIZE;break;case'b':this['y']+=TILESIZE;break;}}}else this[_0x51c883(0x221)]!==0x1&&(this[_0x51c883(0x221)]=0x1,this[_0x51c883(0x248)]=0x0,this[_0x51c883(0x210)]=0x0);}else this[_0x51c883(0x24a)]&&this['action']!==0x0&&this['action']!==0x2&&(this['attacking']=![],this[_0x51c883(0x247)]=!![],this[_0x51c883(0x221)]=0x2,this['currentFrame']=0x0,this[_0x51c883(0x210)]=0x0);}[_0x138f77(0x259)](){const _0x5c6bb2=_0x138f77;this[_0x5c6bb2(0x25a)](),this[_0x5c6bb2(0x291)]['x']=this['x']+(this['w']-0xe)/0x2,this[_0x5c6bb2(0x291)]['y']=this['y']+(this['h']-0x1a)/0x2;for(let _0x370a49=0x0;_0x370a49<this[_0x5c6bb2(0x1ec)]['length'];_0x370a49++){this['arrows'][_0x370a49]['x']=this['x']+this['arrows'][_0x370a49][_0x5c6bb2(0x26f)],this[_0x5c6bb2(0x1ec)][_0x370a49]['y']=this['y']+this[_0x5c6bb2(0x1ec)][_0x370a49][_0x5c6bb2(0x211)];}this['hp']<=0x0&&(this['justDied']=!![]),this[_0x5c6bb2(0x1f0)]&&(this[_0x5c6bb2(0x27d)]=0x0,this[_0x5c6bb2(0x24c)]=!![],this[_0x5c6bb2(0x221)]=0x3,this[_0x5c6bb2(0x210)]=0x0,this[_0x5c6bb2(0x248)]=0x0,this['slowness']=0xa);}['draw'](){const _0xde5c43=_0x138f77;this[_0xde5c43(0x210)]++;this['action']==0x4?this[_0xde5c43(0x213)]=0x3:this[_0xde5c43(0x213)]=0x5;if(this['frameCounter']>this['slowness']*DTR){this[_0xde5c43(0x210)]=0x0,this[_0xde5c43(0x248)]++;if(this[_0xde5c43(0x248)]>=this[_0xde5c43(0x285)][this[_0xde5c43(0x221)]]['length']){if(this[_0xde5c43(0x24c)])this[_0xde5c43(0x248)]=this['actionX'][this[_0xde5c43(0x221)]][_0xde5c43(0x237)]-0x1;else{if(this[_0xde5c43(0x221)]==0x1)this[_0xde5c43(0x24a)]=!![],this[_0xde5c43(0x247)]=![],this[_0xde5c43(0x221)]=0x4,this[_0xde5c43(0x248)]=0x0;else this[_0xde5c43(0x221)]==0x2?(this['action']=0x0,this[_0xde5c43(0x248)]=0x0):this[_0xde5c43(0x248)]=0x0;}}}if(!this[_0xde5c43(0x24c)]){if(this[_0xde5c43(0x221)]==0x0)for(let _0xd8f5c7=0x0;_0xd8f5c7<this[_0xde5c43(0x1ec)]['length'];_0xd8f5c7++){this['arrows'][_0xd8f5c7][_0xde5c43(0x24e)]();}}this['justDamaged']>0x0&&(this[_0xde5c43(0x221)]=0x3,this[_0xde5c43(0x248)]=0x0,this[_0xde5c43(0x289)]=0x0,this[_0xde5c43(0x27d)]-=0x1/DTR,this[_0xde5c43(0x27d)]<=0x0&&(this[_0xde5c43(0x221)]=0x0)),c[_0xde5c43(0x240)](this[_0xde5c43(0x226)],this[_0xde5c43(0x285)][this[_0xde5c43(0x221)]][this[_0xde5c43(0x248)]]*TILESIZE,this['actionY'][this['action']][this[_0xde5c43(0x248)]]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']);}[_0x138f77(0x26c)](){const _0x20dd9e=_0x138f77;let _0x2d9c7e=0xb,_0x39617b=[],_0x32e554=this['x']+this['w']/0x2-TILESIZE*0x5,_0x27cfd5=this['y']+this['h']/0x2-TILESIZE*0x5,_0x4e6ffa;for(let _0x3d5d9a=0x0;_0x3d5d9a<_0x2d9c7e;_0x3d5d9a++){_0x39617b[_0x3d5d9a]=[];for(let _0x11a8ff=0x0;_0x11a8ff<_0x2d9c7e;_0x11a8ff++){_0x4e6ffa=getTileData(_0x32e554+_0x3d5d9a*TILESIZE,_0x27cfd5+_0x11a8ff*TILESIZE),_0x4e6ffa===![]?_0x39617b[_0x3d5d9a][_0x11a8ff]=_0x20dd9e(0x295):_0x39617b[_0x3d5d9a][_0x11a8ff]='Obstacle';}}_0x39617b[0x5][0x5]='Start',_0x39617b[((player['x']-this['x'])/TILESIZE|0x0)+0x5][((player['y']-this['y'])/TILESIZE|0x0)+0x5]=_0x20dd9e(0x25c),this['path']=findShortestPath([0x5,0x5],_0x39617b);}}class Flower extends Collidable{constructor(_0x1701f1,_0x4cdd24){const _0x438e13=_0x138f77;super(Collidable),this['x']=_0x1701f1,this['y']=_0x4cdd24,this['w']=TILESIZE,this['h']=TILESIZE,this[_0x438e13(0x255)]=0x0,this['yVel']=0x0,this[_0x438e13(0x239)]=0x0,this[_0x438e13(0x268)]=0x0,this[_0x438e13(0x293)]=0x2,this['left']=0x0,this[_0x438e13(0x1f0)]=![],this[_0x438e13(0x27d)]=0x0,this[_0x438e13(0x24c)]=![],this[_0x438e13(0x1ec)]=[],this[_0x438e13(0x253)]=0x3,this['hp']=0x3,this[_0x438e13(0x210)]=0x0,this[_0x438e13(0x213)]=0x8,this[_0x438e13(0x24a)]=![],this[_0x438e13(0x248)]=0x0,this[_0x438e13(0x226)]=id(_0x438e13(0x226)),this[_0x438e13(0x22c)]=0x5,this[_0x438e13(0x297)]=0x8,this[_0x438e13(0x247)]=!![],this['col']={'T':0x0,'B':0x0,'L':0x0,'R':0x0},this[_0x438e13(0x291)]={'x':0x0,'y':0x0,'w':this['w']/0x3,'h':this['h']-this['h']/0x5*0x2},this[_0x438e13(0x221)]=0x0,this[_0x438e13(0x285)]=[[0x5,0x5,0x5,0x5],[0x5,0x5,0x5,0x5],[0x8,0x8,0x8,0x8]],this[_0x438e13(0x265)]=[[0x14,0x15,0x16,0x17],[0x14,0x14,0x15,0x16],[0x14,0x15,0x16,0x17]],this['headX']=[[0x7,0x7,0x7,0x7],[0x6,0x6,0x6,0x6]],this[_0x438e13(0x270)]=[[0x14,0x15,0x16,0x17],[0x14,0x15,0x16,0x17]],this['radians']=0x0,this[_0x438e13(0x29a)]=![];}[_0x138f77(0x1f8)](){const _0x17da1f=_0x138f77;if(!isObstructed(this,player)){this[_0x17da1f(0x24a)]=!![];if(this[_0x17da1f(0x248)]==0x2){if(!this['justShot']){let _0xaa1cf5=new EnemyProjectile(),_0x1de147=this['x']+this['w']/0x2,_0x187378=this['y']+this['h']/0x2,_0x968d1a=player['x']+player['w']/0x2-_0x1de147+Math[_0x17da1f(0x257)]()*this['precision']-this[_0x17da1f(0x22c)]/0x2,_0x59d077=player['y']+player['h']/0x2-_0x187378+Math[_0x17da1f(0x257)]()*this['precision']-this[_0x17da1f(0x22c)]/0x2,_0x550ac7=Math['atan2'](_0x59d077,_0x968d1a),_0x5d14b7=Math['cos'](_0x550ac7),_0x2f868f=Math[_0x17da1f(0x27b)](_0x550ac7);_0xaa1cf5[_0x17da1f(0x255)]=_0x5d14b7*this[_0x17da1f(0x297)],_0xaa1cf5['yVel']=_0x2f868f*this[_0x17da1f(0x297)],_0xaa1cf5['x']=_0x1de147,_0xaa1cf5['y']=_0x187378,enemyProjectiles['push'](_0xaa1cf5),this[_0x17da1f(0x29a)]=!![];}}else this[_0x17da1f(0x29a)]=![];}else this[_0x17da1f(0x24a)]=![];}[_0x138f77(0x259)](){const _0x522a08=_0x138f77;this[_0x522a08(0x1f8)](),this[_0x522a08(0x291)]['x']=this['x']+this['w']/0x3,this[_0x522a08(0x291)]['y']=this['y']+this['h']/0x5,this[_0x522a08(0x1f1)]=Math['atan2'](player['y']+player['h']/0x2-this['y']-this['h']/0x2,player['x']+player['w']/0x2-this['w']/0x2-this['x'])+Math['PI']/0x2;for(let _0x426bcd=0x0;_0x426bcd<this[_0x522a08(0x1ec)]['length'];_0x426bcd++){this[_0x522a08(0x1ec)][_0x426bcd]['x']=this['x']+this[_0x522a08(0x1ec)][_0x426bcd][_0x522a08(0x26f)],this[_0x522a08(0x1ec)][_0x426bcd]['y']=this['y']+this['arrows'][_0x426bcd]['yRel'];}this['hp']<=0x0&&(this[_0x522a08(0x1f0)]=!![]),this[_0x522a08(0x1f0)]&&(this[_0x522a08(0x27d)]=0x0,this['dead']=!![],this[_0x522a08(0x221)]=0x2,this[_0x522a08(0x210)]=0x0,this[_0x522a08(0x248)]=0x0,this[_0x522a08(0x213)]=0xa);}[_0x138f77(0x24e)](){const _0x27821a=_0x138f77;this[_0x27821a(0x210)]++;this[_0x27821a(0x210)]>this[_0x27821a(0x213)]*DTR&&(this[_0x27821a(0x210)]=0x0,this['currentFrame']++,this[_0x27821a(0x248)]>=this['actionX'][this[_0x27821a(0x221)]][_0x27821a(0x237)]&&(this[_0x27821a(0x24c)]?this[_0x27821a(0x248)]=this[_0x27821a(0x285)][this[_0x27821a(0x221)]][_0x27821a(0x237)]-0x1:this['currentFrame']=0x0));if(!this[_0x27821a(0x24c)]){this[_0x27821a(0x24a)]?this[_0x27821a(0x221)]=0x1:this[_0x27821a(0x221)]=0x0;for(let _0x3ed895=0x0;_0x3ed895<this[_0x27821a(0x1ec)]['length'];_0x3ed895++){this[_0x27821a(0x1ec)][_0x3ed895]['draw']();}}this[_0x27821a(0x24a)]?this['slowness']=0x4:this['slowness']=0x8,this[_0x27821a(0x27d)]&&(this[_0x27821a(0x221)]=0x2,this[_0x27821a(0x248)]=0x0,this[_0x27821a(0x289)]=0x0,this[_0x27821a(0x27d)]--),c[_0x27821a(0x240)](this['sheet'],this[_0x27821a(0x285)][this[_0x27821a(0x221)]][this['currentFrame']]*TILESIZE,this[_0x27821a(0x265)][this[_0x27821a(0x221)]][this['currentFrame']]*TILESIZE,this['w'],this['h'],this['x']+map['x']|0x0,this['y']+map['y']|0x0,this['w'],this['h']),(this['action']==0x0||this['action']==0x1)&&(c[_0x27821a(0x23e)](),c[_0x27821a(0x22b)](this['x']+this['w']/0x2+map['x'],this['y']+this['h']/0x2+map['y']-0x6),c[_0x27821a(0x271)](this[_0x27821a(0x1f1)]),c[_0x27821a(0x240)](this['sheet'],this[_0x27821a(0x284)][this[_0x27821a(0x221)]][this[_0x27821a(0x248)]]*TILESIZE,this[_0x27821a(0x270)][this[_0x27821a(0x221)]][this[_0x27821a(0x248)]]*TILESIZE,TILESIZE,TILESIZE,-this['w']/0x2,-this['h']/0x2,this['w'],this['h']),c[_0x27821a(0x288)]());}}function getTileData(_0x397632,_0x52a508){const _0x1e7068=_0x138f77;let _0x96c67f=(_0x397632/TILESIZE|0x0)+(_0x52a508/TILESIZE|0x0)*map[_0x1e7068(0x203)];for(let _0x24a28b=0x0;_0x24a28b<map[_0x1e7068(0x21b)][_0x1e7068(0x237)];_0x24a28b++){for(let _0x4411a2=0x0;_0x4411a2<TilesData['length'];_0x4411a2++){if(TilesData[_0x4411a2]['id']==map[_0x1e7068(0x21b)][_0x24a28b][_0x96c67f]-0x1)return TilesData[_0x4411a2];}}return![];}window['onclick']=function(){const _0xb6d963=_0x138f77;player[_0xb6d963(0x205)]!==0x0?player[_0xb6d963(0x1f8)]():player[_0xb6d963(0x1f6)]=0xa;},window[_0x138f77(0x287)]=function(_0x37560c){const _0x4a043b=_0x138f77;_0x37560c[_0x4a043b(0x242)](),player[_0x4a043b(0x27c)]();},document['addEventListener'](_0x138f77(0x29c),function(_0x3e629a){const _0x1070e6=_0x138f77;switch(_0x3e629a['button']){case 0x0:userInterface['lClick']=!![];break;case 0x2:userInterface[_0x1070e6(0x28a)]=!![];break;}}),document[_0x138f77(0x283)](_0x138f77(0x229),function(_0x2019ea){const _0x18a787=_0x138f77;switch(_0x2019ea['button']){case 0x0:userInterface[_0x18a787(0x28d)]=![];break;case 0x2:userInterface[_0x18a787(0x28a)]=![];break;}});var stats=id(_0x138f77(0x272));function drawStats(){const _0xd14eff=_0x138f77;stats[_0xd14eff(0x1fe)]=_0xd14eff(0x201)+player['x'],stats['innerHTML']+='<br>player.y\x20=\x20'+player['y'],stats[_0xd14eff(0x1fe)]+=_0xd14eff(0x27a)+(Mouse['x']/TILESIZE|0x0)*TILESIZE,stats[_0xd14eff(0x1fe)]+=_0xd14eff(0x234)+(Mouse['y']/TILESIZE|0x0)*TILESIZE,stats[_0xd14eff(0x1fe)]+=_0xd14eff(0x246)+((Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0xd14eff(0x203)]),stats['innerHTML']+=_0xd14eff(0x23b)+map['tiles'][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map[_0xd14eff(0x203)]],map['tiles'][0x1][(Mouse['x']/TILESIZE|0x0)+(Mouse['y']/TILESIZE|0x0)*map['width']],DEBUG&&(c[_0xd14eff(0x202)]((Mouse['x']/TILESIZE|0x0)*TILESIZE+map['x'],(Mouse['y']/TILESIZE|0x0)*TILESIZE+map['y'],TILESIZE,TILESIZE),c[_0xd14eff(0x1f9)]());}window[_0x138f77(0x283)](_0x138f77(0x227),function(_0x3a9aae){const _0x27895b=_0x138f77;switch(_0x3a9aae[_0x27895b(0x21e)]){case 0x41:player['L']=!![];break;case 0x44:player['R']=!![];break;case 0x57:player['T']=!![];break;case 0x53:player['B']=!![];break;case 0x31:monsters[_0x27895b(0x27f)](new Mole(Mouse['x']-0x10,Mouse['y']-0x10));break;case 0x32:console[_0x27895b(0x20e)](getTileData(Mouse['x'],Mouse['y']));break;case 0x33:for(let _0x26342b=0x0;_0x26342b<0x32;_0x26342b++){player['shoot'](),player[_0x27895b(0x206)]=player[_0x27895b(0x28f)]*DTR,player[_0x27895b(0x25b)]();}break;case 0x20:!gamePaused?gamePaused=!![]:gamePaused=![];break;}}),window[_0x138f77(0x283)]('keyup',function(_0x2b42c6){const _0x326372=_0x138f77;switch(_0x2b42c6[_0x326372(0x21e)]){case 0x41:player['L']=![];break;case 0x44:player['R']=![];break;case 0x57:player['T']=![];break;case 0x53:player['B']=![];break;}}),window['addEventListener'](_0x138f77(0x1ef),function(_0x1b42eb){const _0x191f20=_0x138f77;mousePP['x']=_0x1b42eb[_0x191f20(0x200)]-CANVAS[_0x191f20(0x244)],mousePP['y']=_0x1b42eb[_0x191f20(0x209)]-CANVAS[_0x191f20(0x24b)];});function moveCamera(){const _0x51902b=_0x138f77;map['x']=-player['x']/0x3+CANVAS[_0x51902b(0x203)]/0x6,map['y']=-player['y']/0x3+CANVAS['height']/0x6,screenShake[_0x51902b(0x27e)]&&(screenShake[_0x51902b(0x27e)]--,screenShake[_0x51902b(0x266)](),map['x']+=screenShake['x'],map['y']+=screenShake['y']),map['x']=map['x']|0x0,map['y']=map['y']|0x0;}var sampleArrow=new Projectile();function computeDrawArrows(){const _0x59263e=_0x138f77;c['lineWidth']=0x2,c['strokeStyle']=sampleArrow[_0x59263e(0x254)][0x0],c['beginPath']();for(let _0x4548f3=playerArrows[_0x59263e(0x237)]-0x1;_0x4548f3>=0x0;_0x4548f3--){if(!playerArrows[_0x4548f3]['active']||playerArrows[_0x4548f3][_0x59263e(0x218)]!=0x1)continue;playerArrows[_0x4548f3]['free']&&playerArrows[_0x4548f3]['compute']();if(playerArrows[_0x4548f3]!==undefined)playerArrows[_0x4548f3]['draw']();}c['closePath'](),c[_0x59263e(0x1f9)](),c[_0x59263e(0x245)]=sampleArrow[_0x59263e(0x254)][0x1],c[_0x59263e(0x21c)]();for(let _0x474cda=playerArrows[_0x59263e(0x237)]-0x1;_0x474cda>=0x0;_0x474cda--){if(!playerArrows[_0x474cda]['active']||playerArrows[_0x474cda][_0x59263e(0x218)]!=0x2)continue;playerArrows[_0x474cda][_0x59263e(0x243)]&&playerArrows[_0x474cda][_0x59263e(0x259)]();if(playerArrows[_0x474cda]!==undefined)playerArrows[_0x474cda][_0x59263e(0x24e)]();}c[_0x59263e(0x216)](),c[_0x59263e(0x1f9)]();}function _0x2cc4(_0x38bbdc,_0x4db213){const _0x23c935=_0x1544();return _0x2cc4=function(_0x323dff,_0x2bfb60){_0x323dff=_0x323dff-0x1e7;let _0x29db3e=_0x23c935[_0x323dff];return _0x29db3e;},_0x2cc4(_0x38bbdc,_0x4db213);}function loop(){const _0x1d6e7a=_0x138f77;fps++,c[_0x1d6e7a(0x208)](0x0,0x0,CANVAS[_0x1d6e7a(0x203)],CANVAS['height']),moveCamera(),map['draw'](),player['compute']();for(let _0x3d295d=enemyProjectiles[_0x1d6e7a(0x237)]-0x1;_0x3d295d>=0x0;_0x3d295d--){enemyProjectiles[_0x3d295d][_0x1d6e7a(0x259)]();}sortMonsters(),Mouse['x']=mousePP['x']-map['x'],Mouse['y']=mousePP['y']-map['y'];for(let _0x55cc61=0x0;_0x55cc61<monsters[_0x1d6e7a(0x237)];_0x55cc61++){!monsters[_0x55cc61][_0x1d6e7a(0x24c)]&&monsters[_0x55cc61][_0x1d6e7a(0x259)](),monsters[_0x55cc61]['draw']();}player[_0x1d6e7a(0x24e)](),adjustCollidingMonsters(),renderHpBars(),computeDrawArrows();for(let _0x3f7a67=enemyProjectiles[_0x1d6e7a(0x237)]-0x1;_0x3f7a67>=0x0;_0x3f7a67--){enemyProjectiles[_0x3f7a67][_0x1d6e7a(0x24e)]();}sword[_0x1d6e7a(0x1eb)]&&(sword[_0x1d6e7a(0x259)](),sword[_0x1d6e7a(0x24e)]());for(let _0x42df2d=visualFxs['length']-0x1;_0x42df2d>=0x0;_0x42df2d--){!visualFxs[_0x42df2d][_0x1d6e7a(0x20d)]&&visualFxs[_0x42df2d]['draw']();}userInterface[_0x1d6e7a(0x24e)](),drawStats();}var lastUpdate=Date[_0x138f77(0x1f4)](),myInterval=setInterval(tick,0x3e8/0x3c),DTR=0x1;function tick(){const _0x27ded8=_0x138f77;var _0x4524bf=Date[_0x27ded8(0x1f4)](),_0x5305a8=_0x4524bf-lastUpdate;lastUpdate=_0x4524bf,DTR=0x3e8/0x3c/_0x5305a8,!gamePaused&&loop();}