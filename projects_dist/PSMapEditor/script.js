var _0x307e53=_0x2fcd;(function(_0x5ab5d3,_0x30ea64){var _0x4b4947=_0x2fcd,_0x5e4a80=_0x5ab5d3();while(!![]){try{var _0x503175=parseInt(_0x4b4947(0x1d7))/0x1*(parseInt(_0x4b4947(0x1e0))/0x2)+-parseInt(_0x4b4947(0x200))/0x3*(parseInt(_0x4b4947(0x1cf))/0x4)+parseInt(_0x4b4947(0x1c6))/0x5*(-parseInt(_0x4b4947(0x1eb))/0x6)+-parseInt(_0x4b4947(0x19c))/0x7+-parseInt(_0x4b4947(0x16f))/0x8*(-parseInt(_0x4b4947(0x171))/0x9)+parseInt(_0x4b4947(0x1ae))/0xa+parseInt(_0x4b4947(0x16e))/0xb*(parseInt(_0x4b4947(0x1b7))/0xc);if(_0x503175===_0x30ea64)break;else _0x5e4a80['push'](_0x5e4a80['shift']());}catch(_0x4d9a55){_0x5e4a80['push'](_0x5e4a80['shift']());}}}(_0x28eb,0x7299a));var selectedType=0x0;function id(_0x4efb3e){var _0x59c028=_0x2fcd,_0x361249=(function(){var _0x121c27=!![];return function(_0x18b5d3,_0x5b3203){var _0x54156b=_0x121c27?function(){var _0x516768=_0x2fcd;if(_0x5b3203){var _0x5dfabf=_0x5b3203[_0x516768(0x17c)](_0x18b5d3,arguments);return _0x5b3203=null,_0x5dfabf;}}:function(){};return _0x121c27=![],_0x54156b;};}()),_0x48a7fb=_0x361249(this,function(){var _0x2c1314=_0x2fcd,_0x2727c6=function(){var _0x2700d0=_0x2fcd,_0x5562f7;try{_0x5562f7=Function(_0x2700d0(0x1d6)+_0x2700d0(0x1e9)+');')();}catch(_0x232ac6){_0x5562f7=window;}return _0x5562f7;},_0x1a5842=_0x2727c6(),_0x4a13d7=new RegExp('[vPROxUAZvCUYzCSywqzDDwLMDDzKZFwqTzVXDEqSOCvLkQPXDzHvqzRQMjYIjLFyJFJqvWT]','g'),_0x37e208=_0x2c1314(0x1ff)[_0x2c1314(0x1da)](_0x4a13d7,'')[_0x2c1314(0x191)](';'),_0x21cf28,_0x4939d5,_0xc3eb4d,_0x1ba41e,_0x41de36=function(_0x4f36d1,_0x5b1f72,_0x4576c1){var _0x35c343=_0x2c1314;if(_0x4f36d1[_0x35c343(0x190)]!=_0x5b1f72)return![];for(var _0x1162db=0x0;_0x1162db<_0x5b1f72;_0x1162db++){for(var _0x2a7148=0x0;_0x2a7148<_0x4576c1['length'];_0x2a7148+=0x2){if(_0x1162db==_0x4576c1[_0x2a7148]&&_0x4f36d1['charCodeAt'](_0x1162db)!=_0x4576c1[_0x2a7148+0x1])return![];}}return!![];},_0x4a09d3=function(_0xe14a2d,_0x1c43db,_0x213e73){return _0x41de36(_0x1c43db,_0x213e73,_0xe14a2d);},_0x3ac498=function(_0x5ee805,_0x1c6ec2,_0x1ae4d7){return _0x4a09d3(_0x1c6ec2,_0x5ee805,_0x1ae4d7);},_0x5d0d90=function(_0x6414c,_0xc67b81,_0x160581){return _0x3ac498(_0xc67b81,_0x160581,_0x6414c);};for(var _0x5044d7 in _0x1a5842){if(_0x41de36(_0x5044d7,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x21cf28=_0x5044d7;break;}}for(var _0xd94077 in _0x1a5842[_0x21cf28]){if(_0x5d0d90(0x6,_0xd94077,[0x5,0x6e,0x0,0x64])){_0x4939d5=_0xd94077;break;}}for(var _0x46d39d in _0x1a5842[_0x21cf28]){if(_0x3ac498(_0x46d39d,[0x7,0x6e,0x0,0x6c],0x8)){_0xc3eb4d=_0x46d39d;break;}}if(!('~'>_0x4939d5))for(var _0x1d0a30 in _0x1a5842[_0x21cf28][_0xc3eb4d]){if(_0x4a09d3([0x7,0x65,0x0,0x68],_0x1d0a30,0x8)){_0x1ba41e=_0x1d0a30;break;}}if(!_0x21cf28||!_0x1a5842[_0x21cf28])return;var _0x102914=_0x1a5842[_0x21cf28][_0x4939d5],_0x3797b9=!!_0x1a5842[_0x21cf28][_0xc3eb4d]&&_0x1a5842[_0x21cf28][_0xc3eb4d][_0x1ba41e],_0x50ec29=_0x102914||_0x3797b9;if(!_0x50ec29)return;var _0x5adc4e=![];for(var _0x320f67=0x0;_0x320f67<_0x37e208[_0x2c1314(0x190)];_0x320f67++){var _0x4939d5=_0x37e208[_0x320f67],_0x247ac9=_0x4939d5[0x0]===String[_0x2c1314(0x17d)](0x2e)?_0x4939d5['slice'](0x1):_0x4939d5,_0x1b8c84=_0x50ec29[_0x2c1314(0x190)]-_0x247ac9[_0x2c1314(0x190)],_0xaf4b56=_0x50ec29[_0x2c1314(0x176)](_0x247ac9,_0x1b8c84),_0x16785b=_0xaf4b56!==-0x1&&_0xaf4b56===_0x1b8c84;_0x16785b&&((_0x50ec29[_0x2c1314(0x190)]==_0x4939d5['length']||_0x4939d5[_0x2c1314(0x176)]('.')===0x0)&&(_0x5adc4e=!![]));}if(!_0x5adc4e){var _0x42af7f=new RegExp(_0x2c1314(0x174),'g'),_0x7e275b=_0x2c1314(0x1d2)['replace'](_0x42af7f,'');_0x1a5842[_0x21cf28][_0xc3eb4d]=_0x7e275b;}});return _0x48a7fb(),document[_0x59c028(0x184)](_0x4efb3e);}var canvas=id(_0x307e53(0x1fe)),sheet=id(_0x307e53(0x1a6)),c=canvas[_0x307e53(0x17b)]('2d');c[_0x307e53(0x1f5)]=![];var map=[],biome=0x1,hitBoxes=[],camBoxes=[],cellQuantityW=id('mapSizeW')[_0x307e53(0x1b3)],cellQuantityH=id('mapSizeH')[_0x307e53(0x1b3)],cellSize=0x10,fileName=_0x307e53(0x18b),interactiveTile=0x0,mapObject={'map':[],'camBoxes':[],'biome':0x1,'spawnPoint':{}};canvas[_0x307e53(0x180)]=cellQuantityW*cellSize,canvas[_0x307e53(0x1d4)]=cellQuantityH*cellSize,id('mapSizeBtnW')['onclick']=function(){var _0x4fdf61=_0x307e53;cellQuantityW=id(_0x4fdf61(0x18f))['value'],changeMapSize();},id('mapSizeBtnH')[_0x307e53(0x1a2)]=function(){var _0x2cdb13=_0x307e53;cellQuantityH=id('mapSizeH')[_0x2cdb13(0x1b3)],changeMapSize();};var tiles=[[0x4,0x4],[0x5,0x4],[0x6,0x4],[0x4,0x5],[0x5,0x5],[0x6,0x5],[0x4,0x6],[0x5,0x6],[0x6,0x6],[0x7,0x4],[0x8,0x4],[0x9,0x4],[0x7,0x5],[0x8,0x5],[0x7,0x6],[0x8,0x6],[0x9,0x6],[0xb,0x4],[0xa,0x4],[0xc,0x5],[0x5,0x7],[0x6,0x7],[0x7,0x7],[0x5,0x8],[0x6,0x8],[0x7,0x8],[0x5,0x9],[0x6,0x9],[0x7,0x9],[0x5,0xa],[0x6,0xa],[0x7,0xa],[0x5,0xb],[0x6,0xb],[0x7,0xb],[0x5,0xc],[0x6,0xc],[0x7,0xc],[0x8,0xc],[0x9,0xc],[0xa,0xc],[0x9,0x8],[0xd,0x5],[0xd,0x6],[0xd,0x7],[0xd,0x8],[0xe,0x5],[0xe,0x6],[0xe,0x7],[0xe,0x8],[0xc,0x0],[0xc,0x8],[0xa,0x8],[0xa,0x9],[0xa,0xa],[0xa,0xb],[0x8,0xa],[0x9,0xa],[0x8,0xb],[0x9,0xb],[0x8,0x9],[0x9,0x7],[0x8,0x7],[0x8,0x8],[0xd,0xc],[0x10,0x6],[0x7,0xe],[0xf,0x5],[0xf,0x9],[0x8,0xd],[0x5,0x11],[0x1,0x12],[0x0,0x14],[0x8,0x0],[0x5,0x11],[0x13,0x11],[0x14,0x11],[0x15,0x11],[0x10,0x15],[0x5,0x11]],spawnPoint={'x':0x3,'y':0x2};window[_0x307e53(0x1e8)]=function(){var _0xe9c3b6=_0x307e53;for(let _0x48a191=0x0;_0x48a191<tiles[_0xe9c3b6(0x190)];_0x48a191++){var _0xccc612=document[_0xe9c3b6(0x1c2)](_0xe9c3b6(0x1fe));_0xccc612['id']=_0xe9c3b6(0x1fe)+_0x48a191,_0xccc612[_0xe9c3b6(0x180)]=0x20,_0xccc612[_0xe9c3b6(0x1d4)]=0x20,_0xccc612[_0xe9c3b6(0x1dd)]=_0x48a191,_0xccc612[_0xe9c3b6(0x17b)]('2d')[_0xe9c3b6(0x1f5)]=![];_0x48a191===0x0&&(_0xccc612[_0xe9c3b6(0x1af)]+=_0xe9c3b6(0x1c1));_0xccc612[_0xe9c3b6(0x1af)]+=_0xe9c3b6(0x1cd),_0xccc612[_0xe9c3b6(0x17b)]('2d')[_0xe9c3b6(0x1b1)](sheet,tiles[_0x48a191][0x0]*0x10,tiles[_0x48a191][0x1]*0x10,0x10,0x10,0x0,0x0,_0xccc612[_0xe9c3b6(0x180)],_0xccc612[_0xe9c3b6(0x1d4)]);var _0x39cdda=document[_0xe9c3b6(0x170)]('body')[0x0];id('cont2')[_0xe9c3b6(0x19b)](_0xccc612),id(_0xe9c3b6(0x1fe)+_0x48a191)[_0xe9c3b6(0x1a2)]=function(){var _0x35e6e1=_0xe9c3b6;selectedType=this[_0x35e6e1(0x1dd)];for(j=0x0;j<tiles['length'];j++){id(_0x35e6e1(0x1fe)+j)[_0x35e6e1(0x1bc)][_0x35e6e1(0x1bb)](_0x35e6e1(0x1e5));}this[_0x35e6e1(0x1af)]+=_0x35e6e1(0x1c1);};}},id('test')[_0x307e53(0x1a2)]=function(){var _0x579523=_0x307e53;newMapExport(![]);var _0x392b90=window['open'](_0x579523(0x1ee));},id(_0x307e53(0x1d3))[_0x307e53(0x1a2)]=function(){var _0x293fb8=_0x307e53;if(biome==0x0)biome=0x1;else biome==0x1&&(biome=0x0);id(_0x293fb8(0x1d3))[_0x293fb8(0x1e7)]=_0x293fb8(0x204)+biome;},id('interactive')[_0x307e53(0x1a2)]=function(){var _0x390491=_0x307e53;interactiveTile?(interactiveTile=0x0,id(_0x390491(0x179))[_0x390491(0x172)][_0x390491(0x19e)]=_0x390491(0x1c8),id('interactive')[_0x390491(0x172)][_0x390491(0x1c5)]=_0x390491(0x1c9)):(interactiveTile=0x1,id(_0x390491(0x179))[_0x390491(0x172)]['backgroundColor']='black',id(_0x390491(0x179))['style'][_0x390491(0x1c5)]=_0x390491(0x1c8));};var hitBoxToggle=![];id(_0x307e53(0x1ed))[_0x307e53(0x1a2)]=function(){var _0x53259a=_0x307e53;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x53259a(0x1ed))[_0x53259a(0x1ab)]='drawing:\x20displayed';else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x53259a(0x1ed))[_0x53259a(0x1ab)]='drawing:\x20hitboxes';else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x53259a(0x1ed))[_0x53259a(0x1ab)]=_0x53259a(0x198));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];setInterval(loop,0x3e8/0xf);function loop(){var _0x1a88aa=_0x307e53;c[_0x1a88aa(0x1f6)](0x0,0x0,canvas[_0x1a88aa(0x180)],canvas['height']),renderGrid(),renderMap(),mouseDown&&renderSquare();}function renderSquare(){var _0x212605=_0x307e53;if(hitBoxToggle==0x1)c[_0x212605(0x1c3)]=_0x212605(0x173);else c[_0x212605(0x1c3)]=_0x212605(0x1f8);c['beginPath'](),c[_0x212605(0x1a5)](square['x'],square['y'],square['w'],square['h']),c[_0x212605(0x1df)](),c[_0x212605(0x181)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x4},sX=0x0,sY=0x0;function _0x28eb(){var _0x5b50c2=['pageYOffset',',\x20h:\x20','biome:\x20','128722LagDsj','446480vbOaFV','getElementsByTagName','18TyffTN','style','#ff0000','[VhTmhhSUgKqBvVxvNCRxrjyRNZZscsM]','keyup','indexOf','mousemove','type\x20of\x20camera','interactive','text/csv','getContext','apply','fromCharCode','speed','cursor','width','stroke','text','offsetLeft','getElementById','event','pointer',',text:\x27','cont2','file',',y:','mapCode','pageXOffset','importedCode=','result','mapSizeW','length','split','mapSizeH','#002200','#000000','push','map=[','camBoxes','drawing:\x20camera','x:\x20','cont','appendChild','4432134SSTDeT','{x:','backgroundColor','readAsText','fillStyle','fillRect','onclick','click','msSaveBlob','rect','sheet','preventDefault','innerWidth','lineWidth','left','innerHTML','Discard\x20changes?','clientX','9374860LFROzI','className','top','drawImage','Map\x20name\x20:\x20','value','name','beginPath','clientY','564BBYqcR','body','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','block','remove','classList','zoomIn','moveTo','removeChild','onmousemove','\x20selected','createElement','strokeStyle','globalAlpha','color','5kserDF','innerHeight','white','black','lineTo','#5b6ee1','log','\x20tile','#0000cc','289448fyRUaa','camBoxes=[','files','abVhoutT:blmahhSUgnkKqBvVxvNCRxrjyRNZZscsM','biomes','height','mousedown','return\x20(function()\x20','16wEodOd','offsetTop','.txt','replace','type','{map:[','number','URL','closePath','15058vtfKXr','onmousedown','download','display','zoomer','selected','<br>\x20w:\x20','innerText','onload','{}.constructor(\x22return\x20this\x22)(\x20)','type:','1965312ZymkcC','spawn','toggle','mapTester/index.html','zoomOut','exportMap','addEventListener','contextmenu','crosshair','onbeforeunload','imageSmoothingEnabled','clearRect','navigator','#ffffff','map','info','create','biome','createObjectURL','canvas','vsaaPnROtonanxUdArZevC.UgYitzhub.CiSyo;lowcqazDlDhostwLMDDzKZFwqTzVXDEqSOCvLkQPXDzHvqzRQMjYIjLFyJFJqvWT','12xAqixf','onchange'];_0x28eb=function(){return _0x5b50c2;};return _0x28eb();}dragElement(id(_0x307e53(0x19a))),dragElement(id(_0x307e53(0x188)));function dragElement(_0x3937fc){var _0x451320=_0x307e53,_0x4d47ff=0x0,_0x2b792f=0x0,_0x1e9540=0x0,_0x198bdb=0x0;_0x3937fc[_0x451320(0x1e1)]=_0x49ce0c;function _0x49ce0c(_0x3093c0){var _0x15b7ff=_0x451320;_0x3093c0=_0x3093c0||window[_0x15b7ff(0x185)],_0x1e9540=_0x3093c0[_0x15b7ff(0x1ad)],_0x198bdb=_0x3093c0['clientY'],document['onmouseup']=_0x8de69,document[_0x15b7ff(0x1c0)]=_0x4f2d25;}function _0x4f2d25(_0x3b5895){var _0x4594cb=_0x451320;_0x3b5895=_0x3b5895||window[_0x4594cb(0x185)],_0x3b5895['preventDefault'](),_0x4d47ff=_0x1e9540-_0x3b5895[_0x4594cb(0x1ad)],_0x2b792f=_0x198bdb-_0x3b5895[_0x4594cb(0x1b6)],_0x1e9540=_0x3b5895[_0x4594cb(0x1ad)],_0x198bdb=_0x3b5895['clientY'],_0x3937fc[_0x4594cb(0x172)][_0x4594cb(0x1b0)]=_0x3937fc[_0x4594cb(0x1d8)]-_0x2b792f+'px',_0x3937fc['style'][_0x4594cb(0x1aa)]=_0x3937fc[_0x4594cb(0x183)]-_0x4d47ff+'px';}function _0x8de69(){document['onmouseup']=null,document['onmousemove']=null;}}var mapCode='';id(_0x307e53(0x1f0))[_0x307e53(0x1a2)]=function(){newMapExport(!![]);};function mapExport(_0x3fd682){var _0xf2f298=_0x307e53;mapCode='',mapCode+=_0xf2f298(0x196);for(i=0x0;i<map['length'];i++){mapCode+=_0xf2f298(0x19d)+map[i]['x']+',',mapCode+='y:'+map[i]['y']+',',mapCode+='w:'+map[i]['w']+',',mapCode+='h:'+map[i]['h']+',',mapCode+=_0xf2f298(0x1ea)+map[i][_0xf2f298(0x1db)],map[i][_0xf2f298(0x182)]!==undefined&&(mapCode+=',text:\x27'+map[i]['text']+'\x27'),mapCode+='},';}mapCode+='];',mapCode+='spawnPoint={x:'+spawnPoint['x']+_0xf2f298(0x18a)+spawnPoint['y']+'};',mapCode+='biome='+biome+';';if(camBoxes[_0xf2f298(0x190)]>0x0){mapCode+=_0xf2f298(0x1d0);for(let _0x3d252c=0x0;_0x3d252c<camBoxes['length'];_0x3d252c++){mapCode+=_0xf2f298(0x19d)+camBoxes[_0x3d252c]['x']+',',mapCode+='y:'+camBoxes[_0x3d252c]['y']+',',mapCode+='w:'+camBoxes[_0x3d252c]['w']+',',mapCode+='h:'+camBoxes[_0x3d252c]['h']+',',mapCode+=_0xf2f298(0x1ea)+camBoxes[_0x3d252c][_0xf2f298(0x1db)],mapCode+='},';}mapCode+='];';}console[_0xf2f298(0x1cc)](mapCode);if(_0x3fd682){let _0x77cd8e=prompt(_0xf2f298(0x1b2),fileName);!(_0x77cd8e==null||_0x77cd8e=='')&&download(_0x77cd8e+_0xf2f298(0x1d9),mapCode);}};function newMapExport(_0x41bb5d){var _0x14efae=_0x307e53;mapCode='',mapCode+=_0x14efae(0x1dc);for(i=0x0;i<map['length'];i++){mapCode+=_0x14efae(0x19d)+map[i]['x']+',',mapCode+='y:'+map[i]['y']+',',mapCode+='w:'+map[i]['w']+',',mapCode+='h:'+map[i]['h']+',',mapCode+=_0x14efae(0x1ea)+map[i]['type'],map[i]['text']!==undefined&&(mapCode+=_0x14efae(0x187)+map[i][_0x14efae(0x182)]+'\x27'),mapCode+='},';}mapCode+='],',mapCode+='spawnPoint:{x:'+spawnPoint['x']+_0x14efae(0x18a)+spawnPoint['y']+'},',mapCode+='biome:'+biome+',',mapCode+='camBoxes:[';for(let _0x17ff92=0x0;_0x17ff92<camBoxes[_0x14efae(0x190)];_0x17ff92++){mapCode+=_0x14efae(0x19d)+camBoxes[_0x17ff92]['x']+',',mapCode+='y:'+camBoxes[_0x17ff92]['y']+',',mapCode+='w:'+camBoxes[_0x17ff92]['w']+',',mapCode+='h:'+camBoxes[_0x17ff92]['h']+',',mapCode+=_0x14efae(0x1ea)+camBoxes[_0x17ff92][_0x14efae(0x1db)],mapCode+='},';}mapCode+='],',mapCode+='}',mapObject={'map':Object[_0x14efae(0x1fb)](map),'camBoxes':Object[_0x14efae(0x1fb)](camBoxes),'biome':biome,'spawnPoint':Object['create'](spawnPoint)},console[_0x14efae(0x1cc)](mapCode);if(_0x41bb5d){let _0x1c68a0=prompt(_0x14efae(0x1b2),fileName);!(_0x1c68a0==null||_0x1c68a0=='')&&download(_0x1c68a0+_0x14efae(0x1d9),mapCode);}};id(_0x307e53(0x189))[_0x307e53(0x201)]=function(){var _0x5c9a8a=_0x307e53;let _0x3e805a=id(_0x5c9a8a(0x189))[_0x5c9a8a(0x1d1)][0x0];fileName=id(_0x5c9a8a(0x189))[_0x5c9a8a(0x1d1)][0x0][_0x5c9a8a(0x1b4)][_0x5c9a8a(0x191)]('.')[0x0];let _0x8c4905=new FileReader();_0x8c4905[_0x5c9a8a(0x1e8)]=function(_0x2a94fb){var _0xaed00c=_0x5c9a8a;let _0x56afcf=_0x8c4905[_0xaed00c(0x18e)],_0x1b7af9=_0xaed00c(0x18d)+_0x56afcf;safeEval(eval(_0x1b7af9)),resizeMap();},_0x8c4905[_0x5c9a8a(0x19f)](_0x3e805a);};function safeEval(_0xb52b04){var _0x430371=_0x307e53;typeof _0xb52b04==='object'&&_0xb52b04!==null&&(map=_0xb52b04[_0x430371(0x1f9)],spawnPoint=_0xb52b04['spawnPoint'],biome=_0xb52b04[_0x430371(0x1fc)],camBoxes=_0xb52b04[_0x430371(0x197)],console[_0x430371(0x1cc)]('safe\x20eval'));}function resizeMap(){var _0xe49880=_0x307e53;let _0x3d54c9=0x0,_0x1940f6=0x0;for(i=0x0;i<map[_0xe49880(0x190)];i++){map[i]['x']+map[i]['w']>_0x3d54c9&&(_0x3d54c9=map[i]['x']+map[i]['w']),map[i]['y']+map[i]['h']>_0x1940f6&&(_0x1940f6=map[i]['y']+map[i]['h']);}console[_0xe49880(0x1cc)](_0x3d54c9+'\x20\x20'+_0x1940f6),cellQuantityW=_0x3d54c9,id(_0xe49880(0x18f))['value']=_0x3d54c9,cellQuantityH=_0x1940f6,id(_0xe49880(0x192))[_0xe49880(0x1b3)]=_0x1940f6,changeMapSize();}function cameraMove(){var _0x4f4caa=_0x307e53;camera['L']&&(sX-=camera[_0x4f4caa(0x17e)]);camera['R']&&(sX+=camera[_0x4f4caa(0x17e)]);camera['T']&&(sY-=camera[_0x4f4caa(0x17e)]);camera['B']&&(sY+=camera[_0x4f4caa(0x17e)]);sX<0x0&&(sX=0x0);sX>canvas[_0x4f4caa(0x180)]-window['innerWidth']&&(sX=canvas[_0x4f4caa(0x180)]-window[_0x4f4caa(0x1a8)]);sY<0x0&&(sY=0x0);sY>canvas['height']-window[_0x4f4caa(0x1c7)]&&(sY=canvas[_0x4f4caa(0x1d4)]-window[_0x4f4caa(0x1c7)]);if(camera[_0x4f4caa(0x1ef)])id('zoomer')[_0x4f4caa(0x1b3)]--,zoomChange();else camera['zoomIn']&&(id(_0x4f4caa(0x1e4))['value']++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x4a67cd=_0x307e53;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x4a67cd(0x1bd)]||camera[_0x4a67cd(0x1ef)])&&cameraMove();c[_0x4a67cd(0x1c4)]=0x1;for(_0x568d6b=0x0;_0x568d6b<map[_0x4a67cd(0x190)];_0x568d6b++){if(map[_0x568d6b][_0x4a67cd(0x1db)]>0x33)for(j=0x0;j<map[_0x568d6b]['h'];j++){for(k=0x0;k<map[_0x568d6b]['w'];k++){c[_0x4a67cd(0x1b1)](id(_0x4a67cd(0x1a6)),tiles[map[_0x568d6b]['type']][0x0]*0x10,tiles[map[_0x568d6b]['type']][0x1]*0x10,0x10,0x10,(map[_0x568d6b]['x']+k)*cellSize,(map[_0x568d6b]['y']+j)*cellSize,cellSize,cellSize);}}}for(_0x568d6b=0x0;_0x568d6b<map['length'];_0x568d6b++){if(map[_0x568d6b][_0x4a67cd(0x1db)]<=0x33)for(j=0x0;j<map[_0x568d6b]['h'];j++){for(k=0x0;k<map[_0x568d6b]['w'];k++){c[_0x4a67cd(0x1b1)](id('sheet'),tiles[map[_0x568d6b][_0x4a67cd(0x1db)]][0x0]*0x10,tiles[map[_0x568d6b][_0x4a67cd(0x1db)]][0x1]*0x10,0x10,0x10,(map[_0x568d6b]['x']+k)*cellSize,(map[_0x568d6b]['y']+j)*cellSize,cellSize,cellSize);}}}for(var _0x568d6b=0x0;_0x568d6b<hitBoxes['length'];_0x568d6b++){c[_0x4a67cd(0x1a0)]=_0x4a67cd(0x194),c[_0x4a67cd(0x1a1)](hitBoxes[_0x568d6b]['x']*cellSize,hitBoxes[_0x568d6b]['y']*cellSize,hitBoxes[_0x568d6b]['w']*cellSize,hitBoxes[_0x568d6b]['h']*cellSize);}c[_0x4a67cd(0x1c4)]=0x1;for(var _0x568d6b=0x0;_0x568d6b<camBoxes[_0x4a67cd(0x190)];_0x568d6b++){c[_0x4a67cd(0x1c3)]=_0x4a67cd(0x193),c[_0x4a67cd(0x1b5)](),c['rect'](camBoxes[_0x568d6b]['x']*cellSize,camBoxes[_0x568d6b]['y']*cellSize,camBoxes[_0x568d6b]['w']*cellSize,camBoxes[_0x568d6b]['h']*cellSize),c['closePath'](),c[_0x4a67cd(0x181)]();}c[_0x4a67cd(0x1a0)]=_0x4a67cd(0x1cb),c['fillRect'](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x551d08=_0x307e53;c[_0x551d08(0x1a9)]=0.1,c[_0x551d08(0x1c3)]=_0x551d08(0x1f8);for(var _0x3307e4=0x0;_0x3307e4<canvas[_0x551d08(0x180)];_0x3307e4+=cellSize){c[_0x551d08(0x1b5)](),c[_0x551d08(0x1be)](_0x3307e4,0x0),c['lineTo'](_0x3307e4,canvas[_0x551d08(0x1d4)]),c[_0x551d08(0x1df)](),c[_0x551d08(0x181)]();}for(var _0x3307e4=0x0;_0x3307e4<canvas[_0x551d08(0x1d4)];_0x3307e4+=cellSize){c['beginPath'](),c[_0x551d08(0x1be)](0x0,_0x3307e4),c[_0x551d08(0x1ca)](canvas[_0x551d08(0x180)],_0x3307e4),c[_0x551d08(0x1df)](),c[_0x551d08(0x181)]();}c[_0x551d08(0x1a9)]=0x1;}id('spawn')[_0x307e53(0x1a2)]=function(){var _0x3acc12=_0x307e53;id(_0x3acc12(0x1ec))['style'][_0x3acc12(0x1c5)]=_0x3acc12(0x1ce),id(_0x3acc12(0x1fe))[_0x3acc12(0x172)][_0x3acc12(0x17f)]=_0x3acc12(0x186),canvas[_0x3acc12(0x1a2)]=function _0x36b053(){var _0x8a3349=_0x3acc12;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x8a3349(0x1ec))[_0x8a3349(0x172)][_0x8a3349(0x1c5)]=_0x8a3349(0x194),id(_0x8a3349(0x1fe))['style'][_0x8a3349(0x17f)]=_0x8a3349(0x1f3),canvas[_0x8a3349(0x1a2)]=null;};};function infoText(){var _0x4a6078=_0x307e53,_0x1ce2b5=square['x']/cellSize,_0x22b25f=square['y']/cellSize;_0x1ce2b5>-0x1&&_0x1ce2b5<0x1&&(_0x1ce2b5=0x0),_0x22b25f>-0x1&&_0x22b25f<0x1&&(_0x22b25f=0x0),id(_0x4a6078(0x1fa))[_0x4a6078(0x1ab)]=_0x4a6078(0x199)+_0x1ce2b5+',\x20y:\x20'+_0x22b25f+_0x4a6078(0x1e6)+square['w']/cellSize+_0x4a6078(0x203)+square['h']/cellSize;}var mouseDown=![];canvas[_0x307e53(0x1f1)](_0x307e53(0x1d5),function(_0x4f702d){var _0x70378a=_0x307e53,_0x4e581a=window[_0x70378a(0x18c)]-canvas['offsetLeft'],_0x22a2ea=window[_0x70378a(0x202)]-canvas['offsetTop'];id('info')[_0x70378a(0x172)][_0x70378a(0x1e3)]=_0x70378a(0x1ba),id(_0x70378a(0x1fa))[_0x70378a(0x172)]['left']=_0x4f702d['clientX']+0x1e+'px',id(_0x70378a(0x1fa))[_0x70378a(0x172)][_0x70378a(0x1b0)]=_0x4f702d[_0x70378a(0x1b6)]-0x1e+'px',infoText(),!mouseDown&&(square['x']=round(_0x4f702d[_0x70378a(0x1ad)]+_0x4e581a)*cellSize,square['y']=round(_0x4f702d['clientY']+_0x22a2ea)*cellSize,square['w']=0x0,square['h']=0x0,mouseDown=!![]);}),canvas[_0x307e53(0x1f1)](_0x307e53(0x177),function(_0x3b62f0){var _0x5781f5=_0x307e53,_0x3d3fb6=window[_0x5781f5(0x18c)]-canvas[_0x5781f5(0x183)],_0xdcf842=window[_0x5781f5(0x202)]-canvas[_0x5781f5(0x1d8)];mouseDown&&(id(_0x5781f5(0x1fa))[_0x5781f5(0x172)][_0x5781f5(0x1e3)]=_0x5781f5(0x1ba),id(_0x5781f5(0x1fa))['style'][_0x5781f5(0x1aa)]=_0x3b62f0[_0x5781f5(0x1ad)]+0x1e+'px',id('info')['style'][_0x5781f5(0x1b0)]=_0x3b62f0['clientY']-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x3b62f0[_0x5781f5(0x1ad)]+_0x3d3fb6-square['x'])*cellSize,square['h']=round(_0x3b62f0['clientY']+_0xdcf842-square['y'])*cellSize);}),canvas[_0x307e53(0x1f1)]('mouseup',function(){var _0x77d244=_0x307e53;id(_0x77d244(0x1fa))['style']['display']='none',mouseDown=![],roundSquare();if(square['w']&&square['h']){square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x77d244(0x195)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x529239=prompt(_0x77d244(0x1b9),'');hitBoxes[hitBoxes['length']-0x1]['text']=_0x529239;}}else{if(hitBoxToggle==0x0){map[_0x77d244(0x195)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x529239=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');map[map[_0x77d244(0x190)]-0x1]['text']=_0x529239;}}else{if(hitBoxToggle==0x2){var _0x1ad1ae=parseInt(prompt(_0x77d244(0x178),''));camBoxes[_0x77d244(0x195)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x1ad1ae});}}}}}),id(_0x307e53(0x1e4))[_0x307e53(0x1f1)]('change',zoomChange);function zoomChange(){var _0x2dbd62=_0x307e53;cellSize=parseInt(id(_0x2dbd62(0x1e4))[_0x2dbd62(0x1b3)]),changeMapSize();}function _0x2fcd(_0x21cefa,_0x4c15f9){var _0x31aefd=_0x28eb();return _0x2fcd=function(_0x2cdada,_0x4f5ac6){_0x2cdada=_0x2cdada-0x16e;var _0x26e6fc=_0x31aefd[_0x2cdada];return _0x26e6fc;},_0x2fcd(_0x21cefa,_0x4c15f9);}function changeMapSize(){var _0x7b2ea1=_0x307e53;canvas['width']=cellQuantityW*cellSize,canvas[_0x7b2ea1(0x1d4)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function round(_0x180476){var _0x45cf2e=parseInt(_0x180476),_0x1360e4=_0x45cf2e%cellSize;if(_0x1360e4!==0x0){if(_0x1360e4>cellSize/0x2)_0x45cf2e=_0x45cf2e-_0x1360e4+cellSize;else _0x45cf2e=_0x45cf2e-_0x1360e4;}return _0x45cf2e/cellSize>0x0&&_0x45cf2e/cellSize<0x1?0x0:_0x45cf2e/cellSize;}function enableBeforeUnload(){var _0x2eb6c4=_0x307e53;window[_0x2eb6c4(0x1f4)]=function(_0x48b2fd){var _0x176a1b=_0x2eb6c4;return _0x176a1b(0x1ac);};}function disableBeforeUnload(){var _0xa5b2c8=_0x307e53;window[_0xa5b2c8(0x1f4)]=null;}enableBeforeUnload(),document[_0x307e53(0x1f1)](_0x307e53(0x1f2),function(_0x3435b9){var _0x5ce4e8=_0x307e53,_0x4973bd=window[_0x5ce4e8(0x18c)]-canvas[_0x5ce4e8(0x183)],_0x14a3b9=window[_0x5ce4e8(0x202)]-canvas['offsetTop'];_0x3435b9[_0x5ce4e8(0x1a7)]();var _0x26e2e8=_0x3435b9[_0x5ce4e8(0x1ad)]+_0x4973bd,_0x1cbe51=_0x3435b9[_0x5ce4e8(0x1b6)]+_0x14a3b9;removeElements(map,_0x26e2e8,_0x1cbe51),removeElements(hitBoxes,_0x26e2e8,_0x1cbe51),removeElements(camBoxes,_0x26e2e8,_0x1cbe51);});function removeElements(_0x36cd85,_0x4a30c3,_0x391693){var _0x4f5ad8=_0x307e53,_0x1d054f=[];for(i=0x0;i<_0x36cd85['length'];i++){_0x4a30c3>_0x36cd85[i]['x']*cellSize&&_0x4a30c3<_0x36cd85[i]['x']*cellSize+_0x36cd85[i]['w']*cellSize&&(_0x391693>_0x36cd85[i]['y']*cellSize&&_0x391693<_0x36cd85[i]['y']*cellSize+_0x36cd85[i]['h']*cellSize&&_0x1d054f[_0x4f5ad8(0x195)](i));}_0x1d054f['sort'](function(_0x173b10,_0x41fcb6){return _0x41fcb6-_0x173b10;});for(i=0x0;i<_0x1d054f[_0x4f5ad8(0x190)];i++){_0x36cd85['splice'](_0x1d054f[i],0x1);}}function download(_0x55406b,_0x1f33a0){var _0x4063f1=_0x307e53,_0x32c787=new Blob([_0x1f33a0],{'type':_0x4063f1(0x17a)});if(window[_0x4063f1(0x1f7)]['msSaveOrOpenBlob'])window[_0x4063f1(0x1f7)][_0x4063f1(0x1a4)](_0x32c787,_0x55406b);else{var _0x3702c6=window['document'][_0x4063f1(0x1c2)]('a');_0x3702c6['href']=window[_0x4063f1(0x1de)][_0x4063f1(0x1fd)](_0x32c787),_0x3702c6[_0x4063f1(0x1e2)]=_0x55406b,document[_0x4063f1(0x1b8)][_0x4063f1(0x19b)](_0x3702c6),_0x3702c6[_0x4063f1(0x1a3)](),document['body'][_0x4063f1(0x1bf)](_0x3702c6);}}window[_0x307e53(0x1f1)]('keydown',function(_0x5c5fdf){var _0x2a7d81=_0x307e53,_0x13b896=_0x5c5fdf['keyCode'];switch(_0x13b896){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x2a7d81(0x1bd)]=!![];break;case 0x51:camera[_0x2a7d81(0x1ef)]=!![];break;}}),window['addEventListener'](_0x307e53(0x175),function(_0x3bc234){var _0x4b5457=_0x307e53,_0x2f086c=_0x3bc234['keyCode'];switch(_0x2f086c){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera['zoomIn']=![];break;case 0x51:camera[_0x4b5457(0x1ef)]=![];break;case 0x52:toggleBoxes();break;}});