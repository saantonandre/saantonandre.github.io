var _0x1549ac=_0x28c5;(function(_0x5c460a,_0xc8897f){var _0x328a53=_0x28c5,_0x4c8592=_0x5c460a();while(!![]){try{var _0x2bf20b=parseInt(_0x328a53(0x20b))/0x1+parseInt(_0x328a53(0x1f6))/0x2+parseInt(_0x328a53(0x1fd))/0x3+-parseInt(_0x328a53(0x1e8))/0x4+parseInt(_0x328a53(0x1bd))/0x5*(-parseInt(_0x328a53(0x1bb))/0x6)+parseInt(_0x328a53(0x1b5))/0x7+-parseInt(_0x328a53(0x188))/0x8*(-parseInt(_0x328a53(0x1d7))/0x9);if(_0x2bf20b===_0xc8897f)break;else _0x4c8592['push'](_0x4c8592['shift']());}catch(_0x167831){_0x4c8592['push'](_0x4c8592['shift']());}}}(_0x4cf2,0xa2ea8));var selectedType=0x0;function id(_0x45c5b9){var _0x1fc903=_0x28c5,_0x4bf3be=(function(){var _0x17b374=!![];return function(_0x42f89f,_0x2a024c){var _0x308169=_0x17b374?function(){var _0x594fc7=_0x28c5;if(_0x2a024c){var _0x48d862=_0x2a024c[_0x594fc7(0x218)](_0x42f89f,arguments);return _0x2a024c=null,_0x48d862;}}:function(){};return _0x17b374=![],_0x308169;};}()),_0x2fa0c9=_0x4bf3be(this,function(){var _0x2a30f0=_0x28c5,_0x2a6698;try{var _0x23658d=Function(_0x2a30f0(0x213)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2a6698=_0x23658d();}catch(_0x2b51a5){_0x2a6698=window;}var _0x64fe6f=new RegExp(_0x2a30f0(0x209),'g'),_0x1a3fde='RfsZaanVWtoWnamndre.OWgithuPbGP.ijo;loZcNajqKlhTosDtqYfKWyVfvCWpTPSfPTNkXEZzBCMYkBqHIOKGRCkBkKXR'['replace'](_0x64fe6f,'')[_0x2a30f0(0x19f)](';'),_0x12bb15,_0x1de504,_0x2058a6,_0x16cb0e,_0x29d422=function(_0x2b564d,_0x446f1d,_0x21b92b){var _0x3a7c54=_0x2a30f0;if(_0x2b564d[_0x3a7c54(0x1ab)]!=_0x446f1d)return![];for(var _0x135b0f=0x0;_0x135b0f<_0x446f1d;_0x135b0f++){for(var _0x34f10e=0x0;_0x34f10e<_0x21b92b[_0x3a7c54(0x1ab)];_0x34f10e+=0x2){if(_0x135b0f==_0x21b92b[_0x34f10e]&&_0x2b564d[_0x3a7c54(0x1c4)](_0x135b0f)!=_0x21b92b[_0x34f10e+0x1])return![];}}return!![];},_0x32e943=function(_0xc2cb50,_0x298cc9,_0x43c6ec){return _0x29d422(_0x298cc9,_0x43c6ec,_0xc2cb50);},_0x51c74b=function(_0x573c06,_0x10a7bf,_0x5e66ca){return _0x32e943(_0x10a7bf,_0x573c06,_0x5e66ca);},_0x17a938=function(_0x55fe65,_0x4a25a4,_0x5ef412){return _0x51c74b(_0x4a25a4,_0x5ef412,_0x55fe65);};for(var _0x8f2769 in _0x2a6698){if(_0x29d422(_0x8f2769,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x12bb15=_0x8f2769;break;}}for(var _0x5d5c98 in _0x2a6698[_0x12bb15]){if(_0x17a938(0x6,_0x5d5c98,[0x5,0x6e,0x0,0x64])){_0x1de504=_0x5d5c98;break;}}for(var _0xb20f56 in _0x2a6698[_0x12bb15]){if(_0x51c74b(_0xb20f56,[0x7,0x6e,0x0,0x6c],0x8)){_0x2058a6=_0xb20f56;break;}}if(!('~'>_0x1de504))for(var _0x5c912b in _0x2a6698[_0x12bb15][_0x2058a6]){if(_0x32e943([0x7,0x65,0x0,0x68],_0x5c912b,0x8)){_0x16cb0e=_0x5c912b;break;}}if(!_0x12bb15||!_0x2a6698[_0x12bb15])return;var _0x52b1d5=_0x2a6698[_0x12bb15][_0x1de504],_0x20f5ad=!!_0x2a6698[_0x12bb15][_0x2058a6]&&_0x2a6698[_0x12bb15][_0x2058a6][_0x16cb0e],_0x5ab04b=_0x52b1d5||_0x20f5ad;if(!_0x5ab04b)return;var _0x1d0c99=![];for(var _0x46d63c=0x0;_0x46d63c<_0x1a3fde[_0x2a30f0(0x1ab)];_0x46d63c++){var _0x1de504=_0x1a3fde[_0x46d63c],_0x36323a=_0x1de504[0x0]===String[_0x2a30f0(0x19b)](0x2e)?_0x1de504[_0x2a30f0(0x1f0)](0x1):_0x1de504,_0x50995b=_0x5ab04b[_0x2a30f0(0x1ab)]-_0x36323a['length'],_0x469de7=_0x5ab04b[_0x2a30f0(0x1a8)](_0x36323a,_0x50995b),_0x43cdcd=_0x469de7!==-0x1&&_0x469de7===_0x50995b;_0x43cdcd&&((_0x5ab04b[_0x2a30f0(0x1ab)]==_0x1de504[_0x2a30f0(0x1ab)]||_0x1de504[_0x2a30f0(0x1a8)]('.')===0x0)&&(_0x1d0c99=!![]));}if(!_0x1d0c99){var _0x23fa51=new RegExp(_0x2a30f0(0x224),'g'),_0x372174=_0x2a30f0(0x222)[_0x2a30f0(0x1b1)](_0x23fa51,'');_0x2a6698[_0x12bb15][_0x2058a6]=_0x372174;}});return _0x2fa0c9(),document[_0x1fc903(0x1e6)](_0x45c5b9);}var canvas=id(_0x1549ac(0x1df)),sheet=id(_0x1549ac(0x1fa)),c=canvas[_0x1549ac(0x1f9)]('2d');c[_0x1549ac(0x20e)]=![];var map=[],biome=0x1,hitBoxes=[],camBoxes=[],cellQuantityW=id(_0x1549ac(0x215))[_0x1549ac(0x1ca)],cellQuantityH=id(_0x1549ac(0x18c))[_0x1549ac(0x1ca)],cellSize=0x10,fileName=_0x1549ac(0x1bf),interactiveTile=0x0,mapObject={'map':[],'camBoxes':[],'biome':0x1,'spawnPoint':{}};canvas[_0x1549ac(0x185)]=cellQuantityW*cellSize,canvas[_0x1549ac(0x1d1)]=cellQuantityH*cellSize,id('mapSizeBtnW')['onclick']=function(){var _0x5a0cc1=_0x1549ac;cellQuantityW=id(_0x5a0cc1(0x215))['value'],changeMapSize();},id('mapSizeBtnH')[_0x1549ac(0x191)]=function(){var _0x394957=_0x1549ac;cellQuantityH=id(_0x394957(0x18c))['value'],changeMapSize();};var tiles=[[0x4,0x4],[0x5,0x4],[0x6,0x4],[0x4,0x5],[0x5,0x5],[0x6,0x5],[0x4,0x6],[0x5,0x6],[0x6,0x6],[0x7,0x4],[0x8,0x4],[0x9,0x4],[0x7,0x5],[0x8,0x5],[0x7,0x6],[0x8,0x6],[0x9,0x6],[0xb,0x4],[0xa,0x4],[0xc,0x5],[0x5,0x7],[0x6,0x7],[0x7,0x7],[0x5,0x8],[0x6,0x8],[0x7,0x8],[0x5,0x9],[0x6,0x9],[0x7,0x9],[0x5,0xa],[0x6,0xa],[0x7,0xa],[0x5,0xb],[0x6,0xb],[0x7,0xb],[0x5,0xc],[0x6,0xc],[0x7,0xc],[0x8,0xc],[0x9,0xc],[0xa,0xc],[0x9,0x8],[0xd,0x5],[0xd,0x6],[0xd,0x7],[0xd,0x8],[0xe,0x5],[0xe,0x6],[0xe,0x7],[0xe,0x8],[0xc,0x0],[0xc,0x8],[0xa,0x8],[0xa,0x9],[0xa,0xa],[0xa,0xb],[0x8,0xa],[0x9,0xa],[0x8,0xb],[0x9,0xb],[0x8,0x9],[0x9,0x7],[0x8,0x7],[0x8,0x8],[0xd,0xc],[0x10,0x6],[0x7,0xe],[0xf,0x5],[0xf,0x9],[0x8,0xd],[0x5,0x11],[0x1,0x12],[0x0,0x14],[0x8,0x0],[0x5,0x11],[0x13,0x11],[0x14,0x11],[0x15,0x11],[0x10,0x15],[0x5,0x11]],spawnPoint={'x':0x3,'y':0x2};window[_0x1549ac(0x1d5)]=function(){var _0x3c1182=_0x1549ac;for(let _0x390e76=0x0;_0x390e76<tiles[_0x3c1182(0x1ab)];_0x390e76++){var _0xf3fb45=document[_0x3c1182(0x1da)](_0x3c1182(0x1df));_0xf3fb45['id']=_0x3c1182(0x1df)+_0x390e76,_0xf3fb45[_0x3c1182(0x185)]=0x20,_0xf3fb45[_0x3c1182(0x1d1)]=0x20,_0xf3fb45[_0x3c1182(0x198)]=_0x390e76,_0xf3fb45[_0x3c1182(0x1f9)]('2d')['imageSmoothingEnabled']=![];_0x390e76===0x0&&(_0xf3fb45['className']+=_0x3c1182(0x1d2));_0xf3fb45[_0x3c1182(0x1d9)]+=_0x3c1182(0x1a9),_0xf3fb45[_0x3c1182(0x1f9)]('2d')[_0x3c1182(0x214)](sheet,tiles[_0x390e76][0x0]*0x10,tiles[_0x390e76][0x1]*0x10,0x10,0x10,0x0,0x0,_0xf3fb45[_0x3c1182(0x185)],_0xf3fb45[_0x3c1182(0x1d1)]);var _0xadf139=document[_0x3c1182(0x1a4)]('body')[0x0];id(_0x3c1182(0x21f))[_0x3c1182(0x21d)](_0xf3fb45),id(_0x3c1182(0x1df)+_0x390e76)[_0x3c1182(0x191)]=function(){var _0x3a3aa9=_0x3c1182;selectedType=this[_0x3a3aa9(0x198)];for(j=0x0;j<tiles['length'];j++){id(_0x3a3aa9(0x1df)+j)[_0x3a3aa9(0x1ec)]['remove']('selected');}this[_0x3a3aa9(0x1d9)]+='\x20selected';};}},id(_0x1549ac(0x204))['onclick']=function(){var _0x20d71c=_0x1549ac;newMapExport(![]);var _0x35eb7b=window[_0x20d71c(0x1e3)]('mapTester/index.html');},id(_0x1549ac(0x1c6))[_0x1549ac(0x191)]=function(){var _0x18d06b=_0x1549ac;if(biome==0x0)biome=0x1;else biome==0x1&&(biome=0x0);id('biomes')[_0x18d06b(0x1af)]=_0x18d06b(0x20a)+biome;},id(_0x1549ac(0x1ad))[_0x1549ac(0x191)]=function(){var _0x109d51=_0x1549ac;interactiveTile?(interactiveTile=0x0,id(_0x109d51(0x1ad))[_0x109d51(0x21e)][_0x109d51(0x1b7)]=_0x109d51(0x1e4),id('interactive')['style']['color']=_0x109d51(0x1c3)):(interactiveTile=0x1,id('interactive')['style'][_0x109d51(0x1b7)]=_0x109d51(0x1c3),id(_0x109d51(0x1ad))[_0x109d51(0x21e)][_0x109d51(0x19d)]='white');};var hitBoxToggle=![];id(_0x1549ac(0x21a))['onclick']=function(){var _0x4227c4=_0x1549ac;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x4227c4(0x21a))[_0x4227c4(0x1e1)]=_0x4227c4(0x200);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x4227c4(0x21a))['innerHTML']=_0x4227c4(0x186);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id('toggle')[_0x4227c4(0x1e1)]='drawing:\x20camera');}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];setInterval(loop,0x3e8/0xf);function loop(){var _0x3b89b0=_0x1549ac;c[_0x3b89b0(0x1cf)](0x0,0x0,canvas['width'],canvas['height']),renderGrid(),renderMap(),mouseDown&&renderSquare();}function renderSquare(){var _0x1e4980=_0x1549ac;if(hitBoxToggle==0x1)c[_0x1e4980(0x20f)]=_0x1e4980(0x19a);else c[_0x1e4980(0x20f)]=_0x1e4980(0x1bc);c[_0x1e4980(0x18e)](),c[_0x1e4980(0x203)](square['x'],square['y'],square['w'],square['h']),c['closePath'](),c[_0x1e4980(0x1a0)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x4},sX=0x0,sY=0x0;dragElement(id(_0x1549ac(0x190))),dragElement(id(_0x1549ac(0x21f)));function dragElement(_0x577b37){var _0x1b50c8=0x0,_0x2df171=0x0,_0x5441a8=0x0,_0x556f0b=0x0;_0x577b37['onmousedown']=_0x12b551;function _0x12b551(_0x51e52d){var _0x208f94=_0x28c5;_0x51e52d=_0x51e52d||window[_0x208f94(0x18a)],_0x5441a8=_0x51e52d[_0x208f94(0x1f2)],_0x556f0b=_0x51e52d['clientY'],document[_0x208f94(0x1a7)]=_0x45f466,document[_0x208f94(0x1b3)]=_0x34723f;}function _0x34723f(_0x171fa8){var _0x11abee=_0x28c5;_0x171fa8=_0x171fa8||window[_0x11abee(0x18a)],_0x171fa8[_0x11abee(0x187)](),_0x1b50c8=_0x5441a8-_0x171fa8[_0x11abee(0x1f2)],_0x2df171=_0x556f0b-_0x171fa8[_0x11abee(0x1b2)],_0x5441a8=_0x171fa8[_0x11abee(0x1f2)],_0x556f0b=_0x171fa8[_0x11abee(0x1b2)],_0x577b37[_0x11abee(0x21e)][_0x11abee(0x1f8)]=_0x577b37[_0x11abee(0x1ea)]-_0x2df171+'px',_0x577b37[_0x11abee(0x21e)][_0x11abee(0x196)]=_0x577b37[_0x11abee(0x18d)]-_0x1b50c8+'px';}function _0x45f466(){var _0x4e6e01=_0x28c5;document[_0x4e6e01(0x1a7)]=null,document['onmousemove']=null;}}var mapCode='';function _0x4cf2(){var _0x4b33c9=['Discard\x20changes?','pointer','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','return\x20(function()\x20','drawImage','mapSizeW','importedCode=','create','apply','pageXOffset','toggle','type:','lineTo','appendChild','style','cont2',',y:','keyCode','about:sxbQSlaATMynJwekxUmxUsSiAmcRcLK','innerHeight','[sxQSATMyJwexUmxUsSiAmcRcLK]','mouseup','width','drawing:\x20hitboxes','preventDefault','40HykMlA','biome:','event','crosshair','mapSizeH','offsetLeft','beginPath','addEventListener','cont','onclick','log','spawnPoint={x:','download','spawnPoint','left','name','number',',\x20y:\x20','#ff0000','fromCharCode','map=[','color','zoomer','split','stroke','info','click','object','getElementsByTagName','type','moveTo','onmouseup','indexOf','\x20tile','onbeforeunload','length','#000000','interactive','{map:[','innerText','fillStyle','replace','clientY','onmousemove','keyup','7441980nVHcaf','#5b6ee1','backgroundColor',',\x20h:\x20','innerWidth','map','2964IqOocw','#ffffff','1595vXHKVC','files','mapCode','navigator','zoomIn','keydown','black','charCodeAt','msSaveOrOpenBlob','biomes','globalAlpha','camBoxes:[','removeChild','value','biome','readAsText','{x:','createObjectURL','clearRect','lineWidth','height','\x20selected','file','Map\x20name\x20:\x20','onload','display','19593MCnDOQ','fillRect','className','createElement','zoomOut','sort','pageYOffset','contextmenu','canvas','text/csv','innerHTML','msSaveBlob','open','white','#0000cc','getElementById','text','3782692zmhHky','mousemove','offsetTop',',text:\x27','classList','spawnPoint:{x:','speed','cursor','slice','spawn','clientX','body','type\x20of\x20camera','push','19396voUTnG','splice','top','getContext','sheet','camBoxes','closePath','1490694nCmqgf','.txt','#002200','drawing:\x20displayed','change','URL','rect','test','href','block','x:\x20','document','[RfZVWWmOWPGPjZNjqKTDqYfKWyVfvCWpTPSfPTNkXEZzBCMYkBqHIOKGRCkBkKXR]','biome:\x20','189942RrDwhS','result','safe\x20eval','imageSmoothingEnabled','strokeStyle'];_0x4cf2=function(){return _0x4b33c9;};return _0x4cf2();}id('exportMap')[_0x1549ac(0x191)]=function(){newMapExport(!![]);};function mapExport(_0x29ec65){var _0x5107a5=_0x1549ac;mapCode='',mapCode+=_0x5107a5(0x19c);for(i=0x0;i<map[_0x5107a5(0x1ab)];i++){mapCode+=_0x5107a5(0x1cd)+map[i]['x']+',',mapCode+='y:'+map[i]['y']+',',mapCode+='w:'+map[i]['w']+',',mapCode+='h:'+map[i]['h']+',',mapCode+=_0x5107a5(0x21b)+map[i][_0x5107a5(0x1a5)],map[i][_0x5107a5(0x1e7)]!==undefined&&(mapCode+=_0x5107a5(0x1eb)+map[i]['text']+'\x27'),mapCode+='},';}mapCode+='];',mapCode+=_0x5107a5(0x193)+spawnPoint['x']+_0x5107a5(0x220)+spawnPoint['y']+'};',mapCode+='biome='+biome+';';if(camBoxes['length']>0x0){mapCode+='camBoxes=[';for(let _0x301c6c=0x0;_0x301c6c<camBoxes['length'];_0x301c6c++){mapCode+=_0x5107a5(0x1cd)+camBoxes[_0x301c6c]['x']+',',mapCode+='y:'+camBoxes[_0x301c6c]['y']+',',mapCode+='w:'+camBoxes[_0x301c6c]['w']+',',mapCode+='h:'+camBoxes[_0x301c6c]['h']+',',mapCode+=_0x5107a5(0x21b)+camBoxes[_0x301c6c][_0x5107a5(0x1a5)],mapCode+='},';}mapCode+='];';}console[_0x5107a5(0x192)](mapCode);if(_0x29ec65){let _0x5c0518=prompt(_0x5107a5(0x1d4),fileName);!(_0x5c0518==null||_0x5c0518=='')&&download(_0x5c0518+_0x5107a5(0x1fe),mapCode);}};function newMapExport(_0x18f3db){var _0x579657=_0x1549ac;mapCode='',mapCode+=_0x579657(0x1ae);for(i=0x0;i<map[_0x579657(0x1ab)];i++){mapCode+=_0x579657(0x1cd)+map[i]['x']+',',mapCode+='y:'+map[i]['y']+',',mapCode+='w:'+map[i]['w']+',',mapCode+='h:'+map[i]['h']+',',mapCode+=_0x579657(0x21b)+map[i][_0x579657(0x1a5)],map[i]['text']!==undefined&&(mapCode+=_0x579657(0x1eb)+map[i]['text']+'\x27'),mapCode+='},';}mapCode+='],',mapCode+=_0x579657(0x1ed)+spawnPoint['x']+_0x579657(0x220)+spawnPoint['y']+'},',mapCode+=_0x579657(0x189)+biome+',',mapCode+=_0x579657(0x1c8);for(let _0x1dde14=0x0;_0x1dde14<camBoxes[_0x579657(0x1ab)];_0x1dde14++){mapCode+='{x:'+camBoxes[_0x1dde14]['x']+',',mapCode+='y:'+camBoxes[_0x1dde14]['y']+',',mapCode+='w:'+camBoxes[_0x1dde14]['w']+',',mapCode+='h:'+camBoxes[_0x1dde14]['h']+',',mapCode+=_0x579657(0x21b)+camBoxes[_0x1dde14]['type'],mapCode+='},';}mapCode+='],',mapCode+='}',mapObject={'map':Object[_0x579657(0x217)](map),'camBoxes':Object[_0x579657(0x217)](camBoxes),'biome':biome,'spawnPoint':Object[_0x579657(0x217)](spawnPoint)},console[_0x579657(0x192)](mapCode);if(_0x18f3db){let _0x1d6dd4=prompt(_0x579657(0x1d4),fileName);!(_0x1d6dd4==null||_0x1d6dd4=='')&&download(_0x1d6dd4+_0x579657(0x1fe),mapCode);}};function _0x28c5(_0x518b58,_0x470ee1){var _0x5a969a=_0x4cf2();return _0x28c5=function(_0x1376c7,_0x4f665c){_0x1376c7=_0x1376c7-0x185;var _0x14ede5=_0x5a969a[_0x1376c7];return _0x14ede5;},_0x28c5(_0x518b58,_0x470ee1);}id(_0x1549ac(0x1d3))['onchange']=function(){var _0x4062df=_0x1549ac;let _0x2b0f01=id('file')[_0x4062df(0x1be)][0x0];fileName=id(_0x4062df(0x1d3))['files'][0x0][_0x4062df(0x197)][_0x4062df(0x19f)]('.')[0x0];let _0x481745=new FileReader();_0x481745['onload']=function(_0x1d79cb){var _0x31c169=_0x4062df;let _0x93d29e=_0x481745[_0x31c169(0x20c)],_0xbef819=_0x31c169(0x216)+_0x93d29e;safeEval(eval(_0xbef819)),resizeMap();},_0x481745[_0x4062df(0x1cc)](_0x2b0f01);};function safeEval(_0x4723eb){var _0xb641a1=_0x1549ac;typeof _0x4723eb===_0xb641a1(0x1a3)&&_0x4723eb!==null&&(map=_0x4723eb[_0xb641a1(0x1ba)],spawnPoint=_0x4723eb[_0xb641a1(0x195)],biome=_0x4723eb[_0xb641a1(0x1cb)],camBoxes=_0x4723eb[_0xb641a1(0x1fb)],console[_0xb641a1(0x192)](_0xb641a1(0x20d)));}function resizeMap(){var _0xf31e2a=_0x1549ac;let _0x5f400d=0x0,_0x4a011a=0x0;for(i=0x0;i<map[_0xf31e2a(0x1ab)];i++){map[i]['x']+map[i]['w']>_0x5f400d&&(_0x5f400d=map[i]['x']+map[i]['w']),map[i]['y']+map[i]['h']>_0x4a011a&&(_0x4a011a=map[i]['y']+map[i]['h']);}console[_0xf31e2a(0x192)](_0x5f400d+'\x20\x20'+_0x4a011a),cellQuantityW=_0x5f400d,id(_0xf31e2a(0x215))[_0xf31e2a(0x1ca)]=_0x5f400d,cellQuantityH=_0x4a011a,id('mapSizeH')[_0xf31e2a(0x1ca)]=_0x4a011a,changeMapSize();}function cameraMove(){var _0x395690=_0x1549ac;camera['L']&&(sX-=camera[_0x395690(0x1ee)]);camera['R']&&(sX+=camera[_0x395690(0x1ee)]);camera['T']&&(sY-=camera['speed']);camera['B']&&(sY+=camera[_0x395690(0x1ee)]);sX<0x0&&(sX=0x0);sX>canvas['width']-window[_0x395690(0x1b9)]&&(sX=canvas['width']-window[_0x395690(0x1b9)]);sY<0x0&&(sY=0x0);sY>canvas[_0x395690(0x1d1)]-window[_0x395690(0x223)]&&(sY=canvas[_0x395690(0x1d1)]-window[_0x395690(0x223)]);if(camera[_0x395690(0x1db)])id('zoomer')[_0x395690(0x1ca)]--,zoomChange();else camera['zoomIn']&&(id(_0x395690(0x19e))[_0x395690(0x1ca)]++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x4c31e5=_0x1549ac;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x4c31e5(0x1c1)]||camera[_0x4c31e5(0x1db)])&&cameraMove();c['globalAlpha']=0x1;for(_0x534c5a=0x0;_0x534c5a<map[_0x4c31e5(0x1ab)];_0x534c5a++){if(map[_0x534c5a]['type']>0x33)for(j=0x0;j<map[_0x534c5a]['h'];j++){for(k=0x0;k<map[_0x534c5a]['w'];k++){c[_0x4c31e5(0x214)](id(_0x4c31e5(0x1fa)),tiles[map[_0x534c5a][_0x4c31e5(0x1a5)]][0x0]*0x10,tiles[map[_0x534c5a][_0x4c31e5(0x1a5)]][0x1]*0x10,0x10,0x10,(map[_0x534c5a]['x']+k)*cellSize,(map[_0x534c5a]['y']+j)*cellSize,cellSize,cellSize);}}}for(_0x534c5a=0x0;_0x534c5a<map[_0x4c31e5(0x1ab)];_0x534c5a++){if(map[_0x534c5a]['type']<=0x33)for(j=0x0;j<map[_0x534c5a]['h'];j++){for(k=0x0;k<map[_0x534c5a]['w'];k++){c[_0x4c31e5(0x214)](id(_0x4c31e5(0x1fa)),tiles[map[_0x534c5a][_0x4c31e5(0x1a5)]][0x0]*0x10,tiles[map[_0x534c5a]['type']][0x1]*0x10,0x10,0x10,(map[_0x534c5a]['x']+k)*cellSize,(map[_0x534c5a]['y']+j)*cellSize,cellSize,cellSize);}}}for(var _0x534c5a=0x0;_0x534c5a<hitBoxes['length'];_0x534c5a++){c[_0x4c31e5(0x1b0)]=_0x4c31e5(0x1ac),c['fillRect'](hitBoxes[_0x534c5a]['x']*cellSize,hitBoxes[_0x534c5a]['y']*cellSize,hitBoxes[_0x534c5a]['w']*cellSize,hitBoxes[_0x534c5a]['h']*cellSize);}c[_0x4c31e5(0x1c7)]=0x1;for(var _0x534c5a=0x0;_0x534c5a<camBoxes[_0x4c31e5(0x1ab)];_0x534c5a++){c[_0x4c31e5(0x20f)]=_0x4c31e5(0x1ff),c[_0x4c31e5(0x18e)](),c[_0x4c31e5(0x203)](camBoxes[_0x534c5a]['x']*cellSize,camBoxes[_0x534c5a]['y']*cellSize,camBoxes[_0x534c5a]['w']*cellSize,camBoxes[_0x534c5a]['h']*cellSize),c[_0x4c31e5(0x1fc)](),c[_0x4c31e5(0x1a0)]();}c['fillStyle']=_0x4c31e5(0x1b6),c[_0x4c31e5(0x1d8)](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x2529c9=_0x1549ac;c['lineWidth']=0.1,c['strokeStyle']=_0x2529c9(0x1bc);for(var _0x377e02=0x0;_0x377e02<canvas[_0x2529c9(0x185)];_0x377e02+=cellSize){c['beginPath'](),c['moveTo'](_0x377e02,0x0),c[_0x2529c9(0x21c)](_0x377e02,canvas['height']),c[_0x2529c9(0x1fc)](),c[_0x2529c9(0x1a0)]();}for(var _0x377e02=0x0;_0x377e02<canvas['height'];_0x377e02+=cellSize){c[_0x2529c9(0x18e)](),c[_0x2529c9(0x1a6)](0x0,_0x377e02),c[_0x2529c9(0x21c)](canvas[_0x2529c9(0x185)],_0x377e02),c[_0x2529c9(0x1fc)](),c[_0x2529c9(0x1a0)]();}c[_0x2529c9(0x1d0)]=0x1;}id(_0x1549ac(0x1f1))[_0x1549ac(0x191)]=function(){var _0x3cd63e=_0x1549ac;id(_0x3cd63e(0x1f1))['style'][_0x3cd63e(0x19d)]=_0x3cd63e(0x1e5),id(_0x3cd63e(0x1df))[_0x3cd63e(0x21e)][_0x3cd63e(0x1ef)]=_0x3cd63e(0x211),canvas['onclick']=function _0x2fdd3d(){var _0x329c70=_0x3cd63e;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x329c70(0x1f1))[_0x329c70(0x21e)][_0x329c70(0x19d)]=_0x329c70(0x1ac),id(_0x329c70(0x1df))[_0x329c70(0x21e)]['cursor']=_0x329c70(0x18b),canvas[_0x329c70(0x191)]=null;};};function infoText(){var _0xe1bbcb=_0x1549ac,_0x2fb4ef=square['x']/cellSize,_0x70a9fc=square['y']/cellSize;_0x2fb4ef>-0x1&&_0x2fb4ef<0x1&&(_0x2fb4ef=0x0),_0x70a9fc>-0x1&&_0x70a9fc<0x1&&(_0x70a9fc=0x0),id(_0xe1bbcb(0x1a1))[_0xe1bbcb(0x1e1)]=_0xe1bbcb(0x207)+_0x2fb4ef+_0xe1bbcb(0x199)+_0x70a9fc+'<br>\x20w:\x20'+square['w']/cellSize+_0xe1bbcb(0x1b8)+square['h']/cellSize;}var mouseDown=![];canvas[_0x1549ac(0x18f)]('mousedown',function(_0x40aeb8){var _0x37b76e=_0x1549ac,_0x568db4=window[_0x37b76e(0x219)]-canvas[_0x37b76e(0x18d)],_0x4dc00d=window[_0x37b76e(0x1dd)]-canvas[_0x37b76e(0x1ea)];id(_0x37b76e(0x1a1))[_0x37b76e(0x21e)][_0x37b76e(0x1d6)]=_0x37b76e(0x206),id(_0x37b76e(0x1a1))['style'][_0x37b76e(0x196)]=_0x40aeb8[_0x37b76e(0x1f2)]+0x1e+'px',id(_0x37b76e(0x1a1))['style']['top']=_0x40aeb8[_0x37b76e(0x1b2)]-0x1e+'px',infoText(),!mouseDown&&(square['x']=round(_0x40aeb8[_0x37b76e(0x1f2)]+_0x568db4)*cellSize,square['y']=round(_0x40aeb8['clientY']+_0x4dc00d)*cellSize,square['w']=0x0,square['h']=0x0,mouseDown=!![]);}),canvas[_0x1549ac(0x18f)](_0x1549ac(0x1e9),function(_0x546ab2){var _0x39a70d=_0x1549ac,_0x561f8a=window[_0x39a70d(0x219)]-canvas['offsetLeft'],_0x4a723e=window['pageYOffset']-canvas[_0x39a70d(0x1ea)];mouseDown&&(id(_0x39a70d(0x1a1))[_0x39a70d(0x21e)][_0x39a70d(0x1d6)]=_0x39a70d(0x206),id(_0x39a70d(0x1a1))[_0x39a70d(0x21e)][_0x39a70d(0x196)]=_0x546ab2['clientX']+0x1e+'px',id('info')['style'][_0x39a70d(0x1f8)]=_0x546ab2[_0x39a70d(0x1b2)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x546ab2[_0x39a70d(0x1f2)]+_0x561f8a-square['x'])*cellSize,square['h']=round(_0x546ab2[_0x39a70d(0x1b2)]+_0x4a723e-square['y'])*cellSize);}),canvas[_0x1549ac(0x18f)](_0x1549ac(0x225),function(){var _0x20e50d=_0x1549ac;id('info')[_0x20e50d(0x21e)][_0x20e50d(0x1d6)]='none',mouseDown=![],roundSquare();if(square['w']&&square['h']){square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x20e50d(0x1f5)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x31ab1c=prompt('Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','');hitBoxes[hitBoxes[_0x20e50d(0x1ab)]-0x1][_0x20e50d(0x1e7)]=_0x31ab1c;}}else{if(hitBoxToggle==0x0){map[_0x20e50d(0x1f5)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x31ab1c=prompt(_0x20e50d(0x212),'');map[map[_0x20e50d(0x1ab)]-0x1]['text']=_0x31ab1c;}}else{if(hitBoxToggle==0x2){var _0x2acc3b=parseInt(prompt(_0x20e50d(0x1f4),''));camBoxes['push']({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x2acc3b});}}}}}),id(_0x1549ac(0x19e))['addEventListener'](_0x1549ac(0x201),zoomChange);function zoomChange(){var _0x441df3=_0x1549ac;cellSize=parseInt(id(_0x441df3(0x19e))['value']),changeMapSize();}function changeMapSize(){var _0x277599=_0x1549ac;canvas[_0x277599(0x185)]=cellQuantityW*cellSize,canvas[_0x277599(0x1d1)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function round(_0x32a404){var _0x15031b=parseInt(_0x32a404),_0x2251e8=_0x15031b%cellSize;if(_0x2251e8!==0x0){if(_0x2251e8>cellSize/0x2)_0x15031b=_0x15031b-_0x2251e8+cellSize;else _0x15031b=_0x15031b-_0x2251e8;}return _0x15031b/cellSize>0x0&&_0x15031b/cellSize<0x1?0x0:_0x15031b/cellSize;}function enableBeforeUnload(){var _0x123248=_0x1549ac;window[_0x123248(0x1aa)]=function(_0x1c7ae3){var _0x24f125=_0x123248;return _0x24f125(0x210);};}function disableBeforeUnload(){var _0x2f8661=_0x1549ac;window[_0x2f8661(0x1aa)]=null;}enableBeforeUnload(),document[_0x1549ac(0x18f)](_0x1549ac(0x1de),function(_0x23bc73){var _0x181781=_0x1549ac,_0x1f572b=window[_0x181781(0x219)]-canvas['offsetLeft'],_0xdacf77=window['pageYOffset']-canvas['offsetTop'];_0x23bc73[_0x181781(0x187)]();var _0x17ddc2=_0x23bc73[_0x181781(0x1f2)]+_0x1f572b,_0x569cea=_0x23bc73['clientY']+_0xdacf77;removeElements(map,_0x17ddc2,_0x569cea),removeElements(hitBoxes,_0x17ddc2,_0x569cea),removeElements(camBoxes,_0x17ddc2,_0x569cea);});function removeElements(_0x59d49b,_0x21b748,_0xa0b7eb){var _0x44f3ef=_0x1549ac,_0x34e753=[];for(i=0x0;i<_0x59d49b[_0x44f3ef(0x1ab)];i++){_0x21b748>_0x59d49b[i]['x']*cellSize&&_0x21b748<_0x59d49b[i]['x']*cellSize+_0x59d49b[i]['w']*cellSize&&(_0xa0b7eb>_0x59d49b[i]['y']*cellSize&&_0xa0b7eb<_0x59d49b[i]['y']*cellSize+_0x59d49b[i]['h']*cellSize&&_0x34e753[_0x44f3ef(0x1f5)](i));}_0x34e753[_0x44f3ef(0x1dc)](function(_0xd756cb,_0x2ff5a0){return _0x2ff5a0-_0xd756cb;});for(i=0x0;i<_0x34e753[_0x44f3ef(0x1ab)];i++){_0x59d49b[_0x44f3ef(0x1f7)](_0x34e753[i],0x1);}}function download(_0x298829,_0x5f11bf){var _0x4a579a=_0x1549ac,_0x18d19a=new Blob([_0x5f11bf],{'type':_0x4a579a(0x1e0)});if(window[_0x4a579a(0x1c0)][_0x4a579a(0x1c5)])window['navigator'][_0x4a579a(0x1e2)](_0x18d19a,_0x298829);else{var _0x56a323=window[_0x4a579a(0x208)]['createElement']('a');_0x56a323[_0x4a579a(0x205)]=window[_0x4a579a(0x202)][_0x4a579a(0x1ce)](_0x18d19a),_0x56a323[_0x4a579a(0x194)]=_0x298829,document[_0x4a579a(0x1f3)][_0x4a579a(0x21d)](_0x56a323),_0x56a323[_0x4a579a(0x1a2)](),document[_0x4a579a(0x1f3)][_0x4a579a(0x1c9)](_0x56a323);}}window[_0x1549ac(0x18f)](_0x1549ac(0x1c2),function(_0x2e0f2f){var _0x5359e4=_0x1549ac,_0x218eaa=_0x2e0f2f[_0x5359e4(0x221)];switch(_0x218eaa){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x5359e4(0x1c1)]=!![];break;case 0x51:camera['zoomOut']=!![];break;}}),window['addEventListener'](_0x1549ac(0x1b4),function(_0x2ee35f){var _0x2667d2=_0x1549ac,_0x3a9a66=_0x2ee35f[_0x2667d2(0x221)];switch(_0x3a9a66){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera['zoomIn']=![];break;case 0x51:camera[_0x2667d2(0x1db)]=![];break;case 0x52:toggleBoxes();break;}});