var _0x4463fc=_0xca99;(function(_0x4960e7,_0x2dd651){var _0x2385cd=_0xca99,_0x439031=_0x4960e7();while(!![]){try{var _0x8fe9cc=parseInt(_0x2385cd(0x176))/0x1*(parseInt(_0x2385cd(0x1c9))/0x2)+-parseInt(_0x2385cd(0x195))/0x3+-parseInt(_0x2385cd(0x207))/0x4+parseInt(_0x2385cd(0x1b2))/0x5*(-parseInt(_0x2385cd(0x1a6))/0x6)+parseInt(_0x2385cd(0x1f3))/0x7+parseInt(_0x2385cd(0x198))/0x8*(parseInt(_0x2385cd(0x1dc))/0x9)+-parseInt(_0x2385cd(0x1ea))/0xa*(-parseInt(_0x2385cd(0x20d))/0xb);if(_0x8fe9cc===_0x2dd651)break;else _0x439031['push'](_0x439031['shift']());}catch(_0x4d73eb){_0x439031['push'](_0x439031['shift']());}}}(_0x2e21,0x8543d));var selectedType=0x0;function id(_0x485c87){var _0xb9fbf6=_0xca99,_0x29325a=(function(){var _0x322af5=!![];return function(_0x331476,_0x45ef50){var _0x4481eb=_0x322af5?function(){var _0x585e54=_0xca99;if(_0x45ef50){var _0x84340e=_0x45ef50[_0x585e54(0x186)](_0x331476,arguments);return _0x45ef50=null,_0x84340e;}}:function(){};return _0x322af5=![],_0x4481eb;};}()),_0x47de1f=_0x29325a(this,function(){var _0xc91523=_0xca99,_0x2db067;try{var _0x34320c=Function(_0xc91523(0x1f2)+_0xc91523(0x1b5)+');');_0x2db067=_0x34320c();}catch(_0x237288){_0x2db067=window;}var _0x3c1b9d=new RegExp(_0xc91523(0x1c6),'g'),_0x55d90d='wBsUawaxxMnDfftkoEnaGExINndYremB.BCgiHGOthOzATuxbE.xNyFTio;wxWlyocaljhkostkvqKpjEJTRFKTQYVLNPzPBfBvAMX'[_0xc91523(0x1c2)](_0x3c1b9d,'')[_0xc91523(0x1e6)](';'),_0x3a80c8,_0x4be558,_0x1f1256,_0x7e7016,_0x47ae77=function(_0xc72d93,_0x1d732b,_0x5b91e2){var _0x4f6c52=_0xc91523;if(_0xc72d93[_0x4f6c52(0x1b7)]!=_0x1d732b)return![];for(var _0x515abf=0x0;_0x515abf<_0x1d732b;_0x515abf++){for(var _0x202f91=0x0;_0x202f91<_0x5b91e2['length'];_0x202f91+=0x2){if(_0x515abf==_0x5b91e2[_0x202f91]&&_0xc72d93[_0x4f6c52(0x17e)](_0x515abf)!=_0x5b91e2[_0x202f91+0x1])return![];}}return!![];},_0x36c3c9=function(_0x5053b0,_0x4783b6,_0x1e277c){return _0x47ae77(_0x4783b6,_0x1e277c,_0x5053b0);},_0x1f15ba=function(_0xfb38b,_0x283584,_0x4ff9cf){return _0x36c3c9(_0x283584,_0xfb38b,_0x4ff9cf);},_0x2fd790=function(_0x25d072,_0x6c4ef4,_0x6a64ff){return _0x1f15ba(_0x6c4ef4,_0x6a64ff,_0x25d072);};for(var _0x540466 in _0x2db067){if(_0x47ae77(_0x540466,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3a80c8=_0x540466;break;}}for(var _0x10e094 in _0x2db067[_0x3a80c8]){if(_0x2fd790(0x6,_0x10e094,[0x5,0x6e,0x0,0x64])){_0x4be558=_0x10e094;break;}}for(var _0x2dac04 in _0x2db067[_0x3a80c8]){if(_0x1f15ba(_0x2dac04,[0x7,0x6e,0x0,0x6c],0x8)){_0x1f1256=_0x2dac04;break;}}if(!('~'>_0x4be558))for(var _0x366609 in _0x2db067[_0x3a80c8][_0x1f1256]){if(_0x36c3c9([0x7,0x65,0x0,0x68],_0x366609,0x8)){_0x7e7016=_0x366609;break;}}if(!_0x3a80c8||!_0x2db067[_0x3a80c8])return;var _0x148626=_0x2db067[_0x3a80c8][_0x4be558],_0x1c885d=!!_0x2db067[_0x3a80c8][_0x1f1256]&&_0x2db067[_0x3a80c8][_0x1f1256][_0x7e7016],_0x366bf7=_0x148626||_0x1c885d;if(!_0x366bf7)return;var _0x2cdcac=![];for(var _0x5ea1af=0x0;_0x5ea1af<_0x55d90d[_0xc91523(0x1b7)];_0x5ea1af++){var _0x4be558=_0x55d90d[_0x5ea1af],_0x1cb1e0=_0x4be558[0x0]===String[_0xc91523(0x1fe)](0x2e)?_0x4be558[_0xc91523(0x182)](0x1):_0x4be558,_0x45db3b=_0x366bf7[_0xc91523(0x1b7)]-_0x1cb1e0['length'],_0x5dae8a=_0x366bf7[_0xc91523(0x1e8)](_0x1cb1e0,_0x45db3b),_0x113928=_0x5dae8a!==-0x1&&_0x5dae8a===_0x45db3b;_0x113928&&((_0x366bf7[_0xc91523(0x1b7)]==_0x4be558['length']||_0x4be558[_0xc91523(0x1e8)]('.')===0x0)&&(_0x2cdcac=!![]));}if(!_0x2cdcac){var _0x3cee40=new RegExp(_0xc91523(0x1fa),'g'),_0x372a8f='xpabVdzoMutf:bleUMXanMTkPVXRgUdPOOZRDrssjjP'[_0xc91523(0x1c2)](_0x3cee40,'');_0x2db067[_0x3a80c8][_0x1f1256]=_0x372a8f;}});return _0x47de1f(),document[_0xb9fbf6(0x18d)](_0x485c87);}var canvas=id(_0x4463fc(0x1ed)),sheet=id('sheet'),c=canvas[_0x4463fc(0x180)]('2d');c[_0x4463fc(0x1b0)]=![];var map=[],biome=0x1,hitBoxes=[],camBoxes=[],cellQuantityW=id(_0x4463fc(0x1e9))[_0x4463fc(0x1e5)],cellQuantityH=id(_0x4463fc(0x1c8))[_0x4463fc(0x1e5)],cellSize=0x10,fileName=_0x4463fc(0x183),interactiveTile=0x0,mapObject={'map':[],'camBoxes':[],'biome':0x1,'spawnPoint':{}};canvas[_0x4463fc(0x1da)]=cellQuantityW*cellSize,canvas[_0x4463fc(0x1dd)]=cellQuantityH*cellSize,id('mapSizeBtnW')[_0x4463fc(0x1e4)]=function(){var _0x45e352=_0x4463fc;cellQuantityW=id('mapSizeW')[_0x45e352(0x1e5)],changeMapSize();},id('mapSizeBtnH')[_0x4463fc(0x1e4)]=function(){var _0x1723c9=_0x4463fc;cellQuantityH=id(_0x1723c9(0x1c8))['value'],changeMapSize();};var tiles=[[0x4,0x4],[0x5,0x4],[0x6,0x4],[0x4,0x5],[0x5,0x5],[0x6,0x5],[0x4,0x6],[0x5,0x6],[0x6,0x6],[0x7,0x4],[0x8,0x4],[0x9,0x4],[0x7,0x5],[0x8,0x5],[0x7,0x6],[0x8,0x6],[0x9,0x6],[0xb,0x4],[0xa,0x4],[0xc,0x5],[0x5,0x7],[0x6,0x7],[0x7,0x7],[0x5,0x8],[0x6,0x8],[0x7,0x8],[0x5,0x9],[0x6,0x9],[0x7,0x9],[0x5,0xa],[0x6,0xa],[0x7,0xa],[0x5,0xb],[0x6,0xb],[0x7,0xb],[0x5,0xc],[0x6,0xc],[0x7,0xc],[0x8,0xc],[0x9,0xc],[0xa,0xc],[0x9,0x8],[0xd,0x5],[0xd,0x6],[0xd,0x7],[0xd,0x8],[0xe,0x5],[0xe,0x6],[0xe,0x7],[0xe,0x8],[0xc,0x0],[0xc,0x8],[0xa,0x8],[0xa,0x9],[0xa,0xa],[0xa,0xb],[0x8,0xa],[0x9,0xa],[0x8,0xb],[0x9,0xb],[0x8,0x9],[0x9,0x7],[0x8,0x7],[0x8,0x8],[0xd,0xc],[0x10,0x6],[0x7,0xe],[0xf,0x5],[0xf,0x9],[0x8,0xd],[0x5,0x11],[0x1,0x12],[0x0,0x14],[0x8,0x0],[0x5,0x11],[0x13,0x11],[0x14,0x11],[0x15,0x11],[0x10,0x15],[0x5,0x11]],spawnPoint={'x':0x3,'y':0x2};window[_0x4463fc(0x192)]=function(){var _0x53ab78=_0x4463fc;for(let _0x554fdc=0x0;_0x554fdc<tiles[_0x53ab78(0x1b7)];_0x554fdc++){var _0x507af3=document[_0x53ab78(0x1a8)](_0x53ab78(0x1ed));_0x507af3['id']=_0x53ab78(0x1ed)+_0x554fdc,_0x507af3[_0x53ab78(0x1da)]=0x20,_0x507af3[_0x53ab78(0x1dd)]=0x20,_0x507af3[_0x53ab78(0x1f6)]=_0x554fdc,_0x507af3[_0x53ab78(0x180)]('2d')[_0x53ab78(0x1b0)]=![];_0x554fdc===0x0&&(_0x507af3['className']+=_0x53ab78(0x1b4));_0x507af3[_0x53ab78(0x18a)]+=_0x53ab78(0x19a),_0x507af3[_0x53ab78(0x180)]('2d')[_0x53ab78(0x1de)](sheet,tiles[_0x554fdc][0x0]*0x10,tiles[_0x554fdc][0x1]*0x10,0x10,0x10,0x0,0x0,_0x507af3[_0x53ab78(0x1da)],_0x507af3[_0x53ab78(0x1dd)]);var _0x58f8ee=document[_0x53ab78(0x1ec)]('body')[0x0];id('cont2')['appendChild'](_0x507af3),id(_0x53ab78(0x1ed)+_0x554fdc)[_0x53ab78(0x1e4)]=function(){var _0x28d744=_0x53ab78;selectedType=this['number'];for(j=0x0;j<tiles['length'];j++){id(_0x28d744(0x1ed)+j)[_0x28d744(0x1be)][_0x28d744(0x18b)]('selected');}this['className']+=_0x28d744(0x1b4);};}},id('test')[_0x4463fc(0x1e4)]=function(){var _0x51b9b5=_0x4463fc;newMapExport(![]);var _0x26cd54=window['open'](_0x51b9b5(0x1bb));},id(_0x4463fc(0x1a0))[_0x4463fc(0x1e4)]=function(){var _0x335784=_0x4463fc;if(biome==0x0)biome=0x1;else biome==0x1&&(biome=0x0);id(_0x335784(0x1a0))[_0x335784(0x1ad)]=_0x335784(0x177)+biome;},id(_0x4463fc(0x20a))['onclick']=function(){var _0x2f4742=_0x4463fc;interactiveTile?(interactiveTile=0x0,id('interactive')[_0x2f4742(0x1d3)]['backgroundColor']=_0x2f4742(0x196),id(_0x2f4742(0x20a))['style']['color']=_0x2f4742(0x1f9)):(interactiveTile=0x1,id(_0x2f4742(0x20a))[_0x2f4742(0x1d3)][_0x2f4742(0x1cc)]=_0x2f4742(0x1f9),id(_0x2f4742(0x20a))[_0x2f4742(0x1d3)][_0x2f4742(0x1bf)]=_0x2f4742(0x196));};var hitBoxToggle=![];id('toggle')[_0x4463fc(0x1e4)]=function(){var _0x2f59b3=_0x4463fc;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x2f59b3(0x1b3))[_0x2f59b3(0x1af)]=_0x2f59b3(0x20b);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x2f59b3(0x1b3))[_0x2f59b3(0x1af)]=_0x2f59b3(0x189);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x2f59b3(0x1b3))[_0x2f59b3(0x1af)]=_0x2f59b3(0x1a9));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];setInterval(loop,0x3e8/0xf);function loop(){var _0x5b9ef7=_0x4463fc;c[_0x5b9ef7(0x1ab)](0x0,0x0,canvas[_0x5b9ef7(0x1da)],canvas['height']),renderGrid(),renderMap(),mouseDown&&renderSquare();}function renderSquare(){var _0x31ea76=_0x4463fc;if(hitBoxToggle==0x1)c[_0x31ea76(0x1bc)]='#ff0000';else c[_0x31ea76(0x1bc)]=_0x31ea76(0x19c);c[_0x31ea76(0x1d5)](),c[_0x31ea76(0x1c4)](square['x'],square['y'],square['w'],square['h']),c[_0x31ea76(0x1d6)](),c['stroke']();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x4},sX=0x0,sY=0x0;dragElement(id('cont')),dragElement(id(_0x4463fc(0x19d)));function dragElement(_0x3e63f4){var _0x50597b=_0x4463fc,_0x3b3391=0x0,_0x3a13f0=0x0,_0x1f6b63=0x0,_0x298871=0x0;_0x3e63f4[_0x50597b(0x210)]=_0x4e19b3;function _0x4e19b3(_0xce05f1){var _0x185aba=_0x50597b;_0xce05f1=_0xce05f1||window[_0x185aba(0x1fc)],_0x1f6b63=_0xce05f1['clientX'],_0x298871=_0xce05f1['clientY'],document['onmouseup']=_0x5bfb9d,document[_0x185aba(0x1a4)]=_0x3eec3f;}function _0x3eec3f(_0x40a467){var _0x382ad5=_0x50597b;_0x40a467=_0x40a467||window['event'],_0x40a467['preventDefault'](),_0x3b3391=_0x1f6b63-_0x40a467['clientX'],_0x3a13f0=_0x298871-_0x40a467[_0x382ad5(0x1b1)],_0x1f6b63=_0x40a467[_0x382ad5(0x185)],_0x298871=_0x40a467['clientY'],_0x3e63f4[_0x382ad5(0x1d3)][_0x382ad5(0x1fb)]=_0x3e63f4[_0x382ad5(0x1f8)]-_0x3a13f0+'px',_0x3e63f4[_0x382ad5(0x1d3)][_0x382ad5(0x173)]=_0x3e63f4[_0x382ad5(0x175)]-_0x3b3391+'px';}function _0x5bfb9d(){var _0x2a980e=_0x50597b;document[_0x2a980e(0x17c)]=null,document[_0x2a980e(0x1a4)]=null;}}function _0xca99(_0x2eb032,_0x40c6a1){var _0x416f0a=_0x2e21();return _0xca99=function(_0x182311,_0x355c88){_0x182311=_0x182311-0x173;var _0x299d50=_0x416f0a[_0x182311];return _0x299d50;},_0xca99(_0x2eb032,_0x40c6a1);}var mapCode='';id('exportMap')[_0x4463fc(0x1e4)]=function(){newMapExport(!![]);};function mapExport(_0x2f98c0){var _0x48d61e=_0x4463fc;mapCode='',mapCode+='map=[';for(i=0x0;i<map['length'];i++){mapCode+=_0x48d61e(0x187)+map[i]['x']+',',mapCode+='y:'+map[i]['y']+',',mapCode+='w:'+map[i]['w']+',',mapCode+='h:'+map[i]['h']+',',mapCode+=_0x48d61e(0x191)+map[i][_0x48d61e(0x211)],map[i][_0x48d61e(0x18f)]!==undefined&&(mapCode+=_0x48d61e(0x205)+map[i][_0x48d61e(0x18f)]+'\x27'),mapCode+='},';}mapCode+='];',mapCode+=_0x48d61e(0x1ca)+spawnPoint['x']+_0x48d61e(0x1d9)+spawnPoint['y']+'};',mapCode+=_0x48d61e(0x1c7)+biome+';';if(camBoxes[_0x48d61e(0x1b7)]>0x0){mapCode+=_0x48d61e(0x201);for(let _0x1a8ebd=0x0;_0x1a8ebd<camBoxes[_0x48d61e(0x1b7)];_0x1a8ebd++){mapCode+='{x:'+camBoxes[_0x1a8ebd]['x']+',',mapCode+='y:'+camBoxes[_0x1a8ebd]['y']+',',mapCode+='w:'+camBoxes[_0x1a8ebd]['w']+',',mapCode+='h:'+camBoxes[_0x1a8ebd]['h']+',',mapCode+=_0x48d61e(0x191)+camBoxes[_0x1a8ebd][_0x48d61e(0x211)],mapCode+='},';}mapCode+='];';}console[_0x48d61e(0x1c3)](mapCode);if(_0x2f98c0){let _0xd0a33a=prompt(_0x48d61e(0x1a2),fileName);!(_0xd0a33a==null||_0xd0a33a=='')&&download(_0xd0a33a+_0x48d61e(0x17a),mapCode);}};function _0x2e21(){var _0x3996a0=['moveTo','readAsText','interactive','drawing:\x20displayed','zoomIn','22jLWjxh','pointer',',\x20y:\x20','onmousedown','type','left','onchange','offsetLeft','5dDoIYt','biome:\x20','mouseup','addEventListener','.txt','contextmenu','onmouseup','object','charCodeAt','#000000','getContext','speed','slice','mapCode','none','clientX','apply','{x:','camBoxes','drawing:\x20hitboxes','className','remove','spawn','getElementById','msSaveOrOpenBlob','text','#002200','type:','onload','download','zoomer','19848UdpgNe','white','push','1491128JXbRrc','spawnPoint:{x:','\x20tile','text/csv','#ffffff','cont2','change','biome:','biomes','sort','Map\x20name\x20:\x20',',\x20h:\x20','onmousemove','navigator','180slwgyP','cursor','createElement','drawing:\x20camera','href','clearRect','#0000cc','innerText','file','innerHTML','imageSmoothingEnabled','clientY','64345cMLLBE','toggle','\x20selected','{}.constructor(\x22return\x20this\x22)(\x20)','onbeforeunload','length','appendChild','msSaveBlob','safe\x20eval','mapTester/index.html','strokeStyle','fillStyle','classList','color','biome','fillRect','replace','log','rect','removeChild','[wBUwxxMDffkEGExINYmBBCHGOOzATxExNyFTwxWyjkkvqKpjEJTRFKTQYVLNPzPBfBvAMX]','biome=','mapSizeH','57526KLGliD','spawnPoint={x:','name','backgroundColor','#5b6ee1','body','document','globalAlpha','innerWidth','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','style','block','beginPath','closePath','type\x20of\x20camera','innerHeight',',y:','width','mousedown','18QXYaDa','height','drawImage','importedCode=','crosshair','keyCode','x:\x20','files','onclick','value','split','spawnPoint','indexOf','mapSizeW','5537410CtvxhL','pageXOffset','getElementsByTagName','canvas','splice','URL','click','info','return\x20(function()\x20','2372090tPBTvI','pageYOffset','stroke','number','{map:[','offsetTop','black','[xpVdzMfeUMXMTPVXRgUdPOOZRDrssjjP]','top','event','display','fromCharCode','preventDefault','lineWidth','camBoxes=[','lineTo','create','keydown',',text:\x27','zoomOut','4097640UtMiXv'];_0x2e21=function(){return _0x3996a0;};return _0x2e21();}function newMapExport(_0x2a0a0c){var _0x123236=_0x4463fc;mapCode='',mapCode+=_0x123236(0x1f7);for(i=0x0;i<map[_0x123236(0x1b7)];i++){mapCode+=_0x123236(0x187)+map[i]['x']+',',mapCode+='y:'+map[i]['y']+',',mapCode+='w:'+map[i]['w']+',',mapCode+='h:'+map[i]['h']+',',mapCode+=_0x123236(0x191)+map[i][_0x123236(0x211)],map[i][_0x123236(0x18f)]!==undefined&&(mapCode+=_0x123236(0x205)+map[i][_0x123236(0x18f)]+'\x27'),mapCode+='},';}mapCode+='],',mapCode+=_0x123236(0x199)+spawnPoint['x']+_0x123236(0x1d9)+spawnPoint['y']+'},',mapCode+=_0x123236(0x19f)+biome+',',mapCode+='camBoxes:[';for(let _0x3d3c3e=0x0;_0x3d3c3e<camBoxes[_0x123236(0x1b7)];_0x3d3c3e++){mapCode+=_0x123236(0x187)+camBoxes[_0x3d3c3e]['x']+',',mapCode+='y:'+camBoxes[_0x3d3c3e]['y']+',',mapCode+='w:'+camBoxes[_0x3d3c3e]['w']+',',mapCode+='h:'+camBoxes[_0x3d3c3e]['h']+',',mapCode+='type:'+camBoxes[_0x3d3c3e][_0x123236(0x211)],mapCode+='},';}mapCode+='],',mapCode+='}',mapObject={'map':Object[_0x123236(0x203)](map),'camBoxes':Object[_0x123236(0x203)](camBoxes),'biome':biome,'spawnPoint':Object[_0x123236(0x203)](spawnPoint)},console[_0x123236(0x1c3)](mapCode);if(_0x2a0a0c){let _0x3a55e5=prompt(_0x123236(0x1a2),fileName);!(_0x3a55e5==null||_0x3a55e5=='')&&download(_0x3a55e5+_0x123236(0x17a),mapCode);}};id(_0x4463fc(0x1ae))[_0x4463fc(0x174)]=function(){var _0x236e75=_0x4463fc;let _0x5eae33=id(_0x236e75(0x1ae))[_0x236e75(0x1e3)][0x0];fileName=id(_0x236e75(0x1ae))[_0x236e75(0x1e3)][0x0][_0x236e75(0x1cb)][_0x236e75(0x1e6)]('.')[0x0];let _0x8d6bfc=new FileReader();_0x8d6bfc[_0x236e75(0x192)]=function(_0x267e74){var _0x4b0643=_0x236e75;let _0x463e4e=_0x8d6bfc['result'],_0xed40bd=_0x4b0643(0x1df)+_0x463e4e;safeEval(eval(_0xed40bd)),resizeMap();},_0x8d6bfc[_0x236e75(0x209)](_0x5eae33);};function safeEval(_0x1c0f35){var _0x1dc46a=_0x4463fc;typeof _0x1c0f35===_0x1dc46a(0x17d)&&_0x1c0f35!==null&&(map=_0x1c0f35['map'],spawnPoint=_0x1c0f35[_0x1dc46a(0x1e7)],biome=_0x1c0f35[_0x1dc46a(0x1c0)],camBoxes=_0x1c0f35[_0x1dc46a(0x188)],console[_0x1dc46a(0x1c3)](_0x1dc46a(0x1ba)));}function resizeMap(){var _0x369524=_0x4463fc;let _0x1538dd=0x0,_0x55fb94=0x0;for(i=0x0;i<map[_0x369524(0x1b7)];i++){map[i]['x']+map[i]['w']>_0x1538dd&&(_0x1538dd=map[i]['x']+map[i]['w']),map[i]['y']+map[i]['h']>_0x55fb94&&(_0x55fb94=map[i]['y']+map[i]['h']);}console[_0x369524(0x1c3)](_0x1538dd+'\x20\x20'+_0x55fb94),cellQuantityW=_0x1538dd,id(_0x369524(0x1e9))['value']=_0x1538dd,cellQuantityH=_0x55fb94,id('mapSizeH')[_0x369524(0x1e5)]=_0x55fb94,changeMapSize();}function cameraMove(){var _0x51338a=_0x4463fc;camera['L']&&(sX-=camera['speed']);camera['R']&&(sX+=camera[_0x51338a(0x181)]);camera['T']&&(sY-=camera[_0x51338a(0x181)]);camera['B']&&(sY+=camera[_0x51338a(0x181)]);sX<0x0&&(sX=0x0);sX>canvas[_0x51338a(0x1da)]-window[_0x51338a(0x1d1)]&&(sX=canvas[_0x51338a(0x1da)]-window[_0x51338a(0x1d1)]);sY<0x0&&(sY=0x0);sY>canvas[_0x51338a(0x1dd)]-window[_0x51338a(0x1d8)]&&(sY=canvas[_0x51338a(0x1dd)]-window[_0x51338a(0x1d8)]);if(camera[_0x51338a(0x206)])id('zoomer')[_0x51338a(0x1e5)]--,zoomChange();else camera['zoomIn']&&(id('zoomer')['value']++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x26d74e=_0x4463fc;(camera['L']||camera['R']||camera['T']||camera['B']||camera[_0x26d74e(0x20c)]||camera[_0x26d74e(0x206)])&&cameraMove();c['globalAlpha']=0x1;for(_0x446252=0x0;_0x446252<map['length'];_0x446252++){if(map[_0x446252][_0x26d74e(0x211)]>0x33)for(j=0x0;j<map[_0x446252]['h'];j++){for(k=0x0;k<map[_0x446252]['w'];k++){c[_0x26d74e(0x1de)](id('sheet'),tiles[map[_0x446252][_0x26d74e(0x211)]][0x0]*0x10,tiles[map[_0x446252][_0x26d74e(0x211)]][0x1]*0x10,0x10,0x10,(map[_0x446252]['x']+k)*cellSize,(map[_0x446252]['y']+j)*cellSize,cellSize,cellSize);}}}for(_0x446252=0x0;_0x446252<map[_0x26d74e(0x1b7)];_0x446252++){if(map[_0x446252][_0x26d74e(0x211)]<=0x33)for(j=0x0;j<map[_0x446252]['h'];j++){for(k=0x0;k<map[_0x446252]['w'];k++){c['drawImage'](id('sheet'),tiles[map[_0x446252]['type']][0x0]*0x10,tiles[map[_0x446252]['type']][0x1]*0x10,0x10,0x10,(map[_0x446252]['x']+k)*cellSize,(map[_0x446252]['y']+j)*cellSize,cellSize,cellSize);}}}for(var _0x446252=0x0;_0x446252<hitBoxes[_0x26d74e(0x1b7)];_0x446252++){c['fillStyle']=_0x26d74e(0x17f),c[_0x26d74e(0x1c1)](hitBoxes[_0x446252]['x']*cellSize,hitBoxes[_0x446252]['y']*cellSize,hitBoxes[_0x446252]['w']*cellSize,hitBoxes[_0x446252]['h']*cellSize);}c[_0x26d74e(0x1d0)]=0x1;for(var _0x446252=0x0;_0x446252<camBoxes['length'];_0x446252++){c[_0x26d74e(0x1bc)]=_0x26d74e(0x190),c[_0x26d74e(0x1d5)](),c['rect'](camBoxes[_0x446252]['x']*cellSize,camBoxes[_0x446252]['y']*cellSize,camBoxes[_0x446252]['w']*cellSize,camBoxes[_0x446252]['h']*cellSize),c[_0x26d74e(0x1d6)](),c[_0x26d74e(0x1f5)]();}c[_0x26d74e(0x1bd)]=_0x26d74e(0x1cd),c['fillRect'](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x352227=_0x4463fc;c[_0x352227(0x200)]=0.1,c['strokeStyle']='#ffffff';for(var _0x5ca515=0x0;_0x5ca515<canvas['width'];_0x5ca515+=cellSize){c[_0x352227(0x1d5)](),c[_0x352227(0x208)](_0x5ca515,0x0),c[_0x352227(0x202)](_0x5ca515,canvas[_0x352227(0x1dd)]),c[_0x352227(0x1d6)](),c[_0x352227(0x1f5)]();}for(var _0x5ca515=0x0;_0x5ca515<canvas[_0x352227(0x1dd)];_0x5ca515+=cellSize){c['beginPath'](),c['moveTo'](0x0,_0x5ca515),c[_0x352227(0x202)](canvas['width'],_0x5ca515),c['closePath'](),c[_0x352227(0x1f5)]();}c[_0x352227(0x200)]=0x1;}id('spawn')['onclick']=function(){var _0x12d6b1=_0x4463fc;id(_0x12d6b1(0x18c))[_0x12d6b1(0x1d3)][_0x12d6b1(0x1bf)]=_0x12d6b1(0x1ac),id(_0x12d6b1(0x1ed))[_0x12d6b1(0x1d3)][_0x12d6b1(0x1a7)]=_0x12d6b1(0x20e),canvas['onclick']=function _0x2d3fb2(){var _0x13b9b5=_0x12d6b1;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x13b9b5(0x18c))[_0x13b9b5(0x1d3)][_0x13b9b5(0x1bf)]=_0x13b9b5(0x17f),id('canvas')['style']['cursor']=_0x13b9b5(0x1e0),canvas[_0x13b9b5(0x1e4)]=null;};};function infoText(){var _0x268c32=_0x4463fc,_0x459c09=square['x']/cellSize,_0x4cc572=square['y']/cellSize;_0x459c09>-0x1&&_0x459c09<0x1&&(_0x459c09=0x0),_0x4cc572>-0x1&&_0x4cc572<0x1&&(_0x4cc572=0x0),id('info')[_0x268c32(0x1af)]=_0x268c32(0x1e2)+_0x459c09+_0x268c32(0x20f)+_0x4cc572+'<br>\x20w:\x20'+square['w']/cellSize+_0x268c32(0x1a3)+square['h']/cellSize;}var mouseDown=![];canvas[_0x4463fc(0x179)](_0x4463fc(0x1db),function(_0x1fa5d1){var _0x43580a=_0x4463fc,_0x2ff4f9=window[_0x43580a(0x1eb)]-canvas['offsetLeft'],_0x4acc4b=window[_0x43580a(0x1f4)]-canvas[_0x43580a(0x1f8)];id(_0x43580a(0x1f1))[_0x43580a(0x1d3)][_0x43580a(0x1fd)]=_0x43580a(0x1d4),id('info')[_0x43580a(0x1d3)][_0x43580a(0x173)]=_0x1fa5d1[_0x43580a(0x185)]+0x1e+'px',id(_0x43580a(0x1f1))['style'][_0x43580a(0x1fb)]=_0x1fa5d1['clientY']-0x1e+'px',infoText(),!mouseDown&&(square['x']=round(_0x1fa5d1[_0x43580a(0x185)]+_0x2ff4f9)*cellSize,square['y']=round(_0x1fa5d1[_0x43580a(0x1b1)]+_0x4acc4b)*cellSize,square['w']=0x0,square['h']=0x0,mouseDown=!![]);}),canvas[_0x4463fc(0x179)]('mousemove',function(_0x32d168){var _0x2e7923=_0x4463fc,_0x2ef597=window[_0x2e7923(0x1eb)]-canvas['offsetLeft'],_0x486d3c=window[_0x2e7923(0x1f4)]-canvas[_0x2e7923(0x1f8)];mouseDown&&(id(_0x2e7923(0x1f1))[_0x2e7923(0x1d3)]['display']=_0x2e7923(0x1d4),id(_0x2e7923(0x1f1))[_0x2e7923(0x1d3)][_0x2e7923(0x173)]=_0x32d168[_0x2e7923(0x185)]+0x1e+'px',id(_0x2e7923(0x1f1))[_0x2e7923(0x1d3)][_0x2e7923(0x1fb)]=_0x32d168[_0x2e7923(0x1b1)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x32d168['clientX']+_0x2ef597-square['x'])*cellSize,square['h']=round(_0x32d168[_0x2e7923(0x1b1)]+_0x486d3c-square['y'])*cellSize);}),canvas[_0x4463fc(0x179)](_0x4463fc(0x178),function(){var _0x285009=_0x4463fc;id('info')[_0x285009(0x1d3)][_0x285009(0x1fd)]=_0x285009(0x184),mouseDown=![],roundSquare();if(square['w']&&square['h']){square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x285009(0x197)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x493a31=prompt(_0x285009(0x1d2),'');hitBoxes[hitBoxes['length']-0x1][_0x285009(0x18f)]=_0x493a31;}}else{if(hitBoxToggle==0x0){map[_0x285009(0x197)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x493a31=prompt(_0x285009(0x1d2),'');map[map[_0x285009(0x1b7)]-0x1][_0x285009(0x18f)]=_0x493a31;}}else{if(hitBoxToggle==0x2){var _0x4fe1db=parseInt(prompt(_0x285009(0x1d7),''));camBoxes[_0x285009(0x197)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x4fe1db});}}}}}),id(_0x4463fc(0x194))[_0x4463fc(0x179)](_0x4463fc(0x19e),zoomChange);function zoomChange(){var _0xa3da5d=_0x4463fc;cellSize=parseInt(id(_0xa3da5d(0x194))[_0xa3da5d(0x1e5)]),changeMapSize();}function changeMapSize(){var _0x4aec72=_0x4463fc;canvas[_0x4aec72(0x1da)]=cellQuantityW*cellSize,canvas[_0x4aec72(0x1dd)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function round(_0x314a4f){var _0x2a8c1e=parseInt(_0x314a4f),_0xced687=_0x2a8c1e%cellSize;if(_0xced687!==0x0){if(_0xced687>cellSize/0x2)_0x2a8c1e=_0x2a8c1e-_0xced687+cellSize;else _0x2a8c1e=_0x2a8c1e-_0xced687;}return _0x2a8c1e/cellSize>0x0&&_0x2a8c1e/cellSize<0x1?0x0:_0x2a8c1e/cellSize;}function enableBeforeUnload(){var _0x221aed=_0x4463fc;window[_0x221aed(0x1b6)]=function(_0x2c151f){return'Discard\x20changes?';};}function disableBeforeUnload(){var _0x100ff8=_0x4463fc;window[_0x100ff8(0x1b6)]=null;}enableBeforeUnload(),document[_0x4463fc(0x179)](_0x4463fc(0x17b),function(_0x4832bd){var _0x85f383=_0x4463fc,_0x237d4d=window[_0x85f383(0x1eb)]-canvas[_0x85f383(0x175)],_0x2208ab=window[_0x85f383(0x1f4)]-canvas[_0x85f383(0x1f8)];_0x4832bd[_0x85f383(0x1ff)]();var _0x6181c7=_0x4832bd[_0x85f383(0x185)]+_0x237d4d,_0x44383c=_0x4832bd[_0x85f383(0x1b1)]+_0x2208ab;removeElements(map,_0x6181c7,_0x44383c),removeElements(hitBoxes,_0x6181c7,_0x44383c),removeElements(camBoxes,_0x6181c7,_0x44383c);});function removeElements(_0x1e139a,_0x5f27eb,_0x444fa0){var _0x5242ce=_0x4463fc,_0x587805=[];for(i=0x0;i<_0x1e139a[_0x5242ce(0x1b7)];i++){_0x5f27eb>_0x1e139a[i]['x']*cellSize&&_0x5f27eb<_0x1e139a[i]['x']*cellSize+_0x1e139a[i]['w']*cellSize&&(_0x444fa0>_0x1e139a[i]['y']*cellSize&&_0x444fa0<_0x1e139a[i]['y']*cellSize+_0x1e139a[i]['h']*cellSize&&_0x587805[_0x5242ce(0x197)](i));}_0x587805[_0x5242ce(0x1a1)](function(_0x1b0b77,_0x4ebefd){return _0x4ebefd-_0x1b0b77;});for(i=0x0;i<_0x587805[_0x5242ce(0x1b7)];i++){_0x1e139a[_0x5242ce(0x1ee)](_0x587805[i],0x1);}}function download(_0x21a2f8,_0x4357ec){var _0x327ec2=_0x4463fc,_0x5aba08=new Blob([_0x4357ec],{'type':_0x327ec2(0x19b)});if(window[_0x327ec2(0x1a5)][_0x327ec2(0x18e)])window[_0x327ec2(0x1a5)][_0x327ec2(0x1b9)](_0x5aba08,_0x21a2f8);else{var _0x43f3f1=window[_0x327ec2(0x1cf)]['createElement']('a');_0x43f3f1[_0x327ec2(0x1aa)]=window[_0x327ec2(0x1ef)]['createObjectURL'](_0x5aba08),_0x43f3f1[_0x327ec2(0x193)]=_0x21a2f8,document[_0x327ec2(0x1ce)][_0x327ec2(0x1b8)](_0x43f3f1),_0x43f3f1[_0x327ec2(0x1f0)](),document['body'][_0x327ec2(0x1c5)](_0x43f3f1);}}window[_0x4463fc(0x179)](_0x4463fc(0x204),function(_0x5dbfce){var _0x4f9d5b=_0x4463fc,_0x1c4656=_0x5dbfce['keyCode'];switch(_0x1c4656){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x4f9d5b(0x20c)]=!![];break;case 0x51:camera['zoomOut']=!![];break;}}),window[_0x4463fc(0x179)]('keyup',function(_0x4f1c15){var _0x49356e=_0x4463fc,_0x4d9563=_0x4f1c15[_0x49356e(0x1e1)];switch(_0x4d9563){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x49356e(0x20c)]=![];break;case 0x51:camera[_0x49356e(0x206)]=![];break;case 0x52:toggleBoxes();break;}});