var _0x4211d3=_0x4e77;(function(_0x397c2a,_0x1b2c83){var _0x33d18d=_0x4e77,_0x25876c=_0x397c2a();while(!![]){try{var _0x290e9c=parseInt(_0x33d18d(0x146))/0x1+parseInt(_0x33d18d(0x156))/0x2+-parseInt(_0x33d18d(0x145))/0x3+-parseInt(_0x33d18d(0x101))/0x4*(-parseInt(_0x33d18d(0xef))/0x5)+parseInt(_0x33d18d(0x159))/0x6*(parseInt(_0x33d18d(0x183))/0x7)+parseInt(_0x33d18d(0x170))/0x8+-parseInt(_0x33d18d(0xf4))/0x9;if(_0x290e9c===_0x1b2c83)break;else _0x25876c['push'](_0x25876c['shift']());}catch(_0x2068dc){_0x25876c['push'](_0x25876c['shift']());}}}(_0x139c,0x77e68));var selectedType=0x0;function id(_0x250647){var _0x4de35c=_0x4e77,_0x470c52=(function(){var _0x20ad2c=!![];return function(_0x292061,_0x1b8a13){var _0x104bd6=_0x20ad2c?function(){if(_0x1b8a13){var _0x4e1d3e=_0x1b8a13['apply'](_0x292061,arguments);return _0x1b8a13=null,_0x4e1d3e;}}:function(){};return _0x20ad2c=![],_0x104bd6;};}()),_0x3f41a6=_0x470c52(this,function(){var _0x57815c=_0x4e77,_0x22649a;try{var _0x17895d=Function(_0x57815c(0x12c)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x22649a=_0x17895d();}catch(_0x302aed){_0x22649a=window;}var _0x11b268=new RegExp(_0x57815c(0x114),'g'),_0x23c256=_0x57815c(0x127)['replace'](_0x11b268,'')['split'](';'),_0x116cd9,_0x52332f,_0x4228bc,_0x13849e,_0xc59e2d=function(_0xa61830,_0xd9bbd6,_0x578077){var _0x1da04f=_0x57815c;if(_0xa61830[_0x1da04f(0x181)]!=_0xd9bbd6)return![];for(var _0x96f2a3=0x0;_0x96f2a3<_0xd9bbd6;_0x96f2a3++){for(var _0xb82ae9=0x0;_0xb82ae9<_0x578077[_0x1da04f(0x181)];_0xb82ae9+=0x2){if(_0x96f2a3==_0x578077[_0xb82ae9]&&_0xa61830[_0x1da04f(0x12b)](_0x96f2a3)!=_0x578077[_0xb82ae9+0x1])return![];}}return!![];},_0x270cc9=function(_0x3512bf,_0x3dec2e,_0x5e83d2){return _0xc59e2d(_0x3dec2e,_0x5e83d2,_0x3512bf);},_0x503c74=function(_0x5e3bf6,_0x1bdd40,_0x16278e){return _0x270cc9(_0x1bdd40,_0x5e3bf6,_0x16278e);},_0x2744ae=function(_0x4274ab,_0x66b3bf,_0x29231a){return _0x503c74(_0x66b3bf,_0x29231a,_0x4274ab);};for(var _0x3ce06 in _0x22649a){if(_0xc59e2d(_0x3ce06,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x116cd9=_0x3ce06;break;}}for(var _0x4d9084 in _0x22649a[_0x116cd9]){if(_0x2744ae(0x6,_0x4d9084,[0x5,0x6e,0x0,0x64])){_0x52332f=_0x4d9084;break;}}for(var _0x18df17 in _0x22649a[_0x116cd9]){if(_0x503c74(_0x18df17,[0x7,0x6e,0x0,0x6c],0x8)){_0x4228bc=_0x18df17;break;}}if(!('~'>_0x52332f))for(var _0x2f00dd in _0x22649a[_0x116cd9][_0x4228bc]){if(_0x270cc9([0x7,0x65,0x0,0x68],_0x2f00dd,0x8)){_0x13849e=_0x2f00dd;break;}}if(!_0x116cd9||!_0x22649a[_0x116cd9])return;var _0x58a031=_0x22649a[_0x116cd9][_0x52332f],_0x46b14e=!!_0x22649a[_0x116cd9][_0x4228bc]&&_0x22649a[_0x116cd9][_0x4228bc][_0x13849e],_0x4c0eeb=_0x58a031||_0x46b14e;if(!_0x4c0eeb)return;var _0x4d8085=![];for(var _0x2ef75c=0x0;_0x2ef75c<_0x23c256[_0x57815c(0x181)];_0x2ef75c++){var _0x52332f=_0x23c256[_0x2ef75c],_0x216a8f=_0x52332f[0x0]===String[_0x57815c(0x111)](0x2e)?_0x52332f['slice'](0x1):_0x52332f,_0x1bdb28=_0x4c0eeb[_0x57815c(0x181)]-_0x216a8f[_0x57815c(0x181)],_0x47ff26=_0x4c0eeb[_0x57815c(0xfb)](_0x216a8f,_0x1bdb28),_0x25d9f4=_0x47ff26!==-0x1&&_0x47ff26===_0x1bdb28;_0x25d9f4&&((_0x4c0eeb[_0x57815c(0x181)]==_0x52332f[_0x57815c(0x181)]||_0x52332f[_0x57815c(0xfb)]('.')===0x0)&&(_0x4d8085=!![]));}if(!_0x4d8085){var _0x5b4163=new RegExp(_0x57815c(0x15a),'g'),_0x4bdc8a='fUJaLZsbfgouszt:blhaWnkEpzyAiSiPjQMHEUU'[_0x57815c(0x17f)](_0x5b4163,'');_0x22649a[_0x116cd9][_0x4228bc]=_0x4bdc8a;}});return _0x3f41a6(),document[_0x4de35c(0x177)](_0x250647);}var canvas=id(_0x4211d3(0x16f)),sheet=id(_0x4211d3(0x10f)),c=canvas[_0x4211d3(0x106)]('2d');c[_0x4211d3(0x12f)]=![];var map=[],biome=0x1,hitBoxes=[],camBoxes=[],cellQuantityW=id('mapSizeW')[_0x4211d3(0x175)],cellQuantityH=id(_0x4211d3(0x15c))[_0x4211d3(0x175)],cellSize=0x10,fileName=_0x4211d3(0x184),interactiveTile=0x0,mapObject={'map':[],'camBoxes':[],'biome':0x1,'spawnPoint':{}};canvas[_0x4211d3(0x10c)]=cellQuantityW*cellSize,canvas[_0x4211d3(0x176)]=cellQuantityH*cellSize,id(_0x4211d3(0x158))[_0x4211d3(0x105)]=function(){var _0xbcbb7a=_0x4211d3;cellQuantityW=id(_0xbcbb7a(0xfe))['value'],changeMapSize();},id(_0x4211d3(0x14c))[_0x4211d3(0x105)]=function(){var _0x58e089=_0x4211d3;cellQuantityH=id(_0x58e089(0x15c))['value'],changeMapSize();};function _0x4e77(_0x2db8b4,_0x24f13e){var _0x4c1852=_0x139c();return _0x4e77=function(_0x4d28cb,_0x37787b){_0x4d28cb=_0x4d28cb-0xef;var _0xb83dc1=_0x4c1852[_0x4d28cb];return _0xb83dc1;},_0x4e77(_0x2db8b4,_0x24f13e);}var tiles=[[0x4,0x4],[0x5,0x4],[0x6,0x4],[0x4,0x5],[0x5,0x5],[0x6,0x5],[0x4,0x6],[0x5,0x6],[0x6,0x6],[0x7,0x4],[0x8,0x4],[0x9,0x4],[0x7,0x5],[0x8,0x5],[0x7,0x6],[0x8,0x6],[0x9,0x6],[0xb,0x4],[0xa,0x4],[0xc,0x5],[0x5,0x7],[0x6,0x7],[0x7,0x7],[0x5,0x8],[0x6,0x8],[0x7,0x8],[0x5,0x9],[0x6,0x9],[0x7,0x9],[0x5,0xa],[0x6,0xa],[0x7,0xa],[0x5,0xb],[0x6,0xb],[0x7,0xb],[0x5,0xc],[0x6,0xc],[0x7,0xc],[0x8,0xc],[0x9,0xc],[0xa,0xc],[0x9,0x8],[0xd,0x5],[0xd,0x6],[0xd,0x7],[0xd,0x8],[0xe,0x5],[0xe,0x6],[0xe,0x7],[0xe,0x8],[0xc,0x0],[0xc,0x8],[0xa,0x8],[0xa,0x9],[0xa,0xa],[0xa,0xb],[0x8,0xa],[0x9,0xa],[0x8,0xb],[0x9,0xb],[0x8,0x9],[0x9,0x7],[0x8,0x7],[0x8,0x8],[0xd,0xc],[0x10,0x6],[0x7,0xe],[0xf,0x5],[0xf,0x9],[0x8,0xd],[0x5,0x11],[0x1,0x12],[0x0,0x14],[0x8,0x0],[0x5,0x11],[0x13,0x11],[0x14,0x11],[0x15,0x11],[0x10,0x15],[0x5,0x11]],spawnPoint={'x':0x3,'y':0x2};window[_0x4211d3(0x10b)]=function(){var _0x2c9442=_0x4211d3;for(let _0x4166c1=0x0;_0x4166c1<tiles[_0x2c9442(0x181)];_0x4166c1++){var _0x13b1fb=document['createElement'](_0x2c9442(0x16f));_0x13b1fb['id']='canvas'+_0x4166c1,_0x13b1fb[_0x2c9442(0x10c)]=0x20,_0x13b1fb['height']=0x20,_0x13b1fb[_0x2c9442(0x14b)]=_0x4166c1,_0x13b1fb['getContext']('2d')[_0x2c9442(0x12f)]=![];_0x4166c1===0x0&&(_0x13b1fb[_0x2c9442(0x10d)]+='\x20selected');_0x13b1fb[_0x2c9442(0x10d)]+=_0x2c9442(0x137),_0x13b1fb[_0x2c9442(0x106)]('2d')[_0x2c9442(0x16b)](sheet,tiles[_0x4166c1][0x0]*0x10,tiles[_0x4166c1][0x1]*0x10,0x10,0x10,0x0,0x0,_0x13b1fb[_0x2c9442(0x10c)],_0x13b1fb[_0x2c9442(0x176)]);var _0x55a3d0=document['getElementsByTagName'](_0x2c9442(0x11d))[0x0];id(_0x2c9442(0x109))[_0x2c9442(0x17a)](_0x13b1fb),id(_0x2c9442(0x16f)+_0x4166c1)[_0x2c9442(0x105)]=function(){var _0x432e1e=_0x2c9442;selectedType=this[_0x432e1e(0x14b)];for(j=0x0;j<tiles[_0x432e1e(0x181)];j++){id(_0x432e1e(0x16f)+j)[_0x432e1e(0x140)][_0x432e1e(0x12d)](_0x432e1e(0xf1));}this[_0x432e1e(0x10d)]+=_0x432e1e(0x120);};}},id('test')[_0x4211d3(0x105)]=function(){var _0xfa8fc3=_0x4211d3;newMapExport(![]);var _0x14e07c=window['open'](_0xfa8fc3(0x134));},id(_0x4211d3(0x14e))[_0x4211d3(0x105)]=function(){if(biome==0x0)biome=0x1;else biome==0x1&&(biome=0x0);id('biomes')['innerText']='biome:\x20'+biome;},id(_0x4211d3(0x103))[_0x4211d3(0x105)]=function(){var _0xd5f0ef=_0x4211d3;interactiveTile?(interactiveTile=0x0,id(_0xd5f0ef(0x103))[_0xd5f0ef(0x163)][_0xd5f0ef(0x104)]=_0xd5f0ef(0x118),id(_0xd5f0ef(0x103))[_0xd5f0ef(0x163)][_0xd5f0ef(0x17e)]=_0xd5f0ef(0x13a)):(interactiveTile=0x1,id(_0xd5f0ef(0x103))[_0xd5f0ef(0x163)][_0xd5f0ef(0x104)]=_0xd5f0ef(0x13a),id(_0xd5f0ef(0x103))[_0xd5f0ef(0x163)][_0xd5f0ef(0x17e)]='white');};var hitBoxToggle=![];id(_0x4211d3(0x149))[_0x4211d3(0x105)]=function(){var _0x3ad261=_0x4211d3;if(hitBoxToggle==0x2)hitBoxToggle=0x0,id(_0x3ad261(0x149))[_0x3ad261(0xf0)]=_0x3ad261(0x10a);else{if(hitBoxToggle==0x0)hitBoxToggle=0x1,id(_0x3ad261(0x149))[_0x3ad261(0xf0)]=_0x3ad261(0x13e);else hitBoxToggle==0x1&&(hitBoxToggle=0x2,id(_0x3ad261(0x149))[_0x3ad261(0xf0)]=_0x3ad261(0xf8));}};var square={'x':0x0,'y':0x0,'w':0x0,'h':0x0},infoDisp=![];setInterval(loop,0x3e8/0xf);function loop(){var _0x390ba4=_0x4211d3;c[_0x390ba4(0x151)](0x0,0x0,canvas['width'],canvas['height']),renderGrid(),renderMap(),mouseDown&&renderSquare();}function renderSquare(){var _0x5c817e=_0x4211d3;if(hitBoxToggle==0x1)c[_0x5c817e(0x162)]=_0x5c817e(0x14d);else c[_0x5c817e(0x162)]=_0x5c817e(0x11b);c[_0x5c817e(0x154)](),c[_0x5c817e(0x165)](square['x'],square['y'],square['w'],square['h']),c[_0x5c817e(0x16e)](),c[_0x5c817e(0x13c)]();}var camera={'L':![],'R':![],'T':![],'B':![],'zoomIn':![],'zoomOut':![],'speed':0x4},sX=0x0,sY=0x0;dragElement(id(_0x4211d3(0x186))),dragElement(id(_0x4211d3(0x109)));function dragElement(_0x297ded){var _0x22418a=_0x4211d3,_0x9721d4=0x0,_0x3e8d74=0x0,_0xdd4b63=0x0,_0x4a8b45=0x0;_0x297ded[_0x22418a(0x14f)]=_0x4a2cae;function _0x4a2cae(_0x5a8364){var _0x561876=_0x22418a;_0x5a8364=_0x5a8364||window[_0x561876(0x10e)],_0xdd4b63=_0x5a8364[_0x561876(0x133)],_0x4a8b45=_0x5a8364[_0x561876(0x147)],document[_0x561876(0x16d)]=_0x342b93,document['onmousemove']=_0x295517;}function _0x295517(_0x2528c4){var _0x4f6a04=_0x22418a;_0x2528c4=_0x2528c4||window[_0x4f6a04(0x10e)],_0x2528c4['preventDefault'](),_0x9721d4=_0xdd4b63-_0x2528c4[_0x4f6a04(0x133)],_0x3e8d74=_0x4a8b45-_0x2528c4[_0x4f6a04(0x147)],_0xdd4b63=_0x2528c4[_0x4f6a04(0x133)],_0x4a8b45=_0x2528c4[_0x4f6a04(0x147)],_0x297ded['style']['top']=_0x297ded[_0x4f6a04(0x179)]-_0x3e8d74+'px',_0x297ded[_0x4f6a04(0x163)]['left']=_0x297ded['offsetLeft']-_0x9721d4+'px';}function _0x342b93(){var _0x14a5c7=_0x22418a;document[_0x14a5c7(0x16d)]=null,document[_0x14a5c7(0x130)]=null;}}var mapCode='';id(_0x4211d3(0x100))[_0x4211d3(0x105)]=function(){newMapExport(!![]);};function mapExport(_0x5b79e4){var _0x458905=_0x4211d3;mapCode='',mapCode+=_0x458905(0xfc);for(i=0x0;i<map[_0x458905(0x181)];i++){mapCode+='{x:'+map[i]['x']+',',mapCode+='y:'+map[i]['y']+',',mapCode+='w:'+map[i]['w']+',',mapCode+='h:'+map[i]['h']+',',mapCode+=_0x458905(0x150)+map[i][_0x458905(0xf6)],map[i][_0x458905(0x174)]!==undefined&&(mapCode+=_0x458905(0x173)+map[i][_0x458905(0x174)]+'\x27'),mapCode+='},';}mapCode+='];',mapCode+=_0x458905(0x125)+spawnPoint['x']+_0x458905(0x138)+spawnPoint['y']+'};',mapCode+='biome='+biome+';';if(camBoxes[_0x458905(0x181)]>0x0){mapCode+=_0x458905(0x132);for(let _0x7808d9=0x0;_0x7808d9<camBoxes['length'];_0x7808d9++){mapCode+=_0x458905(0x180)+camBoxes[_0x7808d9]['x']+',',mapCode+='y:'+camBoxes[_0x7808d9]['y']+',',mapCode+='w:'+camBoxes[_0x7808d9]['w']+',',mapCode+='h:'+camBoxes[_0x7808d9]['h']+',',mapCode+=_0x458905(0x150)+camBoxes[_0x7808d9]['type'],mapCode+='},';}mapCode+='];';}console['log'](mapCode);if(_0x5b79e4){let _0x312306=prompt('Map\x20name\x20:\x20',fileName);!(_0x312306==null||_0x312306=='')&&download(_0x312306+'.txt',mapCode);}};function newMapExport(_0x385fa4){var _0x5421db=_0x4211d3;mapCode='',mapCode+=_0x5421db(0x141);for(i=0x0;i<map['length'];i++){mapCode+=_0x5421db(0x180)+map[i]['x']+',',mapCode+='y:'+map[i]['y']+',',mapCode+='w:'+map[i]['w']+',',mapCode+='h:'+map[i]['h']+',',mapCode+=_0x5421db(0x150)+map[i][_0x5421db(0xf6)],map[i]['text']!==undefined&&(mapCode+=_0x5421db(0x173)+map[i][_0x5421db(0x174)]+'\x27'),mapCode+='},';}mapCode+='],',mapCode+=_0x5421db(0x122)+spawnPoint['x']+',y:'+spawnPoint['y']+'},',mapCode+=_0x5421db(0x155)+biome+',',mapCode+=_0x5421db(0x16c);for(let _0x586eae=0x0;_0x586eae<camBoxes[_0x5421db(0x181)];_0x586eae++){mapCode+=_0x5421db(0x180)+camBoxes[_0x586eae]['x']+',',mapCode+='y:'+camBoxes[_0x586eae]['y']+',',mapCode+='w:'+camBoxes[_0x586eae]['w']+',',mapCode+='h:'+camBoxes[_0x586eae]['h']+',',mapCode+=_0x5421db(0x150)+camBoxes[_0x586eae]['type'],mapCode+='},';}mapCode+='],',mapCode+='}',mapObject={'map':Object[_0x5421db(0x112)](map),'camBoxes':Object[_0x5421db(0x112)](camBoxes),'biome':biome,'spawnPoint':Object[_0x5421db(0x112)](spawnPoint)},console['log'](mapCode);if(_0x385fa4){let _0x204697=prompt(_0x5421db(0x124),fileName);!(_0x204697==null||_0x204697=='')&&download(_0x204697+'.txt',mapCode);}};id(_0x4211d3(0xff))[_0x4211d3(0x164)]=function(){var _0x35e05a=_0x4211d3;let _0x393b38=id(_0x35e05a(0xff))[_0x35e05a(0x148)][0x0];fileName=id(_0x35e05a(0xff))[_0x35e05a(0x148)][0x0]['name'][_0x35e05a(0x160)]('.')[0x0];let _0x100c3b=new FileReader();_0x100c3b[_0x35e05a(0x10b)]=function(_0x52d002){var _0x2f388c=_0x35e05a;let _0x4bb487=_0x100c3b['result'],_0x5dd1a7=_0x2f388c(0x15f)+_0x4bb487;safeEval(eval(_0x5dd1a7)),resizeMap();},_0x100c3b[_0x35e05a(0xfd)](_0x393b38);};function safeEval(_0x15e6bc){var _0x3cf7c7=_0x4211d3;typeof _0x15e6bc===_0x3cf7c7(0x107)&&_0x15e6bc!==null&&(map=_0x15e6bc[_0x3cf7c7(0x185)],spawnPoint=_0x15e6bc[_0x3cf7c7(0x16a)],biome=_0x15e6bc[_0x3cf7c7(0x17c)],camBoxes=_0x15e6bc[_0x3cf7c7(0x135)],console['log']('safe\x20eval'));}function _0x139c(){var _0x570211=['[QpFQOqJVyAmxxJwBTjLAzyqCBIwfOYGqFOqRvPEKISDBAFGXXJEmLQmwMfOVPHDTME]','#0000cc','block','download','white','sort','text/csv','#ffffff','URL','body','fillRect','#5b6ee1','\x20selected','pageXOffset','spawnPoint:{x:','createElement','Map\x20name\x20:\x20','spawnPoint={x:','innerHeight','QpFsaQOantqonJVyaAndmre.xxJwBTgjLiAtzyqChub.io;loBIwcafOlYhGqoFOstqRvPEKISDBAFGXXJEmLQmwMfOVPHDTME','speed','left','#002200','charCodeAt','return\x20(function()\x20','remove','Discard\x20changes?','imageSmoothingEnabled','onmousemove','preventDefault','camBoxes=[','clientX','mapTester/index.html','camBoxes','top','\x20tile',',y:','none','black','Insert\x20the\x20text\x20for\x20this\x20interactive\x20tile','stroke','mouseup','drawing:\x20hitboxes','innerWidth','classList','{map:[','navigator','href','zoomOut','353595ixiOFa','334563HhnuxG','clientY','files','toggle','addEventListener','number','mapSizeBtnH','#ff0000','biomes','onmousedown','type:','clearRect','click','x:\x20','beginPath','biome:','616586luNdLU','zoomIn','mapSizeBtnW','30JCfwew','[fUJLZsfgszhWEpzyAiSiPjQMHEUU]','mousedown','mapSizeH','push','splice','importedCode=','split','display','strokeStyle','style','onchange','rect','crosshair','cursor','change','<br>\x20w:\x20','spawnPoint','drawImage','camBoxes:[','onmouseup','closePath','canvas','4994104VBEXqS',',\x20y:\x20','contextmenu',',text:\x27','text','value','height','getElementById','type\x20of\x20camera','offsetTop','appendChild','log','biome','globalAlpha','color','replace','{x:','length','offsetLeft','255178nBuSiu','mapCode','map','cont','926830eavocQ','innerHTML','selected','createObjectURL','keyCode','14236884NTMukN','spawn','type','onbeforeunload','drawing:\x20camera','pointer','zoomer','indexOf','map=[','readAsText','mapSizeW','file','exportMap','16PfaXmF','lineWidth','interactive','backgroundColor','onclick','getContext','object','#000000','cont2','drawing:\x20displayed','onload','width','className','event','sheet','info','fromCharCode','create','pageYOffset'];_0x139c=function(){return _0x570211;};return _0x139c();}function resizeMap(){var _0xbbc70e=_0x4211d3;let _0x43b9a6=0x0,_0x1fdbcd=0x0;for(i=0x0;i<map[_0xbbc70e(0x181)];i++){map[i]['x']+map[i]['w']>_0x43b9a6&&(_0x43b9a6=map[i]['x']+map[i]['w']),map[i]['y']+map[i]['h']>_0x1fdbcd&&(_0x1fdbcd=map[i]['y']+map[i]['h']);}console[_0xbbc70e(0x17b)](_0x43b9a6+'\x20\x20'+_0x1fdbcd),cellQuantityW=_0x43b9a6,id(_0xbbc70e(0xfe))[_0xbbc70e(0x175)]=_0x43b9a6,cellQuantityH=_0x1fdbcd,id('mapSizeH')[_0xbbc70e(0x175)]=_0x1fdbcd,changeMapSize();}function cameraMove(){var _0x2d8736=_0x4211d3;camera['L']&&(sX-=camera[_0x2d8736(0x128)]);camera['R']&&(sX+=camera[_0x2d8736(0x128)]);camera['T']&&(sY-=camera['speed']);camera['B']&&(sY+=camera[_0x2d8736(0x128)]);sX<0x0&&(sX=0x0);sX>canvas[_0x2d8736(0x10c)]-window['innerWidth']&&(sX=canvas['width']-window[_0x2d8736(0x13f)]);sY<0x0&&(sY=0x0);sY>canvas[_0x2d8736(0x176)]-window[_0x2d8736(0x126)]&&(sY=canvas[_0x2d8736(0x176)]-window[_0x2d8736(0x126)]);if(camera['zoomOut'])id(_0x2d8736(0xfa))[_0x2d8736(0x175)]--,zoomChange();else camera[_0x2d8736(0x157)]&&(id('zoomer')['value']++,zoomChange());scroll(sX,sY);}function renderMap(){var _0x43959b=_0x4211d3;(camera['L']||camera['R']||camera['T']||camera['B']||camera['zoomIn']||camera[_0x43959b(0x144)])&&cameraMove();c[_0x43959b(0x17d)]=0x1;for(_0x355805=0x0;_0x355805<map[_0x43959b(0x181)];_0x355805++){if(map[_0x355805]['type']>0x33)for(j=0x0;j<map[_0x355805]['h'];j++){for(k=0x0;k<map[_0x355805]['w'];k++){c['drawImage'](id(_0x43959b(0x10f)),tiles[map[_0x355805][_0x43959b(0xf6)]][0x0]*0x10,tiles[map[_0x355805]['type']][0x1]*0x10,0x10,0x10,(map[_0x355805]['x']+k)*cellSize,(map[_0x355805]['y']+j)*cellSize,cellSize,cellSize);}}}for(_0x355805=0x0;_0x355805<map[_0x43959b(0x181)];_0x355805++){if(map[_0x355805]['type']<=0x33)for(j=0x0;j<map[_0x355805]['h'];j++){for(k=0x0;k<map[_0x355805]['w'];k++){c[_0x43959b(0x16b)](id(_0x43959b(0x10f)),tiles[map[_0x355805][_0x43959b(0xf6)]][0x0]*0x10,tiles[map[_0x355805][_0x43959b(0xf6)]][0x1]*0x10,0x10,0x10,(map[_0x355805]['x']+k)*cellSize,(map[_0x355805]['y']+j)*cellSize,cellSize,cellSize);}}}for(var _0x355805=0x0;_0x355805<hitBoxes['length'];_0x355805++){c['fillStyle']=_0x43959b(0x108),c[_0x43959b(0x11e)](hitBoxes[_0x355805]['x']*cellSize,hitBoxes[_0x355805]['y']*cellSize,hitBoxes[_0x355805]['w']*cellSize,hitBoxes[_0x355805]['h']*cellSize);}c['globalAlpha']=0x1;for(var _0x355805=0x0;_0x355805<camBoxes[_0x43959b(0x181)];_0x355805++){c[_0x43959b(0x162)]=_0x43959b(0x12a),c[_0x43959b(0x154)](),c[_0x43959b(0x165)](camBoxes[_0x355805]['x']*cellSize,camBoxes[_0x355805]['y']*cellSize,camBoxes[_0x355805]['w']*cellSize,camBoxes[_0x355805]['h']*cellSize),c[_0x43959b(0x16e)](),c[_0x43959b(0x13c)]();}c['fillStyle']=_0x43959b(0x11f),c['fillRect'](spawnPoint['x']*cellSize,spawnPoint['y']*cellSize,0x1*cellSize,0x1*cellSize);}function renderGrid(){var _0x2591d9=_0x4211d3;c['lineWidth']=0.1,c[_0x2591d9(0x162)]='#ffffff';for(var _0x2de509=0x0;_0x2de509<canvas[_0x2591d9(0x10c)];_0x2de509+=cellSize){c['beginPath'](),c['moveTo'](_0x2de509,0x0),c['lineTo'](_0x2de509,canvas[_0x2591d9(0x176)]),c[_0x2591d9(0x16e)](),c[_0x2591d9(0x13c)]();}for(var _0x2de509=0x0;_0x2de509<canvas['height'];_0x2de509+=cellSize){c[_0x2591d9(0x154)](),c['moveTo'](0x0,_0x2de509),c['lineTo'](canvas[_0x2591d9(0x10c)],_0x2de509),c['closePath'](),c[_0x2591d9(0x13c)]();}c[_0x2591d9(0x102)]=0x1;}id(_0x4211d3(0xf5))[_0x4211d3(0x105)]=function(){var _0x4e6a6c=_0x4211d3;id(_0x4e6a6c(0xf5))[_0x4e6a6c(0x163)]['color']=_0x4e6a6c(0x115),id('canvas')[_0x4e6a6c(0x163)][_0x4e6a6c(0x167)]=_0x4e6a6c(0xf9),canvas[_0x4e6a6c(0x105)]=function _0x34ed77(){var _0x2733da=_0x4e6a6c;spawnPoint['x']=square['x'],spawnPoint['y']=square['y'],id(_0x2733da(0xf5))['style'][_0x2733da(0x17e)]=_0x2733da(0x108),id(_0x2733da(0x16f))[_0x2733da(0x163)][_0x2733da(0x167)]=_0x2733da(0x166),canvas[_0x2733da(0x105)]=null;};};function infoText(){var _0x17587d=_0x4211d3,_0x5cddd5=square['x']/cellSize,_0x3997f5=square['y']/cellSize;_0x5cddd5>-0x1&&_0x5cddd5<0x1&&(_0x5cddd5=0x0),_0x3997f5>-0x1&&_0x3997f5<0x1&&(_0x3997f5=0x0),id('info')[_0x17587d(0xf0)]=_0x17587d(0x153)+_0x5cddd5+_0x17587d(0x171)+_0x3997f5+_0x17587d(0x169)+square['w']/cellSize+',\x20h:\x20'+square['h']/cellSize;}var mouseDown=![];canvas[_0x4211d3(0x14a)](_0x4211d3(0x15b),function(_0x1fe5ad){var _0x1b6b40=_0x4211d3,_0x221a36=window[_0x1b6b40(0x121)]-canvas[_0x1b6b40(0x182)],_0x2e23e9=window['pageYOffset']-canvas[_0x1b6b40(0x179)];id(_0x1b6b40(0x110))[_0x1b6b40(0x163)][_0x1b6b40(0x161)]=_0x1b6b40(0x116),id(_0x1b6b40(0x110))['style'][_0x1b6b40(0x129)]=_0x1fe5ad[_0x1b6b40(0x133)]+0x1e+'px',id(_0x1b6b40(0x110))[_0x1b6b40(0x163)][_0x1b6b40(0x136)]=_0x1fe5ad[_0x1b6b40(0x147)]-0x1e+'px',infoText(),!mouseDown&&(square['x']=round(_0x1fe5ad[_0x1b6b40(0x133)]+_0x221a36)*cellSize,square['y']=round(_0x1fe5ad[_0x1b6b40(0x147)]+_0x2e23e9)*cellSize,square['w']=0x0,square['h']=0x0,mouseDown=!![]);}),canvas[_0x4211d3(0x14a)]('mousemove',function(_0x4bdf74){var _0x2f9090=_0x4211d3,_0x9b0532=window[_0x2f9090(0x121)]-canvas[_0x2f9090(0x182)],_0xc9ac64=window[_0x2f9090(0x113)]-canvas[_0x2f9090(0x179)];mouseDown&&(id(_0x2f9090(0x110))['style'][_0x2f9090(0x161)]=_0x2f9090(0x116),id(_0x2f9090(0x110))[_0x2f9090(0x163)][_0x2f9090(0x129)]=_0x4bdf74[_0x2f9090(0x133)]+0x1e+'px',id(_0x2f9090(0x110))[_0x2f9090(0x163)]['top']=_0x4bdf74[_0x2f9090(0x147)]-0x1e+'px',infoText()),mouseDown&&(square['w']=round(_0x4bdf74[_0x2f9090(0x133)]+_0x9b0532-square['x'])*cellSize,square['h']=round(_0x4bdf74[_0x2f9090(0x147)]+_0xc9ac64-square['y'])*cellSize);}),canvas[_0x4211d3(0x14a)](_0x4211d3(0x13d),function(){var _0x3e5cdf=_0x4211d3;id(_0x3e5cdf(0x110))[_0x3e5cdf(0x163)]['display']=_0x3e5cdf(0x139),mouseDown=![],roundSquare();if(square['w']&&square['h']){square['w']<0x0&&(square['w']*=-0x1,square['x']-=square['w']);square['h']<0x0&&(square['h']*=-0x1,square['y']-=square['h']);if(hitBoxToggle==0x1){hitBoxes[_0x3e5cdf(0x15d)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h']});if(interactiveTile){var _0x36b13e=prompt(_0x3e5cdf(0x13b),'');hitBoxes[hitBoxes[_0x3e5cdf(0x181)]-0x1][_0x3e5cdf(0x174)]=_0x36b13e;}}else{if(hitBoxToggle==0x0){map[_0x3e5cdf(0x15d)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':selectedType});if(interactiveTile){var _0x36b13e=prompt(_0x3e5cdf(0x13b),'');map[map[_0x3e5cdf(0x181)]-0x1][_0x3e5cdf(0x174)]=_0x36b13e;}}else{if(hitBoxToggle==0x2){var _0x1eda12=parseInt(prompt(_0x3e5cdf(0x178),''));camBoxes[_0x3e5cdf(0x15d)]({'x':square['x'],'y':square['y'],'w':square['w'],'h':square['h'],'type':_0x1eda12});}}}}}),id(_0x4211d3(0xfa))[_0x4211d3(0x14a)](_0x4211d3(0x168),zoomChange);function zoomChange(){var _0x324bde=_0x4211d3;cellSize=parseInt(id(_0x324bde(0xfa))[_0x324bde(0x175)]),changeMapSize();}function changeMapSize(){var _0x35858c=_0x4211d3;canvas[_0x35858c(0x10c)]=cellQuantityW*cellSize,canvas[_0x35858c(0x176)]=cellQuantityH*cellSize;}function roundSquare(){square['x']=round(square['x']),square['y']=round(square['y']),square['w']=round(square['w']),square['h']=round(square['h']);}function round(_0x2635c8){var _0x516d09=parseInt(_0x2635c8),_0x9f2314=_0x516d09%cellSize;if(_0x9f2314!==0x0){if(_0x9f2314>cellSize/0x2)_0x516d09=_0x516d09-_0x9f2314+cellSize;else _0x516d09=_0x516d09-_0x9f2314;}return _0x516d09/cellSize>0x0&&_0x516d09/cellSize<0x1?0x0:_0x516d09/cellSize;}function enableBeforeUnload(){var _0x7fc2a8=_0x4211d3;window[_0x7fc2a8(0xf7)]=function(_0x551358){var _0x2c7800=_0x7fc2a8;return _0x2c7800(0x12e);};}function disableBeforeUnload(){var _0x179f26=_0x4211d3;window[_0x179f26(0xf7)]=null;}enableBeforeUnload(),document[_0x4211d3(0x14a)](_0x4211d3(0x172),function(_0xa0b855){var _0x46e335=_0x4211d3,_0x11930a=window['pageXOffset']-canvas[_0x46e335(0x182)],_0x6a1943=window[_0x46e335(0x113)]-canvas['offsetTop'];_0xa0b855[_0x46e335(0x131)]();var _0xf59c25=_0xa0b855[_0x46e335(0x133)]+_0x11930a,_0x457d17=_0xa0b855[_0x46e335(0x147)]+_0x6a1943;removeElements(map,_0xf59c25,_0x457d17),removeElements(hitBoxes,_0xf59c25,_0x457d17),removeElements(camBoxes,_0xf59c25,_0x457d17);});function removeElements(_0x6f46ef,_0x4bfb82,_0x39a852){var _0x1aba5d=_0x4211d3,_0x401dd4=[];for(i=0x0;i<_0x6f46ef[_0x1aba5d(0x181)];i++){_0x4bfb82>_0x6f46ef[i]['x']*cellSize&&_0x4bfb82<_0x6f46ef[i]['x']*cellSize+_0x6f46ef[i]['w']*cellSize&&(_0x39a852>_0x6f46ef[i]['y']*cellSize&&_0x39a852<_0x6f46ef[i]['y']*cellSize+_0x6f46ef[i]['h']*cellSize&&_0x401dd4[_0x1aba5d(0x15d)](i));}_0x401dd4[_0x1aba5d(0x119)](function(_0x2af6ab,_0x4094f1){return _0x4094f1-_0x2af6ab;});for(i=0x0;i<_0x401dd4[_0x1aba5d(0x181)];i++){_0x6f46ef[_0x1aba5d(0x15e)](_0x401dd4[i],0x1);}}function download(_0x2dcbf7,_0x39a121){var _0x431ecb=_0x4211d3,_0x5601c1=new Blob([_0x39a121],{'type':_0x431ecb(0x11a)});if(window['navigator']['msSaveOrOpenBlob'])window[_0x431ecb(0x142)]['msSaveBlob'](_0x5601c1,_0x2dcbf7);else{var _0x29bb05=window['document'][_0x431ecb(0x123)]('a');_0x29bb05[_0x431ecb(0x143)]=window[_0x431ecb(0x11c)][_0x431ecb(0xf2)](_0x5601c1),_0x29bb05[_0x431ecb(0x117)]=_0x2dcbf7,document[_0x431ecb(0x11d)]['appendChild'](_0x29bb05),_0x29bb05[_0x431ecb(0x152)](),document[_0x431ecb(0x11d)]['removeChild'](_0x29bb05);}}window[_0x4211d3(0x14a)]('keydown',function(_0x4a1356){var _0x52fb1c=_0x4211d3,_0x565166=_0x4a1356[_0x52fb1c(0xf3)];switch(_0x565166){case 0x41:camera['L']=!![];break;case 0x44:camera['R']=!![];break;case 0x57:camera['T']=!![];break;case 0x53:camera['B']=!![];break;case 0x45:camera[_0x52fb1c(0x157)]=!![];break;case 0x51:camera[_0x52fb1c(0x144)]=!![];break;}}),window[_0x4211d3(0x14a)]('keyup',function(_0x1f27b5){var _0x4673c1=_0x4211d3,_0x8622cc=_0x1f27b5[_0x4673c1(0xf3)];switch(_0x8622cc){case 0x41:camera['L']=![];break;case 0x44:camera['R']=![];break;case 0x57:camera['T']=![];break;case 0x53:camera['B']=![];break;case 0x45:camera[_0x4673c1(0x157)]=![];break;case 0x51:camera['zoomOut']=![];break;case 0x52:toggleBoxes();break;}});