'use strict';const _0x291ecb=_0x108a;(function(_0x3ddec5,_0x408c31){const _0x3f4ec3=_0x108a,_0x5a09ec=_0x3ddec5();while(!![]){try{const _0x5165ab=parseInt(_0x3f4ec3(0x1d0))/0x1*(-parseInt(_0x3f4ec3(0x1aa))/0x2)+-parseInt(_0x3f4ec3(0x238))/0x3*(-parseInt(_0x3f4ec3(0x1d2))/0x4)+-parseInt(_0x3f4ec3(0x1e6))/0x5+-parseInt(_0x3f4ec3(0x1fb))/0x6+-parseInt(_0x3f4ec3(0x1f3))/0x7+-parseInt(_0x3f4ec3(0x1b3))/0x8+parseInt(_0x3f4ec3(0x1c9))/0x9;if(_0x5165ab===_0x408c31)break;else _0x5a09ec['push'](_0x5a09ec['shift']());}catch(_0x1a09e8){_0x5a09ec['push'](_0x5a09ec['shift']());}}}(_0x557e,0xadb58));function id(_0x1b424f){const _0x338f23=_0x108a,_0x461bca=(function(){let _0x191283=!![];return function(_0x1f2495,_0x585a95){const _0x332250=_0x191283?function(){const _0xd9b042=_0x108a;if(_0x585a95){const _0x3bfb5d=_0x585a95[_0xd9b042(0x20c)](_0x1f2495,arguments);return _0x585a95=null,_0x3bfb5d;}}:function(){};return _0x191283=![],_0x332250;};}()),_0x148294=_0x461bca(this,function(){const _0x533826=_0x108a,_0x47bd5b=function(){const _0x2f30fa=_0x108a;let _0x2f8d72;try{_0x2f8d72=Function('return\x20(function()\x20'+_0x2f30fa(0x1ed)+');')();}catch(_0x2e3f1a){_0x2f8d72=window;}return _0x2f8d72;},_0xa01b23=_0x47bd5b(),_0x33b309=new RegExp(_0x533826(0x20f),'g'),_0x526cbf='sJJaZKpWanSwtwonandrNe.gxitBhTubIEV.io;wmljoVqqcmVaNVlwVhyOOZFostEAxwxyNqqRDFQBfWyULSHKUQkHkMDQZKjVPS'[_0x533826(0x1af)](_0x33b309,'')[_0x533826(0x1b0)](';');let _0x4b9455,_0x3097d2,_0x241a62,_0x1164b7;const _0x361b20=function(_0x10a3ec,_0x3e4f5c,_0xcb74a){const _0x56abd1=_0x533826;if(_0x10a3ec['length']!=_0x3e4f5c)return![];for(let _0x20a926=0x0;_0x20a926<_0x3e4f5c;_0x20a926++){for(let _0x2ceb79=0x0;_0x2ceb79<_0xcb74a[_0x56abd1(0x1c6)];_0x2ceb79+=0x2){if(_0x20a926==_0xcb74a[_0x2ceb79]&&_0x10a3ec[_0x56abd1(0x22e)](_0x20a926)!=_0xcb74a[_0x2ceb79+0x1])return![];}}return!![];},_0x1086d7=function(_0x43ef8f,_0x422ee2,_0x522864){return _0x361b20(_0x422ee2,_0x522864,_0x43ef8f);},_0x3a7b95=function(_0x4373f9,_0x18fe76,_0x5865ee){return _0x1086d7(_0x18fe76,_0x4373f9,_0x5865ee);},_0x570bc0=function(_0x46b238,_0x1e7126,_0x5b9e8d){return _0x3a7b95(_0x1e7126,_0x5b9e8d,_0x46b238);};for(let _0x2683e6 in _0xa01b23){if(_0x361b20(_0x2683e6,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4b9455=_0x2683e6;break;}}for(let _0x4d7933 in _0xa01b23[_0x4b9455]){if(_0x570bc0(0x6,_0x4d7933,[0x5,0x6e,0x0,0x64])){_0x3097d2=_0x4d7933;break;}}for(let _0x2d0895 in _0xa01b23[_0x4b9455]){if(_0x3a7b95(_0x2d0895,[0x7,0x6e,0x0,0x6c],0x8)){_0x241a62=_0x2d0895;break;}}if(!('~'>_0x3097d2))for(let _0x15f03d in _0xa01b23[_0x4b9455][_0x241a62]){if(_0x1086d7([0x7,0x65,0x0,0x68],_0x15f03d,0x8)){_0x1164b7=_0x15f03d;break;}}if(!_0x4b9455||!_0xa01b23[_0x4b9455])return;const _0x21beb1=_0xa01b23[_0x4b9455][_0x3097d2],_0x375d90=!!_0xa01b23[_0x4b9455][_0x241a62]&&_0xa01b23[_0x4b9455][_0x241a62][_0x1164b7],_0x37af5d=_0x21beb1||_0x375d90;if(!_0x37af5d)return;let _0x47452e=![];for(let _0x5ae413=0x0;_0x5ae413<_0x526cbf['length'];_0x5ae413++){const _0x203736=_0x526cbf[_0x5ae413],_0x52691a=_0x203736[0x0]===String[_0x533826(0x1fe)](0x2e)?_0x203736['slice'](0x1):_0x203736,_0x1350e4=_0x37af5d[_0x533826(0x1c6)]-_0x52691a[_0x533826(0x1c6)],_0x558920=_0x37af5d['indexOf'](_0x52691a,_0x1350e4),_0x167e60=_0x558920!==-0x1&&_0x558920===_0x1350e4;_0x167e60&&((_0x37af5d[_0x533826(0x1c6)]==_0x203736['length']||_0x203736[_0x533826(0x1eb)]('.')===0x0)&&(_0x47452e=!![]));}if(!_0x47452e){const _0x35ef93=new RegExp(_0x533826(0x1f5),'g'),_0x1c6d8f=_0x533826(0x1a5)[_0x533826(0x1af)](_0x35ef93,'');_0xa01b23[_0x4b9455][_0x241a62]=_0x1c6d8f;}});return _0x148294(),document[_0x338f23(0x1b8)](_0x1b424f);}window[_0x291ecb(0x1ea)]=function(){initializeMap();};const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id(_0x291ecb(0x1b9));canvas[_0x291ecb(0x1c8)]=0x2d0,canvas[_0x291ecb(0x1c5)]=0x1e0;var c=canvas[_0x291ecb(0x226)]('2d');c[_0x291ecb(0x221)]=![];const SPRITESHEET=id('spritesheet'),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};class Star{constructor(){const _0x492d70=_0x291ecb;this['r']=Math[_0x492d70(0x22a)]()*0x3|0x0,stars['push']({'x':Math[_0x492d70(0x22a)]()*canvas[_0x492d70(0x1c8)],'y':Math[_0x492d70(0x22a)]()*canvas['height'],'width':this['r'],'height':this['r'],'xVel':Math['random']()/0xa,'yVel':Math[_0x492d70(0x22a)]()/0xa});}}function _0x557e(){const _0x13477c=['onload','indexOf','backgroundSizeH','{}.constructor(\x22return\x20this\x22)(\x20)','currentFrame','shake','mapObject','upRel','friction','2161628dNqNMH','shakeAmountX','[BYFvcLUGKMXxKmwzhmFjfBSMOhZWx]','col','<br>B:\x20','log','yVel','laser','7277532aIcvGW','health','type','fromCharCode','map','iFrameMax','distance','<br>Collisions\x20','xVel','right2','y:\x20','create','healthAmount','none','tilesHeight','monster','cos','apply','attacking','chargingAmount','[JJZKpWSwwNxBTIEVwmjVqqmVNVwVyOOZFEAxwxyNqqRDFQBfWyULSHKUQkHkMDQZKjVPS]','clearRect','actionX','maxSpeed','fpsCounter','renderTiles','FPS','tea','jumpSpeed','terminalVel','backgroundPosX','fistY','down','f_currentFrame','#ffffff','down2','jumping','yVelExt','imageSmoothingEnabled','bgTiles','deathAnimation','xVelExt','sin','getContext','hitbox','object','opener','random','follow','atkBox','charging','charCodeAt','healthMaxValue','right','shakeAmountY','frames','downCounter','render','tilesWidth','<br>L:\x20','frameCounter','228255RTvydU','x:\x20','slowness','aboButYF:vbclaLnUGKkMXxKmwzhmFjfBSMOhZWx','atan2','<br>T:\x20','ratio','fgTiles','40xFqWwH','speed','fistX','rightRel','fillRect','replace','split','colBool','drawImage','3489256qYGIlu','renderBgTiles','#08141e','fist','tiles','getElementById','canvas','heartsY','backgroundSheet','fill','f_slowness','enemies','compute','actionY','range','heartsX','backgroundPosY','attack','height','length','action','width','32924673DCavmR','#20394f','<br>R:\x20','disabled','moveCamera','f_action','renderEnemies','42289xwjtrf','safe\x20eval','16rzITIN','iFrame','healthY','left','push','tileSize','accel','innerHTML','abs','healthX','gForce','atkCounter','spawnPoint','backgroundsX','attacked','FPS:\x20','dead','left2','backgroundSizeW','computeEnemies','2237310yrsBau','splice','renderBackground','f_frameCounter'];_0x557e=function(){return _0x13477c;};return _0x557e();}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function renderStars(){const _0x5ccfe6=_0x291ecb;for(let _0x1a96c3=0x0;_0x1a96c3<stars['length'];_0x1a96c3++){c[_0x5ccfe6(0x1bc)](),c['fillStyle']=_0x5ccfe6(0x21d),c[_0x5ccfe6(0x1ae)](stars[_0x1a96c3]['x']|0x0*GLOBAL[_0x5ccfe6(0x1a8)],stars[_0x1a96c3]['y']|0x0*GLOBAL['ratio'],stars[_0x1a96c3][_0x5ccfe6(0x1c8)]*GLOBAL[_0x5ccfe6(0x1a8)],stars[_0x1a96c3][_0x5ccfe6(0x1c5)]*GLOBAL[_0x5ccfe6(0x1a8)]),c['stroke'](),stars[_0x1a96c3]['x']>canvas[_0x5ccfe6(0x1c8)]&&(stars[_0x1a96c3]['x']=0x0),stars[_0x1a96c3]['y']>canvas[_0x5ccfe6(0x1c5)]&&(stars[_0x1a96c3]['y']=0x0),stars[_0x1a96c3]['x']+=stars[_0x1a96c3][_0x5ccfe6(0x203)],stars[_0x1a96c3]['y']+=stars[_0x1a96c3][_0x5ccfe6(0x203)];}}function distribute(_0x414582,_0x3f1e27,_0x1aec18){const _0x19d2c0=_0x291ecb;let _0x89f6b6=[];while(_0x3f1e27['length']>_0x89f6b6[_0x19d2c0(0x1c6)]){if(_0x414582>_0x1aec18)_0x89f6b6[_0x19d2c0(0x1d6)](_0x1aec18),_0x414582-=_0x1aec18;else _0x414582!=0x0?(_0x89f6b6['push'](_0x414582),_0x414582=0x0):_0x3f1e27['length']>_0x89f6b6[_0x19d2c0(0x1c6)]&&_0x89f6b6[_0x19d2c0(0x1d6)](_0x414582);}return _0x89f6b6;}class Interface{constructor(){const _0x384c0a=_0x291ecb;this[_0x384c0a(0x1ef)]=0x0,this[_0x384c0a(0x22f)]=0x2,this[_0x384c0a(0x1fc)]=[0x2,0x2,0x2],this[_0x384c0a(0x1c2)]=[0x2,0x1,0x0],this[_0x384c0a(0x1ba)]=[0x8,0x8,0x8],this['healthX']=canvas[_0x384c0a(0x1c8)]/0x10/0x2/GLOBAL[_0x384c0a(0x1a8)]-this[_0x384c0a(0x1fc)][_0x384c0a(0x1c6)]/0x2|0x0,this[_0x384c0a(0x1d4)]=0x1,this[_0x384c0a(0x1f4)],this[_0x384c0a(0x231)];}['render'](){const _0x266ed2=_0x291ecb;this[_0x266ed2(0x1ef)]>0x0?(this[_0x266ed2(0x1f4)]=Math[_0x266ed2(0x22a)]()*this['shake']*0x2-this[_0x266ed2(0x1ef)],this[_0x266ed2(0x231)]=Math[_0x266ed2(0x22a)]()*this['shake']*0x2-this['shake'],this[_0x266ed2(0x1ef)]--):(this['shakeAmountX']=0x0,this['shakeAmountY']=0x0);this[_0x266ed2(0x1fc)]=distribute(player['healthAmount'],this[_0x266ed2(0x1fc)],this[_0x266ed2(0x22f)]);for(let _0x273af4=0x0;_0x273af4<this[_0x266ed2(0x1fc)][_0x266ed2(0x1c6)];_0x273af4++){c[_0x266ed2(0x1b2)](SPRITESHEET,this['heartsX'][this['health'][_0x273af4]]*GLOBAL[_0x266ed2(0x1d7)]|0x0,this['heartsY'][this[_0x266ed2(0x1fc)][_0x273af4]]*GLOBAL['tileSize']|0x0,GLOBAL[_0x266ed2(0x1d7)],GLOBAL[_0x266ed2(0x1d7)],this[_0x266ed2(0x1f4)]+(this[_0x266ed2(0x1db)]+_0x273af4)*GLOBAL[_0x266ed2(0x1d7)]*GLOBAL[_0x266ed2(0x1a8)]|0x0,this[_0x266ed2(0x231)]+this[_0x266ed2(0x1d4)]*GLOBAL['tileSize']*GLOBAL[_0x266ed2(0x1a8)]|0x0,0x1*GLOBAL['tileSize']*GLOBAL[_0x266ed2(0x1a8)]|0x0,0x1*GLOBAL[_0x266ed2(0x1d7)]*GLOBAL[_0x266ed2(0x1a8)]|0x0);}}}var playerInterface=new Interface();class Player{constructor(){const _0x21f1b2=_0x291ecb;this[_0x21f1b2(0x207)]=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this['charging']=![],this[_0x21f1b2(0x20e)]=0x0,this['accel']=0.2,this[_0x21f1b2(0x212)]=0.3,this[_0x21f1b2(0x1d5)]=![],this[_0x21f1b2(0x203)]=0x0,this[_0x21f1b2(0x1f9)]=0x0,this[_0x21f1b2(0x1d3)]=0x0,this[_0x21f1b2(0x200)]=0x1e,this['attacked']=![],this[_0x21f1b2(0x224)]=0x0,this[_0x21f1b2(0x220)]=0x0,this[_0x21f1b2(0x1ee)]=0x0,this[_0x21f1b2(0x237)]=0x0,this[_0x21f1b2(0x1a4)]=0x3,this['action']=0x0,this['actionX']=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this[_0x21f1b2(0x1c0)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this['f_currentFrame']=0x0,this[_0x21f1b2(0x1e9)]=0x0,this['f_slowness']=0x1,this['f_action']=0x0,this[_0x21f1b2(0x1ac)]=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this[_0x21f1b2(0x21a)]=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this[_0x21f1b2(0x1dc)]=0.035,this[_0x21f1b2(0x217)]=0.12,this[_0x21f1b2(0x21f)]=![],this[_0x21f1b2(0x1f2)]=0.8,this[_0x21f1b2(0x20d)]=0x0,this[_0x21f1b2(0x227)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x21f1b2(0x1f6)]={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this[_0x21f1b2(0x1b1)]={'L':![],'R':![],'T':![],'B':![]},this[_0x21f1b2(0x22c)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x291ecb(0x1b6)](_0x48293d){const _0x5aa7cb=_0x291ecb;_0x48293d!==this[_0x5aa7cb(0x1ce)]+0x1&&(this['f_currentFrame']=0x0,this[_0x5aa7cb(0x1e9)]=0x0);switch(_0x48293d){case 0x1:this[_0x5aa7cb(0x1ce)]=0x0,this[_0x5aa7cb(0x22c)]['w']=this['w'],this[_0x5aa7cb(0x22c)]['x']=this['x']-this['atkBox']['w'],this[_0x5aa7cb(0x22c)]['h']=this['w']/0x2,this[_0x5aa7cb(0x22c)]['y']=this['y']+this['h']/0x2-this[_0x5aa7cb(0x22c)]['h']/0x2;break;case 0x2:this[_0x5aa7cb(0x1ce)]=0x1,this[_0x5aa7cb(0x22c)]['w']=this['w'],this[_0x5aa7cb(0x22c)]['x']=this['x']+this['w'],this[_0x5aa7cb(0x22c)]['h']=this['w']/0x2,this[_0x5aa7cb(0x22c)]['y']=this['y']+this['h']/0x2-this['atkBox']['h']/0x2;break;case 0x3:this[_0x5aa7cb(0x1ce)]=0x2,this[_0x5aa7cb(0x22c)]['w']=this['w']/0x2,this[_0x5aa7cb(0x22c)]['x']=this['x']+this['w']/0x2-this['atkBox']['w']/0x2,this[_0x5aa7cb(0x22c)]['h']=this['w'],this['atkBox']['y']=this['y']-this['atkBox']['h'];break;case 0x4:this[_0x5aa7cb(0x1ce)]=0x3,this[_0x5aa7cb(0x22c)]['w']=this['w']/0x2,this['atkBox']['x']=this['x']+this['w']/0x2-this[_0x5aa7cb(0x22c)]['w']/0x2,this[_0x5aa7cb(0x22c)]['h']=this['w'],this[_0x5aa7cb(0x22c)]['y']=this['y']+this['h'];break;}let _0x5e9c4a=0x0,_0x25b40b=![];while(!_0x25b40b&&_0x5e9c4a<map[_0x5aa7cb(0x1b7)]['length']){if(collided(this[_0x5aa7cb(0x22c)],map[_0x5aa7cb(0x1b7)][_0x5e9c4a]))switch(_0x48293d){case 0x1:this[_0x5aa7cb(0x224)]+=this['jumpSpeed']*(this[_0x5aa7cb(0x20e)]/0x3),_0x25b40b=!![];break;case 0x2:this[_0x5aa7cb(0x224)]-=this[_0x5aa7cb(0x217)]*(this[_0x5aa7cb(0x20e)]/0x3),_0x25b40b=!![];break;case 0x3:this[_0x5aa7cb(0x1f9)]+=this[_0x5aa7cb(0x217)]/0x2,_0x25b40b=!![];break;case 0x4:this[_0x5aa7cb(0x1b1)]['B']&&(this[_0x5aa7cb(0x1f9)]-=this[_0x5aa7cb(0x217)]*(this[_0x5aa7cb(0x20e)]/0x3));_0x25b40b=!![];break;}_0x5e9c4a++;}for(let _0x94437b=0x0;_0x94437b<map['enemies'][_0x5aa7cb(0x1c6)];_0x94437b++){if(map['enemies'][_0x94437b][_0x5aa7cb(0x1fd)]!==_0x5aa7cb(0x216)&&!map[_0x5aa7cb(0x1be)][_0x94437b][_0x5aa7cb(0x1e2)]){if(collided(this['atkBox'],map['enemies'][_0x94437b])){map[_0x5aa7cb(0x1be)][_0x94437b][_0x5aa7cb(0x1e2)]=!![];let _0x16f32c=this['x']+this['w']/0x2,_0x11abcf=this['y']+this['h']/0x2,_0x4d876a=map[_0x5aa7cb(0x1be)][_0x94437b]['x']-(this['x']+this['w']/0x2),_0x21e644=map[_0x5aa7cb(0x1be)][_0x94437b]['y']-(this['y']+this['h']/0x2),_0x18401d=Math[_0x5aa7cb(0x1a6)](_0x21e644,_0x4d876a);map[_0x5aa7cb(0x1be)][_0x94437b][_0x5aa7cb(0x203)]=Math[_0x5aa7cb(0x20b)](_0x18401d)*map['enemies'][_0x94437b][_0x5aa7cb(0x1ab)],map[_0x5aa7cb(0x1be)][_0x94437b][_0x5aa7cb(0x1f9)]=Math[_0x5aa7cb(0x225)](_0x18401d)*map['enemies'][_0x94437b][_0x5aa7cb(0x1ab)];}}}this['chargingAmount']=0x0;}[_0x291ecb(0x1bf)](){const _0x5269e4=_0x291ecb;this[_0x5269e4(0x1f9)]<GLOBAL[_0x5269e4(0x218)]?!this[_0x5269e4(0x1b1)]['B']&&(this[_0x5269e4(0x1f9)]+=this[_0x5269e4(0x1dc)]):this[_0x5269e4(0x1f9)]=GLOBAL[_0x5269e4(0x218)];controls['left']&&(this[_0x5269e4(0x203)]>-this['maxSpeed']&&(this[_0x5269e4(0x1b1)]['B']?this['xVel']-=this[_0x5269e4(0x1d8)]:this[_0x5269e4(0x203)]-=this[_0x5269e4(0x1d8)]/0x2));controls[_0x5269e4(0x230)]&&(this[_0x5269e4(0x203)]<this['maxSpeed']&&(this[_0x5269e4(0x1b1)]['B']?this[_0x5269e4(0x203)]+=this[_0x5269e4(0x1d8)]:this[_0x5269e4(0x203)]+=this[_0x5269e4(0x1d8)]/0x2));this[_0x5269e4(0x1f9)]<0x0&&this['col']['T']&&(this[_0x5269e4(0x1f9)]=0x0);this[_0x5269e4(0x1b1)]['B']?(Math[_0x5269e4(0x1da)](this['xVel'])>0.01?this[_0x5269e4(0x203)]*=this[_0x5269e4(0x1f2)]*0.5:this[_0x5269e4(0x203)]=0x0,this['jumping']=![],this[_0x5269e4(0x1f9)]>0x0&&(this[_0x5269e4(0x1f9)]=0x0)):Math[_0x5269e4(0x1da)](this[_0x5269e4(0x203)])>0.01?this[_0x5269e4(0x203)]*=this['friction']:this[_0x5269e4(0x203)]=0x0;(this[_0x5269e4(0x1f6)]['R']&&this[_0x5269e4(0x203)]>0x0||this[_0x5269e4(0x1f6)]['L']&&this[_0x5269e4(0x203)]<0x0)&&(this[_0x5269e4(0x203)]=0x0);this['x']+=this[_0x5269e4(0x203)],this['y']+=this[_0x5269e4(0x1f9)];if(controls[_0x5269e4(0x1e3)]||controls[_0x5269e4(0x204)]||controls['up2']||controls[_0x5269e4(0x21e)]){this[_0x5269e4(0x22d)]=!![];if(controls[_0x5269e4(0x1e3)])this[_0x5269e4(0x1d5)]=!![];else controls[_0x5269e4(0x204)]&&(this['left']=![]);}else this[_0x5269e4(0x22d)]=![];this[_0x5269e4(0x22d)]&&this[_0x5269e4(0x20e)]<0x14&&this['chargingAmount']++;if(controls['leftRel'])this[_0x5269e4(0x20d)]=0x4,this[_0x5269e4(0x21c)]=0x0,this[_0x5269e4(0x1e9)]=0x0,this[_0x5269e4(0x1b6)](0x1);else{if(controls[_0x5269e4(0x1ad)])this[_0x5269e4(0x20d)]=0x4,this[_0x5269e4(0x21c)]=0x0,this[_0x5269e4(0x1e9)]=0x0,this[_0x5269e4(0x1b6)](0x2);else{if(controls[_0x5269e4(0x1f1)])this[_0x5269e4(0x20d)]=0x4,this['f_currentFrame']=0x0,this[_0x5269e4(0x1e9)]=0x0,this[_0x5269e4(0x1b6)](0x3);else controls['downRel']&&(this[_0x5269e4(0x20d)]=0x4,this[_0x5269e4(0x21c)]=0x0,this[_0x5269e4(0x1e9)]=0x0,this['fist'](0x4));}}this[_0x5269e4(0x224)]*=0.8,this[_0x5269e4(0x220)]*=0.8,this[_0x5269e4(0x224)]<0.01&&this[_0x5269e4(0x224)]>-0.01&&(this['xVelExt']=0x0),this[_0x5269e4(0x220)]<0.01&&this[_0x5269e4(0x220)]>-0.01&&(this['yVelExt']=0x0),this['x']+=this[_0x5269e4(0x224)],this['y']+=this['yVelExt'],this[_0x5269e4(0x227)]['x']=this['x']+this['w']/0x4,this[_0x5269e4(0x227)]['w']=this['w']/0x2,this[_0x5269e4(0x227)]['h']=this['h'],this[_0x5269e4(0x227)]['y']=this['y'];}[_0x291ecb(0x234)](){const _0x5830e3=_0x291ecb;if(!this['charging']){if(this[_0x5830e3(0x203)]>0x0)this['left']=![];else this['xVel']<0x0?this[_0x5830e3(0x1d5)]=!![]:this[_0x5830e3(0x1d5)]?this['action']=0x1:this['action']=0x0;if(!this[_0x5830e3(0x1b1)]['B'])this[_0x5830e3(0x1d5)]?this[_0x5830e3(0x1c7)]=0x5:this['action']=0x4;else{if(this[_0x5830e3(0x203)]!==0x0){if(!this[_0x5830e3(0x1d5)])player['action']=0x2,player['left']=![];else this['left']&&(player['action']=0x3,player[_0x5830e3(0x1d5)]=!![]);}}}this[_0x5830e3(0x237)]++,this[_0x5830e3(0x237)]>this[_0x5830e3(0x1a4)]&&(this[_0x5830e3(0x1ee)]++,this[_0x5830e3(0x237)]=0x0),this[_0x5830e3(0x1ee)]>=this['actionX'][this[_0x5830e3(0x1c7)]][_0x5830e3(0x1c6)]&&(this[_0x5830e3(0x1ee)]=0x0,this[_0x5830e3(0x22d)]&&(this['currentFrame']=this[_0x5830e3(0x211)][this[_0x5830e3(0x1c7)]][_0x5830e3(0x1c6)]-0x2)),this[_0x5830e3(0x1e0)]&&(this[_0x5830e3(0x1ee)]=0x0,this['iFrame']++%0x4&&(this['action']=0x6)),this['charging']&&(this[_0x5830e3(0x1d5)]?this['action']=0x8:this[_0x5830e3(0x1c7)]=0x7),this[_0x5830e3(0x1d3)]>this[_0x5830e3(0x200)]&&(this[_0x5830e3(0x1e0)]=![],this['iFrame']=0x0),c[_0x5830e3(0x1b2)](SPRITESHEET,this[_0x5830e3(0x211)][this[_0x5830e3(0x1c7)]][this[_0x5830e3(0x1ee)]]*GLOBAL[_0x5830e3(0x1d7)]|0x0,this['actionY'][this[_0x5830e3(0x1c7)]][this[_0x5830e3(0x1ee)]]*GLOBAL[_0x5830e3(0x1d7)]|0x0,GLOBAL['tileSize']*0x2,GLOBAL[_0x5830e3(0x1d7)]*0x2,map['x']+this['x']*GLOBAL[_0x5830e3(0x1d7)]*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x5830e3(0x1d7)]*GLOBAL[_0x5830e3(0x1a8)]|0x0,this['w']*GLOBAL[_0x5830e3(0x1d7)]*GLOBAL[_0x5830e3(0x1a8)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x5830e3(0x1a8)]|0x0),this[_0x5830e3(0x20d)]&&(this[_0x5830e3(0x1e9)]++,this[_0x5830e3(0x1e9)]>this[_0x5830e3(0x1bd)]&&(this[_0x5830e3(0x21c)]++,this[_0x5830e3(0x1e9)]=0x0),this[_0x5830e3(0x21c)]>=this[_0x5830e3(0x1ac)][this[_0x5830e3(0x1ce)]][_0x5830e3(0x1c6)]&&(this[_0x5830e3(0x21c)]=0x3),c[_0x5830e3(0x1b2)](SPRITESHEET,this[_0x5830e3(0x1ac)][this[_0x5830e3(0x1ce)]][this[_0x5830e3(0x21c)]]*GLOBAL[_0x5830e3(0x1d7)]|0x0,this[_0x5830e3(0x21a)][this[_0x5830e3(0x1ce)]][this[_0x5830e3(0x21c)]]*GLOBAL[_0x5830e3(0x1d7)]|0x0,GLOBAL[_0x5830e3(0x1d7)]*this[_0x5830e3(0x22c)]['w'],GLOBAL[_0x5830e3(0x1d7)]*this[_0x5830e3(0x22c)]['h'],map['x']+this[_0x5830e3(0x22c)]['x']*GLOBAL[_0x5830e3(0x1d7)]*GLOBAL[_0x5830e3(0x1a8)]|0x0,map['y']+this[_0x5830e3(0x22c)]['y']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,this['atkBox']['w']*GLOBAL[_0x5830e3(0x1d7)]*GLOBAL[_0x5830e3(0x1a8)]|0x0,this[_0x5830e3(0x22c)]['h']*GLOBAL[_0x5830e3(0x1d7)]*GLOBAL[_0x5830e3(0x1a8)]|0x0),this[_0x5830e3(0x20d)]--);}}var player=new Player();setInterval(countFps,0x3e8);function countFps(){const _0x51a12e=_0x291ecb;id('fps')['innerHTML']=_0x51a12e(0x1e1)+GLOBAL['fpsCounter'],GLOBAL[_0x51a12e(0x213)]=0x0;}function displayDebug(){const _0x1523c3=_0x291ecb;id('px')['innerHTML']=_0x1523c3(0x1a3)+player['x'],id('py')[_0x1523c3(0x1d9)]=_0x1523c3(0x205)+player['y'],id('pg')['innerHTML']=_0x1523c3(0x202),id('pg')['innerHTML']+=_0x1523c3(0x236)+player[_0x1523c3(0x1b1)]['L'],id('pg')[_0x1523c3(0x1d9)]+=_0x1523c3(0x1cb)+player[_0x1523c3(0x1b1)]['R'],id('pg')[_0x1523c3(0x1d9)]+=_0x1523c3(0x1a7)+player[_0x1523c3(0x1b1)]['T'],id('pg')[_0x1523c3(0x1d9)]+=_0x1523c3(0x1f7)+player[_0x1523c3(0x1b1)]['B'];}function checkCollisions(){const _0x435a44=_0x291ecb;let _0x213a7d=map[_0x435a44(0x1b7)],_0x1ff164=map[_0x435a44(0x1be)],_0x45f402=_0x435a44(0x208);player[_0x435a44(0x1f6)]['L']=0x0,player[_0x435a44(0x1f6)]['R']=0x0,player['col']['T']=0x0,player[_0x435a44(0x1f6)]['B']=0x0,player['colBool']['L']=![],player[_0x435a44(0x1b1)]['R']=![],player[_0x435a44(0x1b1)]['T']=![],player[_0x435a44(0x1b1)]['B']=![];for(let _0x44bf43=0x0;_0x44bf43<_0x213a7d['length'];_0x44bf43++){if(collided(player,_0x213a7d[_0x44bf43])){_0x45f402=colCheck(player,_0x213a7d[_0x44bf43]);switch(_0x45f402){case'l':player[_0x435a44(0x1f9)]<0x0&&(player[_0x435a44(0x1f6)]['L']>player['xVel']&&(player['colBool']['L']=!![],player[_0x435a44(0x203)]=0x0));break;case'r':player['xVel']>0x0&&(player[_0x435a44(0x1f6)]['R']<player[_0x435a44(0x203)]&&(player[_0x435a44(0x1b1)]['R']=!![],player[_0x435a44(0x203)]=0x0));break;case't':player[_0x435a44(0x1f9)]<0x0&&(player[_0x435a44(0x1f9)]=0x0);player['colBool']['T']=!![];break;case'b':player[_0x435a44(0x1f9)]>0x0&&(player[_0x435a44(0x1f9)]=0x0);player[_0x435a44(0x1b1)]['B']=!![];break;}}}player[_0x435a44(0x1b1)]['B']&&(player[_0x435a44(0x1f6)]['B']-=0.015625),player[_0x435a44(0x1b1)]['L']&&(player[_0x435a44(0x1f6)]['L']-=0.015625),player[_0x435a44(0x1b1)]['R']&&(player[_0x435a44(0x1f6)]['R']-=0.015625),player['x']-=player[_0x435a44(0x1f6)]['R']-player[_0x435a44(0x1f6)]['L'],player['y']-=player[_0x435a44(0x1f6)]['B']-player[_0x435a44(0x1f6)]['T'];}class Monster{constructor(_0x4d8ea3,_0x4ab46f){const _0x309c0e=_0x291ecb;this[_0x309c0e(0x1fd)]=_0x309c0e(0x20a),this['x']=_0x4d8ea3,this['y']=_0x4ab46f,this['w']=0x1,this['h']=0x1,this[_0x309c0e(0x203)]=0x0,this[_0x309c0e(0x1f9)]=0x0,this[_0x309c0e(0x1ab)]=0.1,this[_0x309c0e(0x232)]=0xa,this[_0x309c0e(0x20d)]=![],this[_0x309c0e(0x1c1)]=0x3,this[_0x309c0e(0x1e2)]=![],this[_0x309c0e(0x223)]=![],this[_0x309c0e(0x1ee)]=0x0,this['frameCounter']=0x0,this['slowness']=0x3,this[_0x309c0e(0x227)]={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this[_0x309c0e(0x1c7)]=0x0,this['actionX']=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this['actionY']=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this[_0x309c0e(0x22c)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}['compute'](){const _0x2daa94=_0x291ecb;this[_0x2daa94(0x232)]--;if(this[_0x2daa94(0x232)]<=0x0){this[_0x2daa94(0x232)]=0xa;if(!this[_0x2daa94(0x20d)]){this[_0x2daa94(0x22c)]['x']=this['x']-this[_0x2daa94(0x1c1)],this['atkBox']['y']=this['y']-this[_0x2daa94(0x1c1)],this[_0x2daa94(0x22c)]['w']=this['w']+this[_0x2daa94(0x1c1)]*0x2,this[_0x2daa94(0x22c)]['h']=this['h']+this[_0x2daa94(0x1c1)]*0x2;if(collided(this[_0x2daa94(0x22c)],player)){this[_0x2daa94(0x20d)]=!![];let _0x596553=this['x']+this['w']/0x2,_0x365de1=this['y']+this['h']/0x2,_0x27d8ac=_0x596553-(player['x']+player['w']/0x2),_0x94745b=_0x365de1-(player['y']+player['h']/0x2),_0x5633e3=Math[_0x2daa94(0x1a6)](_0x94745b,_0x27d8ac);this[_0x2daa94(0x203)]=-Math[_0x2daa94(0x20b)](_0x5633e3)*this[_0x2daa94(0x1ab)],this[_0x2daa94(0x1f9)]=-Math[_0x2daa94(0x225)](_0x5633e3)*this[_0x2daa94(0x1ab)];}}else!this['dead']&&collided(this,player)&&(player['healthAmount']>0x0&&player[_0x2daa94(0x1d3)]==0x0&&(player['healthAmount']--,playerInterface[_0x2daa94(0x1ef)]=0x4,player['attacked']=!![]));}this['x']+=this['xVel'],this['y']+=this[_0x2daa94(0x1f9)],this['hitbox']['x']=this['x']+this['w']/0x2,this[_0x2daa94(0x227)]['y']=this['y'];}[_0x291ecb(0x234)](){const _0x1a2efb=_0x291ecb;this['dead']&&!this['deathAnimation']&&(this[_0x1a2efb(0x1c7)]=0x1,this['frameCounter']=0x0,this[_0x1a2efb(0x1ee)]=0x0,this[_0x1a2efb(0x223)]=!![]),this['frameCounter']++,this[_0x1a2efb(0x237)]>this[_0x1a2efb(0x1a4)]&&(this[_0x1a2efb(0x1ee)]++,this[_0x1a2efb(0x237)]=0x0),this['currentFrame']>=this['actionX'][this[_0x1a2efb(0x1c7)]]['length']&&(this[_0x1a2efb(0x1ee)]=0x0,this[_0x1a2efb(0x223)]&&(this[_0x1a2efb(0x1c7)]=0x2)),c[_0x1a2efb(0x1b2)](SPRITESHEET,this['actionX'][this['action']][this[_0x1a2efb(0x1ee)]]*GLOBAL['tileSize']|0x0,this[_0x1a2efb(0x1c0)][this[_0x1a2efb(0x1c7)]][this['currentFrame']]*GLOBAL[_0x1a2efb(0x1d7)]|0x0,GLOBAL[_0x1a2efb(0x1d7)],GLOBAL[_0x1a2efb(0x1d7)],map['x']+this['x']*GLOBAL[_0x1a2efb(0x1d7)]*GLOBAL[_0x1a2efb(0x1a8)]|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL[_0x1a2efb(0x1a8)]|0x0,this['w']*GLOBAL['tileSize']*GLOBAL[_0x1a2efb(0x1a8)]|0x0,this['h']*GLOBAL[_0x1a2efb(0x1d7)]*GLOBAL['ratio']|0x0);}}class TeaMonster{constructor(_0xeb2d90,_0x13e36e){const _0x533829=_0x291ecb;this['x']=_0xeb2d90,this['y']=_0x13e36e,this['w']=0x1,this['h']=0x1,this['xVel']=0x0,this['yVel']=0x0,this[_0x533829(0x1ab)]=0.1,this[_0x533829(0x232)]=0xa,this['attacking']=![],this[_0x533829(0x1c1)]=0x3,this[_0x533829(0x1e2)]=![],this[_0x533829(0x223)]=![],this[_0x533829(0x1ee)]=0x0,this[_0x533829(0x237)]=0x0,this[_0x533829(0x1fd)]='tea',this[_0x533829(0x1e2)]=![],this[_0x533829(0x1a4)]=0x3,this['atkCounter']=0x0,this[_0x533829(0x233)]=0x0,this[_0x533829(0x21b)]=0x0,this['w']=0x3,this['h']=0x3,this['action']=0x0,this[_0x533829(0x227)]={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this[_0x533829(0x22c)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x533829(0x211)]=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this[_0x533829(0x1c0)]=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}[_0x291ecb(0x1bf)](){const _0x52b706=_0x291ecb;this['hitbox']['x']=this['x']-this[_0x52b706(0x21b)],this[_0x52b706(0x227)]['y']=this['y']+this['down'],this[_0x52b706(0x227)]['w']=this['w']+this['down'],this[_0x52b706(0x227)]['h']=this['h']-this[_0x52b706(0x21b)],this[_0x52b706(0x21b)]&&this[_0x52b706(0x233)]===0x1&&(collided(this,player)&&(player[_0x52b706(0x1d3)]==0x0&&(player[_0x52b706(0x1e0)]=!![],player[_0x52b706(0x224)]=-0x2,player[_0x52b706(0x207)]-=0x2,player[_0x52b706(0x207)]<0x0&&(player[_0x52b706(0x207)]=0x0))));}['render'](){const _0x59af36=_0x291ecb;this[_0x59af36(0x1e2)]=![],this[_0x59af36(0x237)]++,this[_0x59af36(0x237)]>this[_0x59af36(0x1a4)]&&(this[_0x59af36(0x1ee)]++,this[_0x59af36(0x237)]=0x0),this[_0x59af36(0x1ee)]>=this[_0x59af36(0x211)][this[_0x59af36(0x1c7)]]['length']&&(this[_0x59af36(0x1ee)]=0x0,this[_0x59af36(0x1c7)]==0x1&&(this['action']=0x2),this[_0x59af36(0x1c7)]==0x2&&this[_0x59af36(0x1dd)]++==0x2&&(this[_0x59af36(0x1c7)]=0x3),this['action']==0x3&&(this[_0x59af36(0x21b)]=0x1,this[_0x59af36(0x233)]++,this['downCounter']==0x3&&(this[_0x59af36(0x21b)]=0x0,this[_0x59af36(0x1c7)]=0x0,this[_0x59af36(0x233)]=0x0,this[_0x59af36(0x1dd)]=0x0))),player['x']>this['x']-this['range']&&this['action']<0x1&&(this[_0x59af36(0x1c7)]=0x1,this[_0x59af36(0x1ee)]=0x0,this[_0x59af36(0x237)]=0x0),c[_0x59af36(0x1b2)](SPRITESHEET,this[_0x59af36(0x211)][this[_0x59af36(0x1c7)]][this[_0x59af36(0x1ee)]]*GLOBAL[_0x59af36(0x1d7)]|0x0,this[_0x59af36(0x1c0)][this[_0x59af36(0x1c7)]][this[_0x59af36(0x1ee)]]*GLOBAL['tileSize']|0x0,(this['w']+this[_0x59af36(0x21b)])*GLOBAL['tileSize'],this['h']*GLOBAL[_0x59af36(0x1d7)],map['x']+(this['x']-this['down'])*GLOBAL[_0x59af36(0x1d7)]*GLOBAL[_0x59af36(0x1a8)]|0x0,map['y']+this['y']*GLOBAL[_0x59af36(0x1d7)]*GLOBAL[_0x59af36(0x1a8)]|0x0,(this['w']+this['down'])*GLOBAL['tileSize']*GLOBAL[_0x59af36(0x1a8)]|0x0,this['h']*GLOBAL[_0x59af36(0x1d7)]*GLOBAL[_0x59af36(0x1a8)]|0x0);}}class MageAttack{constructor(_0x37be32,_0x2d1494){const _0x163592=_0x291ecb;this['x']=_0x37be32,this['y']=0x0,this['w']=0x2,this['h']=0xf,this[_0x163592(0x1ee)]=0x0,this[_0x163592(0x237)]=0x0,this[_0x163592(0x1fd)]=_0x163592(0x1c4),this['disabled']=!![],this['slowness']=0x3,this['attacking']=![],this[_0x163592(0x1c7)]=0x0,this[_0x163592(0x211)]=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this[_0x163592(0x1c0)]=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this[_0x163592(0x201)]=0x0,this[_0x163592(0x1ab)]=0.3,this[_0x163592(0x22b)]=!![],this[_0x163592(0x227)]={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}[_0x291ecb(0x1bf)](){const _0x2f0177=_0x291ecb;this[_0x2f0177(0x201)]=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this[_0x2f0177(0x22b)]){if(this[_0x2f0177(0x201)]<0x0)this['x']+=this[_0x2f0177(0x201)]/0xa;else this[_0x2f0177(0x201)]>0x0&&(this['x']+=this[_0x2f0177(0x201)]/0xa);}this[_0x2f0177(0x227)]['x']=this['x']+(this['w']-this[_0x2f0177(0x227)]['w'])/0x2,this['currentFrame']>0x5&&this['currentFrame']<0x9&&(this['follow']=![],collided(this,player)&&(player[_0x2f0177(0x207)]>0x0&&player[_0x2f0177(0x1d3)]==0x0&&(player['healthAmount']-=0x2,playerInterface['shake']=0x4,player['attacked']=!![])));}[_0x291ecb(0x234)](){const _0x22bf14=_0x291ecb;this['frameCounter']++,this['frameCounter']>this[_0x22bf14(0x1a4)]&&(this[_0x22bf14(0x1ee)]++,this[_0x22bf14(0x237)]=0x0),this[_0x22bf14(0x1ee)]>=this[_0x22bf14(0x211)][this[_0x22bf14(0x1c7)]][_0x22bf14(0x1c6)]&&(this[_0x22bf14(0x1ee)]=0x0,this[_0x22bf14(0x1cc)]=!![]),c['drawImage'](SPRITESHEET,this['actionX'][this['action']][this[_0x22bf14(0x1ee)]]*GLOBAL[_0x22bf14(0x1d7)]|0x0,this[_0x22bf14(0x1c0)][this[_0x22bf14(0x1c7)]][this['currentFrame']]*GLOBAL[_0x22bf14(0x1d7)]|0x0,this['w']*GLOBAL[_0x22bf14(0x1d7)],this['h']*GLOBAL[_0x22bf14(0x1d7)],map['x']+this['x']*GLOBAL[_0x22bf14(0x1d7)]*GLOBAL[_0x22bf14(0x1a8)]|0x0,this['y']*GLOBAL[_0x22bf14(0x1d7)]*GLOBAL[_0x22bf14(0x1a8)]|0x0,this['w']*GLOBAL[_0x22bf14(0x1d7)]*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x22bf14(0x1d7)]*GLOBAL[_0x22bf14(0x1a8)]|0x0);}}class MageMonster{constructor(_0x101b8b,_0x2f5200){const _0x5b37db=_0x291ecb;this['x']=_0x101b8b,this['y']=_0x2f5200,this['w']=0x1,this['h']=0x1,this[_0x5b37db(0x203)]=0x0,this[_0x5b37db(0x1f9)]=0x0,this[_0x5b37db(0x1ab)]=0.1,this[_0x5b37db(0x232)]=0xa,this[_0x5b37db(0x20d)]=![],this[_0x5b37db(0x1c1)]=0x4,this[_0x5b37db(0x1e2)]=![],this[_0x5b37db(0x223)]=![],this['currentFrame']=0x0,this[_0x5b37db(0x237)]=0x0,this[_0x5b37db(0x1fd)]='mage',this[_0x5b37db(0x1e2)]=![],this[_0x5b37db(0x1a4)]=0x3,this[_0x5b37db(0x1dd)]=0x0,this[_0x5b37db(0x233)]=0x0,this['down']=0x0,this['w']=0x2,this['h']=0x2,this[_0x5b37db(0x1c7)]=0x0,this[_0x5b37db(0x227)]={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x5b37db(0x1fa)]=new MageAttack(0x0,0x0),this[_0x5b37db(0x211)]=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this[_0x5b37db(0x1c0)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}[_0x291ecb(0x1bf)](){const _0x23d8dc=_0x291ecb;this[_0x23d8dc(0x232)]--,this[_0x23d8dc(0x232)]<=0x0&&(this[_0x23d8dc(0x232)]=0xa,collided(this[_0x23d8dc(0x22c)],player)?(this[_0x23d8dc(0x20d)]=!![],this[_0x23d8dc(0x1fa)][_0x23d8dc(0x1cc)]&&(this[_0x23d8dc(0x1fa)]['disabled']=![],this[_0x23d8dc(0x1fa)]['follow']=!![],this[_0x23d8dc(0x1fa)]['x']=this['x'])):this['attacking']=![],!this[_0x23d8dc(0x20d)]?(this[_0x23d8dc(0x22c)]['x']=this['x']-this[_0x23d8dc(0x1c1)],this['atkBox']['y']=this['y']-this[_0x23d8dc(0x1c1)],this[_0x23d8dc(0x22c)]['w']=this['w']+this[_0x23d8dc(0x1c1)]*0x2,this[_0x23d8dc(0x22c)]['h']=this['h']+this[_0x23d8dc(0x1c1)]*0x2):!this[_0x23d8dc(0x1e2)]&&collided(this,player)&&(player[_0x23d8dc(0x207)]>0x0&&player[_0x23d8dc(0x1d3)]==0x0&&(player[_0x23d8dc(0x207)]--,playerInterface['shake']=0x4,player[_0x23d8dc(0x1e0)]=!![])));}['render'](){const _0x16e38a=_0x291ecb;!this['laser'][_0x16e38a(0x1cc)]&&(this[_0x16e38a(0x1fa)][_0x16e38a(0x1bf)](),this[_0x16e38a(0x1fa)][_0x16e38a(0x234)]()),this['dead']=![],this['attacking']?this[_0x16e38a(0x1c7)]=0x1:this[_0x16e38a(0x1c7)]=0x0,this[_0x16e38a(0x237)]++,this[_0x16e38a(0x237)]>this[_0x16e38a(0x1a4)]&&(this[_0x16e38a(0x1ee)]++,this[_0x16e38a(0x237)]=0x0),this[_0x16e38a(0x1ee)]>=this[_0x16e38a(0x211)][this['action']]['length']&&(this[_0x16e38a(0x1ee)]=0x0),c[_0x16e38a(0x1b2)](SPRITESHEET,this[_0x16e38a(0x211)][this[_0x16e38a(0x1c7)]][this['currentFrame']]*GLOBAL['tileSize']|0x0,this[_0x16e38a(0x1c0)][this[_0x16e38a(0x1c7)]][this[_0x16e38a(0x1ee)]]*GLOBAL[_0x16e38a(0x1d7)]|0x0,(this['w']+this[_0x16e38a(0x21b)])*GLOBAL[_0x16e38a(0x1d7)],this['h']*GLOBAL[_0x16e38a(0x1d7)],map['x']+(this['x']-this[_0x16e38a(0x21b)])*GLOBAL['tileSize']*GLOBAL[_0x16e38a(0x1a8)]|0x0,map['y']+this['y']*GLOBAL[_0x16e38a(0x1d7)]*GLOBAL[_0x16e38a(0x1a8)]|0x0,(this['w']+this[_0x16e38a(0x21b)])*GLOBAL['tileSize']*GLOBAL[_0x16e38a(0x1a8)]|0x0,this['h']*GLOBAL[_0x16e38a(0x1d7)]*GLOBAL[_0x16e38a(0x1a8)]|0x0);}}class Map{constructor(){const _0xb7d8e9=_0x291ecb;this[_0xb7d8e9(0x235)]=canvas[_0xb7d8e9(0x1c8)]/GLOBAL[_0xb7d8e9(0x1d7)]/GLOBAL['ratio'],this[_0xb7d8e9(0x209)]=canvas[_0xb7d8e9(0x1c5)]/GLOBAL['tileSize']/GLOBAL[_0xb7d8e9(0x1a8)],this['x']=0x0,this['y']=0x0,this[_0xb7d8e9(0x1bb)]=id('spritesheet-bg'),this[_0xb7d8e9(0x1df)]=[0x0,0x0,0x0],this['backgroundsY']=[0x0,0x96,0x12c],this[_0xb7d8e9(0x1e4)]=0x1c2,this[_0xb7d8e9(0x1ec)]=0x96,this[_0xb7d8e9(0x219)]=[0x0,0x0,0x0],this['backgroundPosY']=[0x0,0x0,0x0],this[_0xb7d8e9(0x222)]=[],this['fgTiles']=[],this['map']=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this[_0xb7d8e9(0x1de)]={'x':0xa,'y':0x0},this[_0xb7d8e9(0x1b7)]=[],this[_0xb7d8e9(0x1be)]=[];}[_0x291ecb(0x1cd)](){const _0x2d6a10=_0x291ecb;this['x']=-(player['x']-0x8)*GLOBAL[_0x2d6a10(0x1d7)]*GLOBAL[_0x2d6a10(0x1a8)],this['y']=-(player['y']-0x8)*GLOBAL['tileSize']*GLOBAL['ratio'];}[_0x291ecb(0x214)](){const _0x2641dc=_0x291ecb;for(let _0x452761=0x0;_0x452761<this[_0x2641dc(0x1b7)][_0x2641dc(0x1c6)];_0x452761++){renderTile(this[_0x2641dc(0x1b7)][_0x452761]);}}[_0x291ecb(0x1b4)](){const _0x1d7084=_0x291ecb;for(let _0x101c79=0x0;_0x101c79<this[_0x1d7084(0x222)][_0x1d7084(0x1c6)];_0x101c79++){renderTile(this[_0x1d7084(0x222)][_0x101c79]);}}['renderFgTiles'](){const _0x3d4f92=_0x291ecb;for(let _0x47d596=0x0;_0x47d596<this[_0x3d4f92(0x1a9)][_0x3d4f92(0x1c6)];_0x47d596++){renderTile(this[_0x3d4f92(0x1b7)][_0x47d596]);}}[_0x291ecb(0x1cf)](){const _0x302844=_0x291ecb;for(let _0x2e380d=0x0;_0x2e380d<this['enemies'][_0x302844(0x1c6)];_0x2e380d++){this[_0x302844(0x1be)][_0x2e380d][_0x302844(0x234)]();}}[_0x291ecb(0x1e8)](){const _0x1d71d2=_0x291ecb;this[_0x1d71d2(0x219)][0x1]+=0.6,this[_0x1d71d2(0x219)][0x2]+=0.3;this[_0x1d71d2(0x219)][0x0]>this[_0x1d71d2(0x1e4)]*GLOBAL['ratio']&&(this[_0x1d71d2(0x219)][0x0]-=this[_0x1d71d2(0x1e4)]*GLOBAL[_0x1d71d2(0x1a8)]);this[_0x1d71d2(0x219)][0x1]>this[_0x1d71d2(0x1e4)]*GLOBAL[_0x1d71d2(0x1a8)]&&(this[_0x1d71d2(0x219)][0x1]-=this[_0x1d71d2(0x1e4)]*GLOBAL[_0x1d71d2(0x1a8)]);this[_0x1d71d2(0x219)][0x2]>this[_0x1d71d2(0x1e4)]*GLOBAL['ratio']&&(this[_0x1d71d2(0x219)][0x2]-=this['backgroundSizeW']*GLOBAL[_0x1d71d2(0x1a8)]);for(let _0x21fc44=-0x1;_0x21fc44<0x2;_0x21fc44++){c['drawImage'](this[_0x1d71d2(0x1bb)],this[_0x1d71d2(0x1df)][0x2]|0x0,this['backgroundsY'][0x2]|0x0,this[_0x1d71d2(0x1e4)],this['backgroundSizeH'],this['backgroundSizeW']*GLOBAL[_0x1d71d2(0x1a8)]*_0x21fc44+this[_0x1d71d2(0x219)][0x2]+this['x']/0x8,this['backgroundPosY'][0x2],this['backgroundSizeW']*GLOBAL['ratio'],this[_0x1d71d2(0x1ec)]*GLOBAL[_0x1d71d2(0x1a8)]);}for(let _0x310bab=-0x1;_0x310bab<0x2;_0x310bab++){c[_0x1d71d2(0x1b2)](this['backgroundSheet'],this['backgroundsX'][0x1]|0x0,this['backgroundsY'][0x1]|0x0,this[_0x1d71d2(0x1e4)],this['backgroundSizeH'],this[_0x1d71d2(0x1e4)]*GLOBAL['ratio']*_0x310bab+this[_0x1d71d2(0x219)][0x1]+this['x']/0x6,this[_0x1d71d2(0x1c3)][0x1],this[_0x1d71d2(0x1e4)]*GLOBAL[_0x1d71d2(0x1a8)],this[_0x1d71d2(0x1ec)]*GLOBAL[_0x1d71d2(0x1a8)]);}for(let _0x299bf4=-0x1;_0x299bf4<0x2;_0x299bf4++){c[_0x1d71d2(0x1b2)](this['backgroundSheet'],this[_0x1d71d2(0x1df)][0x0]|0x0,this['backgroundsY'][0x0]|0x0,this['backgroundSizeW'],this[_0x1d71d2(0x1ec)],this[_0x1d71d2(0x1e4)]*GLOBAL[_0x1d71d2(0x1a8)]*_0x299bf4+this['backgroundPosX'][0x0]+this['x']/0x4,this[_0x1d71d2(0x1c3)][0x0],this[_0x1d71d2(0x1e4)]*GLOBAL[_0x1d71d2(0x1a8)],this[_0x1d71d2(0x1ec)]*GLOBAL[_0x1d71d2(0x1a8)]);}c['fillStyle']=_0x1d71d2(0x1ca),c['fillRect'](0x0,this['backgroundsY'][0x0]+this[_0x1d71d2(0x1ec)]*GLOBAL[_0x1d71d2(0x1a8)],canvas[_0x1d71d2(0x1c8)],this[_0x1d71d2(0x1ec)]*GLOBAL[_0x1d71d2(0x1a8)]);}[_0x291ecb(0x1e5)](){const _0x531df2=_0x291ecb;for(let _0xd3b00e=0x0;_0xd3b00e<this[_0x531df2(0x1be)][_0x531df2(0x1c6)];_0xd3b00e++){this[_0x531df2(0x1be)][_0xd3b00e][_0x531df2(0x1bf)]();}}}function _0x108a(_0x2e482e,_0x1ce70b){const _0x569283=_0x557e();return _0x108a=function(_0x7375aa,_0x4a3e5f){_0x7375aa=_0x7375aa-0x1a3;let _0x4143eb=_0x569283[_0x7375aa];return _0x4143eb;},_0x108a(_0x2e482e,_0x1ce70b);}var map=new Map(),mapTester=!![];window[_0x291ecb(0x229)]?window[_0x291ecb(0x229)][_0x291ecb(0x1f0)]?(debug['log'](window[_0x291ecb(0x229)][_0x291ecb(0x1f0)]),safeEval(window['opener'][_0x291ecb(0x1f0)]),initializeMap()):(safeEval(window[_0x291ecb(0x229)][_0x291ecb(0x1ff)]),initializeMap()):mapTester=![];function safeEval(_0x40e3b4){const _0x2f43b9=_0x291ecb;typeof _0x40e3b4===_0x2f43b9(0x228)&&_0x40e3b4!==null&&(map[_0x2f43b9(0x1ff)]=Object[_0x2f43b9(0x206)](_0x40e3b4[_0x2f43b9(0x1ff)]),map[_0x2f43b9(0x1de)]=Object['create'](_0x40e3b4['spawnPoint']),console[_0x2f43b9(0x1f8)](_0x2f43b9(0x1d1)));}function renderTile(_0x35b8f4){const _0x3a3f9d=_0x291ecb;if(_0x35b8f4['stack'])c[_0x3a3f9d(0x1b2)](SPRITESHEET,tiles[_0x35b8f4['type']][0x0]*GLOBAL[_0x3a3f9d(0x1d7)]|0x0,tiles[_0x35b8f4[_0x3a3f9d(0x1fd)]][0x1]*GLOBAL[_0x3a3f9d(0x1d7)]|0x0,_0x35b8f4['w']*GLOBAL[_0x3a3f9d(0x1d7)],_0x35b8f4['h']*GLOBAL[_0x3a3f9d(0x1d7)],map['x']+_0x35b8f4['x']*GLOBAL['tileSize']*GLOBAL[_0x3a3f9d(0x1a8)]|0x0,map['y']+_0x35b8f4['y']*GLOBAL[_0x3a3f9d(0x1d7)]*GLOBAL[_0x3a3f9d(0x1a8)]|0x0,_0x35b8f4['w']*GLOBAL[_0x3a3f9d(0x1d7)]*GLOBAL[_0x3a3f9d(0x1a8)]|0x0,_0x35b8f4['h']*GLOBAL[_0x3a3f9d(0x1d7)]*GLOBAL['ratio']|0x0);else for(let _0x3cdd4e=0x0;_0x3cdd4e<_0x35b8f4['w'];_0x3cdd4e++){for(let _0x14e077=0x0;_0x14e077<_0x35b8f4['h'];_0x14e077++){c['drawImage'](SPRITESHEET,tiles[_0x35b8f4['type']][0x0]*GLOBAL[_0x3a3f9d(0x1d7)]|0x0,tiles[_0x35b8f4[_0x3a3f9d(0x1fd)]][0x1]*GLOBAL[_0x3a3f9d(0x1d7)]|0x0,GLOBAL[_0x3a3f9d(0x1d7)],GLOBAL[_0x3a3f9d(0x1d7)],map['x']+(_0x35b8f4['x']+_0x3cdd4e)*GLOBAL[_0x3a3f9d(0x1d7)]*GLOBAL[_0x3a3f9d(0x1a8)]|0x0,map['y']+(_0x35b8f4['y']+_0x14e077)*GLOBAL[_0x3a3f9d(0x1d7)]*GLOBAL['ratio']|0x0,GLOBAL['tileSize']*GLOBAL[_0x3a3f9d(0x1a8)]|0x0,GLOBAL[_0x3a3f9d(0x1d7)]*GLOBAL[_0x3a3f9d(0x1a8)]|0x0);}}}function gameLoop(){const _0x1166f0=_0x291ecb;GLOBAL[_0x1166f0(0x213)]++,setTimeout(gameLoop,0x3e8/GLOBAL[_0x1166f0(0x215)]),c[_0x1166f0(0x210)](0x0,0x0,canvas[_0x1166f0(0x1c8)],canvas['height']),c['fillStyle']=_0x1166f0(0x1b5),c[_0x1166f0(0x1ae)](0x0,0x0,canvas[_0x1166f0(0x1c8)],canvas[_0x1166f0(0x1c5)]),renderStars(),map[_0x1166f0(0x1e8)](),map['renderTiles'](),map[_0x1166f0(0x1b4)](),player[_0x1166f0(0x1bf)](),checkCollisions(),map[_0x1166f0(0x1e5)](),map[_0x1166f0(0x1cf)](),player['render'](),playerInterface['render'](),map[_0x1166f0(0x1cd)](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0x59a5d0=_0x291ecb;player['x']=map[_0x59a5d0(0x1de)]['x'],player['y']=map['spawnPoint']['y'],map[_0x59a5d0(0x1b7)]=map[_0x59a5d0(0x1ff)];var _0x2dd59e=[];for(let _0x269d0=map[_0x59a5d0(0x1b7)]['length']-0x1;_0x269d0>=0x0;_0x269d0--){switch(map['tiles'][_0x269d0][_0x59a5d0(0x1fd)]){case 0xd:map[_0x59a5d0(0x1be)][_0x59a5d0(0x1d6)](new Monster(map[_0x59a5d0(0x1b7)][_0x269d0]['x'],map[_0x59a5d0(0x1b7)][_0x269d0]['y'])),_0x2dd59e[_0x59a5d0(0x1d6)](_0x269d0);break;case 0xe:map['enemies']['push'](new TeaMonster(map['tiles'][_0x269d0]['x'],map[_0x59a5d0(0x1b7)][_0x269d0]['y'])),_0x2dd59e[_0x59a5d0(0x1d6)](_0x269d0);break;case 0xf:map[_0x59a5d0(0x1be)][_0x59a5d0(0x1d6)](new MageMonster(map[_0x59a5d0(0x1b7)][_0x269d0]['x'],map[_0x59a5d0(0x1b7)][_0x269d0]['y'])),_0x2dd59e[_0x59a5d0(0x1d6)](_0x269d0);break;}}for(let _0x254d08=0x0;_0x254d08<_0x2dd59e[_0x59a5d0(0x1c6)];_0x254d08++){map[_0x59a5d0(0x1b7)][_0x59a5d0(0x1e7)](_0x2dd59e[_0x254d08],0x1);}}