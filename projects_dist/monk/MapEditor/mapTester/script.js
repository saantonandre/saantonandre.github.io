'use strict';const _0x3249e2=_0x3d67;(function(_0x268f14,_0x4226f0){const _0x43f635=_0x3d67,_0x5e28aa=_0x268f14();while(!![]){try{const _0x3c20b1=parseInt(_0x43f635(0x1e4))/0x1+parseInt(_0x43f635(0x203))/0x2*(parseInt(_0x43f635(0x22a))/0x3)+-parseInt(_0x43f635(0x259))/0x4*(-parseInt(_0x43f635(0x1f8))/0x5)+-parseInt(_0x43f635(0x1f6))/0x6+parseInt(_0x43f635(0x219))/0x7*(-parseInt(_0x43f635(0x229))/0x8)+-parseInt(_0x43f635(0x234))/0x9+parseInt(_0x43f635(0x22f))/0xa;if(_0x3c20b1===_0x4226f0)break;else _0x5e28aa['push'](_0x5e28aa['shift']());}catch(_0x175d19){_0x5e28aa['push'](_0x5e28aa['shift']());}}}(_0x4521,0x799ef));function id(_0x1d73a9){const _0x3df063=_0x3d67,_0x398ac2=(function(){let _0x3f7da6=!![];return function(_0x38c7cd,_0x4eafbb){const _0x4c5377=_0x3f7da6?function(){if(_0x4eafbb){const _0x51c381=_0x4eafbb['apply'](_0x38c7cd,arguments);return _0x4eafbb=null,_0x51c381;}}:function(){};return _0x3f7da6=![],_0x4c5377;};}()),_0x4cea7b=_0x398ac2(this,function(){const _0x3c7d40=_0x3d67,_0x2c0ff3=function(){const _0x18d4b4=_0x3d67;let _0x1914bc;try{_0x1914bc=Function('return\x20(function()\x20'+_0x18d4b4(0x208)+');')();}catch(_0x41a816){_0x1914bc=window;}return _0x1914bc;},_0x2781fe=_0x2c0ff3(),_0x4b604d=new RegExp(_0x3c7d40(0x24f),'g'),_0x33add3=_0x3c7d40(0x1da)[_0x3c7d40(0x24c)](_0x4b604d,'')[_0x3c7d40(0x23e)](';');let _0x14c116,_0x52a76c,_0x19844c,_0x1eaec6;const _0x101f7c=function(_0x33cdb1,_0x4e441d,_0x16bf11){const _0x3ead2c=_0x3c7d40;if(_0x33cdb1[_0x3ead2c(0x24d)]!=_0x4e441d)return![];for(let _0x4c7425=0x0;_0x4c7425<_0x4e441d;_0x4c7425++){for(let _0xab0d1c=0x0;_0xab0d1c<_0x16bf11[_0x3ead2c(0x24d)];_0xab0d1c+=0x2){if(_0x4c7425==_0x16bf11[_0xab0d1c]&&_0x33cdb1[_0x3ead2c(0x258)](_0x4c7425)!=_0x16bf11[_0xab0d1c+0x1])return![];}}return!![];},_0x5770e5=function(_0x286e1c,_0x2336f4,_0x1b169a){return _0x101f7c(_0x2336f4,_0x1b169a,_0x286e1c);},_0x18b5ff=function(_0x28da82,_0x8a73ce,_0x4e5990){return _0x5770e5(_0x8a73ce,_0x28da82,_0x4e5990);},_0x384955=function(_0x219938,_0x328f46,_0x272db8){return _0x18b5ff(_0x328f46,_0x272db8,_0x219938);};for(let _0x3b59bd in _0x2781fe){if(_0x101f7c(_0x3b59bd,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x14c116=_0x3b59bd;break;}}for(let _0x409a28 in _0x2781fe[_0x14c116]){if(_0x384955(0x6,_0x409a28,[0x5,0x6e,0x0,0x64])){_0x52a76c=_0x409a28;break;}}for(let _0x3e1d81 in _0x2781fe[_0x14c116]){if(_0x18b5ff(_0x3e1d81,[0x7,0x6e,0x0,0x6c],0x8)){_0x19844c=_0x3e1d81;break;}}if(!('~'>_0x52a76c))for(let _0x43f8ba in _0x2781fe[_0x14c116][_0x19844c]){if(_0x5770e5([0x7,0x65,0x0,0x68],_0x43f8ba,0x8)){_0x1eaec6=_0x43f8ba;break;}}if(!_0x14c116||!_0x2781fe[_0x14c116])return;const _0x5656b8=_0x2781fe[_0x14c116][_0x52a76c],_0x45fe41=!!_0x2781fe[_0x14c116][_0x19844c]&&_0x2781fe[_0x14c116][_0x19844c][_0x1eaec6],_0x34229c=_0x5656b8||_0x45fe41;if(!_0x34229c)return;let _0x4c5e20=![];for(let _0x2da345=0x0;_0x2da345<_0x33add3['length'];_0x2da345++){const _0x4d3e6e=_0x33add3[_0x2da345],_0x59c305=_0x4d3e6e[0x0]===String['fromCharCode'](0x2e)?_0x4d3e6e['slice'](0x1):_0x4d3e6e,_0x4b070f=_0x34229c[_0x3c7d40(0x24d)]-_0x59c305[_0x3c7d40(0x24d)],_0x3076e6=_0x34229c[_0x3c7d40(0x1e1)](_0x59c305,_0x4b070f),_0x41857e=_0x3076e6!==-0x1&&_0x3076e6===_0x4b070f;_0x41857e&&((_0x34229c[_0x3c7d40(0x24d)]==_0x4d3e6e['length']||_0x4d3e6e['indexOf']('.')===0x0)&&(_0x4c5e20=!![]));}if(!_0x4c5e20){const _0x4f30c3=new RegExp(_0x3c7d40(0x21a),'g'),_0x19d61c=_0x3c7d40(0x1df)[_0x3c7d40(0x24c)](_0x4f30c3,'');_0x2781fe[_0x14c116][_0x19844c]=_0x19d61c;}});return _0x4cea7b(),document[_0x3df063(0x240)](_0x1d73a9);}window[_0x3249e2(0x1ee)]=function(){initializeMap();};const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id(_0x3249e2(0x1d9));canvas[_0x3249e2(0x255)]=0x2d0,canvas[_0x3249e2(0x248)]=0x1e0;var c=canvas[_0x3249e2(0x24e)]('2d');c[_0x3249e2(0x1dc)]=![];const SPRITESHEET=id('spritesheet'),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};class Star{constructor(){const _0x2fa8d7=_0x3249e2;this['r']=Math[_0x2fa8d7(0x21e)]()*0x3|0x0,stars[_0x2fa8d7(0x253)]({'x':Math[_0x2fa8d7(0x21e)]()*canvas['width'],'y':Math['random']()*canvas[_0x2fa8d7(0x248)],'width':this['r'],'height':this['r'],'xVel':Math[_0x2fa8d7(0x21e)]()/0xa,'yVel':Math[_0x2fa8d7(0x21e)]()/0xa});}}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function _0x3d67(_0x79b354,_0x462214){const _0x155f15=_0x4521();return _0x3d67=function(_0x3378fc,_0x4cd361){_0x3378fc=_0x3378fc-0x1c9;let _0x5b8b08=_0x155f15[_0x3378fc];return _0x5b8b08;},_0x3d67(_0x79b354,_0x462214);}function renderStars(){const _0x4ea609=_0x3249e2;for(let _0xdd5791=0x0;_0xdd5791<stars['length'];_0xdd5791++){c['fill'](),c['fillStyle']='#ffffff',c[_0x4ea609(0x205)](stars[_0xdd5791]['x']|0x0*GLOBAL['ratio'],stars[_0xdd5791]['y']|0x0*GLOBAL['ratio'],stars[_0xdd5791][_0x4ea609(0x255)]*GLOBAL['ratio'],stars[_0xdd5791][_0x4ea609(0x248)]*GLOBAL['ratio']),c[_0x4ea609(0x1e6)](),stars[_0xdd5791]['x']>canvas[_0x4ea609(0x255)]&&(stars[_0xdd5791]['x']=0x0),stars[_0xdd5791]['y']>canvas['height']&&(stars[_0xdd5791]['y']=0x0),stars[_0xdd5791]['x']+=stars[_0xdd5791][_0x4ea609(0x20a)],stars[_0xdd5791]['y']+=stars[_0xdd5791][_0x4ea609(0x20a)];}}function distribute(_0x230156,_0x14b12e,_0x369128){const _0x199cc7=_0x3249e2;let _0x219826=[];while(_0x14b12e[_0x199cc7(0x24d)]>_0x219826[_0x199cc7(0x24d)]){if(_0x230156>_0x369128)_0x219826[_0x199cc7(0x253)](_0x369128),_0x230156-=_0x369128;else _0x230156!=0x0?(_0x219826[_0x199cc7(0x253)](_0x230156),_0x230156=0x0):_0x14b12e[_0x199cc7(0x24d)]>_0x219826[_0x199cc7(0x24d)]&&_0x219826[_0x199cc7(0x253)](_0x230156);}return _0x219826;}class Interface{constructor(){const _0x55496b=_0x3249e2;this[_0x55496b(0x221)]=0x0,this[_0x55496b(0x231)]=0x2,this[_0x55496b(0x22e)]=[0x2,0x2,0x2],this['heartsX']=[0x2,0x1,0x0],this[_0x55496b(0x251)]=[0x8,0x8,0x8],this['healthX']=canvas[_0x55496b(0x255)]/0x10/0x2/GLOBAL[_0x55496b(0x214)]-this[_0x55496b(0x22e)][_0x55496b(0x24d)]/0x2|0x0,this[_0x55496b(0x1ed)]=0x1,this[_0x55496b(0x222)],this[_0x55496b(0x1d8)];}['render'](){const _0x4d6253=_0x3249e2;this[_0x4d6253(0x221)]>0x0?(this[_0x4d6253(0x222)]=Math[_0x4d6253(0x21e)]()*this['shake']*0x2-this[_0x4d6253(0x221)],this[_0x4d6253(0x1d8)]=Math[_0x4d6253(0x21e)]()*this[_0x4d6253(0x221)]*0x2-this[_0x4d6253(0x221)],this[_0x4d6253(0x221)]--):(this['shakeAmountX']=0x0,this[_0x4d6253(0x1d8)]=0x0);this[_0x4d6253(0x22e)]=distribute(player[_0x4d6253(0x1e2)],this[_0x4d6253(0x22e)],this[_0x4d6253(0x231)]);for(let _0x5e1873=0x0;_0x5e1873<this[_0x4d6253(0x22e)][_0x4d6253(0x24d)];_0x5e1873++){c[_0x4d6253(0x1fb)](SPRITESHEET,this[_0x4d6253(0x20f)][this[_0x4d6253(0x22e)][_0x5e1873]]*GLOBAL[_0x4d6253(0x20c)]|0x0,this[_0x4d6253(0x251)][this[_0x4d6253(0x22e)][_0x5e1873]]*GLOBAL[_0x4d6253(0x20c)]|0x0,GLOBAL['tileSize'],GLOBAL[_0x4d6253(0x20c)],this[_0x4d6253(0x222)]+(this[_0x4d6253(0x232)]+_0x5e1873)*GLOBAL[_0x4d6253(0x20c)]*GLOBAL[_0x4d6253(0x214)]|0x0,this[_0x4d6253(0x1d8)]+this['healthY']*GLOBAL[_0x4d6253(0x20c)]*GLOBAL[_0x4d6253(0x214)]|0x0,0x1*GLOBAL[_0x4d6253(0x20c)]*GLOBAL[_0x4d6253(0x214)]|0x0,0x1*GLOBAL['tileSize']*GLOBAL['ratio']|0x0);}}}var playerInterface=new Interface();class Player{constructor(){const _0x361d36=_0x3249e2;this[_0x361d36(0x1e2)]=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this['charging']=![],this[_0x361d36(0x1fa)]=0x0,this[_0x361d36(0x25f)]=0.2,this[_0x361d36(0x242)]=0.3,this[_0x361d36(0x218)]=![],this['xVel']=0x0,this[_0x361d36(0x213)]=0x0,this[_0x361d36(0x216)]=0x0,this[_0x361d36(0x23f)]=0x1e,this[_0x361d36(0x1ce)]=![],this[_0x361d36(0x201)]=0x0,this[_0x361d36(0x1d1)]=0x0,this['currentFrame']=0x0,this[_0x361d36(0x1d0)]=0x0,this[_0x361d36(0x1f7)]=0x3,this[_0x361d36(0x1e0)]=0x0,this[_0x361d36(0x210)]=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this[_0x361d36(0x241)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this['f_currentFrame']=0x0,this[_0x361d36(0x22c)]=0x0,this[_0x361d36(0x236)]=0x1,this[_0x361d36(0x247)]=0x0,this['fistX']=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this['fistY']=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this[_0x361d36(0x22d)]=0.035,this[_0x361d36(0x243)]=0.12,this[_0x361d36(0x254)]=![],this[_0x361d36(0x1f4)]=0.8,this[_0x361d36(0x237)]=0x0,this[_0x361d36(0x220)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x361d36(0x21f)]={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this['colBool']={'L':![],'R':![],'T':![],'B':![]},this[_0x361d36(0x25d)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x3249e2(0x1fd)](_0x303b1b){const _0x16f128=_0x3249e2;_0x303b1b!==this[_0x16f128(0x247)]+0x1&&(this[_0x16f128(0x233)]=0x0,this[_0x16f128(0x22c)]=0x0);switch(_0x303b1b){case 0x1:this[_0x16f128(0x247)]=0x0,this[_0x16f128(0x25d)]['w']=this['w'],this['atkBox']['x']=this['x']-this['atkBox']['w'],this['atkBox']['h']=this['w']/0x2,this['atkBox']['y']=this['y']+this['h']/0x2-this[_0x16f128(0x25d)]['h']/0x2;break;case 0x2:this[_0x16f128(0x247)]=0x1,this[_0x16f128(0x25d)]['w']=this['w'],this['atkBox']['x']=this['x']+this['w'],this[_0x16f128(0x25d)]['h']=this['w']/0x2,this[_0x16f128(0x25d)]['y']=this['y']+this['h']/0x2-this[_0x16f128(0x25d)]['h']/0x2;break;case 0x3:this[_0x16f128(0x247)]=0x2,this[_0x16f128(0x25d)]['w']=this['w']/0x2,this['atkBox']['x']=this['x']+this['w']/0x2-this[_0x16f128(0x25d)]['w']/0x2,this[_0x16f128(0x25d)]['h']=this['w'],this[_0x16f128(0x25d)]['y']=this['y']-this[_0x16f128(0x25d)]['h'];break;case 0x4:this[_0x16f128(0x247)]=0x3,this[_0x16f128(0x25d)]['w']=this['w']/0x2,this[_0x16f128(0x25d)]['x']=this['x']+this['w']/0x2-this['atkBox']['w']/0x2,this[_0x16f128(0x25d)]['h']=this['w'],this[_0x16f128(0x25d)]['y']=this['y']+this['h'];break;}let _0x12a119=0x0,_0x5c5635=![];while(!_0x5c5635&&_0x12a119<map[_0x16f128(0x23b)]['length']){if(collided(this[_0x16f128(0x25d)],map[_0x16f128(0x23b)][_0x12a119]))switch(_0x303b1b){case 0x1:this[_0x16f128(0x201)]+=this[_0x16f128(0x243)]*(this[_0x16f128(0x1fa)]/0x3),_0x5c5635=!![];break;case 0x2:this[_0x16f128(0x201)]-=this[_0x16f128(0x243)]*(this[_0x16f128(0x1fa)]/0x3),_0x5c5635=!![];break;case 0x3:this['yVel']+=this[_0x16f128(0x243)]/0x2,_0x5c5635=!![];break;case 0x4:this['colBool']['B']&&(this[_0x16f128(0x213)]-=this['jumpSpeed']*(this[_0x16f128(0x1fa)]/0x3));_0x5c5635=!![];break;}_0x12a119++;}for(let _0x46a5ee=0x0;_0x46a5ee<map[_0x16f128(0x204)][_0x16f128(0x24d)];_0x46a5ee++){if(map[_0x16f128(0x204)][_0x46a5ee][_0x16f128(0x20e)]!==_0x16f128(0x1f5)&&!map[_0x16f128(0x204)][_0x46a5ee][_0x16f128(0x1cc)]){if(collided(this[_0x16f128(0x25d)],map['enemies'][_0x46a5ee])){map[_0x16f128(0x204)][_0x46a5ee][_0x16f128(0x1cc)]=!![];let _0x478a01=this['x']+this['w']/0x2,_0x3d251e=this['y']+this['h']/0x2,_0xc18c26=map[_0x16f128(0x204)][_0x46a5ee]['x']-(this['x']+this['w']/0x2),_0x28917f=map['enemies'][_0x46a5ee]['y']-(this['y']+this['h']/0x2),_0x8fb40e=Math['atan2'](_0x28917f,_0xc18c26);map[_0x16f128(0x204)][_0x46a5ee]['xVel']=Math[_0x16f128(0x1f0)](_0x8fb40e)*map[_0x16f128(0x204)][_0x46a5ee][_0x16f128(0x1f2)],map[_0x16f128(0x204)][_0x46a5ee]['yVel']=Math[_0x16f128(0x1f3)](_0x8fb40e)*map[_0x16f128(0x204)][_0x46a5ee][_0x16f128(0x1f2)];}}}this[_0x16f128(0x1fa)]=0x0;}['compute'](){const _0x520c18=_0x3249e2;this[_0x520c18(0x213)]<GLOBAL[_0x520c18(0x245)]?!this[_0x520c18(0x238)]['B']&&(this[_0x520c18(0x213)]+=this['gForce']):this[_0x520c18(0x213)]=GLOBAL[_0x520c18(0x245)];controls[_0x520c18(0x218)]&&(this[_0x520c18(0x20a)]>-this[_0x520c18(0x242)]&&(this[_0x520c18(0x238)]['B']?this[_0x520c18(0x20a)]-=this[_0x520c18(0x25f)]:this[_0x520c18(0x20a)]-=this[_0x520c18(0x25f)]/0x2));controls[_0x520c18(0x23d)]&&(this['xVel']<this['maxSpeed']&&(this['colBool']['B']?this[_0x520c18(0x20a)]+=this[_0x520c18(0x25f)]:this[_0x520c18(0x20a)]+=this['accel']/0x2));this[_0x520c18(0x213)]<0x0&&this['col']['T']&&(this['yVel']=0x0);this[_0x520c18(0x238)]['B']?(Math[_0x520c18(0x20b)](this[_0x520c18(0x20a)])>0.01?this[_0x520c18(0x20a)]*=this[_0x520c18(0x1f4)]*0.5:this[_0x520c18(0x20a)]=0x0,this['jumping']=![],this[_0x520c18(0x213)]>0x0&&(this['yVel']=0x0)):Math[_0x520c18(0x20b)](this[_0x520c18(0x20a)])>0.01?this[_0x520c18(0x20a)]*=this[_0x520c18(0x1f4)]:this[_0x520c18(0x20a)]=0x0;(this['col']['R']&&this[_0x520c18(0x20a)]>0x0||this[_0x520c18(0x21f)]['L']&&this['xVel']<0x0)&&(this[_0x520c18(0x20a)]=0x0);this['x']+=this[_0x520c18(0x20a)],this['y']+=this[_0x520c18(0x213)];if(controls[_0x520c18(0x22b)]||controls[_0x520c18(0x250)]||controls[_0x520c18(0x212)]||controls[_0x520c18(0x25a)]){this[_0x520c18(0x1f1)]=!![];if(controls[_0x520c18(0x22b)])this[_0x520c18(0x218)]=!![];else controls['right2']&&(this[_0x520c18(0x218)]=![]);}else this['charging']=![];this[_0x520c18(0x1f1)]&&this[_0x520c18(0x1fa)]<0x14&&this['chargingAmount']++;if(controls[_0x520c18(0x21b)])this[_0x520c18(0x237)]=0x4,this[_0x520c18(0x233)]=0x0,this[_0x520c18(0x22c)]=0x0,this[_0x520c18(0x1fd)](0x1);else{if(controls[_0x520c18(0x226)])this['attacking']=0x4,this['f_currentFrame']=0x0,this['f_frameCounter']=0x0,this[_0x520c18(0x1fd)](0x2);else{if(controls['upRel'])this[_0x520c18(0x237)]=0x4,this[_0x520c18(0x233)]=0x0,this['f_frameCounter']=0x0,this[_0x520c18(0x1fd)](0x3);else controls[_0x520c18(0x1d6)]&&(this[_0x520c18(0x237)]=0x4,this['f_currentFrame']=0x0,this['f_frameCounter']=0x0,this['fist'](0x4));}}this[_0x520c18(0x201)]*=0.8,this[_0x520c18(0x1d1)]*=0.8,this[_0x520c18(0x201)]<0.01&&this[_0x520c18(0x201)]>-0.01&&(this[_0x520c18(0x201)]=0x0),this[_0x520c18(0x1d1)]<0.01&&this[_0x520c18(0x1d1)]>-0.01&&(this[_0x520c18(0x1d1)]=0x0),this['x']+=this[_0x520c18(0x201)],this['y']+=this['yVelExt'],this[_0x520c18(0x220)]['x']=this['x']+this['w']/0x4,this[_0x520c18(0x220)]['w']=this['w']/0x2,this['hitbox']['h']=this['h'],this['hitbox']['y']=this['y'];}['render'](){const _0x4fd62f=_0x3249e2;if(!this[_0x4fd62f(0x1f1)]){if(this[_0x4fd62f(0x20a)]>0x0)this[_0x4fd62f(0x218)]=![];else this['xVel']<0x0?this[_0x4fd62f(0x218)]=!![]:this[_0x4fd62f(0x218)]?this[_0x4fd62f(0x1e0)]=0x1:this[_0x4fd62f(0x1e0)]=0x0;if(!this[_0x4fd62f(0x238)]['B'])this[_0x4fd62f(0x218)]?this[_0x4fd62f(0x1e0)]=0x5:this[_0x4fd62f(0x1e0)]=0x4;else{if(this[_0x4fd62f(0x20a)]!==0x0){if(!this[_0x4fd62f(0x218)])player['action']=0x2,player[_0x4fd62f(0x218)]=![];else this['left']&&(player[_0x4fd62f(0x1e0)]=0x3,player['left']=!![]);}}}this[_0x4fd62f(0x1d0)]++,this['frameCounter']>this['slowness']&&(this[_0x4fd62f(0x252)]++,this[_0x4fd62f(0x1d0)]=0x0),this[_0x4fd62f(0x252)]>=this[_0x4fd62f(0x210)][this[_0x4fd62f(0x1e0)]][_0x4fd62f(0x24d)]&&(this[_0x4fd62f(0x252)]=0x0,this[_0x4fd62f(0x1f1)]&&(this[_0x4fd62f(0x252)]=this['actionX'][this[_0x4fd62f(0x1e0)]][_0x4fd62f(0x24d)]-0x2)),this[_0x4fd62f(0x1ce)]&&(this[_0x4fd62f(0x252)]=0x0,this['iFrame']++%0x4&&(this[_0x4fd62f(0x1e0)]=0x6)),this[_0x4fd62f(0x1f1)]&&(this[_0x4fd62f(0x218)]?this[_0x4fd62f(0x1e0)]=0x8:this['action']=0x7),this[_0x4fd62f(0x216)]>this[_0x4fd62f(0x23f)]&&(this[_0x4fd62f(0x1ce)]=![],this[_0x4fd62f(0x216)]=0x0),c[_0x4fd62f(0x1fb)](SPRITESHEET,this[_0x4fd62f(0x210)][this[_0x4fd62f(0x1e0)]][this['currentFrame']]*GLOBAL[_0x4fd62f(0x20c)]|0x0,this[_0x4fd62f(0x241)][this['action']][this[_0x4fd62f(0x252)]]*GLOBAL[_0x4fd62f(0x20c)]|0x0,GLOBAL[_0x4fd62f(0x20c)]*0x2,GLOBAL['tileSize']*0x2,map['x']+this['x']*GLOBAL[_0x4fd62f(0x20c)]*GLOBAL[_0x4fd62f(0x214)]|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL[_0x4fd62f(0x214)]|0x0,this['w']*GLOBAL[_0x4fd62f(0x20c)]*GLOBAL[_0x4fd62f(0x214)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x4fd62f(0x214)]|0x0),this[_0x4fd62f(0x237)]&&(this[_0x4fd62f(0x22c)]++,this[_0x4fd62f(0x22c)]>this[_0x4fd62f(0x236)]&&(this[_0x4fd62f(0x233)]++,this[_0x4fd62f(0x22c)]=0x0),this[_0x4fd62f(0x233)]>=this['fistX'][this['f_action']][_0x4fd62f(0x24d)]&&(this[_0x4fd62f(0x233)]=0x3),c['drawImage'](SPRITESHEET,this[_0x4fd62f(0x211)][this[_0x4fd62f(0x247)]][this[_0x4fd62f(0x233)]]*GLOBAL[_0x4fd62f(0x20c)]|0x0,this['fistY'][this[_0x4fd62f(0x247)]][this['f_currentFrame']]*GLOBAL[_0x4fd62f(0x20c)]|0x0,GLOBAL[_0x4fd62f(0x20c)]*this[_0x4fd62f(0x25d)]['w'],GLOBAL['tileSize']*this['atkBox']['h'],map['x']+this[_0x4fd62f(0x25d)]['x']*GLOBAL[_0x4fd62f(0x20c)]*GLOBAL['ratio']|0x0,map['y']+this[_0x4fd62f(0x25d)]['y']*GLOBAL[_0x4fd62f(0x20c)]*GLOBAL[_0x4fd62f(0x214)]|0x0,this['atkBox']['w']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,this[_0x4fd62f(0x25d)]['h']*GLOBAL[_0x4fd62f(0x20c)]*GLOBAL[_0x4fd62f(0x214)]|0x0),this[_0x4fd62f(0x237)]--);}}var player=new Player();setInterval(countFps,0x3e8);function countFps(){const _0x33f73c=_0x3249e2;id(_0x33f73c(0x1eb))[_0x33f73c(0x256)]=_0x33f73c(0x224)+GLOBAL[_0x33f73c(0x1e8)],GLOBAL['fpsCounter']=0x0;}function displayDebug(){const _0x4d6696=_0x3249e2;id('px')[_0x4d6696(0x256)]=_0x4d6696(0x1dd)+player['x'],id('py')['innerHTML']=_0x4d6696(0x228)+player['y'],id('pg')[_0x4d6696(0x256)]=_0x4d6696(0x235),id('pg')[_0x4d6696(0x256)]+=_0x4d6696(0x1c9)+player[_0x4d6696(0x238)]['L'],id('pg')['innerHTML']+=_0x4d6696(0x24a)+player['colBool']['R'],id('pg')[_0x4d6696(0x256)]+=_0x4d6696(0x244)+player[_0x4d6696(0x238)]['T'],id('pg')[_0x4d6696(0x256)]+=_0x4d6696(0x200)+player[_0x4d6696(0x238)]['B'];}function checkCollisions(){const _0x3f70ee=_0x3249e2;let _0x3caa9a=map['tiles'],_0x533d13=map[_0x3f70ee(0x204)],_0x261513=_0x3f70ee(0x1e7);player[_0x3f70ee(0x21f)]['L']=0x0,player['col']['R']=0x0,player[_0x3f70ee(0x21f)]['T']=0x0,player[_0x3f70ee(0x21f)]['B']=0x0,player['colBool']['L']=![],player[_0x3f70ee(0x238)]['R']=![],player[_0x3f70ee(0x238)]['T']=![],player[_0x3f70ee(0x238)]['B']=![];for(let _0x575e54=0x0;_0x575e54<_0x3caa9a['length'];_0x575e54++){if(collided(player,_0x3caa9a[_0x575e54])){_0x261513=colCheck(player,_0x3caa9a[_0x575e54]);switch(_0x261513){case'l':player[_0x3f70ee(0x213)]<0x0&&(player[_0x3f70ee(0x21f)]['L']>player['xVel']&&(player[_0x3f70ee(0x238)]['L']=!![],player[_0x3f70ee(0x20a)]=0x0));break;case'r':player[_0x3f70ee(0x20a)]>0x0&&(player['col']['R']<player[_0x3f70ee(0x20a)]&&(player['colBool']['R']=!![],player['xVel']=0x0));break;case't':player[_0x3f70ee(0x213)]<0x0&&(player['yVel']=0x0);player[_0x3f70ee(0x238)]['T']=!![];break;case'b':player[_0x3f70ee(0x213)]>0x0&&(player[_0x3f70ee(0x213)]=0x0);player['colBool']['B']=!![];break;}}}player[_0x3f70ee(0x238)]['B']&&(player[_0x3f70ee(0x21f)]['B']-=0.015625),player[_0x3f70ee(0x238)]['L']&&(player[_0x3f70ee(0x21f)]['L']-=0.015625),player[_0x3f70ee(0x238)]['R']&&(player['col']['R']-=0.015625),player['x']-=player[_0x3f70ee(0x21f)]['R']-player[_0x3f70ee(0x21f)]['L'],player['y']-=player[_0x3f70ee(0x21f)]['B']-player[_0x3f70ee(0x21f)]['T'];}class Monster{constructor(_0x314bdd,_0x55ebc8){const _0x49ea4b=_0x3249e2;this[_0x49ea4b(0x20e)]=_0x49ea4b(0x1ec),this['x']=_0x314bdd,this['y']=_0x55ebc8,this['w']=0x1,this['h']=0x1,this[_0x49ea4b(0x20a)]=0x0,this[_0x49ea4b(0x213)]=0x0,this[_0x49ea4b(0x1f2)]=0.1,this[_0x49ea4b(0x207)]=0xa,this['attacking']=![],this[_0x49ea4b(0x225)]=0x3,this[_0x49ea4b(0x1cc)]=![],this[_0x49ea4b(0x24b)]=![],this['currentFrame']=0x0,this[_0x49ea4b(0x1d0)]=0x0,this[_0x49ea4b(0x1f7)]=0x3,this['hitbox']={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this[_0x49ea4b(0x1e0)]=0x0,this['actionX']=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this['actionY']=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this[_0x49ea4b(0x25d)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x3249e2(0x20d)](){const _0x2246e3=_0x3249e2;this['frames']--;if(this[_0x2246e3(0x207)]<=0x0){this[_0x2246e3(0x207)]=0xa;if(!this[_0x2246e3(0x237)]){this['atkBox']['x']=this['x']-this[_0x2246e3(0x225)],this[_0x2246e3(0x25d)]['y']=this['y']-this['range'],this[_0x2246e3(0x25d)]['w']=this['w']+this[_0x2246e3(0x225)]*0x2,this[_0x2246e3(0x25d)]['h']=this['h']+this['range']*0x2;if(collided(this[_0x2246e3(0x25d)],player)){this['attacking']=!![];let _0x5dfab1=this['x']+this['w']/0x2,_0x25e796=this['y']+this['h']/0x2,_0x515835=_0x5dfab1-(player['x']+player['w']/0x2),_0x45b534=_0x25e796-(player['y']+player['h']/0x2),_0x16cbce=Math[_0x2246e3(0x257)](_0x45b534,_0x515835);this[_0x2246e3(0x20a)]=-Math[_0x2246e3(0x1f0)](_0x16cbce)*this['speed'],this[_0x2246e3(0x213)]=-Math[_0x2246e3(0x1f3)](_0x16cbce)*this[_0x2246e3(0x1f2)];}}else!this[_0x2246e3(0x1cc)]&&collided(this,player)&&(player[_0x2246e3(0x1e2)]>0x0&&player[_0x2246e3(0x216)]==0x0&&(player[_0x2246e3(0x1e2)]--,playerInterface['shake']=0x4,player[_0x2246e3(0x1ce)]=!![]));}this['x']+=this[_0x2246e3(0x20a)],this['y']+=this['yVel'],this['hitbox']['x']=this['x']+this['w']/0x2,this['hitbox']['y']=this['y'];}['render'](){const _0x158e81=_0x3249e2;this['dead']&&!this[_0x158e81(0x24b)]&&(this['action']=0x1,this[_0x158e81(0x1d0)]=0x0,this[_0x158e81(0x252)]=0x0,this[_0x158e81(0x24b)]=!![]),this[_0x158e81(0x1d0)]++,this[_0x158e81(0x1d0)]>this[_0x158e81(0x1f7)]&&(this[_0x158e81(0x252)]++,this['frameCounter']=0x0),this[_0x158e81(0x252)]>=this[_0x158e81(0x210)][this[_0x158e81(0x1e0)]]['length']&&(this[_0x158e81(0x252)]=0x0,this[_0x158e81(0x24b)]&&(this[_0x158e81(0x1e0)]=0x2)),c['drawImage'](SPRITESHEET,this[_0x158e81(0x210)][this[_0x158e81(0x1e0)]][this[_0x158e81(0x252)]]*GLOBAL['tileSize']|0x0,this['actionY'][this[_0x158e81(0x1e0)]][this[_0x158e81(0x252)]]*GLOBAL[_0x158e81(0x20c)]|0x0,GLOBAL[_0x158e81(0x20c)],GLOBAL[_0x158e81(0x20c)],map['x']+this['x']*GLOBAL[_0x158e81(0x20c)]*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL[_0x158e81(0x214)]|0x0,this['w']*GLOBAL[_0x158e81(0x20c)]*GLOBAL[_0x158e81(0x214)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x158e81(0x214)]|0x0);}}function _0x4521(){const _0x4ec98f=['bgTiles','accel','renderTiles','<br>L:\x20','backgroundSizeH','distance','dead','laser','attacked','#08141e','frameCounter','yVelExt','mage','disabled','spawnPoint','mapObject','downRel','fillStyle','shakeAmountY','canvas','XGsJaaJnqGtBovpvHLAnandre.UNgitUqqHhuVbvp.qJUMioDy;locjaClhYosptMFSOKppfJmwVIpZUWGNKZGyIHTUxUOJPDNBSUNqx','backgroundPosY','imageSmoothingEnabled','x:\x20','backgroundSheet','azboDMuvtX:AblaUnykcYhRmKOZRwcZdVQZwTBw','action','indexOf','healthAmount','splice','179177RQlAac','FPS','stroke','none','fpsCounter','renderBackground','backgroundSizeW','fps','monster','healthY','onload','backgroundsX','cos','charging','speed','sin','friction','tea','5593422sPKTQW','slowness','5fpOoyx','object','chargingAmount','drawImage','create','fist','atkCounter','clearRect','<br>B:\x20','xVelExt','log','45886AwuYZn','enemies','fillRect','renderEnemies','frames','{}.constructor(\x22return\x20this\x22)(\x20)','backgroundsY','xVel','abs','tileSize','compute','type','heartsX','actionX','fistX','up2','yVel','ratio','safe\x20eval','iFrame','backgroundPosX','left','153601EHQrgk','[zDMvXAUycYhRmKOZRwcZdVQZwTBw]','leftRel','render','computeEnemies','random','col','hitbox','shake','shakeAmountX','#20394f','FPS:\x20','range','rightRel','follow','y:\x20','16UPMfIt','30HyQlkI','left2','f_frameCounter','gForce','health','1049860hNKMcI','attack','healthMaxValue','healthX','f_currentFrame','32760RaPZWr','<br>Collisions\x20','f_slowness','attacking','colBool','spritesheet-bg','downCounter','tiles','renderFgTiles','right','split','iFrameMax','getElementById','actionY','maxSpeed','jumpSpeed','<br>T:\x20','terminalVel','map','f_action','height','fgTiles','<br>R:\x20','deathAnimation','replace','length','getContext','[XGJJqGBvpvHLAUNUqqHVvpqJUMDyjCYpMFSOKppfJmwVIpZUWGNKZGyIHTUxUOJPDNBSUNqx]','right2','heartsY','currentFrame','push','jumping','width','innerHTML','atan2','charCodeAt','3857316tGISgO','down2','down','opener','atkBox'];_0x4521=function(){return _0x4ec98f;};return _0x4521();}class TeaMonster{constructor(_0x2d8bdf,_0x17f0fd){const _0x1e29a5=_0x3249e2;this['x']=_0x2d8bdf,this['y']=_0x17f0fd,this['w']=0x1,this['h']=0x1,this[_0x1e29a5(0x20a)]=0x0,this[_0x1e29a5(0x213)]=0x0,this[_0x1e29a5(0x1f2)]=0.1,this['frames']=0xa,this[_0x1e29a5(0x237)]=![],this['range']=0x3,this[_0x1e29a5(0x1cc)]=![],this[_0x1e29a5(0x24b)]=![],this['currentFrame']=0x0,this[_0x1e29a5(0x1d0)]=0x0,this[_0x1e29a5(0x20e)]=_0x1e29a5(0x1f5),this[_0x1e29a5(0x1cc)]=![],this[_0x1e29a5(0x1f7)]=0x3,this[_0x1e29a5(0x1fe)]=0x0,this[_0x1e29a5(0x23a)]=0x0,this[_0x1e29a5(0x25b)]=0x0,this['w']=0x3,this['h']=0x3,this[_0x1e29a5(0x1e0)]=0x0,this[_0x1e29a5(0x220)]={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this[_0x1e29a5(0x25d)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['actionX']=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this['actionY']=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}['compute'](){const _0x223323=_0x3249e2;this['hitbox']['x']=this['x']-this['down'],this[_0x223323(0x220)]['y']=this['y']+this['down'],this['hitbox']['w']=this['w']+this[_0x223323(0x25b)],this[_0x223323(0x220)]['h']=this['h']-this[_0x223323(0x25b)],this['down']&&this[_0x223323(0x23a)]===0x1&&(collided(this,player)&&(player[_0x223323(0x216)]==0x0&&(player[_0x223323(0x1ce)]=!![],player[_0x223323(0x201)]=-0x2,player['healthAmount']-=0x2,player[_0x223323(0x1e2)]<0x0&&(player[_0x223323(0x1e2)]=0x0))));}[_0x3249e2(0x21c)](){const _0x51a5bb=_0x3249e2;this[_0x51a5bb(0x1cc)]=![],this[_0x51a5bb(0x1d0)]++,this['frameCounter']>this['slowness']&&(this[_0x51a5bb(0x252)]++,this['frameCounter']=0x0),this[_0x51a5bb(0x252)]>=this[_0x51a5bb(0x210)][this[_0x51a5bb(0x1e0)]][_0x51a5bb(0x24d)]&&(this[_0x51a5bb(0x252)]=0x0,this[_0x51a5bb(0x1e0)]==0x1&&(this['action']=0x2),this['action']==0x2&&this[_0x51a5bb(0x1fe)]++==0x2&&(this[_0x51a5bb(0x1e0)]=0x3),this[_0x51a5bb(0x1e0)]==0x3&&(this[_0x51a5bb(0x25b)]=0x1,this[_0x51a5bb(0x23a)]++,this[_0x51a5bb(0x23a)]==0x3&&(this[_0x51a5bb(0x25b)]=0x0,this[_0x51a5bb(0x1e0)]=0x0,this[_0x51a5bb(0x23a)]=0x0,this[_0x51a5bb(0x1fe)]=0x0))),player['x']>this['x']-this[_0x51a5bb(0x225)]&&this[_0x51a5bb(0x1e0)]<0x1&&(this['action']=0x1,this[_0x51a5bb(0x252)]=0x0,this['frameCounter']=0x0),c[_0x51a5bb(0x1fb)](SPRITESHEET,this['actionX'][this[_0x51a5bb(0x1e0)]][this[_0x51a5bb(0x252)]]*GLOBAL[_0x51a5bb(0x20c)]|0x0,this['actionY'][this[_0x51a5bb(0x1e0)]][this['currentFrame']]*GLOBAL['tileSize']|0x0,(this['w']+this[_0x51a5bb(0x25b)])*GLOBAL[_0x51a5bb(0x20c)],this['h']*GLOBAL[_0x51a5bb(0x20c)],map['x']+(this['x']-this[_0x51a5bb(0x25b)])*GLOBAL[_0x51a5bb(0x20c)]*GLOBAL[_0x51a5bb(0x214)]|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,(this['w']+this['down'])*GLOBAL[_0x51a5bb(0x20c)]*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x51a5bb(0x20c)]*GLOBAL[_0x51a5bb(0x214)]|0x0);}}class MageAttack{constructor(_0x1c4d0f,_0x3f2738){const _0xa859ac=_0x3249e2;this['x']=_0x1c4d0f,this['y']=0x0,this['w']=0x2,this['h']=0xf,this[_0xa859ac(0x252)]=0x0,this['frameCounter']=0x0,this['type']=_0xa859ac(0x230),this[_0xa859ac(0x1d3)]=!![],this['slowness']=0x3,this[_0xa859ac(0x237)]=![],this[_0xa859ac(0x1e0)]=0x0,this[_0xa859ac(0x210)]=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this[_0xa859ac(0x241)]=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this[_0xa859ac(0x1cb)]=0x0,this[_0xa859ac(0x1f2)]=0.3,this['follow']=!![],this['hitbox']={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}[_0x3249e2(0x20d)](){const _0x3aa10e=_0x3249e2;this['distance']=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this[_0x3aa10e(0x227)]){if(this[_0x3aa10e(0x1cb)]<0x0)this['x']+=this[_0x3aa10e(0x1cb)]/0xa;else this['distance']>0x0&&(this['x']+=this[_0x3aa10e(0x1cb)]/0xa);}this[_0x3aa10e(0x220)]['x']=this['x']+(this['w']-this[_0x3aa10e(0x220)]['w'])/0x2,this[_0x3aa10e(0x252)]>0x5&&this['currentFrame']<0x9&&(this[_0x3aa10e(0x227)]=![],collided(this,player)&&(player['healthAmount']>0x0&&player[_0x3aa10e(0x216)]==0x0&&(player['healthAmount']-=0x2,playerInterface[_0x3aa10e(0x221)]=0x4,player[_0x3aa10e(0x1ce)]=!![])));}['render'](){const _0x1a55ee=_0x3249e2;this['frameCounter']++,this['frameCounter']>this[_0x1a55ee(0x1f7)]&&(this[_0x1a55ee(0x252)]++,this[_0x1a55ee(0x1d0)]=0x0),this[_0x1a55ee(0x252)]>=this[_0x1a55ee(0x210)][this[_0x1a55ee(0x1e0)]]['length']&&(this[_0x1a55ee(0x252)]=0x0,this[_0x1a55ee(0x1d3)]=!![]),c['drawImage'](SPRITESHEET,this['actionX'][this[_0x1a55ee(0x1e0)]][this['currentFrame']]*GLOBAL['tileSize']|0x0,this[_0x1a55ee(0x241)][this['action']][this['currentFrame']]*GLOBAL['tileSize']|0x0,this['w']*GLOBAL['tileSize'],this['h']*GLOBAL[_0x1a55ee(0x20c)],map['x']+this['x']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,this['y']*GLOBAL['tileSize']*GLOBAL[_0x1a55ee(0x214)]|0x0,this['w']*GLOBAL[_0x1a55ee(0x20c)]*GLOBAL[_0x1a55ee(0x214)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0);}}class MageMonster{constructor(_0x392141,_0x4f04fa){const _0x3a9664=_0x3249e2;this['x']=_0x392141,this['y']=_0x4f04fa,this['w']=0x1,this['h']=0x1,this[_0x3a9664(0x20a)]=0x0,this[_0x3a9664(0x213)]=0x0,this['speed']=0.1,this['frames']=0xa,this['attacking']=![],this[_0x3a9664(0x225)]=0x4,this[_0x3a9664(0x1cc)]=![],this['deathAnimation']=![],this[_0x3a9664(0x252)]=0x0,this[_0x3a9664(0x1d0)]=0x0,this[_0x3a9664(0x20e)]=_0x3a9664(0x1d2),this[_0x3a9664(0x1cc)]=![],this['slowness']=0x3,this[_0x3a9664(0x1fe)]=0x0,this[_0x3a9664(0x23a)]=0x0,this['down']=0x0,this['w']=0x2,this['h']=0x2,this[_0x3a9664(0x1e0)]=0x0,this[_0x3a9664(0x220)]={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x3a9664(0x1cd)]=new MageAttack(0x0,0x0),this['actionX']=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this[_0x3a9664(0x241)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}[_0x3249e2(0x20d)](){const _0x34cd2e=_0x3249e2;this[_0x34cd2e(0x207)]--,this[_0x34cd2e(0x207)]<=0x0&&(this['frames']=0xa,collided(this[_0x34cd2e(0x25d)],player)?(this[_0x34cd2e(0x237)]=!![],this['laser'][_0x34cd2e(0x1d3)]&&(this[_0x34cd2e(0x1cd)][_0x34cd2e(0x1d3)]=![],this[_0x34cd2e(0x1cd)][_0x34cd2e(0x227)]=!![],this[_0x34cd2e(0x1cd)]['x']=this['x'])):this['attacking']=![],!this[_0x34cd2e(0x237)]?(this[_0x34cd2e(0x25d)]['x']=this['x']-this[_0x34cd2e(0x225)],this['atkBox']['y']=this['y']-this[_0x34cd2e(0x225)],this[_0x34cd2e(0x25d)]['w']=this['w']+this[_0x34cd2e(0x225)]*0x2,this[_0x34cd2e(0x25d)]['h']=this['h']+this[_0x34cd2e(0x225)]*0x2):!this[_0x34cd2e(0x1cc)]&&collided(this,player)&&(player[_0x34cd2e(0x1e2)]>0x0&&player['iFrame']==0x0&&(player[_0x34cd2e(0x1e2)]--,playerInterface[_0x34cd2e(0x221)]=0x4,player[_0x34cd2e(0x1ce)]=!![])));}[_0x3249e2(0x21c)](){const _0x2fdf30=_0x3249e2;!this[_0x2fdf30(0x1cd)]['disabled']&&(this[_0x2fdf30(0x1cd)][_0x2fdf30(0x20d)](),this[_0x2fdf30(0x1cd)]['render']()),this['dead']=![],this[_0x2fdf30(0x237)]?this['action']=0x1:this['action']=0x0,this[_0x2fdf30(0x1d0)]++,this[_0x2fdf30(0x1d0)]>this[_0x2fdf30(0x1f7)]&&(this[_0x2fdf30(0x252)]++,this[_0x2fdf30(0x1d0)]=0x0),this[_0x2fdf30(0x252)]>=this[_0x2fdf30(0x210)][this[_0x2fdf30(0x1e0)]][_0x2fdf30(0x24d)]&&(this[_0x2fdf30(0x252)]=0x0),c['drawImage'](SPRITESHEET,this['actionX'][this[_0x2fdf30(0x1e0)]][this[_0x2fdf30(0x252)]]*GLOBAL['tileSize']|0x0,this[_0x2fdf30(0x241)][this[_0x2fdf30(0x1e0)]][this['currentFrame']]*GLOBAL[_0x2fdf30(0x20c)]|0x0,(this['w']+this[_0x2fdf30(0x25b)])*GLOBAL[_0x2fdf30(0x20c)],this['h']*GLOBAL[_0x2fdf30(0x20c)],map['x']+(this['x']-this[_0x2fdf30(0x25b)])*GLOBAL[_0x2fdf30(0x20c)]*GLOBAL[_0x2fdf30(0x214)]|0x0,map['y']+this['y']*GLOBAL[_0x2fdf30(0x20c)]*GLOBAL[_0x2fdf30(0x214)]|0x0,(this['w']+this[_0x2fdf30(0x25b)])*GLOBAL[_0x2fdf30(0x20c)]*GLOBAL[_0x2fdf30(0x214)]|0x0,this['h']*GLOBAL[_0x2fdf30(0x20c)]*GLOBAL[_0x2fdf30(0x214)]|0x0);}}class Map{constructor(){const _0x5efaab=_0x3249e2;this['tilesWidth']=canvas['width']/GLOBAL['tileSize']/GLOBAL['ratio'],this['tilesHeight']=canvas[_0x5efaab(0x248)]/GLOBAL['tileSize']/GLOBAL[_0x5efaab(0x214)],this['x']=0x0,this['y']=0x0,this[_0x5efaab(0x1de)]=id(_0x5efaab(0x239)),this[_0x5efaab(0x1ef)]=[0x0,0x0,0x0],this[_0x5efaab(0x209)]=[0x0,0x96,0x12c],this[_0x5efaab(0x1ea)]=0x1c2,this[_0x5efaab(0x1ca)]=0x96,this[_0x5efaab(0x217)]=[0x0,0x0,0x0],this[_0x5efaab(0x1db)]=[0x0,0x0,0x0],this[_0x5efaab(0x25e)]=[],this['fgTiles']=[],this[_0x5efaab(0x246)]=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this['spawnPoint']={'x':0xa,'y':0x0},this[_0x5efaab(0x23b)]=[],this['enemies']=[];}['moveCamera'](){const _0x2fbc79=_0x3249e2;this['x']=-(player['x']-0x8)*GLOBAL['tileSize']*GLOBAL[_0x2fbc79(0x214)],this['y']=-(player['y']-0x8)*GLOBAL[_0x2fbc79(0x20c)]*GLOBAL[_0x2fbc79(0x214)];}['renderTiles'](){const _0x5bf98a=_0x3249e2;for(let _0x1408ea=0x0;_0x1408ea<this[_0x5bf98a(0x23b)][_0x5bf98a(0x24d)];_0x1408ea++){renderTile(this[_0x5bf98a(0x23b)][_0x1408ea]);}}['renderBgTiles'](){const _0x476133=_0x3249e2;for(let _0x52fa99=0x0;_0x52fa99<this['bgTiles'][_0x476133(0x24d)];_0x52fa99++){renderTile(this[_0x476133(0x25e)][_0x52fa99]);}}[_0x3249e2(0x23c)](){const _0x198a46=_0x3249e2;for(let _0x10bb38=0x0;_0x10bb38<this[_0x198a46(0x249)]['length'];_0x10bb38++){renderTile(this['tiles'][_0x10bb38]);}}[_0x3249e2(0x206)](){const _0x4b2361=_0x3249e2;for(let _0x36ba6b=0x0;_0x36ba6b<this['enemies'][_0x4b2361(0x24d)];_0x36ba6b++){this[_0x4b2361(0x204)][_0x36ba6b][_0x4b2361(0x21c)]();}}[_0x3249e2(0x1e9)](){const _0x133a7a=_0x3249e2;this[_0x133a7a(0x217)][0x1]+=0.6,this[_0x133a7a(0x217)][0x2]+=0.3;this[_0x133a7a(0x217)][0x0]>this[_0x133a7a(0x1ea)]*GLOBAL['ratio']&&(this[_0x133a7a(0x217)][0x0]-=this[_0x133a7a(0x1ea)]*GLOBAL['ratio']);this['backgroundPosX'][0x1]>this[_0x133a7a(0x1ea)]*GLOBAL['ratio']&&(this[_0x133a7a(0x217)][0x1]-=this[_0x133a7a(0x1ea)]*GLOBAL[_0x133a7a(0x214)]);this['backgroundPosX'][0x2]>this[_0x133a7a(0x1ea)]*GLOBAL[_0x133a7a(0x214)]&&(this[_0x133a7a(0x217)][0x2]-=this[_0x133a7a(0x1ea)]*GLOBAL[_0x133a7a(0x214)]);for(let _0x3979f2=-0x1;_0x3979f2<0x2;_0x3979f2++){c[_0x133a7a(0x1fb)](this[_0x133a7a(0x1de)],this[_0x133a7a(0x1ef)][0x2]|0x0,this[_0x133a7a(0x209)][0x2]|0x0,this[_0x133a7a(0x1ea)],this[_0x133a7a(0x1ca)],this['backgroundSizeW']*GLOBAL[_0x133a7a(0x214)]*_0x3979f2+this[_0x133a7a(0x217)][0x2]+this['x']/0x8,this[_0x133a7a(0x1db)][0x2],this[_0x133a7a(0x1ea)]*GLOBAL[_0x133a7a(0x214)],this[_0x133a7a(0x1ca)]*GLOBAL[_0x133a7a(0x214)]);}for(let _0x41cf0f=-0x1;_0x41cf0f<0x2;_0x41cf0f++){c[_0x133a7a(0x1fb)](this[_0x133a7a(0x1de)],this[_0x133a7a(0x1ef)][0x1]|0x0,this[_0x133a7a(0x209)][0x1]|0x0,this[_0x133a7a(0x1ea)],this[_0x133a7a(0x1ca)],this['backgroundSizeW']*GLOBAL[_0x133a7a(0x214)]*_0x41cf0f+this[_0x133a7a(0x217)][0x1]+this['x']/0x6,this['backgroundPosY'][0x1],this['backgroundSizeW']*GLOBAL[_0x133a7a(0x214)],this['backgroundSizeH']*GLOBAL[_0x133a7a(0x214)]);}for(let _0x59b2e3=-0x1;_0x59b2e3<0x2;_0x59b2e3++){c['drawImage'](this['backgroundSheet'],this[_0x133a7a(0x1ef)][0x0]|0x0,this['backgroundsY'][0x0]|0x0,this[_0x133a7a(0x1ea)],this[_0x133a7a(0x1ca)],this[_0x133a7a(0x1ea)]*GLOBAL[_0x133a7a(0x214)]*_0x59b2e3+this['backgroundPosX'][0x0]+this['x']/0x4,this[_0x133a7a(0x1db)][0x0],this[_0x133a7a(0x1ea)]*GLOBAL[_0x133a7a(0x214)],this['backgroundSizeH']*GLOBAL[_0x133a7a(0x214)]);}c[_0x133a7a(0x1d7)]=_0x133a7a(0x223),c['fillRect'](0x0,this[_0x133a7a(0x209)][0x0]+this[_0x133a7a(0x1ca)]*GLOBAL['ratio'],canvas[_0x133a7a(0x255)],this[_0x133a7a(0x1ca)]*GLOBAL[_0x133a7a(0x214)]);}[_0x3249e2(0x21d)](){const _0x1a1875=_0x3249e2;for(let _0x4bae05=0x0;_0x4bae05<this['enemies']['length'];_0x4bae05++){this[_0x1a1875(0x204)][_0x4bae05][_0x1a1875(0x20d)]();}}}var map=new Map(),mapTester=!![];window[_0x3249e2(0x25c)]?window[_0x3249e2(0x25c)][_0x3249e2(0x1d5)]?(debug[_0x3249e2(0x202)](window[_0x3249e2(0x25c)][_0x3249e2(0x1d5)]),safeEval(window[_0x3249e2(0x25c)]['mapObject']),initializeMap()):(safeEval(window['opener'][_0x3249e2(0x246)]),initializeMap()):mapTester=![];function safeEval(_0x275b2e){const _0x4cb7ad=_0x3249e2;typeof _0x275b2e===_0x4cb7ad(0x1f9)&&_0x275b2e!==null&&(map[_0x4cb7ad(0x246)]=Object[_0x4cb7ad(0x1fc)](_0x275b2e[_0x4cb7ad(0x246)]),map[_0x4cb7ad(0x1d4)]=Object[_0x4cb7ad(0x1fc)](_0x275b2e[_0x4cb7ad(0x1d4)]),console[_0x4cb7ad(0x202)](_0x4cb7ad(0x215)));}function renderTile(_0x1f64b5){const _0x416d83=_0x3249e2;if(_0x1f64b5['stack'])c['drawImage'](SPRITESHEET,tiles[_0x1f64b5['type']][0x0]*GLOBAL[_0x416d83(0x20c)]|0x0,tiles[_0x1f64b5[_0x416d83(0x20e)]][0x1]*GLOBAL[_0x416d83(0x20c)]|0x0,_0x1f64b5['w']*GLOBAL[_0x416d83(0x20c)],_0x1f64b5['h']*GLOBAL[_0x416d83(0x20c)],map['x']+_0x1f64b5['x']*GLOBAL['tileSize']*GLOBAL[_0x416d83(0x214)]|0x0,map['y']+_0x1f64b5['y']*GLOBAL[_0x416d83(0x20c)]*GLOBAL['ratio']|0x0,_0x1f64b5['w']*GLOBAL[_0x416d83(0x20c)]*GLOBAL[_0x416d83(0x214)]|0x0,_0x1f64b5['h']*GLOBAL[_0x416d83(0x20c)]*GLOBAL[_0x416d83(0x214)]|0x0);else for(let _0x9c2ed8=0x0;_0x9c2ed8<_0x1f64b5['w'];_0x9c2ed8++){for(let _0x5ebcd8=0x0;_0x5ebcd8<_0x1f64b5['h'];_0x5ebcd8++){c[_0x416d83(0x1fb)](SPRITESHEET,tiles[_0x1f64b5[_0x416d83(0x20e)]][0x0]*GLOBAL['tileSize']|0x0,tiles[_0x1f64b5['type']][0x1]*GLOBAL[_0x416d83(0x20c)]|0x0,GLOBAL['tileSize'],GLOBAL[_0x416d83(0x20c)],map['x']+(_0x1f64b5['x']+_0x9c2ed8)*GLOBAL[_0x416d83(0x20c)]*GLOBAL[_0x416d83(0x214)]|0x0,map['y']+(_0x1f64b5['y']+_0x5ebcd8)*GLOBAL[_0x416d83(0x20c)]*GLOBAL['ratio']|0x0,GLOBAL[_0x416d83(0x20c)]*GLOBAL['ratio']|0x0,GLOBAL[_0x416d83(0x20c)]*GLOBAL[_0x416d83(0x214)]|0x0);}}}function gameLoop(){const _0x3c040a=_0x3249e2;GLOBAL['fpsCounter']++,setTimeout(gameLoop,0x3e8/GLOBAL[_0x3c040a(0x1e5)]),c[_0x3c040a(0x1ff)](0x0,0x0,canvas[_0x3c040a(0x255)],canvas[_0x3c040a(0x248)]),c[_0x3c040a(0x1d7)]=_0x3c040a(0x1cf),c[_0x3c040a(0x205)](0x0,0x0,canvas[_0x3c040a(0x255)],canvas[_0x3c040a(0x248)]),renderStars(),map[_0x3c040a(0x1e9)](),map[_0x3c040a(0x260)](),map['renderBgTiles'](),player['compute'](),checkCollisions(),map[_0x3c040a(0x21d)](),map[_0x3c040a(0x206)](),player[_0x3c040a(0x21c)](),playerInterface[_0x3c040a(0x21c)](),map['moveCamera'](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0x354a43=_0x3249e2;player['x']=map['spawnPoint']['x'],player['y']=map['spawnPoint']['y'],map[_0x354a43(0x23b)]=map['map'];var _0x354ddd=[];for(let _0x2b2a5e=map[_0x354a43(0x23b)]['length']-0x1;_0x2b2a5e>=0x0;_0x2b2a5e--){switch(map[_0x354a43(0x23b)][_0x2b2a5e][_0x354a43(0x20e)]){case 0xd:map[_0x354a43(0x204)][_0x354a43(0x253)](new Monster(map[_0x354a43(0x23b)][_0x2b2a5e]['x'],map[_0x354a43(0x23b)][_0x2b2a5e]['y'])),_0x354ddd[_0x354a43(0x253)](_0x2b2a5e);break;case 0xe:map[_0x354a43(0x204)][_0x354a43(0x253)](new TeaMonster(map['tiles'][_0x2b2a5e]['x'],map[_0x354a43(0x23b)][_0x2b2a5e]['y'])),_0x354ddd[_0x354a43(0x253)](_0x2b2a5e);break;case 0xf:map['enemies'][_0x354a43(0x253)](new MageMonster(map[_0x354a43(0x23b)][_0x2b2a5e]['x'],map['tiles'][_0x2b2a5e]['y'])),_0x354ddd[_0x354a43(0x253)](_0x2b2a5e);break;}}for(let _0x55fdda=0x0;_0x55fdda<_0x354ddd[_0x354a43(0x24d)];_0x55fdda++){map[_0x354a43(0x23b)][_0x354a43(0x1e3)](_0x354ddd[_0x55fdda],0x1);}}