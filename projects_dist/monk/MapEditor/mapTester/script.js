'use strict';function _0x306f(_0x29de11,_0x3121c1){const _0x3b064f=_0x5e2b();return _0x306f=function(_0x387bc7,_0x1a95a6){_0x387bc7=_0x387bc7-0x72;let _0x2e8143=_0x3b064f[_0x387bc7];return _0x2e8143;},_0x306f(_0x29de11,_0x3121c1);}const _0x11faa0=_0x306f;(function(_0x437ce3,_0x27d6cc){const _0x16db43=_0x306f,_0x2cda73=_0x437ce3();while(!![]){try{const _0x13b3bd=parseInt(_0x16db43(0xc8))/0x1+-parseInt(_0x16db43(0xf4))/0x2+-parseInt(_0x16db43(0xb9))/0x3+-parseInt(_0x16db43(0xb4))/0x4+parseInt(_0x16db43(0xc0))/0x5*(-parseInt(_0x16db43(0xdd))/0x6)+-parseInt(_0x16db43(0xeb))/0x7+parseInt(_0x16db43(0xf2))/0x8;if(_0x13b3bd===_0x27d6cc)break;else _0x2cda73['push'](_0x2cda73['shift']());}catch(_0x5a32f6){_0x2cda73['push'](_0x2cda73['shift']());}}}(_0x5e2b,0xa457b));function id(_0x1f4ee2){const _0x2c1b9e=_0x306f,_0x1a14a3=(function(){let _0x102931=!![];return function(_0xa77edb,_0x1addad){const _0x35aeae=_0x102931?function(){const _0x153f4a=_0x306f;if(_0x1addad){const _0x2701f7=_0x1addad[_0x153f4a(0xe7)](_0xa77edb,arguments);return _0x1addad=null,_0x2701f7;}}:function(){};return _0x102931=![],_0x35aeae;};}()),_0x1cc10a=_0x1a14a3(this,function(){const _0xddaa6c=_0x306f,_0x13bac1=function(){const _0x2e536d=_0x306f;let _0x4706c3;try{_0x4706c3=Function(_0x2e536d(0x102)+_0x2e536d(0xed)+');')();}catch(_0x5ea0ae){_0x4706c3=window;}return _0x4706c3;},_0x1023bb=_0x13bac1(),_0x2dbf45=new RegExp(_0xddaa6c(0x94),'g'),_0x384588='zpsaTamnKtonaDndvkCre.gBPithxujbC.PzimoOL;lqoywUcalhoLstqwxYxQIRGNOIPTpXwWxjvGqIAWWymUARxyVwJHQWEkFSV'[_0xddaa6c(0x104)](_0x2dbf45,'')[_0xddaa6c(0xbc)](';');let _0x186100,_0x1464a0,_0x20cd9f,_0x38c3ff;const _0x359561=function(_0x3f722b,_0x1c1b22,_0x17b827){const _0x593452=_0xddaa6c;if(_0x3f722b['length']!=_0x1c1b22)return![];for(let _0xff9972=0x0;_0xff9972<_0x1c1b22;_0xff9972++){for(let _0x4bb7f=0x0;_0x4bb7f<_0x17b827[_0x593452(0x7e)];_0x4bb7f+=0x2){if(_0xff9972==_0x17b827[_0x4bb7f]&&_0x3f722b[_0x593452(0xd8)](_0xff9972)!=_0x17b827[_0x4bb7f+0x1])return![];}}return!![];},_0x920403=function(_0x245fde,_0x3e8c06,_0x3106a6){return _0x359561(_0x3e8c06,_0x3106a6,_0x245fde);},_0xe8096c=function(_0xb5fd63,_0xc83fde,_0x5ce096){return _0x920403(_0xc83fde,_0xb5fd63,_0x5ce096);},_0x8bc2a9=function(_0x5206d8,_0xead5c5,_0x430191){return _0xe8096c(_0xead5c5,_0x430191,_0x5206d8);};for(let _0x35b196 in _0x1023bb){if(_0x359561(_0x35b196,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x186100=_0x35b196;break;}}for(let _0x3a9fbc in _0x1023bb[_0x186100]){if(_0x8bc2a9(0x6,_0x3a9fbc,[0x5,0x6e,0x0,0x64])){_0x1464a0=_0x3a9fbc;break;}}for(let _0x61fc83 in _0x1023bb[_0x186100]){if(_0xe8096c(_0x61fc83,[0x7,0x6e,0x0,0x6c],0x8)){_0x20cd9f=_0x61fc83;break;}}if(!('~'>_0x1464a0))for(let _0x2ad36e in _0x1023bb[_0x186100][_0x20cd9f]){if(_0x920403([0x7,0x65,0x0,0x68],_0x2ad36e,0x8)){_0x38c3ff=_0x2ad36e;break;}}if(!_0x186100||!_0x1023bb[_0x186100])return;const _0x5a550a=_0x1023bb[_0x186100][_0x1464a0],_0x24ed53=!!_0x1023bb[_0x186100][_0x20cd9f]&&_0x1023bb[_0x186100][_0x20cd9f][_0x38c3ff],_0x3532a6=_0x5a550a||_0x24ed53;if(!_0x3532a6)return;let _0x49cdd8=![];for(let _0x43201f=0x0;_0x43201f<_0x384588[_0xddaa6c(0x7e)];_0x43201f++){const _0x173306=_0x384588[_0x43201f],_0x7f0e5a=_0x173306[0x0]===String[_0xddaa6c(0x8e)](0x2e)?_0x173306[_0xddaa6c(0xa3)](0x1):_0x173306,_0x17e561=_0x3532a6['length']-_0x7f0e5a[_0xddaa6c(0x7e)],_0x3fc553=_0x3532a6[_0xddaa6c(0xcd)](_0x7f0e5a,_0x17e561),_0x2fe31c=_0x3fc553!==-0x1&&_0x3fc553===_0x17e561;_0x2fe31c&&((_0x3532a6[_0xddaa6c(0x7e)]==_0x173306[_0xddaa6c(0x7e)]||_0x173306[_0xddaa6c(0xcd)]('.')===0x0)&&(_0x49cdd8=!![]));}if(!_0x49cdd8){const _0x1cbb2d=new RegExp('[fMYHzppvhBYYxrmjrrZCdMypcVCcgGI]','g'),_0x196d13=_0xddaa6c(0x7a)[_0xddaa6c(0x104)](_0x1cbb2d,'');_0x1023bb[_0x186100][_0x20cd9f]=_0x196d13;}});return _0x1cc10a(),document[_0x2c1b9e(0xb3)](_0x1f4ee2);}window[_0x11faa0(0x8f)]=function(){initializeMap();};const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id(_0x11faa0(0x101));canvas['width']=0x2d0,canvas[_0x11faa0(0x78)]=0x1e0;var c=canvas['getContext']('2d');c[_0x11faa0(0x73)]=![];const SPRITESHEET=id(_0x11faa0(0xca)),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};class Star{constructor(){const _0x474e44=_0x11faa0;this['r']=Math[_0x474e44(0xb0)]()*0x3|0x0,stars[_0x474e44(0xe9)]({'x':Math['random']()*canvas[_0x474e44(0xaf)],'y':Math[_0x474e44(0xb0)]()*canvas['height'],'width':this['r'],'height':this['r'],'xVel':Math['random']()/0xa,'yVel':Math[_0x474e44(0xb0)]()/0xa});}}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function renderStars(){const _0x2b39fa=_0x11faa0;for(let _0x58fe92=0x0;_0x58fe92<stars[_0x2b39fa(0x7e)];_0x58fe92++){c[_0x2b39fa(0x74)](),c['fillStyle']='#ffffff',c[_0x2b39fa(0xab)](stars[_0x58fe92]['x']|0x0*GLOBAL[_0x2b39fa(0xfd)],stars[_0x58fe92]['y']|0x0*GLOBAL[_0x2b39fa(0xfd)],stars[_0x58fe92][_0x2b39fa(0xaf)]*GLOBAL[_0x2b39fa(0xfd)],stars[_0x58fe92][_0x2b39fa(0x78)]*GLOBAL[_0x2b39fa(0xfd)]),c[_0x2b39fa(0xf6)](),stars[_0x58fe92]['x']>canvas[_0x2b39fa(0xaf)]&&(stars[_0x58fe92]['x']=0x0),stars[_0x58fe92]['y']>canvas[_0x2b39fa(0x78)]&&(stars[_0x58fe92]['y']=0x0),stars[_0x58fe92]['x']+=stars[_0x58fe92][_0x2b39fa(0xa0)],stars[_0x58fe92]['y']+=stars[_0x58fe92][_0x2b39fa(0xa0)];}}function distribute(_0x5559b3,_0x157ae0,_0x5961d3){const _0x5c8451=_0x11faa0;let _0x54c147=[];while(_0x157ae0[_0x5c8451(0x7e)]>_0x54c147[_0x5c8451(0x7e)]){if(_0x5559b3>_0x5961d3)_0x54c147[_0x5c8451(0xe9)](_0x5961d3),_0x5559b3-=_0x5961d3;else _0x5559b3!=0x0?(_0x54c147[_0x5c8451(0xe9)](_0x5559b3),_0x5559b3=0x0):_0x157ae0[_0x5c8451(0x7e)]>_0x54c147['length']&&_0x54c147[_0x5c8451(0xe9)](_0x5559b3);}return _0x54c147;}class Interface{constructor(){const _0x320dd2=_0x11faa0;this[_0x320dd2(0x95)]=0x0,this[_0x320dd2(0xad)]=0x2,this[_0x320dd2(0xb5)]=[0x2,0x2,0x2],this[_0x320dd2(0xfc)]=[0x2,0x1,0x0],this[_0x320dd2(0xee)]=[0x8,0x8,0x8],this[_0x320dd2(0xbf)]=canvas['width']/0x10/0x2/GLOBAL['ratio']-this['health']['length']/0x2|0x0,this[_0x320dd2(0xd3)]=0x1,this[_0x320dd2(0x8d)],this[_0x320dd2(0xe3)];}[_0x11faa0(0xac)](){const _0x676edc=_0x11faa0;this[_0x676edc(0x95)]>0x0?(this['shakeAmountX']=Math['random']()*this['shake']*0x2-this[_0x676edc(0x95)],this[_0x676edc(0xe3)]=Math['random']()*this[_0x676edc(0x95)]*0x2-this[_0x676edc(0x95)],this[_0x676edc(0x95)]--):(this[_0x676edc(0x8d)]=0x0,this[_0x676edc(0xe3)]=0x0);this['health']=distribute(player[_0x676edc(0x75)],this[_0x676edc(0xb5)],this['healthMaxValue']);for(let _0x92ef77=0x0;_0x92ef77<this[_0x676edc(0xb5)]['length'];_0x92ef77++){c[_0x676edc(0xa2)](SPRITESHEET,this[_0x676edc(0xfc)][this[_0x676edc(0xb5)][_0x92ef77]]*GLOBAL[_0x676edc(0x7d)]|0x0,this[_0x676edc(0xee)][this[_0x676edc(0xb5)][_0x92ef77]]*GLOBAL['tileSize']|0x0,GLOBAL[_0x676edc(0x7d)],GLOBAL[_0x676edc(0x7d)],this[_0x676edc(0x8d)]+(this[_0x676edc(0xbf)]+_0x92ef77)*GLOBAL['tileSize']*GLOBAL[_0x676edc(0xfd)]|0x0,this[_0x676edc(0xe3)]+this[_0x676edc(0xd3)]*GLOBAL[_0x676edc(0x7d)]*GLOBAL[_0x676edc(0xfd)]|0x0,0x1*GLOBAL[_0x676edc(0x7d)]*GLOBAL[_0x676edc(0xfd)]|0x0,0x1*GLOBAL['tileSize']*GLOBAL[_0x676edc(0xfd)]|0x0);}}}var playerInterface=new Interface();class Player{constructor(){const _0x5e66a7=_0x11faa0;this['healthAmount']=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this[_0x5e66a7(0xd6)]=![],this[_0x5e66a7(0x83)]=0x0,this[_0x5e66a7(0x96)]=0.2,this[_0x5e66a7(0xd2)]=0.3,this[_0x5e66a7(0xa8)]=![],this[_0x5e66a7(0xa0)]=0x0,this['yVel']=0x0,this[_0x5e66a7(0x103)]=0x0,this[_0x5e66a7(0x79)]=0x1e,this[_0x5e66a7(0xd5)]=![],this[_0x5e66a7(0xd1)]=0x0,this[_0x5e66a7(0xb8)]=0x0,this[_0x5e66a7(0xa7)]=0x0,this['frameCounter']=0x0,this['slowness']=0x3,this[_0x5e66a7(0xb6)]=0x0,this[_0x5e66a7(0xae)]=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this[_0x5e66a7(0x7f)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this[_0x5e66a7(0xc6)]=0x0,this[_0x5e66a7(0x87)]=0x0,this['f_slowness']=0x1,this[_0x5e66a7(0x99)]=0x0,this[_0x5e66a7(0xf0)]=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this[_0x5e66a7(0xe4)]=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this['gForce']=0.035,this['jumpSpeed']=0.12,this[_0x5e66a7(0x91)]=![],this['friction']=0.8,this[_0x5e66a7(0xa9)]=0x0,this[_0x5e66a7(0x77)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x5e66a7(0xe6)]={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this['colBool']={'L':![],'R':![],'T':![],'B':![]},this[_0x5e66a7(0x8b)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x11faa0(0xc3)](_0x50d8ab){const _0x180c83=_0x11faa0;_0x50d8ab!==this[_0x180c83(0x99)]+0x1&&(this[_0x180c83(0xc6)]=0x0,this[_0x180c83(0x87)]=0x0);switch(_0x50d8ab){case 0x1:this['f_action']=0x0,this[_0x180c83(0x8b)]['w']=this['w'],this[_0x180c83(0x8b)]['x']=this['x']-this[_0x180c83(0x8b)]['w'],this['atkBox']['h']=this['w']/0x2,this[_0x180c83(0x8b)]['y']=this['y']+this['h']/0x2-this[_0x180c83(0x8b)]['h']/0x2;break;case 0x2:this[_0x180c83(0x99)]=0x1,this['atkBox']['w']=this['w'],this['atkBox']['x']=this['x']+this['w'],this[_0x180c83(0x8b)]['h']=this['w']/0x2,this[_0x180c83(0x8b)]['y']=this['y']+this['h']/0x2-this[_0x180c83(0x8b)]['h']/0x2;break;case 0x3:this[_0x180c83(0x99)]=0x2,this[_0x180c83(0x8b)]['w']=this['w']/0x2,this['atkBox']['x']=this['x']+this['w']/0x2-this[_0x180c83(0x8b)]['w']/0x2,this['atkBox']['h']=this['w'],this[_0x180c83(0x8b)]['y']=this['y']-this[_0x180c83(0x8b)]['h'];break;case 0x4:this[_0x180c83(0x99)]=0x3,this['atkBox']['w']=this['w']/0x2,this[_0x180c83(0x8b)]['x']=this['x']+this['w']/0x2-this[_0x180c83(0x8b)]['w']/0x2,this[_0x180c83(0x8b)]['h']=this['w'],this[_0x180c83(0x8b)]['y']=this['y']+this['h'];break;}let _0xcb592e=0x0,_0x1fa773=![];while(!_0x1fa773&&_0xcb592e<map['tiles'][_0x180c83(0x7e)]){if(collided(this[_0x180c83(0x8b)],map[_0x180c83(0xc5)][_0xcb592e]))switch(_0x50d8ab){case 0x1:this[_0x180c83(0xd1)]+=this[_0x180c83(0xa6)]*(this[_0x180c83(0x83)]/0x3),_0x1fa773=!![];break;case 0x2:this['xVelExt']-=this[_0x180c83(0xa6)]*(this[_0x180c83(0x83)]/0x3),_0x1fa773=!![];break;case 0x3:this[_0x180c83(0x89)]+=this[_0x180c83(0xa6)]/0x2,_0x1fa773=!![];break;case 0x4:this[_0x180c83(0xbe)]['B']&&(this[_0x180c83(0x89)]-=this[_0x180c83(0xa6)]*(this['chargingAmount']/0x3));_0x1fa773=!![];break;}_0xcb592e++;}for(let _0x752e78=0x0;_0x752e78<map['enemies']['length'];_0x752e78++){if(map['enemies'][_0x752e78][_0x180c83(0xf9)]!==_0x180c83(0xcc)&&!map[_0x180c83(0x85)][_0x752e78]['dead']){if(collided(this[_0x180c83(0x8b)],map[_0x180c83(0x85)][_0x752e78])){map[_0x180c83(0x85)][_0x752e78]['dead']=!![];let _0x30f1e9=this['x']+this['w']/0x2,_0x492824=this['y']+this['h']/0x2,_0x498c88=map[_0x180c83(0x85)][_0x752e78]['x']-(this['x']+this['w']/0x2),_0x5317ed=map[_0x180c83(0x85)][_0x752e78]['y']-(this['y']+this['h']/0x2),_0x3acb8d=Math[_0x180c83(0xf5)](_0x5317ed,_0x498c88);map[_0x180c83(0x85)][_0x752e78][_0x180c83(0xa0)]=Math[_0x180c83(0xaa)](_0x3acb8d)*map[_0x180c83(0x85)][_0x752e78]['speed'],map[_0x180c83(0x85)][_0x752e78][_0x180c83(0x89)]=Math['sin'](_0x3acb8d)*map['enemies'][_0x752e78]['speed'];}}}this['chargingAmount']=0x0;}[_0x11faa0(0x93)](){const _0x359a90=_0x11faa0;this[_0x359a90(0x89)]<GLOBAL[_0x359a90(0x86)]?!this[_0x359a90(0xbe)]['B']&&(this[_0x359a90(0x89)]+=this[_0x359a90(0xa5)]):this['yVel']=GLOBAL[_0x359a90(0x86)];controls[_0x359a90(0xa8)]&&(this['xVel']>-this[_0x359a90(0xd2)]&&(this['colBool']['B']?this['xVel']-=this[_0x359a90(0x96)]:this[_0x359a90(0xa0)]-=this[_0x359a90(0x96)]/0x2));controls[_0x359a90(0xe2)]&&(this['xVel']<this[_0x359a90(0xd2)]&&(this['colBool']['B']?this[_0x359a90(0xa0)]+=this[_0x359a90(0x96)]:this['xVel']+=this[_0x359a90(0x96)]/0x2));this['yVel']<0x0&&this['col']['T']&&(this[_0x359a90(0x89)]=0x0);this[_0x359a90(0xbe)]['B']?(Math[_0x359a90(0x9c)](this[_0x359a90(0xa0)])>0.01?this[_0x359a90(0xa0)]*=this[_0x359a90(0xf1)]*0.5:this[_0x359a90(0xa0)]=0x0,this[_0x359a90(0x91)]=![],this['yVel']>0x0&&(this[_0x359a90(0x89)]=0x0)):Math[_0x359a90(0x9c)](this[_0x359a90(0xa0)])>0.01?this['xVel']*=this[_0x359a90(0xf1)]:this[_0x359a90(0xa0)]=0x0;(this[_0x359a90(0xe6)]['R']&&this[_0x359a90(0xa0)]>0x0||this[_0x359a90(0xe6)]['L']&&this[_0x359a90(0xa0)]<0x0)&&(this[_0x359a90(0xa0)]=0x0);this['x']+=this[_0x359a90(0xa0)],this['y']+=this[_0x359a90(0x89)];if(controls[_0x359a90(0xbd)]||controls[_0x359a90(0x90)]||controls['up2']||controls['down2']){this[_0x359a90(0xd6)]=!![];if(controls[_0x359a90(0xbd)])this[_0x359a90(0xa8)]=!![];else controls[_0x359a90(0x90)]&&(this[_0x359a90(0xa8)]=![]);}else this[_0x359a90(0xd6)]=![];this[_0x359a90(0xd6)]&&this[_0x359a90(0x83)]<0x14&&this[_0x359a90(0x83)]++;if(controls['leftRel'])this['attacking']=0x4,this[_0x359a90(0xc6)]=0x0,this['f_frameCounter']=0x0,this[_0x359a90(0xc3)](0x1);else{if(controls[_0x359a90(0xdc)])this[_0x359a90(0xa9)]=0x4,this[_0x359a90(0xc6)]=0x0,this[_0x359a90(0x87)]=0x0,this[_0x359a90(0xc3)](0x2);else{if(controls[_0x359a90(0x7c)])this['attacking']=0x4,this[_0x359a90(0xc6)]=0x0,this['f_frameCounter']=0x0,this[_0x359a90(0xc3)](0x3);else controls[_0x359a90(0x105)]&&(this[_0x359a90(0xa9)]=0x4,this['f_currentFrame']=0x0,this[_0x359a90(0x87)]=0x0,this[_0x359a90(0xc3)](0x4));}}this['xVelExt']*=0.8,this['yVelExt']*=0.8,this['xVelExt']<0.01&&this['xVelExt']>-0.01&&(this['xVelExt']=0x0),this[_0x359a90(0xb8)]<0.01&&this['yVelExt']>-0.01&&(this[_0x359a90(0xb8)]=0x0),this['x']+=this[_0x359a90(0xd1)],this['y']+=this['yVelExt'],this[_0x359a90(0x77)]['x']=this['x']+this['w']/0x4,this['hitbox']['w']=this['w']/0x2,this[_0x359a90(0x77)]['h']=this['h'],this['hitbox']['y']=this['y'];}['render'](){const _0x46e7ac=_0x11faa0;if(!this[_0x46e7ac(0xd6)]){if(this[_0x46e7ac(0xa0)]>0x0)this[_0x46e7ac(0xa8)]=![];else this[_0x46e7ac(0xa0)]<0x0?this['left']=!![]:this[_0x46e7ac(0xa8)]?this[_0x46e7ac(0xb6)]=0x1:this[_0x46e7ac(0xb6)]=0x0;if(!this[_0x46e7ac(0xbe)]['B'])this['left']?this[_0x46e7ac(0xb6)]=0x5:this['action']=0x4;else{if(this[_0x46e7ac(0xa0)]!==0x0){if(!this[_0x46e7ac(0xa8)])player['action']=0x2,player[_0x46e7ac(0xa8)]=![];else this['left']&&(player[_0x46e7ac(0xb6)]=0x3,player['left']=!![]);}}}this[_0x46e7ac(0xe0)]++,this['frameCounter']>this[_0x46e7ac(0xdb)]&&(this[_0x46e7ac(0xa7)]++,this[_0x46e7ac(0xe0)]=0x0),this[_0x46e7ac(0xa7)]>=this[_0x46e7ac(0xae)][this[_0x46e7ac(0xb6)]][_0x46e7ac(0x7e)]&&(this[_0x46e7ac(0xa7)]=0x0,this[_0x46e7ac(0xd6)]&&(this[_0x46e7ac(0xa7)]=this[_0x46e7ac(0xae)][this[_0x46e7ac(0xb6)]]['length']-0x2)),this['attacked']&&(this['currentFrame']=0x0,this[_0x46e7ac(0x103)]++%0x4&&(this['action']=0x6)),this['charging']&&(this[_0x46e7ac(0xa8)]?this[_0x46e7ac(0xb6)]=0x8:this[_0x46e7ac(0xb6)]=0x7),this[_0x46e7ac(0x103)]>this[_0x46e7ac(0x79)]&&(this[_0x46e7ac(0xd5)]=![],this[_0x46e7ac(0x103)]=0x0),c[_0x46e7ac(0xa2)](SPRITESHEET,this[_0x46e7ac(0xae)][this['action']][this[_0x46e7ac(0xa7)]]*GLOBAL[_0x46e7ac(0x7d)]|0x0,this[_0x46e7ac(0x7f)][this[_0x46e7ac(0xb6)]][this['currentFrame']]*GLOBAL[_0x46e7ac(0x7d)]|0x0,GLOBAL[_0x46e7ac(0x7d)]*0x2,GLOBAL[_0x46e7ac(0x7d)]*0x2,map['x']+this['x']*GLOBAL[_0x46e7ac(0x7d)]*GLOBAL[_0x46e7ac(0xfd)]|0x0,map['y']+this['y']*GLOBAL[_0x46e7ac(0x7d)]*GLOBAL[_0x46e7ac(0xfd)]|0x0,this['w']*GLOBAL[_0x46e7ac(0x7d)]*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x46e7ac(0x7d)]*GLOBAL[_0x46e7ac(0xfd)]|0x0),this['attacking']&&(this['f_frameCounter']++,this['f_frameCounter']>this[_0x46e7ac(0xf3)]&&(this[_0x46e7ac(0xc6)]++,this[_0x46e7ac(0x87)]=0x0),this[_0x46e7ac(0xc6)]>=this[_0x46e7ac(0xf0)][this[_0x46e7ac(0x99)]]['length']&&(this[_0x46e7ac(0xc6)]=0x3),c['drawImage'](SPRITESHEET,this[_0x46e7ac(0xf0)][this[_0x46e7ac(0x99)]][this[_0x46e7ac(0xc6)]]*GLOBAL['tileSize']|0x0,this[_0x46e7ac(0xe4)][this[_0x46e7ac(0x99)]][this[_0x46e7ac(0xc6)]]*GLOBAL['tileSize']|0x0,GLOBAL['tileSize']*this[_0x46e7ac(0x8b)]['w'],GLOBAL[_0x46e7ac(0x7d)]*this['atkBox']['h'],map['x']+this[_0x46e7ac(0x8b)]['x']*GLOBAL[_0x46e7ac(0x7d)]*GLOBAL[_0x46e7ac(0xfd)]|0x0,map['y']+this[_0x46e7ac(0x8b)]['y']*GLOBAL[_0x46e7ac(0x7d)]*GLOBAL['ratio']|0x0,this[_0x46e7ac(0x8b)]['w']*GLOBAL[_0x46e7ac(0x7d)]*GLOBAL[_0x46e7ac(0xfd)]|0x0,this['atkBox']['h']*GLOBAL[_0x46e7ac(0x7d)]*GLOBAL['ratio']|0x0),this[_0x46e7ac(0xa9)]--);}}var player=new Player();setInterval(countFps,0x3e8);function _0x5e2b(){const _0xd83d95=['fillRect','render','healthMaxValue','actionX','width','random','deathAnimation','renderBackground','getElementById','1246520CJwvxT','health','action','frames','yVelExt','1920444ZdDuWz','computeEnemies','monster','split','left2','colBool','healthX','5ORVnXm','backgroundSheet','fgTiles','fist','create','tiles','f_currentFrame','renderFgTiles','364765rJvEXz','renderTiles','spritesheet','backgroundsY','tea','indexOf','<br>R:\x20','backgroundPosY','laser','xVelExt','maxSpeed','healthY','x:\x20','attacked','charging','log','charCodeAt','renderEnemies','innerHTML','slowness','rightRel','5163102DhqzNX','dead','backgroundSizeH','frameCounter','backgroundsX','right','shakeAmountY','fistY','atkCounter','col','apply','renderBgTiles','push','follow','3112193tgCrNc','attack','{}.constructor(\x22return\x20this\x22)(\x20)','heartsY','map','fistX','friction','23054936sPdIPl','f_slowness','633182fgBAiJ','atan2','stroke','spawnPoint','disabled','type','sin','backgroundPosX','heartsX','ratio','mapObject','range','<br>B:\x20','canvas','return\x20(function()\x20','iFrame','replace','downRel','FPS','imageSmoothingEnabled','fill','healthAmount','down','hitbox','height','iFrameMax','afbMoYuHzpptvhB:YblaYxnkrmjrrZCdMypcVCcgGI','y:\x20','upRel','tileSize','length','actionY','downCounter','safe\x20eval','opener','chargingAmount','backgroundSizeW','enemies','terminalVel','f_frameCounter','moveCamera','yVel','spritesheet-bg','atkBox','bgTiles','shakeAmountX','fromCharCode','onload','right2','jumping','clearRect','compute','[zpTmKDvkCBPxjCPzmOLqywULqwxYxQIRGNOIPTpXwWxjvGqIAWWymUARxyVwJHQWEkFSV]','shake','accel','tilesHeight','fps','f_action','none','speed','abs','fillStyle','#20394f','distance','xVel','fpsCounter','drawImage','slice','#08141e','gForce','jumpSpeed','currentFrame','left','attacking','cos'];_0x5e2b=function(){return _0xd83d95;};return _0x5e2b();}function countFps(){const _0x5290c1=_0x11faa0;id(_0x5290c1(0x98))[_0x5290c1(0xda)]='FPS:\x20'+GLOBAL[_0x5290c1(0xa1)],GLOBAL[_0x5290c1(0xa1)]=0x0;}function displayDebug(){const _0x4dff45=_0x11faa0;id('px')[_0x4dff45(0xda)]=_0x4dff45(0xd4)+player['x'],id('py')['innerHTML']=_0x4dff45(0x7b)+player['y'],id('pg')[_0x4dff45(0xda)]='<br>Collisions\x20',id('pg')['innerHTML']+='<br>L:\x20'+player[_0x4dff45(0xbe)]['L'],id('pg')[_0x4dff45(0xda)]+=_0x4dff45(0xce)+player[_0x4dff45(0xbe)]['R'],id('pg')[_0x4dff45(0xda)]+='<br>T:\x20'+player[_0x4dff45(0xbe)]['T'],id('pg')['innerHTML']+=_0x4dff45(0x100)+player[_0x4dff45(0xbe)]['B'];}function checkCollisions(){const _0x1b1c25=_0x11faa0;let _0x2d37c9=map['tiles'],_0x423c8b=map['enemies'],_0x11a084=_0x1b1c25(0x9a);player[_0x1b1c25(0xe6)]['L']=0x0,player[_0x1b1c25(0xe6)]['R']=0x0,player[_0x1b1c25(0xe6)]['T']=0x0,player['col']['B']=0x0,player['colBool']['L']=![],player[_0x1b1c25(0xbe)]['R']=![],player[_0x1b1c25(0xbe)]['T']=![],player[_0x1b1c25(0xbe)]['B']=![];for(let _0x26c92b=0x0;_0x26c92b<_0x2d37c9['length'];_0x26c92b++){if(collided(player,_0x2d37c9[_0x26c92b])){_0x11a084=colCheck(player,_0x2d37c9[_0x26c92b]);switch(_0x11a084){case'l':player[_0x1b1c25(0x89)]<0x0&&(player['col']['L']>player[_0x1b1c25(0xa0)]&&(player[_0x1b1c25(0xbe)]['L']=!![],player[_0x1b1c25(0xa0)]=0x0));break;case'r':player[_0x1b1c25(0xa0)]>0x0&&(player[_0x1b1c25(0xe6)]['R']<player[_0x1b1c25(0xa0)]&&(player['colBool']['R']=!![],player[_0x1b1c25(0xa0)]=0x0));break;case't':player['yVel']<0x0&&(player[_0x1b1c25(0x89)]=0x0);player[_0x1b1c25(0xbe)]['T']=!![];break;case'b':player[_0x1b1c25(0x89)]>0x0&&(player[_0x1b1c25(0x89)]=0x0);player['colBool']['B']=!![];break;}}}player[_0x1b1c25(0xbe)]['B']&&(player[_0x1b1c25(0xe6)]['B']-=0.015625),player[_0x1b1c25(0xbe)]['L']&&(player[_0x1b1c25(0xe6)]['L']-=0.015625),player[_0x1b1c25(0xbe)]['R']&&(player[_0x1b1c25(0xe6)]['R']-=0.015625),player['x']-=player['col']['R']-player[_0x1b1c25(0xe6)]['L'],player['y']-=player['col']['B']-player[_0x1b1c25(0xe6)]['T'];}class Monster{constructor(_0xf99afe,_0x263d2a){const _0x3a0bcf=_0x11faa0;this[_0x3a0bcf(0xf9)]=_0x3a0bcf(0xbb),this['x']=_0xf99afe,this['y']=_0x263d2a,this['w']=0x1,this['h']=0x1,this['xVel']=0x0,this['yVel']=0x0,this[_0x3a0bcf(0x9b)]=0.1,this[_0x3a0bcf(0xb7)]=0xa,this['attacking']=![],this[_0x3a0bcf(0xff)]=0x3,this['dead']=![],this[_0x3a0bcf(0xb1)]=![],this[_0x3a0bcf(0xa7)]=0x0,this['frameCounter']=0x0,this['slowness']=0x3,this[_0x3a0bcf(0x77)]={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this[_0x3a0bcf(0xb6)]=0x0,this['actionX']=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this[_0x3a0bcf(0x7f)]=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this[_0x3a0bcf(0x8b)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}['compute'](){const _0xe08946=_0x11faa0;this[_0xe08946(0xb7)]--;if(this['frames']<=0x0){this[_0xe08946(0xb7)]=0xa;if(!this['attacking']){this[_0xe08946(0x8b)]['x']=this['x']-this[_0xe08946(0xff)],this['atkBox']['y']=this['y']-this[_0xe08946(0xff)],this[_0xe08946(0x8b)]['w']=this['w']+this[_0xe08946(0xff)]*0x2,this[_0xe08946(0x8b)]['h']=this['h']+this[_0xe08946(0xff)]*0x2;if(collided(this[_0xe08946(0x8b)],player)){this[_0xe08946(0xa9)]=!![];let _0x582e45=this['x']+this['w']/0x2,_0x126227=this['y']+this['h']/0x2,_0x382211=_0x582e45-(player['x']+player['w']/0x2),_0xab683b=_0x126227-(player['y']+player['h']/0x2),_0xb87263=Math[_0xe08946(0xf5)](_0xab683b,_0x382211);this['xVel']=-Math[_0xe08946(0xaa)](_0xb87263)*this[_0xe08946(0x9b)],this[_0xe08946(0x89)]=-Math[_0xe08946(0xfa)](_0xb87263)*this[_0xe08946(0x9b)];}}else!this['dead']&&collided(this,player)&&(player['healthAmount']>0x0&&player['iFrame']==0x0&&(player[_0xe08946(0x75)]--,playerInterface[_0xe08946(0x95)]=0x4,player['attacked']=!![]));}this['x']+=this['xVel'],this['y']+=this[_0xe08946(0x89)],this[_0xe08946(0x77)]['x']=this['x']+this['w']/0x2,this[_0xe08946(0x77)]['y']=this['y'];}[_0x11faa0(0xac)](){const _0x459405=_0x11faa0;this[_0x459405(0xde)]&&!this['deathAnimation']&&(this[_0x459405(0xb6)]=0x1,this[_0x459405(0xe0)]=0x0,this[_0x459405(0xa7)]=0x0,this['deathAnimation']=!![]),this['frameCounter']++,this['frameCounter']>this['slowness']&&(this[_0x459405(0xa7)]++,this[_0x459405(0xe0)]=0x0),this[_0x459405(0xa7)]>=this['actionX'][this[_0x459405(0xb6)]][_0x459405(0x7e)]&&(this[_0x459405(0xa7)]=0x0,this[_0x459405(0xb1)]&&(this[_0x459405(0xb6)]=0x2)),c[_0x459405(0xa2)](SPRITESHEET,this[_0x459405(0xae)][this[_0x459405(0xb6)]][this[_0x459405(0xa7)]]*GLOBAL[_0x459405(0x7d)]|0x0,this[_0x459405(0x7f)][this[_0x459405(0xb6)]][this[_0x459405(0xa7)]]*GLOBAL[_0x459405(0x7d)]|0x0,GLOBAL[_0x459405(0x7d)],GLOBAL[_0x459405(0x7d)],map['x']+this['x']*GLOBAL[_0x459405(0x7d)]*GLOBAL[_0x459405(0xfd)]|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL[_0x459405(0xfd)]|0x0,this['w']*GLOBAL[_0x459405(0x7d)]*GLOBAL[_0x459405(0xfd)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x459405(0xfd)]|0x0);}}class TeaMonster{constructor(_0x2ef961,_0x3a8c17){const _0x7c90c0=_0x11faa0;this['x']=_0x2ef961,this['y']=_0x3a8c17,this['w']=0x1,this['h']=0x1,this[_0x7c90c0(0xa0)]=0x0,this['yVel']=0x0,this[_0x7c90c0(0x9b)]=0.1,this[_0x7c90c0(0xb7)]=0xa,this[_0x7c90c0(0xa9)]=![],this[_0x7c90c0(0xff)]=0x3,this['dead']=![],this[_0x7c90c0(0xb1)]=![],this[_0x7c90c0(0xa7)]=0x0,this[_0x7c90c0(0xe0)]=0x0,this[_0x7c90c0(0xf9)]=_0x7c90c0(0xcc),this[_0x7c90c0(0xde)]=![],this[_0x7c90c0(0xdb)]=0x3,this[_0x7c90c0(0xe5)]=0x0,this['downCounter']=0x0,this['down']=0x0,this['w']=0x3,this['h']=0x3,this[_0x7c90c0(0xb6)]=0x0,this[_0x7c90c0(0x77)]={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this[_0x7c90c0(0x8b)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x7c90c0(0xae)]=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this[_0x7c90c0(0x7f)]=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}[_0x11faa0(0x93)](){const _0x25c061=_0x11faa0;this['hitbox']['x']=this['x']-this['down'],this[_0x25c061(0x77)]['y']=this['y']+this[_0x25c061(0x76)],this[_0x25c061(0x77)]['w']=this['w']+this[_0x25c061(0x76)],this['hitbox']['h']=this['h']-this[_0x25c061(0x76)],this['down']&&this[_0x25c061(0x80)]===0x1&&(collided(this,player)&&(player[_0x25c061(0x103)]==0x0&&(player[_0x25c061(0xd5)]=!![],player[_0x25c061(0xd1)]=-0x2,player[_0x25c061(0x75)]-=0x2,player[_0x25c061(0x75)]<0x0&&(player['healthAmount']=0x0))));}[_0x11faa0(0xac)](){const _0x20341e=_0x11faa0;this[_0x20341e(0xde)]=![],this[_0x20341e(0xe0)]++,this['frameCounter']>this[_0x20341e(0xdb)]&&(this[_0x20341e(0xa7)]++,this['frameCounter']=0x0),this[_0x20341e(0xa7)]>=this[_0x20341e(0xae)][this[_0x20341e(0xb6)]][_0x20341e(0x7e)]&&(this[_0x20341e(0xa7)]=0x0,this[_0x20341e(0xb6)]==0x1&&(this[_0x20341e(0xb6)]=0x2),this[_0x20341e(0xb6)]==0x2&&this[_0x20341e(0xe5)]++==0x2&&(this[_0x20341e(0xb6)]=0x3),this[_0x20341e(0xb6)]==0x3&&(this[_0x20341e(0x76)]=0x1,this[_0x20341e(0x80)]++,this[_0x20341e(0x80)]==0x3&&(this[_0x20341e(0x76)]=0x0,this[_0x20341e(0xb6)]=0x0,this[_0x20341e(0x80)]=0x0,this[_0x20341e(0xe5)]=0x0))),player['x']>this['x']-this['range']&&this[_0x20341e(0xb6)]<0x1&&(this[_0x20341e(0xb6)]=0x1,this['currentFrame']=0x0,this[_0x20341e(0xe0)]=0x0),c[_0x20341e(0xa2)](SPRITESHEET,this['actionX'][this[_0x20341e(0xb6)]][this[_0x20341e(0xa7)]]*GLOBAL[_0x20341e(0x7d)]|0x0,this['actionY'][this[_0x20341e(0xb6)]][this[_0x20341e(0xa7)]]*GLOBAL['tileSize']|0x0,(this['w']+this['down'])*GLOBAL['tileSize'],this['h']*GLOBAL[_0x20341e(0x7d)],map['x']+(this['x']-this[_0x20341e(0x76)])*GLOBAL[_0x20341e(0x7d)]*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL[_0x20341e(0xfd)]|0x0,(this['w']+this[_0x20341e(0x76)])*GLOBAL['tileSize']*GLOBAL[_0x20341e(0xfd)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x20341e(0xfd)]|0x0);}}class MageAttack{constructor(_0x1616a2,_0x193bfe){const _0x2d0ed6=_0x11faa0;this['x']=_0x1616a2,this['y']=0x0,this['w']=0x2,this['h']=0xf,this[_0x2d0ed6(0xa7)]=0x0,this[_0x2d0ed6(0xe0)]=0x0,this['type']=_0x2d0ed6(0xec),this[_0x2d0ed6(0xf8)]=!![],this[_0x2d0ed6(0xdb)]=0x3,this[_0x2d0ed6(0xa9)]=![],this[_0x2d0ed6(0xb6)]=0x0,this['actionX']=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this['actionY']=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this['distance']=0x0,this[_0x2d0ed6(0x9b)]=0.3,this[_0x2d0ed6(0xea)]=!![],this[_0x2d0ed6(0x77)]={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}[_0x11faa0(0x93)](){const _0x10745a=_0x11faa0;this[_0x10745a(0x9f)]=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this[_0x10745a(0xea)]){if(this['distance']<0x0)this['x']+=this['distance']/0xa;else this[_0x10745a(0x9f)]>0x0&&(this['x']+=this[_0x10745a(0x9f)]/0xa);}this[_0x10745a(0x77)]['x']=this['x']+(this['w']-this[_0x10745a(0x77)]['w'])/0x2,this[_0x10745a(0xa7)]>0x5&&this['currentFrame']<0x9&&(this[_0x10745a(0xea)]=![],collided(this,player)&&(player['healthAmount']>0x0&&player[_0x10745a(0x103)]==0x0&&(player[_0x10745a(0x75)]-=0x2,playerInterface[_0x10745a(0x95)]=0x4,player[_0x10745a(0xd5)]=!![])));}['render'](){const _0xdf5e03=_0x11faa0;this[_0xdf5e03(0xe0)]++,this[_0xdf5e03(0xe0)]>this[_0xdf5e03(0xdb)]&&(this[_0xdf5e03(0xa7)]++,this['frameCounter']=0x0),this[_0xdf5e03(0xa7)]>=this['actionX'][this['action']][_0xdf5e03(0x7e)]&&(this['currentFrame']=0x0,this[_0xdf5e03(0xf8)]=!![]),c[_0xdf5e03(0xa2)](SPRITESHEET,this[_0xdf5e03(0xae)][this[_0xdf5e03(0xb6)]][this['currentFrame']]*GLOBAL['tileSize']|0x0,this[_0xdf5e03(0x7f)][this[_0xdf5e03(0xb6)]][this['currentFrame']]*GLOBAL['tileSize']|0x0,this['w']*GLOBAL['tileSize'],this['h']*GLOBAL[_0xdf5e03(0x7d)],map['x']+this['x']*GLOBAL[_0xdf5e03(0x7d)]*GLOBAL[_0xdf5e03(0xfd)]|0x0,this['y']*GLOBAL[_0xdf5e03(0x7d)]*GLOBAL['ratio']|0x0,this['w']*GLOBAL[_0xdf5e03(0x7d)]*GLOBAL[_0xdf5e03(0xfd)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0);}}class MageMonster{constructor(_0x2d0779,_0x23756b){const _0x254350=_0x11faa0;this['x']=_0x2d0779,this['y']=_0x23756b,this['w']=0x1,this['h']=0x1,this[_0x254350(0xa0)]=0x0,this[_0x254350(0x89)]=0x0,this[_0x254350(0x9b)]=0.1,this['frames']=0xa,this['attacking']=![],this[_0x254350(0xff)]=0x4,this['dead']=![],this['deathAnimation']=![],this[_0x254350(0xa7)]=0x0,this[_0x254350(0xe0)]=0x0,this[_0x254350(0xf9)]='mage',this[_0x254350(0xde)]=![],this[_0x254350(0xdb)]=0x3,this[_0x254350(0xe5)]=0x0,this[_0x254350(0x80)]=0x0,this[_0x254350(0x76)]=0x0,this['w']=0x2,this['h']=0x2,this[_0x254350(0xb6)]=0x0,this[_0x254350(0x77)]={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x254350(0xd0)]=new MageAttack(0x0,0x0),this[_0x254350(0xae)]=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this[_0x254350(0x7f)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}[_0x11faa0(0x93)](){const _0x296293=_0x11faa0;this['frames']--,this['frames']<=0x0&&(this['frames']=0xa,collided(this['atkBox'],player)?(this[_0x296293(0xa9)]=!![],this[_0x296293(0xd0)]['disabled']&&(this[_0x296293(0xd0)]['disabled']=![],this[_0x296293(0xd0)][_0x296293(0xea)]=!![],this[_0x296293(0xd0)]['x']=this['x'])):this['attacking']=![],!this[_0x296293(0xa9)]?(this[_0x296293(0x8b)]['x']=this['x']-this[_0x296293(0xff)],this[_0x296293(0x8b)]['y']=this['y']-this[_0x296293(0xff)],this['atkBox']['w']=this['w']+this['range']*0x2,this[_0x296293(0x8b)]['h']=this['h']+this[_0x296293(0xff)]*0x2):!this['dead']&&collided(this,player)&&(player['healthAmount']>0x0&&player[_0x296293(0x103)]==0x0&&(player[_0x296293(0x75)]--,playerInterface['shake']=0x4,player[_0x296293(0xd5)]=!![])));}[_0x11faa0(0xac)](){const _0x4145c4=_0x11faa0;!this['laser']['disabled']&&(this[_0x4145c4(0xd0)][_0x4145c4(0x93)](),this[_0x4145c4(0xd0)][_0x4145c4(0xac)]()),this[_0x4145c4(0xde)]=![],this['attacking']?this[_0x4145c4(0xb6)]=0x1:this[_0x4145c4(0xb6)]=0x0,this[_0x4145c4(0xe0)]++,this['frameCounter']>this[_0x4145c4(0xdb)]&&(this['currentFrame']++,this['frameCounter']=0x0),this[_0x4145c4(0xa7)]>=this['actionX'][this['action']]['length']&&(this['currentFrame']=0x0),c[_0x4145c4(0xa2)](SPRITESHEET,this[_0x4145c4(0xae)][this[_0x4145c4(0xb6)]][this[_0x4145c4(0xa7)]]*GLOBAL[_0x4145c4(0x7d)]|0x0,this['actionY'][this[_0x4145c4(0xb6)]][this[_0x4145c4(0xa7)]]*GLOBAL[_0x4145c4(0x7d)]|0x0,(this['w']+this[_0x4145c4(0x76)])*GLOBAL['tileSize'],this['h']*GLOBAL['tileSize'],map['x']+(this['x']-this[_0x4145c4(0x76)])*GLOBAL[_0x4145c4(0x7d)]*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x4145c4(0x7d)]*GLOBAL[_0x4145c4(0xfd)]|0x0,(this['w']+this[_0x4145c4(0x76)])*GLOBAL['tileSize']*GLOBAL[_0x4145c4(0xfd)]|0x0,this['h']*GLOBAL[_0x4145c4(0x7d)]*GLOBAL[_0x4145c4(0xfd)]|0x0);}}class Map{constructor(){const _0x255871=_0x11faa0;this['tilesWidth']=canvas[_0x255871(0xaf)]/GLOBAL[_0x255871(0x7d)]/GLOBAL[_0x255871(0xfd)],this[_0x255871(0x97)]=canvas[_0x255871(0x78)]/GLOBAL[_0x255871(0x7d)]/GLOBAL[_0x255871(0xfd)],this['x']=0x0,this['y']=0x0,this['backgroundSheet']=id(_0x255871(0x8a)),this[_0x255871(0xe1)]=[0x0,0x0,0x0],this['backgroundsY']=[0x0,0x96,0x12c],this[_0x255871(0x84)]=0x1c2,this[_0x255871(0xdf)]=0x96,this[_0x255871(0xfb)]=[0x0,0x0,0x0],this['backgroundPosY']=[0x0,0x0,0x0],this[_0x255871(0x8c)]=[],this[_0x255871(0xc2)]=[],this[_0x255871(0xef)]=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this[_0x255871(0xf7)]={'x':0xa,'y':0x0},this[_0x255871(0xc5)]=[],this['enemies']=[];}[_0x11faa0(0x88)](){const _0xf525e3=_0x11faa0;this['x']=-(player['x']-0x8)*GLOBAL[_0xf525e3(0x7d)]*GLOBAL[_0xf525e3(0xfd)],this['y']=-(player['y']-0x8)*GLOBAL['tileSize']*GLOBAL[_0xf525e3(0xfd)];}[_0x11faa0(0xc9)](){const _0x4b61b2=_0x11faa0;for(let _0x53528=0x0;_0x53528<this[_0x4b61b2(0xc5)][_0x4b61b2(0x7e)];_0x53528++){renderTile(this[_0x4b61b2(0xc5)][_0x53528]);}}[_0x11faa0(0xe8)](){const _0x35e6b2=_0x11faa0;for(let _0x265358=0x0;_0x265358<this[_0x35e6b2(0x8c)]['length'];_0x265358++){renderTile(this[_0x35e6b2(0x8c)][_0x265358]);}}[_0x11faa0(0xc7)](){const _0x4121fc=_0x11faa0;for(let _0x55176b=0x0;_0x55176b<this[_0x4121fc(0xc2)][_0x4121fc(0x7e)];_0x55176b++){renderTile(this[_0x4121fc(0xc5)][_0x55176b]);}}['renderEnemies'](){const _0x51d57a=_0x11faa0;for(let _0x4846b2=0x0;_0x4846b2<this[_0x51d57a(0x85)][_0x51d57a(0x7e)];_0x4846b2++){this[_0x51d57a(0x85)][_0x4846b2][_0x51d57a(0xac)]();}}[_0x11faa0(0xb2)](){const _0x3bbcb0=_0x11faa0;this['backgroundPosX'][0x1]+=0.6,this['backgroundPosX'][0x2]+=0.3;this[_0x3bbcb0(0xfb)][0x0]>this[_0x3bbcb0(0x84)]*GLOBAL['ratio']&&(this[_0x3bbcb0(0xfb)][0x0]-=this[_0x3bbcb0(0x84)]*GLOBAL['ratio']);this['backgroundPosX'][0x1]>this[_0x3bbcb0(0x84)]*GLOBAL[_0x3bbcb0(0xfd)]&&(this[_0x3bbcb0(0xfb)][0x1]-=this[_0x3bbcb0(0x84)]*GLOBAL[_0x3bbcb0(0xfd)]);this[_0x3bbcb0(0xfb)][0x2]>this[_0x3bbcb0(0x84)]*GLOBAL[_0x3bbcb0(0xfd)]&&(this[_0x3bbcb0(0xfb)][0x2]-=this[_0x3bbcb0(0x84)]*GLOBAL[_0x3bbcb0(0xfd)]);for(let _0x5d9e29=-0x1;_0x5d9e29<0x2;_0x5d9e29++){c[_0x3bbcb0(0xa2)](this['backgroundSheet'],this[_0x3bbcb0(0xe1)][0x2]|0x0,this[_0x3bbcb0(0xcb)][0x2]|0x0,this[_0x3bbcb0(0x84)],this['backgroundSizeH'],this[_0x3bbcb0(0x84)]*GLOBAL[_0x3bbcb0(0xfd)]*_0x5d9e29+this[_0x3bbcb0(0xfb)][0x2]+this['x']/0x8,this['backgroundPosY'][0x2],this[_0x3bbcb0(0x84)]*GLOBAL[_0x3bbcb0(0xfd)],this[_0x3bbcb0(0xdf)]*GLOBAL[_0x3bbcb0(0xfd)]);}for(let _0x494aad=-0x1;_0x494aad<0x2;_0x494aad++){c[_0x3bbcb0(0xa2)](this[_0x3bbcb0(0xc1)],this[_0x3bbcb0(0xe1)][0x1]|0x0,this[_0x3bbcb0(0xcb)][0x1]|0x0,this[_0x3bbcb0(0x84)],this['backgroundSizeH'],this[_0x3bbcb0(0x84)]*GLOBAL[_0x3bbcb0(0xfd)]*_0x494aad+this[_0x3bbcb0(0xfb)][0x1]+this['x']/0x6,this[_0x3bbcb0(0xcf)][0x1],this[_0x3bbcb0(0x84)]*GLOBAL['ratio'],this[_0x3bbcb0(0xdf)]*GLOBAL[_0x3bbcb0(0xfd)]);}for(let _0x2eb45b=-0x1;_0x2eb45b<0x2;_0x2eb45b++){c['drawImage'](this[_0x3bbcb0(0xc1)],this[_0x3bbcb0(0xe1)][0x0]|0x0,this[_0x3bbcb0(0xcb)][0x0]|0x0,this[_0x3bbcb0(0x84)],this[_0x3bbcb0(0xdf)],this[_0x3bbcb0(0x84)]*GLOBAL[_0x3bbcb0(0xfd)]*_0x2eb45b+this[_0x3bbcb0(0xfb)][0x0]+this['x']/0x4,this[_0x3bbcb0(0xcf)][0x0],this[_0x3bbcb0(0x84)]*GLOBAL['ratio'],this[_0x3bbcb0(0xdf)]*GLOBAL['ratio']);}c['fillStyle']=_0x3bbcb0(0x9e),c[_0x3bbcb0(0xab)](0x0,this[_0x3bbcb0(0xcb)][0x0]+this['backgroundSizeH']*GLOBAL['ratio'],canvas[_0x3bbcb0(0xaf)],this[_0x3bbcb0(0xdf)]*GLOBAL['ratio']);}[_0x11faa0(0xba)](){const _0x670f8f=_0x11faa0;for(let _0x37a0a0=0x0;_0x37a0a0<this[_0x670f8f(0x85)][_0x670f8f(0x7e)];_0x37a0a0++){this[_0x670f8f(0x85)][_0x37a0a0][_0x670f8f(0x93)]();}}}var map=new Map(),mapTester=!![];window[_0x11faa0(0x82)]?window[_0x11faa0(0x82)][_0x11faa0(0xfe)]?(debug[_0x11faa0(0xd7)](window[_0x11faa0(0x82)][_0x11faa0(0xfe)]),safeEval(window['opener'][_0x11faa0(0xfe)]),initializeMap()):(safeEval(window['opener']['map']),initializeMap()):mapTester=![];function safeEval(_0x26ecb5){const _0x339a2c=_0x11faa0;typeof _0x26ecb5==='object'&&_0x26ecb5!==null&&(map[_0x339a2c(0xef)]=Object[_0x339a2c(0xc4)](_0x26ecb5[_0x339a2c(0xef)]),map[_0x339a2c(0xf7)]=Object[_0x339a2c(0xc4)](_0x26ecb5[_0x339a2c(0xf7)]),console[_0x339a2c(0xd7)](_0x339a2c(0x81)));}function renderTile(_0x4ed531){const _0x34fa9e=_0x11faa0;if(_0x4ed531['stack'])c['drawImage'](SPRITESHEET,tiles[_0x4ed531[_0x34fa9e(0xf9)]][0x0]*GLOBAL['tileSize']|0x0,tiles[_0x4ed531[_0x34fa9e(0xf9)]][0x1]*GLOBAL['tileSize']|0x0,_0x4ed531['w']*GLOBAL[_0x34fa9e(0x7d)],_0x4ed531['h']*GLOBAL[_0x34fa9e(0x7d)],map['x']+_0x4ed531['x']*GLOBAL[_0x34fa9e(0x7d)]*GLOBAL['ratio']|0x0,map['y']+_0x4ed531['y']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,_0x4ed531['w']*GLOBAL[_0x34fa9e(0x7d)]*GLOBAL[_0x34fa9e(0xfd)]|0x0,_0x4ed531['h']*GLOBAL['tileSize']*GLOBAL[_0x34fa9e(0xfd)]|0x0);else for(let _0x37b856=0x0;_0x37b856<_0x4ed531['w'];_0x37b856++){for(let _0x582c0a=0x0;_0x582c0a<_0x4ed531['h'];_0x582c0a++){c[_0x34fa9e(0xa2)](SPRITESHEET,tiles[_0x4ed531['type']][0x0]*GLOBAL[_0x34fa9e(0x7d)]|0x0,tiles[_0x4ed531['type']][0x1]*GLOBAL['tileSize']|0x0,GLOBAL['tileSize'],GLOBAL[_0x34fa9e(0x7d)],map['x']+(_0x4ed531['x']+_0x37b856)*GLOBAL[_0x34fa9e(0x7d)]*GLOBAL['ratio']|0x0,map['y']+(_0x4ed531['y']+_0x582c0a)*GLOBAL[_0x34fa9e(0x7d)]*GLOBAL[_0x34fa9e(0xfd)]|0x0,GLOBAL['tileSize']*GLOBAL[_0x34fa9e(0xfd)]|0x0,GLOBAL[_0x34fa9e(0x7d)]*GLOBAL[_0x34fa9e(0xfd)]|0x0);}}}function gameLoop(){const _0x210602=_0x11faa0;GLOBAL[_0x210602(0xa1)]++,setTimeout(gameLoop,0x3e8/GLOBAL[_0x210602(0x72)]),c[_0x210602(0x92)](0x0,0x0,canvas[_0x210602(0xaf)],canvas[_0x210602(0x78)]),c[_0x210602(0x9d)]=_0x210602(0xa4),c[_0x210602(0xab)](0x0,0x0,canvas[_0x210602(0xaf)],canvas[_0x210602(0x78)]),renderStars(),map[_0x210602(0xb2)](),map[_0x210602(0xc9)](),map[_0x210602(0xe8)](),player['compute'](),checkCollisions(),map[_0x210602(0xba)](),map[_0x210602(0xd9)](),player['render'](),playerInterface['render'](),map[_0x210602(0x88)](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0x2b78bf=_0x11faa0;player['x']=map[_0x2b78bf(0xf7)]['x'],player['y']=map[_0x2b78bf(0xf7)]['y'],map['tiles']=map[_0x2b78bf(0xef)];var _0x58ef63=[];for(let _0x5ba186=map[_0x2b78bf(0xc5)][_0x2b78bf(0x7e)]-0x1;_0x5ba186>=0x0;_0x5ba186--){switch(map['tiles'][_0x5ba186][_0x2b78bf(0xf9)]){case 0xd:map[_0x2b78bf(0x85)]['push'](new Monster(map[_0x2b78bf(0xc5)][_0x5ba186]['x'],map[_0x2b78bf(0xc5)][_0x5ba186]['y'])),_0x58ef63[_0x2b78bf(0xe9)](_0x5ba186);break;case 0xe:map[_0x2b78bf(0x85)][_0x2b78bf(0xe9)](new TeaMonster(map[_0x2b78bf(0xc5)][_0x5ba186]['x'],map[_0x2b78bf(0xc5)][_0x5ba186]['y'])),_0x58ef63[_0x2b78bf(0xe9)](_0x5ba186);break;case 0xf:map[_0x2b78bf(0x85)][_0x2b78bf(0xe9)](new MageMonster(map[_0x2b78bf(0xc5)][_0x5ba186]['x'],map[_0x2b78bf(0xc5)][_0x5ba186]['y'])),_0x58ef63[_0x2b78bf(0xe9)](_0x5ba186);break;}}for(let _0x515acd=0x0;_0x515acd<_0x58ef63['length'];_0x515acd++){map[_0x2b78bf(0xc5)]['splice'](_0x58ef63[_0x515acd],0x1);}}