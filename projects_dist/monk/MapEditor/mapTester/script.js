'use strict';const _0x4f3abc=_0x2dd5;(function(_0x4f185e,_0x5c3932){const _0x45f864=_0x2dd5,_0x48a990=_0x4f185e();while(!![]){try{const _0xe9ca6e=-parseInt(_0x45f864(0x1ef))/0x1*(parseInt(_0x45f864(0x1c8))/0x2)+-parseInt(_0x45f864(0x1bc))/0x3*(-parseInt(_0x45f864(0x205))/0x4)+parseInt(_0x45f864(0x212))/0x5+parseInt(_0x45f864(0x1e2))/0x6+-parseInt(_0x45f864(0x21e))/0x7*(parseInt(_0x45f864(0x19b))/0x8)+-parseInt(_0x45f864(0x1db))/0x9*(-parseInt(_0x45f864(0x1ea))/0xa)+parseInt(_0x45f864(0x1f7))/0xb;if(_0xe9ca6e===_0x5c3932)break;else _0x48a990['push'](_0x48a990['shift']());}catch(_0x2fe549){_0x48a990['push'](_0x48a990['shift']());}}}(_0x4e7a,0x586c3));function id(_0x2cacac){const _0x1a53aa=(function(){let _0x192bb3=!![];return function(_0x214665,_0x25acc5){const _0x1fc006=_0x192bb3?function(){if(_0x25acc5){const _0x326236=_0x25acc5['apply'](_0x214665,arguments);return _0x25acc5=null,_0x326236;}}:function(){};return _0x192bb3=![],_0x1fc006;};}()),_0x58928b=_0x1a53aa(this,function(){const _0x5a7f6f=_0x2dd5;let _0x4d2b66;try{const _0x2a90de=Function(_0x5a7f6f(0x1c4)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4d2b66=_0x2a90de();}catch(_0xe808f0){_0x4d2b66=window;}const _0x5eddce=new RegExp(_0x5a7f6f(0x208),'g'),_0x4f8f83=_0x5a7f6f(0x1a9)[_0x5a7f6f(0x191)](_0x5eddce,'')[_0x5a7f6f(0x1ff)](';');let _0x551e95,_0x44e9f3,_0x228b2e,_0x25eef9;const _0x3d0e75=function(_0x184844,_0x4aa85a,_0x32ec63){const _0x5d20f6=_0x5a7f6f;if(_0x184844[_0x5d20f6(0x194)]!=_0x4aa85a)return![];for(let _0x2dcccd=0x0;_0x2dcccd<_0x4aa85a;_0x2dcccd++){for(let _0x4b10b9=0x0;_0x4b10b9<_0x32ec63['length'];_0x4b10b9+=0x2){if(_0x2dcccd==_0x32ec63[_0x4b10b9]&&_0x184844['charCodeAt'](_0x2dcccd)!=_0x32ec63[_0x4b10b9+0x1])return![];}}return!![];},_0x2dce50=function(_0x248d1b,_0x49c09b,_0x1d2798){return _0x3d0e75(_0x49c09b,_0x1d2798,_0x248d1b);},_0x4a8054=function(_0x3a8e38,_0x4ea0b,_0x556faf){return _0x2dce50(_0x4ea0b,_0x3a8e38,_0x556faf);},_0x4a787e=function(_0x571666,_0x37b5bd,_0x3def9e){return _0x4a8054(_0x37b5bd,_0x3def9e,_0x571666);};for(let _0x2c3444 in _0x4d2b66){if(_0x3d0e75(_0x2c3444,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x551e95=_0x2c3444;break;}}for(let _0x24d1df in _0x4d2b66[_0x551e95]){if(_0x4a787e(0x6,_0x24d1df,[0x5,0x6e,0x0,0x64])){_0x44e9f3=_0x24d1df;break;}}for(let _0x14fe12 in _0x4d2b66[_0x551e95]){if(_0x4a8054(_0x14fe12,[0x7,0x6e,0x0,0x6c],0x8)){_0x228b2e=_0x14fe12;break;}}if(!('~'>_0x44e9f3))for(let _0x21c1ef in _0x4d2b66[_0x551e95][_0x228b2e]){if(_0x2dce50([0x7,0x65,0x0,0x68],_0x21c1ef,0x8)){_0x25eef9=_0x21c1ef;break;}}if(!_0x551e95||!_0x4d2b66[_0x551e95])return;const _0x522a56=_0x4d2b66[_0x551e95][_0x44e9f3],_0x32cd1a=!!_0x4d2b66[_0x551e95][_0x228b2e]&&_0x4d2b66[_0x551e95][_0x228b2e][_0x25eef9],_0x42f400=_0x522a56||_0x32cd1a;if(!_0x42f400)return;let _0x1888d8=![];for(let _0x2f4caa=0x0;_0x2f4caa<_0x4f8f83[_0x5a7f6f(0x194)];_0x2f4caa++){const _0x48acd1=_0x4f8f83[_0x2f4caa],_0x1839c0=_0x48acd1[0x0]===String[_0x5a7f6f(0x1a8)](0x2e)?_0x48acd1[_0x5a7f6f(0x1a6)](0x1):_0x48acd1,_0x593bcc=_0x42f400[_0x5a7f6f(0x194)]-_0x1839c0[_0x5a7f6f(0x194)],_0xc5137e=_0x42f400['indexOf'](_0x1839c0,_0x593bcc),_0x30dec5=_0xc5137e!==-0x1&&_0xc5137e===_0x593bcc;_0x30dec5&&((_0x42f400[_0x5a7f6f(0x194)]==_0x48acd1['length']||_0x48acd1[_0x5a7f6f(0x1ae)]('.')===0x0)&&(_0x1888d8=!![]));}if(!_0x1888d8){const _0x3a39ca=new RegExp(_0x5a7f6f(0x207),'g'),_0x56509d='abQohuTt:blpBNxTWOankZUBBXeLKIWyUBUpAmKEJ'[_0x5a7f6f(0x191)](_0x3a39ca,'');_0x4d2b66[_0x551e95][_0x228b2e]=_0x56509d;}});return _0x58928b(),document['getElementById'](_0x2cacac);}window['onload']=function(){initializeMap();};const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id(_0x4f3abc(0x1e5));canvas[_0x4f3abc(0x1c9)]=0x2d0,canvas[_0x4f3abc(0x203)]=0x1e0;var c=canvas[_0x4f3abc(0x19c)]('2d');c[_0x4f3abc(0x20d)]=![];const SPRITESHEET=id(_0x4f3abc(0x1c5)),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};class Star{constructor(){const _0x50c7a5=_0x4f3abc;this['r']=Math[_0x50c7a5(0x1b0)]()*0x3|0x0,stars[_0x50c7a5(0x1fd)]({'x':Math[_0x50c7a5(0x1b0)]()*canvas[_0x50c7a5(0x1c9)],'y':Math[_0x50c7a5(0x1b0)]()*canvas[_0x50c7a5(0x203)],'width':this['r'],'height':this['r'],'xVel':Math[_0x50c7a5(0x1b0)]()/0xa,'yVel':Math['random']()/0xa});}}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function renderStars(){const _0x45e114=_0x4f3abc;for(let _0x34c4e3=0x0;_0x34c4e3<stars['length'];_0x34c4e3++){c[_0x45e114(0x1d5)](),c['fillStyle']=_0x45e114(0x1b4),c['fillRect'](stars[_0x34c4e3]['x']|0x0*GLOBAL[_0x45e114(0x1fa)],stars[_0x34c4e3]['y']|0x0*GLOBAL[_0x45e114(0x1fa)],stars[_0x34c4e3][_0x45e114(0x1c9)]*GLOBAL[_0x45e114(0x1fa)],stars[_0x34c4e3][_0x45e114(0x203)]*GLOBAL[_0x45e114(0x1fa)]),c['stroke'](),stars[_0x34c4e3]['x']>canvas[_0x45e114(0x1c9)]&&(stars[_0x34c4e3]['x']=0x0),stars[_0x34c4e3]['y']>canvas[_0x45e114(0x203)]&&(stars[_0x34c4e3]['y']=0x0),stars[_0x34c4e3]['x']+=stars[_0x34c4e3][_0x45e114(0x1ec)],stars[_0x34c4e3]['y']+=stars[_0x34c4e3]['xVel'];}}function distribute(_0x584dd4,_0xa04511,_0xa0d93b){const _0x4728cb=_0x4f3abc;let _0x20913c=[];while(_0xa04511['length']>_0x20913c[_0x4728cb(0x194)]){if(_0x584dd4>_0xa0d93b)_0x20913c[_0x4728cb(0x1fd)](_0xa0d93b),_0x584dd4-=_0xa0d93b;else _0x584dd4!=0x0?(_0x20913c[_0x4728cb(0x1fd)](_0x584dd4),_0x584dd4=0x0):_0xa04511[_0x4728cb(0x194)]>_0x20913c[_0x4728cb(0x194)]&&_0x20913c['push'](_0x584dd4);}return _0x20913c;}class Interface{constructor(){const _0x1a7c07=_0x4f3abc;this[_0x1a7c07(0x1e0)]=0x0,this['healthMaxValue']=0x2,this['health']=[0x2,0x2,0x2],this['heartsX']=[0x2,0x1,0x0],this[_0x1a7c07(0x1b9)]=[0x8,0x8,0x8],this[_0x1a7c07(0x201)]=canvas[_0x1a7c07(0x1c9)]/0x10/0x2/GLOBAL['ratio']-this['health'][_0x1a7c07(0x194)]/0x2|0x0,this[_0x1a7c07(0x200)]=0x1,this[_0x1a7c07(0x1da)],this[_0x1a7c07(0x1cd)];}['render'](){const _0x35a49f=_0x4f3abc;this[_0x35a49f(0x1e0)]>0x0?(this[_0x35a49f(0x1da)]=Math[_0x35a49f(0x1b0)]()*this[_0x35a49f(0x1e0)]*0x2-this[_0x35a49f(0x1e0)],this[_0x35a49f(0x1cd)]=Math[_0x35a49f(0x1b0)]()*this[_0x35a49f(0x1e0)]*0x2-this['shake'],this[_0x35a49f(0x1e0)]--):(this['shakeAmountX']=0x0,this['shakeAmountY']=0x0);this[_0x35a49f(0x1bf)]=distribute(player[_0x35a49f(0x19e)],this[_0x35a49f(0x1bf)],this['healthMaxValue']);for(let _0x55eada=0x0;_0x55eada<this[_0x35a49f(0x1bf)][_0x35a49f(0x194)];_0x55eada++){c['drawImage'](SPRITESHEET,this[_0x35a49f(0x1c2)][this[_0x35a49f(0x1bf)][_0x55eada]]*GLOBAL[_0x35a49f(0x1e9)]|0x0,this[_0x35a49f(0x1b9)][this[_0x35a49f(0x1bf)][_0x55eada]]*GLOBAL['tileSize']|0x0,GLOBAL[_0x35a49f(0x1e9)],GLOBAL[_0x35a49f(0x1e9)],this[_0x35a49f(0x1da)]+(this[_0x35a49f(0x201)]+_0x55eada)*GLOBAL[_0x35a49f(0x1e9)]*GLOBAL[_0x35a49f(0x1fa)]|0x0,this[_0x35a49f(0x1cd)]+this[_0x35a49f(0x200)]*GLOBAL[_0x35a49f(0x1e9)]*GLOBAL[_0x35a49f(0x1fa)]|0x0,0x1*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,0x1*GLOBAL['tileSize']*GLOBAL[_0x35a49f(0x1fa)]|0x0);}}}var playerInterface=new Interface();class Player{constructor(){const _0x301326=_0x4f3abc;this[_0x301326(0x19e)]=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this[_0x301326(0x1b7)]=![],this[_0x301326(0x1f6)]=0x0,this[_0x301326(0x1eb)]=0.2,this[_0x301326(0x1dc)]=0.3,this[_0x301326(0x1d1)]=![],this[_0x301326(0x1ec)]=0x0,this['yVel']=0x0,this[_0x301326(0x20b)]=0x0,this[_0x301326(0x213)]=0x1e,this[_0x301326(0x1af)]=![],this[_0x301326(0x1ab)]=0x0,this['yVelExt']=0x0,this[_0x301326(0x1e6)]=0x0,this[_0x301326(0x1a3)]=0x0,this[_0x301326(0x1aa)]=0x3,this[_0x301326(0x1b8)]=0x0,this[_0x301326(0x217)]=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this[_0x301326(0x1c0)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this[_0x301326(0x19a)]=0x0,this[_0x301326(0x1f9)]=0x0,this[_0x301326(0x214)]=0x1,this[_0x301326(0x196)]=0x0,this[_0x301326(0x1e3)]=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this[_0x301326(0x211)]=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this[_0x301326(0x21d)]=0.035,this[_0x301326(0x21b)]=0.12,this[_0x301326(0x1b5)]=![],this[_0x301326(0x1f1)]=0.8,this[_0x301326(0x1ac)]=0x0,this['hitbox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['col']={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this[_0x301326(0x1df)]={'L':![],'R':![],'T':![],'B':![]},this[_0x301326(0x1cf)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x4f3abc(0x1bd)](_0x51e460){const _0x460756=_0x4f3abc;_0x51e460!==this['f_action']+0x1&&(this[_0x460756(0x19a)]=0x0,this[_0x460756(0x1f9)]=0x0);switch(_0x51e460){case 0x1:this[_0x460756(0x196)]=0x0,this[_0x460756(0x1cf)]['w']=this['w'],this[_0x460756(0x1cf)]['x']=this['x']-this[_0x460756(0x1cf)]['w'],this[_0x460756(0x1cf)]['h']=this['w']/0x2,this[_0x460756(0x1cf)]['y']=this['y']+this['h']/0x2-this[_0x460756(0x1cf)]['h']/0x2;break;case 0x2:this[_0x460756(0x196)]=0x1,this['atkBox']['w']=this['w'],this[_0x460756(0x1cf)]['x']=this['x']+this['w'],this[_0x460756(0x1cf)]['h']=this['w']/0x2,this[_0x460756(0x1cf)]['y']=this['y']+this['h']/0x2-this[_0x460756(0x1cf)]['h']/0x2;break;case 0x3:this[_0x460756(0x196)]=0x2,this[_0x460756(0x1cf)]['w']=this['w']/0x2,this[_0x460756(0x1cf)]['x']=this['x']+this['w']/0x2-this['atkBox']['w']/0x2,this['atkBox']['h']=this['w'],this[_0x460756(0x1cf)]['y']=this['y']-this[_0x460756(0x1cf)]['h'];break;case 0x4:this[_0x460756(0x196)]=0x3,this[_0x460756(0x1cf)]['w']=this['w']/0x2,this['atkBox']['x']=this['x']+this['w']/0x2-this[_0x460756(0x1cf)]['w']/0x2,this[_0x460756(0x1cf)]['h']=this['w'],this[_0x460756(0x1cf)]['y']=this['y']+this['h'];break;}let _0x524855=0x0,_0x46395c=![];while(!_0x46395c&&_0x524855<map['tiles'][_0x460756(0x194)]){if(collided(this['atkBox'],map['tiles'][_0x524855]))switch(_0x51e460){case 0x1:this[_0x460756(0x1ab)]+=this[_0x460756(0x21b)]*(this[_0x460756(0x1f6)]/0x3),_0x46395c=!![];break;case 0x2:this[_0x460756(0x1ab)]-=this[_0x460756(0x21b)]*(this[_0x460756(0x1f6)]/0x3),_0x46395c=!![];break;case 0x3:this[_0x460756(0x18f)]+=this[_0x460756(0x21b)]/0x2,_0x46395c=!![];break;case 0x4:this['colBool']['B']&&(this[_0x460756(0x18f)]-=this[_0x460756(0x21b)]*(this['chargingAmount']/0x3));_0x46395c=!![];break;}_0x524855++;}for(let _0x191f1f=0x0;_0x191f1f<map[_0x460756(0x20a)][_0x460756(0x194)];_0x191f1f++){if(map['enemies'][_0x191f1f][_0x460756(0x215)]!==_0x460756(0x1fb)&&!map[_0x460756(0x20a)][_0x191f1f]['dead']){if(collided(this[_0x460756(0x1cf)],map[_0x460756(0x20a)][_0x191f1f])){map[_0x460756(0x20a)][_0x191f1f][_0x460756(0x221)]=!![];let _0x12b270=this['x']+this['w']/0x2,_0x12d5cc=this['y']+this['h']/0x2,_0x32b949=map[_0x460756(0x20a)][_0x191f1f]['x']-(this['x']+this['w']/0x2),_0x5e54cc=map['enemies'][_0x191f1f]['y']-(this['y']+this['h']/0x2),_0x3ca947=Math[_0x460756(0x1fe)](_0x5e54cc,_0x32b949);map[_0x460756(0x20a)][_0x191f1f][_0x460756(0x1ec)]=Math['cos'](_0x3ca947)*map[_0x460756(0x20a)][_0x191f1f][_0x460756(0x1ed)],map[_0x460756(0x20a)][_0x191f1f][_0x460756(0x18f)]=Math[_0x460756(0x1a1)](_0x3ca947)*map[_0x460756(0x20a)][_0x191f1f][_0x460756(0x1ed)];}}}this['chargingAmount']=0x0;}[_0x4f3abc(0x1d7)](){const _0x38b3bb=_0x4f3abc;this[_0x38b3bb(0x18f)]<GLOBAL[_0x38b3bb(0x21c)]?!this[_0x38b3bb(0x1df)]['B']&&(this['yVel']+=this[_0x38b3bb(0x21d)]):this[_0x38b3bb(0x18f)]=GLOBAL['terminalVel'];controls[_0x38b3bb(0x1d1)]&&(this[_0x38b3bb(0x1ec)]>-this[_0x38b3bb(0x1dc)]&&(this[_0x38b3bb(0x1df)]['B']?this[_0x38b3bb(0x1ec)]-=this[_0x38b3bb(0x1eb)]:this['xVel']-=this[_0x38b3bb(0x1eb)]/0x2));controls[_0x38b3bb(0x204)]&&(this[_0x38b3bb(0x1ec)]<this[_0x38b3bb(0x1dc)]&&(this[_0x38b3bb(0x1df)]['B']?this[_0x38b3bb(0x1ec)]+=this[_0x38b3bb(0x1eb)]:this[_0x38b3bb(0x1ec)]+=this[_0x38b3bb(0x1eb)]/0x2));this['yVel']<0x0&&this[_0x38b3bb(0x19f)]['T']&&(this['yVel']=0x0);this[_0x38b3bb(0x1df)]['B']?(Math[_0x38b3bb(0x197)](this[_0x38b3bb(0x1ec)])>0.01?this[_0x38b3bb(0x1ec)]*=this[_0x38b3bb(0x1f1)]*0.5:this['xVel']=0x0,this[_0x38b3bb(0x1b5)]=![],this[_0x38b3bb(0x18f)]>0x0&&(this[_0x38b3bb(0x18f)]=0x0)):Math[_0x38b3bb(0x197)](this[_0x38b3bb(0x1ec)])>0.01?this[_0x38b3bb(0x1ec)]*=this['friction']:this[_0x38b3bb(0x1ec)]=0x0;(this[_0x38b3bb(0x19f)]['R']&&this[_0x38b3bb(0x1ec)]>0x0||this[_0x38b3bb(0x19f)]['L']&&this[_0x38b3bb(0x1ec)]<0x0)&&(this[_0x38b3bb(0x1ec)]=0x0);this['x']+=this[_0x38b3bb(0x1ec)],this['y']+=this['yVel'];if(controls[_0x38b3bb(0x1a5)]||controls[_0x38b3bb(0x1c7)]||controls[_0x38b3bb(0x1d4)]||controls['down2']){this[_0x38b3bb(0x1b7)]=!![];if(controls['left2'])this[_0x38b3bb(0x1d1)]=!![];else controls[_0x38b3bb(0x1c7)]&&(this[_0x38b3bb(0x1d1)]=![]);}else this[_0x38b3bb(0x1b7)]=![];this[_0x38b3bb(0x1b7)]&&this[_0x38b3bb(0x1f6)]<0x14&&this['chargingAmount']++;if(controls[_0x38b3bb(0x1f2)])this[_0x38b3bb(0x1ac)]=0x4,this[_0x38b3bb(0x19a)]=0x0,this[_0x38b3bb(0x1f9)]=0x0,this[_0x38b3bb(0x1bd)](0x1);else{if(controls['rightRel'])this['attacking']=0x4,this[_0x38b3bb(0x19a)]=0x0,this[_0x38b3bb(0x1f9)]=0x0,this[_0x38b3bb(0x1bd)](0x2);else{if(controls[_0x38b3bb(0x20e)])this[_0x38b3bb(0x1ac)]=0x4,this[_0x38b3bb(0x19a)]=0x0,this[_0x38b3bb(0x1f9)]=0x0,this[_0x38b3bb(0x1bd)](0x3);else controls['downRel']&&(this[_0x38b3bb(0x1ac)]=0x4,this[_0x38b3bb(0x19a)]=0x0,this[_0x38b3bb(0x1f9)]=0x0,this[_0x38b3bb(0x1bd)](0x4));}}this['xVelExt']*=0.8,this[_0x38b3bb(0x1fc)]*=0.8,this['xVelExt']<0.01&&this[_0x38b3bb(0x1ab)]>-0.01&&(this[_0x38b3bb(0x1ab)]=0x0),this[_0x38b3bb(0x1fc)]<0.01&&this['yVelExt']>-0.01&&(this['yVelExt']=0x0),this['x']+=this[_0x38b3bb(0x1ab)],this['y']+=this[_0x38b3bb(0x1fc)],this[_0x38b3bb(0x218)]['x']=this['x']+this['w']/0x4,this[_0x38b3bb(0x218)]['w']=this['w']/0x2,this[_0x38b3bb(0x218)]['h']=this['h'],this[_0x38b3bb(0x218)]['y']=this['y'];}['render'](){const _0x57dc0e=_0x4f3abc;if(!this[_0x57dc0e(0x1b7)]){if(this[_0x57dc0e(0x1ec)]>0x0)this[_0x57dc0e(0x1d1)]=![];else this['xVel']<0x0?this[_0x57dc0e(0x1d1)]=!![]:this[_0x57dc0e(0x1d1)]?this[_0x57dc0e(0x1b8)]=0x1:this[_0x57dc0e(0x1b8)]=0x0;if(!this['colBool']['B'])this[_0x57dc0e(0x1d1)]?this[_0x57dc0e(0x1b8)]=0x5:this['action']=0x4;else{if(this[_0x57dc0e(0x1ec)]!==0x0){if(!this[_0x57dc0e(0x1d1)])player['action']=0x2,player[_0x57dc0e(0x1d1)]=![];else this[_0x57dc0e(0x1d1)]&&(player[_0x57dc0e(0x1b8)]=0x3,player['left']=!![]);}}}this[_0x57dc0e(0x1a3)]++,this['frameCounter']>this[_0x57dc0e(0x1aa)]&&(this[_0x57dc0e(0x1e6)]++,this[_0x57dc0e(0x1a3)]=0x0),this[_0x57dc0e(0x1e6)]>=this[_0x57dc0e(0x217)][this[_0x57dc0e(0x1b8)]]['length']&&(this[_0x57dc0e(0x1e6)]=0x0,this[_0x57dc0e(0x1b7)]&&(this[_0x57dc0e(0x1e6)]=this[_0x57dc0e(0x217)][this['action']]['length']-0x2)),this[_0x57dc0e(0x1af)]&&(this[_0x57dc0e(0x1e6)]=0x0,this[_0x57dc0e(0x20b)]++%0x4&&(this[_0x57dc0e(0x1b8)]=0x6)),this[_0x57dc0e(0x1b7)]&&(this[_0x57dc0e(0x1d1)]?this[_0x57dc0e(0x1b8)]=0x8:this[_0x57dc0e(0x1b8)]=0x7),this[_0x57dc0e(0x20b)]>this[_0x57dc0e(0x213)]&&(this['attacked']=![],this[_0x57dc0e(0x20b)]=0x0),c[_0x57dc0e(0x1ad)](SPRITESHEET,this[_0x57dc0e(0x217)][this[_0x57dc0e(0x1b8)]][this[_0x57dc0e(0x1e6)]]*GLOBAL['tileSize']|0x0,this['actionY'][this[_0x57dc0e(0x1b8)]][this[_0x57dc0e(0x1e6)]]*GLOBAL['tileSize']|0x0,GLOBAL[_0x57dc0e(0x1e9)]*0x2,GLOBAL['tileSize']*0x2,map['x']+this['x']*GLOBAL[_0x57dc0e(0x1e9)]*GLOBAL[_0x57dc0e(0x1fa)]|0x0,map['y']+this['y']*GLOBAL[_0x57dc0e(0x1e9)]*GLOBAL['ratio']|0x0,this['w']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,this['h']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0),this['attacking']&&(this[_0x57dc0e(0x1f9)]++,this[_0x57dc0e(0x1f9)]>this[_0x57dc0e(0x214)]&&(this[_0x57dc0e(0x19a)]++,this['f_frameCounter']=0x0),this['f_currentFrame']>=this[_0x57dc0e(0x1e3)][this[_0x57dc0e(0x196)]][_0x57dc0e(0x194)]&&(this['f_currentFrame']=0x3),c[_0x57dc0e(0x1ad)](SPRITESHEET,this[_0x57dc0e(0x1e3)][this[_0x57dc0e(0x196)]][this['f_currentFrame']]*GLOBAL['tileSize']|0x0,this['fistY'][this[_0x57dc0e(0x196)]][this[_0x57dc0e(0x19a)]]*GLOBAL[_0x57dc0e(0x1e9)]|0x0,GLOBAL['tileSize']*this['atkBox']['w'],GLOBAL[_0x57dc0e(0x1e9)]*this[_0x57dc0e(0x1cf)]['h'],map['x']+this['atkBox']['x']*GLOBAL[_0x57dc0e(0x1e9)]*GLOBAL[_0x57dc0e(0x1fa)]|0x0,map['y']+this[_0x57dc0e(0x1cf)]['y']*GLOBAL[_0x57dc0e(0x1e9)]*GLOBAL[_0x57dc0e(0x1fa)]|0x0,this[_0x57dc0e(0x1cf)]['w']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,this[_0x57dc0e(0x1cf)]['h']*GLOBAL['tileSize']*GLOBAL[_0x57dc0e(0x1fa)]|0x0),this[_0x57dc0e(0x1ac)]--);}}var player=new Player();setInterval(countFps,0x3e8);function countFps(){const _0x538ce7=_0x4f3abc;id(_0x538ce7(0x220))[_0x538ce7(0x1dd)]='FPS:\x20'+GLOBAL[_0x538ce7(0x1b2)],GLOBAL[_0x538ce7(0x1b2)]=0x0;}function displayDebug(){const _0x4f034c=_0x4f3abc;id('px')['innerHTML']=_0x4f034c(0x1d6)+player['x'],id('py')[_0x4f034c(0x1dd)]=_0x4f034c(0x199)+player['y'],id('pg')['innerHTML']='<br>Collisions\x20',id('pg')[_0x4f034c(0x1dd)]+=_0x4f034c(0x1d0)+player['colBool']['L'],id('pg')[_0x4f034c(0x1dd)]+=_0x4f034c(0x219)+player['colBool']['R'],id('pg')['innerHTML']+=_0x4f034c(0x1f0)+player['colBool']['T'],id('pg')['innerHTML']+=_0x4f034c(0x1c1)+player[_0x4f034c(0x1df)]['B'];}function checkCollisions(){const _0x31c8c9=_0x4f3abc;let _0x26e8cb=map[_0x31c8c9(0x1ba)],_0x1bbf3b=map[_0x31c8c9(0x20a)],_0xd4707e=_0x31c8c9(0x1a2);player[_0x31c8c9(0x19f)]['L']=0x0,player[_0x31c8c9(0x19f)]['R']=0x0,player[_0x31c8c9(0x19f)]['T']=0x0,player[_0x31c8c9(0x19f)]['B']=0x0,player['colBool']['L']=![],player[_0x31c8c9(0x1df)]['R']=![],player[_0x31c8c9(0x1df)]['T']=![],player[_0x31c8c9(0x1df)]['B']=![];for(let _0x8bffdc=0x0;_0x8bffdc<_0x26e8cb[_0x31c8c9(0x194)];_0x8bffdc++){if(collided(player,_0x26e8cb[_0x8bffdc])){_0xd4707e=colCheck(player,_0x26e8cb[_0x8bffdc]);switch(_0xd4707e){case'l':player[_0x31c8c9(0x18f)]<0x0&&(player[_0x31c8c9(0x19f)]['L']>player['xVel']&&(player[_0x31c8c9(0x1df)]['L']=!![],player[_0x31c8c9(0x1ec)]=0x0));break;case'r':player['xVel']>0x0&&(player[_0x31c8c9(0x19f)]['R']<player[_0x31c8c9(0x1ec)]&&(player[_0x31c8c9(0x1df)]['R']=!![],player[_0x31c8c9(0x1ec)]=0x0));break;case't':player[_0x31c8c9(0x18f)]<0x0&&(player[_0x31c8c9(0x18f)]=0x0);player[_0x31c8c9(0x1df)]['T']=!![];break;case'b':player[_0x31c8c9(0x18f)]>0x0&&(player['yVel']=0x0);player['colBool']['B']=!![];break;}}}player[_0x31c8c9(0x1df)]['B']&&(player['col']['B']-=0.015625),player[_0x31c8c9(0x1df)]['L']&&(player[_0x31c8c9(0x19f)]['L']-=0.015625),player[_0x31c8c9(0x1df)]['R']&&(player[_0x31c8c9(0x19f)]['R']-=0.015625),player['x']-=player['col']['R']-player[_0x31c8c9(0x19f)]['L'],player['y']-=player['col']['B']-player[_0x31c8c9(0x19f)]['T'];}function _0x2dd5(_0x495419,_0x5b4c4f){const _0x11e9fd=_0x4e7a();return _0x2dd5=function(_0x586b98,_0x3bc493){_0x586b98=_0x586b98-0x18e;let _0xcd713a=_0x11e9fd[_0x586b98];return _0xcd713a;},_0x2dd5(_0x495419,_0x5b4c4f);}class Monster{constructor(_0x5b91c6,_0x46c9a4){const _0x4859c5=_0x4f3abc;this['type']=_0x4859c5(0x21f),this['x']=_0x5b91c6,this['y']=_0x46c9a4,this['w']=0x1,this['h']=0x1,this['xVel']=0x0,this[_0x4859c5(0x18f)]=0x0,this[_0x4859c5(0x1ed)]=0.1,this[_0x4859c5(0x1f5)]=0xa,this[_0x4859c5(0x1ac)]=![],this[_0x4859c5(0x1b6)]=0x3,this[_0x4859c5(0x221)]=![],this[_0x4859c5(0x18e)]=![],this[_0x4859c5(0x1e6)]=0x0,this[_0x4859c5(0x1a3)]=0x0,this[_0x4859c5(0x1aa)]=0x3,this['hitbox']={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this['action']=0x0,this[_0x4859c5(0x217)]=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this[_0x4859c5(0x1c0)]=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this[_0x4859c5(0x1cf)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x4f3abc(0x1d7)](){const _0x152ddf=_0x4f3abc;this[_0x152ddf(0x1f5)]--;if(this[_0x152ddf(0x1f5)]<=0x0){this[_0x152ddf(0x1f5)]=0xa;if(!this['attacking']){this[_0x152ddf(0x1cf)]['x']=this['x']-this[_0x152ddf(0x1b6)],this[_0x152ddf(0x1cf)]['y']=this['y']-this[_0x152ddf(0x1b6)],this[_0x152ddf(0x1cf)]['w']=this['w']+this[_0x152ddf(0x1b6)]*0x2,this[_0x152ddf(0x1cf)]['h']=this['h']+this[_0x152ddf(0x1b6)]*0x2;if(collided(this['atkBox'],player)){this[_0x152ddf(0x1ac)]=!![];let _0x88cb3f=this['x']+this['w']/0x2,_0x3cacb0=this['y']+this['h']/0x2,_0xc819a1=_0x88cb3f-(player['x']+player['w']/0x2),_0x32f366=_0x3cacb0-(player['y']+player['h']/0x2),_0x537340=Math[_0x152ddf(0x1fe)](_0x32f366,_0xc819a1);this['xVel']=-Math['cos'](_0x537340)*this[_0x152ddf(0x1ed)],this[_0x152ddf(0x18f)]=-Math[_0x152ddf(0x1a1)](_0x537340)*this[_0x152ddf(0x1ed)];}}else!this[_0x152ddf(0x221)]&&collided(this,player)&&(player[_0x152ddf(0x19e)]>0x0&&player[_0x152ddf(0x20b)]==0x0&&(player[_0x152ddf(0x19e)]--,playerInterface[_0x152ddf(0x1e0)]=0x4,player['attacked']=!![]));}this['x']+=this['xVel'],this['y']+=this[_0x152ddf(0x18f)],this[_0x152ddf(0x218)]['x']=this['x']+this['w']/0x2,this[_0x152ddf(0x218)]['y']=this['y'];}[_0x4f3abc(0x1a7)](){const _0x387adb=_0x4f3abc;this[_0x387adb(0x221)]&&!this[_0x387adb(0x18e)]&&(this[_0x387adb(0x1b8)]=0x1,this[_0x387adb(0x1a3)]=0x0,this[_0x387adb(0x1e6)]=0x0,this[_0x387adb(0x18e)]=!![]),this[_0x387adb(0x1a3)]++,this[_0x387adb(0x1a3)]>this['slowness']&&(this[_0x387adb(0x1e6)]++,this[_0x387adb(0x1a3)]=0x0),this[_0x387adb(0x1e6)]>=this['actionX'][this[_0x387adb(0x1b8)]]['length']&&(this[_0x387adb(0x1e6)]=0x0,this['deathAnimation']&&(this[_0x387adb(0x1b8)]=0x2)),c[_0x387adb(0x1ad)](SPRITESHEET,this['actionX'][this[_0x387adb(0x1b8)]][this[_0x387adb(0x1e6)]]*GLOBAL['tileSize']|0x0,this[_0x387adb(0x1c0)][this['action']][this[_0x387adb(0x1e6)]]*GLOBAL['tileSize']|0x0,GLOBAL[_0x387adb(0x1e9)],GLOBAL['tileSize'],map['x']+this['x']*GLOBAL[_0x387adb(0x1e9)]*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x387adb(0x1e9)]*GLOBAL['ratio']|0x0,this['w']*GLOBAL[_0x387adb(0x1e9)]*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x387adb(0x1e9)]*GLOBAL[_0x387adb(0x1fa)]|0x0);}}class TeaMonster{constructor(_0x45e313,_0x254618){const _0x4523a6=_0x4f3abc;this['x']=_0x45e313,this['y']=_0x254618,this['w']=0x1,this['h']=0x1,this['xVel']=0x0,this[_0x4523a6(0x18f)]=0x0,this['speed']=0.1,this[_0x4523a6(0x1f5)]=0xa,this[_0x4523a6(0x1ac)]=![],this['range']=0x3,this[_0x4523a6(0x221)]=![],this[_0x4523a6(0x18e)]=![],this[_0x4523a6(0x1e6)]=0x0,this[_0x4523a6(0x1a3)]=0x0,this[_0x4523a6(0x215)]='tea',this[_0x4523a6(0x221)]=![],this['slowness']=0x3,this[_0x4523a6(0x190)]=0x0,this['downCounter']=0x0,this['down']=0x0,this['w']=0x3,this['h']=0x3,this['action']=0x0,this[_0x4523a6(0x218)]={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this[_0x4523a6(0x1cf)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x4523a6(0x217)]=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this[_0x4523a6(0x1c0)]=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}['compute'](){const _0x284260=_0x4f3abc;this[_0x284260(0x218)]['x']=this['x']-this[_0x284260(0x1c6)],this[_0x284260(0x218)]['y']=this['y']+this['down'],this[_0x284260(0x218)]['w']=this['w']+this[_0x284260(0x1c6)],this['hitbox']['h']=this['h']-this['down'],this['down']&&this[_0x284260(0x1e7)]===0x1&&(collided(this,player)&&(player[_0x284260(0x20b)]==0x0&&(player[_0x284260(0x1af)]=!![],player['xVelExt']=-0x2,player[_0x284260(0x19e)]-=0x2,player['healthAmount']<0x0&&(player[_0x284260(0x19e)]=0x0))));}[_0x4f3abc(0x1a7)](){const _0x1c777e=_0x4f3abc;this[_0x1c777e(0x221)]=![],this[_0x1c777e(0x1a3)]++,this[_0x1c777e(0x1a3)]>this[_0x1c777e(0x1aa)]&&(this[_0x1c777e(0x1e6)]++,this['frameCounter']=0x0),this[_0x1c777e(0x1e6)]>=this[_0x1c777e(0x217)][this['action']][_0x1c777e(0x194)]&&(this[_0x1c777e(0x1e6)]=0x0,this[_0x1c777e(0x1b8)]==0x1&&(this[_0x1c777e(0x1b8)]=0x2),this['action']==0x2&&this[_0x1c777e(0x190)]++==0x2&&(this['action']=0x3),this[_0x1c777e(0x1b8)]==0x3&&(this[_0x1c777e(0x1c6)]=0x1,this[_0x1c777e(0x1e7)]++,this[_0x1c777e(0x1e7)]==0x3&&(this[_0x1c777e(0x1c6)]=0x0,this[_0x1c777e(0x1b8)]=0x0,this[_0x1c777e(0x1e7)]=0x0,this[_0x1c777e(0x190)]=0x0))),player['x']>this['x']-this['range']&&this[_0x1c777e(0x1b8)]<0x1&&(this[_0x1c777e(0x1b8)]=0x1,this[_0x1c777e(0x1e6)]=0x0,this[_0x1c777e(0x1a3)]=0x0),c[_0x1c777e(0x1ad)](SPRITESHEET,this[_0x1c777e(0x217)][this[_0x1c777e(0x1b8)]][this[_0x1c777e(0x1e6)]]*GLOBAL[_0x1c777e(0x1e9)]|0x0,this['actionY'][this[_0x1c777e(0x1b8)]][this[_0x1c777e(0x1e6)]]*GLOBAL[_0x1c777e(0x1e9)]|0x0,(this['w']+this[_0x1c777e(0x1c6)])*GLOBAL[_0x1c777e(0x1e9)],this['h']*GLOBAL[_0x1c777e(0x1e9)],map['x']+(this['x']-this[_0x1c777e(0x1c6)])*GLOBAL[_0x1c777e(0x1e9)]*GLOBAL[_0x1c777e(0x1fa)]|0x0,map['y']+this['y']*GLOBAL[_0x1c777e(0x1e9)]*GLOBAL[_0x1c777e(0x1fa)]|0x0,(this['w']+this[_0x1c777e(0x1c6)])*GLOBAL[_0x1c777e(0x1e9)]*GLOBAL[_0x1c777e(0x1fa)]|0x0,this['h']*GLOBAL[_0x1c777e(0x1e9)]*GLOBAL['ratio']|0x0);}}class MageAttack{constructor(_0x38a0c6,_0x3e0440){const _0x3c1ed0=_0x4f3abc;this['x']=_0x38a0c6,this['y']=0x0,this['w']=0x2,this['h']=0xf,this[_0x3c1ed0(0x1e6)]=0x0,this['frameCounter']=0x0,this[_0x3c1ed0(0x215)]=_0x3c1ed0(0x193),this[_0x3c1ed0(0x192)]=!![],this[_0x3c1ed0(0x1aa)]=0x3,this[_0x3c1ed0(0x1ac)]=![],this['action']=0x0,this['actionX']=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this['actionY']=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this['distance']=0x0,this['speed']=0.3,this[_0x3c1ed0(0x1ee)]=!![],this['hitbox']={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}[_0x4f3abc(0x1d7)](){const _0xcf250a=_0x4f3abc;this['distance']=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this[_0xcf250a(0x1ee)]){if(this['distance']<0x0)this['x']+=this[_0xcf250a(0x1ca)]/0xa;else this[_0xcf250a(0x1ca)]>0x0&&(this['x']+=this[_0xcf250a(0x1ca)]/0xa);}this[_0xcf250a(0x218)]['x']=this['x']+(this['w']-this[_0xcf250a(0x218)]['w'])/0x2,this[_0xcf250a(0x1e6)]>0x5&&this[_0xcf250a(0x1e6)]<0x9&&(this[_0xcf250a(0x1ee)]=![],collided(this,player)&&(player[_0xcf250a(0x19e)]>0x0&&player['iFrame']==0x0&&(player['healthAmount']-=0x2,playerInterface[_0xcf250a(0x1e0)]=0x4,player[_0xcf250a(0x1af)]=!![])));}[_0x4f3abc(0x1a7)](){const _0x53dc88=_0x4f3abc;this[_0x53dc88(0x1a3)]++,this[_0x53dc88(0x1a3)]>this[_0x53dc88(0x1aa)]&&(this[_0x53dc88(0x1e6)]++,this[_0x53dc88(0x1a3)]=0x0),this['currentFrame']>=this[_0x53dc88(0x217)][this[_0x53dc88(0x1b8)]][_0x53dc88(0x194)]&&(this[_0x53dc88(0x1e6)]=0x0,this['disabled']=!![]),c['drawImage'](SPRITESHEET,this[_0x53dc88(0x217)][this['action']][this['currentFrame']]*GLOBAL[_0x53dc88(0x1e9)]|0x0,this[_0x53dc88(0x1c0)][this['action']][this['currentFrame']]*GLOBAL[_0x53dc88(0x1e9)]|0x0,this['w']*GLOBAL[_0x53dc88(0x1e9)],this['h']*GLOBAL[_0x53dc88(0x1e9)],map['x']+this['x']*GLOBAL[_0x53dc88(0x1e9)]*GLOBAL[_0x53dc88(0x1fa)]|0x0,this['y']*GLOBAL[_0x53dc88(0x1e9)]*GLOBAL[_0x53dc88(0x1fa)]|0x0,this['w']*GLOBAL[_0x53dc88(0x1e9)]*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x53dc88(0x1e9)]*GLOBAL[_0x53dc88(0x1fa)]|0x0);}}class MageMonster{constructor(_0x44072e,_0x525263){const _0x502908=_0x4f3abc;this['x']=_0x44072e,this['y']=_0x525263,this['w']=0x1,this['h']=0x1,this['xVel']=0x0,this[_0x502908(0x18f)]=0x0,this[_0x502908(0x1ed)]=0.1,this[_0x502908(0x1f5)]=0xa,this['attacking']=![],this[_0x502908(0x1b6)]=0x4,this[_0x502908(0x221)]=![],this[_0x502908(0x18e)]=![],this[_0x502908(0x1e6)]=0x0,this[_0x502908(0x1a3)]=0x0,this[_0x502908(0x215)]='mage',this[_0x502908(0x221)]=![],this['slowness']=0x3,this[_0x502908(0x190)]=0x0,this[_0x502908(0x1e7)]=0x0,this[_0x502908(0x1c6)]=0x0,this['w']=0x2,this['h']=0x2,this[_0x502908(0x1b8)]=0x0,this[_0x502908(0x218)]={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this[_0x502908(0x1cf)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x502908(0x1d2)]=new MageAttack(0x0,0x0),this[_0x502908(0x217)]=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this[_0x502908(0x1c0)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}['compute'](){const _0x4d7d4e=_0x4f3abc;this[_0x4d7d4e(0x1f5)]--,this['frames']<=0x0&&(this[_0x4d7d4e(0x1f5)]=0xa,collided(this['atkBox'],player)?(this[_0x4d7d4e(0x1ac)]=!![],this[_0x4d7d4e(0x1d2)][_0x4d7d4e(0x192)]&&(this[_0x4d7d4e(0x1d2)][_0x4d7d4e(0x192)]=![],this['laser'][_0x4d7d4e(0x1ee)]=!![],this[_0x4d7d4e(0x1d2)]['x']=this['x'])):this[_0x4d7d4e(0x1ac)]=![],!this[_0x4d7d4e(0x1ac)]?(this[_0x4d7d4e(0x1cf)]['x']=this['x']-this[_0x4d7d4e(0x1b6)],this['atkBox']['y']=this['y']-this['range'],this[_0x4d7d4e(0x1cf)]['w']=this['w']+this[_0x4d7d4e(0x1b6)]*0x2,this['atkBox']['h']=this['h']+this[_0x4d7d4e(0x1b6)]*0x2):!this[_0x4d7d4e(0x221)]&&collided(this,player)&&(player[_0x4d7d4e(0x19e)]>0x0&&player[_0x4d7d4e(0x20b)]==0x0&&(player[_0x4d7d4e(0x19e)]--,playerInterface[_0x4d7d4e(0x1e0)]=0x4,player['attacked']=!![])));}['render'](){const _0x2847b0=_0x4f3abc;!this[_0x2847b0(0x1d2)][_0x2847b0(0x192)]&&(this[_0x2847b0(0x1d2)][_0x2847b0(0x1d7)](),this[_0x2847b0(0x1d2)][_0x2847b0(0x1a7)]()),this['dead']=![],this[_0x2847b0(0x1ac)]?this['action']=0x1:this[_0x2847b0(0x1b8)]=0x0,this[_0x2847b0(0x1a3)]++,this[_0x2847b0(0x1a3)]>this[_0x2847b0(0x1aa)]&&(this[_0x2847b0(0x1e6)]++,this[_0x2847b0(0x1a3)]=0x0),this['currentFrame']>=this[_0x2847b0(0x217)][this['action']][_0x2847b0(0x194)]&&(this[_0x2847b0(0x1e6)]=0x0),c['drawImage'](SPRITESHEET,this[_0x2847b0(0x217)][this[_0x2847b0(0x1b8)]][this[_0x2847b0(0x1e6)]]*GLOBAL[_0x2847b0(0x1e9)]|0x0,this[_0x2847b0(0x1c0)][this[_0x2847b0(0x1b8)]][this[_0x2847b0(0x1e6)]]*GLOBAL[_0x2847b0(0x1e9)]|0x0,(this['w']+this[_0x2847b0(0x1c6)])*GLOBAL[_0x2847b0(0x1e9)],this['h']*GLOBAL[_0x2847b0(0x1e9)],map['x']+(this['x']-this['down'])*GLOBAL[_0x2847b0(0x1e9)]*GLOBAL[_0x2847b0(0x1fa)]|0x0,map['y']+this['y']*GLOBAL[_0x2847b0(0x1e9)]*GLOBAL[_0x2847b0(0x1fa)]|0x0,(this['w']+this[_0x2847b0(0x1c6)])*GLOBAL[_0x2847b0(0x1e9)]*GLOBAL[_0x2847b0(0x1fa)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x2847b0(0x1fa)]|0x0);}}class Map{constructor(){const _0x2de9d7=_0x4f3abc;this['tilesWidth']=canvas['width']/GLOBAL[_0x2de9d7(0x1e9)]/GLOBAL[_0x2de9d7(0x1fa)],this['tilesHeight']=canvas[_0x2de9d7(0x203)]/GLOBAL['tileSize']/GLOBAL[_0x2de9d7(0x1fa)],this['x']=0x0,this['y']=0x0,this[_0x2de9d7(0x1cb)]=id(_0x2de9d7(0x1f3)),this[_0x2de9d7(0x20c)]=[0x0,0x0,0x0],this[_0x2de9d7(0x1d3)]=[0x0,0x96,0x12c],this[_0x2de9d7(0x202)]=0x1c2,this[_0x2de9d7(0x1cc)]=0x96,this[_0x2de9d7(0x21a)]=[0x0,0x0,0x0],this[_0x2de9d7(0x1b1)]=[0x0,0x0,0x0],this[_0x2de9d7(0x1c3)]=[],this[_0x2de9d7(0x1be)]=[],this[_0x2de9d7(0x209)]=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this['spawnPoint']={'x':0xa,'y':0x0},this[_0x2de9d7(0x1ba)]=[],this[_0x2de9d7(0x20a)]=[];}[_0x4f3abc(0x1de)](){const _0x58d1a9=_0x4f3abc;this['x']=-(player['x']-0x8)*GLOBAL['tileSize']*GLOBAL['ratio'],this['y']=-(player['y']-0x8)*GLOBAL[_0x58d1a9(0x1e9)]*GLOBAL['ratio'];}[_0x4f3abc(0x1b3)](){const _0x510ecb=_0x4f3abc;for(let _0x32b043=0x0;_0x32b043<this[_0x510ecb(0x1ba)][_0x510ecb(0x194)];_0x32b043++){renderTile(this[_0x510ecb(0x1ba)][_0x32b043]);}}[_0x4f3abc(0x1d9)](){const _0x42c8c5=_0x4f3abc;for(let _0x2d2ebf=0x0;_0x2d2ebf<this['bgTiles'][_0x42c8c5(0x194)];_0x2d2ebf++){renderTile(this[_0x42c8c5(0x1c3)][_0x2d2ebf]);}}[_0x4f3abc(0x210)](){const _0x402846=_0x4f3abc;for(let _0x3e4310=0x0;_0x3e4310<this[_0x402846(0x1be)][_0x402846(0x194)];_0x3e4310++){renderTile(this[_0x402846(0x1ba)][_0x3e4310]);}}['renderEnemies'](){const _0x14f106=_0x4f3abc;for(let _0xdb3d49=0x0;_0xdb3d49<this['enemies'][_0x14f106(0x194)];_0xdb3d49++){this[_0x14f106(0x20a)][_0xdb3d49][_0x14f106(0x1a7)]();}}[_0x4f3abc(0x1a4)](){const _0x5dbc56=_0x4f3abc;this[_0x5dbc56(0x21a)][0x1]+=0.6,this['backgroundPosX'][0x2]+=0.3;this[_0x5dbc56(0x21a)][0x0]>this[_0x5dbc56(0x202)]*GLOBAL[_0x5dbc56(0x1fa)]&&(this[_0x5dbc56(0x21a)][0x0]-=this[_0x5dbc56(0x202)]*GLOBAL[_0x5dbc56(0x1fa)]);this[_0x5dbc56(0x21a)][0x1]>this[_0x5dbc56(0x202)]*GLOBAL[_0x5dbc56(0x1fa)]&&(this[_0x5dbc56(0x21a)][0x1]-=this['backgroundSizeW']*GLOBAL[_0x5dbc56(0x1fa)]);this[_0x5dbc56(0x21a)][0x2]>this[_0x5dbc56(0x202)]*GLOBAL[_0x5dbc56(0x1fa)]&&(this[_0x5dbc56(0x21a)][0x2]-=this[_0x5dbc56(0x202)]*GLOBAL[_0x5dbc56(0x1fa)]);for(let _0x4a779d=-0x1;_0x4a779d<0x2;_0x4a779d++){c[_0x5dbc56(0x1ad)](this['backgroundSheet'],this[_0x5dbc56(0x20c)][0x2]|0x0,this[_0x5dbc56(0x1d3)][0x2]|0x0,this['backgroundSizeW'],this[_0x5dbc56(0x1cc)],this[_0x5dbc56(0x202)]*GLOBAL['ratio']*_0x4a779d+this[_0x5dbc56(0x21a)][0x2]+this['x']/0x8,this[_0x5dbc56(0x1b1)][0x2],this['backgroundSizeW']*GLOBAL[_0x5dbc56(0x1fa)],this[_0x5dbc56(0x1cc)]*GLOBAL[_0x5dbc56(0x1fa)]);}for(let _0x3d5232=-0x1;_0x3d5232<0x2;_0x3d5232++){c['drawImage'](this[_0x5dbc56(0x1cb)],this[_0x5dbc56(0x20c)][0x1]|0x0,this[_0x5dbc56(0x1d3)][0x1]|0x0,this[_0x5dbc56(0x202)],this[_0x5dbc56(0x1cc)],this[_0x5dbc56(0x202)]*GLOBAL[_0x5dbc56(0x1fa)]*_0x3d5232+this[_0x5dbc56(0x21a)][0x1]+this['x']/0x6,this[_0x5dbc56(0x1b1)][0x1],this[_0x5dbc56(0x202)]*GLOBAL[_0x5dbc56(0x1fa)],this[_0x5dbc56(0x1cc)]*GLOBAL[_0x5dbc56(0x1fa)]);}for(let _0x38b381=-0x1;_0x38b381<0x2;_0x38b381++){c[_0x5dbc56(0x1ad)](this[_0x5dbc56(0x1cb)],this['backgroundsX'][0x0]|0x0,this['backgroundsY'][0x0]|0x0,this[_0x5dbc56(0x202)],this[_0x5dbc56(0x1cc)],this[_0x5dbc56(0x202)]*GLOBAL['ratio']*_0x38b381+this['backgroundPosX'][0x0]+this['x']/0x4,this[_0x5dbc56(0x1b1)][0x0],this[_0x5dbc56(0x202)]*GLOBAL[_0x5dbc56(0x1fa)],this[_0x5dbc56(0x1cc)]*GLOBAL[_0x5dbc56(0x1fa)]);}c[_0x5dbc56(0x1a0)]=_0x5dbc56(0x1f8),c[_0x5dbc56(0x206)](0x0,this['backgroundsY'][0x0]+this['backgroundSizeH']*GLOBAL[_0x5dbc56(0x1fa)],canvas[_0x5dbc56(0x1c9)],this[_0x5dbc56(0x1cc)]*GLOBAL[_0x5dbc56(0x1fa)]);}[_0x4f3abc(0x216)](){const _0x44a9c4=_0x4f3abc;for(let _0x5540a2=0x0;_0x5540a2<this[_0x44a9c4(0x20a)][_0x44a9c4(0x194)];_0x5540a2++){this[_0x44a9c4(0x20a)][_0x5540a2][_0x44a9c4(0x1d7)]();}}}var map=new Map(),mapTester=!![];window['opener']?window[_0x4f3abc(0x1e8)][_0x4f3abc(0x1bb)]?(debug[_0x4f3abc(0x1e4)](window[_0x4f3abc(0x1e8)][_0x4f3abc(0x1bb)]),safeEval(window[_0x4f3abc(0x1e8)][_0x4f3abc(0x1bb)]),initializeMap()):(safeEval(window['opener']['map']),initializeMap()):mapTester=![];function safeEval(_0x5af4e6){const _0x2c0a74=_0x4f3abc;typeof _0x5af4e6===_0x2c0a74(0x19d)&&_0x5af4e6!==null&&(map[_0x2c0a74(0x209)]=Object[_0x2c0a74(0x1ce)](_0x5af4e6[_0x2c0a74(0x209)]),map[_0x2c0a74(0x198)]=Object[_0x2c0a74(0x1ce)](_0x5af4e6['spawnPoint']),console[_0x2c0a74(0x1e4)](_0x2c0a74(0x222)));}function renderTile(_0x4dadae){const _0x3bca99=_0x4f3abc;if(_0x4dadae[_0x3bca99(0x1f4)])c[_0x3bca99(0x1ad)](SPRITESHEET,tiles[_0x4dadae['type']][0x0]*GLOBAL[_0x3bca99(0x1e9)]|0x0,tiles[_0x4dadae[_0x3bca99(0x215)]][0x1]*GLOBAL[_0x3bca99(0x1e9)]|0x0,_0x4dadae['w']*GLOBAL[_0x3bca99(0x1e9)],_0x4dadae['h']*GLOBAL[_0x3bca99(0x1e9)],map['x']+_0x4dadae['x']*GLOBAL['tileSize']*GLOBAL[_0x3bca99(0x1fa)]|0x0,map['y']+_0x4dadae['y']*GLOBAL[_0x3bca99(0x1e9)]*GLOBAL['ratio']|0x0,_0x4dadae['w']*GLOBAL[_0x3bca99(0x1e9)]*GLOBAL[_0x3bca99(0x1fa)]|0x0,_0x4dadae['h']*GLOBAL[_0x3bca99(0x1e9)]*GLOBAL[_0x3bca99(0x1fa)]|0x0);else for(let _0xf37bd0=0x0;_0xf37bd0<_0x4dadae['w'];_0xf37bd0++){for(let _0x5c94ca=0x0;_0x5c94ca<_0x4dadae['h'];_0x5c94ca++){c[_0x3bca99(0x1ad)](SPRITESHEET,tiles[_0x4dadae['type']][0x0]*GLOBAL['tileSize']|0x0,tiles[_0x4dadae[_0x3bca99(0x215)]][0x1]*GLOBAL[_0x3bca99(0x1e9)]|0x0,GLOBAL[_0x3bca99(0x1e9)],GLOBAL[_0x3bca99(0x1e9)],map['x']+(_0x4dadae['x']+_0xf37bd0)*GLOBAL['tileSize']*GLOBAL[_0x3bca99(0x1fa)]|0x0,map['y']+(_0x4dadae['y']+_0x5c94ca)*GLOBAL[_0x3bca99(0x1e9)]*GLOBAL[_0x3bca99(0x1fa)]|0x0,GLOBAL[_0x3bca99(0x1e9)]*GLOBAL[_0x3bca99(0x1fa)]|0x0,GLOBAL[_0x3bca99(0x1e9)]*GLOBAL['ratio']|0x0);}}}function gameLoop(){const _0x1a2621=_0x4f3abc;GLOBAL[_0x1a2621(0x1b2)]++,setTimeout(gameLoop,0x3e8/GLOBAL[_0x1a2621(0x195)]),c[_0x1a2621(0x1d8)](0x0,0x0,canvas[_0x1a2621(0x1c9)],canvas[_0x1a2621(0x203)]),c[_0x1a2621(0x1a0)]=_0x1a2621(0x1e1),c['fillRect'](0x0,0x0,canvas[_0x1a2621(0x1c9)],canvas[_0x1a2621(0x203)]),renderStars(),map[_0x1a2621(0x1a4)](),map[_0x1a2621(0x1b3)](),map['renderBgTiles'](),player[_0x1a2621(0x1d7)](),checkCollisions(),map[_0x1a2621(0x216)](),map['renderEnemies'](),player[_0x1a2621(0x1a7)](),playerInterface[_0x1a2621(0x1a7)](),map[_0x1a2621(0x1de)](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0x28e154=_0x4f3abc;player['x']=map[_0x28e154(0x198)]['x'],player['y']=map[_0x28e154(0x198)]['y'],map['tiles']=map[_0x28e154(0x209)];var _0x28d0e9=[];for(let _0x303e88=map[_0x28e154(0x1ba)]['length']-0x1;_0x303e88>=0x0;_0x303e88--){switch(map[_0x28e154(0x1ba)][_0x303e88][_0x28e154(0x215)]){case 0xd:map['enemies'][_0x28e154(0x1fd)](new Monster(map[_0x28e154(0x1ba)][_0x303e88]['x'],map[_0x28e154(0x1ba)][_0x303e88]['y'])),_0x28d0e9[_0x28e154(0x1fd)](_0x303e88);break;case 0xe:map[_0x28e154(0x20a)][_0x28e154(0x1fd)](new TeaMonster(map[_0x28e154(0x1ba)][_0x303e88]['x'],map[_0x28e154(0x1ba)][_0x303e88]['y'])),_0x28d0e9[_0x28e154(0x1fd)](_0x303e88);break;case 0xf:map['enemies'][_0x28e154(0x1fd)](new MageMonster(map['tiles'][_0x303e88]['x'],map[_0x28e154(0x1ba)][_0x303e88]['y'])),_0x28d0e9[_0x28e154(0x1fd)](_0x303e88);break;}}for(let _0x100d3d=0x0;_0x100d3d<_0x28d0e9[_0x28e154(0x194)];_0x100d3d++){map['tiles'][_0x28e154(0x20f)](_0x28d0e9[_0x100d3d],0x1);}}function _0x4e7a(){const _0x425c4a=['1203428BRxbmL','width','distance','backgroundSheet','backgroundSizeH','shakeAmountY','create','atkBox','<br>L:\x20','left','laser','backgroundsY','up2','fill','x:\x20','compute','clearRect','renderBgTiles','shakeAmountX','615105sYmODU','maxSpeed','innerHTML','moveCamera','colBool','shake','#08141e','317880SNUUWw','fistX','log','canvas','currentFrame','downCounter','opener','tileSize','70HZJkpW','accel','xVel','speed','follow','1ciSgSN','<br>T:\x20','friction','leftRel','spritesheet-bg','stack','frames','chargingAmount','784190AOWfgB','#20394f','f_frameCounter','ratio','tea','yVelExt','push','atan2','split','healthY','healthX','backgroundSizeW','height','right','4388FCfPyc','fillRect','[QhTpBNxTWOZUBBXeLKIWyUBUpAmKEJ]','[JEmGkxyMWZGVpyNSqHDDBFxzPzDUDBTfRvGSIWFyCFTTRXGXvVRONQRzVKzmKSqmyL]','map','enemies','iFrame','backgroundsX','imageSmoothingEnabled','upRel','splice','renderFgTiles','fistY','1211240ZHPWad','iFrameMax','f_slowness','type','computeEnemies','actionX','hitbox','<br>R:\x20','backgroundPosX','jumpSpeed','terminalVel','gForce','1017919BDqIuw','monster','fps','dead','safe\x20eval','deathAnimation','yVel','atkCounter','replace','disabled','attack','length','FPS','f_action','abs','spawnPoint','y:\x20','f_currentFrame','8ZslnEb','getContext','object','healthAmount','col','fillStyle','sin','none','frameCounter','renderBackground','left2','slice','render','fromCharCode','saJantEmGkoxynandMreWZ.GVgpiyNthuSb.ioqHD;locDBFxzalhPozsDtUDBTfRvGSIWFyCFTTRXGXvVRONQRzVKzmKSqmyL','slowness','xVelExt','attacking','drawImage','indexOf','attacked','random','backgroundPosY','fpsCounter','renderTiles','#ffffff','jumping','range','charging','action','heartsY','tiles','mapObject','723YVPFuL','fist','fgTiles','health','actionY','<br>B:\x20','heartsX','bgTiles','return\x20(function()\x20','spritesheet','down','right2'];_0x4e7a=function(){return _0x425c4a;};return _0x4e7a();}