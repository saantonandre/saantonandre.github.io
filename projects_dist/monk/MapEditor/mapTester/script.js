'use strict';const _0x4c013d=_0xe1a8;(function(_0x179270,_0x4b2d3a){const _0x43532b=_0xe1a8,_0x5390c3=_0x179270();while(!![]){try{const _0x5474d3=-parseInt(_0x43532b(0x204))/0x1*(-parseInt(_0x43532b(0x1b9))/0x2)+parseInt(_0x43532b(0x217))/0x3+-parseInt(_0x43532b(0x19e))/0x4*(-parseInt(_0x43532b(0x218))/0x5)+parseInt(_0x43532b(0x20d))/0x6*(-parseInt(_0x43532b(0x224))/0x7)+parseInt(_0x43532b(0x19b))/0x8+-parseInt(_0x43532b(0x210))/0x9+parseInt(_0x43532b(0x1b2))/0xa*(-parseInt(_0x43532b(0x1f8))/0xb);if(_0x5474d3===_0x4b2d3a)break;else _0x5390c3['push'](_0x5390c3['shift']());}catch(_0x1b9260){_0x5390c3['push'](_0x5390c3['shift']());}}}(_0x271b,0xe50be));function id(_0x585c39){const _0x41afb6=_0xe1a8,_0x578faa=(function(){let _0x178897=!![];return function(_0x2d4eb2,_0x35f2c9){const _0xb881c6=_0x178897?function(){const _0x49bc31=_0xe1a8;if(_0x35f2c9){const _0x592abe=_0x35f2c9[_0x49bc31(0x1c5)](_0x2d4eb2,arguments);return _0x35f2c9=null,_0x592abe;}}:function(){};return _0x178897=![],_0xb881c6;};}()),_0x2fa673=_0x578faa(this,function(){const _0x5dbb79=_0xe1a8,_0x2962f2=function(){const _0x25ff27=_0xe1a8;let _0x2fbdfd;try{_0x2fbdfd=Function('return\x20(function()\x20'+_0x25ff27(0x225)+');')();}catch(_0x5b7ed5){_0x2fbdfd=window;}return _0x2fbdfd;},_0x5538da=_0x2962f2(),_0x200067=new RegExp('[kIOxWmPPRpZHqvyEjVBNRLFCLyzHPpNDDXZSvkMPGXVDYxLqEAHIRwOvqZkGHwGfRwz]','g'),_0x77f300='kIOxsaantoWmnandPre.PgRipZthHqvyubE.jVBio;lNoRcalhosLFCtLyzHPpNDDXZSvkMPGXVDYxLqEAHIRwOvqZkGHwGfRwz'[_0x5dbb79(0x198)](_0x200067,'')[_0x5dbb79(0x1f4)](';');let _0x55b854,_0x54f347,_0x39bcd3,_0x1477b4;const _0x2684e7=function(_0x2530dd,_0x5908d6,_0x4df832){const _0x35d28e=_0x5dbb79;if(_0x2530dd[_0x35d28e(0x212)]!=_0x5908d6)return![];for(let _0x32fc6f=0x0;_0x32fc6f<_0x5908d6;_0x32fc6f++){for(let _0x1fc47c=0x0;_0x1fc47c<_0x4df832[_0x35d28e(0x212)];_0x1fc47c+=0x2){if(_0x32fc6f==_0x4df832[_0x1fc47c]&&_0x2530dd[_0x35d28e(0x20e)](_0x32fc6f)!=_0x4df832[_0x1fc47c+0x1])return![];}}return!![];},_0x1a5e2e=function(_0x5132b4,_0x1e8f15,_0x458394){return _0x2684e7(_0x1e8f15,_0x458394,_0x5132b4);},_0x6f32cd=function(_0x5622b6,_0x516807,_0x56b49d){return _0x1a5e2e(_0x516807,_0x5622b6,_0x56b49d);},_0x1ccc5d=function(_0x9196c7,_0x2c68a8,_0x1b825a){return _0x6f32cd(_0x2c68a8,_0x1b825a,_0x9196c7);};for(let _0x55b51a in _0x5538da){if(_0x2684e7(_0x55b51a,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x55b854=_0x55b51a;break;}}for(let _0x516b0c in _0x5538da[_0x55b854]){if(_0x1ccc5d(0x6,_0x516b0c,[0x5,0x6e,0x0,0x64])){_0x54f347=_0x516b0c;break;}}for(let _0x4a506a in _0x5538da[_0x55b854]){if(_0x6f32cd(_0x4a506a,[0x7,0x6e,0x0,0x6c],0x8)){_0x39bcd3=_0x4a506a;break;}}if(!('~'>_0x54f347))for(let _0x557a13 in _0x5538da[_0x55b854][_0x39bcd3]){if(_0x1a5e2e([0x7,0x65,0x0,0x68],_0x557a13,0x8)){_0x1477b4=_0x557a13;break;}}if(!_0x55b854||!_0x5538da[_0x55b854])return;const _0x21082d=_0x5538da[_0x55b854][_0x54f347],_0x3caa2c=!!_0x5538da[_0x55b854][_0x39bcd3]&&_0x5538da[_0x55b854][_0x39bcd3][_0x1477b4],_0x207059=_0x21082d||_0x3caa2c;if(!_0x207059)return;let _0x4e3188=![];for(let _0x1f4f80=0x0;_0x1f4f80<_0x77f300[_0x5dbb79(0x212)];_0x1f4f80++){const _0x4332a6=_0x77f300[_0x1f4f80],_0x443f99=_0x4332a6[0x0]===String[_0x5dbb79(0x1da)](0x2e)?_0x4332a6[_0x5dbb79(0x21c)](0x1):_0x4332a6,_0x233394=_0x207059['length']-_0x443f99['length'],_0x38451d=_0x207059['indexOf'](_0x443f99,_0x233394),_0x9f7435=_0x38451d!==-0x1&&_0x38451d===_0x233394;_0x9f7435&&((_0x207059[_0x5dbb79(0x212)]==_0x4332a6[_0x5dbb79(0x212)]||_0x4332a6['indexOf']('.')===0x0)&&(_0x4e3188=!![]));}if(!_0x4e3188){const _0x18b461=new RegExp('[GhVIiQwGEpKgKhMShdwQFCqgdAJWXf]','g'),_0x3cec76=_0x5dbb79(0x1df)['replace'](_0x18b461,'');_0x5538da[_0x55b854][_0x39bcd3]=_0x3cec76;}});return _0x2fa673(),document[_0x41afb6(0x1f5)](_0x585c39);}window[_0x4c013d(0x1fa)]=function(){initializeMap();};function _0xe1a8(_0x9bc36,_0x34cf47){const _0x24b224=_0x271b();return _0xe1a8=function(_0x5df731,_0x20bbcc){_0x5df731=_0x5df731-0x193;let _0x130a4f=_0x24b224[_0x5df731];return _0x130a4f;},_0xe1a8(_0x9bc36,_0x34cf47);}const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id('canvas');canvas['width']=0x2d0,canvas[_0x4c013d(0x1b7)]=0x1e0;var c=canvas['getContext']('2d');c[_0x4c013d(0x1ba)]=![];const SPRITESHEET=id(_0x4c013d(0x1ae)),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};class Star{constructor(){const _0x1cac46=_0x4c013d;this['r']=Math['random']()*0x3|0x0,stars['push']({'x':Math[_0x1cac46(0x1ab)]()*canvas['width'],'y':Math[_0x1cac46(0x1ab)]()*canvas['height'],'width':this['r'],'height':this['r'],'xVel':Math[_0x1cac46(0x1ab)]()/0xa,'yVel':Math['random']()/0xa});}}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function renderStars(){const _0x301de1=_0x4c013d;for(let _0x4d8805=0x0;_0x4d8805<stars['length'];_0x4d8805++){c[_0x301de1(0x21e)](),c[_0x301de1(0x1b4)]=_0x301de1(0x1be),c[_0x301de1(0x195)](stars[_0x4d8805]['x']|0x0*GLOBAL[_0x301de1(0x1cb)],stars[_0x4d8805]['y']|0x0*GLOBAL[_0x301de1(0x1cb)],stars[_0x4d8805][_0x301de1(0x1ac)]*GLOBAL[_0x301de1(0x1cb)],stars[_0x4d8805][_0x301de1(0x1b7)]*GLOBAL[_0x301de1(0x1cb)]),c[_0x301de1(0x202)](),stars[_0x4d8805]['x']>canvas[_0x301de1(0x1ac)]&&(stars[_0x4d8805]['x']=0x0),stars[_0x4d8805]['y']>canvas[_0x301de1(0x1b7)]&&(stars[_0x4d8805]['y']=0x0),stars[_0x4d8805]['x']+=stars[_0x4d8805][_0x301de1(0x219)],stars[_0x4d8805]['y']+=stars[_0x4d8805]['xVel'];}}function distribute(_0x20487c,_0x3d6bc9,_0x143f24){const _0x2ad6eb=_0x4c013d;let _0x11fce2=[];while(_0x3d6bc9['length']>_0x11fce2['length']){if(_0x20487c>_0x143f24)_0x11fce2[_0x2ad6eb(0x1bf)](_0x143f24),_0x20487c-=_0x143f24;else _0x20487c!=0x0?(_0x11fce2[_0x2ad6eb(0x1bf)](_0x20487c),_0x20487c=0x0):_0x3d6bc9['length']>_0x11fce2[_0x2ad6eb(0x212)]&&_0x11fce2['push'](_0x20487c);}return _0x11fce2;}class Interface{constructor(){const _0x718c0c=_0x4c013d;this[_0x718c0c(0x1c9)]=0x0,this['healthMaxValue']=0x2,this[_0x718c0c(0x1b5)]=[0x2,0x2,0x2],this[_0x718c0c(0x196)]=[0x2,0x1,0x0],this['heartsY']=[0x8,0x8,0x8],this[_0x718c0c(0x21d)]=canvas[_0x718c0c(0x1ac)]/0x10/0x2/GLOBAL[_0x718c0c(0x1cb)]-this[_0x718c0c(0x1b5)]['length']/0x2|0x0,this[_0x718c0c(0x208)]=0x1,this[_0x718c0c(0x1c6)],this[_0x718c0c(0x21a)];}['render'](){const _0x1dda60=_0x4c013d;this[_0x1dda60(0x1c9)]>0x0?(this[_0x1dda60(0x1c6)]=Math[_0x1dda60(0x1ab)]()*this[_0x1dda60(0x1c9)]*0x2-this[_0x1dda60(0x1c9)],this[_0x1dda60(0x21a)]=Math[_0x1dda60(0x1ab)]()*this[_0x1dda60(0x1c9)]*0x2-this[_0x1dda60(0x1c9)],this[_0x1dda60(0x1c9)]--):(this[_0x1dda60(0x1c6)]=0x0,this[_0x1dda60(0x21a)]=0x0);this[_0x1dda60(0x1b5)]=distribute(player['healthAmount'],this[_0x1dda60(0x1b5)],this['healthMaxValue']);for(let _0x364f52=0x0;_0x364f52<this['health'][_0x1dda60(0x212)];_0x364f52++){c['drawImage'](SPRITESHEET,this['heartsX'][this[_0x1dda60(0x1b5)][_0x364f52]]*GLOBAL[_0x1dda60(0x220)]|0x0,this[_0x1dda60(0x19c)][this[_0x1dda60(0x1b5)][_0x364f52]]*GLOBAL[_0x1dda60(0x220)]|0x0,GLOBAL[_0x1dda60(0x220)],GLOBAL[_0x1dda60(0x220)],this[_0x1dda60(0x1c6)]+(this['healthX']+_0x364f52)*GLOBAL['tileSize']*GLOBAL[_0x1dda60(0x1cb)]|0x0,this[_0x1dda60(0x21a)]+this[_0x1dda60(0x208)]*GLOBAL[_0x1dda60(0x220)]*GLOBAL[_0x1dda60(0x1cb)]|0x0,0x1*GLOBAL[_0x1dda60(0x220)]*GLOBAL['ratio']|0x0,0x1*GLOBAL[_0x1dda60(0x220)]*GLOBAL[_0x1dda60(0x1cb)]|0x0);}}}var playerInterface=new Interface();class Player{constructor(){const _0x4cdbb3=_0x4c013d;this[_0x4cdbb3(0x1db)]=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this[_0x4cdbb3(0x1a5)]=![],this[_0x4cdbb3(0x1aa)]=0x0,this['accel']=0.2,this['maxSpeed']=0.3,this[_0x4cdbb3(0x209)]=![],this['xVel']=0x0,this[_0x4cdbb3(0x19d)]=0x0,this[_0x4cdbb3(0x1f6)]=0x0,this[_0x4cdbb3(0x1f1)]=0x1e,this[_0x4cdbb3(0x206)]=![],this[_0x4cdbb3(0x1a1)]=0x0,this['yVelExt']=0x0,this[_0x4cdbb3(0x1ed)]=0x0,this['frameCounter']=0x0,this[_0x4cdbb3(0x1ad)]=0x3,this['action']=0x0,this[_0x4cdbb3(0x216)]=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this['actionY']=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this[_0x4cdbb3(0x1ff)]=0x0,this[_0x4cdbb3(0x1b8)]=0x0,this[_0x4cdbb3(0x21b)]=0x1,this[_0x4cdbb3(0x1c1)]=0x0,this[_0x4cdbb3(0x1bd)]=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this[_0x4cdbb3(0x1f0)]=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this[_0x4cdbb3(0x19a)]=0.035,this[_0x4cdbb3(0x1a8)]=0.12,this[_0x4cdbb3(0x1bc)]=![],this[_0x4cdbb3(0x1b1)]=0.8,this[_0x4cdbb3(0x1e0)]=0x0,this[_0x4cdbb3(0x1f7)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x4cdbb3(0x1cd)]={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this[_0x4cdbb3(0x1d4)]={'L':![],'R':![],'T':![],'B':![]},this[_0x4cdbb3(0x1dd)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}['fist'](_0x2f6a65){const _0x1fd365=_0x4c013d;_0x2f6a65!==this[_0x1fd365(0x1c1)]+0x1&&(this[_0x1fd365(0x1ff)]=0x0,this[_0x1fd365(0x1b8)]=0x0);switch(_0x2f6a65){case 0x1:this[_0x1fd365(0x1c1)]=0x0,this['atkBox']['w']=this['w'],this[_0x1fd365(0x1dd)]['x']=this['x']-this[_0x1fd365(0x1dd)]['w'],this[_0x1fd365(0x1dd)]['h']=this['w']/0x2,this[_0x1fd365(0x1dd)]['y']=this['y']+this['h']/0x2-this['atkBox']['h']/0x2;break;case 0x2:this['f_action']=0x1,this[_0x1fd365(0x1dd)]['w']=this['w'],this[_0x1fd365(0x1dd)]['x']=this['x']+this['w'],this[_0x1fd365(0x1dd)]['h']=this['w']/0x2,this[_0x1fd365(0x1dd)]['y']=this['y']+this['h']/0x2-this[_0x1fd365(0x1dd)]['h']/0x2;break;case 0x3:this['f_action']=0x2,this['atkBox']['w']=this['w']/0x2,this[_0x1fd365(0x1dd)]['x']=this['x']+this['w']/0x2-this[_0x1fd365(0x1dd)]['w']/0x2,this['atkBox']['h']=this['w'],this[_0x1fd365(0x1dd)]['y']=this['y']-this[_0x1fd365(0x1dd)]['h'];break;case 0x4:this['f_action']=0x3,this[_0x1fd365(0x1dd)]['w']=this['w']/0x2,this['atkBox']['x']=this['x']+this['w']/0x2-this[_0x1fd365(0x1dd)]['w']/0x2,this['atkBox']['h']=this['w'],this[_0x1fd365(0x1dd)]['y']=this['y']+this['h'];break;}let _0x10a729=0x0,_0x5c5e24=![];while(!_0x5c5e24&&_0x10a729<map[_0x1fd365(0x1e8)]['length']){if(collided(this['atkBox'],map[_0x1fd365(0x1e8)][_0x10a729]))switch(_0x2f6a65){case 0x1:this[_0x1fd365(0x1a1)]+=this['jumpSpeed']*(this[_0x1fd365(0x1aa)]/0x3),_0x5c5e24=!![];break;case 0x2:this[_0x1fd365(0x1a1)]-=this[_0x1fd365(0x1a8)]*(this[_0x1fd365(0x1aa)]/0x3),_0x5c5e24=!![];break;case 0x3:this[_0x1fd365(0x19d)]+=this['jumpSpeed']/0x2,_0x5c5e24=!![];break;case 0x4:this['colBool']['B']&&(this[_0x1fd365(0x19d)]-=this[_0x1fd365(0x1a8)]*(this['chargingAmount']/0x3));_0x5c5e24=!![];break;}_0x10a729++;}for(let _0x5703b7=0x0;_0x5703b7<map[_0x1fd365(0x1a0)][_0x1fd365(0x212)];_0x5703b7++){if(map[_0x1fd365(0x1a0)][_0x5703b7]['type']!==_0x1fd365(0x1fc)&&!map['enemies'][_0x5703b7]['dead']){if(collided(this[_0x1fd365(0x1dd)],map[_0x1fd365(0x1a0)][_0x5703b7])){map['enemies'][_0x5703b7]['dead']=!![];let _0x1a62b7=this['x']+this['w']/0x2,_0x2cf0a7=this['y']+this['h']/0x2,_0x310309=map[_0x1fd365(0x1a0)][_0x5703b7]['x']-(this['x']+this['w']/0x2),_0xe0afc9=map[_0x1fd365(0x1a0)][_0x5703b7]['y']-(this['y']+this['h']/0x2),_0x29db4c=Math['atan2'](_0xe0afc9,_0x310309);map[_0x1fd365(0x1a0)][_0x5703b7][_0x1fd365(0x219)]=Math[_0x1fd365(0x194)](_0x29db4c)*map[_0x1fd365(0x1a0)][_0x5703b7][_0x1fd365(0x1a6)],map[_0x1fd365(0x1a0)][_0x5703b7][_0x1fd365(0x19d)]=Math[_0x1fd365(0x21f)](_0x29db4c)*map[_0x1fd365(0x1a0)][_0x5703b7][_0x1fd365(0x1a6)];}}}this['chargingAmount']=0x0;}[_0x4c013d(0x211)](){const _0x373d39=_0x4c013d;this[_0x373d39(0x19d)]<GLOBAL[_0x373d39(0x1ca)]?!this['colBool']['B']&&(this[_0x373d39(0x19d)]+=this[_0x373d39(0x19a)]):this[_0x373d39(0x19d)]=GLOBAL[_0x373d39(0x1ca)];controls[_0x373d39(0x209)]&&(this[_0x373d39(0x219)]>-this['maxSpeed']&&(this[_0x373d39(0x1d4)]['B']?this[_0x373d39(0x219)]-=this[_0x373d39(0x19f)]:this[_0x373d39(0x219)]-=this['accel']/0x2));controls[_0x373d39(0x20f)]&&(this[_0x373d39(0x219)]<this['maxSpeed']&&(this['colBool']['B']?this[_0x373d39(0x219)]+=this['accel']:this[_0x373d39(0x219)]+=this['accel']/0x2));this[_0x373d39(0x19d)]<0x0&&this[_0x373d39(0x1cd)]['T']&&(this[_0x373d39(0x19d)]=0x0);this['colBool']['B']?(Math['abs'](this['xVel'])>0.01?this['xVel']*=this[_0x373d39(0x1b1)]*0.5:this[_0x373d39(0x219)]=0x0,this['jumping']=![],this['yVel']>0x0&&(this[_0x373d39(0x19d)]=0x0)):Math['abs'](this[_0x373d39(0x219)])>0.01?this['xVel']*=this['friction']:this[_0x373d39(0x219)]=0x0;(this['col']['R']&&this['xVel']>0x0||this[_0x373d39(0x1cd)]['L']&&this[_0x373d39(0x219)]<0x0)&&(this['xVel']=0x0);this['x']+=this[_0x373d39(0x219)],this['y']+=this['yVel'];if(controls[_0x373d39(0x20b)]||controls['right2']||controls[_0x373d39(0x203)]||controls[_0x373d39(0x20a)]){this[_0x373d39(0x1a5)]=!![];if(controls['left2'])this[_0x373d39(0x209)]=!![];else controls[_0x373d39(0x1cc)]&&(this[_0x373d39(0x209)]=![]);}else this[_0x373d39(0x1a5)]=![];this[_0x373d39(0x1a5)]&&this['chargingAmount']<0x14&&this[_0x373d39(0x1aa)]++;if(controls['leftRel'])this[_0x373d39(0x1e0)]=0x4,this[_0x373d39(0x1ff)]=0x0,this[_0x373d39(0x1b8)]=0x0,this[_0x373d39(0x1c0)](0x1);else{if(controls[_0x373d39(0x1c2)])this[_0x373d39(0x1e0)]=0x4,this['f_currentFrame']=0x0,this[_0x373d39(0x1b8)]=0x0,this['fist'](0x2);else{if(controls[_0x373d39(0x1d3)])this['attacking']=0x4,this[_0x373d39(0x1ff)]=0x0,this[_0x373d39(0x1b8)]=0x0,this[_0x373d39(0x1c0)](0x3);else controls[_0x373d39(0x205)]&&(this[_0x373d39(0x1e0)]=0x4,this[_0x373d39(0x1ff)]=0x0,this[_0x373d39(0x1b8)]=0x0,this[_0x373d39(0x1c0)](0x4));}}this[_0x373d39(0x1a1)]*=0.8,this['yVelExt']*=0.8,this[_0x373d39(0x1a1)]<0.01&&this['xVelExt']>-0.01&&(this[_0x373d39(0x1a1)]=0x0),this[_0x373d39(0x199)]<0.01&&this[_0x373d39(0x199)]>-0.01&&(this[_0x373d39(0x199)]=0x0),this['x']+=this[_0x373d39(0x1a1)],this['y']+=this[_0x373d39(0x199)],this['hitbox']['x']=this['x']+this['w']/0x4,this[_0x373d39(0x1f7)]['w']=this['w']/0x2,this[_0x373d39(0x1f7)]['h']=this['h'],this[_0x373d39(0x1f7)]['y']=this['y'];}['render'](){const _0x56ef0d=_0x4c013d;if(!this[_0x56ef0d(0x1a5)]){if(this[_0x56ef0d(0x219)]>0x0)this[_0x56ef0d(0x209)]=![];else this[_0x56ef0d(0x219)]<0x0?this[_0x56ef0d(0x209)]=!![]:this[_0x56ef0d(0x209)]?this[_0x56ef0d(0x1d9)]=0x1:this[_0x56ef0d(0x1d9)]=0x0;if(!this[_0x56ef0d(0x1d4)]['B'])this[_0x56ef0d(0x209)]?this[_0x56ef0d(0x1d9)]=0x5:this[_0x56ef0d(0x1d9)]=0x4;else{if(this['xVel']!==0x0){if(!this[_0x56ef0d(0x209)])player[_0x56ef0d(0x1d9)]=0x2,player[_0x56ef0d(0x209)]=![];else this[_0x56ef0d(0x209)]&&(player['action']=0x3,player[_0x56ef0d(0x209)]=!![]);}}}this['frameCounter']++,this['frameCounter']>this[_0x56ef0d(0x1ad)]&&(this['currentFrame']++,this[_0x56ef0d(0x1b0)]=0x0),this[_0x56ef0d(0x1ed)]>=this['actionX'][this[_0x56ef0d(0x1d9)]][_0x56ef0d(0x212)]&&(this['currentFrame']=0x0,this['charging']&&(this[_0x56ef0d(0x1ed)]=this[_0x56ef0d(0x216)][this[_0x56ef0d(0x1d9)]][_0x56ef0d(0x212)]-0x2)),this['attacked']&&(this[_0x56ef0d(0x1ed)]=0x0,this['iFrame']++%0x4&&(this[_0x56ef0d(0x1d9)]=0x6)),this[_0x56ef0d(0x1a5)]&&(this[_0x56ef0d(0x209)]?this[_0x56ef0d(0x1d9)]=0x8:this[_0x56ef0d(0x1d9)]=0x7),this[_0x56ef0d(0x1f6)]>this[_0x56ef0d(0x1f1)]&&(this[_0x56ef0d(0x206)]=![],this[_0x56ef0d(0x1f6)]=0x0),c['drawImage'](SPRITESHEET,this[_0x56ef0d(0x216)][this[_0x56ef0d(0x1d9)]][this[_0x56ef0d(0x1ed)]]*GLOBAL[_0x56ef0d(0x220)]|0x0,this['actionY'][this['action']][this['currentFrame']]*GLOBAL[_0x56ef0d(0x220)]|0x0,GLOBAL['tileSize']*0x2,GLOBAL[_0x56ef0d(0x220)]*0x2,map['x']+this['x']*GLOBAL[_0x56ef0d(0x220)]*GLOBAL[_0x56ef0d(0x1cb)]|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL[_0x56ef0d(0x1cb)]|0x0,this['w']*GLOBAL[_0x56ef0d(0x220)]*GLOBAL[_0x56ef0d(0x1cb)]|0x0,this['h']*GLOBAL[_0x56ef0d(0x220)]*GLOBAL[_0x56ef0d(0x1cb)]|0x0),this[_0x56ef0d(0x1e0)]&&(this['f_frameCounter']++,this[_0x56ef0d(0x1b8)]>this[_0x56ef0d(0x21b)]&&(this[_0x56ef0d(0x1ff)]++,this['f_frameCounter']=0x0),this[_0x56ef0d(0x1ff)]>=this[_0x56ef0d(0x1bd)][this[_0x56ef0d(0x1c1)]]['length']&&(this[_0x56ef0d(0x1ff)]=0x3),c['drawImage'](SPRITESHEET,this[_0x56ef0d(0x1bd)][this[_0x56ef0d(0x1c1)]][this['f_currentFrame']]*GLOBAL['tileSize']|0x0,this['fistY'][this['f_action']][this['f_currentFrame']]*GLOBAL[_0x56ef0d(0x220)]|0x0,GLOBAL[_0x56ef0d(0x220)]*this[_0x56ef0d(0x1dd)]['w'],GLOBAL[_0x56ef0d(0x220)]*this['atkBox']['h'],map['x']+this['atkBox']['x']*GLOBAL[_0x56ef0d(0x220)]*GLOBAL[_0x56ef0d(0x1cb)]|0x0,map['y']+this[_0x56ef0d(0x1dd)]['y']*GLOBAL[_0x56ef0d(0x220)]*GLOBAL[_0x56ef0d(0x1cb)]|0x0,this[_0x56ef0d(0x1dd)]['w']*GLOBAL[_0x56ef0d(0x220)]*GLOBAL['ratio']|0x0,this[_0x56ef0d(0x1dd)]['h']*GLOBAL['tileSize']*GLOBAL[_0x56ef0d(0x1cb)]|0x0),this[_0x56ef0d(0x1e0)]--);}}var player=new Player();setInterval(countFps,0x3e8);function countFps(){const _0x55b04e=_0x4c013d;id(_0x55b04e(0x1c7))[_0x55b04e(0x200)]=_0x55b04e(0x213)+GLOBAL[_0x55b04e(0x1fb)],GLOBAL[_0x55b04e(0x1fb)]=0x0;}function displayDebug(){const _0x172bdc=_0x4c013d;id('px')[_0x172bdc(0x200)]='x:\x20'+player['x'],id('py')[_0x172bdc(0x200)]=_0x172bdc(0x193)+player['y'],id('pg')[_0x172bdc(0x200)]=_0x172bdc(0x1e3),id('pg')[_0x172bdc(0x200)]+=_0x172bdc(0x1bb)+player[_0x172bdc(0x1d4)]['L'],id('pg')[_0x172bdc(0x200)]+=_0x172bdc(0x214)+player['colBool']['R'],id('pg')[_0x172bdc(0x200)]+='<br>T:\x20'+player[_0x172bdc(0x1d4)]['T'],id('pg')[_0x172bdc(0x200)]+=_0x172bdc(0x1f9)+player[_0x172bdc(0x1d4)]['B'];}function checkCollisions(){const _0x53a907=_0x4c013d;let _0x4038e0=map[_0x53a907(0x1e8)],_0xe20990=map[_0x53a907(0x1a0)],_0x4fe228=_0x53a907(0x221);player[_0x53a907(0x1cd)]['L']=0x0,player[_0x53a907(0x1cd)]['R']=0x0,player[_0x53a907(0x1cd)]['T']=0x0,player[_0x53a907(0x1cd)]['B']=0x0,player['colBool']['L']=![],player[_0x53a907(0x1d4)]['R']=![],player[_0x53a907(0x1d4)]['T']=![],player['colBool']['B']=![];for(let _0x422be9=0x0;_0x422be9<_0x4038e0[_0x53a907(0x212)];_0x422be9++){if(collided(player,_0x4038e0[_0x422be9])){_0x4fe228=colCheck(player,_0x4038e0[_0x422be9]);switch(_0x4fe228){case'l':player[_0x53a907(0x19d)]<0x0&&(player[_0x53a907(0x1cd)]['L']>player[_0x53a907(0x219)]&&(player[_0x53a907(0x1d4)]['L']=!![],player[_0x53a907(0x219)]=0x0));break;case'r':player[_0x53a907(0x219)]>0x0&&(player[_0x53a907(0x1cd)]['R']<player[_0x53a907(0x219)]&&(player['colBool']['R']=!![],player['xVel']=0x0));break;case't':player[_0x53a907(0x19d)]<0x0&&(player[_0x53a907(0x19d)]=0x0);player[_0x53a907(0x1d4)]['T']=!![];break;case'b':player[_0x53a907(0x19d)]>0x0&&(player['yVel']=0x0);player[_0x53a907(0x1d4)]['B']=!![];break;}}}player[_0x53a907(0x1d4)]['B']&&(player[_0x53a907(0x1cd)]['B']-=0.015625),player[_0x53a907(0x1d4)]['L']&&(player[_0x53a907(0x1cd)]['L']-=0.015625),player[_0x53a907(0x1d4)]['R']&&(player[_0x53a907(0x1cd)]['R']-=0.015625),player['x']-=player['col']['R']-player[_0x53a907(0x1cd)]['L'],player['y']-=player[_0x53a907(0x1cd)]['B']-player[_0x53a907(0x1cd)]['T'];}class Monster{constructor(_0x25fa6d,_0x214ac7){const _0x3dc19d=_0x4c013d;this['type']='monster',this['x']=_0x25fa6d,this['y']=_0x214ac7,this['w']=0x1,this['h']=0x1,this[_0x3dc19d(0x219)]=0x0,this[_0x3dc19d(0x19d)]=0x0,this[_0x3dc19d(0x1a6)]=0.1,this[_0x3dc19d(0x1d0)]=0xa,this[_0x3dc19d(0x1e0)]=![],this[_0x3dc19d(0x1e2)]=0x3,this[_0x3dc19d(0x1ec)]=![],this[_0x3dc19d(0x1dc)]=![],this[_0x3dc19d(0x1ed)]=0x0,this[_0x3dc19d(0x1b0)]=0x0,this[_0x3dc19d(0x1ad)]=0x3,this[_0x3dc19d(0x1f7)]={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this[_0x3dc19d(0x1d9)]=0x0,this[_0x3dc19d(0x216)]=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this[_0x3dc19d(0x1d8)]=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this[_0x3dc19d(0x1dd)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}['compute'](){const _0x3dcae9=_0x4c013d;this['frames']--;if(this[_0x3dcae9(0x1d0)]<=0x0){this[_0x3dcae9(0x1d0)]=0xa;if(!this[_0x3dcae9(0x1e0)]){this['atkBox']['x']=this['x']-this[_0x3dcae9(0x1e2)],this['atkBox']['y']=this['y']-this[_0x3dcae9(0x1e2)],this[_0x3dcae9(0x1dd)]['w']=this['w']+this[_0x3dcae9(0x1e2)]*0x2,this['atkBox']['h']=this['h']+this[_0x3dcae9(0x1e2)]*0x2;if(collided(this['atkBox'],player)){this[_0x3dcae9(0x1e0)]=!![];let _0x754396=this['x']+this['w']/0x2,_0x194c92=this['y']+this['h']/0x2,_0x5f236b=_0x754396-(player['x']+player['w']/0x2),_0x24ecda=_0x194c92-(player['y']+player['h']/0x2),_0x370276=Math['atan2'](_0x24ecda,_0x5f236b);this[_0x3dcae9(0x219)]=-Math[_0x3dcae9(0x194)](_0x370276)*this[_0x3dcae9(0x1a6)],this[_0x3dcae9(0x19d)]=-Math[_0x3dcae9(0x21f)](_0x370276)*this[_0x3dcae9(0x1a6)];}}else!this[_0x3dcae9(0x1ec)]&&collided(this,player)&&(player['healthAmount']>0x0&&player[_0x3dcae9(0x1f6)]==0x0&&(player['healthAmount']--,playerInterface['shake']=0x4,player[_0x3dcae9(0x206)]=!![]));}this['x']+=this[_0x3dcae9(0x219)],this['y']+=this['yVel'],this['hitbox']['x']=this['x']+this['w']/0x2,this['hitbox']['y']=this['y'];}['render'](){const _0x57b799=_0x4c013d;this[_0x57b799(0x1ec)]&&!this[_0x57b799(0x1dc)]&&(this[_0x57b799(0x1d9)]=0x1,this['frameCounter']=0x0,this[_0x57b799(0x1ed)]=0x0,this[_0x57b799(0x1dc)]=!![]),this[_0x57b799(0x1b0)]++,this['frameCounter']>this['slowness']&&(this['currentFrame']++,this[_0x57b799(0x1b0)]=0x0),this[_0x57b799(0x1ed)]>=this['actionX'][this[_0x57b799(0x1d9)]][_0x57b799(0x212)]&&(this[_0x57b799(0x1ed)]=0x0,this[_0x57b799(0x1dc)]&&(this[_0x57b799(0x1d9)]=0x2)),c['drawImage'](SPRITESHEET,this[_0x57b799(0x216)][this['action']][this['currentFrame']]*GLOBAL[_0x57b799(0x220)]|0x0,this[_0x57b799(0x1d8)][this[_0x57b799(0x1d9)]][this[_0x57b799(0x1ed)]]*GLOBAL[_0x57b799(0x220)]|0x0,GLOBAL[_0x57b799(0x220)],GLOBAL[_0x57b799(0x220)],map['x']+this['x']*GLOBAL[_0x57b799(0x220)]*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x57b799(0x220)]*GLOBAL[_0x57b799(0x1cb)]|0x0,this['w']*GLOBAL[_0x57b799(0x220)]*GLOBAL[_0x57b799(0x1cb)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x57b799(0x1cb)]|0x0);}}class TeaMonster{constructor(_0x377f9c,_0x10b4bf){const _0x45aaa8=_0x4c013d;this['x']=_0x377f9c,this['y']=_0x10b4bf,this['w']=0x1,this['h']=0x1,this[_0x45aaa8(0x219)]=0x0,this[_0x45aaa8(0x19d)]=0x0,this[_0x45aaa8(0x1a6)]=0.1,this['frames']=0xa,this[_0x45aaa8(0x1e0)]=![],this[_0x45aaa8(0x1e2)]=0x3,this[_0x45aaa8(0x1ec)]=![],this['deathAnimation']=![],this[_0x45aaa8(0x1ed)]=0x0,this[_0x45aaa8(0x1b0)]=0x0,this['type']=_0x45aaa8(0x1fc),this['dead']=![],this['slowness']=0x3,this[_0x45aaa8(0x1e7)]=0x0,this[_0x45aaa8(0x1fe)]=0x0,this['down']=0x0,this['w']=0x3,this['h']=0x3,this[_0x45aaa8(0x1d9)]=0x0,this[_0x45aaa8(0x1f7)]={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x45aaa8(0x216)]=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this[_0x45aaa8(0x1d8)]=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}['compute'](){const _0x5052e6=_0x4c013d;this[_0x5052e6(0x1f7)]['x']=this['x']-this[_0x5052e6(0x1d7)],this['hitbox']['y']=this['y']+this[_0x5052e6(0x1d7)],this[_0x5052e6(0x1f7)]['w']=this['w']+this[_0x5052e6(0x1d7)],this[_0x5052e6(0x1f7)]['h']=this['h']-this[_0x5052e6(0x1d7)],this[_0x5052e6(0x1d7)]&&this[_0x5052e6(0x1fe)]===0x1&&(collided(this,player)&&(player[_0x5052e6(0x1f6)]==0x0&&(player[_0x5052e6(0x206)]=!![],player[_0x5052e6(0x1a1)]=-0x2,player['healthAmount']-=0x2,player[_0x5052e6(0x1db)]<0x0&&(player['healthAmount']=0x0))));}[_0x4c013d(0x1f3)](){const _0x265ab5=_0x4c013d;this['dead']=![],this[_0x265ab5(0x1b0)]++,this[_0x265ab5(0x1b0)]>this['slowness']&&(this[_0x265ab5(0x1ed)]++,this[_0x265ab5(0x1b0)]=0x0),this['currentFrame']>=this[_0x265ab5(0x216)][this[_0x265ab5(0x1d9)]][_0x265ab5(0x212)]&&(this['currentFrame']=0x0,this[_0x265ab5(0x1d9)]==0x1&&(this['action']=0x2),this['action']==0x2&&this[_0x265ab5(0x1e7)]++==0x2&&(this[_0x265ab5(0x1d9)]=0x3),this['action']==0x3&&(this[_0x265ab5(0x1d7)]=0x1,this[_0x265ab5(0x1fe)]++,this['downCounter']==0x3&&(this[_0x265ab5(0x1d7)]=0x0,this['action']=0x0,this['downCounter']=0x0,this[_0x265ab5(0x1e7)]=0x0))),player['x']>this['x']-this[_0x265ab5(0x1e2)]&&this[_0x265ab5(0x1d9)]<0x1&&(this[_0x265ab5(0x1d9)]=0x1,this[_0x265ab5(0x1ed)]=0x0,this['frameCounter']=0x0),c[_0x265ab5(0x1cf)](SPRITESHEET,this[_0x265ab5(0x216)][this['action']][this['currentFrame']]*GLOBAL[_0x265ab5(0x220)]|0x0,this['actionY'][this[_0x265ab5(0x1d9)]][this['currentFrame']]*GLOBAL[_0x265ab5(0x220)]|0x0,(this['w']+this[_0x265ab5(0x1d7)])*GLOBAL[_0x265ab5(0x220)],this['h']*GLOBAL[_0x265ab5(0x220)],map['x']+(this['x']-this[_0x265ab5(0x1d7)])*GLOBAL[_0x265ab5(0x220)]*GLOBAL[_0x265ab5(0x1cb)]|0x0,map['y']+this['y']*GLOBAL[_0x265ab5(0x220)]*GLOBAL[_0x265ab5(0x1cb)]|0x0,(this['w']+this[_0x265ab5(0x1d7)])*GLOBAL[_0x265ab5(0x220)]*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x265ab5(0x220)]*GLOBAL[_0x265ab5(0x1cb)]|0x0);}}function _0x271b(){const _0x162a32=['follow','replace','yVelExt','gForce','1218008CHlGqK','heartsY','yVel','2320OAdiVx','accel','enemies','xVelExt','fgTiles','moveCamera','create','charging','speed','opener','jumpSpeed','renderBackground','chargingAmount','random','width','slowness','spritesheet','laser','frameCounter','friction','1730mQqXaS','backgroundPosY','fillStyle','health','mage','height','f_frameCounter','1159618kdCJki','imageSmoothingEnabled','<br>L:\x20','jumping','fistX','#ffffff','push','fist','f_action','rightRel','attack','backgroundsY','apply','shakeAmountX','fps','safe\x20eval','shake','terminalVel','ratio','right2','col','backgroundSizeW','drawImage','frames','clearRect','mapObject','upRel','colBool','renderBgTiles','stack','down','actionY','action','fromCharCode','healthAmount','deathAnimation','atkBox','backgroundSheet','abGhoutVI:bilQawnGkEpKgKhMShdwQFCqgdAJWXf','attacking','backgroundSizeH','range','<br>Collisions\x20','backgroundPosX','#20394f','splice','atkCounter','tiles','FPS','map','distance','dead','currentFrame','tilesWidth','tilesHeight','fistY','iFrameMax','disabled','render','split','getElementById','iFrame','hitbox','208461rRHbmA','<br>B:\x20','onload','fpsCounter','tea','renderFgTiles','downCounter','f_currentFrame','innerHTML','renderEnemies','stroke','up2','3qgyBkk','downRel','attacked','renderTiles','healthY','left','down2','left2','log','19746LUjCSY','charCodeAt','right','2113488LRZGRL','compute','length','FPS:\x20','<br>R:\x20','bgTiles','actionX','4287432kPXGkm','10400PLURVU','xVel','shakeAmountY','f_slowness','slice','healthX','fill','sin','tileSize','none','type','#08141e','161DNxbYu','{}.constructor(\x22return\x20this\x22)(\x20)','spawnPoint','backgroundsX','y:\x20','cos','fillRect','heartsX'];_0x271b=function(){return _0x162a32;};return _0x271b();}class MageAttack{constructor(_0x2b920d,_0x18832a){const _0x2dac82=_0x4c013d;this['x']=_0x2b920d,this['y']=0x0,this['w']=0x2,this['h']=0xf,this[_0x2dac82(0x1ed)]=0x0,this[_0x2dac82(0x1b0)]=0x0,this[_0x2dac82(0x222)]=_0x2dac82(0x1c3),this[_0x2dac82(0x1f2)]=!![],this[_0x2dac82(0x1ad)]=0x3,this[_0x2dac82(0x1e0)]=![],this['action']=0x0,this[_0x2dac82(0x216)]=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this[_0x2dac82(0x1d8)]=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this[_0x2dac82(0x1eb)]=0x0,this['speed']=0.3,this[_0x2dac82(0x197)]=!![],this[_0x2dac82(0x1f7)]={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}[_0x4c013d(0x211)](){const _0x4fdf77=_0x4c013d;this[_0x4fdf77(0x1eb)]=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this['follow']){if(this[_0x4fdf77(0x1eb)]<0x0)this['x']+=this[_0x4fdf77(0x1eb)]/0xa;else this[_0x4fdf77(0x1eb)]>0x0&&(this['x']+=this[_0x4fdf77(0x1eb)]/0xa);}this['hitbox']['x']=this['x']+(this['w']-this['hitbox']['w'])/0x2,this[_0x4fdf77(0x1ed)]>0x5&&this[_0x4fdf77(0x1ed)]<0x9&&(this['follow']=![],collided(this,player)&&(player['healthAmount']>0x0&&player[_0x4fdf77(0x1f6)]==0x0&&(player['healthAmount']-=0x2,playerInterface[_0x4fdf77(0x1c9)]=0x4,player['attacked']=!![])));}['render'](){const _0x5c0a66=_0x4c013d;this[_0x5c0a66(0x1b0)]++,this[_0x5c0a66(0x1b0)]>this[_0x5c0a66(0x1ad)]&&(this[_0x5c0a66(0x1ed)]++,this[_0x5c0a66(0x1b0)]=0x0),this[_0x5c0a66(0x1ed)]>=this['actionX'][this[_0x5c0a66(0x1d9)]][_0x5c0a66(0x212)]&&(this['currentFrame']=0x0,this[_0x5c0a66(0x1f2)]=!![]),c[_0x5c0a66(0x1cf)](SPRITESHEET,this[_0x5c0a66(0x216)][this[_0x5c0a66(0x1d9)]][this[_0x5c0a66(0x1ed)]]*GLOBAL[_0x5c0a66(0x220)]|0x0,this[_0x5c0a66(0x1d8)][this[_0x5c0a66(0x1d9)]][this[_0x5c0a66(0x1ed)]]*GLOBAL['tileSize']|0x0,this['w']*GLOBAL[_0x5c0a66(0x220)],this['h']*GLOBAL['tileSize'],map['x']+this['x']*GLOBAL[_0x5c0a66(0x220)]*GLOBAL[_0x5c0a66(0x1cb)]|0x0,this['y']*GLOBAL[_0x5c0a66(0x220)]*GLOBAL['ratio']|0x0,this['w']*GLOBAL[_0x5c0a66(0x220)]*GLOBAL[_0x5c0a66(0x1cb)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x5c0a66(0x1cb)]|0x0);}}class MageMonster{constructor(_0x378bbd,_0x9cb694){const _0x31642b=_0x4c013d;this['x']=_0x378bbd,this['y']=_0x9cb694,this['w']=0x1,this['h']=0x1,this['xVel']=0x0,this['yVel']=0x0,this[_0x31642b(0x1a6)]=0.1,this[_0x31642b(0x1d0)]=0xa,this[_0x31642b(0x1e0)]=![],this[_0x31642b(0x1e2)]=0x4,this[_0x31642b(0x1ec)]=![],this[_0x31642b(0x1dc)]=![],this[_0x31642b(0x1ed)]=0x0,this[_0x31642b(0x1b0)]=0x0,this[_0x31642b(0x222)]=_0x31642b(0x1b6),this['dead']=![],this[_0x31642b(0x1ad)]=0x3,this[_0x31642b(0x1e7)]=0x0,this[_0x31642b(0x1fe)]=0x0,this['down']=0x0,this['w']=0x2,this['h']=0x2,this[_0x31642b(0x1d9)]=0x0,this[_0x31642b(0x1f7)]={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this[_0x31642b(0x1dd)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x31642b(0x1af)]=new MageAttack(0x0,0x0),this['actionX']=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this[_0x31642b(0x1d8)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}['compute'](){const _0x2542b7=_0x4c013d;this[_0x2542b7(0x1d0)]--,this[_0x2542b7(0x1d0)]<=0x0&&(this[_0x2542b7(0x1d0)]=0xa,collided(this[_0x2542b7(0x1dd)],player)?(this[_0x2542b7(0x1e0)]=!![],this[_0x2542b7(0x1af)][_0x2542b7(0x1f2)]&&(this['laser'][_0x2542b7(0x1f2)]=![],this[_0x2542b7(0x1af)]['follow']=!![],this['laser']['x']=this['x'])):this[_0x2542b7(0x1e0)]=![],!this[_0x2542b7(0x1e0)]?(this[_0x2542b7(0x1dd)]['x']=this['x']-this['range'],this['atkBox']['y']=this['y']-this[_0x2542b7(0x1e2)],this[_0x2542b7(0x1dd)]['w']=this['w']+this[_0x2542b7(0x1e2)]*0x2,this[_0x2542b7(0x1dd)]['h']=this['h']+this[_0x2542b7(0x1e2)]*0x2):!this['dead']&&collided(this,player)&&(player['healthAmount']>0x0&&player[_0x2542b7(0x1f6)]==0x0&&(player[_0x2542b7(0x1db)]--,playerInterface['shake']=0x4,player[_0x2542b7(0x206)]=!![])));}['render'](){const _0xfaf87d=_0x4c013d;!this['laser']['disabled']&&(this[_0xfaf87d(0x1af)]['compute'](),this['laser'][_0xfaf87d(0x1f3)]()),this[_0xfaf87d(0x1ec)]=![],this['attacking']?this[_0xfaf87d(0x1d9)]=0x1:this[_0xfaf87d(0x1d9)]=0x0,this['frameCounter']++,this[_0xfaf87d(0x1b0)]>this[_0xfaf87d(0x1ad)]&&(this[_0xfaf87d(0x1ed)]++,this[_0xfaf87d(0x1b0)]=0x0),this['currentFrame']>=this[_0xfaf87d(0x216)][this[_0xfaf87d(0x1d9)]][_0xfaf87d(0x212)]&&(this[_0xfaf87d(0x1ed)]=0x0),c[_0xfaf87d(0x1cf)](SPRITESHEET,this['actionX'][this[_0xfaf87d(0x1d9)]][this[_0xfaf87d(0x1ed)]]*GLOBAL[_0xfaf87d(0x220)]|0x0,this[_0xfaf87d(0x1d8)][this[_0xfaf87d(0x1d9)]][this[_0xfaf87d(0x1ed)]]*GLOBAL[_0xfaf87d(0x220)]|0x0,(this['w']+this[_0xfaf87d(0x1d7)])*GLOBAL['tileSize'],this['h']*GLOBAL[_0xfaf87d(0x220)],map['x']+(this['x']-this['down'])*GLOBAL[_0xfaf87d(0x220)]*GLOBAL[_0xfaf87d(0x1cb)]|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL[_0xfaf87d(0x1cb)]|0x0,(this['w']+this[_0xfaf87d(0x1d7)])*GLOBAL[_0xfaf87d(0x220)]*GLOBAL[_0xfaf87d(0x1cb)]|0x0,this['h']*GLOBAL[_0xfaf87d(0x220)]*GLOBAL[_0xfaf87d(0x1cb)]|0x0);}}class Map{constructor(){const _0x5718ca=_0x4c013d;this[_0x5718ca(0x1ee)]=canvas[_0x5718ca(0x1ac)]/GLOBAL[_0x5718ca(0x220)]/GLOBAL[_0x5718ca(0x1cb)],this[_0x5718ca(0x1ef)]=canvas[_0x5718ca(0x1b7)]/GLOBAL['tileSize']/GLOBAL[_0x5718ca(0x1cb)],this['x']=0x0,this['y']=0x0,this['backgroundSheet']=id('spritesheet-bg'),this['backgroundsX']=[0x0,0x0,0x0],this[_0x5718ca(0x1c4)]=[0x0,0x96,0x12c],this['backgroundSizeW']=0x1c2,this[_0x5718ca(0x1e1)]=0x96,this[_0x5718ca(0x1e4)]=[0x0,0x0,0x0],this[_0x5718ca(0x1b3)]=[0x0,0x0,0x0],this['bgTiles']=[],this[_0x5718ca(0x1a2)]=[],this[_0x5718ca(0x1ea)]=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this['spawnPoint']={'x':0xa,'y':0x0},this['tiles']=[],this[_0x5718ca(0x1a0)]=[];}[_0x4c013d(0x1a3)](){const _0x2bbd30=_0x4c013d;this['x']=-(player['x']-0x8)*GLOBAL['tileSize']*GLOBAL[_0x2bbd30(0x1cb)],this['y']=-(player['y']-0x8)*GLOBAL['tileSize']*GLOBAL[_0x2bbd30(0x1cb)];}[_0x4c013d(0x207)](){const _0x1f0c81=_0x4c013d;for(let _0x37a4cf=0x0;_0x37a4cf<this[_0x1f0c81(0x1e8)]['length'];_0x37a4cf++){renderTile(this[_0x1f0c81(0x1e8)][_0x37a4cf]);}}[_0x4c013d(0x1d5)](){const _0xf9403d=_0x4c013d;for(let _0x53c1e4=0x0;_0x53c1e4<this[_0xf9403d(0x215)]['length'];_0x53c1e4++){renderTile(this['bgTiles'][_0x53c1e4]);}}[_0x4c013d(0x1fd)](){const _0x51c704=_0x4c013d;for(let _0x4469dd=0x0;_0x4469dd<this[_0x51c704(0x1a2)]['length'];_0x4469dd++){renderTile(this['tiles'][_0x4469dd]);}}[_0x4c013d(0x201)](){const _0x1c6d19=_0x4c013d;for(let _0x493cc5=0x0;_0x493cc5<this[_0x1c6d19(0x1a0)][_0x1c6d19(0x212)];_0x493cc5++){this[_0x1c6d19(0x1a0)][_0x493cc5]['render']();}}[_0x4c013d(0x1a9)](){const _0xde4758=_0x4c013d;this[_0xde4758(0x1e4)][0x1]+=0.6,this[_0xde4758(0x1e4)][0x2]+=0.3;this[_0xde4758(0x1e4)][0x0]>this[_0xde4758(0x1ce)]*GLOBAL[_0xde4758(0x1cb)]&&(this[_0xde4758(0x1e4)][0x0]-=this[_0xde4758(0x1ce)]*GLOBAL[_0xde4758(0x1cb)]);this[_0xde4758(0x1e4)][0x1]>this['backgroundSizeW']*GLOBAL[_0xde4758(0x1cb)]&&(this[_0xde4758(0x1e4)][0x1]-=this[_0xde4758(0x1ce)]*GLOBAL[_0xde4758(0x1cb)]);this[_0xde4758(0x1e4)][0x2]>this[_0xde4758(0x1ce)]*GLOBAL[_0xde4758(0x1cb)]&&(this[_0xde4758(0x1e4)][0x2]-=this[_0xde4758(0x1ce)]*GLOBAL[_0xde4758(0x1cb)]);for(let _0x4d9648=-0x1;_0x4d9648<0x2;_0x4d9648++){c[_0xde4758(0x1cf)](this[_0xde4758(0x1de)],this[_0xde4758(0x227)][0x2]|0x0,this[_0xde4758(0x1c4)][0x2]|0x0,this['backgroundSizeW'],this[_0xde4758(0x1e1)],this['backgroundSizeW']*GLOBAL[_0xde4758(0x1cb)]*_0x4d9648+this['backgroundPosX'][0x2]+this['x']/0x8,this[_0xde4758(0x1b3)][0x2],this[_0xde4758(0x1ce)]*GLOBAL[_0xde4758(0x1cb)],this['backgroundSizeH']*GLOBAL[_0xde4758(0x1cb)]);}for(let _0x2ee18e=-0x1;_0x2ee18e<0x2;_0x2ee18e++){c[_0xde4758(0x1cf)](this['backgroundSheet'],this[_0xde4758(0x227)][0x1]|0x0,this['backgroundsY'][0x1]|0x0,this[_0xde4758(0x1ce)],this[_0xde4758(0x1e1)],this[_0xde4758(0x1ce)]*GLOBAL['ratio']*_0x2ee18e+this[_0xde4758(0x1e4)][0x1]+this['x']/0x6,this[_0xde4758(0x1b3)][0x1],this[_0xde4758(0x1ce)]*GLOBAL[_0xde4758(0x1cb)],this[_0xde4758(0x1e1)]*GLOBAL[_0xde4758(0x1cb)]);}for(let _0x1b6106=-0x1;_0x1b6106<0x2;_0x1b6106++){c[_0xde4758(0x1cf)](this[_0xde4758(0x1de)],this['backgroundsX'][0x0]|0x0,this[_0xde4758(0x1c4)][0x0]|0x0,this[_0xde4758(0x1ce)],this['backgroundSizeH'],this[_0xde4758(0x1ce)]*GLOBAL[_0xde4758(0x1cb)]*_0x1b6106+this['backgroundPosX'][0x0]+this['x']/0x4,this[_0xde4758(0x1b3)][0x0],this['backgroundSizeW']*GLOBAL['ratio'],this[_0xde4758(0x1e1)]*GLOBAL[_0xde4758(0x1cb)]);}c[_0xde4758(0x1b4)]=_0xde4758(0x1e5),c[_0xde4758(0x195)](0x0,this[_0xde4758(0x1c4)][0x0]+this[_0xde4758(0x1e1)]*GLOBAL[_0xde4758(0x1cb)],canvas['width'],this[_0xde4758(0x1e1)]*GLOBAL[_0xde4758(0x1cb)]);}['computeEnemies'](){const _0x327254=_0x4c013d;for(let _0x5d5eb1=0x0;_0x5d5eb1<this['enemies'][_0x327254(0x212)];_0x5d5eb1++){this[_0x327254(0x1a0)][_0x5d5eb1][_0x327254(0x211)]();}}}var map=new Map(),mapTester=!![];window['opener']?window[_0x4c013d(0x1a7)][_0x4c013d(0x1d2)]?(debug[_0x4c013d(0x20c)](window[_0x4c013d(0x1a7)]['mapObject']),safeEval(window[_0x4c013d(0x1a7)][_0x4c013d(0x1d2)]),initializeMap()):(safeEval(window[_0x4c013d(0x1a7)][_0x4c013d(0x1ea)]),initializeMap()):mapTester=![];function safeEval(_0x2575f8){const _0x125abb=_0x4c013d;typeof _0x2575f8==='object'&&_0x2575f8!==null&&(map[_0x125abb(0x1ea)]=Object[_0x125abb(0x1a4)](_0x2575f8[_0x125abb(0x1ea)]),map[_0x125abb(0x226)]=Object[_0x125abb(0x1a4)](_0x2575f8['spawnPoint']),console['log'](_0x125abb(0x1c8)));}function renderTile(_0x2fa4e9){const _0x208b42=_0x4c013d;if(_0x2fa4e9[_0x208b42(0x1d6)])c[_0x208b42(0x1cf)](SPRITESHEET,tiles[_0x2fa4e9['type']][0x0]*GLOBAL[_0x208b42(0x220)]|0x0,tiles[_0x2fa4e9[_0x208b42(0x222)]][0x1]*GLOBAL['tileSize']|0x0,_0x2fa4e9['w']*GLOBAL[_0x208b42(0x220)],_0x2fa4e9['h']*GLOBAL['tileSize'],map['x']+_0x2fa4e9['x']*GLOBAL[_0x208b42(0x220)]*GLOBAL['ratio']|0x0,map['y']+_0x2fa4e9['y']*GLOBAL[_0x208b42(0x220)]*GLOBAL['ratio']|0x0,_0x2fa4e9['w']*GLOBAL[_0x208b42(0x220)]*GLOBAL[_0x208b42(0x1cb)]|0x0,_0x2fa4e9['h']*GLOBAL[_0x208b42(0x220)]*GLOBAL[_0x208b42(0x1cb)]|0x0);else for(let _0x1fa19f=0x0;_0x1fa19f<_0x2fa4e9['w'];_0x1fa19f++){for(let _0x3979ee=0x0;_0x3979ee<_0x2fa4e9['h'];_0x3979ee++){c[_0x208b42(0x1cf)](SPRITESHEET,tiles[_0x2fa4e9[_0x208b42(0x222)]][0x0]*GLOBAL[_0x208b42(0x220)]|0x0,tiles[_0x2fa4e9[_0x208b42(0x222)]][0x1]*GLOBAL[_0x208b42(0x220)]|0x0,GLOBAL['tileSize'],GLOBAL[_0x208b42(0x220)],map['x']+(_0x2fa4e9['x']+_0x1fa19f)*GLOBAL['tileSize']*GLOBAL[_0x208b42(0x1cb)]|0x0,map['y']+(_0x2fa4e9['y']+_0x3979ee)*GLOBAL['tileSize']*GLOBAL[_0x208b42(0x1cb)]|0x0,GLOBAL[_0x208b42(0x220)]*GLOBAL[_0x208b42(0x1cb)]|0x0,GLOBAL['tileSize']*GLOBAL['ratio']|0x0);}}}function gameLoop(){const _0x482725=_0x4c013d;GLOBAL['fpsCounter']++,setTimeout(gameLoop,0x3e8/GLOBAL[_0x482725(0x1e9)]),c[_0x482725(0x1d1)](0x0,0x0,canvas['width'],canvas['height']),c['fillStyle']=_0x482725(0x223),c[_0x482725(0x195)](0x0,0x0,canvas[_0x482725(0x1ac)],canvas[_0x482725(0x1b7)]),renderStars(),map[_0x482725(0x1a9)](),map[_0x482725(0x207)](),map[_0x482725(0x1d5)](),player[_0x482725(0x211)](),checkCollisions(),map['computeEnemies'](),map['renderEnemies'](),player[_0x482725(0x1f3)](),playerInterface[_0x482725(0x1f3)](),map[_0x482725(0x1a3)](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0x20d734=_0x4c013d;player['x']=map[_0x20d734(0x226)]['x'],player['y']=map[_0x20d734(0x226)]['y'],map['tiles']=map[_0x20d734(0x1ea)];var _0x3a08de=[];for(let _0x53d371=map[_0x20d734(0x1e8)][_0x20d734(0x212)]-0x1;_0x53d371>=0x0;_0x53d371--){switch(map[_0x20d734(0x1e8)][_0x53d371][_0x20d734(0x222)]){case 0xd:map[_0x20d734(0x1a0)][_0x20d734(0x1bf)](new Monster(map[_0x20d734(0x1e8)][_0x53d371]['x'],map['tiles'][_0x53d371]['y'])),_0x3a08de['push'](_0x53d371);break;case 0xe:map[_0x20d734(0x1a0)][_0x20d734(0x1bf)](new TeaMonster(map[_0x20d734(0x1e8)][_0x53d371]['x'],map[_0x20d734(0x1e8)][_0x53d371]['y'])),_0x3a08de[_0x20d734(0x1bf)](_0x53d371);break;case 0xf:map[_0x20d734(0x1a0)][_0x20d734(0x1bf)](new MageMonster(map[_0x20d734(0x1e8)][_0x53d371]['x'],map[_0x20d734(0x1e8)][_0x53d371]['y'])),_0x3a08de[_0x20d734(0x1bf)](_0x53d371);break;}}for(let _0x1cfd88=0x0;_0x1cfd88<_0x3a08de[_0x20d734(0x212)];_0x1cfd88++){map[_0x20d734(0x1e8)][_0x20d734(0x1e6)](_0x3a08de[_0x1cfd88],0x1);}}