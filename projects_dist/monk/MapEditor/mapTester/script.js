'use strict';const _0x612235=_0x14c9;(function(_0x491ee5,_0x22095d){const _0xfb4108=_0x14c9,_0x3cc104=_0x491ee5();while(!![]){try{const _0x2142b6=parseInt(_0xfb4108(0xed))/0x1*(parseInt(_0xfb4108(0x105))/0x2)+parseInt(_0xfb4108(0xc2))/0x3+-parseInt(_0xfb4108(0x143))/0x4+parseInt(_0xfb4108(0x13b))/0x5*(-parseInt(_0xfb4108(0x14d))/0x6)+-parseInt(_0xfb4108(0xc6))/0x7*(-parseInt(_0xfb4108(0x11c))/0x8)+parseInt(_0xfb4108(0xe0))/0x9+-parseInt(_0xfb4108(0x108))/0xa;if(_0x2142b6===_0x22095d)break;else _0x3cc104['push'](_0x3cc104['shift']());}catch(_0x3bda63){_0x3cc104['push'](_0x3cc104['shift']());}}}(_0x4566,0x78015));function id(_0x517733){const _0x5158b5=_0x14c9,_0x44a246=(function(){let _0x1d9274=!![];return function(_0xa77564,_0x97d69){const _0x39cc4e=_0x1d9274?function(){const _0xee9d21=_0x14c9;if(_0x97d69){const _0x5cfacc=_0x97d69[_0xee9d21(0xc0)](_0xa77564,arguments);return _0x97d69=null,_0x5cfacc;}}:function(){};return _0x1d9274=![],_0x39cc4e;};}()),_0x19d05a=_0x44a246(this,function(){const _0x2377c7=_0x14c9,_0x217b82=function(){const _0x5cd80b=_0x14c9;let _0xc7d647;try{_0xc7d647=Function(_0x5cd80b(0x137)+_0x5cd80b(0xec)+');')();}catch(_0x10d796){_0xc7d647=window;}return _0xc7d647;},_0x55f529=_0x217b82(),_0xe3ca4f=new RegExp(_0x2377c7(0x104),'g'),_0x5de55f=_0x2377c7(0xc4)['replace'](_0xe3ca4f,'')[_0x2377c7(0x142)](';');let _0x40c336,_0x3b970a,_0xa4f2fb,_0x2f6e7c;const _0x5d558c=function(_0x5f08cf,_0x8a462f,_0x20d05f){const _0x1b904c=_0x2377c7;if(_0x5f08cf[_0x1b904c(0xc3)]!=_0x8a462f)return![];for(let _0x8330ce=0x0;_0x8330ce<_0x8a462f;_0x8330ce++){for(let _0x56b12c=0x0;_0x56b12c<_0x20d05f[_0x1b904c(0xc3)];_0x56b12c+=0x2){if(_0x8330ce==_0x20d05f[_0x56b12c]&&_0x5f08cf[_0x1b904c(0x148)](_0x8330ce)!=_0x20d05f[_0x56b12c+0x1])return![];}}return!![];},_0x15f888=function(_0x1c2142,_0x4789ce,_0x283d39){return _0x5d558c(_0x4789ce,_0x283d39,_0x1c2142);},_0x2f614c=function(_0x502f5d,_0x15c64c,_0xddb0ab){return _0x15f888(_0x15c64c,_0x502f5d,_0xddb0ab);},_0x45aee9=function(_0x2973e0,_0x13e683,_0x22e336){return _0x2f614c(_0x13e683,_0x22e336,_0x2973e0);};for(let _0xf04993 in _0x55f529){if(_0x5d558c(_0xf04993,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x40c336=_0xf04993;break;}}for(let _0x1a1602 in _0x55f529[_0x40c336]){if(_0x45aee9(0x6,_0x1a1602,[0x5,0x6e,0x0,0x64])){_0x3b970a=_0x1a1602;break;}}for(let _0x588a8c in _0x55f529[_0x40c336]){if(_0x2f614c(_0x588a8c,[0x7,0x6e,0x0,0x6c],0x8)){_0xa4f2fb=_0x588a8c;break;}}if(!('~'>_0x3b970a))for(let _0x3122e0 in _0x55f529[_0x40c336][_0xa4f2fb]){if(_0x15f888([0x7,0x65,0x0,0x68],_0x3122e0,0x8)){_0x2f6e7c=_0x3122e0;break;}}if(!_0x40c336||!_0x55f529[_0x40c336])return;const _0xcdf551=_0x55f529[_0x40c336][_0x3b970a],_0x1b4623=!!_0x55f529[_0x40c336][_0xa4f2fb]&&_0x55f529[_0x40c336][_0xa4f2fb][_0x2f6e7c],_0x6f8589=_0xcdf551||_0x1b4623;if(!_0x6f8589)return;let _0x3cecc4=![];for(let _0x1273d5=0x0;_0x1273d5<_0x5de55f[_0x2377c7(0xc3)];_0x1273d5++){const _0x3fa69f=_0x5de55f[_0x1273d5],_0x49e52a=_0x3fa69f[0x0]===String[_0x2377c7(0x123)](0x2e)?_0x3fa69f[_0x2377c7(0x117)](0x1):_0x3fa69f,_0x2d50ec=_0x6f8589[_0x2377c7(0xc3)]-_0x49e52a[_0x2377c7(0xc3)],_0x224324=_0x6f8589['indexOf'](_0x49e52a,_0x2d50ec),_0x49bb38=_0x224324!==-0x1&&_0x224324===_0x2d50ec;_0x49bb38&&((_0x6f8589[_0x2377c7(0xc3)]==_0x3fa69f[_0x2377c7(0xc3)]||_0x3fa69f['indexOf']('.')===0x0)&&(_0x3cecc4=!![]));}if(!_0x3cecc4){const _0x2cc836=new RegExp('[yHPMCKqURZpfjYcUKmgYJiMjHqxqPZdBd]','g'),_0x29ec9f=_0x2377c7(0xe1)[_0x2377c7(0xde)](_0x2cc836,'');_0x55f529[_0x40c336][_0xa4f2fb]=_0x29ec9f;}});return _0x19d05a(),document[_0x5158b5(0x13d)](_0x517733);}window[_0x612235(0x11e)]=function(){initializeMap();};const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id(_0x612235(0x10d));canvas['width']=0x2d0,canvas[_0x612235(0xfa)]=0x1e0;var c=canvas[_0x612235(0xd1)]('2d');c[_0x612235(0x111)]=![];const SPRITESHEET=id('spritesheet'),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};class Star{constructor(){const _0x1f8c5d=_0x612235;this['r']=Math['random']()*0x3|0x0,stars[_0x1f8c5d(0x12c)]({'x':Math[_0x1f8c5d(0x136)]()*canvas['width'],'y':Math['random']()*canvas[_0x1f8c5d(0xfa)],'width':this['r'],'height':this['r'],'xVel':Math[_0x1f8c5d(0x136)]()/0xa,'yVel':Math[_0x1f8c5d(0x136)]()/0xa});}}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function _0x14c9(_0x43d34e,_0x448e65){const _0x479b3e=_0x4566();return _0x14c9=function(_0x554333,_0x4b25b6){_0x554333=_0x554333-0xb5;let _0x2d68e6=_0x479b3e[_0x554333];return _0x2d68e6;},_0x14c9(_0x43d34e,_0x448e65);}function renderStars(){const _0x47b426=_0x612235;for(let _0x33061f=0x0;_0x33061f<stars[_0x47b426(0xc3)];_0x33061f++){c['fill'](),c['fillStyle']=_0x47b426(0xba),c[_0x47b426(0xcd)](stars[_0x33061f]['x']|0x0*GLOBAL[_0x47b426(0x14b)],stars[_0x33061f]['y']|0x0*GLOBAL['ratio'],stars[_0x33061f][_0x47b426(0x119)]*GLOBAL[_0x47b426(0x14b)],stars[_0x33061f][_0x47b426(0xfa)]*GLOBAL[_0x47b426(0x14b)]),c[_0x47b426(0x135)](),stars[_0x33061f]['x']>canvas['width']&&(stars[_0x33061f]['x']=0x0),stars[_0x33061f]['y']>canvas['height']&&(stars[_0x33061f]['y']=0x0),stars[_0x33061f]['x']+=stars[_0x33061f][_0x47b426(0xbe)],stars[_0x33061f]['y']+=stars[_0x33061f][_0x47b426(0xbe)];}}function distribute(_0x640a0e,_0x2d377a,_0x2b1534){const _0x75ef3f=_0x612235;let _0x2916c5=[];while(_0x2d377a[_0x75ef3f(0xc3)]>_0x2916c5[_0x75ef3f(0xc3)]){if(_0x640a0e>_0x2b1534)_0x2916c5['push'](_0x2b1534),_0x640a0e-=_0x2b1534;else _0x640a0e!=0x0?(_0x2916c5[_0x75ef3f(0x12c)](_0x640a0e),_0x640a0e=0x0):_0x2d377a['length']>_0x2916c5[_0x75ef3f(0xc3)]&&_0x2916c5[_0x75ef3f(0x12c)](_0x640a0e);}return _0x2916c5;}class Interface{constructor(){const _0x384ec8=_0x612235;this[_0x384ec8(0xf7)]=0x0,this[_0x384ec8(0xf3)]=0x2,this[_0x384ec8(0x115)]=[0x2,0x2,0x2],this[_0x384ec8(0xcc)]=[0x2,0x1,0x0],this[_0x384ec8(0x11f)]=[0x8,0x8,0x8],this[_0x384ec8(0xbd)]=canvas[_0x384ec8(0x119)]/0x10/0x2/GLOBAL[_0x384ec8(0x14b)]-this[_0x384ec8(0x115)]['length']/0x2|0x0,this[_0x384ec8(0xee)]=0x1,this[_0x384ec8(0xdb)],this['shakeAmountY'];}['render'](){const _0x5250be=_0x612235;this[_0x5250be(0xf7)]>0x0?(this[_0x5250be(0xdb)]=Math[_0x5250be(0x136)]()*this[_0x5250be(0xf7)]*0x2-this[_0x5250be(0xf7)],this[_0x5250be(0xf1)]=Math[_0x5250be(0x136)]()*this[_0x5250be(0xf7)]*0x2-this[_0x5250be(0xf7)],this[_0x5250be(0xf7)]--):(this[_0x5250be(0xdb)]=0x0,this[_0x5250be(0xf1)]=0x0);this['health']=distribute(player[_0x5250be(0x131)],this[_0x5250be(0x115)],this['healthMaxValue']);for(let _0x5acf18=0x0;_0x5acf18<this['health'][_0x5250be(0xc3)];_0x5acf18++){c[_0x5250be(0xb7)](SPRITESHEET,this[_0x5250be(0xcc)][this[_0x5250be(0x115)][_0x5acf18]]*GLOBAL[_0x5250be(0x11d)]|0x0,this[_0x5250be(0x11f)][this['health'][_0x5acf18]]*GLOBAL[_0x5250be(0x11d)]|0x0,GLOBAL[_0x5250be(0x11d)],GLOBAL['tileSize'],this[_0x5250be(0xdb)]+(this[_0x5250be(0xbd)]+_0x5acf18)*GLOBAL[_0x5250be(0x11d)]*GLOBAL[_0x5250be(0x14b)]|0x0,this[_0x5250be(0xf1)]+this[_0x5250be(0xee)]*GLOBAL['tileSize']*GLOBAL[_0x5250be(0x14b)]|0x0,0x1*GLOBAL[_0x5250be(0x11d)]*GLOBAL[_0x5250be(0x14b)]|0x0,0x1*GLOBAL['tileSize']*GLOBAL[_0x5250be(0x14b)]|0x0);}}}var playerInterface=new Interface();class Player{constructor(){const _0x22c3ca=_0x612235;this[_0x22c3ca(0x131)]=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this[_0x22c3ca(0xe2)]=![],this['chargingAmount']=0x0,this[_0x22c3ca(0x13f)]=0.2,this[_0x22c3ca(0x10c)]=0.3,this['left']=![],this[_0x22c3ca(0xbe)]=0x0,this[_0x22c3ca(0xe6)]=0x0,this[_0x22c3ca(0xc1)]=0x0,this[_0x22c3ca(0xda)]=0x1e,this[_0x22c3ca(0xb9)]=![],this[_0x22c3ca(0x140)]=0x0,this[_0x22c3ca(0xd3)]=0x0,this[_0x22c3ca(0xc5)]=0x0,this[_0x22c3ca(0xc9)]=0x0,this[_0x22c3ca(0x10a)]=0x3,this[_0x22c3ca(0x103)]=0x0,this[_0x22c3ca(0x125)]=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this[_0x22c3ca(0xbc)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this[_0x22c3ca(0x133)]=0x0,this[_0x22c3ca(0x128)]=0x0,this[_0x22c3ca(0x12f)]=0x1,this[_0x22c3ca(0x113)]=0x0,this[_0x22c3ca(0xe5)]=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this[_0x22c3ca(0x13c)]=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this[_0x22c3ca(0x12b)]=0.035,this[_0x22c3ca(0xd5)]=0.12,this[_0x22c3ca(0xca)]=![],this[_0x22c3ca(0xb8)]=0.8,this[_0x22c3ca(0x139)]=0x0,this[_0x22c3ca(0x106)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['col']={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this[_0x22c3ca(0xd7)]={'L':![],'R':![],'T':![],'B':![]},this[_0x22c3ca(0xf2)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x612235(0xe7)](_0x56f629){const _0x393c23=_0x612235;_0x56f629!==this[_0x393c23(0x113)]+0x1&&(this[_0x393c23(0x133)]=0x0,this[_0x393c23(0x128)]=0x0);switch(_0x56f629){case 0x1:this[_0x393c23(0x113)]=0x0,this['atkBox']['w']=this['w'],this['atkBox']['x']=this['x']-this['atkBox']['w'],this['atkBox']['h']=this['w']/0x2,this[_0x393c23(0xf2)]['y']=this['y']+this['h']/0x2-this['atkBox']['h']/0x2;break;case 0x2:this[_0x393c23(0x113)]=0x1,this[_0x393c23(0xf2)]['w']=this['w'],this[_0x393c23(0xf2)]['x']=this['x']+this['w'],this[_0x393c23(0xf2)]['h']=this['w']/0x2,this[_0x393c23(0xf2)]['y']=this['y']+this['h']/0x2-this[_0x393c23(0xf2)]['h']/0x2;break;case 0x3:this[_0x393c23(0x113)]=0x2,this[_0x393c23(0xf2)]['w']=this['w']/0x2,this['atkBox']['x']=this['x']+this['w']/0x2-this[_0x393c23(0xf2)]['w']/0x2,this[_0x393c23(0xf2)]['h']=this['w'],this[_0x393c23(0xf2)]['y']=this['y']-this[_0x393c23(0xf2)]['h'];break;case 0x4:this[_0x393c23(0x113)]=0x3,this[_0x393c23(0xf2)]['w']=this['w']/0x2,this['atkBox']['x']=this['x']+this['w']/0x2-this['atkBox']['w']/0x2,this[_0x393c23(0xf2)]['h']=this['w'],this['atkBox']['y']=this['y']+this['h'];break;}let _0x899185=0x0,_0x230c91=![];while(!_0x230c91&&_0x899185<map[_0x393c23(0xbf)][_0x393c23(0xc3)]){if(collided(this[_0x393c23(0xf2)],map[_0x393c23(0xbf)][_0x899185]))switch(_0x56f629){case 0x1:this[_0x393c23(0x140)]+=this[_0x393c23(0xd5)]*(this[_0x393c23(0xfe)]/0x3),_0x230c91=!![];break;case 0x2:this[_0x393c23(0x140)]-=this[_0x393c23(0xd5)]*(this[_0x393c23(0xfe)]/0x3),_0x230c91=!![];break;case 0x3:this['yVel']+=this[_0x393c23(0xd5)]/0x2,_0x230c91=!![];break;case 0x4:this[_0x393c23(0xd7)]['B']&&(this['yVel']-=this[_0x393c23(0xd5)]*(this['chargingAmount']/0x3));_0x230c91=!![];break;}_0x899185++;}for(let _0x4890cf=0x0;_0x4890cf<map[_0x393c23(0xfd)][_0x393c23(0xc3)];_0x4890cf++){if(map[_0x393c23(0xfd)][_0x4890cf][_0x393c23(0x124)]!==_0x393c23(0x138)&&!map[_0x393c23(0xfd)][_0x4890cf][_0x393c23(0xef)]){if(collided(this[_0x393c23(0xf2)],map['enemies'][_0x4890cf])){map['enemies'][_0x4890cf][_0x393c23(0xef)]=!![];let _0xf19781=this['x']+this['w']/0x2,_0x2c21a7=this['y']+this['h']/0x2,_0x2db92=map[_0x393c23(0xfd)][_0x4890cf]['x']-(this['x']+this['w']/0x2),_0x166c14=map[_0x393c23(0xfd)][_0x4890cf]['y']-(this['y']+this['h']/0x2),_0x2310bc=Math[_0x393c23(0xff)](_0x166c14,_0x2db92);map[_0x393c23(0xfd)][_0x4890cf]['xVel']=Math[_0x393c23(0x134)](_0x2310bc)*map[_0x393c23(0xfd)][_0x4890cf][_0x393c23(0x12a)],map['enemies'][_0x4890cf]['yVel']=Math['sin'](_0x2310bc)*map['enemies'][_0x4890cf][_0x393c23(0x12a)];}}}this[_0x393c23(0xfe)]=0x0;}['compute'](){const _0x3778e5=_0x612235;this['yVel']<GLOBAL[_0x3778e5(0xd6)]?!this[_0x3778e5(0xd7)]['B']&&(this[_0x3778e5(0xe6)]+=this[_0x3778e5(0x12b)]):this[_0x3778e5(0xe6)]=GLOBAL[_0x3778e5(0xd6)];controls['left']&&(this[_0x3778e5(0xbe)]>-this[_0x3778e5(0x10c)]&&(this[_0x3778e5(0xd7)]['B']?this[_0x3778e5(0xbe)]-=this[_0x3778e5(0x13f)]:this[_0x3778e5(0xbe)]-=this['accel']/0x2));controls['right']&&(this['xVel']<this[_0x3778e5(0x10c)]&&(this['colBool']['B']?this[_0x3778e5(0xbe)]+=this[_0x3778e5(0x13f)]:this[_0x3778e5(0xbe)]+=this[_0x3778e5(0x13f)]/0x2));this[_0x3778e5(0xe6)]<0x0&&this[_0x3778e5(0xf9)]['T']&&(this[_0x3778e5(0xe6)]=0x0);this[_0x3778e5(0xd7)]['B']?(Math[_0x3778e5(0x12d)](this[_0x3778e5(0xbe)])>0.01?this[_0x3778e5(0xbe)]*=this[_0x3778e5(0xb8)]*0.5:this[_0x3778e5(0xbe)]=0x0,this[_0x3778e5(0xca)]=![],this[_0x3778e5(0xe6)]>0x0&&(this[_0x3778e5(0xe6)]=0x0)):Math[_0x3778e5(0x12d)](this[_0x3778e5(0xbe)])>0.01?this['xVel']*=this[_0x3778e5(0xb8)]:this[_0x3778e5(0xbe)]=0x0;(this[_0x3778e5(0xf9)]['R']&&this['xVel']>0x0||this[_0x3778e5(0xf9)]['L']&&this['xVel']<0x0)&&(this[_0x3778e5(0xbe)]=0x0);this['x']+=this[_0x3778e5(0xbe)],this['y']+=this[_0x3778e5(0xe6)];if(controls[_0x3778e5(0x149)]||controls[_0x3778e5(0x11b)]||controls[_0x3778e5(0xe9)]||controls[_0x3778e5(0xcf)]){this[_0x3778e5(0xe2)]=!![];if(controls[_0x3778e5(0x149)])this[_0x3778e5(0x14c)]=!![];else controls[_0x3778e5(0x11b)]&&(this[_0x3778e5(0x14c)]=![]);}else this[_0x3778e5(0xe2)]=![];this[_0x3778e5(0xe2)]&&this[_0x3778e5(0xfe)]<0x14&&this[_0x3778e5(0xfe)]++;if(controls[_0x3778e5(0xd4)])this[_0x3778e5(0x139)]=0x4,this[_0x3778e5(0x133)]=0x0,this['f_frameCounter']=0x0,this[_0x3778e5(0xe7)](0x1);else{if(controls[_0x3778e5(0xd2)])this['attacking']=0x4,this[_0x3778e5(0x133)]=0x0,this[_0x3778e5(0x128)]=0x0,this[_0x3778e5(0xe7)](0x2);else{if(controls[_0x3778e5(0xf4)])this[_0x3778e5(0x139)]=0x4,this[_0x3778e5(0x133)]=0x0,this[_0x3778e5(0x128)]=0x0,this['fist'](0x3);else controls[_0x3778e5(0x116)]&&(this[_0x3778e5(0x139)]=0x4,this['f_currentFrame']=0x0,this['f_frameCounter']=0x0,this[_0x3778e5(0xe7)](0x4));}}this['xVelExt']*=0.8,this['yVelExt']*=0.8,this['xVelExt']<0.01&&this['xVelExt']>-0.01&&(this['xVelExt']=0x0),this['yVelExt']<0.01&&this[_0x3778e5(0xd3)]>-0.01&&(this['yVelExt']=0x0),this['x']+=this[_0x3778e5(0x140)],this['y']+=this[_0x3778e5(0xd3)],this['hitbox']['x']=this['x']+this['w']/0x4,this[_0x3778e5(0x106)]['w']=this['w']/0x2,this[_0x3778e5(0x106)]['h']=this['h'],this[_0x3778e5(0x106)]['y']=this['y'];}[_0x612235(0x122)](){const _0x4bc072=_0x612235;if(!this['charging']){if(this[_0x4bc072(0xbe)]>0x0)this[_0x4bc072(0x14c)]=![];else this[_0x4bc072(0xbe)]<0x0?this['left']=!![]:this[_0x4bc072(0x14c)]?this['action']=0x1:this[_0x4bc072(0x103)]=0x0;if(!this[_0x4bc072(0xd7)]['B'])this[_0x4bc072(0x14c)]?this[_0x4bc072(0x103)]=0x5:this['action']=0x4;else{if(this[_0x4bc072(0xbe)]!==0x0){if(!this[_0x4bc072(0x14c)])player['action']=0x2,player['left']=![];else this[_0x4bc072(0x14c)]&&(player[_0x4bc072(0x103)]=0x3,player[_0x4bc072(0x14c)]=!![]);}}}this[_0x4bc072(0xc9)]++,this[_0x4bc072(0xc9)]>this['slowness']&&(this['currentFrame']++,this[_0x4bc072(0xc9)]=0x0),this['currentFrame']>=this[_0x4bc072(0x125)][this[_0x4bc072(0x103)]][_0x4bc072(0xc3)]&&(this[_0x4bc072(0xc5)]=0x0,this[_0x4bc072(0xe2)]&&(this['currentFrame']=this['actionX'][this[_0x4bc072(0x103)]]['length']-0x2)),this['attacked']&&(this['currentFrame']=0x0,this['iFrame']++%0x4&&(this['action']=0x6)),this['charging']&&(this[_0x4bc072(0x14c)]?this['action']=0x8:this[_0x4bc072(0x103)]=0x7),this['iFrame']>this['iFrameMax']&&(this['attacked']=![],this['iFrame']=0x0),c[_0x4bc072(0xb7)](SPRITESHEET,this[_0x4bc072(0x125)][this['action']][this[_0x4bc072(0xc5)]]*GLOBAL[_0x4bc072(0x11d)]|0x0,this['actionY'][this['action']][this[_0x4bc072(0xc5)]]*GLOBAL['tileSize']|0x0,GLOBAL[_0x4bc072(0x11d)]*0x2,GLOBAL[_0x4bc072(0x11d)]*0x2,map['x']+this['x']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x4bc072(0x11d)]*GLOBAL[_0x4bc072(0x14b)]|0x0,this['w']*GLOBAL[_0x4bc072(0x11d)]*GLOBAL[_0x4bc072(0x14b)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x4bc072(0x14b)]|0x0),this[_0x4bc072(0x139)]&&(this[_0x4bc072(0x128)]++,this['f_frameCounter']>this[_0x4bc072(0x12f)]&&(this['f_currentFrame']++,this['f_frameCounter']=0x0),this['f_currentFrame']>=this[_0x4bc072(0xe5)][this[_0x4bc072(0x113)]][_0x4bc072(0xc3)]&&(this[_0x4bc072(0x133)]=0x3),c[_0x4bc072(0xb7)](SPRITESHEET,this[_0x4bc072(0xe5)][this['f_action']][this[_0x4bc072(0x133)]]*GLOBAL[_0x4bc072(0x11d)]|0x0,this[_0x4bc072(0x13c)][this['f_action']][this[_0x4bc072(0x133)]]*GLOBAL[_0x4bc072(0x11d)]|0x0,GLOBAL[_0x4bc072(0x11d)]*this[_0x4bc072(0xf2)]['w'],GLOBAL[_0x4bc072(0x11d)]*this[_0x4bc072(0xf2)]['h'],map['x']+this[_0x4bc072(0xf2)]['x']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,map['y']+this['atkBox']['y']*GLOBAL['tileSize']*GLOBAL[_0x4bc072(0x14b)]|0x0,this[_0x4bc072(0xf2)]['w']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,this[_0x4bc072(0xf2)]['h']*GLOBAL[_0x4bc072(0x11d)]*GLOBAL[_0x4bc072(0x14b)]|0x0),this[_0x4bc072(0x139)]--);}}var player=new Player();setInterval(countFps,0x3e8);function countFps(){const _0x204b78=_0x612235;id('fps')[_0x204b78(0x126)]='FPS:\x20'+GLOBAL[_0x204b78(0x10e)],GLOBAL[_0x204b78(0x10e)]=0x0;}function displayDebug(){const _0xe45ce3=_0x612235;id('px')[_0xe45ce3(0x126)]=_0xe45ce3(0x120)+player['x'],id('py')['innerHTML']=_0xe45ce3(0x12e)+player['y'],id('pg')[_0xe45ce3(0x126)]=_0xe45ce3(0xfc),id('pg')[_0xe45ce3(0x126)]+='<br>L:\x20'+player[_0xe45ce3(0xd7)]['L'],id('pg')[_0xe45ce3(0x126)]+='<br>R:\x20'+player[_0xe45ce3(0xd7)]['R'],id('pg')[_0xe45ce3(0x126)]+='<br>T:\x20'+player[_0xe45ce3(0xd7)]['T'],id('pg')[_0xe45ce3(0x126)]+=_0xe45ce3(0x109)+player[_0xe45ce3(0xd7)]['B'];}function checkCollisions(){const _0x3d928e=_0x612235;let _0x1c330d=map[_0x3d928e(0xbf)],_0x333556=map[_0x3d928e(0xfd)],_0x19d801='none';player['col']['L']=0x0,player[_0x3d928e(0xf9)]['R']=0x0,player[_0x3d928e(0xf9)]['T']=0x0,player['col']['B']=0x0,player[_0x3d928e(0xd7)]['L']=![],player[_0x3d928e(0xd7)]['R']=![],player['colBool']['T']=![],player[_0x3d928e(0xd7)]['B']=![];for(let _0x45603d=0x0;_0x45603d<_0x1c330d[_0x3d928e(0xc3)];_0x45603d++){if(collided(player,_0x1c330d[_0x45603d])){_0x19d801=colCheck(player,_0x1c330d[_0x45603d]);switch(_0x19d801){case'l':player[_0x3d928e(0xe6)]<0x0&&(player[_0x3d928e(0xf9)]['L']>player['xVel']&&(player[_0x3d928e(0xd7)]['L']=!![],player[_0x3d928e(0xbe)]=0x0));break;case'r':player[_0x3d928e(0xbe)]>0x0&&(player[_0x3d928e(0xf9)]['R']<player[_0x3d928e(0xbe)]&&(player[_0x3d928e(0xd7)]['R']=!![],player[_0x3d928e(0xbe)]=0x0));break;case't':player['yVel']<0x0&&(player['yVel']=0x0);player[_0x3d928e(0xd7)]['T']=!![];break;case'b':player['yVel']>0x0&&(player[_0x3d928e(0xe6)]=0x0);player[_0x3d928e(0xd7)]['B']=!![];break;}}}player[_0x3d928e(0xd7)]['B']&&(player[_0x3d928e(0xf9)]['B']-=0.015625),player[_0x3d928e(0xd7)]['L']&&(player['col']['L']-=0.015625),player[_0x3d928e(0xd7)]['R']&&(player[_0x3d928e(0xf9)]['R']-=0.015625),player['x']-=player['col']['R']-player[_0x3d928e(0xf9)]['L'],player['y']-=player[_0x3d928e(0xf9)]['B']-player['col']['T'];}class Monster{constructor(_0x20b0cc,_0x17a2ee){const _0xa0d45c=_0x612235;this[_0xa0d45c(0x124)]=_0xa0d45c(0x127),this['x']=_0x20b0cc,this['y']=_0x17a2ee,this['w']=0x1,this['h']=0x1,this[_0xa0d45c(0xbe)]=0x0,this[_0xa0d45c(0xe6)]=0x0,this[_0xa0d45c(0x12a)]=0.1,this['frames']=0xa,this[_0xa0d45c(0x139)]=![],this[_0xa0d45c(0x147)]=0x3,this[_0xa0d45c(0xef)]=![],this[_0xa0d45c(0x102)]=![],this[_0xa0d45c(0xc5)]=0x0,this[_0xa0d45c(0xc9)]=0x0,this[_0xa0d45c(0x10a)]=0x3,this[_0xa0d45c(0x106)]={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this[_0xa0d45c(0x103)]=0x0,this[_0xa0d45c(0x125)]=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this[_0xa0d45c(0xbc)]=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this[_0xa0d45c(0xf2)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x612235(0xf0)](){const _0x2fbfc1=_0x612235;this[_0x2fbfc1(0xc7)]--;if(this[_0x2fbfc1(0xc7)]<=0x0){this[_0x2fbfc1(0xc7)]=0xa;if(!this[_0x2fbfc1(0x139)]){this[_0x2fbfc1(0xf2)]['x']=this['x']-this[_0x2fbfc1(0x147)],this[_0x2fbfc1(0xf2)]['y']=this['y']-this[_0x2fbfc1(0x147)],this[_0x2fbfc1(0xf2)]['w']=this['w']+this[_0x2fbfc1(0x147)]*0x2,this[_0x2fbfc1(0xf2)]['h']=this['h']+this[_0x2fbfc1(0x147)]*0x2;if(collided(this[_0x2fbfc1(0xf2)],player)){this[_0x2fbfc1(0x139)]=!![];let _0x1aff7d=this['x']+this['w']/0x2,_0x222e54=this['y']+this['h']/0x2,_0x24d036=_0x1aff7d-(player['x']+player['w']/0x2),_0x123c08=_0x222e54-(player['y']+player['h']/0x2),_0x2c9a03=Math['atan2'](_0x123c08,_0x24d036);this[_0x2fbfc1(0xbe)]=-Math[_0x2fbfc1(0x134)](_0x2c9a03)*this['speed'],this[_0x2fbfc1(0xe6)]=-Math[_0x2fbfc1(0xf6)](_0x2c9a03)*this[_0x2fbfc1(0x12a)];}}else!this[_0x2fbfc1(0xef)]&&collided(this,player)&&(player[_0x2fbfc1(0x131)]>0x0&&player['iFrame']==0x0&&(player[_0x2fbfc1(0x131)]--,playerInterface[_0x2fbfc1(0xf7)]=0x4,player[_0x2fbfc1(0xb9)]=!![]));}this['x']+=this[_0x2fbfc1(0xbe)],this['y']+=this[_0x2fbfc1(0xe6)],this['hitbox']['x']=this['x']+this['w']/0x2,this[_0x2fbfc1(0x106)]['y']=this['y'];}[_0x612235(0x122)](){const _0x1975b9=_0x612235;this[_0x1975b9(0xef)]&&!this[_0x1975b9(0x102)]&&(this[_0x1975b9(0x103)]=0x1,this[_0x1975b9(0xc9)]=0x0,this[_0x1975b9(0xc5)]=0x0,this[_0x1975b9(0x102)]=!![]),this[_0x1975b9(0xc9)]++,this[_0x1975b9(0xc9)]>this['slowness']&&(this[_0x1975b9(0xc5)]++,this[_0x1975b9(0xc9)]=0x0),this['currentFrame']>=this[_0x1975b9(0x125)][this[_0x1975b9(0x103)]]['length']&&(this['currentFrame']=0x0,this[_0x1975b9(0x102)]&&(this['action']=0x2)),c[_0x1975b9(0xb7)](SPRITESHEET,this[_0x1975b9(0x125)][this[_0x1975b9(0x103)]][this[_0x1975b9(0xc5)]]*GLOBAL[_0x1975b9(0x11d)]|0x0,this[_0x1975b9(0xbc)][this['action']][this['currentFrame']]*GLOBAL[_0x1975b9(0x11d)]|0x0,GLOBAL[_0x1975b9(0x11d)],GLOBAL['tileSize'],map['x']+this['x']*GLOBAL[_0x1975b9(0x11d)]*GLOBAL[_0x1975b9(0x14b)]|0x0,map['y']+this['y']*GLOBAL[_0x1975b9(0x11d)]*GLOBAL[_0x1975b9(0x14b)]|0x0,this['w']*GLOBAL['tileSize']*GLOBAL[_0x1975b9(0x14b)]|0x0,this['h']*GLOBAL[_0x1975b9(0x11d)]*GLOBAL[_0x1975b9(0x14b)]|0x0);}}class TeaMonster{constructor(_0x23b43c,_0x4193f4){const _0x5c9ec8=_0x612235;this['x']=_0x23b43c,this['y']=_0x4193f4,this['w']=0x1,this['h']=0x1,this[_0x5c9ec8(0xbe)]=0x0,this[_0x5c9ec8(0xe6)]=0x0,this[_0x5c9ec8(0x12a)]=0.1,this[_0x5c9ec8(0xc7)]=0xa,this['attacking']=![],this[_0x5c9ec8(0x147)]=0x3,this['dead']=![],this[_0x5c9ec8(0x102)]=![],this[_0x5c9ec8(0xc5)]=0x0,this['frameCounter']=0x0,this['type']=_0x5c9ec8(0x138),this['dead']=![],this[_0x5c9ec8(0x10a)]=0x3,this['atkCounter']=0x0,this['downCounter']=0x0,this['down']=0x0,this['w']=0x3,this['h']=0x3,this[_0x5c9ec8(0x103)]=0x0,this[_0x5c9ec8(0x106)]={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this[_0x5c9ec8(0xf2)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x5c9ec8(0x125)]=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this[_0x5c9ec8(0xbc)]=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}[_0x612235(0xf0)](){const _0x38b930=_0x612235;this[_0x38b930(0x106)]['x']=this['x']-this[_0x38b930(0xdf)],this[_0x38b930(0x106)]['y']=this['y']+this[_0x38b930(0xdf)],this[_0x38b930(0x106)]['w']=this['w']+this['down'],this[_0x38b930(0x106)]['h']=this['h']-this[_0x38b930(0xdf)],this['down']&&this[_0x38b930(0xe4)]===0x1&&(collided(this,player)&&(player[_0x38b930(0xc1)]==0x0&&(player['attacked']=!![],player['xVelExt']=-0x2,player['healthAmount']-=0x2,player[_0x38b930(0x131)]<0x0&&(player[_0x38b930(0x131)]=0x0))));}['render'](){const _0x423c2d=_0x612235;this[_0x423c2d(0xef)]=![],this[_0x423c2d(0xc9)]++,this[_0x423c2d(0xc9)]>this[_0x423c2d(0x10a)]&&(this[_0x423c2d(0xc5)]++,this['frameCounter']=0x0),this[_0x423c2d(0xc5)]>=this[_0x423c2d(0x125)][this[_0x423c2d(0x103)]][_0x423c2d(0xc3)]&&(this['currentFrame']=0x0,this[_0x423c2d(0x103)]==0x1&&(this[_0x423c2d(0x103)]=0x2),this[_0x423c2d(0x103)]==0x2&&this[_0x423c2d(0xd8)]++==0x2&&(this[_0x423c2d(0x103)]=0x3),this[_0x423c2d(0x103)]==0x3&&(this[_0x423c2d(0xdf)]=0x1,this['downCounter']++,this['downCounter']==0x3&&(this[_0x423c2d(0xdf)]=0x0,this[_0x423c2d(0x103)]=0x0,this[_0x423c2d(0xe4)]=0x0,this[_0x423c2d(0xd8)]=0x0))),player['x']>this['x']-this[_0x423c2d(0x147)]&&this[_0x423c2d(0x103)]<0x1&&(this[_0x423c2d(0x103)]=0x1,this[_0x423c2d(0xc5)]=0x0,this[_0x423c2d(0xc9)]=0x0),c[_0x423c2d(0xb7)](SPRITESHEET,this['actionX'][this[_0x423c2d(0x103)]][this['currentFrame']]*GLOBAL['tileSize']|0x0,this[_0x423c2d(0xbc)][this['action']][this[_0x423c2d(0xc5)]]*GLOBAL[_0x423c2d(0x11d)]|0x0,(this['w']+this['down'])*GLOBAL[_0x423c2d(0x11d)],this['h']*GLOBAL['tileSize'],map['x']+(this['x']-this[_0x423c2d(0xdf)])*GLOBAL[_0x423c2d(0x11d)]*GLOBAL[_0x423c2d(0x14b)]|0x0,map['y']+this['y']*GLOBAL[_0x423c2d(0x11d)]*GLOBAL[_0x423c2d(0x14b)]|0x0,(this['w']+this[_0x423c2d(0xdf)])*GLOBAL['tileSize']*GLOBAL[_0x423c2d(0x14b)]|0x0,this['h']*GLOBAL[_0x423c2d(0x11d)]*GLOBAL[_0x423c2d(0x14b)]|0x0);}}function _0x4566(){const _0x5365b5=['height','mapObject','<br>Collisions\x20','enemies','chargingAmount','atan2','follow','FPS','deathAnimation','action','[yJVGACCSDqLjjBwXywZTmVMIBPLwpzZyIxNMwkJOzqkYTUWjZEDyALWLXmvGNQfT]','2Vscafl','hitbox','renderFgTiles','9462180kALOoy','<br>B:\x20','slowness','renderEnemies','maxSpeed','canvas','fpsCounter','renderTiles','renderBgTiles','imageSmoothingEnabled','fgTiles','f_action','stack','health','downRel','slice','backgroundPosY','width','fillStyle','right2','456cCsjkE','tileSize','onload','heartsY','x:\x20','opener','render','fromCharCode','type','actionX','innerHTML','monster','f_frameCounter','attack','speed','gForce','push','abs','y:\x20','f_slowness','backgroundsX','healthAmount','object','f_currentFrame','cos','stroke','random','return\x20(function()\x20','tea','attacking','disabled','48750CMtycB','fistY','getElementById','bgTiles','accel','xVelExt','computeEnemies','split','3709312Dctpas','map','#08141e','distance','range','charCodeAt','left2','backgroundSizeH','ratio','left','54kZaNaM','laser','moveCamera','drawImage','friction','attacked','#ffffff','renderBackground','actionY','healthX','xVel','tiles','apply','iFrame','2019279maohZW','length','syJaVGACCaSDqntoLnjanjBwdXywreZT.mgViMtIBPLhuwpb.ziZo;yIloxNMwckalhJoOzsqkYTtUWjZEDyALWLXmvGNQfT','currentFrame','44492WbldUU','frames','backgroundsY','frameCounter','jumping','splice','heartsX','fillRect','create','down2','safe\x20eval','getContext','rightRel','yVelExt','leftRel','jumpSpeed','terminalVel','colBool','atkCounter','log','iFrameMax','shakeAmountX','clearRect','#20394f','replace','down','6967233eyIDVQ','yaHPbMCKqUoRuZt:blapfjnkYcUKmgYJiMjHqxqPZdBd','charging','mage','downCounter','fistX','yVel','fist','spritesheet-bg','up2','backgroundPosX','spawnPoint','{}.constructor(\x22return\x20this\x22)(\x20)','643315enFuSc','healthY','dead','compute','shakeAmountY','atkBox','healthMaxValue','upRel','backgroundSheet','sin','shake','backgroundSizeW','col'];_0x4566=function(){return _0x5365b5;};return _0x4566();}class MageAttack{constructor(_0x853c57,_0x320054){const _0x3a578a=_0x612235;this['x']=_0x853c57,this['y']=0x0,this['w']=0x2,this['h']=0xf,this['currentFrame']=0x0,this[_0x3a578a(0xc9)]=0x0,this['type']=_0x3a578a(0x129),this[_0x3a578a(0x13a)]=!![],this[_0x3a578a(0x10a)]=0x3,this['attacking']=![],this['action']=0x0,this[_0x3a578a(0x125)]=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this[_0x3a578a(0xbc)]=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this['distance']=0x0,this[_0x3a578a(0x12a)]=0.3,this[_0x3a578a(0x100)]=!![],this[_0x3a578a(0x106)]={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}[_0x612235(0xf0)](){const _0x2e801d=_0x612235;this[_0x2e801d(0x146)]=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this[_0x2e801d(0x100)]){if(this[_0x2e801d(0x146)]<0x0)this['x']+=this[_0x2e801d(0x146)]/0xa;else this[_0x2e801d(0x146)]>0x0&&(this['x']+=this[_0x2e801d(0x146)]/0xa);}this[_0x2e801d(0x106)]['x']=this['x']+(this['w']-this['hitbox']['w'])/0x2,this[_0x2e801d(0xc5)]>0x5&&this[_0x2e801d(0xc5)]<0x9&&(this[_0x2e801d(0x100)]=![],collided(this,player)&&(player[_0x2e801d(0x131)]>0x0&&player['iFrame']==0x0&&(player[_0x2e801d(0x131)]-=0x2,playerInterface['shake']=0x4,player[_0x2e801d(0xb9)]=!![])));}['render'](){const _0x1d163b=_0x612235;this['frameCounter']++,this['frameCounter']>this[_0x1d163b(0x10a)]&&(this[_0x1d163b(0xc5)]++,this[_0x1d163b(0xc9)]=0x0),this[_0x1d163b(0xc5)]>=this[_0x1d163b(0x125)][this[_0x1d163b(0x103)]]['length']&&(this[_0x1d163b(0xc5)]=0x0,this[_0x1d163b(0x13a)]=!![]),c[_0x1d163b(0xb7)](SPRITESHEET,this['actionX'][this[_0x1d163b(0x103)]][this[_0x1d163b(0xc5)]]*GLOBAL[_0x1d163b(0x11d)]|0x0,this['actionY'][this[_0x1d163b(0x103)]][this['currentFrame']]*GLOBAL[_0x1d163b(0x11d)]|0x0,this['w']*GLOBAL['tileSize'],this['h']*GLOBAL[_0x1d163b(0x11d)],map['x']+this['x']*GLOBAL[_0x1d163b(0x11d)]*GLOBAL[_0x1d163b(0x14b)]|0x0,this['y']*GLOBAL[_0x1d163b(0x11d)]*GLOBAL[_0x1d163b(0x14b)]|0x0,this['w']*GLOBAL[_0x1d163b(0x11d)]*GLOBAL[_0x1d163b(0x14b)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x1d163b(0x14b)]|0x0);}}class MageMonster{constructor(_0x6d08bf,_0x1c63c1){const _0x2dfc9f=_0x612235;this['x']=_0x6d08bf,this['y']=_0x1c63c1,this['w']=0x1,this['h']=0x1,this[_0x2dfc9f(0xbe)]=0x0,this[_0x2dfc9f(0xe6)]=0x0,this[_0x2dfc9f(0x12a)]=0.1,this['frames']=0xa,this[_0x2dfc9f(0x139)]=![],this[_0x2dfc9f(0x147)]=0x4,this['dead']=![],this[_0x2dfc9f(0x102)]=![],this[_0x2dfc9f(0xc5)]=0x0,this[_0x2dfc9f(0xc9)]=0x0,this['type']=_0x2dfc9f(0xe3),this['dead']=![],this[_0x2dfc9f(0x10a)]=0x3,this[_0x2dfc9f(0xd8)]=0x0,this[_0x2dfc9f(0xe4)]=0x0,this['down']=0x0,this['w']=0x2,this['h']=0x2,this[_0x2dfc9f(0x103)]=0x0,this[_0x2dfc9f(0x106)]={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this[_0x2dfc9f(0xf2)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x2dfc9f(0xb5)]=new MageAttack(0x0,0x0),this[_0x2dfc9f(0x125)]=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this[_0x2dfc9f(0xbc)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}[_0x612235(0xf0)](){const _0x1074fa=_0x612235;this[_0x1074fa(0xc7)]--,this[_0x1074fa(0xc7)]<=0x0&&(this[_0x1074fa(0xc7)]=0xa,collided(this['atkBox'],player)?(this[_0x1074fa(0x139)]=!![],this[_0x1074fa(0xb5)][_0x1074fa(0x13a)]&&(this[_0x1074fa(0xb5)]['disabled']=![],this['laser'][_0x1074fa(0x100)]=!![],this[_0x1074fa(0xb5)]['x']=this['x'])):this[_0x1074fa(0x139)]=![],!this[_0x1074fa(0x139)]?(this[_0x1074fa(0xf2)]['x']=this['x']-this[_0x1074fa(0x147)],this[_0x1074fa(0xf2)]['y']=this['y']-this[_0x1074fa(0x147)],this[_0x1074fa(0xf2)]['w']=this['w']+this[_0x1074fa(0x147)]*0x2,this[_0x1074fa(0xf2)]['h']=this['h']+this[_0x1074fa(0x147)]*0x2):!this['dead']&&collided(this,player)&&(player[_0x1074fa(0x131)]>0x0&&player[_0x1074fa(0xc1)]==0x0&&(player[_0x1074fa(0x131)]--,playerInterface['shake']=0x4,player['attacked']=!![])));}['render'](){const _0x2f106a=_0x612235;!this[_0x2f106a(0xb5)][_0x2f106a(0x13a)]&&(this['laser'][_0x2f106a(0xf0)](),this[_0x2f106a(0xb5)][_0x2f106a(0x122)]()),this[_0x2f106a(0xef)]=![],this['attacking']?this[_0x2f106a(0x103)]=0x1:this['action']=0x0,this['frameCounter']++,this[_0x2f106a(0xc9)]>this[_0x2f106a(0x10a)]&&(this[_0x2f106a(0xc5)]++,this['frameCounter']=0x0),this[_0x2f106a(0xc5)]>=this[_0x2f106a(0x125)][this[_0x2f106a(0x103)]][_0x2f106a(0xc3)]&&(this[_0x2f106a(0xc5)]=0x0),c[_0x2f106a(0xb7)](SPRITESHEET,this[_0x2f106a(0x125)][this[_0x2f106a(0x103)]][this['currentFrame']]*GLOBAL['tileSize']|0x0,this[_0x2f106a(0xbc)][this[_0x2f106a(0x103)]][this[_0x2f106a(0xc5)]]*GLOBAL[_0x2f106a(0x11d)]|0x0,(this['w']+this[_0x2f106a(0xdf)])*GLOBAL[_0x2f106a(0x11d)],this['h']*GLOBAL[_0x2f106a(0x11d)],map['x']+(this['x']-this[_0x2f106a(0xdf)])*GLOBAL[_0x2f106a(0x11d)]*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL[_0x2f106a(0x14b)]|0x0,(this['w']+this['down'])*GLOBAL[_0x2f106a(0x11d)]*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x2f106a(0x11d)]*GLOBAL[_0x2f106a(0x14b)]|0x0);}}class Map{constructor(){const _0x48fcba=_0x612235;this['tilesWidth']=canvas[_0x48fcba(0x119)]/GLOBAL[_0x48fcba(0x11d)]/GLOBAL[_0x48fcba(0x14b)],this['tilesHeight']=canvas[_0x48fcba(0xfa)]/GLOBAL['tileSize']/GLOBAL['ratio'],this['x']=0x0,this['y']=0x0,this[_0x48fcba(0xf5)]=id(_0x48fcba(0xe8)),this[_0x48fcba(0x130)]=[0x0,0x0,0x0],this[_0x48fcba(0xc8)]=[0x0,0x96,0x12c],this[_0x48fcba(0xf8)]=0x1c2,this[_0x48fcba(0x14a)]=0x96,this[_0x48fcba(0xea)]=[0x0,0x0,0x0],this[_0x48fcba(0x118)]=[0x0,0x0,0x0],this[_0x48fcba(0x13e)]=[],this[_0x48fcba(0x112)]=[],this[_0x48fcba(0x144)]=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this[_0x48fcba(0xeb)]={'x':0xa,'y':0x0},this[_0x48fcba(0xbf)]=[],this[_0x48fcba(0xfd)]=[];}['moveCamera'](){const _0x2cc98d=_0x612235;this['x']=-(player['x']-0x8)*GLOBAL['tileSize']*GLOBAL[_0x2cc98d(0x14b)],this['y']=-(player['y']-0x8)*GLOBAL['tileSize']*GLOBAL[_0x2cc98d(0x14b)];}[_0x612235(0x10f)](){const _0xa8009e=_0x612235;for(let _0x2b7bfc=0x0;_0x2b7bfc<this[_0xa8009e(0xbf)][_0xa8009e(0xc3)];_0x2b7bfc++){renderTile(this[_0xa8009e(0xbf)][_0x2b7bfc]);}}['renderBgTiles'](){const _0x4054b5=_0x612235;for(let _0x154d39=0x0;_0x154d39<this[_0x4054b5(0x13e)][_0x4054b5(0xc3)];_0x154d39++){renderTile(this[_0x4054b5(0x13e)][_0x154d39]);}}[_0x612235(0x107)](){const _0x2c0aaf=_0x612235;for(let _0x357599=0x0;_0x357599<this['fgTiles'][_0x2c0aaf(0xc3)];_0x357599++){renderTile(this['tiles'][_0x357599]);}}['renderEnemies'](){const _0x4081d5=_0x612235;for(let _0x15d9d3=0x0;_0x15d9d3<this[_0x4081d5(0xfd)]['length'];_0x15d9d3++){this[_0x4081d5(0xfd)][_0x15d9d3][_0x4081d5(0x122)]();}}[_0x612235(0xbb)](){const _0x5e3c56=_0x612235;this['backgroundPosX'][0x1]+=0.6,this['backgroundPosX'][0x2]+=0.3;this[_0x5e3c56(0xea)][0x0]>this[_0x5e3c56(0xf8)]*GLOBAL[_0x5e3c56(0x14b)]&&(this['backgroundPosX'][0x0]-=this[_0x5e3c56(0xf8)]*GLOBAL[_0x5e3c56(0x14b)]);this[_0x5e3c56(0xea)][0x1]>this['backgroundSizeW']*GLOBAL[_0x5e3c56(0x14b)]&&(this[_0x5e3c56(0xea)][0x1]-=this['backgroundSizeW']*GLOBAL[_0x5e3c56(0x14b)]);this[_0x5e3c56(0xea)][0x2]>this['backgroundSizeW']*GLOBAL[_0x5e3c56(0x14b)]&&(this[_0x5e3c56(0xea)][0x2]-=this[_0x5e3c56(0xf8)]*GLOBAL[_0x5e3c56(0x14b)]);for(let _0x30ce9b=-0x1;_0x30ce9b<0x2;_0x30ce9b++){c[_0x5e3c56(0xb7)](this[_0x5e3c56(0xf5)],this[_0x5e3c56(0x130)][0x2]|0x0,this[_0x5e3c56(0xc8)][0x2]|0x0,this[_0x5e3c56(0xf8)],this[_0x5e3c56(0x14a)],this[_0x5e3c56(0xf8)]*GLOBAL[_0x5e3c56(0x14b)]*_0x30ce9b+this[_0x5e3c56(0xea)][0x2]+this['x']/0x8,this[_0x5e3c56(0x118)][0x2],this[_0x5e3c56(0xf8)]*GLOBAL['ratio'],this[_0x5e3c56(0x14a)]*GLOBAL['ratio']);}for(let _0x19ef3c=-0x1;_0x19ef3c<0x2;_0x19ef3c++){c[_0x5e3c56(0xb7)](this[_0x5e3c56(0xf5)],this['backgroundsX'][0x1]|0x0,this['backgroundsY'][0x1]|0x0,this[_0x5e3c56(0xf8)],this['backgroundSizeH'],this[_0x5e3c56(0xf8)]*GLOBAL[_0x5e3c56(0x14b)]*_0x19ef3c+this[_0x5e3c56(0xea)][0x1]+this['x']/0x6,this[_0x5e3c56(0x118)][0x1],this[_0x5e3c56(0xf8)]*GLOBAL['ratio'],this[_0x5e3c56(0x14a)]*GLOBAL[_0x5e3c56(0x14b)]);}for(let _0x2a72d3=-0x1;_0x2a72d3<0x2;_0x2a72d3++){c[_0x5e3c56(0xb7)](this['backgroundSheet'],this[_0x5e3c56(0x130)][0x0]|0x0,this[_0x5e3c56(0xc8)][0x0]|0x0,this[_0x5e3c56(0xf8)],this[_0x5e3c56(0x14a)],this[_0x5e3c56(0xf8)]*GLOBAL['ratio']*_0x2a72d3+this[_0x5e3c56(0xea)][0x0]+this['x']/0x4,this[_0x5e3c56(0x118)][0x0],this[_0x5e3c56(0xf8)]*GLOBAL[_0x5e3c56(0x14b)],this[_0x5e3c56(0x14a)]*GLOBAL[_0x5e3c56(0x14b)]);}c[_0x5e3c56(0x11a)]=_0x5e3c56(0xdd),c[_0x5e3c56(0xcd)](0x0,this[_0x5e3c56(0xc8)][0x0]+this[_0x5e3c56(0x14a)]*GLOBAL[_0x5e3c56(0x14b)],canvas[_0x5e3c56(0x119)],this['backgroundSizeH']*GLOBAL[_0x5e3c56(0x14b)]);}[_0x612235(0x141)](){const _0x3168f4=_0x612235;for(let _0x1151bb=0x0;_0x1151bb<this[_0x3168f4(0xfd)]['length'];_0x1151bb++){this['enemies'][_0x1151bb][_0x3168f4(0xf0)]();}}}var map=new Map(),mapTester=!![];window[_0x612235(0x121)]?window[_0x612235(0x121)]['mapObject']?(debug[_0x612235(0xd9)](window['opener'][_0x612235(0xfb)]),safeEval(window[_0x612235(0x121)][_0x612235(0xfb)]),initializeMap()):(safeEval(window[_0x612235(0x121)]['map']),initializeMap()):mapTester=![];function safeEval(_0x30ebaa){const _0x261725=_0x612235;typeof _0x30ebaa===_0x261725(0x132)&&_0x30ebaa!==null&&(map['map']=Object['create'](_0x30ebaa[_0x261725(0x144)]),map['spawnPoint']=Object[_0x261725(0xce)](_0x30ebaa[_0x261725(0xeb)]),console[_0x261725(0xd9)](_0x261725(0xd0)));}function renderTile(_0x3a0085){const _0x116244=_0x612235;if(_0x3a0085[_0x116244(0x114)])c[_0x116244(0xb7)](SPRITESHEET,tiles[_0x3a0085['type']][0x0]*GLOBAL[_0x116244(0x11d)]|0x0,tiles[_0x3a0085[_0x116244(0x124)]][0x1]*GLOBAL['tileSize']|0x0,_0x3a0085['w']*GLOBAL[_0x116244(0x11d)],_0x3a0085['h']*GLOBAL[_0x116244(0x11d)],map['x']+_0x3a0085['x']*GLOBAL[_0x116244(0x11d)]*GLOBAL[_0x116244(0x14b)]|0x0,map['y']+_0x3a0085['y']*GLOBAL[_0x116244(0x11d)]*GLOBAL[_0x116244(0x14b)]|0x0,_0x3a0085['w']*GLOBAL[_0x116244(0x11d)]*GLOBAL['ratio']|0x0,_0x3a0085['h']*GLOBAL['tileSize']*GLOBAL[_0x116244(0x14b)]|0x0);else for(let _0x307b6e=0x0;_0x307b6e<_0x3a0085['w'];_0x307b6e++){for(let _0x64b0dd=0x0;_0x64b0dd<_0x3a0085['h'];_0x64b0dd++){c[_0x116244(0xb7)](SPRITESHEET,tiles[_0x3a0085['type']][0x0]*GLOBAL[_0x116244(0x11d)]|0x0,tiles[_0x3a0085[_0x116244(0x124)]][0x1]*GLOBAL[_0x116244(0x11d)]|0x0,GLOBAL[_0x116244(0x11d)],GLOBAL[_0x116244(0x11d)],map['x']+(_0x3a0085['x']+_0x307b6e)*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,map['y']+(_0x3a0085['y']+_0x64b0dd)*GLOBAL[_0x116244(0x11d)]*GLOBAL[_0x116244(0x14b)]|0x0,GLOBAL['tileSize']*GLOBAL['ratio']|0x0,GLOBAL[_0x116244(0x11d)]*GLOBAL['ratio']|0x0);}}}function gameLoop(){const _0x194bbc=_0x612235;GLOBAL['fpsCounter']++,setTimeout(gameLoop,0x3e8/GLOBAL[_0x194bbc(0x101)]),c[_0x194bbc(0xdc)](0x0,0x0,canvas[_0x194bbc(0x119)],canvas[_0x194bbc(0xfa)]),c[_0x194bbc(0x11a)]=_0x194bbc(0x145),c[_0x194bbc(0xcd)](0x0,0x0,canvas[_0x194bbc(0x119)],canvas[_0x194bbc(0xfa)]),renderStars(),map[_0x194bbc(0xbb)](),map['renderTiles'](),map[_0x194bbc(0x110)](),player['compute'](),checkCollisions(),map[_0x194bbc(0x141)](),map[_0x194bbc(0x10b)](),player[_0x194bbc(0x122)](),playerInterface[_0x194bbc(0x122)](),map[_0x194bbc(0xb6)](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0x5f485c=_0x612235;player['x']=map[_0x5f485c(0xeb)]['x'],player['y']=map[_0x5f485c(0xeb)]['y'],map['tiles']=map[_0x5f485c(0x144)];var _0x48bfba=[];for(let _0x25eb8a=map[_0x5f485c(0xbf)][_0x5f485c(0xc3)]-0x1;_0x25eb8a>=0x0;_0x25eb8a--){switch(map[_0x5f485c(0xbf)][_0x25eb8a][_0x5f485c(0x124)]){case 0xd:map['enemies'][_0x5f485c(0x12c)](new Monster(map['tiles'][_0x25eb8a]['x'],map[_0x5f485c(0xbf)][_0x25eb8a]['y'])),_0x48bfba[_0x5f485c(0x12c)](_0x25eb8a);break;case 0xe:map[_0x5f485c(0xfd)][_0x5f485c(0x12c)](new TeaMonster(map[_0x5f485c(0xbf)][_0x25eb8a]['x'],map[_0x5f485c(0xbf)][_0x25eb8a]['y'])),_0x48bfba[_0x5f485c(0x12c)](_0x25eb8a);break;case 0xf:map['enemies'][_0x5f485c(0x12c)](new MageMonster(map[_0x5f485c(0xbf)][_0x25eb8a]['x'],map[_0x5f485c(0xbf)][_0x25eb8a]['y'])),_0x48bfba[_0x5f485c(0x12c)](_0x25eb8a);break;}}for(let _0xcd464c=0x0;_0xcd464c<_0x48bfba[_0x5f485c(0xc3)];_0xcd464c++){map[_0x5f485c(0xbf)][_0x5f485c(0xcb)](_0x48bfba[_0xcd464c],0x1);}}