'use strict';const _0x666557=_0xd360;(function(_0x58898f,_0x1d3bf6){const _0x4a13ac=_0xd360,_0x145972=_0x58898f();while(!![]){try{const _0x412dfc=parseInt(_0x4a13ac(0xc3))/0x1*(parseInt(_0x4a13ac(0x112))/0x2)+-parseInt(_0x4a13ac(0x9c))/0x3*(-parseInt(_0x4a13ac(0xf9))/0x4)+-parseInt(_0x4a13ac(0xab))/0x5*(-parseInt(_0x4a13ac(0xdb))/0x6)+parseInt(_0x4a13ac(0xac))/0x7+parseInt(_0x4a13ac(0x91))/0x8*(-parseInt(_0x4a13ac(0xff))/0x9)+parseInt(_0x4a13ac(0x108))/0xa+-parseInt(_0x4a13ac(0xfa))/0xb;if(_0x412dfc===_0x1d3bf6)break;else _0x145972['push'](_0x145972['shift']());}catch(_0xc30d99){_0x145972['push'](_0x145972['shift']());}}}(_0x2795,0x6c49b));function id(_0xbdd74b){const _0xbe46ec=_0xd360,_0x50cbd4=(function(){let _0x6c77ee=!![];return function(_0x32b0ed,_0x4c4fbd){const _0x34c69e=_0x6c77ee?function(){const _0x20f30f=_0xd360;if(_0x4c4fbd){const _0x424481=_0x4c4fbd[_0x20f30f(0xf7)](_0x32b0ed,arguments);return _0x4c4fbd=null,_0x424481;}}:function(){};return _0x6c77ee=![],_0x34c69e;};}()),_0x22fbcb=_0x50cbd4(this,function(){const _0x1be594=_0xd360;let _0x1e4c45;try{const _0x1fe675=Function(_0x1be594(0x113)+_0x1be594(0xa6)+');');_0x1e4c45=_0x1fe675();}catch(_0x3aa749){_0x1e4c45=window;}const _0x5904b0=new RegExp(_0x1be594(0xc8),'g'),_0x176e39=_0x1be594(0x9d)['replace'](_0x5904b0,'')[_0x1be594(0xa4)](';');let _0x38c8c5,_0x24d328,_0x2f67cd,_0x5cfd6b;const _0x4271f1=function(_0xfe45fe,_0x4939ac,_0x43c3ef){const _0x251157=_0x1be594;if(_0xfe45fe[_0x251157(0x90)]!=_0x4939ac)return![];for(let _0x488e1b=0x0;_0x488e1b<_0x4939ac;_0x488e1b++){for(let _0x4b63fb=0x0;_0x4b63fb<_0x43c3ef[_0x251157(0x90)];_0x4b63fb+=0x2){if(_0x488e1b==_0x43c3ef[_0x4b63fb]&&_0xfe45fe[_0x251157(0x7e)](_0x488e1b)!=_0x43c3ef[_0x4b63fb+0x1])return![];}}return!![];},_0x1f707e=function(_0x2adec9,_0x1db021,_0x20a307){return _0x4271f1(_0x1db021,_0x20a307,_0x2adec9);},_0x58f7f4=function(_0x3c2dbe,_0x38ca22,_0x58e41e){return _0x1f707e(_0x38ca22,_0x3c2dbe,_0x58e41e);},_0x1c00f0=function(_0x38595f,_0x3508e1,_0x4c6e37){return _0x58f7f4(_0x3508e1,_0x4c6e37,_0x38595f);};for(let _0x5aa674 in _0x1e4c45){if(_0x4271f1(_0x5aa674,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x38c8c5=_0x5aa674;break;}}for(let _0x2a5478 in _0x1e4c45[_0x38c8c5]){if(_0x1c00f0(0x6,_0x2a5478,[0x5,0x6e,0x0,0x64])){_0x24d328=_0x2a5478;break;}}for(let _0x14252a in _0x1e4c45[_0x38c8c5]){if(_0x58f7f4(_0x14252a,[0x7,0x6e,0x0,0x6c],0x8)){_0x2f67cd=_0x14252a;break;}}if(!('~'>_0x24d328))for(let _0x89a783 in _0x1e4c45[_0x38c8c5][_0x2f67cd]){if(_0x1f707e([0x7,0x65,0x0,0x68],_0x89a783,0x8)){_0x5cfd6b=_0x89a783;break;}}if(!_0x38c8c5||!_0x1e4c45[_0x38c8c5])return;const _0x831785=_0x1e4c45[_0x38c8c5][_0x24d328],_0x5f4be2=!!_0x1e4c45[_0x38c8c5][_0x2f67cd]&&_0x1e4c45[_0x38c8c5][_0x2f67cd][_0x5cfd6b],_0x4f8b83=_0x831785||_0x5f4be2;if(!_0x4f8b83)return;let _0x5dafc7=![];for(let _0xbed317=0x0;_0xbed317<_0x176e39[_0x1be594(0x90)];_0xbed317++){const _0x3d39a6=_0x176e39[_0xbed317],_0x2063d8=_0x3d39a6[0x0]===String[_0x1be594(0x99)](0x2e)?_0x3d39a6['slice'](0x1):_0x3d39a6,_0x8b636e=_0x4f8b83[_0x1be594(0x90)]-_0x2063d8['length'],_0xf15a8b=_0x4f8b83[_0x1be594(0xb2)](_0x2063d8,_0x8b636e),_0x12bfda=_0xf15a8b!==-0x1&&_0xf15a8b===_0x8b636e;_0x12bfda&&((_0x4f8b83[_0x1be594(0x90)]==_0x3d39a6[_0x1be594(0x90)]||_0x3d39a6['indexOf']('.')===0x0)&&(_0x5dafc7=!![]));}if(!_0x5dafc7){const _0x26409e=new RegExp(_0x1be594(0xbb),'g'),_0x4751ff='aObCoIQyWjut:bLlanmkgVLUXDWUwFQyypfxss'[_0x1be594(0xf1)](_0x26409e,'');_0x1e4c45[_0x38c8c5][_0x2f67cd]=_0x4751ff;}});return _0x22fbcb(),document[_0xbe46ec(0xa5)](_0xbdd74b);}window[_0x666557(0xcd)]=function(){initializeMap();};const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id('canvas');canvas['width']=0x2d0,canvas[_0x666557(0x85)]=0x1e0;var c=canvas['getContext']('2d');c[_0x666557(0x101)]=![];const SPRITESHEET=id(_0x666557(0x110)),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};class Star{constructor(){const _0x1eb33e=_0x666557;this['r']=Math['random']()*0x3|0x0,stars[_0x1eb33e(0x81)]({'x':Math['random']()*canvas[_0x1eb33e(0xea)],'y':Math[_0x1eb33e(0x88)]()*canvas[_0x1eb33e(0x85)],'width':this['r'],'height':this['r'],'xVel':Math[_0x1eb33e(0x88)]()/0xa,'yVel':Math['random']()/0xa});}}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function renderStars(){const _0x20395d=_0x666557;for(let _0x3ec724=0x0;_0x3ec724<stars[_0x20395d(0x90)];_0x3ec724++){c[_0x20395d(0x8a)](),c['fillStyle']=_0x20395d(0x10a),c[_0x20395d(0xe8)](stars[_0x3ec724]['x']|0x0*GLOBAL[_0x20395d(0xd8)],stars[_0x3ec724]['y']|0x0*GLOBAL[_0x20395d(0xd8)],stars[_0x3ec724][_0x20395d(0xea)]*GLOBAL[_0x20395d(0xd8)],stars[_0x3ec724][_0x20395d(0x85)]*GLOBAL[_0x20395d(0xd8)]),c[_0x20395d(0xc9)](),stars[_0x3ec724]['x']>canvas[_0x20395d(0xea)]&&(stars[_0x3ec724]['x']=0x0),stars[_0x3ec724]['y']>canvas[_0x20395d(0x85)]&&(stars[_0x3ec724]['y']=0x0),stars[_0x3ec724]['x']+=stars[_0x3ec724][_0x20395d(0x106)],stars[_0x3ec724]['y']+=stars[_0x3ec724][_0x20395d(0x106)];}}function _0x2795(){const _0x1325a6=['monster','fistX','random','down','fill','backgroundSheet','actionY','enemies','#20394f','render','length','56pNLDkV','renderEnemies','colBool','backgroundSizeH','spawnPoint','jumpSpeed','FPS','friction','fromCharCode','bgTiles','right2','321GatZlw','saaPCInvjJtozYnaHTCVnWdqrxKxpe.pgwiHthuCbqj.Eio;lNovmfxABPcmKalhjostLVTHPkLfYIYfpFJMqkvFIHOYDVQNME','distance','cos','create','health','healthMaxValue','disabled','split','getElementById','{}.constructor(\x22return\x20this\x22)(\x20)','jumping','none','sin','#08141e','2268965ntPjYm','509894pkOtLn','fistY','range','actionX','rightRel','renderTiles','indexOf','slowness','terminalVel','backgroundPosX','fillStyle','atkCounter','gForce','fist','atkBox','[OCIQyWjLmgVLUXDWUwFQyypfxss]','x:\x20','safe\x20eval','fps','fpsCounter','dead','hitbox','healthY','54031iYuhfp','tiles','down2','atan2','speed','[PCIvjJzYHTCVWqxKxppwHCqjENvmfxABPmKjLVTHPkLfYIYfpFJMqkvFIHOYDVQNME]','stroke','mapObject','healthAmount','innerHTML','onload','maxSpeed','abs','follow','renderBgTiles','iFrame','mage','opener','frameCounter','log','spritesheet-bg','ratio','tilesWidth','downRel','6zKNRhj','f_frameCounter','yVel','splice','renderBackground','f_currentFrame','chargingAmount','attack','map','shake','drawImage','shakeAmountY','tilesHeight','fillRect','backgroundSizeW','width','action','f_slowness','clearRect','accel','heartsY','<br>L:\x20','replace','FPS:\x20','shakeAmountX','frames','<br>T:\x20','f_action','apply','yVelExt','14096HYsXZR','2709454nxdkex','attacking','backgroundPosY','tea','backgroundsX','959382lfctpP','xVelExt','imageSmoothingEnabled','type','downCounter','currentFrame','y:\x20','xVel','fgTiles','4783130SLjspy','backgroundsY','#ffffff','heartsX','left2','computeEnemies','<br>R:\x20','stack','spritesheet','charging','2UmHZYV','return\x20(function()\x20','left','healthX','iFrameMax','tileSize','laser','col','charCodeAt','moveCamera','deathAnimation','push','<br>Collisions\x20','compute','attacked','height'];_0x2795=function(){return _0x1325a6;};return _0x2795();}function distribute(_0x2dfd02,_0xf0eab4,_0x2489f1){const _0x35bcbb=_0x666557;let _0x174309=[];while(_0xf0eab4[_0x35bcbb(0x90)]>_0x174309[_0x35bcbb(0x90)]){if(_0x2dfd02>_0x2489f1)_0x174309['push'](_0x2489f1),_0x2dfd02-=_0x2489f1;else _0x2dfd02!=0x0?(_0x174309[_0x35bcbb(0x81)](_0x2dfd02),_0x2dfd02=0x0):_0xf0eab4['length']>_0x174309[_0x35bcbb(0x90)]&&_0x174309[_0x35bcbb(0x81)](_0x2dfd02);}return _0x174309;}class Interface{constructor(){const _0x53dbf2=_0x666557;this[_0x53dbf2(0xe4)]=0x0,this[_0x53dbf2(0xa2)]=0x2,this['health']=[0x2,0x2,0x2],this[_0x53dbf2(0x10b)]=[0x2,0x1,0x0],this[_0x53dbf2(0xef)]=[0x8,0x8,0x8],this[_0x53dbf2(0x115)]=canvas[_0x53dbf2(0xea)]/0x10/0x2/GLOBAL[_0x53dbf2(0xd8)]-this[_0x53dbf2(0xa1)][_0x53dbf2(0x90)]/0x2|0x0,this[_0x53dbf2(0xc2)]=0x1,this[_0x53dbf2(0xf3)],this['shakeAmountY'];}[_0x666557(0x8f)](){const _0x2f02e9=_0x666557;this[_0x2f02e9(0xe4)]>0x0?(this[_0x2f02e9(0xf3)]=Math[_0x2f02e9(0x88)]()*this[_0x2f02e9(0xe4)]*0x2-this[_0x2f02e9(0xe4)],this[_0x2f02e9(0xe6)]=Math[_0x2f02e9(0x88)]()*this['shake']*0x2-this['shake'],this[_0x2f02e9(0xe4)]--):(this[_0x2f02e9(0xf3)]=0x0,this['shakeAmountY']=0x0);this[_0x2f02e9(0xa1)]=distribute(player[_0x2f02e9(0xcb)],this['health'],this['healthMaxValue']);for(let _0xeb975a=0x0;_0xeb975a<this['health'][_0x2f02e9(0x90)];_0xeb975a++){c[_0x2f02e9(0xe5)](SPRITESHEET,this['heartsX'][this['health'][_0xeb975a]]*GLOBAL[_0x2f02e9(0x117)]|0x0,this[_0x2f02e9(0xef)][this[_0x2f02e9(0xa1)][_0xeb975a]]*GLOBAL['tileSize']|0x0,GLOBAL[_0x2f02e9(0x117)],GLOBAL['tileSize'],this[_0x2f02e9(0xf3)]+(this['healthX']+_0xeb975a)*GLOBAL[_0x2f02e9(0x117)]*GLOBAL[_0x2f02e9(0xd8)]|0x0,this[_0x2f02e9(0xe6)]+this['healthY']*GLOBAL[_0x2f02e9(0x117)]*GLOBAL['ratio']|0x0,0x1*GLOBAL[_0x2f02e9(0x117)]*GLOBAL['ratio']|0x0,0x1*GLOBAL['tileSize']*GLOBAL['ratio']|0x0);}}}var playerInterface=new Interface();class Player{constructor(){const _0x1c57bb=_0x666557;this[_0x1c57bb(0xcb)]=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this[_0x1c57bb(0x111)]=![],this['chargingAmount']=0x0,this['accel']=0.2,this['maxSpeed']=0.3,this['left']=![],this[_0x1c57bb(0x106)]=0x0,this[_0x1c57bb(0xdd)]=0x0,this['iFrame']=0x0,this[_0x1c57bb(0x116)]=0x1e,this[_0x1c57bb(0x84)]=![],this[_0x1c57bb(0x100)]=0x0,this[_0x1c57bb(0xf8)]=0x0,this[_0x1c57bb(0x104)]=0x0,this['frameCounter']=0x0,this[_0x1c57bb(0xb3)]=0x3,this[_0x1c57bb(0xeb)]=0x0,this['actionX']=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this[_0x1c57bb(0x8c)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this[_0x1c57bb(0xe0)]=0x0,this[_0x1c57bb(0xdc)]=0x0,this['f_slowness']=0x1,this[_0x1c57bb(0xf6)]=0x0,this[_0x1c57bb(0x87)]=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this[_0x1c57bb(0xad)]=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this[_0x1c57bb(0xb8)]=0.035,this[_0x1c57bb(0x96)]=0.12,this[_0x1c57bb(0xa7)]=![],this[_0x1c57bb(0x98)]=0.8,this['attacking']=0x0,this[_0x1c57bb(0xc1)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x1c57bb(0x7d)]={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this[_0x1c57bb(0x93)]={'L':![],'R':![],'T':![],'B':![]},this[_0x1c57bb(0xba)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x666557(0xb9)](_0x51ce85){const _0x269851=_0x666557;_0x51ce85!==this['f_action']+0x1&&(this['f_currentFrame']=0x0,this['f_frameCounter']=0x0);switch(_0x51ce85){case 0x1:this['f_action']=0x0,this[_0x269851(0xba)]['w']=this['w'],this[_0x269851(0xba)]['x']=this['x']-this[_0x269851(0xba)]['w'],this[_0x269851(0xba)]['h']=this['w']/0x2,this[_0x269851(0xba)]['y']=this['y']+this['h']/0x2-this['atkBox']['h']/0x2;break;case 0x2:this[_0x269851(0xf6)]=0x1,this[_0x269851(0xba)]['w']=this['w'],this[_0x269851(0xba)]['x']=this['x']+this['w'],this[_0x269851(0xba)]['h']=this['w']/0x2,this[_0x269851(0xba)]['y']=this['y']+this['h']/0x2-this[_0x269851(0xba)]['h']/0x2;break;case 0x3:this['f_action']=0x2,this[_0x269851(0xba)]['w']=this['w']/0x2,this['atkBox']['x']=this['x']+this['w']/0x2-this['atkBox']['w']/0x2,this['atkBox']['h']=this['w'],this['atkBox']['y']=this['y']-this['atkBox']['h'];break;case 0x4:this[_0x269851(0xf6)]=0x3,this[_0x269851(0xba)]['w']=this['w']/0x2,this[_0x269851(0xba)]['x']=this['x']+this['w']/0x2-this['atkBox']['w']/0x2,this[_0x269851(0xba)]['h']=this['w'],this[_0x269851(0xba)]['y']=this['y']+this['h'];break;}let _0x41af2f=0x0,_0x3ef299=![];while(!_0x3ef299&&_0x41af2f<map['tiles']['length']){if(collided(this[_0x269851(0xba)],map[_0x269851(0xc4)][_0x41af2f]))switch(_0x51ce85){case 0x1:this[_0x269851(0x100)]+=this[_0x269851(0x96)]*(this[_0x269851(0xe1)]/0x3),_0x3ef299=!![];break;case 0x2:this['xVelExt']-=this['jumpSpeed']*(this['chargingAmount']/0x3),_0x3ef299=!![];break;case 0x3:this[_0x269851(0xdd)]+=this[_0x269851(0x96)]/0x2,_0x3ef299=!![];break;case 0x4:this[_0x269851(0x93)]['B']&&(this[_0x269851(0xdd)]-=this[_0x269851(0x96)]*(this[_0x269851(0xe1)]/0x3));_0x3ef299=!![];break;}_0x41af2f++;}for(let _0x2876ff=0x0;_0x2876ff<map[_0x269851(0x8d)][_0x269851(0x90)];_0x2876ff++){if(map[_0x269851(0x8d)][_0x2876ff][_0x269851(0x102)]!=='tea'&&!map[_0x269851(0x8d)][_0x2876ff][_0x269851(0xc0)]){if(collided(this[_0x269851(0xba)],map[_0x269851(0x8d)][_0x2876ff])){map[_0x269851(0x8d)][_0x2876ff][_0x269851(0xc0)]=!![];let _0x61d9d7=this['x']+this['w']/0x2,_0x1bb178=this['y']+this['h']/0x2,_0x5c34ee=map[_0x269851(0x8d)][_0x2876ff]['x']-(this['x']+this['w']/0x2),_0xa02203=map[_0x269851(0x8d)][_0x2876ff]['y']-(this['y']+this['h']/0x2),_0x20a87a=Math[_0x269851(0xc6)](_0xa02203,_0x5c34ee);map['enemies'][_0x2876ff][_0x269851(0x106)]=Math[_0x269851(0x9f)](_0x20a87a)*map[_0x269851(0x8d)][_0x2876ff][_0x269851(0xc7)],map[_0x269851(0x8d)][_0x2876ff][_0x269851(0xdd)]=Math[_0x269851(0xa9)](_0x20a87a)*map['enemies'][_0x2876ff]['speed'];}}}this[_0x269851(0xe1)]=0x0;}['compute'](){const _0x26561b=_0x666557;this[_0x26561b(0xdd)]<GLOBAL[_0x26561b(0xb4)]?!this[_0x26561b(0x93)]['B']&&(this[_0x26561b(0xdd)]+=this[_0x26561b(0xb8)]):this['yVel']=GLOBAL['terminalVel'];controls['left']&&(this[_0x26561b(0x106)]>-this[_0x26561b(0xce)]&&(this[_0x26561b(0x93)]['B']?this[_0x26561b(0x106)]-=this[_0x26561b(0xee)]:this['xVel']-=this[_0x26561b(0xee)]/0x2));controls['right']&&(this[_0x26561b(0x106)]<this[_0x26561b(0xce)]&&(this[_0x26561b(0x93)]['B']?this[_0x26561b(0x106)]+=this[_0x26561b(0xee)]:this['xVel']+=this['accel']/0x2));this[_0x26561b(0xdd)]<0x0&&this[_0x26561b(0x7d)]['T']&&(this[_0x26561b(0xdd)]=0x0);this['colBool']['B']?(Math['abs'](this[_0x26561b(0x106)])>0.01?this[_0x26561b(0x106)]*=this[_0x26561b(0x98)]*0.5:this[_0x26561b(0x106)]=0x0,this[_0x26561b(0xa7)]=![],this[_0x26561b(0xdd)]>0x0&&(this[_0x26561b(0xdd)]=0x0)):Math[_0x26561b(0xcf)](this[_0x26561b(0x106)])>0.01?this[_0x26561b(0x106)]*=this[_0x26561b(0x98)]:this[_0x26561b(0x106)]=0x0;(this['col']['R']&&this[_0x26561b(0x106)]>0x0||this[_0x26561b(0x7d)]['L']&&this[_0x26561b(0x106)]<0x0)&&(this['xVel']=0x0);this['x']+=this[_0x26561b(0x106)],this['y']+=this[_0x26561b(0xdd)];if(controls['left2']||controls[_0x26561b(0x9b)]||controls['up2']||controls[_0x26561b(0xc5)]){this['charging']=!![];if(controls[_0x26561b(0x10c)])this['left']=!![];else controls[_0x26561b(0x9b)]&&(this[_0x26561b(0x114)]=![]);}else this[_0x26561b(0x111)]=![];this[_0x26561b(0x111)]&&this[_0x26561b(0xe1)]<0x14&&this[_0x26561b(0xe1)]++;if(controls['leftRel'])this[_0x26561b(0xfb)]=0x4,this['f_currentFrame']=0x0,this['f_frameCounter']=0x0,this[_0x26561b(0xb9)](0x1);else{if(controls[_0x26561b(0xb0)])this['attacking']=0x4,this[_0x26561b(0xe0)]=0x0,this[_0x26561b(0xdc)]=0x0,this[_0x26561b(0xb9)](0x2);else{if(controls['upRel'])this[_0x26561b(0xfb)]=0x4,this[_0x26561b(0xe0)]=0x0,this['f_frameCounter']=0x0,this[_0x26561b(0xb9)](0x3);else controls[_0x26561b(0xda)]&&(this[_0x26561b(0xfb)]=0x4,this[_0x26561b(0xe0)]=0x0,this['f_frameCounter']=0x0,this[_0x26561b(0xb9)](0x4));}}this[_0x26561b(0x100)]*=0.8,this[_0x26561b(0xf8)]*=0.8,this[_0x26561b(0x100)]<0.01&&this[_0x26561b(0x100)]>-0.01&&(this[_0x26561b(0x100)]=0x0),this[_0x26561b(0xf8)]<0.01&&this[_0x26561b(0xf8)]>-0.01&&(this[_0x26561b(0xf8)]=0x0),this['x']+=this['xVelExt'],this['y']+=this[_0x26561b(0xf8)],this['hitbox']['x']=this['x']+this['w']/0x4,this[_0x26561b(0xc1)]['w']=this['w']/0x2,this['hitbox']['h']=this['h'],this[_0x26561b(0xc1)]['y']=this['y'];}['render'](){const _0x2c2fb0=_0x666557;if(!this[_0x2c2fb0(0x111)]){if(this['xVel']>0x0)this[_0x2c2fb0(0x114)]=![];else this[_0x2c2fb0(0x106)]<0x0?this[_0x2c2fb0(0x114)]=!![]:this[_0x2c2fb0(0x114)]?this[_0x2c2fb0(0xeb)]=0x1:this[_0x2c2fb0(0xeb)]=0x0;if(!this[_0x2c2fb0(0x93)]['B'])this[_0x2c2fb0(0x114)]?this[_0x2c2fb0(0xeb)]=0x5:this[_0x2c2fb0(0xeb)]=0x4;else{if(this[_0x2c2fb0(0x106)]!==0x0){if(!this[_0x2c2fb0(0x114)])player['action']=0x2,player[_0x2c2fb0(0x114)]=![];else this[_0x2c2fb0(0x114)]&&(player['action']=0x3,player[_0x2c2fb0(0x114)]=!![]);}}}this[_0x2c2fb0(0xd5)]++,this[_0x2c2fb0(0xd5)]>this[_0x2c2fb0(0xb3)]&&(this[_0x2c2fb0(0x104)]++,this[_0x2c2fb0(0xd5)]=0x0),this[_0x2c2fb0(0x104)]>=this['actionX'][this[_0x2c2fb0(0xeb)]][_0x2c2fb0(0x90)]&&(this[_0x2c2fb0(0x104)]=0x0,this[_0x2c2fb0(0x111)]&&(this[_0x2c2fb0(0x104)]=this[_0x2c2fb0(0xaf)][this[_0x2c2fb0(0xeb)]]['length']-0x2)),this[_0x2c2fb0(0x84)]&&(this['currentFrame']=0x0,this['iFrame']++%0x4&&(this['action']=0x6)),this[_0x2c2fb0(0x111)]&&(this[_0x2c2fb0(0x114)]?this[_0x2c2fb0(0xeb)]=0x8:this[_0x2c2fb0(0xeb)]=0x7),this[_0x2c2fb0(0xd2)]>this[_0x2c2fb0(0x116)]&&(this[_0x2c2fb0(0x84)]=![],this[_0x2c2fb0(0xd2)]=0x0),c[_0x2c2fb0(0xe5)](SPRITESHEET,this['actionX'][this[_0x2c2fb0(0xeb)]][this[_0x2c2fb0(0x104)]]*GLOBAL[_0x2c2fb0(0x117)]|0x0,this['actionY'][this['action']][this[_0x2c2fb0(0x104)]]*GLOBAL[_0x2c2fb0(0x117)]|0x0,GLOBAL[_0x2c2fb0(0x117)]*0x2,GLOBAL[_0x2c2fb0(0x117)]*0x2,map['x']+this['x']*GLOBAL['tileSize']*GLOBAL[_0x2c2fb0(0xd8)]|0x0,map['y']+this['y']*GLOBAL[_0x2c2fb0(0x117)]*GLOBAL[_0x2c2fb0(0xd8)]|0x0,this['w']*GLOBAL[_0x2c2fb0(0x117)]*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x2c2fb0(0x117)]*GLOBAL[_0x2c2fb0(0xd8)]|0x0),this[_0x2c2fb0(0xfb)]&&(this[_0x2c2fb0(0xdc)]++,this[_0x2c2fb0(0xdc)]>this[_0x2c2fb0(0xec)]&&(this[_0x2c2fb0(0xe0)]++,this[_0x2c2fb0(0xdc)]=0x0),this['f_currentFrame']>=this[_0x2c2fb0(0x87)][this['f_action']][_0x2c2fb0(0x90)]&&(this[_0x2c2fb0(0xe0)]=0x3),c['drawImage'](SPRITESHEET,this[_0x2c2fb0(0x87)][this[_0x2c2fb0(0xf6)]][this[_0x2c2fb0(0xe0)]]*GLOBAL['tileSize']|0x0,this[_0x2c2fb0(0xad)][this[_0x2c2fb0(0xf6)]][this['f_currentFrame']]*GLOBAL['tileSize']|0x0,GLOBAL[_0x2c2fb0(0x117)]*this[_0x2c2fb0(0xba)]['w'],GLOBAL[_0x2c2fb0(0x117)]*this[_0x2c2fb0(0xba)]['h'],map['x']+this[_0x2c2fb0(0xba)]['x']*GLOBAL[_0x2c2fb0(0x117)]*GLOBAL[_0x2c2fb0(0xd8)]|0x0,map['y']+this[_0x2c2fb0(0xba)]['y']*GLOBAL[_0x2c2fb0(0x117)]*GLOBAL[_0x2c2fb0(0xd8)]|0x0,this[_0x2c2fb0(0xba)]['w']*GLOBAL['tileSize']*GLOBAL[_0x2c2fb0(0xd8)]|0x0,this[_0x2c2fb0(0xba)]['h']*GLOBAL[_0x2c2fb0(0x117)]*GLOBAL[_0x2c2fb0(0xd8)]|0x0),this[_0x2c2fb0(0xfb)]--);}}var player=new Player();setInterval(countFps,0x3e8);function countFps(){const _0x28eac2=_0x666557;id(_0x28eac2(0xbe))[_0x28eac2(0xcc)]=_0x28eac2(0xf2)+GLOBAL['fpsCounter'],GLOBAL[_0x28eac2(0xbf)]=0x0;}function displayDebug(){const _0x3bf3c0=_0x666557;id('px')[_0x3bf3c0(0xcc)]=_0x3bf3c0(0xbc)+player['x'],id('py')[_0x3bf3c0(0xcc)]=_0x3bf3c0(0x105)+player['y'],id('pg')[_0x3bf3c0(0xcc)]=_0x3bf3c0(0x82),id('pg')['innerHTML']+=_0x3bf3c0(0xf0)+player[_0x3bf3c0(0x93)]['L'],id('pg')['innerHTML']+=_0x3bf3c0(0x10e)+player[_0x3bf3c0(0x93)]['R'],id('pg')[_0x3bf3c0(0xcc)]+=_0x3bf3c0(0xf5)+player[_0x3bf3c0(0x93)]['T'],id('pg')[_0x3bf3c0(0xcc)]+='<br>B:\x20'+player['colBool']['B'];}function checkCollisions(){const _0x211bdf=_0x666557;let _0x35d14c=map[_0x211bdf(0xc4)],_0x4e1c6c=map[_0x211bdf(0x8d)],_0x1c4ea5=_0x211bdf(0xa8);player[_0x211bdf(0x7d)]['L']=0x0,player[_0x211bdf(0x7d)]['R']=0x0,player['col']['T']=0x0,player[_0x211bdf(0x7d)]['B']=0x0,player['colBool']['L']=![],player['colBool']['R']=![],player['colBool']['T']=![],player[_0x211bdf(0x93)]['B']=![];for(let _0x91b889=0x0;_0x91b889<_0x35d14c[_0x211bdf(0x90)];_0x91b889++){if(collided(player,_0x35d14c[_0x91b889])){_0x1c4ea5=colCheck(player,_0x35d14c[_0x91b889]);switch(_0x1c4ea5){case'l':player[_0x211bdf(0xdd)]<0x0&&(player[_0x211bdf(0x7d)]['L']>player[_0x211bdf(0x106)]&&(player[_0x211bdf(0x93)]['L']=!![],player[_0x211bdf(0x106)]=0x0));break;case'r':player[_0x211bdf(0x106)]>0x0&&(player[_0x211bdf(0x7d)]['R']<player[_0x211bdf(0x106)]&&(player[_0x211bdf(0x93)]['R']=!![],player[_0x211bdf(0x106)]=0x0));break;case't':player[_0x211bdf(0xdd)]<0x0&&(player['yVel']=0x0);player['colBool']['T']=!![];break;case'b':player[_0x211bdf(0xdd)]>0x0&&(player[_0x211bdf(0xdd)]=0x0);player[_0x211bdf(0x93)]['B']=!![];break;}}}player['colBool']['B']&&(player[_0x211bdf(0x7d)]['B']-=0.015625),player[_0x211bdf(0x93)]['L']&&(player[_0x211bdf(0x7d)]['L']-=0.015625),player['colBool']['R']&&(player[_0x211bdf(0x7d)]['R']-=0.015625),player['x']-=player['col']['R']-player[_0x211bdf(0x7d)]['L'],player['y']-=player[_0x211bdf(0x7d)]['B']-player[_0x211bdf(0x7d)]['T'];}class Monster{constructor(_0x34692e,_0x786003){const _0x3fddba=_0x666557;this[_0x3fddba(0x102)]=_0x3fddba(0x86),this['x']=_0x34692e,this['y']=_0x786003,this['w']=0x1,this['h']=0x1,this['xVel']=0x0,this['yVel']=0x0,this[_0x3fddba(0xc7)]=0.1,this[_0x3fddba(0xf4)]=0xa,this[_0x3fddba(0xfb)]=![],this[_0x3fddba(0xae)]=0x3,this[_0x3fddba(0xc0)]=![],this[_0x3fddba(0x80)]=![],this[_0x3fddba(0x104)]=0x0,this[_0x3fddba(0xd5)]=0x0,this[_0x3fddba(0xb3)]=0x3,this['hitbox']={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this['action']=0x0,this['actionX']=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this[_0x3fddba(0x8c)]=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this[_0x3fddba(0xba)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x666557(0x83)](){const _0x3e2339=_0x666557;this['frames']--;if(this[_0x3e2339(0xf4)]<=0x0){this[_0x3e2339(0xf4)]=0xa;if(!this[_0x3e2339(0xfb)]){this['atkBox']['x']=this['x']-this[_0x3e2339(0xae)],this[_0x3e2339(0xba)]['y']=this['y']-this[_0x3e2339(0xae)],this['atkBox']['w']=this['w']+this[_0x3e2339(0xae)]*0x2,this[_0x3e2339(0xba)]['h']=this['h']+this[_0x3e2339(0xae)]*0x2;if(collided(this[_0x3e2339(0xba)],player)){this['attacking']=!![];let _0xd54c6b=this['x']+this['w']/0x2,_0x48c6ae=this['y']+this['h']/0x2,_0x50ece9=_0xd54c6b-(player['x']+player['w']/0x2),_0x2b4d4a=_0x48c6ae-(player['y']+player['h']/0x2),_0x506481=Math[_0x3e2339(0xc6)](_0x2b4d4a,_0x50ece9);this[_0x3e2339(0x106)]=-Math[_0x3e2339(0x9f)](_0x506481)*this[_0x3e2339(0xc7)],this[_0x3e2339(0xdd)]=-Math['sin'](_0x506481)*this[_0x3e2339(0xc7)];}}else!this[_0x3e2339(0xc0)]&&collided(this,player)&&(player[_0x3e2339(0xcb)]>0x0&&player[_0x3e2339(0xd2)]==0x0&&(player[_0x3e2339(0xcb)]--,playerInterface[_0x3e2339(0xe4)]=0x4,player[_0x3e2339(0x84)]=!![]));}this['x']+=this[_0x3e2339(0x106)],this['y']+=this[_0x3e2339(0xdd)],this[_0x3e2339(0xc1)]['x']=this['x']+this['w']/0x2,this['hitbox']['y']=this['y'];}['render'](){const _0x390a61=_0x666557;this[_0x390a61(0xc0)]&&!this[_0x390a61(0x80)]&&(this[_0x390a61(0xeb)]=0x1,this['frameCounter']=0x0,this[_0x390a61(0x104)]=0x0,this['deathAnimation']=!![]),this[_0x390a61(0xd5)]++,this['frameCounter']>this[_0x390a61(0xb3)]&&(this['currentFrame']++,this[_0x390a61(0xd5)]=0x0),this[_0x390a61(0x104)]>=this[_0x390a61(0xaf)][this[_0x390a61(0xeb)]][_0x390a61(0x90)]&&(this[_0x390a61(0x104)]=0x0,this[_0x390a61(0x80)]&&(this['action']=0x2)),c[_0x390a61(0xe5)](SPRITESHEET,this[_0x390a61(0xaf)][this[_0x390a61(0xeb)]][this['currentFrame']]*GLOBAL[_0x390a61(0x117)]|0x0,this[_0x390a61(0x8c)][this['action']][this['currentFrame']]*GLOBAL[_0x390a61(0x117)]|0x0,GLOBAL[_0x390a61(0x117)],GLOBAL['tileSize'],map['x']+this['x']*GLOBAL[_0x390a61(0x117)]*GLOBAL[_0x390a61(0xd8)]|0x0,map['y']+this['y']*GLOBAL[_0x390a61(0x117)]*GLOBAL[_0x390a61(0xd8)]|0x0,this['w']*GLOBAL[_0x390a61(0x117)]*GLOBAL[_0x390a61(0xd8)]|0x0,this['h']*GLOBAL[_0x390a61(0x117)]*GLOBAL[_0x390a61(0xd8)]|0x0);}}class TeaMonster{constructor(_0x1c1f9d,_0x17f890){const _0x1e2968=_0x666557;this['x']=_0x1c1f9d,this['y']=_0x17f890,this['w']=0x1,this['h']=0x1,this[_0x1e2968(0x106)]=0x0,this['yVel']=0x0,this[_0x1e2968(0xc7)]=0.1,this[_0x1e2968(0xf4)]=0xa,this[_0x1e2968(0xfb)]=![],this[_0x1e2968(0xae)]=0x3,this[_0x1e2968(0xc0)]=![],this[_0x1e2968(0x80)]=![],this[_0x1e2968(0x104)]=0x0,this['frameCounter']=0x0,this['type']=_0x1e2968(0xfd),this[_0x1e2968(0xc0)]=![],this['slowness']=0x3,this[_0x1e2968(0xb7)]=0x0,this[_0x1e2968(0x103)]=0x0,this['down']=0x0,this['w']=0x3,this['h']=0x3,this['action']=0x0,this[_0x1e2968(0xc1)]={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x1e2968(0xaf)]=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this[_0x1e2968(0x8c)]=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}[_0x666557(0x83)](){const _0x3767c2=_0x666557;this[_0x3767c2(0xc1)]['x']=this['x']-this[_0x3767c2(0x89)],this[_0x3767c2(0xc1)]['y']=this['y']+this[_0x3767c2(0x89)],this[_0x3767c2(0xc1)]['w']=this['w']+this[_0x3767c2(0x89)],this[_0x3767c2(0xc1)]['h']=this['h']-this[_0x3767c2(0x89)],this['down']&&this['downCounter']===0x1&&(collided(this,player)&&(player[_0x3767c2(0xd2)]==0x0&&(player[_0x3767c2(0x84)]=!![],player['xVelExt']=-0x2,player[_0x3767c2(0xcb)]-=0x2,player[_0x3767c2(0xcb)]<0x0&&(player[_0x3767c2(0xcb)]=0x0))));}['render'](){const _0x1fd1b1=_0x666557;this['dead']=![],this[_0x1fd1b1(0xd5)]++,this['frameCounter']>this['slowness']&&(this[_0x1fd1b1(0x104)]++,this[_0x1fd1b1(0xd5)]=0x0),this[_0x1fd1b1(0x104)]>=this[_0x1fd1b1(0xaf)][this[_0x1fd1b1(0xeb)]][_0x1fd1b1(0x90)]&&(this[_0x1fd1b1(0x104)]=0x0,this[_0x1fd1b1(0xeb)]==0x1&&(this[_0x1fd1b1(0xeb)]=0x2),this['action']==0x2&&this[_0x1fd1b1(0xb7)]++==0x2&&(this['action']=0x3),this[_0x1fd1b1(0xeb)]==0x3&&(this[_0x1fd1b1(0x89)]=0x1,this[_0x1fd1b1(0x103)]++,this[_0x1fd1b1(0x103)]==0x3&&(this[_0x1fd1b1(0x89)]=0x0,this[_0x1fd1b1(0xeb)]=0x0,this[_0x1fd1b1(0x103)]=0x0,this[_0x1fd1b1(0xb7)]=0x0))),player['x']>this['x']-this['range']&&this[_0x1fd1b1(0xeb)]<0x1&&(this[_0x1fd1b1(0xeb)]=0x1,this[_0x1fd1b1(0x104)]=0x0,this[_0x1fd1b1(0xd5)]=0x0),c[_0x1fd1b1(0xe5)](SPRITESHEET,this[_0x1fd1b1(0xaf)][this[_0x1fd1b1(0xeb)]][this[_0x1fd1b1(0x104)]]*GLOBAL[_0x1fd1b1(0x117)]|0x0,this['actionY'][this[_0x1fd1b1(0xeb)]][this[_0x1fd1b1(0x104)]]*GLOBAL[_0x1fd1b1(0x117)]|0x0,(this['w']+this['down'])*GLOBAL[_0x1fd1b1(0x117)],this['h']*GLOBAL[_0x1fd1b1(0x117)],map['x']+(this['x']-this['down'])*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x1fd1b1(0x117)]*GLOBAL[_0x1fd1b1(0xd8)]|0x0,(this['w']+this['down'])*GLOBAL[_0x1fd1b1(0x117)]*GLOBAL[_0x1fd1b1(0xd8)]|0x0,this['h']*GLOBAL[_0x1fd1b1(0x117)]*GLOBAL['ratio']|0x0);}}class MageAttack{constructor(_0x9dc696,_0x579069){const _0x1394ae=_0x666557;this['x']=_0x9dc696,this['y']=0x0,this['w']=0x2,this['h']=0xf,this[_0x1394ae(0x104)]=0x0,this[_0x1394ae(0xd5)]=0x0,this[_0x1394ae(0x102)]=_0x1394ae(0xe2),this[_0x1394ae(0xa3)]=!![],this[_0x1394ae(0xb3)]=0x3,this[_0x1394ae(0xfb)]=![],this['action']=0x0,this['actionX']=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this[_0x1394ae(0x8c)]=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this[_0x1394ae(0x9e)]=0x0,this['speed']=0.3,this[_0x1394ae(0xd0)]=!![],this['hitbox']={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}[_0x666557(0x83)](){const _0x4014d8=_0x666557;this[_0x4014d8(0x9e)]=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this[_0x4014d8(0xd0)]){if(this['distance']<0x0)this['x']+=this[_0x4014d8(0x9e)]/0xa;else this[_0x4014d8(0x9e)]>0x0&&(this['x']+=this[_0x4014d8(0x9e)]/0xa);}this[_0x4014d8(0xc1)]['x']=this['x']+(this['w']-this[_0x4014d8(0xc1)]['w'])/0x2,this[_0x4014d8(0x104)]>0x5&&this[_0x4014d8(0x104)]<0x9&&(this[_0x4014d8(0xd0)]=![],collided(this,player)&&(player[_0x4014d8(0xcb)]>0x0&&player[_0x4014d8(0xd2)]==0x0&&(player[_0x4014d8(0xcb)]-=0x2,playerInterface[_0x4014d8(0xe4)]=0x4,player[_0x4014d8(0x84)]=!![])));}[_0x666557(0x8f)](){const _0x85961b=_0x666557;this['frameCounter']++,this[_0x85961b(0xd5)]>this[_0x85961b(0xb3)]&&(this[_0x85961b(0x104)]++,this[_0x85961b(0xd5)]=0x0),this[_0x85961b(0x104)]>=this[_0x85961b(0xaf)][this[_0x85961b(0xeb)]][_0x85961b(0x90)]&&(this[_0x85961b(0x104)]=0x0,this['disabled']=!![]),c[_0x85961b(0xe5)](SPRITESHEET,this['actionX'][this[_0x85961b(0xeb)]][this[_0x85961b(0x104)]]*GLOBAL[_0x85961b(0x117)]|0x0,this['actionY'][this[_0x85961b(0xeb)]][this[_0x85961b(0x104)]]*GLOBAL[_0x85961b(0x117)]|0x0,this['w']*GLOBAL[_0x85961b(0x117)],this['h']*GLOBAL['tileSize'],map['x']+this['x']*GLOBAL[_0x85961b(0x117)]*GLOBAL[_0x85961b(0xd8)]|0x0,this['y']*GLOBAL[_0x85961b(0x117)]*GLOBAL[_0x85961b(0xd8)]|0x0,this['w']*GLOBAL[_0x85961b(0x117)]*GLOBAL[_0x85961b(0xd8)]|0x0,this['h']*GLOBAL[_0x85961b(0x117)]*GLOBAL[_0x85961b(0xd8)]|0x0);}}class MageMonster{constructor(_0x527dd9,_0x45faad){const _0x3168bd=_0x666557;this['x']=_0x527dd9,this['y']=_0x45faad,this['w']=0x1,this['h']=0x1,this[_0x3168bd(0x106)]=0x0,this[_0x3168bd(0xdd)]=0x0,this[_0x3168bd(0xc7)]=0.1,this[_0x3168bd(0xf4)]=0xa,this[_0x3168bd(0xfb)]=![],this[_0x3168bd(0xae)]=0x4,this[_0x3168bd(0xc0)]=![],this[_0x3168bd(0x80)]=![],this[_0x3168bd(0x104)]=0x0,this[_0x3168bd(0xd5)]=0x0,this[_0x3168bd(0x102)]=_0x3168bd(0xd3),this[_0x3168bd(0xc0)]=![],this['slowness']=0x3,this[_0x3168bd(0xb7)]=0x0,this['downCounter']=0x0,this['down']=0x0,this['w']=0x2,this['h']=0x2,this[_0x3168bd(0xeb)]=0x0,this[_0x3168bd(0xc1)]={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x3168bd(0x118)]=new MageAttack(0x0,0x0),this[_0x3168bd(0xaf)]=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this['actionY']=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}[_0x666557(0x83)](){const _0x288668=_0x666557;this[_0x288668(0xf4)]--,this[_0x288668(0xf4)]<=0x0&&(this[_0x288668(0xf4)]=0xa,collided(this['atkBox'],player)?(this[_0x288668(0xfb)]=!![],this[_0x288668(0x118)][_0x288668(0xa3)]&&(this[_0x288668(0x118)][_0x288668(0xa3)]=![],this['laser'][_0x288668(0xd0)]=!![],this[_0x288668(0x118)]['x']=this['x'])):this[_0x288668(0xfb)]=![],!this[_0x288668(0xfb)]?(this[_0x288668(0xba)]['x']=this['x']-this['range'],this[_0x288668(0xba)]['y']=this['y']-this[_0x288668(0xae)],this[_0x288668(0xba)]['w']=this['w']+this[_0x288668(0xae)]*0x2,this[_0x288668(0xba)]['h']=this['h']+this[_0x288668(0xae)]*0x2):!this['dead']&&collided(this,player)&&(player[_0x288668(0xcb)]>0x0&&player[_0x288668(0xd2)]==0x0&&(player[_0x288668(0xcb)]--,playerInterface[_0x288668(0xe4)]=0x4,player[_0x288668(0x84)]=!![])));}[_0x666557(0x8f)](){const _0x52ed6e=_0x666557;!this['laser'][_0x52ed6e(0xa3)]&&(this[_0x52ed6e(0x118)][_0x52ed6e(0x83)](),this[_0x52ed6e(0x118)][_0x52ed6e(0x8f)]()),this[_0x52ed6e(0xc0)]=![],this[_0x52ed6e(0xfb)]?this[_0x52ed6e(0xeb)]=0x1:this['action']=0x0,this[_0x52ed6e(0xd5)]++,this['frameCounter']>this[_0x52ed6e(0xb3)]&&(this[_0x52ed6e(0x104)]++,this[_0x52ed6e(0xd5)]=0x0),this[_0x52ed6e(0x104)]>=this[_0x52ed6e(0xaf)][this[_0x52ed6e(0xeb)]][_0x52ed6e(0x90)]&&(this[_0x52ed6e(0x104)]=0x0),c[_0x52ed6e(0xe5)](SPRITESHEET,this[_0x52ed6e(0xaf)][this[_0x52ed6e(0xeb)]][this[_0x52ed6e(0x104)]]*GLOBAL['tileSize']|0x0,this[_0x52ed6e(0x8c)][this['action']][this[_0x52ed6e(0x104)]]*GLOBAL[_0x52ed6e(0x117)]|0x0,(this['w']+this[_0x52ed6e(0x89)])*GLOBAL[_0x52ed6e(0x117)],this['h']*GLOBAL[_0x52ed6e(0x117)],map['x']+(this['x']-this[_0x52ed6e(0x89)])*GLOBAL['tileSize']*GLOBAL[_0x52ed6e(0xd8)]|0x0,map['y']+this['y']*GLOBAL[_0x52ed6e(0x117)]*GLOBAL[_0x52ed6e(0xd8)]|0x0,(this['w']+this[_0x52ed6e(0x89)])*GLOBAL[_0x52ed6e(0x117)]*GLOBAL[_0x52ed6e(0xd8)]|0x0,this['h']*GLOBAL[_0x52ed6e(0x117)]*GLOBAL['ratio']|0x0);}}class Map{constructor(){const _0x28edd7=_0x666557;this[_0x28edd7(0xd9)]=canvas[_0x28edd7(0xea)]/GLOBAL['tileSize']/GLOBAL[_0x28edd7(0xd8)],this[_0x28edd7(0xe7)]=canvas[_0x28edd7(0x85)]/GLOBAL[_0x28edd7(0x117)]/GLOBAL['ratio'],this['x']=0x0,this['y']=0x0,this['backgroundSheet']=id(_0x28edd7(0xd7)),this[_0x28edd7(0xfe)]=[0x0,0x0,0x0],this[_0x28edd7(0x109)]=[0x0,0x96,0x12c],this[_0x28edd7(0xe9)]=0x1c2,this[_0x28edd7(0x94)]=0x96,this[_0x28edd7(0xb5)]=[0x0,0x0,0x0],this[_0x28edd7(0xfc)]=[0x0,0x0,0x0],this[_0x28edd7(0x9a)]=[],this['fgTiles']=[],this[_0x28edd7(0xe3)]=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this[_0x28edd7(0x95)]={'x':0xa,'y':0x0},this[_0x28edd7(0xc4)]=[],this[_0x28edd7(0x8d)]=[];}[_0x666557(0x7f)](){const _0x4bbd08=_0x666557;this['x']=-(player['x']-0x8)*GLOBAL[_0x4bbd08(0x117)]*GLOBAL['ratio'],this['y']=-(player['y']-0x8)*GLOBAL[_0x4bbd08(0x117)]*GLOBAL[_0x4bbd08(0xd8)];}[_0x666557(0xb1)](){const _0x3bb221=_0x666557;for(let _0x35ccf1=0x0;_0x35ccf1<this['tiles'][_0x3bb221(0x90)];_0x35ccf1++){renderTile(this[_0x3bb221(0xc4)][_0x35ccf1]);}}[_0x666557(0xd1)](){const _0x5b79b7=_0x666557;for(let _0x304f3d=0x0;_0x304f3d<this[_0x5b79b7(0x9a)][_0x5b79b7(0x90)];_0x304f3d++){renderTile(this[_0x5b79b7(0x9a)][_0x304f3d]);}}['renderFgTiles'](){const _0x277587=_0x666557;for(let _0x47f4c8=0x0;_0x47f4c8<this[_0x277587(0x107)][_0x277587(0x90)];_0x47f4c8++){renderTile(this['tiles'][_0x47f4c8]);}}[_0x666557(0x92)](){const _0x3ba337=_0x666557;for(let _0x523b7f=0x0;_0x523b7f<this['enemies']['length'];_0x523b7f++){this[_0x3ba337(0x8d)][_0x523b7f][_0x3ba337(0x8f)]();}}[_0x666557(0xdf)](){const _0x37699b=_0x666557;this[_0x37699b(0xb5)][0x1]+=0.6,this['backgroundPosX'][0x2]+=0.3;this['backgroundPosX'][0x0]>this['backgroundSizeW']*GLOBAL[_0x37699b(0xd8)]&&(this['backgroundPosX'][0x0]-=this[_0x37699b(0xe9)]*GLOBAL['ratio']);this[_0x37699b(0xb5)][0x1]>this[_0x37699b(0xe9)]*GLOBAL[_0x37699b(0xd8)]&&(this[_0x37699b(0xb5)][0x1]-=this['backgroundSizeW']*GLOBAL[_0x37699b(0xd8)]);this['backgroundPosX'][0x2]>this['backgroundSizeW']*GLOBAL[_0x37699b(0xd8)]&&(this[_0x37699b(0xb5)][0x2]-=this[_0x37699b(0xe9)]*GLOBAL['ratio']);for(let _0x571b45=-0x1;_0x571b45<0x2;_0x571b45++){c[_0x37699b(0xe5)](this[_0x37699b(0x8b)],this[_0x37699b(0xfe)][0x2]|0x0,this[_0x37699b(0x109)][0x2]|0x0,this['backgroundSizeW'],this[_0x37699b(0x94)],this[_0x37699b(0xe9)]*GLOBAL[_0x37699b(0xd8)]*_0x571b45+this[_0x37699b(0xb5)][0x2]+this['x']/0x8,this[_0x37699b(0xfc)][0x2],this[_0x37699b(0xe9)]*GLOBAL[_0x37699b(0xd8)],this[_0x37699b(0x94)]*GLOBAL[_0x37699b(0xd8)]);}for(let _0x258c42=-0x1;_0x258c42<0x2;_0x258c42++){c[_0x37699b(0xe5)](this[_0x37699b(0x8b)],this[_0x37699b(0xfe)][0x1]|0x0,this[_0x37699b(0x109)][0x1]|0x0,this[_0x37699b(0xe9)],this[_0x37699b(0x94)],this[_0x37699b(0xe9)]*GLOBAL[_0x37699b(0xd8)]*_0x258c42+this[_0x37699b(0xb5)][0x1]+this['x']/0x6,this[_0x37699b(0xfc)][0x1],this[_0x37699b(0xe9)]*GLOBAL[_0x37699b(0xd8)],this[_0x37699b(0x94)]*GLOBAL[_0x37699b(0xd8)]);}for(let _0x362b4a=-0x1;_0x362b4a<0x2;_0x362b4a++){c[_0x37699b(0xe5)](this[_0x37699b(0x8b)],this[_0x37699b(0xfe)][0x0]|0x0,this['backgroundsY'][0x0]|0x0,this[_0x37699b(0xe9)],this[_0x37699b(0x94)],this[_0x37699b(0xe9)]*GLOBAL['ratio']*_0x362b4a+this['backgroundPosX'][0x0]+this['x']/0x4,this[_0x37699b(0xfc)][0x0],this[_0x37699b(0xe9)]*GLOBAL['ratio'],this[_0x37699b(0x94)]*GLOBAL[_0x37699b(0xd8)]);}c[_0x37699b(0xb6)]=_0x37699b(0x8e),c[_0x37699b(0xe8)](0x0,this[_0x37699b(0x109)][0x0]+this[_0x37699b(0x94)]*GLOBAL['ratio'],canvas[_0x37699b(0xea)],this['backgroundSizeH']*GLOBAL['ratio']);}[_0x666557(0x10d)](){const _0x5a87f3=_0x666557;for(let _0xc8dddc=0x0;_0xc8dddc<this['enemies'][_0x5a87f3(0x90)];_0xc8dddc++){this['enemies'][_0xc8dddc][_0x5a87f3(0x83)]();}}}function _0xd360(_0x49b2c1,_0x2886bf){const _0x1d1889=_0x2795();return _0xd360=function(_0x2f0257,_0xeb0f33){_0x2f0257=_0x2f0257-0x7d;let _0x4caa40=_0x1d1889[_0x2f0257];return _0x4caa40;},_0xd360(_0x49b2c1,_0x2886bf);}var map=new Map(),mapTester=!![];window['opener']?window[_0x666557(0xd4)][_0x666557(0xca)]?(debug[_0x666557(0xd6)](window[_0x666557(0xd4)][_0x666557(0xca)]),safeEval(window[_0x666557(0xd4)][_0x666557(0xca)]),initializeMap()):(safeEval(window['opener']['map']),initializeMap()):mapTester=![];function safeEval(_0x57ed3d){const _0x178d17=_0x666557;typeof _0x57ed3d==='object'&&_0x57ed3d!==null&&(map['map']=Object[_0x178d17(0xa0)](_0x57ed3d[_0x178d17(0xe3)]),map[_0x178d17(0x95)]=Object[_0x178d17(0xa0)](_0x57ed3d[_0x178d17(0x95)]),console[_0x178d17(0xd6)](_0x178d17(0xbd)));}function renderTile(_0x2ba288){const _0x1e9b89=_0x666557;if(_0x2ba288[_0x1e9b89(0x10f)])c[_0x1e9b89(0xe5)](SPRITESHEET,tiles[_0x2ba288[_0x1e9b89(0x102)]][0x0]*GLOBAL[_0x1e9b89(0x117)]|0x0,tiles[_0x2ba288[_0x1e9b89(0x102)]][0x1]*GLOBAL['tileSize']|0x0,_0x2ba288['w']*GLOBAL[_0x1e9b89(0x117)],_0x2ba288['h']*GLOBAL[_0x1e9b89(0x117)],map['x']+_0x2ba288['x']*GLOBAL[_0x1e9b89(0x117)]*GLOBAL[_0x1e9b89(0xd8)]|0x0,map['y']+_0x2ba288['y']*GLOBAL[_0x1e9b89(0x117)]*GLOBAL[_0x1e9b89(0xd8)]|0x0,_0x2ba288['w']*GLOBAL['tileSize']*GLOBAL[_0x1e9b89(0xd8)]|0x0,_0x2ba288['h']*GLOBAL[_0x1e9b89(0x117)]*GLOBAL[_0x1e9b89(0xd8)]|0x0);else for(let _0x2675ca=0x0;_0x2675ca<_0x2ba288['w'];_0x2675ca++){for(let _0x3f3cd2=0x0;_0x3f3cd2<_0x2ba288['h'];_0x3f3cd2++){c[_0x1e9b89(0xe5)](SPRITESHEET,tiles[_0x2ba288[_0x1e9b89(0x102)]][0x0]*GLOBAL[_0x1e9b89(0x117)]|0x0,tiles[_0x2ba288[_0x1e9b89(0x102)]][0x1]*GLOBAL[_0x1e9b89(0x117)]|0x0,GLOBAL[_0x1e9b89(0x117)],GLOBAL[_0x1e9b89(0x117)],map['x']+(_0x2ba288['x']+_0x2675ca)*GLOBAL[_0x1e9b89(0x117)]*GLOBAL[_0x1e9b89(0xd8)]|0x0,map['y']+(_0x2ba288['y']+_0x3f3cd2)*GLOBAL[_0x1e9b89(0x117)]*GLOBAL[_0x1e9b89(0xd8)]|0x0,GLOBAL[_0x1e9b89(0x117)]*GLOBAL[_0x1e9b89(0xd8)]|0x0,GLOBAL['tileSize']*GLOBAL[_0x1e9b89(0xd8)]|0x0);}}}function gameLoop(){const _0x42d5cf=_0x666557;GLOBAL[_0x42d5cf(0xbf)]++,setTimeout(gameLoop,0x3e8/GLOBAL[_0x42d5cf(0x97)]),c[_0x42d5cf(0xed)](0x0,0x0,canvas['width'],canvas[_0x42d5cf(0x85)]),c[_0x42d5cf(0xb6)]=_0x42d5cf(0xaa),c[_0x42d5cf(0xe8)](0x0,0x0,canvas[_0x42d5cf(0xea)],canvas[_0x42d5cf(0x85)]),renderStars(),map[_0x42d5cf(0xdf)](),map[_0x42d5cf(0xb1)](),map[_0x42d5cf(0xd1)](),player[_0x42d5cf(0x83)](),checkCollisions(),map[_0x42d5cf(0x10d)](),map[_0x42d5cf(0x92)](),player[_0x42d5cf(0x8f)](),playerInterface[_0x42d5cf(0x8f)](),map[_0x42d5cf(0x7f)](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0x30a905=_0x666557;player['x']=map[_0x30a905(0x95)]['x'],player['y']=map[_0x30a905(0x95)]['y'],map[_0x30a905(0xc4)]=map[_0x30a905(0xe3)];var _0x351e51=[];for(let _0x9d07a=map[_0x30a905(0xc4)][_0x30a905(0x90)]-0x1;_0x9d07a>=0x0;_0x9d07a--){switch(map['tiles'][_0x9d07a][_0x30a905(0x102)]){case 0xd:map['enemies'][_0x30a905(0x81)](new Monster(map[_0x30a905(0xc4)][_0x9d07a]['x'],map[_0x30a905(0xc4)][_0x9d07a]['y'])),_0x351e51[_0x30a905(0x81)](_0x9d07a);break;case 0xe:map[_0x30a905(0x8d)][_0x30a905(0x81)](new TeaMonster(map['tiles'][_0x9d07a]['x'],map[_0x30a905(0xc4)][_0x9d07a]['y'])),_0x351e51[_0x30a905(0x81)](_0x9d07a);break;case 0xf:map[_0x30a905(0x8d)][_0x30a905(0x81)](new MageMonster(map[_0x30a905(0xc4)][_0x9d07a]['x'],map[_0x30a905(0xc4)][_0x9d07a]['y'])),_0x351e51[_0x30a905(0x81)](_0x9d07a);break;}}for(let _0x28f927=0x0;_0x28f927<_0x351e51['length'];_0x28f927++){map['tiles'][_0x30a905(0xde)](_0x351e51[_0x28f927],0x1);}}