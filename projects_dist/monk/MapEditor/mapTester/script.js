'use strict';const _0x3c2e1c=_0x1b01;function _0x141a(){const _0x31ae1e=['renderTiles','opener','180915YADFew','#ffffff','backgroundsX','downCounter','f_slowness','backgroundSizeH','tilesWidth','fromCharCode','fillRect','height','fgTiles','fistY','jumpSpeed','3781338KEMpdo','12562497EUbdgg','healthX','computeEnemies','206311cwitRj','mapObject','sin','hitbox','cos','left2','iFrameMax','healthMaxValue','aRXLboAut:bDlaCnVmkPdFGexfKcvefxIJIYSi','<br>R:\x20','bgTiles','tilesHeight','jumping','slice','friction','y:\x20','clearRect','x:\x20','fist','tiles','actionY','[RXLADCVmPdFGexfKcvefxIJIYSi]','fpsCounter','#20394f','safe\x20eval','down2','innerHTML','action','moveCamera','yVelExt','15PzywkW','backgroundsY','xVelExt','length','FPS:\x20','upRel','object','left','shakeAmountY','frameCounter','shake','width','replace','log','speed','indexOf','renderBgTiles','70AogpVe','disabled','colBool','atan2','ratio','heartsY','follow','charging','currentFrame','maxSpeed','backgroundPosX','mage','rightRel','stack','leftRel','col','gForce','<br>T:\x20','heartsX','frames','<br>B:\x20','up2','charCodeAt','spritesheet-bg','dead','21516eoTtsE','enemies','compute','render','accel','actionX','backgroundSheet','tileSize','<br>Collisions\x20','3866832YvgHkr','getContext','map','health','distance','stroke','<br>L:\x20','return\x20(function()\x20','attacked','shakeAmountX','f_action','fistX','downRel','tea','right','push','range','down','atkCounter','chargingAmount','drawImage','{}.constructor(\x22return\x20this\x22)(\x20)','right2','10BzCWdJ','create','fillStyle','laser','attacking','canvas','iFrame','yVel','slowness','192cJmRTO','type','backgroundPosY','renderBackground','f_frameCounter','imageSmoothingEnabled','backgroundSizeW','f_currentFrame','abs','healthY','random','xVel','none','healthAmount','spawnPoint','renderFgTiles','terminalVel','deathAnimation','1085220FxwDYq','getElementById','atkBox'];_0x141a=function(){return _0x31ae1e;};return _0x141a();}(function(_0x586143,_0x19a243){const _0x1e8af5=_0x1b01,_0x5ca68c=_0x586143();while(!![]){try{const _0xabcbad=-parseInt(_0x1e8af5(0x8b))/0x1+parseInt(_0x1e8af5(0xcb))/0x2*(parseInt(_0x1e8af5(0xe4))/0x3)+parseInt(_0x1e8af5(0x86))/0x4*(-parseInt(_0x1e8af5(0xba))/0x5)+-parseInt(_0x1e8af5(0x10d))/0x6*(-parseInt(_0x1e8af5(0x9c))/0x7)+-parseInt(_0x1e8af5(0xed))/0x8+parseInt(_0x1e8af5(0x99))/0x9*(parseInt(_0x1e8af5(0x104))/0xa)+-parseInt(_0x1e8af5(0x98))/0xb;if(_0xabcbad===_0x19a243)break;else _0x5ca68c['push'](_0x5ca68c['shift']());}catch(_0x3a2566){_0x5ca68c['push'](_0x5ca68c['shift']());}}}(_0x141a,0xbb82f));function id(_0x31cb97){const _0x412392=_0x1b01,_0x471421=(function(){let _0x492549=!![];return function(_0x25936c,_0x47dcea){const _0x45c754=_0x492549?function(){if(_0x47dcea){const _0x51e33c=_0x47dcea['apply'](_0x25936c,arguments);return _0x47dcea=null,_0x51e33c;}}:function(){};return _0x492549=![],_0x45c754;};}()),_0x3df286=_0x471421(this,function(){const _0xd460bc=_0x1b01,_0x4e50e3=function(){const _0x160f6e=_0x1b01;let _0x1c1e87;try{_0x1c1e87=Function(_0x160f6e(0xf4)+_0x160f6e(0x102)+');')();}catch(_0x430ddc){_0x1c1e87=window;}return _0x1c1e87;},_0x550b6e=_0x4e50e3(),_0x1ce770=new RegExp('[XHmKBJFjGqwIBVDRUSCMDPKCKUTqWFOHfMIRCXZHPPqmpJMHWOpDpBKJEJDCNSOzUCP]','g'),_0x3a455a='saantoXnaHndrme.gKiBthuJb.ioFj;GqlwoIcBalhostVDRUSCMDPKCKUTqWFOHfMIRCXZHPPqmpJMHWOpDpBKJEJDCNSOzUCP'[_0xd460bc(0xc6)](_0x1ce770,'')['split'](';');let _0x516205,_0x41ba0,_0x5f27bc,_0x27c0e9;const _0x30b9ca=function(_0x422c46,_0x122a8a,_0x19ac08){const _0x5343cc=_0xd460bc;if(_0x422c46[_0x5343cc(0xbd)]!=_0x122a8a)return![];for(let _0x5c264e=0x0;_0x5c264e<_0x122a8a;_0x5c264e++){for(let _0x27ac87=0x0;_0x27ac87<_0x19ac08[_0x5343cc(0xbd)];_0x27ac87+=0x2){if(_0x5c264e==_0x19ac08[_0x27ac87]&&_0x422c46[_0x5343cc(0xe1)](_0x5c264e)!=_0x19ac08[_0x27ac87+0x1])return![];}}return!![];},_0x59b7ee=function(_0x3cf372,_0x6cab7e,_0x26f991){return _0x30b9ca(_0x6cab7e,_0x26f991,_0x3cf372);},_0x367283=function(_0x3bd694,_0x5df2d4,_0x2ab868){return _0x59b7ee(_0x5df2d4,_0x3bd694,_0x2ab868);},_0x575160=function(_0x554d8d,_0x1dbcfd,_0x2eefcc){return _0x367283(_0x1dbcfd,_0x2eefcc,_0x554d8d);};for(let _0x4e980d in _0x550b6e){if(_0x30b9ca(_0x4e980d,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x516205=_0x4e980d;break;}}for(let _0x1c9193 in _0x550b6e[_0x516205]){if(_0x575160(0x6,_0x1c9193,[0x5,0x6e,0x0,0x64])){_0x41ba0=_0x1c9193;break;}}for(let _0x500150 in _0x550b6e[_0x516205]){if(_0x367283(_0x500150,[0x7,0x6e,0x0,0x6c],0x8)){_0x5f27bc=_0x500150;break;}}if(!('~'>_0x41ba0))for(let _0x519218 in _0x550b6e[_0x516205][_0x5f27bc]){if(_0x59b7ee([0x7,0x65,0x0,0x68],_0x519218,0x8)){_0x27c0e9=_0x519218;break;}}if(!_0x516205||!_0x550b6e[_0x516205])return;const _0x4e2f29=_0x550b6e[_0x516205][_0x41ba0],_0x5ba667=!!_0x550b6e[_0x516205][_0x5f27bc]&&_0x550b6e[_0x516205][_0x5f27bc][_0x27c0e9],_0x57d6aa=_0x4e2f29||_0x5ba667;if(!_0x57d6aa)return;let _0x42901=![];for(let _0x10db95=0x0;_0x10db95<_0x3a455a[_0xd460bc(0xbd)];_0x10db95++){const _0x429e9c=_0x3a455a[_0x10db95],_0x1d5caa=_0x429e9c[0x0]===String[_0xd460bc(0x92)](0x2e)?_0x429e9c[_0xd460bc(0xa9)](0x1):_0x429e9c,_0xae4474=_0x57d6aa[_0xd460bc(0xbd)]-_0x1d5caa[_0xd460bc(0xbd)],_0xd19688=_0x57d6aa[_0xd460bc(0xc9)](_0x1d5caa,_0xae4474),_0x411b47=_0xd19688!==-0x1&&_0xd19688===_0xae4474;_0x411b47&&((_0x57d6aa[_0xd460bc(0xbd)]==_0x429e9c[_0xd460bc(0xbd)]||_0x429e9c[_0xd460bc(0xc9)]('.')===0x0)&&(_0x42901=!![]));}if(!_0x42901){const _0x1bd0ac=new RegExp(_0xd460bc(0xb1),'g'),_0x1053fd=_0xd460bc(0xa4)[_0xd460bc(0xc6)](_0x1bd0ac,'');_0x550b6e[_0x516205][_0x5f27bc]=_0x1053fd;}});return _0x3df286(),document[_0x412392(0x87)](_0x31cb97);}window['onload']=function(){initializeMap();};const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id(_0x3c2e1c(0x109));canvas[_0x3c2e1c(0xc5)]=0x2d0,canvas[_0x3c2e1c(0x94)]=0x1e0;var c=canvas[_0x3c2e1c(0xee)]('2d');c[_0x3c2e1c(0x112)]=![];const SPRITESHEET=id('spritesheet'),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};class Star{constructor(){const _0x14a96d=_0x3c2e1c;this['r']=Math[_0x14a96d(0x7e)]()*0x3|0x0,stars[_0x14a96d(0xfc)]({'x':Math[_0x14a96d(0x7e)]()*canvas[_0x14a96d(0xc5)],'y':Math[_0x14a96d(0x7e)]()*canvas[_0x14a96d(0x94)],'width':this['r'],'height':this['r'],'xVel':Math['random']()/0xa,'yVel':Math[_0x14a96d(0x7e)]()/0xa});}}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function renderStars(){const _0x182491=_0x3c2e1c;for(let _0x38c7f2=0x0;_0x38c7f2<stars['length'];_0x38c7f2++){c['fill'](),c['fillStyle']=_0x182491(0x8c),c[_0x182491(0x93)](stars[_0x38c7f2]['x']|0x0*GLOBAL['ratio'],stars[_0x38c7f2]['y']|0x0*GLOBAL['ratio'],stars[_0x38c7f2]['width']*GLOBAL[_0x182491(0xcf)],stars[_0x38c7f2][_0x182491(0x94)]*GLOBAL[_0x182491(0xcf)]),c[_0x182491(0xf2)](),stars[_0x38c7f2]['x']>canvas[_0x182491(0xc5)]&&(stars[_0x38c7f2]['x']=0x0),stars[_0x38c7f2]['y']>canvas[_0x182491(0x94)]&&(stars[_0x38c7f2]['y']=0x0),stars[_0x38c7f2]['x']+=stars[_0x38c7f2][_0x182491(0x7f)],stars[_0x38c7f2]['y']+=stars[_0x38c7f2][_0x182491(0x7f)];}}function distribute(_0x58091f,_0x5e4eef,_0x3e5f33){const _0x4a1b36=_0x3c2e1c;let _0x3148da=[];while(_0x5e4eef['length']>_0x3148da[_0x4a1b36(0xbd)]){if(_0x58091f>_0x3e5f33)_0x3148da[_0x4a1b36(0xfc)](_0x3e5f33),_0x58091f-=_0x3e5f33;else _0x58091f!=0x0?(_0x3148da[_0x4a1b36(0xfc)](_0x58091f),_0x58091f=0x0):_0x5e4eef[_0x4a1b36(0xbd)]>_0x3148da[_0x4a1b36(0xbd)]&&_0x3148da[_0x4a1b36(0xfc)](_0x58091f);}return _0x3148da;}class Interface{constructor(){const _0x4f423e=_0x3c2e1c;this['shake']=0x0,this[_0x4f423e(0xa3)]=0x2,this['health']=[0x2,0x2,0x2],this[_0x4f423e(0xdd)]=[0x2,0x1,0x0],this[_0x4f423e(0xd0)]=[0x8,0x8,0x8],this[_0x4f423e(0x9a)]=canvas['width']/0x10/0x2/GLOBAL[_0x4f423e(0xcf)]-this[_0x4f423e(0xf0)][_0x4f423e(0xbd)]/0x2|0x0,this[_0x4f423e(0x7d)]=0x1,this[_0x4f423e(0xf6)],this[_0x4f423e(0xc2)];}[_0x3c2e1c(0xe7)](){const _0x5dd10c=_0x3c2e1c;this[_0x5dd10c(0xc4)]>0x0?(this[_0x5dd10c(0xf6)]=Math[_0x5dd10c(0x7e)]()*this[_0x5dd10c(0xc4)]*0x2-this[_0x5dd10c(0xc4)],this[_0x5dd10c(0xc2)]=Math['random']()*this[_0x5dd10c(0xc4)]*0x2-this[_0x5dd10c(0xc4)],this[_0x5dd10c(0xc4)]--):(this[_0x5dd10c(0xf6)]=0x0,this[_0x5dd10c(0xc2)]=0x0);this['health']=distribute(player[_0x5dd10c(0x81)],this[_0x5dd10c(0xf0)],this[_0x5dd10c(0xa3)]);for(let _0x9055d9=0x0;_0x9055d9<this['health'][_0x5dd10c(0xbd)];_0x9055d9++){c[_0x5dd10c(0x101)](SPRITESHEET,this['heartsX'][this['health'][_0x9055d9]]*GLOBAL[_0x5dd10c(0xeb)]|0x0,this[_0x5dd10c(0xd0)][this[_0x5dd10c(0xf0)][_0x9055d9]]*GLOBAL[_0x5dd10c(0xeb)]|0x0,GLOBAL[_0x5dd10c(0xeb)],GLOBAL[_0x5dd10c(0xeb)],this[_0x5dd10c(0xf6)]+(this[_0x5dd10c(0x9a)]+_0x9055d9)*GLOBAL[_0x5dd10c(0xeb)]*GLOBAL[_0x5dd10c(0xcf)]|0x0,this[_0x5dd10c(0xc2)]+this['healthY']*GLOBAL['tileSize']*GLOBAL[_0x5dd10c(0xcf)]|0x0,0x1*GLOBAL[_0x5dd10c(0xeb)]*GLOBAL[_0x5dd10c(0xcf)]|0x0,0x1*GLOBAL[_0x5dd10c(0xeb)]*GLOBAL[_0x5dd10c(0xcf)]|0x0);}}}var playerInterface=new Interface();class Player{constructor(){const _0x5deb38=_0x3c2e1c;this[_0x5deb38(0x81)]=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this[_0x5deb38(0xd2)]=![],this['chargingAmount']=0x0,this['accel']=0.2,this[_0x5deb38(0xd4)]=0.3,this[_0x5deb38(0xc1)]=![],this[_0x5deb38(0x7f)]=0x0,this[_0x5deb38(0x10b)]=0x0,this[_0x5deb38(0x10a)]=0x0,this['iFrameMax']=0x1e,this[_0x5deb38(0xf5)]=![],this[_0x5deb38(0xbc)]=0x0,this['yVelExt']=0x0,this[_0x5deb38(0xd3)]=0x0,this[_0x5deb38(0xc3)]=0x0,this[_0x5deb38(0x10c)]=0x3,this[_0x5deb38(0xb7)]=0x0,this[_0x5deb38(0xe9)]=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this[_0x5deb38(0xb0)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this[_0x5deb38(0x7b)]=0x0,this[_0x5deb38(0x111)]=0x0,this[_0x5deb38(0x8f)]=0x1,this['f_action']=0x0,this['fistX']=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this[_0x5deb38(0x96)]=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this[_0x5deb38(0xdb)]=0.035,this[_0x5deb38(0x97)]=0.12,this[_0x5deb38(0xa8)]=![],this[_0x5deb38(0xaa)]=0.8,this[_0x5deb38(0x108)]=0x0,this[_0x5deb38(0x9f)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x5deb38(0xda)]={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this[_0x5deb38(0xcd)]={'L':![],'R':![],'T':![],'B':![]},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}['fist'](_0x55021e){const _0x50c657=_0x3c2e1c;_0x55021e!==this[_0x50c657(0xf7)]+0x1&&(this['f_currentFrame']=0x0,this[_0x50c657(0x111)]=0x0);switch(_0x55021e){case 0x1:this[_0x50c657(0xf7)]=0x0,this[_0x50c657(0x88)]['w']=this['w'],this[_0x50c657(0x88)]['x']=this['x']-this[_0x50c657(0x88)]['w'],this[_0x50c657(0x88)]['h']=this['w']/0x2,this[_0x50c657(0x88)]['y']=this['y']+this['h']/0x2-this['atkBox']['h']/0x2;break;case 0x2:this[_0x50c657(0xf7)]=0x1,this[_0x50c657(0x88)]['w']=this['w'],this[_0x50c657(0x88)]['x']=this['x']+this['w'],this[_0x50c657(0x88)]['h']=this['w']/0x2,this['atkBox']['y']=this['y']+this['h']/0x2-this[_0x50c657(0x88)]['h']/0x2;break;case 0x3:this[_0x50c657(0xf7)]=0x2,this[_0x50c657(0x88)]['w']=this['w']/0x2,this[_0x50c657(0x88)]['x']=this['x']+this['w']/0x2-this[_0x50c657(0x88)]['w']/0x2,this[_0x50c657(0x88)]['h']=this['w'],this[_0x50c657(0x88)]['y']=this['y']-this[_0x50c657(0x88)]['h'];break;case 0x4:this['f_action']=0x3,this[_0x50c657(0x88)]['w']=this['w']/0x2,this[_0x50c657(0x88)]['x']=this['x']+this['w']/0x2-this[_0x50c657(0x88)]['w']/0x2,this['atkBox']['h']=this['w'],this[_0x50c657(0x88)]['y']=this['y']+this['h'];break;}let _0x4480b3=0x0,_0x2ae9c9=![];while(!_0x2ae9c9&&_0x4480b3<map[_0x50c657(0xaf)][_0x50c657(0xbd)]){if(collided(this[_0x50c657(0x88)],map['tiles'][_0x4480b3]))switch(_0x55021e){case 0x1:this['xVelExt']+=this['jumpSpeed']*(this[_0x50c657(0x100)]/0x3),_0x2ae9c9=!![];break;case 0x2:this[_0x50c657(0xbc)]-=this[_0x50c657(0x97)]*(this[_0x50c657(0x100)]/0x3),_0x2ae9c9=!![];break;case 0x3:this['yVel']+=this[_0x50c657(0x97)]/0x2,_0x2ae9c9=!![];break;case 0x4:this[_0x50c657(0xcd)]['B']&&(this[_0x50c657(0x10b)]-=this[_0x50c657(0x97)]*(this[_0x50c657(0x100)]/0x3));_0x2ae9c9=!![];break;}_0x4480b3++;}for(let _0x4b62a1=0x0;_0x4b62a1<map[_0x50c657(0xe5)]['length'];_0x4b62a1++){if(map[_0x50c657(0xe5)][_0x4b62a1][_0x50c657(0x10e)]!==_0x50c657(0xfa)&&!map[_0x50c657(0xe5)][_0x4b62a1]['dead']){if(collided(this['atkBox'],map[_0x50c657(0xe5)][_0x4b62a1])){map[_0x50c657(0xe5)][_0x4b62a1][_0x50c657(0xe3)]=!![];let _0x56714e=this['x']+this['w']/0x2,_0x9523ea=this['y']+this['h']/0x2,_0x263d3b=map[_0x50c657(0xe5)][_0x4b62a1]['x']-(this['x']+this['w']/0x2),_0x4da923=map[_0x50c657(0xe5)][_0x4b62a1]['y']-(this['y']+this['h']/0x2),_0x36777c=Math[_0x50c657(0xce)](_0x4da923,_0x263d3b);map[_0x50c657(0xe5)][_0x4b62a1]['xVel']=Math[_0x50c657(0xa0)](_0x36777c)*map[_0x50c657(0xe5)][_0x4b62a1][_0x50c657(0xc8)],map[_0x50c657(0xe5)][_0x4b62a1][_0x50c657(0x10b)]=Math['sin'](_0x36777c)*map[_0x50c657(0xe5)][_0x4b62a1][_0x50c657(0xc8)];}}}this['chargingAmount']=0x0;}[_0x3c2e1c(0xe6)](){const _0x2ebe58=_0x3c2e1c;this[_0x2ebe58(0x10b)]<GLOBAL[_0x2ebe58(0x84)]?!this['colBool']['B']&&(this[_0x2ebe58(0x10b)]+=this[_0x2ebe58(0xdb)]):this[_0x2ebe58(0x10b)]=GLOBAL[_0x2ebe58(0x84)];controls[_0x2ebe58(0xc1)]&&(this[_0x2ebe58(0x7f)]>-this[_0x2ebe58(0xd4)]&&(this[_0x2ebe58(0xcd)]['B']?this[_0x2ebe58(0x7f)]-=this['accel']:this[_0x2ebe58(0x7f)]-=this[_0x2ebe58(0xe8)]/0x2));controls[_0x2ebe58(0xfb)]&&(this[_0x2ebe58(0x7f)]<this['maxSpeed']&&(this[_0x2ebe58(0xcd)]['B']?this[_0x2ebe58(0x7f)]+=this[_0x2ebe58(0xe8)]:this[_0x2ebe58(0x7f)]+=this[_0x2ebe58(0xe8)]/0x2));this[_0x2ebe58(0x10b)]<0x0&&this[_0x2ebe58(0xda)]['T']&&(this[_0x2ebe58(0x10b)]=0x0);this[_0x2ebe58(0xcd)]['B']?(Math[_0x2ebe58(0x7c)](this[_0x2ebe58(0x7f)])>0.01?this[_0x2ebe58(0x7f)]*=this['friction']*0.5:this[_0x2ebe58(0x7f)]=0x0,this[_0x2ebe58(0xa8)]=![],this[_0x2ebe58(0x10b)]>0x0&&(this[_0x2ebe58(0x10b)]=0x0)):Math[_0x2ebe58(0x7c)](this['xVel'])>0.01?this[_0x2ebe58(0x7f)]*=this['friction']:this[_0x2ebe58(0x7f)]=0x0;(this['col']['R']&&this[_0x2ebe58(0x7f)]>0x0||this[_0x2ebe58(0xda)]['L']&&this[_0x2ebe58(0x7f)]<0x0)&&(this[_0x2ebe58(0x7f)]=0x0);this['x']+=this[_0x2ebe58(0x7f)],this['y']+=this[_0x2ebe58(0x10b)];if(controls[_0x2ebe58(0xa1)]||controls['right2']||controls[_0x2ebe58(0xe0)]||controls[_0x2ebe58(0xb5)]){this[_0x2ebe58(0xd2)]=!![];if(controls[_0x2ebe58(0xa1)])this[_0x2ebe58(0xc1)]=!![];else controls[_0x2ebe58(0x103)]&&(this[_0x2ebe58(0xc1)]=![]);}else this[_0x2ebe58(0xd2)]=![];this['charging']&&this[_0x2ebe58(0x100)]<0x14&&this[_0x2ebe58(0x100)]++;if(controls[_0x2ebe58(0xd9)])this['attacking']=0x4,this[_0x2ebe58(0x7b)]=0x0,this[_0x2ebe58(0x111)]=0x0,this[_0x2ebe58(0xae)](0x1);else{if(controls[_0x2ebe58(0xd7)])this['attacking']=0x4,this['f_currentFrame']=0x0,this[_0x2ebe58(0x111)]=0x0,this['fist'](0x2);else{if(controls[_0x2ebe58(0xbf)])this['attacking']=0x4,this[_0x2ebe58(0x7b)]=0x0,this['f_frameCounter']=0x0,this[_0x2ebe58(0xae)](0x3);else controls[_0x2ebe58(0xf9)]&&(this['attacking']=0x4,this[_0x2ebe58(0x7b)]=0x0,this[_0x2ebe58(0x111)]=0x0,this[_0x2ebe58(0xae)](0x4));}}this[_0x2ebe58(0xbc)]*=0.8,this[_0x2ebe58(0xb9)]*=0.8,this[_0x2ebe58(0xbc)]<0.01&&this[_0x2ebe58(0xbc)]>-0.01&&(this[_0x2ebe58(0xbc)]=0x0),this['yVelExt']<0.01&&this[_0x2ebe58(0xb9)]>-0.01&&(this[_0x2ebe58(0xb9)]=0x0),this['x']+=this['xVelExt'],this['y']+=this[_0x2ebe58(0xb9)],this[_0x2ebe58(0x9f)]['x']=this['x']+this['w']/0x4,this[_0x2ebe58(0x9f)]['w']=this['w']/0x2,this[_0x2ebe58(0x9f)]['h']=this['h'],this[_0x2ebe58(0x9f)]['y']=this['y'];}[_0x3c2e1c(0xe7)](){const _0x565d3b=_0x3c2e1c;if(!this[_0x565d3b(0xd2)]){if(this[_0x565d3b(0x7f)]>0x0)this[_0x565d3b(0xc1)]=![];else this[_0x565d3b(0x7f)]<0x0?this[_0x565d3b(0xc1)]=!![]:this[_0x565d3b(0xc1)]?this[_0x565d3b(0xb7)]=0x1:this[_0x565d3b(0xb7)]=0x0;if(!this[_0x565d3b(0xcd)]['B'])this[_0x565d3b(0xc1)]?this[_0x565d3b(0xb7)]=0x5:this[_0x565d3b(0xb7)]=0x4;else{if(this[_0x565d3b(0x7f)]!==0x0){if(!this['left'])player[_0x565d3b(0xb7)]=0x2,player[_0x565d3b(0xc1)]=![];else this[_0x565d3b(0xc1)]&&(player[_0x565d3b(0xb7)]=0x3,player[_0x565d3b(0xc1)]=!![]);}}}this[_0x565d3b(0xc3)]++,this[_0x565d3b(0xc3)]>this['slowness']&&(this[_0x565d3b(0xd3)]++,this[_0x565d3b(0xc3)]=0x0),this[_0x565d3b(0xd3)]>=this[_0x565d3b(0xe9)][this['action']][_0x565d3b(0xbd)]&&(this['currentFrame']=0x0,this[_0x565d3b(0xd2)]&&(this[_0x565d3b(0xd3)]=this['actionX'][this[_0x565d3b(0xb7)]][_0x565d3b(0xbd)]-0x2)),this[_0x565d3b(0xf5)]&&(this[_0x565d3b(0xd3)]=0x0,this[_0x565d3b(0x10a)]++%0x4&&(this['action']=0x6)),this[_0x565d3b(0xd2)]&&(this[_0x565d3b(0xc1)]?this[_0x565d3b(0xb7)]=0x8:this[_0x565d3b(0xb7)]=0x7),this[_0x565d3b(0x10a)]>this[_0x565d3b(0xa2)]&&(this[_0x565d3b(0xf5)]=![],this['iFrame']=0x0),c[_0x565d3b(0x101)](SPRITESHEET,this[_0x565d3b(0xe9)][this[_0x565d3b(0xb7)]][this['currentFrame']]*GLOBAL['tileSize']|0x0,this[_0x565d3b(0xb0)][this[_0x565d3b(0xb7)]][this[_0x565d3b(0xd3)]]*GLOBAL[_0x565d3b(0xeb)]|0x0,GLOBAL['tileSize']*0x2,GLOBAL[_0x565d3b(0xeb)]*0x2,map['x']+this['x']*GLOBAL['tileSize']*GLOBAL[_0x565d3b(0xcf)]|0x0,map['y']+this['y']*GLOBAL[_0x565d3b(0xeb)]*GLOBAL['ratio']|0x0,this['w']*GLOBAL[_0x565d3b(0xeb)]*GLOBAL[_0x565d3b(0xcf)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x565d3b(0xcf)]|0x0),this[_0x565d3b(0x108)]&&(this[_0x565d3b(0x111)]++,this[_0x565d3b(0x111)]>this[_0x565d3b(0x8f)]&&(this[_0x565d3b(0x7b)]++,this[_0x565d3b(0x111)]=0x0),this['f_currentFrame']>=this[_0x565d3b(0xf8)][this[_0x565d3b(0xf7)]][_0x565d3b(0xbd)]&&(this[_0x565d3b(0x7b)]=0x3),c['drawImage'](SPRITESHEET,this['fistX'][this[_0x565d3b(0xf7)]][this[_0x565d3b(0x7b)]]*GLOBAL[_0x565d3b(0xeb)]|0x0,this[_0x565d3b(0x96)][this[_0x565d3b(0xf7)]][this[_0x565d3b(0x7b)]]*GLOBAL['tileSize']|0x0,GLOBAL[_0x565d3b(0xeb)]*this[_0x565d3b(0x88)]['w'],GLOBAL[_0x565d3b(0xeb)]*this[_0x565d3b(0x88)]['h'],map['x']+this[_0x565d3b(0x88)]['x']*GLOBAL['tileSize']*GLOBAL[_0x565d3b(0xcf)]|0x0,map['y']+this['atkBox']['y']*GLOBAL[_0x565d3b(0xeb)]*GLOBAL['ratio']|0x0,this[_0x565d3b(0x88)]['w']*GLOBAL[_0x565d3b(0xeb)]*GLOBAL[_0x565d3b(0xcf)]|0x0,this[_0x565d3b(0x88)]['h']*GLOBAL[_0x565d3b(0xeb)]*GLOBAL[_0x565d3b(0xcf)]|0x0),this[_0x565d3b(0x108)]--);}}var player=new Player();setInterval(countFps,0x3e8);function countFps(){const _0x3a94b5=_0x3c2e1c;id('fps')[_0x3a94b5(0xb6)]=_0x3a94b5(0xbe)+GLOBAL['fpsCounter'],GLOBAL[_0x3a94b5(0xb2)]=0x0;}function displayDebug(){const _0x2d0ae1=_0x3c2e1c;id('px')[_0x2d0ae1(0xb6)]=_0x2d0ae1(0xad)+player['x'],id('py')['innerHTML']=_0x2d0ae1(0xab)+player['y'],id('pg')['innerHTML']=_0x2d0ae1(0xec),id('pg')[_0x2d0ae1(0xb6)]+=_0x2d0ae1(0xf3)+player[_0x2d0ae1(0xcd)]['L'],id('pg')['innerHTML']+=_0x2d0ae1(0xa5)+player[_0x2d0ae1(0xcd)]['R'],id('pg')['innerHTML']+=_0x2d0ae1(0xdc)+player[_0x2d0ae1(0xcd)]['T'],id('pg')[_0x2d0ae1(0xb6)]+=_0x2d0ae1(0xdf)+player[_0x2d0ae1(0xcd)]['B'];}function checkCollisions(){const _0x2e7d50=_0x3c2e1c;let _0x89ae4e=map[_0x2e7d50(0xaf)],_0x314a28=map[_0x2e7d50(0xe5)],_0x4416b5=_0x2e7d50(0x80);player[_0x2e7d50(0xda)]['L']=0x0,player['col']['R']=0x0,player['col']['T']=0x0,player[_0x2e7d50(0xda)]['B']=0x0,player[_0x2e7d50(0xcd)]['L']=![],player[_0x2e7d50(0xcd)]['R']=![],player[_0x2e7d50(0xcd)]['T']=![],player['colBool']['B']=![];for(let _0x2e9787=0x0;_0x2e9787<_0x89ae4e[_0x2e7d50(0xbd)];_0x2e9787++){if(collided(player,_0x89ae4e[_0x2e9787])){_0x4416b5=colCheck(player,_0x89ae4e[_0x2e9787]);switch(_0x4416b5){case'l':player['yVel']<0x0&&(player[_0x2e7d50(0xda)]['L']>player[_0x2e7d50(0x7f)]&&(player[_0x2e7d50(0xcd)]['L']=!![],player[_0x2e7d50(0x7f)]=0x0));break;case'r':player[_0x2e7d50(0x7f)]>0x0&&(player['col']['R']<player[_0x2e7d50(0x7f)]&&(player[_0x2e7d50(0xcd)]['R']=!![],player[_0x2e7d50(0x7f)]=0x0));break;case't':player[_0x2e7d50(0x10b)]<0x0&&(player['yVel']=0x0);player[_0x2e7d50(0xcd)]['T']=!![];break;case'b':player[_0x2e7d50(0x10b)]>0x0&&(player[_0x2e7d50(0x10b)]=0x0);player[_0x2e7d50(0xcd)]['B']=!![];break;}}}player[_0x2e7d50(0xcd)]['B']&&(player[_0x2e7d50(0xda)]['B']-=0.015625),player[_0x2e7d50(0xcd)]['L']&&(player[_0x2e7d50(0xda)]['L']-=0.015625),player[_0x2e7d50(0xcd)]['R']&&(player['col']['R']-=0.015625),player['x']-=player[_0x2e7d50(0xda)]['R']-player[_0x2e7d50(0xda)]['L'],player['y']-=player['col']['B']-player['col']['T'];}class Monster{constructor(_0x7808e4,_0x1f9dae){const _0x41b725=_0x3c2e1c;this['type']='monster',this['x']=_0x7808e4,this['y']=_0x1f9dae,this['w']=0x1,this['h']=0x1,this[_0x41b725(0x7f)]=0x0,this[_0x41b725(0x10b)]=0x0,this['speed']=0.1,this[_0x41b725(0xde)]=0xa,this['attacking']=![],this[_0x41b725(0xfd)]=0x3,this['dead']=![],this[_0x41b725(0x85)]=![],this['currentFrame']=0x0,this['frameCounter']=0x0,this['slowness']=0x3,this[_0x41b725(0x9f)]={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this['action']=0x0,this[_0x41b725(0xe9)]=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this['actionY']=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this[_0x41b725(0x88)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x3c2e1c(0xe6)](){const _0x1476b7=_0x3c2e1c;this[_0x1476b7(0xde)]--;if(this['frames']<=0x0){this['frames']=0xa;if(!this[_0x1476b7(0x108)]){this['atkBox']['x']=this['x']-this[_0x1476b7(0xfd)],this['atkBox']['y']=this['y']-this['range'],this[_0x1476b7(0x88)]['w']=this['w']+this[_0x1476b7(0xfd)]*0x2,this[_0x1476b7(0x88)]['h']=this['h']+this[_0x1476b7(0xfd)]*0x2;if(collided(this[_0x1476b7(0x88)],player)){this[_0x1476b7(0x108)]=!![];let _0x20a712=this['x']+this['w']/0x2,_0x3d075a=this['y']+this['h']/0x2,_0x4ad684=_0x20a712-(player['x']+player['w']/0x2),_0x28940d=_0x3d075a-(player['y']+player['h']/0x2),_0x5c3a0a=Math['atan2'](_0x28940d,_0x4ad684);this[_0x1476b7(0x7f)]=-Math['cos'](_0x5c3a0a)*this[_0x1476b7(0xc8)],this[_0x1476b7(0x10b)]=-Math[_0x1476b7(0x9e)](_0x5c3a0a)*this[_0x1476b7(0xc8)];}}else!this[_0x1476b7(0xe3)]&&collided(this,player)&&(player['healthAmount']>0x0&&player[_0x1476b7(0x10a)]==0x0&&(player['healthAmount']--,playerInterface[_0x1476b7(0xc4)]=0x4,player['attacked']=!![]));}this['x']+=this['xVel'],this['y']+=this[_0x1476b7(0x10b)],this['hitbox']['x']=this['x']+this['w']/0x2,this[_0x1476b7(0x9f)]['y']=this['y'];}['render'](){const _0x11b77e=_0x3c2e1c;this[_0x11b77e(0xe3)]&&!this['deathAnimation']&&(this['action']=0x1,this[_0x11b77e(0xc3)]=0x0,this['currentFrame']=0x0,this['deathAnimation']=!![]),this['frameCounter']++,this[_0x11b77e(0xc3)]>this[_0x11b77e(0x10c)]&&(this[_0x11b77e(0xd3)]++,this[_0x11b77e(0xc3)]=0x0),this[_0x11b77e(0xd3)]>=this[_0x11b77e(0xe9)][this[_0x11b77e(0xb7)]][_0x11b77e(0xbd)]&&(this[_0x11b77e(0xd3)]=0x0,this[_0x11b77e(0x85)]&&(this[_0x11b77e(0xb7)]=0x2)),c[_0x11b77e(0x101)](SPRITESHEET,this[_0x11b77e(0xe9)][this[_0x11b77e(0xb7)]][this[_0x11b77e(0xd3)]]*GLOBAL[_0x11b77e(0xeb)]|0x0,this[_0x11b77e(0xb0)][this['action']][this[_0x11b77e(0xd3)]]*GLOBAL['tileSize']|0x0,GLOBAL[_0x11b77e(0xeb)],GLOBAL[_0x11b77e(0xeb)],map['x']+this['x']*GLOBAL[_0x11b77e(0xeb)]*GLOBAL[_0x11b77e(0xcf)]|0x0,map['y']+this['y']*GLOBAL[_0x11b77e(0xeb)]*GLOBAL[_0x11b77e(0xcf)]|0x0,this['w']*GLOBAL['tileSize']*GLOBAL[_0x11b77e(0xcf)]|0x0,this['h']*GLOBAL[_0x11b77e(0xeb)]*GLOBAL[_0x11b77e(0xcf)]|0x0);}}class TeaMonster{constructor(_0x543a6f,_0x35419a){const _0x589bb6=_0x3c2e1c;this['x']=_0x543a6f,this['y']=_0x35419a,this['w']=0x1,this['h']=0x1,this[_0x589bb6(0x7f)]=0x0,this[_0x589bb6(0x10b)]=0x0,this[_0x589bb6(0xc8)]=0.1,this[_0x589bb6(0xde)]=0xa,this[_0x589bb6(0x108)]=![],this['range']=0x3,this[_0x589bb6(0xe3)]=![],this[_0x589bb6(0x85)]=![],this['currentFrame']=0x0,this[_0x589bb6(0xc3)]=0x0,this['type']='tea',this[_0x589bb6(0xe3)]=![],this[_0x589bb6(0x10c)]=0x3,this[_0x589bb6(0xff)]=0x0,this['downCounter']=0x0,this[_0x589bb6(0xfe)]=0x0,this['w']=0x3,this['h']=0x3,this[_0x589bb6(0xb7)]=0x0,this[_0x589bb6(0x9f)]={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this[_0x589bb6(0x88)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['actionX']=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this[_0x589bb6(0xb0)]=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}[_0x3c2e1c(0xe6)](){const _0x8f9996=_0x3c2e1c;this[_0x8f9996(0x9f)]['x']=this['x']-this[_0x8f9996(0xfe)],this[_0x8f9996(0x9f)]['y']=this['y']+this[_0x8f9996(0xfe)],this['hitbox']['w']=this['w']+this[_0x8f9996(0xfe)],this[_0x8f9996(0x9f)]['h']=this['h']-this[_0x8f9996(0xfe)],this[_0x8f9996(0xfe)]&&this[_0x8f9996(0x8e)]===0x1&&(collided(this,player)&&(player[_0x8f9996(0x10a)]==0x0&&(player[_0x8f9996(0xf5)]=!![],player[_0x8f9996(0xbc)]=-0x2,player[_0x8f9996(0x81)]-=0x2,player[_0x8f9996(0x81)]<0x0&&(player[_0x8f9996(0x81)]=0x0))));}[_0x3c2e1c(0xe7)](){const _0x3dd8e2=_0x3c2e1c;this['dead']=![],this[_0x3dd8e2(0xc3)]++,this['frameCounter']>this[_0x3dd8e2(0x10c)]&&(this[_0x3dd8e2(0xd3)]++,this[_0x3dd8e2(0xc3)]=0x0),this[_0x3dd8e2(0xd3)]>=this['actionX'][this['action']][_0x3dd8e2(0xbd)]&&(this[_0x3dd8e2(0xd3)]=0x0,this[_0x3dd8e2(0xb7)]==0x1&&(this['action']=0x2),this[_0x3dd8e2(0xb7)]==0x2&&this['atkCounter']++==0x2&&(this[_0x3dd8e2(0xb7)]=0x3),this['action']==0x3&&(this['down']=0x1,this['downCounter']++,this[_0x3dd8e2(0x8e)]==0x3&&(this['down']=0x0,this[_0x3dd8e2(0xb7)]=0x0,this[_0x3dd8e2(0x8e)]=0x0,this[_0x3dd8e2(0xff)]=0x0))),player['x']>this['x']-this[_0x3dd8e2(0xfd)]&&this[_0x3dd8e2(0xb7)]<0x1&&(this[_0x3dd8e2(0xb7)]=0x1,this[_0x3dd8e2(0xd3)]=0x0,this[_0x3dd8e2(0xc3)]=0x0),c[_0x3dd8e2(0x101)](SPRITESHEET,this['actionX'][this[_0x3dd8e2(0xb7)]][this[_0x3dd8e2(0xd3)]]*GLOBAL[_0x3dd8e2(0xeb)]|0x0,this[_0x3dd8e2(0xb0)][this[_0x3dd8e2(0xb7)]][this['currentFrame']]*GLOBAL['tileSize']|0x0,(this['w']+this[_0x3dd8e2(0xfe)])*GLOBAL['tileSize'],this['h']*GLOBAL['tileSize'],map['x']+(this['x']-this[_0x3dd8e2(0xfe)])*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x3dd8e2(0xeb)]*GLOBAL[_0x3dd8e2(0xcf)]|0x0,(this['w']+this[_0x3dd8e2(0xfe)])*GLOBAL[_0x3dd8e2(0xeb)]*GLOBAL[_0x3dd8e2(0xcf)]|0x0,this['h']*GLOBAL[_0x3dd8e2(0xeb)]*GLOBAL[_0x3dd8e2(0xcf)]|0x0);}}class MageAttack{constructor(_0x42efbd,_0x27acd8){const _0x6e735d=_0x3c2e1c;this['x']=_0x42efbd,this['y']=0x0,this['w']=0x2,this['h']=0xf,this[_0x6e735d(0xd3)]=0x0,this[_0x6e735d(0xc3)]=0x0,this[_0x6e735d(0x10e)]='attack',this[_0x6e735d(0xcc)]=!![],this[_0x6e735d(0x10c)]=0x3,this[_0x6e735d(0x108)]=![],this[_0x6e735d(0xb7)]=0x0,this['actionX']=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this[_0x6e735d(0xb0)]=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this[_0x6e735d(0xf1)]=0x0,this['speed']=0.3,this[_0x6e735d(0xd1)]=!![],this[_0x6e735d(0x9f)]={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}['compute'](){const _0x53cf23=_0x3c2e1c;this[_0x53cf23(0xf1)]=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this[_0x53cf23(0xd1)]){if(this[_0x53cf23(0xf1)]<0x0)this['x']+=this[_0x53cf23(0xf1)]/0xa;else this[_0x53cf23(0xf1)]>0x0&&(this['x']+=this[_0x53cf23(0xf1)]/0xa);}this[_0x53cf23(0x9f)]['x']=this['x']+(this['w']-this[_0x53cf23(0x9f)]['w'])/0x2,this[_0x53cf23(0xd3)]>0x5&&this[_0x53cf23(0xd3)]<0x9&&(this[_0x53cf23(0xd1)]=![],collided(this,player)&&(player[_0x53cf23(0x81)]>0x0&&player[_0x53cf23(0x10a)]==0x0&&(player['healthAmount']-=0x2,playerInterface[_0x53cf23(0xc4)]=0x4,player['attacked']=!![])));}[_0x3c2e1c(0xe7)](){const _0xb5c03b=_0x3c2e1c;this['frameCounter']++,this[_0xb5c03b(0xc3)]>this['slowness']&&(this[_0xb5c03b(0xd3)]++,this[_0xb5c03b(0xc3)]=0x0),this['currentFrame']>=this[_0xb5c03b(0xe9)][this[_0xb5c03b(0xb7)]][_0xb5c03b(0xbd)]&&(this[_0xb5c03b(0xd3)]=0x0,this['disabled']=!![]),c['drawImage'](SPRITESHEET,this['actionX'][this[_0xb5c03b(0xb7)]][this[_0xb5c03b(0xd3)]]*GLOBAL[_0xb5c03b(0xeb)]|0x0,this[_0xb5c03b(0xb0)][this[_0xb5c03b(0xb7)]][this[_0xb5c03b(0xd3)]]*GLOBAL[_0xb5c03b(0xeb)]|0x0,this['w']*GLOBAL['tileSize'],this['h']*GLOBAL[_0xb5c03b(0xeb)],map['x']+this['x']*GLOBAL[_0xb5c03b(0xeb)]*GLOBAL[_0xb5c03b(0xcf)]|0x0,this['y']*GLOBAL[_0xb5c03b(0xeb)]*GLOBAL[_0xb5c03b(0xcf)]|0x0,this['w']*GLOBAL[_0xb5c03b(0xeb)]*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0xb5c03b(0xeb)]*GLOBAL[_0xb5c03b(0xcf)]|0x0);}}class MageMonster{constructor(_0x585b5b,_0x35c34b){const _0xaa7ef7=_0x3c2e1c;this['x']=_0x585b5b,this['y']=_0x35c34b,this['w']=0x1,this['h']=0x1,this[_0xaa7ef7(0x7f)]=0x0,this[_0xaa7ef7(0x10b)]=0x0,this['speed']=0.1,this[_0xaa7ef7(0xde)]=0xa,this[_0xaa7ef7(0x108)]=![],this[_0xaa7ef7(0xfd)]=0x4,this[_0xaa7ef7(0xe3)]=![],this['deathAnimation']=![],this[_0xaa7ef7(0xd3)]=0x0,this[_0xaa7ef7(0xc3)]=0x0,this[_0xaa7ef7(0x10e)]=_0xaa7ef7(0xd6),this['dead']=![],this[_0xaa7ef7(0x10c)]=0x3,this[_0xaa7ef7(0xff)]=0x0,this[_0xaa7ef7(0x8e)]=0x0,this[_0xaa7ef7(0xfe)]=0x0,this['w']=0x2,this['h']=0x2,this[_0xaa7ef7(0xb7)]=0x0,this[_0xaa7ef7(0x9f)]={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this[_0xaa7ef7(0x88)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0xaa7ef7(0x107)]=new MageAttack(0x0,0x0),this[_0xaa7ef7(0xe9)]=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this[_0xaa7ef7(0xb0)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}['compute'](){const _0x3f84b1=_0x3c2e1c;this[_0x3f84b1(0xde)]--,this[_0x3f84b1(0xde)]<=0x0&&(this[_0x3f84b1(0xde)]=0xa,collided(this['atkBox'],player)?(this[_0x3f84b1(0x108)]=!![],this[_0x3f84b1(0x107)][_0x3f84b1(0xcc)]&&(this[_0x3f84b1(0x107)][_0x3f84b1(0xcc)]=![],this['laser'][_0x3f84b1(0xd1)]=!![],this['laser']['x']=this['x'])):this['attacking']=![],!this[_0x3f84b1(0x108)]?(this[_0x3f84b1(0x88)]['x']=this['x']-this[_0x3f84b1(0xfd)],this[_0x3f84b1(0x88)]['y']=this['y']-this[_0x3f84b1(0xfd)],this['atkBox']['w']=this['w']+this[_0x3f84b1(0xfd)]*0x2,this[_0x3f84b1(0x88)]['h']=this['h']+this[_0x3f84b1(0xfd)]*0x2):!this[_0x3f84b1(0xe3)]&&collided(this,player)&&(player[_0x3f84b1(0x81)]>0x0&&player[_0x3f84b1(0x10a)]==0x0&&(player[_0x3f84b1(0x81)]--,playerInterface['shake']=0x4,player[_0x3f84b1(0xf5)]=!![])));}['render'](){const _0x2efb5b=_0x3c2e1c;!this[_0x2efb5b(0x107)][_0x2efb5b(0xcc)]&&(this[_0x2efb5b(0x107)][_0x2efb5b(0xe6)](),this['laser'][_0x2efb5b(0xe7)]()),this[_0x2efb5b(0xe3)]=![],this[_0x2efb5b(0x108)]?this['action']=0x1:this[_0x2efb5b(0xb7)]=0x0,this['frameCounter']++,this[_0x2efb5b(0xc3)]>this['slowness']&&(this[_0x2efb5b(0xd3)]++,this['frameCounter']=0x0),this[_0x2efb5b(0xd3)]>=this['actionX'][this[_0x2efb5b(0xb7)]][_0x2efb5b(0xbd)]&&(this[_0x2efb5b(0xd3)]=0x0),c[_0x2efb5b(0x101)](SPRITESHEET,this[_0x2efb5b(0xe9)][this[_0x2efb5b(0xb7)]][this[_0x2efb5b(0xd3)]]*GLOBAL[_0x2efb5b(0xeb)]|0x0,this['actionY'][this[_0x2efb5b(0xb7)]][this['currentFrame']]*GLOBAL[_0x2efb5b(0xeb)]|0x0,(this['w']+this[_0x2efb5b(0xfe)])*GLOBAL[_0x2efb5b(0xeb)],this['h']*GLOBAL[_0x2efb5b(0xeb)],map['x']+(this['x']-this[_0x2efb5b(0xfe)])*GLOBAL[_0x2efb5b(0xeb)]*GLOBAL[_0x2efb5b(0xcf)]|0x0,map['y']+this['y']*GLOBAL[_0x2efb5b(0xeb)]*GLOBAL[_0x2efb5b(0xcf)]|0x0,(this['w']+this['down'])*GLOBAL[_0x2efb5b(0xeb)]*GLOBAL[_0x2efb5b(0xcf)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0);}}class Map{constructor(){const _0x29421e=_0x3c2e1c;this[_0x29421e(0x91)]=canvas[_0x29421e(0xc5)]/GLOBAL[_0x29421e(0xeb)]/GLOBAL[_0x29421e(0xcf)],this[_0x29421e(0xa7)]=canvas[_0x29421e(0x94)]/GLOBAL[_0x29421e(0xeb)]/GLOBAL['ratio'],this['x']=0x0,this['y']=0x0,this[_0x29421e(0xea)]=id(_0x29421e(0xe2)),this[_0x29421e(0x8d)]=[0x0,0x0,0x0],this[_0x29421e(0xbb)]=[0x0,0x96,0x12c],this[_0x29421e(0x113)]=0x1c2,this[_0x29421e(0x90)]=0x96,this[_0x29421e(0xd5)]=[0x0,0x0,0x0],this[_0x29421e(0x10f)]=[0x0,0x0,0x0],this[_0x29421e(0xa6)]=[],this[_0x29421e(0x95)]=[],this['map']=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this['spawnPoint']={'x':0xa,'y':0x0},this[_0x29421e(0xaf)]=[],this['enemies']=[];}[_0x3c2e1c(0xb8)](){const _0x17507a=_0x3c2e1c;this['x']=-(player['x']-0x8)*GLOBAL[_0x17507a(0xeb)]*GLOBAL[_0x17507a(0xcf)],this['y']=-(player['y']-0x8)*GLOBAL[_0x17507a(0xeb)]*GLOBAL[_0x17507a(0xcf)];}[_0x3c2e1c(0x89)](){const _0x2df542=_0x3c2e1c;for(let _0x41ed2a=0x0;_0x41ed2a<this[_0x2df542(0xaf)][_0x2df542(0xbd)];_0x41ed2a++){renderTile(this[_0x2df542(0xaf)][_0x41ed2a]);}}[_0x3c2e1c(0xca)](){const _0x36ef26=_0x3c2e1c;for(let _0x462ab4=0x0;_0x462ab4<this[_0x36ef26(0xa6)]['length'];_0x462ab4++){renderTile(this['bgTiles'][_0x462ab4]);}}[_0x3c2e1c(0x83)](){for(let _0x14d57d=0x0;_0x14d57d<this['fgTiles']['length'];_0x14d57d++){renderTile(this['tiles'][_0x14d57d]);}}['renderEnemies'](){const _0x81ad17=_0x3c2e1c;for(let _0x434c47=0x0;_0x434c47<this[_0x81ad17(0xe5)]['length'];_0x434c47++){this[_0x81ad17(0xe5)][_0x434c47][_0x81ad17(0xe7)]();}}[_0x3c2e1c(0x110)](){const _0x3ca011=_0x3c2e1c;this['backgroundPosX'][0x1]+=0.6,this[_0x3ca011(0xd5)][0x2]+=0.3;this[_0x3ca011(0xd5)][0x0]>this[_0x3ca011(0x113)]*GLOBAL[_0x3ca011(0xcf)]&&(this['backgroundPosX'][0x0]-=this['backgroundSizeW']*GLOBAL['ratio']);this[_0x3ca011(0xd5)][0x1]>this[_0x3ca011(0x113)]*GLOBAL[_0x3ca011(0xcf)]&&(this['backgroundPosX'][0x1]-=this[_0x3ca011(0x113)]*GLOBAL['ratio']);this[_0x3ca011(0xd5)][0x2]>this[_0x3ca011(0x113)]*GLOBAL[_0x3ca011(0xcf)]&&(this['backgroundPosX'][0x2]-=this[_0x3ca011(0x113)]*GLOBAL[_0x3ca011(0xcf)]);for(let _0x476fde=-0x1;_0x476fde<0x2;_0x476fde++){c[_0x3ca011(0x101)](this['backgroundSheet'],this[_0x3ca011(0x8d)][0x2]|0x0,this[_0x3ca011(0xbb)][0x2]|0x0,this[_0x3ca011(0x113)],this[_0x3ca011(0x90)],this[_0x3ca011(0x113)]*GLOBAL[_0x3ca011(0xcf)]*_0x476fde+this['backgroundPosX'][0x2]+this['x']/0x8,this[_0x3ca011(0x10f)][0x2],this[_0x3ca011(0x113)]*GLOBAL[_0x3ca011(0xcf)],this[_0x3ca011(0x90)]*GLOBAL[_0x3ca011(0xcf)]);}for(let _0x284bda=-0x1;_0x284bda<0x2;_0x284bda++){c[_0x3ca011(0x101)](this['backgroundSheet'],this[_0x3ca011(0x8d)][0x1]|0x0,this[_0x3ca011(0xbb)][0x1]|0x0,this[_0x3ca011(0x113)],this[_0x3ca011(0x90)],this[_0x3ca011(0x113)]*GLOBAL[_0x3ca011(0xcf)]*_0x284bda+this[_0x3ca011(0xd5)][0x1]+this['x']/0x6,this[_0x3ca011(0x10f)][0x1],this[_0x3ca011(0x113)]*GLOBAL[_0x3ca011(0xcf)],this[_0x3ca011(0x90)]*GLOBAL[_0x3ca011(0xcf)]);}for(let _0x3146b3=-0x1;_0x3146b3<0x2;_0x3146b3++){c[_0x3ca011(0x101)](this[_0x3ca011(0xea)],this[_0x3ca011(0x8d)][0x0]|0x0,this[_0x3ca011(0xbb)][0x0]|0x0,this[_0x3ca011(0x113)],this[_0x3ca011(0x90)],this[_0x3ca011(0x113)]*GLOBAL[_0x3ca011(0xcf)]*_0x3146b3+this['backgroundPosX'][0x0]+this['x']/0x4,this[_0x3ca011(0x10f)][0x0],this[_0x3ca011(0x113)]*GLOBAL[_0x3ca011(0xcf)],this[_0x3ca011(0x90)]*GLOBAL[_0x3ca011(0xcf)]);}c['fillStyle']=_0x3ca011(0xb3),c['fillRect'](0x0,this[_0x3ca011(0xbb)][0x0]+this[_0x3ca011(0x90)]*GLOBAL[_0x3ca011(0xcf)],canvas[_0x3ca011(0xc5)],this[_0x3ca011(0x90)]*GLOBAL[_0x3ca011(0xcf)]);}[_0x3c2e1c(0x9b)](){const _0x1e1c8c=_0x3c2e1c;for(let _0x418521=0x0;_0x418521<this[_0x1e1c8c(0xe5)][_0x1e1c8c(0xbd)];_0x418521++){this[_0x1e1c8c(0xe5)][_0x418521][_0x1e1c8c(0xe6)]();}}}var map=new Map(),mapTester=!![];window['opener']?window[_0x3c2e1c(0x8a)]['mapObject']?(debug[_0x3c2e1c(0xc7)](window[_0x3c2e1c(0x8a)][_0x3c2e1c(0x9d)]),safeEval(window[_0x3c2e1c(0x8a)][_0x3c2e1c(0x9d)]),initializeMap()):(safeEval(window[_0x3c2e1c(0x8a)][_0x3c2e1c(0xef)]),initializeMap()):mapTester=![];function safeEval(_0x27f95f){const _0x13616a=_0x3c2e1c;typeof _0x27f95f===_0x13616a(0xc0)&&_0x27f95f!==null&&(map['map']=Object[_0x13616a(0x105)](_0x27f95f[_0x13616a(0xef)]),map[_0x13616a(0x82)]=Object[_0x13616a(0x105)](_0x27f95f['spawnPoint']),console[_0x13616a(0xc7)](_0x13616a(0xb4)));}function renderTile(_0x3a322f){const _0x30ab95=_0x3c2e1c;if(_0x3a322f[_0x30ab95(0xd8)])c[_0x30ab95(0x101)](SPRITESHEET,tiles[_0x3a322f[_0x30ab95(0x10e)]][0x0]*GLOBAL[_0x30ab95(0xeb)]|0x0,tiles[_0x3a322f['type']][0x1]*GLOBAL[_0x30ab95(0xeb)]|0x0,_0x3a322f['w']*GLOBAL['tileSize'],_0x3a322f['h']*GLOBAL[_0x30ab95(0xeb)],map['x']+_0x3a322f['x']*GLOBAL[_0x30ab95(0xeb)]*GLOBAL[_0x30ab95(0xcf)]|0x0,map['y']+_0x3a322f['y']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,_0x3a322f['w']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,_0x3a322f['h']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0);else for(let _0x376185=0x0;_0x376185<_0x3a322f['w'];_0x376185++){for(let _0x3dca50=0x0;_0x3dca50<_0x3a322f['h'];_0x3dca50++){c['drawImage'](SPRITESHEET,tiles[_0x3a322f['type']][0x0]*GLOBAL[_0x30ab95(0xeb)]|0x0,tiles[_0x3a322f[_0x30ab95(0x10e)]][0x1]*GLOBAL['tileSize']|0x0,GLOBAL[_0x30ab95(0xeb)],GLOBAL[_0x30ab95(0xeb)],map['x']+(_0x3a322f['x']+_0x376185)*GLOBAL[_0x30ab95(0xeb)]*GLOBAL['ratio']|0x0,map['y']+(_0x3a322f['y']+_0x3dca50)*GLOBAL[_0x30ab95(0xeb)]*GLOBAL[_0x30ab95(0xcf)]|0x0,GLOBAL[_0x30ab95(0xeb)]*GLOBAL[_0x30ab95(0xcf)]|0x0,GLOBAL['tileSize']*GLOBAL[_0x30ab95(0xcf)]|0x0);}}}function _0x1b01(_0x3324eb,_0x4925d3){const _0x3abb68=_0x141a();return _0x1b01=function(_0x3e9f7d,_0x72cd97){_0x3e9f7d=_0x3e9f7d-0x7b;let _0x5a93bb=_0x3abb68[_0x3e9f7d];return _0x5a93bb;},_0x1b01(_0x3324eb,_0x4925d3);}function gameLoop(){const _0x1d94e2=_0x3c2e1c;GLOBAL[_0x1d94e2(0xb2)]++,setTimeout(gameLoop,0x3e8/GLOBAL['FPS']),c[_0x1d94e2(0xac)](0x0,0x0,canvas[_0x1d94e2(0xc5)],canvas['height']),c[_0x1d94e2(0x106)]='#08141e',c[_0x1d94e2(0x93)](0x0,0x0,canvas[_0x1d94e2(0xc5)],canvas[_0x1d94e2(0x94)]),renderStars(),map[_0x1d94e2(0x110)](),map['renderTiles'](),map['renderBgTiles'](),player[_0x1d94e2(0xe6)](),checkCollisions(),map[_0x1d94e2(0x9b)](),map['renderEnemies'](),player[_0x1d94e2(0xe7)](),playerInterface[_0x1d94e2(0xe7)](),map[_0x1d94e2(0xb8)](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0x4aaa3b=_0x3c2e1c;player['x']=map['spawnPoint']['x'],player['y']=map['spawnPoint']['y'],map['tiles']=map[_0x4aaa3b(0xef)];var _0x12e2db=[];for(let _0x5bcab2=map[_0x4aaa3b(0xaf)][_0x4aaa3b(0xbd)]-0x1;_0x5bcab2>=0x0;_0x5bcab2--){switch(map[_0x4aaa3b(0xaf)][_0x5bcab2][_0x4aaa3b(0x10e)]){case 0xd:map[_0x4aaa3b(0xe5)]['push'](new Monster(map[_0x4aaa3b(0xaf)][_0x5bcab2]['x'],map[_0x4aaa3b(0xaf)][_0x5bcab2]['y'])),_0x12e2db[_0x4aaa3b(0xfc)](_0x5bcab2);break;case 0xe:map[_0x4aaa3b(0xe5)]['push'](new TeaMonster(map[_0x4aaa3b(0xaf)][_0x5bcab2]['x'],map[_0x4aaa3b(0xaf)][_0x5bcab2]['y'])),_0x12e2db['push'](_0x5bcab2);break;case 0xf:map[_0x4aaa3b(0xe5)]['push'](new MageMonster(map['tiles'][_0x5bcab2]['x'],map[_0x4aaa3b(0xaf)][_0x5bcab2]['y'])),_0x12e2db[_0x4aaa3b(0xfc)](_0x5bcab2);break;}}for(let _0xee8ca6=0x0;_0xee8ca6<_0x12e2db[_0x4aaa3b(0xbd)];_0xee8ca6++){map[_0x4aaa3b(0xaf)]['splice'](_0x12e2db[_0xee8ca6],0x1);}}