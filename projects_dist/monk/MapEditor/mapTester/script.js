'use strict';const _0x43c625=_0x25ce;function _0x25ce(_0x50cf,_0x295db2){const _0x47c890=_0x5f33();return _0x25ce=function(_0x55a0f7,_0x56efae){_0x55a0f7=_0x55a0f7-0xfa;let _0x35e829=_0x47c890[_0x55a0f7];return _0x35e829;},_0x25ce(_0x50cf,_0x295db2);}(function(_0x294c55,_0x4439d6){const _0x34c259=_0x25ce,_0x4bd47b=_0x294c55();while(!![]){try{const _0x347e69=-parseInt(_0x34c259(0x108))/0x1+parseInt(_0x34c259(0x180))/0x2+parseInt(_0x34c259(0x15d))/0x3+-parseInt(_0x34c259(0x164))/0x4*(parseInt(_0x34c259(0x171))/0x5)+parseInt(_0x34c259(0x13b))/0x6+-parseInt(_0x34c259(0x130))/0x7*(-parseInt(_0x34c259(0x14f))/0x8)+-parseInt(_0x34c259(0x142))/0x9*(parseInt(_0x34c259(0x10e))/0xa);if(_0x347e69===_0x4439d6)break;else _0x4bd47b['push'](_0x4bd47b['shift']());}catch(_0x161181){_0x4bd47b['push'](_0x4bd47b['shift']());}}}(_0x5f33,0xa4b40));function id(_0x83b757){const _0x22a461=_0x25ce,_0x49af39=(function(){let _0x3a4745=!![];return function(_0x21d434,_0x189498){const _0x56ca92=_0x3a4745?function(){const _0xcb82dd=_0x25ce;if(_0x189498){const _0x91ee1=_0x189498[_0xcb82dd(0x105)](_0x21d434,arguments);return _0x189498=null,_0x91ee1;}}:function(){};return _0x3a4745=![],_0x56ca92;};}()),_0x234d02=_0x49af39(this,function(){const _0x1e6d3d=_0x25ce,_0x28e9e8=function(){const _0x119000=_0x25ce;let _0x27340c;try{_0x27340c=Function(_0x119000(0x170)+_0x119000(0x163)+');')();}catch(_0x4a9738){_0x27340c=window;}return _0x27340c;},_0xd14c16=_0x28e9e8(),_0x264f42=new RegExp('[DfLvCLjSfUfZOYABBYyvGWVjVvHGBEwCOMXVZSUPCPpSOFjQzTTmSZVOLYCNZOp]','g'),_0x212bef=_0x1e6d3d(0x153)[_0x1e6d3d(0x149)](_0x264f42,'')[_0x1e6d3d(0x119)](';');let _0x5dd3d9,_0x1084af,_0x409ffe,_0x5554d4;const _0xb1f0f0=function(_0x364542,_0x1f3d49,_0x198cab){const _0x4d212e=_0x1e6d3d;if(_0x364542[_0x4d212e(0x143)]!=_0x1f3d49)return![];for(let _0x9e9fae=0x0;_0x9e9fae<_0x1f3d49;_0x9e9fae++){for(let _0x4f3864=0x0;_0x4f3864<_0x198cab[_0x4d212e(0x143)];_0x4f3864+=0x2){if(_0x9e9fae==_0x198cab[_0x4f3864]&&_0x364542[_0x4d212e(0x11f)](_0x9e9fae)!=_0x198cab[_0x4f3864+0x1])return![];}}return!![];},_0x41f2e4=function(_0x585965,_0x8f5c20,_0x146764){return _0xb1f0f0(_0x8f5c20,_0x146764,_0x585965);},_0x54009d=function(_0x5db89c,_0x4da981,_0x3baeb8){return _0x41f2e4(_0x4da981,_0x5db89c,_0x3baeb8);},_0x58b10a=function(_0x1636d4,_0x245cec,_0x18d70d){return _0x54009d(_0x245cec,_0x18d70d,_0x1636d4);};for(let _0x53b90f in _0xd14c16){if(_0xb1f0f0(_0x53b90f,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5dd3d9=_0x53b90f;break;}}for(let _0x476321 in _0xd14c16[_0x5dd3d9]){if(_0x58b10a(0x6,_0x476321,[0x5,0x6e,0x0,0x64])){_0x1084af=_0x476321;break;}}for(let _0xda707e in _0xd14c16[_0x5dd3d9]){if(_0x54009d(_0xda707e,[0x7,0x6e,0x0,0x6c],0x8)){_0x409ffe=_0xda707e;break;}}if(!('~'>_0x1084af))for(let _0x4acae9 in _0xd14c16[_0x5dd3d9][_0x409ffe]){if(_0x41f2e4([0x7,0x65,0x0,0x68],_0x4acae9,0x8)){_0x5554d4=_0x4acae9;break;}}if(!_0x5dd3d9||!_0xd14c16[_0x5dd3d9])return;const _0xf4b168=_0xd14c16[_0x5dd3d9][_0x1084af],_0x2fd5f0=!!_0xd14c16[_0x5dd3d9][_0x409ffe]&&_0xd14c16[_0x5dd3d9][_0x409ffe][_0x5554d4],_0x5101ef=_0xf4b168||_0x2fd5f0;if(!_0x5101ef)return;let _0x371f10=![];for(let _0x3c2d87=0x0;_0x3c2d87<_0x212bef[_0x1e6d3d(0x143)];_0x3c2d87++){const _0x30af6e=_0x212bef[_0x3c2d87],_0x94ee1c=_0x30af6e[0x0]===String[_0x1e6d3d(0x13a)](0x2e)?_0x30af6e[_0x1e6d3d(0xfa)](0x1):_0x30af6e,_0x51ec13=_0x5101ef['length']-_0x94ee1c[_0x1e6d3d(0x143)],_0x2bb7ae=_0x5101ef[_0x1e6d3d(0x107)](_0x94ee1c,_0x51ec13),_0x4ba618=_0x2bb7ae!==-0x1&&_0x2bb7ae===_0x51ec13;_0x4ba618&&((_0x5101ef[_0x1e6d3d(0x143)]==_0x30af6e['length']||_0x30af6e[_0x1e6d3d(0x107)]('.')===0x0)&&(_0x371f10=!![]));}if(!_0x371f10){const _0x27e24f=new RegExp(_0x1e6d3d(0x11d),'g'),_0x5346d=_0x1e6d3d(0x129)['replace'](_0x27e24f,'');_0xd14c16[_0x5dd3d9][_0x409ffe]=_0x5346d;}});return _0x234d02(),document[_0x22a461(0x175)](_0x83b757);}window[_0x43c625(0x156)]=function(){initializeMap();};const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id(_0x43c625(0x16c));canvas[_0x43c625(0x184)]=0x2d0,canvas[_0x43c625(0x10a)]=0x1e0;var c=canvas[_0x43c625(0x148)]('2d');c['imageSmoothingEnabled']=![];const SPRITESHEET=id('spritesheet'),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};function _0x5f33(){const _0x2d6ec7=['499824NzyZNJ','enemies','frameCounter','chargingAmount','log','attacked','{}.constructor(\x22return\x20this\x22)(\x20)','67284snYLGt','left','tilesHeight','<br>R:\x20','fgTiles','terminalVel','spritesheet-bg','opener','canvas','frames','left2','clearRect','return\x20(function()\x20','40zyyOdy','right','push','slowness','getElementById','action','range','downCounter','bgTiles','none','health','deathAnimation','shakeAmountY','upRel','healthMaxValue','1984356pcOLyM','friction','col','laser','width','right2','fistY','dead','compute','<br>L:\x20','speed','backgroundSizeH','innerHTML','slice','monster','downRel','tilesWidth','tiles','currentFrame','spawnPoint','sin','tea','f_frameCounter','renderTiles','apply','ratio','indexOf','1222450GkkzTq','iFrameMax','height','f_slowness','atkCounter','xVelExt','5920940DsMMFr','hitbox','charging','mage','yVel','maxSpeed','backgroundsY','atan2','xVel','abs','computeEnemies','split','backgroundPosX','jumping','jumpSpeed','[gHRyRvUZBdDPNURhwcTUQUvKKhMRqDr]','create','charCodeAt','map','fistX','healthAmount','FPS:\x20','#08141e','backgroundSizeW','atkBox','accel','heartsX','agHRyRbvUZoBdDPuNUt:blRahwcTUnQkUvKKhMRqDr','mapObject','disabled','yVelExt','backgroundsX','rightRel','safe\x20eval','56OgpERL','render','healthX','backgroundSheet','drawImage','colBool','shake','tileSize','f_currentFrame','iFrame','fromCharCode','4431192nfTviX','backgroundPosY','down','fillRect','actionY','stack','cos','18lGjZsw','length','random','y:\x20','renderEnemies','x:\x20','getContext','replace','FPS','heartsY','fpsCounter','leftRel','distance','1318512OTvOXG','actionX','fist','healthY','sDaanfLtonvanCLdrej.gitShfUfuZb.Oio;YlABoBYycvGWalhVosjVtvHGBEwCOMXVZSUPCPpSOFjQzTTmSZVOLYCNZOp','fillStyle','stroke','onload','moveCamera','type','attacking','follow','shakeAmountX','f_action'];_0x5f33=function(){return _0x2d6ec7;};return _0x5f33();}class Star{constructor(){const _0x35ec7b=_0x43c625;this['r']=Math[_0x35ec7b(0x144)]()*0x3|0x0,stars[_0x35ec7b(0x173)]({'x':Math['random']()*canvas[_0x35ec7b(0x184)],'y':Math[_0x35ec7b(0x144)]()*canvas['height'],'width':this['r'],'height':this['r'],'xVel':Math['random']()/0xa,'yVel':Math[_0x35ec7b(0x144)]()/0xa});}}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function renderStars(){const _0x1255cb=_0x43c625;for(let _0xf84b3a=0x0;_0xf84b3a<stars[_0x1255cb(0x143)];_0xf84b3a++){c['fill'](),c['fillStyle']='#ffffff',c[_0x1255cb(0x13e)](stars[_0xf84b3a]['x']|0x0*GLOBAL[_0x1255cb(0x106)],stars[_0xf84b3a]['y']|0x0*GLOBAL[_0x1255cb(0x106)],stars[_0xf84b3a][_0x1255cb(0x184)]*GLOBAL['ratio'],stars[_0xf84b3a][_0x1255cb(0x10a)]*GLOBAL[_0x1255cb(0x106)]),c[_0x1255cb(0x155)](),stars[_0xf84b3a]['x']>canvas['width']&&(stars[_0xf84b3a]['x']=0x0),stars[_0xf84b3a]['y']>canvas['height']&&(stars[_0xf84b3a]['y']=0x0),stars[_0xf84b3a]['x']+=stars[_0xf84b3a][_0x1255cb(0x116)],stars[_0xf84b3a]['y']+=stars[_0xf84b3a]['xVel'];}}function distribute(_0x430d27,_0x25a893,_0x3f0459){const _0x328340=_0x43c625;let _0x373c51=[];while(_0x25a893[_0x328340(0x143)]>_0x373c51['length']){if(_0x430d27>_0x3f0459)_0x373c51[_0x328340(0x173)](_0x3f0459),_0x430d27-=_0x3f0459;else _0x430d27!=0x0?(_0x373c51[_0x328340(0x173)](_0x430d27),_0x430d27=0x0):_0x25a893[_0x328340(0x143)]>_0x373c51[_0x328340(0x143)]&&_0x373c51[_0x328340(0x173)](_0x430d27);}return _0x373c51;}class Interface{constructor(){const _0x221272=_0x43c625;this[_0x221272(0x136)]=0x0,this['healthMaxValue']=0x2,this[_0x221272(0x17b)]=[0x2,0x2,0x2],this[_0x221272(0x128)]=[0x2,0x1,0x0],this[_0x221272(0x14b)]=[0x8,0x8,0x8],this['healthX']=canvas[_0x221272(0x184)]/0x10/0x2/GLOBAL[_0x221272(0x106)]-this[_0x221272(0x17b)][_0x221272(0x143)]/0x2|0x0,this[_0x221272(0x152)]=0x1,this['shakeAmountX'],this[_0x221272(0x17d)];}[_0x43c625(0x131)](){const _0xe3db1a=_0x43c625;this[_0xe3db1a(0x136)]>0x0?(this[_0xe3db1a(0x15b)]=Math[_0xe3db1a(0x144)]()*this[_0xe3db1a(0x136)]*0x2-this['shake'],this[_0xe3db1a(0x17d)]=Math[_0xe3db1a(0x144)]()*this['shake']*0x2-this[_0xe3db1a(0x136)],this[_0xe3db1a(0x136)]--):(this[_0xe3db1a(0x15b)]=0x0,this['shakeAmountY']=0x0);this[_0xe3db1a(0x17b)]=distribute(player['healthAmount'],this[_0xe3db1a(0x17b)],this[_0xe3db1a(0x17f)]);for(let _0x148017=0x0;_0x148017<this[_0xe3db1a(0x17b)][_0xe3db1a(0x143)];_0x148017++){c[_0xe3db1a(0x134)](SPRITESHEET,this[_0xe3db1a(0x128)][this['health'][_0x148017]]*GLOBAL[_0xe3db1a(0x137)]|0x0,this['heartsY'][this[_0xe3db1a(0x17b)][_0x148017]]*GLOBAL[_0xe3db1a(0x137)]|0x0,GLOBAL[_0xe3db1a(0x137)],GLOBAL[_0xe3db1a(0x137)],this[_0xe3db1a(0x15b)]+(this[_0xe3db1a(0x132)]+_0x148017)*GLOBAL[_0xe3db1a(0x137)]*GLOBAL['ratio']|0x0,this['shakeAmountY']+this[_0xe3db1a(0x152)]*GLOBAL[_0xe3db1a(0x137)]*GLOBAL['ratio']|0x0,0x1*GLOBAL['tileSize']*GLOBAL[_0xe3db1a(0x106)]|0x0,0x1*GLOBAL[_0xe3db1a(0x137)]*GLOBAL[_0xe3db1a(0x106)]|0x0);}}}var playerInterface=new Interface();class Player{constructor(){const _0x482cbb=_0x43c625;this['healthAmount']=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this['charging']=![],this[_0x482cbb(0x160)]=0x0,this['accel']=0.2,this[_0x482cbb(0x113)]=0.3,this[_0x482cbb(0x165)]=![],this[_0x482cbb(0x116)]=0x0,this[_0x482cbb(0x112)]=0x0,this[_0x482cbb(0x139)]=0x0,this[_0x482cbb(0x109)]=0x1e,this[_0x482cbb(0x162)]=![],this[_0x482cbb(0x10d)]=0x0,this[_0x482cbb(0x12c)]=0x0,this[_0x482cbb(0xff)]=0x0,this['frameCounter']=0x0,this[_0x482cbb(0x174)]=0x3,this[_0x482cbb(0x176)]=0x0,this[_0x482cbb(0x150)]=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this['actionY']=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this[_0x482cbb(0x138)]=0x0,this['f_frameCounter']=0x0,this[_0x482cbb(0x10b)]=0x1,this[_0x482cbb(0x15c)]=0x0,this['fistX']=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this['fistY']=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this['gForce']=0.035,this[_0x482cbb(0x11c)]=0.12,this[_0x482cbb(0x11b)]=![],this[_0x482cbb(0x181)]=0.8,this[_0x482cbb(0x159)]=0x0,this['hitbox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x482cbb(0x182)]={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this[_0x482cbb(0x135)]={'L':![],'R':![],'T':![],'B':![]},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x43c625(0x151)](_0x2ec29a){const _0x2c38c2=_0x43c625;_0x2ec29a!==this[_0x2c38c2(0x15c)]+0x1&&(this[_0x2c38c2(0x138)]=0x0,this[_0x2c38c2(0x103)]=0x0);switch(_0x2ec29a){case 0x1:this['f_action']=0x0,this[_0x2c38c2(0x126)]['w']=this['w'],this['atkBox']['x']=this['x']-this[_0x2c38c2(0x126)]['w'],this[_0x2c38c2(0x126)]['h']=this['w']/0x2,this['atkBox']['y']=this['y']+this['h']/0x2-this[_0x2c38c2(0x126)]['h']/0x2;break;case 0x2:this[_0x2c38c2(0x15c)]=0x1,this['atkBox']['w']=this['w'],this[_0x2c38c2(0x126)]['x']=this['x']+this['w'],this[_0x2c38c2(0x126)]['h']=this['w']/0x2,this[_0x2c38c2(0x126)]['y']=this['y']+this['h']/0x2-this[_0x2c38c2(0x126)]['h']/0x2;break;case 0x3:this['f_action']=0x2,this[_0x2c38c2(0x126)]['w']=this['w']/0x2,this['atkBox']['x']=this['x']+this['w']/0x2-this['atkBox']['w']/0x2,this['atkBox']['h']=this['w'],this[_0x2c38c2(0x126)]['y']=this['y']-this[_0x2c38c2(0x126)]['h'];break;case 0x4:this['f_action']=0x3,this[_0x2c38c2(0x126)]['w']=this['w']/0x2,this[_0x2c38c2(0x126)]['x']=this['x']+this['w']/0x2-this[_0x2c38c2(0x126)]['w']/0x2,this[_0x2c38c2(0x126)]['h']=this['w'],this[_0x2c38c2(0x126)]['y']=this['y']+this['h'];break;}let _0x553625=0x0,_0xafb414=![];while(!_0xafb414&&_0x553625<map[_0x2c38c2(0xfe)][_0x2c38c2(0x143)]){if(collided(this[_0x2c38c2(0x126)],map[_0x2c38c2(0xfe)][_0x553625]))switch(_0x2ec29a){case 0x1:this[_0x2c38c2(0x10d)]+=this['jumpSpeed']*(this[_0x2c38c2(0x160)]/0x3),_0xafb414=!![];break;case 0x2:this[_0x2c38c2(0x10d)]-=this['jumpSpeed']*(this[_0x2c38c2(0x160)]/0x3),_0xafb414=!![];break;case 0x3:this['yVel']+=this[_0x2c38c2(0x11c)]/0x2,_0xafb414=!![];break;case 0x4:this[_0x2c38c2(0x135)]['B']&&(this[_0x2c38c2(0x112)]-=this[_0x2c38c2(0x11c)]*(this['chargingAmount']/0x3));_0xafb414=!![];break;}_0x553625++;}for(let _0x177c2d=0x0;_0x177c2d<map[_0x2c38c2(0x15e)][_0x2c38c2(0x143)];_0x177c2d++){if(map[_0x2c38c2(0x15e)][_0x177c2d][_0x2c38c2(0x158)]!==_0x2c38c2(0x102)&&!map[_0x2c38c2(0x15e)][_0x177c2d]['dead']){if(collided(this[_0x2c38c2(0x126)],map[_0x2c38c2(0x15e)][_0x177c2d])){map[_0x2c38c2(0x15e)][_0x177c2d]['dead']=!![];let _0x2faec2=this['x']+this['w']/0x2,_0xa1949e=this['y']+this['h']/0x2,_0xc07c3b=map['enemies'][_0x177c2d]['x']-(this['x']+this['w']/0x2),_0x1aeb3f=map[_0x2c38c2(0x15e)][_0x177c2d]['y']-(this['y']+this['h']/0x2),_0x2e8855=Math['atan2'](_0x1aeb3f,_0xc07c3b);map['enemies'][_0x177c2d][_0x2c38c2(0x116)]=Math[_0x2c38c2(0x141)](_0x2e8855)*map['enemies'][_0x177c2d]['speed'],map['enemies'][_0x177c2d]['yVel']=Math['sin'](_0x2e8855)*map[_0x2c38c2(0x15e)][_0x177c2d][_0x2c38c2(0x18a)];}}}this[_0x2c38c2(0x160)]=0x0;}[_0x43c625(0x188)](){const _0x32ef47=_0x43c625;this[_0x32ef47(0x112)]<GLOBAL[_0x32ef47(0x169)]?!this[_0x32ef47(0x135)]['B']&&(this[_0x32ef47(0x112)]+=this['gForce']):this[_0x32ef47(0x112)]=GLOBAL[_0x32ef47(0x169)];controls['left']&&(this['xVel']>-this['maxSpeed']&&(this[_0x32ef47(0x135)]['B']?this[_0x32ef47(0x116)]-=this[_0x32ef47(0x127)]:this[_0x32ef47(0x116)]-=this['accel']/0x2));controls[_0x32ef47(0x172)]&&(this[_0x32ef47(0x116)]<this[_0x32ef47(0x113)]&&(this[_0x32ef47(0x135)]['B']?this[_0x32ef47(0x116)]+=this['accel']:this[_0x32ef47(0x116)]+=this[_0x32ef47(0x127)]/0x2));this[_0x32ef47(0x112)]<0x0&&this[_0x32ef47(0x182)]['T']&&(this[_0x32ef47(0x112)]=0x0);this[_0x32ef47(0x135)]['B']?(Math[_0x32ef47(0x117)](this[_0x32ef47(0x116)])>0.01?this['xVel']*=this['friction']*0.5:this[_0x32ef47(0x116)]=0x0,this[_0x32ef47(0x11b)]=![],this[_0x32ef47(0x112)]>0x0&&(this[_0x32ef47(0x112)]=0x0)):Math[_0x32ef47(0x117)](this['xVel'])>0.01?this['xVel']*=this[_0x32ef47(0x181)]:this['xVel']=0x0;(this[_0x32ef47(0x182)]['R']&&this[_0x32ef47(0x116)]>0x0||this[_0x32ef47(0x182)]['L']&&this[_0x32ef47(0x116)]<0x0)&&(this[_0x32ef47(0x116)]=0x0);this['x']+=this['xVel'],this['y']+=this['yVel'];if(controls[_0x32ef47(0x16e)]||controls[_0x32ef47(0x185)]||controls['up2']||controls['down2']){this[_0x32ef47(0x110)]=!![];if(controls[_0x32ef47(0x16e)])this['left']=!![];else controls[_0x32ef47(0x185)]&&(this[_0x32ef47(0x165)]=![]);}else this[_0x32ef47(0x110)]=![];this[_0x32ef47(0x110)]&&this[_0x32ef47(0x160)]<0x14&&this['chargingAmount']++;if(controls[_0x32ef47(0x14d)])this[_0x32ef47(0x159)]=0x4,this[_0x32ef47(0x138)]=0x0,this['f_frameCounter']=0x0,this[_0x32ef47(0x151)](0x1);else{if(controls[_0x32ef47(0x12e)])this[_0x32ef47(0x159)]=0x4,this[_0x32ef47(0x138)]=0x0,this[_0x32ef47(0x103)]=0x0,this[_0x32ef47(0x151)](0x2);else{if(controls[_0x32ef47(0x17e)])this[_0x32ef47(0x159)]=0x4,this[_0x32ef47(0x138)]=0x0,this[_0x32ef47(0x103)]=0x0,this[_0x32ef47(0x151)](0x3);else controls[_0x32ef47(0xfc)]&&(this['attacking']=0x4,this[_0x32ef47(0x138)]=0x0,this[_0x32ef47(0x103)]=0x0,this[_0x32ef47(0x151)](0x4));}}this[_0x32ef47(0x10d)]*=0.8,this[_0x32ef47(0x12c)]*=0.8,this[_0x32ef47(0x10d)]<0.01&&this[_0x32ef47(0x10d)]>-0.01&&(this[_0x32ef47(0x10d)]=0x0),this[_0x32ef47(0x12c)]<0.01&&this[_0x32ef47(0x12c)]>-0.01&&(this[_0x32ef47(0x12c)]=0x0),this['x']+=this[_0x32ef47(0x10d)],this['y']+=this[_0x32ef47(0x12c)],this['hitbox']['x']=this['x']+this['w']/0x4,this[_0x32ef47(0x10f)]['w']=this['w']/0x2,this[_0x32ef47(0x10f)]['h']=this['h'],this[_0x32ef47(0x10f)]['y']=this['y'];}[_0x43c625(0x131)](){const _0x5cc388=_0x43c625;if(!this['charging']){if(this['xVel']>0x0)this['left']=![];else this[_0x5cc388(0x116)]<0x0?this[_0x5cc388(0x165)]=!![]:this[_0x5cc388(0x165)]?this[_0x5cc388(0x176)]=0x1:this['action']=0x0;if(!this[_0x5cc388(0x135)]['B'])this[_0x5cc388(0x165)]?this[_0x5cc388(0x176)]=0x5:this[_0x5cc388(0x176)]=0x4;else{if(this[_0x5cc388(0x116)]!==0x0){if(!this[_0x5cc388(0x165)])player[_0x5cc388(0x176)]=0x2,player[_0x5cc388(0x165)]=![];else this['left']&&(player[_0x5cc388(0x176)]=0x3,player[_0x5cc388(0x165)]=!![]);}}}this[_0x5cc388(0x15f)]++,this[_0x5cc388(0x15f)]>this[_0x5cc388(0x174)]&&(this[_0x5cc388(0xff)]++,this[_0x5cc388(0x15f)]=0x0),this[_0x5cc388(0xff)]>=this[_0x5cc388(0x150)][this[_0x5cc388(0x176)]]['length']&&(this[_0x5cc388(0xff)]=0x0,this[_0x5cc388(0x110)]&&(this['currentFrame']=this[_0x5cc388(0x150)][this[_0x5cc388(0x176)]][_0x5cc388(0x143)]-0x2)),this['attacked']&&(this[_0x5cc388(0xff)]=0x0,this['iFrame']++%0x4&&(this[_0x5cc388(0x176)]=0x6)),this['charging']&&(this[_0x5cc388(0x165)]?this[_0x5cc388(0x176)]=0x8:this[_0x5cc388(0x176)]=0x7),this[_0x5cc388(0x139)]>this[_0x5cc388(0x109)]&&(this['attacked']=![],this['iFrame']=0x0),c[_0x5cc388(0x134)](SPRITESHEET,this['actionX'][this[_0x5cc388(0x176)]][this[_0x5cc388(0xff)]]*GLOBAL[_0x5cc388(0x137)]|0x0,this[_0x5cc388(0x13f)][this[_0x5cc388(0x176)]][this[_0x5cc388(0xff)]]*GLOBAL[_0x5cc388(0x137)]|0x0,GLOBAL[_0x5cc388(0x137)]*0x2,GLOBAL[_0x5cc388(0x137)]*0x2,map['x']+this['x']*GLOBAL[_0x5cc388(0x137)]*GLOBAL[_0x5cc388(0x106)]|0x0,map['y']+this['y']*GLOBAL[_0x5cc388(0x137)]*GLOBAL[_0x5cc388(0x106)]|0x0,this['w']*GLOBAL[_0x5cc388(0x137)]*GLOBAL[_0x5cc388(0x106)]|0x0,this['h']*GLOBAL[_0x5cc388(0x137)]*GLOBAL[_0x5cc388(0x106)]|0x0),this[_0x5cc388(0x159)]&&(this['f_frameCounter']++,this[_0x5cc388(0x103)]>this[_0x5cc388(0x10b)]&&(this[_0x5cc388(0x138)]++,this[_0x5cc388(0x103)]=0x0),this[_0x5cc388(0x138)]>=this[_0x5cc388(0x121)][this[_0x5cc388(0x15c)]][_0x5cc388(0x143)]&&(this[_0x5cc388(0x138)]=0x3),c[_0x5cc388(0x134)](SPRITESHEET,this[_0x5cc388(0x121)][this[_0x5cc388(0x15c)]][this[_0x5cc388(0x138)]]*GLOBAL['tileSize']|0x0,this[_0x5cc388(0x186)][this[_0x5cc388(0x15c)]][this[_0x5cc388(0x138)]]*GLOBAL[_0x5cc388(0x137)]|0x0,GLOBAL[_0x5cc388(0x137)]*this[_0x5cc388(0x126)]['w'],GLOBAL['tileSize']*this[_0x5cc388(0x126)]['h'],map['x']+this[_0x5cc388(0x126)]['x']*GLOBAL[_0x5cc388(0x137)]*GLOBAL['ratio']|0x0,map['y']+this[_0x5cc388(0x126)]['y']*GLOBAL[_0x5cc388(0x137)]*GLOBAL['ratio']|0x0,this[_0x5cc388(0x126)]['w']*GLOBAL[_0x5cc388(0x137)]*GLOBAL[_0x5cc388(0x106)]|0x0,this[_0x5cc388(0x126)]['h']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0),this[_0x5cc388(0x159)]--);}}var player=new Player();setInterval(countFps,0x3e8);function countFps(){const _0x3127c8=_0x43c625;id('fps')[_0x3127c8(0x18c)]=_0x3127c8(0x123)+GLOBAL['fpsCounter'],GLOBAL[_0x3127c8(0x14c)]=0x0;}function displayDebug(){const _0x283408=_0x43c625;id('px')[_0x283408(0x18c)]=_0x283408(0x147)+player['x'],id('py')[_0x283408(0x18c)]=_0x283408(0x145)+player['y'],id('pg')[_0x283408(0x18c)]='<br>Collisions\x20',id('pg')[_0x283408(0x18c)]+=_0x283408(0x189)+player[_0x283408(0x135)]['L'],id('pg')[_0x283408(0x18c)]+=_0x283408(0x167)+player[_0x283408(0x135)]['R'],id('pg')[_0x283408(0x18c)]+='<br>T:\x20'+player['colBool']['T'],id('pg')['innerHTML']+='<br>B:\x20'+player[_0x283408(0x135)]['B'];}function checkCollisions(){const _0x2f6258=_0x43c625;let _0xbe5320=map[_0x2f6258(0xfe)],_0x4a2dc0=map[_0x2f6258(0x15e)],_0x617ab7=_0x2f6258(0x17a);player['col']['L']=0x0,player[_0x2f6258(0x182)]['R']=0x0,player[_0x2f6258(0x182)]['T']=0x0,player['col']['B']=0x0,player[_0x2f6258(0x135)]['L']=![],player[_0x2f6258(0x135)]['R']=![],player[_0x2f6258(0x135)]['T']=![],player[_0x2f6258(0x135)]['B']=![];for(let _0x164648=0x0;_0x164648<_0xbe5320[_0x2f6258(0x143)];_0x164648++){if(collided(player,_0xbe5320[_0x164648])){_0x617ab7=colCheck(player,_0xbe5320[_0x164648]);switch(_0x617ab7){case'l':player[_0x2f6258(0x112)]<0x0&&(player[_0x2f6258(0x182)]['L']>player[_0x2f6258(0x116)]&&(player[_0x2f6258(0x135)]['L']=!![],player[_0x2f6258(0x116)]=0x0));break;case'r':player[_0x2f6258(0x116)]>0x0&&(player[_0x2f6258(0x182)]['R']<player[_0x2f6258(0x116)]&&(player['colBool']['R']=!![],player[_0x2f6258(0x116)]=0x0));break;case't':player[_0x2f6258(0x112)]<0x0&&(player['yVel']=0x0);player[_0x2f6258(0x135)]['T']=!![];break;case'b':player[_0x2f6258(0x112)]>0x0&&(player[_0x2f6258(0x112)]=0x0);player[_0x2f6258(0x135)]['B']=!![];break;}}}player[_0x2f6258(0x135)]['B']&&(player[_0x2f6258(0x182)]['B']-=0.015625),player[_0x2f6258(0x135)]['L']&&(player[_0x2f6258(0x182)]['L']-=0.015625),player['colBool']['R']&&(player['col']['R']-=0.015625),player['x']-=player[_0x2f6258(0x182)]['R']-player['col']['L'],player['y']-=player[_0x2f6258(0x182)]['B']-player['col']['T'];}class Monster{constructor(_0x1a9b61,_0x1ab93c){const _0x1c367d=_0x43c625;this[_0x1c367d(0x158)]=_0x1c367d(0xfb),this['x']=_0x1a9b61,this['y']=_0x1ab93c,this['w']=0x1,this['h']=0x1,this[_0x1c367d(0x116)]=0x0,this['yVel']=0x0,this[_0x1c367d(0x18a)]=0.1,this['frames']=0xa,this[_0x1c367d(0x159)]=![],this['range']=0x3,this[_0x1c367d(0x187)]=![],this['deathAnimation']=![],this[_0x1c367d(0xff)]=0x0,this['frameCounter']=0x0,this['slowness']=0x3,this[_0x1c367d(0x10f)]={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this[_0x1c367d(0x176)]=0x0,this[_0x1c367d(0x150)]=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this[_0x1c367d(0x13f)]=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this[_0x1c367d(0x126)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x43c625(0x188)](){const _0x5c0606=_0x43c625;this[_0x5c0606(0x16d)]--;if(this[_0x5c0606(0x16d)]<=0x0){this[_0x5c0606(0x16d)]=0xa;if(!this[_0x5c0606(0x159)]){this[_0x5c0606(0x126)]['x']=this['x']-this['range'],this[_0x5c0606(0x126)]['y']=this['y']-this['range'],this[_0x5c0606(0x126)]['w']=this['w']+this[_0x5c0606(0x177)]*0x2,this[_0x5c0606(0x126)]['h']=this['h']+this[_0x5c0606(0x177)]*0x2;if(collided(this[_0x5c0606(0x126)],player)){this[_0x5c0606(0x159)]=!![];let _0x4905ac=this['x']+this['w']/0x2,_0x15892e=this['y']+this['h']/0x2,_0x117f59=_0x4905ac-(player['x']+player['w']/0x2),_0x1855ce=_0x15892e-(player['y']+player['h']/0x2),_0x44487f=Math[_0x5c0606(0x115)](_0x1855ce,_0x117f59);this[_0x5c0606(0x116)]=-Math[_0x5c0606(0x141)](_0x44487f)*this[_0x5c0606(0x18a)],this[_0x5c0606(0x112)]=-Math[_0x5c0606(0x101)](_0x44487f)*this[_0x5c0606(0x18a)];}}else!this[_0x5c0606(0x187)]&&collided(this,player)&&(player[_0x5c0606(0x122)]>0x0&&player[_0x5c0606(0x139)]==0x0&&(player['healthAmount']--,playerInterface[_0x5c0606(0x136)]=0x4,player[_0x5c0606(0x162)]=!![]));}this['x']+=this[_0x5c0606(0x116)],this['y']+=this[_0x5c0606(0x112)],this[_0x5c0606(0x10f)]['x']=this['x']+this['w']/0x2,this['hitbox']['y']=this['y'];}[_0x43c625(0x131)](){const _0x4516b7=_0x43c625;this[_0x4516b7(0x187)]&&!this['deathAnimation']&&(this[_0x4516b7(0x176)]=0x1,this[_0x4516b7(0x15f)]=0x0,this['currentFrame']=0x0,this[_0x4516b7(0x17c)]=!![]),this[_0x4516b7(0x15f)]++,this['frameCounter']>this[_0x4516b7(0x174)]&&(this[_0x4516b7(0xff)]++,this[_0x4516b7(0x15f)]=0x0),this['currentFrame']>=this['actionX'][this[_0x4516b7(0x176)]][_0x4516b7(0x143)]&&(this[_0x4516b7(0xff)]=0x0,this[_0x4516b7(0x17c)]&&(this[_0x4516b7(0x176)]=0x2)),c[_0x4516b7(0x134)](SPRITESHEET,this['actionX'][this[_0x4516b7(0x176)]][this[_0x4516b7(0xff)]]*GLOBAL[_0x4516b7(0x137)]|0x0,this[_0x4516b7(0x13f)][this[_0x4516b7(0x176)]][this[_0x4516b7(0xff)]]*GLOBAL[_0x4516b7(0x137)]|0x0,GLOBAL['tileSize'],GLOBAL['tileSize'],map['x']+this['x']*GLOBAL[_0x4516b7(0x137)]*GLOBAL[_0x4516b7(0x106)]|0x0,map['y']+this['y']*GLOBAL[_0x4516b7(0x137)]*GLOBAL['ratio']|0x0,this['w']*GLOBAL[_0x4516b7(0x137)]*GLOBAL[_0x4516b7(0x106)]|0x0,this['h']*GLOBAL[_0x4516b7(0x137)]*GLOBAL[_0x4516b7(0x106)]|0x0);}}class TeaMonster{constructor(_0x5441b4,_0x55e04c){const _0x2a8b3e=_0x43c625;this['x']=_0x5441b4,this['y']=_0x55e04c,this['w']=0x1,this['h']=0x1,this['xVel']=0x0,this[_0x2a8b3e(0x112)]=0x0,this['speed']=0.1,this['frames']=0xa,this[_0x2a8b3e(0x159)]=![],this['range']=0x3,this['dead']=![],this['deathAnimation']=![],this[_0x2a8b3e(0xff)]=0x0,this[_0x2a8b3e(0x15f)]=0x0,this[_0x2a8b3e(0x158)]=_0x2a8b3e(0x102),this[_0x2a8b3e(0x187)]=![],this[_0x2a8b3e(0x174)]=0x3,this[_0x2a8b3e(0x10c)]=0x0,this[_0x2a8b3e(0x178)]=0x0,this[_0x2a8b3e(0x13d)]=0x0,this['w']=0x3,this['h']=0x3,this['action']=0x0,this['hitbox']={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['actionX']=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this[_0x2a8b3e(0x13f)]=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}['compute'](){const _0x15617b=_0x43c625;this[_0x15617b(0x10f)]['x']=this['x']-this[_0x15617b(0x13d)],this[_0x15617b(0x10f)]['y']=this['y']+this[_0x15617b(0x13d)],this[_0x15617b(0x10f)]['w']=this['w']+this['down'],this[_0x15617b(0x10f)]['h']=this['h']-this[_0x15617b(0x13d)],this['down']&&this[_0x15617b(0x178)]===0x1&&(collided(this,player)&&(player[_0x15617b(0x139)]==0x0&&(player[_0x15617b(0x162)]=!![],player[_0x15617b(0x10d)]=-0x2,player['healthAmount']-=0x2,player[_0x15617b(0x122)]<0x0&&(player[_0x15617b(0x122)]=0x0))));}[_0x43c625(0x131)](){const _0x34b647=_0x43c625;this[_0x34b647(0x187)]=![],this[_0x34b647(0x15f)]++,this['frameCounter']>this[_0x34b647(0x174)]&&(this['currentFrame']++,this['frameCounter']=0x0),this[_0x34b647(0xff)]>=this[_0x34b647(0x150)][this[_0x34b647(0x176)]][_0x34b647(0x143)]&&(this[_0x34b647(0xff)]=0x0,this[_0x34b647(0x176)]==0x1&&(this[_0x34b647(0x176)]=0x2),this[_0x34b647(0x176)]==0x2&&this[_0x34b647(0x10c)]++==0x2&&(this['action']=0x3),this[_0x34b647(0x176)]==0x3&&(this[_0x34b647(0x13d)]=0x1,this[_0x34b647(0x178)]++,this[_0x34b647(0x178)]==0x3&&(this[_0x34b647(0x13d)]=0x0,this['action']=0x0,this[_0x34b647(0x178)]=0x0,this[_0x34b647(0x10c)]=0x0))),player['x']>this['x']-this[_0x34b647(0x177)]&&this[_0x34b647(0x176)]<0x1&&(this[_0x34b647(0x176)]=0x1,this['currentFrame']=0x0,this['frameCounter']=0x0),c['drawImage'](SPRITESHEET,this['actionX'][this[_0x34b647(0x176)]][this['currentFrame']]*GLOBAL[_0x34b647(0x137)]|0x0,this[_0x34b647(0x13f)][this['action']][this['currentFrame']]*GLOBAL[_0x34b647(0x137)]|0x0,(this['w']+this['down'])*GLOBAL[_0x34b647(0x137)],this['h']*GLOBAL[_0x34b647(0x137)],map['x']+(this['x']-this['down'])*GLOBAL[_0x34b647(0x137)]*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x34b647(0x137)]*GLOBAL['ratio']|0x0,(this['w']+this[_0x34b647(0x13d)])*GLOBAL[_0x34b647(0x137)]*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x34b647(0x137)]*GLOBAL[_0x34b647(0x106)]|0x0);}}class MageAttack{constructor(_0x19d331,_0x588c88){const _0x39ac24=_0x43c625;this['x']=_0x19d331,this['y']=0x0,this['w']=0x2,this['h']=0xf,this['currentFrame']=0x0,this[_0x39ac24(0x15f)]=0x0,this[_0x39ac24(0x158)]='attack',this[_0x39ac24(0x12b)]=!![],this[_0x39ac24(0x174)]=0x3,this[_0x39ac24(0x159)]=![],this[_0x39ac24(0x176)]=0x0,this[_0x39ac24(0x150)]=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this[_0x39ac24(0x13f)]=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this[_0x39ac24(0x14e)]=0x0,this[_0x39ac24(0x18a)]=0.3,this[_0x39ac24(0x15a)]=!![],this[_0x39ac24(0x10f)]={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}['compute'](){const _0x53cb12=_0x43c625;this['distance']=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this[_0x53cb12(0x15a)]){if(this['distance']<0x0)this['x']+=this[_0x53cb12(0x14e)]/0xa;else this['distance']>0x0&&(this['x']+=this[_0x53cb12(0x14e)]/0xa);}this[_0x53cb12(0x10f)]['x']=this['x']+(this['w']-this[_0x53cb12(0x10f)]['w'])/0x2,this[_0x53cb12(0xff)]>0x5&&this[_0x53cb12(0xff)]<0x9&&(this[_0x53cb12(0x15a)]=![],collided(this,player)&&(player[_0x53cb12(0x122)]>0x0&&player[_0x53cb12(0x139)]==0x0&&(player[_0x53cb12(0x122)]-=0x2,playerInterface['shake']=0x4,player[_0x53cb12(0x162)]=!![])));}[_0x43c625(0x131)](){const _0x3a9e89=_0x43c625;this[_0x3a9e89(0x15f)]++,this[_0x3a9e89(0x15f)]>this[_0x3a9e89(0x174)]&&(this[_0x3a9e89(0xff)]++,this['frameCounter']=0x0),this[_0x3a9e89(0xff)]>=this[_0x3a9e89(0x150)][this['action']][_0x3a9e89(0x143)]&&(this[_0x3a9e89(0xff)]=0x0,this['disabled']=!![]),c[_0x3a9e89(0x134)](SPRITESHEET,this['actionX'][this[_0x3a9e89(0x176)]][this[_0x3a9e89(0xff)]]*GLOBAL[_0x3a9e89(0x137)]|0x0,this['actionY'][this[_0x3a9e89(0x176)]][this[_0x3a9e89(0xff)]]*GLOBAL['tileSize']|0x0,this['w']*GLOBAL[_0x3a9e89(0x137)],this['h']*GLOBAL[_0x3a9e89(0x137)],map['x']+this['x']*GLOBAL[_0x3a9e89(0x137)]*GLOBAL['ratio']|0x0,this['y']*GLOBAL[_0x3a9e89(0x137)]*GLOBAL[_0x3a9e89(0x106)]|0x0,this['w']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x3a9e89(0x137)]*GLOBAL[_0x3a9e89(0x106)]|0x0);}}class MageMonster{constructor(_0x46ef6b,_0x51e541){const _0x4030a3=_0x43c625;this['x']=_0x46ef6b,this['y']=_0x51e541,this['w']=0x1,this['h']=0x1,this[_0x4030a3(0x116)]=0x0,this[_0x4030a3(0x112)]=0x0,this[_0x4030a3(0x18a)]=0.1,this[_0x4030a3(0x16d)]=0xa,this[_0x4030a3(0x159)]=![],this[_0x4030a3(0x177)]=0x4,this['dead']=![],this[_0x4030a3(0x17c)]=![],this[_0x4030a3(0xff)]=0x0,this[_0x4030a3(0x15f)]=0x0,this[_0x4030a3(0x158)]=_0x4030a3(0x111),this['dead']=![],this[_0x4030a3(0x174)]=0x3,this[_0x4030a3(0x10c)]=0x0,this[_0x4030a3(0x178)]=0x0,this[_0x4030a3(0x13d)]=0x0,this['w']=0x2,this['h']=0x2,this[_0x4030a3(0x176)]=0x0,this['hitbox']={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this[_0x4030a3(0x126)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['laser']=new MageAttack(0x0,0x0),this[_0x4030a3(0x150)]=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this[_0x4030a3(0x13f)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}[_0x43c625(0x188)](){const _0x31d7fe=_0x43c625;this[_0x31d7fe(0x16d)]--,this[_0x31d7fe(0x16d)]<=0x0&&(this[_0x31d7fe(0x16d)]=0xa,collided(this[_0x31d7fe(0x126)],player)?(this[_0x31d7fe(0x159)]=!![],this[_0x31d7fe(0x183)][_0x31d7fe(0x12b)]&&(this[_0x31d7fe(0x183)][_0x31d7fe(0x12b)]=![],this['laser'][_0x31d7fe(0x15a)]=!![],this[_0x31d7fe(0x183)]['x']=this['x'])):this['attacking']=![],!this[_0x31d7fe(0x159)]?(this[_0x31d7fe(0x126)]['x']=this['x']-this[_0x31d7fe(0x177)],this[_0x31d7fe(0x126)]['y']=this['y']-this['range'],this['atkBox']['w']=this['w']+this[_0x31d7fe(0x177)]*0x2,this[_0x31d7fe(0x126)]['h']=this['h']+this[_0x31d7fe(0x177)]*0x2):!this[_0x31d7fe(0x187)]&&collided(this,player)&&(player[_0x31d7fe(0x122)]>0x0&&player[_0x31d7fe(0x139)]==0x0&&(player[_0x31d7fe(0x122)]--,playerInterface[_0x31d7fe(0x136)]=0x4,player[_0x31d7fe(0x162)]=!![])));}[_0x43c625(0x131)](){const _0x422ae8=_0x43c625;!this['laser'][_0x422ae8(0x12b)]&&(this[_0x422ae8(0x183)][_0x422ae8(0x188)](),this[_0x422ae8(0x183)][_0x422ae8(0x131)]()),this[_0x422ae8(0x187)]=![],this[_0x422ae8(0x159)]?this['action']=0x1:this[_0x422ae8(0x176)]=0x0,this[_0x422ae8(0x15f)]++,this[_0x422ae8(0x15f)]>this[_0x422ae8(0x174)]&&(this[_0x422ae8(0xff)]++,this['frameCounter']=0x0),this[_0x422ae8(0xff)]>=this[_0x422ae8(0x150)][this[_0x422ae8(0x176)]][_0x422ae8(0x143)]&&(this[_0x422ae8(0xff)]=0x0),c[_0x422ae8(0x134)](SPRITESHEET,this[_0x422ae8(0x150)][this[_0x422ae8(0x176)]][this['currentFrame']]*GLOBAL[_0x422ae8(0x137)]|0x0,this['actionY'][this['action']][this['currentFrame']]*GLOBAL[_0x422ae8(0x137)]|0x0,(this['w']+this[_0x422ae8(0x13d)])*GLOBAL[_0x422ae8(0x137)],this['h']*GLOBAL[_0x422ae8(0x137)],map['x']+(this['x']-this[_0x422ae8(0x13d)])*GLOBAL[_0x422ae8(0x137)]*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x422ae8(0x137)]*GLOBAL['ratio']|0x0,(this['w']+this[_0x422ae8(0x13d)])*GLOBAL[_0x422ae8(0x137)]*GLOBAL[_0x422ae8(0x106)]|0x0,this['h']*GLOBAL[_0x422ae8(0x137)]*GLOBAL[_0x422ae8(0x106)]|0x0);}}class Map{constructor(){const _0x5b5600=_0x43c625;this[_0x5b5600(0xfd)]=canvas[_0x5b5600(0x184)]/GLOBAL[_0x5b5600(0x137)]/GLOBAL['ratio'],this[_0x5b5600(0x166)]=canvas['height']/GLOBAL[_0x5b5600(0x137)]/GLOBAL[_0x5b5600(0x106)],this['x']=0x0,this['y']=0x0,this['backgroundSheet']=id(_0x5b5600(0x16a)),this[_0x5b5600(0x12d)]=[0x0,0x0,0x0],this[_0x5b5600(0x114)]=[0x0,0x96,0x12c],this[_0x5b5600(0x125)]=0x1c2,this[_0x5b5600(0x18b)]=0x96,this[_0x5b5600(0x11a)]=[0x0,0x0,0x0],this[_0x5b5600(0x13c)]=[0x0,0x0,0x0],this[_0x5b5600(0x179)]=[],this[_0x5b5600(0x168)]=[],this['map']=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this[_0x5b5600(0x100)]={'x':0xa,'y':0x0},this[_0x5b5600(0xfe)]=[],this[_0x5b5600(0x15e)]=[];}[_0x43c625(0x157)](){const _0xc3c4a0=_0x43c625;this['x']=-(player['x']-0x8)*GLOBAL[_0xc3c4a0(0x137)]*GLOBAL[_0xc3c4a0(0x106)],this['y']=-(player['y']-0x8)*GLOBAL[_0xc3c4a0(0x137)]*GLOBAL['ratio'];}[_0x43c625(0x104)](){const _0x556a0b=_0x43c625;for(let _0xbaa5f2=0x0;_0xbaa5f2<this['tiles']['length'];_0xbaa5f2++){renderTile(this[_0x556a0b(0xfe)][_0xbaa5f2]);}}['renderBgTiles'](){const _0x105ca8=_0x43c625;for(let _0x1b1013=0x0;_0x1b1013<this[_0x105ca8(0x179)]['length'];_0x1b1013++){renderTile(this[_0x105ca8(0x179)][_0x1b1013]);}}['renderFgTiles'](){const _0x2d3660=_0x43c625;for(let _0x59bba6=0x0;_0x59bba6<this[_0x2d3660(0x168)][_0x2d3660(0x143)];_0x59bba6++){renderTile(this[_0x2d3660(0xfe)][_0x59bba6]);}}[_0x43c625(0x146)](){const _0x3d21f0=_0x43c625;for(let _0x45b7bb=0x0;_0x45b7bb<this[_0x3d21f0(0x15e)][_0x3d21f0(0x143)];_0x45b7bb++){this[_0x3d21f0(0x15e)][_0x45b7bb][_0x3d21f0(0x131)]();}}['renderBackground'](){const _0x2eacde=_0x43c625;this['backgroundPosX'][0x1]+=0.6,this[_0x2eacde(0x11a)][0x2]+=0.3;this[_0x2eacde(0x11a)][0x0]>this[_0x2eacde(0x125)]*GLOBAL['ratio']&&(this[_0x2eacde(0x11a)][0x0]-=this['backgroundSizeW']*GLOBAL['ratio']);this[_0x2eacde(0x11a)][0x1]>this[_0x2eacde(0x125)]*GLOBAL[_0x2eacde(0x106)]&&(this[_0x2eacde(0x11a)][0x1]-=this[_0x2eacde(0x125)]*GLOBAL['ratio']);this[_0x2eacde(0x11a)][0x2]>this['backgroundSizeW']*GLOBAL[_0x2eacde(0x106)]&&(this[_0x2eacde(0x11a)][0x2]-=this['backgroundSizeW']*GLOBAL[_0x2eacde(0x106)]);for(let _0x30de24=-0x1;_0x30de24<0x2;_0x30de24++){c[_0x2eacde(0x134)](this[_0x2eacde(0x133)],this['backgroundsX'][0x2]|0x0,this['backgroundsY'][0x2]|0x0,this[_0x2eacde(0x125)],this[_0x2eacde(0x18b)],this[_0x2eacde(0x125)]*GLOBAL[_0x2eacde(0x106)]*_0x30de24+this[_0x2eacde(0x11a)][0x2]+this['x']/0x8,this['backgroundPosY'][0x2],this['backgroundSizeW']*GLOBAL[_0x2eacde(0x106)],this[_0x2eacde(0x18b)]*GLOBAL[_0x2eacde(0x106)]);}for(let _0x4995a6=-0x1;_0x4995a6<0x2;_0x4995a6++){c[_0x2eacde(0x134)](this['backgroundSheet'],this['backgroundsX'][0x1]|0x0,this[_0x2eacde(0x114)][0x1]|0x0,this[_0x2eacde(0x125)],this[_0x2eacde(0x18b)],this[_0x2eacde(0x125)]*GLOBAL['ratio']*_0x4995a6+this[_0x2eacde(0x11a)][0x1]+this['x']/0x6,this[_0x2eacde(0x13c)][0x1],this['backgroundSizeW']*GLOBAL[_0x2eacde(0x106)],this[_0x2eacde(0x18b)]*GLOBAL[_0x2eacde(0x106)]);}for(let _0x559b33=-0x1;_0x559b33<0x2;_0x559b33++){c[_0x2eacde(0x134)](this[_0x2eacde(0x133)],this[_0x2eacde(0x12d)][0x0]|0x0,this[_0x2eacde(0x114)][0x0]|0x0,this['backgroundSizeW'],this[_0x2eacde(0x18b)],this[_0x2eacde(0x125)]*GLOBAL[_0x2eacde(0x106)]*_0x559b33+this['backgroundPosX'][0x0]+this['x']/0x4,this['backgroundPosY'][0x0],this['backgroundSizeW']*GLOBAL[_0x2eacde(0x106)],this[_0x2eacde(0x18b)]*GLOBAL['ratio']);}c['fillStyle']='#20394f',c[_0x2eacde(0x13e)](0x0,this[_0x2eacde(0x114)][0x0]+this[_0x2eacde(0x18b)]*GLOBAL[_0x2eacde(0x106)],canvas['width'],this[_0x2eacde(0x18b)]*GLOBAL['ratio']);}[_0x43c625(0x118)](){const _0x3a3fe9=_0x43c625;for(let _0x5c8e4c=0x0;_0x5c8e4c<this[_0x3a3fe9(0x15e)][_0x3a3fe9(0x143)];_0x5c8e4c++){this['enemies'][_0x5c8e4c][_0x3a3fe9(0x188)]();}}}var map=new Map(),mapTester=!![];window['opener']?window[_0x43c625(0x16b)][_0x43c625(0x12a)]?(debug[_0x43c625(0x161)](window[_0x43c625(0x16b)][_0x43c625(0x12a)]),safeEval(window[_0x43c625(0x16b)]['mapObject']),initializeMap()):(safeEval(window['opener']['map']),initializeMap()):mapTester=![];function safeEval(_0x42ac8c){const _0x4a9abf=_0x43c625;typeof _0x42ac8c==='object'&&_0x42ac8c!==null&&(map[_0x4a9abf(0x120)]=Object[_0x4a9abf(0x11e)](_0x42ac8c[_0x4a9abf(0x120)]),map[_0x4a9abf(0x100)]=Object['create'](_0x42ac8c[_0x4a9abf(0x100)]),console[_0x4a9abf(0x161)](_0x4a9abf(0x12f)));}function renderTile(_0x10181d){const _0x18dafc=_0x43c625;if(_0x10181d[_0x18dafc(0x140)])c[_0x18dafc(0x134)](SPRITESHEET,tiles[_0x10181d['type']][0x0]*GLOBAL['tileSize']|0x0,tiles[_0x10181d[_0x18dafc(0x158)]][0x1]*GLOBAL[_0x18dafc(0x137)]|0x0,_0x10181d['w']*GLOBAL['tileSize'],_0x10181d['h']*GLOBAL[_0x18dafc(0x137)],map['x']+_0x10181d['x']*GLOBAL[_0x18dafc(0x137)]*GLOBAL['ratio']|0x0,map['y']+_0x10181d['y']*GLOBAL[_0x18dafc(0x137)]*GLOBAL['ratio']|0x0,_0x10181d['w']*GLOBAL[_0x18dafc(0x137)]*GLOBAL[_0x18dafc(0x106)]|0x0,_0x10181d['h']*GLOBAL[_0x18dafc(0x137)]*GLOBAL[_0x18dafc(0x106)]|0x0);else for(let _0x3b17ec=0x0;_0x3b17ec<_0x10181d['w'];_0x3b17ec++){for(let _0x416f2e=0x0;_0x416f2e<_0x10181d['h'];_0x416f2e++){c[_0x18dafc(0x134)](SPRITESHEET,tiles[_0x10181d['type']][0x0]*GLOBAL[_0x18dafc(0x137)]|0x0,tiles[_0x10181d[_0x18dafc(0x158)]][0x1]*GLOBAL[_0x18dafc(0x137)]|0x0,GLOBAL['tileSize'],GLOBAL[_0x18dafc(0x137)],map['x']+(_0x10181d['x']+_0x3b17ec)*GLOBAL['tileSize']*GLOBAL[_0x18dafc(0x106)]|0x0,map['y']+(_0x10181d['y']+_0x416f2e)*GLOBAL['tileSize']*GLOBAL[_0x18dafc(0x106)]|0x0,GLOBAL['tileSize']*GLOBAL['ratio']|0x0,GLOBAL[_0x18dafc(0x137)]*GLOBAL[_0x18dafc(0x106)]|0x0);}}}function gameLoop(){const _0xfda6=_0x43c625;GLOBAL[_0xfda6(0x14c)]++,setTimeout(gameLoop,0x3e8/GLOBAL[_0xfda6(0x14a)]),c[_0xfda6(0x16f)](0x0,0x0,canvas[_0xfda6(0x184)],canvas[_0xfda6(0x10a)]),c[_0xfda6(0x154)]=_0xfda6(0x124),c[_0xfda6(0x13e)](0x0,0x0,canvas[_0xfda6(0x184)],canvas['height']),renderStars(),map['renderBackground'](),map[_0xfda6(0x104)](),map['renderBgTiles'](),player[_0xfda6(0x188)](),checkCollisions(),map['computeEnemies'](),map['renderEnemies'](),player['render'](),playerInterface[_0xfda6(0x131)](),map['moveCamera'](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0x408fbc=_0x43c625;player['x']=map[_0x408fbc(0x100)]['x'],player['y']=map[_0x408fbc(0x100)]['y'],map[_0x408fbc(0xfe)]=map['map'];var _0x3cefa1=[];for(let _0x34bd79=map[_0x408fbc(0xfe)]['length']-0x1;_0x34bd79>=0x0;_0x34bd79--){switch(map[_0x408fbc(0xfe)][_0x34bd79][_0x408fbc(0x158)]){case 0xd:map[_0x408fbc(0x15e)]['push'](new Monster(map[_0x408fbc(0xfe)][_0x34bd79]['x'],map[_0x408fbc(0xfe)][_0x34bd79]['y'])),_0x3cefa1[_0x408fbc(0x173)](_0x34bd79);break;case 0xe:map['enemies'][_0x408fbc(0x173)](new TeaMonster(map['tiles'][_0x34bd79]['x'],map['tiles'][_0x34bd79]['y'])),_0x3cefa1[_0x408fbc(0x173)](_0x34bd79);break;case 0xf:map[_0x408fbc(0x15e)][_0x408fbc(0x173)](new MageMonster(map[_0x408fbc(0xfe)][_0x34bd79]['x'],map['tiles'][_0x34bd79]['y'])),_0x3cefa1[_0x408fbc(0x173)](_0x34bd79);break;}}for(let _0x4b7942=0x0;_0x4b7942<_0x3cefa1['length'];_0x4b7942++){map[_0x408fbc(0xfe)]['splice'](_0x3cefa1[_0x4b7942],0x1);}}