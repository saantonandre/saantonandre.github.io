'use strict';const _0x220325=_0x2124;(function(_0x355c4f,_0x3245b8){const _0x35e7d2=_0x2124,_0x36d04c=_0x355c4f();while(!![]){try{const _0x1146ac=parseInt(_0x35e7d2(0x1d2))/0x1+-parseInt(_0x35e7d2(0x1c0))/0x2+-parseInt(_0x35e7d2(0x154))/0x3*(-parseInt(_0x35e7d2(0x158))/0x4)+parseInt(_0x35e7d2(0x1b8))/0x5+parseInt(_0x35e7d2(0x1d5))/0x6+parseInt(_0x35e7d2(0x161))/0x7*(parseInt(_0x35e7d2(0x177))/0x8)+-parseInt(_0x35e7d2(0x1be))/0x9;if(_0x1146ac===_0x3245b8)break;else _0x36d04c['push'](_0x36d04c['shift']());}catch(_0x393208){_0x36d04c['push'](_0x36d04c['shift']());}}}(_0x4b03,0x804a0));function id(_0x34e603){const _0x4804b6=_0x2124,_0x592864=(function(){let _0x1a8cfb=!![];return function(_0x52308e,_0x17dcec){const _0x1c1142=_0x1a8cfb?function(){if(_0x17dcec){const _0x1fb87a=_0x17dcec['apply'](_0x52308e,arguments);return _0x17dcec=null,_0x1fb87a;}}:function(){};return _0x1a8cfb=![],_0x1c1142;};}()),_0x12ca11=_0x592864(this,function(){const _0xe7cbb0=_0x2124,_0x7f147=function(){const _0x2d045e=_0x2124;let _0x25b04b;try{_0x25b04b=Function(_0x2d045e(0x1b6)+_0x2d045e(0x1c1)+');')();}catch(_0x43bc55){_0x25b04b=window;}return _0x25b04b;},_0x52f62f=_0x7f147(),_0x5391cd=new RegExp('[UTGVWjFMIqYwHLkGDjZJMjTqXSAMNFSWZPOxZNEOTIzDNIkxZyxRMFWUyRQCVMpjQBmGNXRCwxAAqV]','g'),_0xc906f6=_0xe7cbb0(0x15e)[_0xe7cbb0(0x1d8)](_0x5391cd,'')[_0xe7cbb0(0x1ca)](';');let _0x1d7a6e,_0x38678e,_0x16a1c9,_0x421cbf;const _0x1e363f=function(_0x42da0d,_0x18afba,_0x5a6935){const _0x2f79b2=_0xe7cbb0;if(_0x42da0d[_0x2f79b2(0x1c8)]!=_0x18afba)return![];for(let _0x234463=0x0;_0x234463<_0x18afba;_0x234463++){for(let _0x39fe70=0x0;_0x39fe70<_0x5a6935[_0x2f79b2(0x1c8)];_0x39fe70+=0x2){if(_0x234463==_0x5a6935[_0x39fe70]&&_0x42da0d['charCodeAt'](_0x234463)!=_0x5a6935[_0x39fe70+0x1])return![];}}return!![];},_0x16dfd8=function(_0x99bc10,_0x990c4f,_0x5512bd){return _0x1e363f(_0x990c4f,_0x5512bd,_0x99bc10);},_0x496e22=function(_0x23aa89,_0x3c2baf,_0x50fadb){return _0x16dfd8(_0x3c2baf,_0x23aa89,_0x50fadb);},_0xa3b7ef=function(_0x5d0bbc,_0x1793b1,_0x1f7322){return _0x496e22(_0x1793b1,_0x1f7322,_0x5d0bbc);};for(let _0x446e0a in _0x52f62f){if(_0x1e363f(_0x446e0a,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1d7a6e=_0x446e0a;break;}}for(let _0xa75ad9 in _0x52f62f[_0x1d7a6e]){if(_0xa3b7ef(0x6,_0xa75ad9,[0x5,0x6e,0x0,0x64])){_0x38678e=_0xa75ad9;break;}}for(let _0x3205e0 in _0x52f62f[_0x1d7a6e]){if(_0x496e22(_0x3205e0,[0x7,0x6e,0x0,0x6c],0x8)){_0x16a1c9=_0x3205e0;break;}}if(!('~'>_0x38678e))for(let _0x124b42 in _0x52f62f[_0x1d7a6e][_0x16a1c9]){if(_0x16dfd8([0x7,0x65,0x0,0x68],_0x124b42,0x8)){_0x421cbf=_0x124b42;break;}}if(!_0x1d7a6e||!_0x52f62f[_0x1d7a6e])return;const _0x5f553d=_0x52f62f[_0x1d7a6e][_0x38678e],_0x1a6343=!!_0x52f62f[_0x1d7a6e][_0x16a1c9]&&_0x52f62f[_0x1d7a6e][_0x16a1c9][_0x421cbf],_0x544e5c=_0x5f553d||_0x1a6343;if(!_0x544e5c)return;let _0x4ff12c=![];for(let _0x2d8f57=0x0;_0x2d8f57<_0xc906f6[_0xe7cbb0(0x1c8)];_0x2d8f57++){const _0x1cc520=_0xc906f6[_0x2d8f57],_0x53a6ee=_0x1cc520[0x0]===String['fromCharCode'](0x2e)?_0x1cc520[_0xe7cbb0(0x14d)](0x1):_0x1cc520,_0x50892f=_0x544e5c[_0xe7cbb0(0x1c8)]-_0x53a6ee['length'],_0x2cb89a=_0x544e5c[_0xe7cbb0(0x152)](_0x53a6ee,_0x50892f),_0x1228d8=_0x2cb89a!==-0x1&&_0x2cb89a===_0x50892f;_0x1228d8&&((_0x544e5c[_0xe7cbb0(0x1c8)]==_0x1cc520[_0xe7cbb0(0x1c8)]||_0x1cc520[_0xe7cbb0(0x152)]('.')===0x0)&&(_0x4ff12c=!![]));}if(!_0x4ff12c){const _0x7d66c5=new RegExp(_0xe7cbb0(0x189),'g'),_0x2839d6=_0xe7cbb0(0x1a2)['replace'](_0x7d66c5,'');_0x52f62f[_0x1d7a6e][_0x16a1c9]=_0x2839d6;}});return _0x12ca11(),document[_0x4804b6(0x1bd)](_0x34e603);}window[_0x220325(0x159)]=function(){initializeMap();};const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id('canvas');canvas['width']=0x2d0,canvas[_0x220325(0x16b)]=0x1e0;function _0x4b03(){const _0x5b4767=['random','cos','down2','stroke','xVel','downRel','tiles','stack','backgroundSheet','backgroundSizeW','render','speed','opener','action','healthMaxValue','spritesheet-bg','abSFOjwyoQuqqt:bKlAPIWankNOSBIXYvjPJxxPLI','right2','health','backgroundSizeH','down','f_slowness','downCounter','backgroundsY','drawImage','renderTiles','shakeAmountX','distance','renderEnemies','frames','create','shake','push','actionX','deathAnimation','type','return\x20(function()\x20','gForce','2562620rYNyME','heartsX','hitbox','range','mage','getElementById','18508455kWVBwY','iFrame','499190ZJXQtl','{}.constructor(\x22return\x20this\x22)(\x20)','width','yVelExt','currentFrame','follow','healthY','atkCounter','length','upRel','split','colBool','renderBgTiles','terminalVel','<br>Collisions\x20','backgroundPosX','renderBackground','f_frameCounter','93170hqvBZD','innerHTML','laser','3730554ilCyGI','x:\x20','y:\x20','replace','spawnPoint','right','fillRect','friction','fgTiles','monster','slice','atan2','computeEnemies','map','<br>L:\x20','indexOf','iFrameMax','3AwOTAX','tea','fill','shakeAmountY','3891436nVIKCA','onload','f_action','spritesheet','bgTiles','#08141e','saUTGanVtWjFoMnIqaYwnHLdre.kgGDijtZJhMjuTb.iqXo;SAMloNcalhostFSWZPOxZNEOTIzDNIkxZyxRMFWUyRQCVMpjQBmGNXRCwxAAqV','xVelExt','maxSpeed','350KNMHGh','dead','yVel','backgroundPosY','splice','log','jumping','renderFgTiles','accel','attacked','height','f_currentFrame','ratio','enemies','healthAmount','actionY','getContext','none','chargingAmount','frameCounter','atkBox','healthX','101000TLIydm','imageSmoothingEnabled','fistY','fist','fps','abs','col','fistX','backgroundsX','tileSize','clearRect','attacking','fillStyle','slowness','#20394f','disabled','tilesHeight','left','[SFOjwyQqqKAPIWNOSBIXYvjPJxxPLI]','fpsCounter','heartsY','mapObject','jumpSpeed','up2','compute','moveCamera','charging'];_0x4b03=function(){return _0x5b4767;};return _0x4b03();}var c=canvas[_0x220325(0x171)]('2d');c[_0x220325(0x178)]=![];const SPRITESHEET=id(_0x220325(0x15b)),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};class Star{constructor(){const _0x322f67=_0x220325;this['r']=Math[_0x322f67(0x192)]()*0x3|0x0,stars[_0x322f67(0x1b2)]({'x':Math[_0x322f67(0x192)]()*canvas[_0x322f67(0x1c2)],'y':Math['random']()*canvas[_0x322f67(0x16b)],'width':this['r'],'height':this['r'],'xVel':Math[_0x322f67(0x192)]()/0xa,'yVel':Math[_0x322f67(0x192)]()/0xa});}}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function renderStars(){const _0x3bbf99=_0x220325;for(let _0x13ccbb=0x0;_0x13ccbb<stars[_0x3bbf99(0x1c8)];_0x13ccbb++){c[_0x3bbf99(0x156)](),c[_0x3bbf99(0x183)]='#ffffff',c[_0x3bbf99(0x1db)](stars[_0x13ccbb]['x']|0x0*GLOBAL[_0x3bbf99(0x16d)],stars[_0x13ccbb]['y']|0x0*GLOBAL[_0x3bbf99(0x16d)],stars[_0x13ccbb]['width']*GLOBAL[_0x3bbf99(0x16d)],stars[_0x13ccbb][_0x3bbf99(0x16b)]*GLOBAL['ratio']),c[_0x3bbf99(0x195)](),stars[_0x13ccbb]['x']>canvas[_0x3bbf99(0x1c2)]&&(stars[_0x13ccbb]['x']=0x0),stars[_0x13ccbb]['y']>canvas[_0x3bbf99(0x16b)]&&(stars[_0x13ccbb]['y']=0x0),stars[_0x13ccbb]['x']+=stars[_0x13ccbb][_0x3bbf99(0x196)],stars[_0x13ccbb]['y']+=stars[_0x13ccbb]['xVel'];}}function distribute(_0x218e4a,_0xff266e,_0x2009aa){const _0x3228c6=_0x220325;let _0x516e5d=[];while(_0xff266e['length']>_0x516e5d[_0x3228c6(0x1c8)]){if(_0x218e4a>_0x2009aa)_0x516e5d[_0x3228c6(0x1b2)](_0x2009aa),_0x218e4a-=_0x2009aa;else _0x218e4a!=0x0?(_0x516e5d[_0x3228c6(0x1b2)](_0x218e4a),_0x218e4a=0x0):_0xff266e[_0x3228c6(0x1c8)]>_0x516e5d[_0x3228c6(0x1c8)]&&_0x516e5d[_0x3228c6(0x1b2)](_0x218e4a);}return _0x516e5d;}class Interface{constructor(){const _0x3bb2ec=_0x220325;this[_0x3bb2ec(0x1b1)]=0x0,this[_0x3bb2ec(0x1a0)]=0x2,this[_0x3bb2ec(0x1a4)]=[0x2,0x2,0x2],this['heartsX']=[0x2,0x1,0x0],this[_0x3bb2ec(0x18b)]=[0x8,0x8,0x8],this['healthX']=canvas[_0x3bb2ec(0x1c2)]/0x10/0x2/GLOBAL['ratio']-this['health'][_0x3bb2ec(0x1c8)]/0x2|0x0,this['healthY']=0x1,this['shakeAmountX'],this['shakeAmountY'];}['render'](){const _0x419895=_0x220325;this[_0x419895(0x1b1)]>0x0?(this['shakeAmountX']=Math[_0x419895(0x192)]()*this[_0x419895(0x1b1)]*0x2-this['shake'],this['shakeAmountY']=Math[_0x419895(0x192)]()*this['shake']*0x2-this['shake'],this['shake']--):(this[_0x419895(0x1ac)]=0x0,this['shakeAmountY']=0x0);this['health']=distribute(player[_0x419895(0x16f)],this[_0x419895(0x1a4)],this[_0x419895(0x1a0)]);for(let _0x790b47=0x0;_0x790b47<this[_0x419895(0x1a4)][_0x419895(0x1c8)];_0x790b47++){c[_0x419895(0x1aa)](SPRITESHEET,this[_0x419895(0x1b9)][this[_0x419895(0x1a4)][_0x790b47]]*GLOBAL[_0x419895(0x180)]|0x0,this['heartsY'][this[_0x419895(0x1a4)][_0x790b47]]*GLOBAL[_0x419895(0x180)]|0x0,GLOBAL['tileSize'],GLOBAL[_0x419895(0x180)],this['shakeAmountX']+(this[_0x419895(0x176)]+_0x790b47)*GLOBAL[_0x419895(0x180)]*GLOBAL[_0x419895(0x16d)]|0x0,this[_0x419895(0x157)]+this[_0x419895(0x1c6)]*GLOBAL[_0x419895(0x180)]*GLOBAL[_0x419895(0x16d)]|0x0,0x1*GLOBAL['tileSize']*GLOBAL[_0x419895(0x16d)]|0x0,0x1*GLOBAL[_0x419895(0x180)]*GLOBAL['ratio']|0x0);}}}var playerInterface=new Interface();class Player{constructor(){const _0x518ed2=_0x220325;this['healthAmount']=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this[_0x518ed2(0x191)]=![],this[_0x518ed2(0x173)]=0x0,this[_0x518ed2(0x169)]=0.2,this[_0x518ed2(0x160)]=0.3,this[_0x518ed2(0x188)]=![],this['xVel']=0x0,this['yVel']=0x0,this[_0x518ed2(0x1bf)]=0x0,this[_0x518ed2(0x153)]=0x1e,this[_0x518ed2(0x16a)]=![],this[_0x518ed2(0x15f)]=0x0,this[_0x518ed2(0x1c3)]=0x0,this[_0x518ed2(0x1c4)]=0x0,this[_0x518ed2(0x174)]=0x0,this['slowness']=0x3,this[_0x518ed2(0x19f)]=0x0,this[_0x518ed2(0x1b3)]=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this['actionY']=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this[_0x518ed2(0x16c)]=0x0,this[_0x518ed2(0x1d1)]=0x0,this[_0x518ed2(0x1a7)]=0x1,this[_0x518ed2(0x15a)]=0x0,this[_0x518ed2(0x17e)]=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this[_0x518ed2(0x179)]=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this['gForce']=0.035,this[_0x518ed2(0x18d)]=0.12,this[_0x518ed2(0x167)]=![],this[_0x518ed2(0x14a)]=0.8,this[_0x518ed2(0x182)]=0x0,this[_0x518ed2(0x1ba)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['col']={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this[_0x518ed2(0x1cb)]={'L':![],'R':![],'T':![],'B':![]},this[_0x518ed2(0x175)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x220325(0x17a)](_0x2b8b67){const _0x5ea54b=_0x220325;_0x2b8b67!==this[_0x5ea54b(0x15a)]+0x1&&(this[_0x5ea54b(0x16c)]=0x0,this[_0x5ea54b(0x1d1)]=0x0);switch(_0x2b8b67){case 0x1:this['f_action']=0x0,this[_0x5ea54b(0x175)]['w']=this['w'],this['atkBox']['x']=this['x']-this[_0x5ea54b(0x175)]['w'],this[_0x5ea54b(0x175)]['h']=this['w']/0x2,this[_0x5ea54b(0x175)]['y']=this['y']+this['h']/0x2-this[_0x5ea54b(0x175)]['h']/0x2;break;case 0x2:this['f_action']=0x1,this['atkBox']['w']=this['w'],this['atkBox']['x']=this['x']+this['w'],this[_0x5ea54b(0x175)]['h']=this['w']/0x2,this['atkBox']['y']=this['y']+this['h']/0x2-this[_0x5ea54b(0x175)]['h']/0x2;break;case 0x3:this[_0x5ea54b(0x15a)]=0x2,this['atkBox']['w']=this['w']/0x2,this[_0x5ea54b(0x175)]['x']=this['x']+this['w']/0x2-this[_0x5ea54b(0x175)]['w']/0x2,this[_0x5ea54b(0x175)]['h']=this['w'],this[_0x5ea54b(0x175)]['y']=this['y']-this[_0x5ea54b(0x175)]['h'];break;case 0x4:this['f_action']=0x3,this[_0x5ea54b(0x175)]['w']=this['w']/0x2,this[_0x5ea54b(0x175)]['x']=this['x']+this['w']/0x2-this[_0x5ea54b(0x175)]['w']/0x2,this[_0x5ea54b(0x175)]['h']=this['w'],this['atkBox']['y']=this['y']+this['h'];break;}let _0x16a085=0x0,_0x14cfc4=![];while(!_0x14cfc4&&_0x16a085<map[_0x5ea54b(0x198)][_0x5ea54b(0x1c8)]){if(collided(this['atkBox'],map[_0x5ea54b(0x198)][_0x16a085]))switch(_0x2b8b67){case 0x1:this[_0x5ea54b(0x15f)]+=this[_0x5ea54b(0x18d)]*(this[_0x5ea54b(0x173)]/0x3),_0x14cfc4=!![];break;case 0x2:this[_0x5ea54b(0x15f)]-=this[_0x5ea54b(0x18d)]*(this[_0x5ea54b(0x173)]/0x3),_0x14cfc4=!![];break;case 0x3:this[_0x5ea54b(0x163)]+=this[_0x5ea54b(0x18d)]/0x2,_0x14cfc4=!![];break;case 0x4:this[_0x5ea54b(0x1cb)]['B']&&(this[_0x5ea54b(0x163)]-=this[_0x5ea54b(0x18d)]*(this[_0x5ea54b(0x173)]/0x3));_0x14cfc4=!![];break;}_0x16a085++;}for(let _0x5524d1=0x0;_0x5524d1<map[_0x5ea54b(0x16e)][_0x5ea54b(0x1c8)];_0x5524d1++){if(map[_0x5ea54b(0x16e)][_0x5524d1][_0x5ea54b(0x1b5)]!==_0x5ea54b(0x155)&&!map[_0x5ea54b(0x16e)][_0x5524d1][_0x5ea54b(0x162)]){if(collided(this[_0x5ea54b(0x175)],map['enemies'][_0x5524d1])){map[_0x5ea54b(0x16e)][_0x5524d1][_0x5ea54b(0x162)]=!![];let _0x1e8c3c=this['x']+this['w']/0x2,_0x2b9b81=this['y']+this['h']/0x2,_0x55bb0a=map[_0x5ea54b(0x16e)][_0x5524d1]['x']-(this['x']+this['w']/0x2),_0x29170b=map[_0x5ea54b(0x16e)][_0x5524d1]['y']-(this['y']+this['h']/0x2),_0x4600b7=Math['atan2'](_0x29170b,_0x55bb0a);map[_0x5ea54b(0x16e)][_0x5524d1][_0x5ea54b(0x196)]=Math['cos'](_0x4600b7)*map[_0x5ea54b(0x16e)][_0x5524d1][_0x5ea54b(0x19d)],map[_0x5ea54b(0x16e)][_0x5524d1][_0x5ea54b(0x163)]=Math['sin'](_0x4600b7)*map[_0x5ea54b(0x16e)][_0x5524d1][_0x5ea54b(0x19d)];}}}this[_0x5ea54b(0x173)]=0x0;}[_0x220325(0x18f)](){const _0x3334f8=_0x220325;this[_0x3334f8(0x163)]<GLOBAL[_0x3334f8(0x1cd)]?!this[_0x3334f8(0x1cb)]['B']&&(this[_0x3334f8(0x163)]+=this[_0x3334f8(0x1b7)]):this[_0x3334f8(0x163)]=GLOBAL['terminalVel'];controls['left']&&(this[_0x3334f8(0x196)]>-this[_0x3334f8(0x160)]&&(this['colBool']['B']?this[_0x3334f8(0x196)]-=this[_0x3334f8(0x169)]:this[_0x3334f8(0x196)]-=this[_0x3334f8(0x169)]/0x2));controls[_0x3334f8(0x1da)]&&(this['xVel']<this[_0x3334f8(0x160)]&&(this[_0x3334f8(0x1cb)]['B']?this['xVel']+=this['accel']:this[_0x3334f8(0x196)]+=this['accel']/0x2));this[_0x3334f8(0x163)]<0x0&&this[_0x3334f8(0x17d)]['T']&&(this['yVel']=0x0);this[_0x3334f8(0x1cb)]['B']?(Math[_0x3334f8(0x17c)](this[_0x3334f8(0x196)])>0.01?this[_0x3334f8(0x196)]*=this['friction']*0.5:this[_0x3334f8(0x196)]=0x0,this[_0x3334f8(0x167)]=![],this[_0x3334f8(0x163)]>0x0&&(this['yVel']=0x0)):Math[_0x3334f8(0x17c)](this[_0x3334f8(0x196)])>0.01?this[_0x3334f8(0x196)]*=this[_0x3334f8(0x14a)]:this[_0x3334f8(0x196)]=0x0;(this[_0x3334f8(0x17d)]['R']&&this['xVel']>0x0||this[_0x3334f8(0x17d)]['L']&&this['xVel']<0x0)&&(this[_0x3334f8(0x196)]=0x0);this['x']+=this[_0x3334f8(0x196)],this['y']+=this['yVel'];if(controls['left2']||controls['right2']||controls[_0x3334f8(0x18e)]||controls[_0x3334f8(0x194)]){this[_0x3334f8(0x191)]=!![];if(controls['left2'])this[_0x3334f8(0x188)]=!![];else controls[_0x3334f8(0x1a3)]&&(this[_0x3334f8(0x188)]=![]);}else this['charging']=![];this['charging']&&this[_0x3334f8(0x173)]<0x14&&this[_0x3334f8(0x173)]++;if(controls['leftRel'])this['attacking']=0x4,this[_0x3334f8(0x16c)]=0x0,this['f_frameCounter']=0x0,this['fist'](0x1);else{if(controls['rightRel'])this[_0x3334f8(0x182)]=0x4,this[_0x3334f8(0x16c)]=0x0,this[_0x3334f8(0x1d1)]=0x0,this['fist'](0x2);else{if(controls[_0x3334f8(0x1c9)])this[_0x3334f8(0x182)]=0x4,this[_0x3334f8(0x16c)]=0x0,this['f_frameCounter']=0x0,this[_0x3334f8(0x17a)](0x3);else controls[_0x3334f8(0x197)]&&(this['attacking']=0x4,this['f_currentFrame']=0x0,this[_0x3334f8(0x1d1)]=0x0,this['fist'](0x4));}}this[_0x3334f8(0x15f)]*=0.8,this[_0x3334f8(0x1c3)]*=0.8,this[_0x3334f8(0x15f)]<0.01&&this[_0x3334f8(0x15f)]>-0.01&&(this[_0x3334f8(0x15f)]=0x0),this[_0x3334f8(0x1c3)]<0.01&&this['yVelExt']>-0.01&&(this[_0x3334f8(0x1c3)]=0x0),this['x']+=this[_0x3334f8(0x15f)],this['y']+=this['yVelExt'],this[_0x3334f8(0x1ba)]['x']=this['x']+this['w']/0x4,this['hitbox']['w']=this['w']/0x2,this[_0x3334f8(0x1ba)]['h']=this['h'],this[_0x3334f8(0x1ba)]['y']=this['y'];}[_0x220325(0x19c)](){const _0x438249=_0x220325;if(!this[_0x438249(0x191)]){if(this[_0x438249(0x196)]>0x0)this[_0x438249(0x188)]=![];else this[_0x438249(0x196)]<0x0?this['left']=!![]:this[_0x438249(0x188)]?this[_0x438249(0x19f)]=0x1:this[_0x438249(0x19f)]=0x0;if(!this[_0x438249(0x1cb)]['B'])this[_0x438249(0x188)]?this[_0x438249(0x19f)]=0x5:this['action']=0x4;else{if(this[_0x438249(0x196)]!==0x0){if(!this[_0x438249(0x188)])player[_0x438249(0x19f)]=0x2,player[_0x438249(0x188)]=![];else this[_0x438249(0x188)]&&(player['action']=0x3,player[_0x438249(0x188)]=!![]);}}}this['frameCounter']++,this[_0x438249(0x174)]>this[_0x438249(0x184)]&&(this[_0x438249(0x1c4)]++,this['frameCounter']=0x0),this[_0x438249(0x1c4)]>=this[_0x438249(0x1b3)][this[_0x438249(0x19f)]][_0x438249(0x1c8)]&&(this[_0x438249(0x1c4)]=0x0,this[_0x438249(0x191)]&&(this['currentFrame']=this['actionX'][this[_0x438249(0x19f)]][_0x438249(0x1c8)]-0x2)),this[_0x438249(0x16a)]&&(this['currentFrame']=0x0,this[_0x438249(0x1bf)]++%0x4&&(this[_0x438249(0x19f)]=0x6)),this['charging']&&(this[_0x438249(0x188)]?this[_0x438249(0x19f)]=0x8:this['action']=0x7),this[_0x438249(0x1bf)]>this[_0x438249(0x153)]&&(this[_0x438249(0x16a)]=![],this[_0x438249(0x1bf)]=0x0),c[_0x438249(0x1aa)](SPRITESHEET,this[_0x438249(0x1b3)][this[_0x438249(0x19f)]][this[_0x438249(0x1c4)]]*GLOBAL[_0x438249(0x180)]|0x0,this['actionY'][this[_0x438249(0x19f)]][this[_0x438249(0x1c4)]]*GLOBAL['tileSize']|0x0,GLOBAL[_0x438249(0x180)]*0x2,GLOBAL[_0x438249(0x180)]*0x2,map['x']+this['x']*GLOBAL['tileSize']*GLOBAL[_0x438249(0x16d)]|0x0,map['y']+this['y']*GLOBAL[_0x438249(0x180)]*GLOBAL[_0x438249(0x16d)]|0x0,this['w']*GLOBAL[_0x438249(0x180)]*GLOBAL[_0x438249(0x16d)]|0x0,this['h']*GLOBAL[_0x438249(0x180)]*GLOBAL[_0x438249(0x16d)]|0x0),this[_0x438249(0x182)]&&(this[_0x438249(0x1d1)]++,this[_0x438249(0x1d1)]>this[_0x438249(0x1a7)]&&(this['f_currentFrame']++,this['f_frameCounter']=0x0),this['f_currentFrame']>=this[_0x438249(0x17e)][this[_0x438249(0x15a)]][_0x438249(0x1c8)]&&(this[_0x438249(0x16c)]=0x3),c['drawImage'](SPRITESHEET,this['fistX'][this[_0x438249(0x15a)]][this[_0x438249(0x16c)]]*GLOBAL[_0x438249(0x180)]|0x0,this[_0x438249(0x179)][this['f_action']][this[_0x438249(0x16c)]]*GLOBAL[_0x438249(0x180)]|0x0,GLOBAL[_0x438249(0x180)]*this[_0x438249(0x175)]['w'],GLOBAL[_0x438249(0x180)]*this[_0x438249(0x175)]['h'],map['x']+this[_0x438249(0x175)]['x']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,map['y']+this[_0x438249(0x175)]['y']*GLOBAL[_0x438249(0x180)]*GLOBAL['ratio']|0x0,this[_0x438249(0x175)]['w']*GLOBAL[_0x438249(0x180)]*GLOBAL[_0x438249(0x16d)]|0x0,this[_0x438249(0x175)]['h']*GLOBAL[_0x438249(0x180)]*GLOBAL['ratio']|0x0),this[_0x438249(0x182)]--);}}var player=new Player();setInterval(countFps,0x3e8);function countFps(){const _0x5b3097=_0x220325;id(_0x5b3097(0x17b))[_0x5b3097(0x1d3)]='FPS:\x20'+GLOBAL[_0x5b3097(0x18a)],GLOBAL[_0x5b3097(0x18a)]=0x0;}function displayDebug(){const _0x168377=_0x220325;id('px')[_0x168377(0x1d3)]=_0x168377(0x1d6)+player['x'],id('py')[_0x168377(0x1d3)]=_0x168377(0x1d7)+player['y'],id('pg')['innerHTML']=_0x168377(0x1ce),id('pg')['innerHTML']+=_0x168377(0x151)+player[_0x168377(0x1cb)]['L'],id('pg')[_0x168377(0x1d3)]+='<br>R:\x20'+player[_0x168377(0x1cb)]['R'],id('pg')[_0x168377(0x1d3)]+='<br>T:\x20'+player[_0x168377(0x1cb)]['T'],id('pg')[_0x168377(0x1d3)]+='<br>B:\x20'+player[_0x168377(0x1cb)]['B'];}function checkCollisions(){const _0x46fb3e=_0x220325;let _0x2f4297=map['tiles'],_0xd1886b=map[_0x46fb3e(0x16e)],_0x1ca222=_0x46fb3e(0x172);player[_0x46fb3e(0x17d)]['L']=0x0,player[_0x46fb3e(0x17d)]['R']=0x0,player[_0x46fb3e(0x17d)]['T']=0x0,player[_0x46fb3e(0x17d)]['B']=0x0,player['colBool']['L']=![],player[_0x46fb3e(0x1cb)]['R']=![],player[_0x46fb3e(0x1cb)]['T']=![],player['colBool']['B']=![];for(let _0x4f66bd=0x0;_0x4f66bd<_0x2f4297['length'];_0x4f66bd++){if(collided(player,_0x2f4297[_0x4f66bd])){_0x1ca222=colCheck(player,_0x2f4297[_0x4f66bd]);switch(_0x1ca222){case'l':player[_0x46fb3e(0x163)]<0x0&&(player[_0x46fb3e(0x17d)]['L']>player[_0x46fb3e(0x196)]&&(player['colBool']['L']=!![],player['xVel']=0x0));break;case'r':player['xVel']>0x0&&(player['col']['R']<player[_0x46fb3e(0x196)]&&(player[_0x46fb3e(0x1cb)]['R']=!![],player[_0x46fb3e(0x196)]=0x0));break;case't':player[_0x46fb3e(0x163)]<0x0&&(player[_0x46fb3e(0x163)]=0x0);player[_0x46fb3e(0x1cb)]['T']=!![];break;case'b':player[_0x46fb3e(0x163)]>0x0&&(player[_0x46fb3e(0x163)]=0x0);player['colBool']['B']=!![];break;}}}player[_0x46fb3e(0x1cb)]['B']&&(player['col']['B']-=0.015625),player[_0x46fb3e(0x1cb)]['L']&&(player[_0x46fb3e(0x17d)]['L']-=0.015625),player['colBool']['R']&&(player['col']['R']-=0.015625),player['x']-=player[_0x46fb3e(0x17d)]['R']-player[_0x46fb3e(0x17d)]['L'],player['y']-=player[_0x46fb3e(0x17d)]['B']-player[_0x46fb3e(0x17d)]['T'];}function _0x2124(_0x11d2b3,_0x415502){const _0x558864=_0x4b03();return _0x2124=function(_0x46af9c,_0x3fb698){_0x46af9c=_0x46af9c-0x14a;let _0x55b107=_0x558864[_0x46af9c];return _0x55b107;},_0x2124(_0x11d2b3,_0x415502);}class Monster{constructor(_0x5198a8,_0x4eb06f){const _0x1e8f33=_0x220325;this['type']=_0x1e8f33(0x14c),this['x']=_0x5198a8,this['y']=_0x4eb06f,this['w']=0x1,this['h']=0x1,this[_0x1e8f33(0x196)]=0x0,this['yVel']=0x0,this[_0x1e8f33(0x19d)]=0.1,this[_0x1e8f33(0x1af)]=0xa,this[_0x1e8f33(0x182)]=![],this['range']=0x3,this['dead']=![],this[_0x1e8f33(0x1b4)]=![],this[_0x1e8f33(0x1c4)]=0x0,this[_0x1e8f33(0x174)]=0x0,this[_0x1e8f33(0x184)]=0x3,this[_0x1e8f33(0x1ba)]={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this['action']=0x0,this[_0x1e8f33(0x1b3)]=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this['actionY']=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x220325(0x18f)](){const _0x3b85dd=_0x220325;this[_0x3b85dd(0x1af)]--;if(this[_0x3b85dd(0x1af)]<=0x0){this['frames']=0xa;if(!this[_0x3b85dd(0x182)]){this[_0x3b85dd(0x175)]['x']=this['x']-this[_0x3b85dd(0x1bb)],this['atkBox']['y']=this['y']-this['range'],this['atkBox']['w']=this['w']+this['range']*0x2,this[_0x3b85dd(0x175)]['h']=this['h']+this[_0x3b85dd(0x1bb)]*0x2;if(collided(this[_0x3b85dd(0x175)],player)){this[_0x3b85dd(0x182)]=!![];let _0xdbff33=this['x']+this['w']/0x2,_0x1ea4f1=this['y']+this['h']/0x2,_0x3a02f6=_0xdbff33-(player['x']+player['w']/0x2),_0x135695=_0x1ea4f1-(player['y']+player['h']/0x2),_0x2f9682=Math[_0x3b85dd(0x14e)](_0x135695,_0x3a02f6);this['xVel']=-Math[_0x3b85dd(0x193)](_0x2f9682)*this[_0x3b85dd(0x19d)],this[_0x3b85dd(0x163)]=-Math['sin'](_0x2f9682)*this[_0x3b85dd(0x19d)];}}else!this[_0x3b85dd(0x162)]&&collided(this,player)&&(player[_0x3b85dd(0x16f)]>0x0&&player[_0x3b85dd(0x1bf)]==0x0&&(player[_0x3b85dd(0x16f)]--,playerInterface[_0x3b85dd(0x1b1)]=0x4,player['attacked']=!![]));}this['x']+=this[_0x3b85dd(0x196)],this['y']+=this['yVel'],this[_0x3b85dd(0x1ba)]['x']=this['x']+this['w']/0x2,this[_0x3b85dd(0x1ba)]['y']=this['y'];}['render'](){const _0x102e26=_0x220325;this[_0x102e26(0x162)]&&!this[_0x102e26(0x1b4)]&&(this[_0x102e26(0x19f)]=0x1,this['frameCounter']=0x0,this[_0x102e26(0x1c4)]=0x0,this[_0x102e26(0x1b4)]=!![]),this[_0x102e26(0x174)]++,this[_0x102e26(0x174)]>this[_0x102e26(0x184)]&&(this[_0x102e26(0x1c4)]++,this[_0x102e26(0x174)]=0x0),this['currentFrame']>=this['actionX'][this[_0x102e26(0x19f)]]['length']&&(this['currentFrame']=0x0,this[_0x102e26(0x1b4)]&&(this[_0x102e26(0x19f)]=0x2)),c[_0x102e26(0x1aa)](SPRITESHEET,this[_0x102e26(0x1b3)][this['action']][this[_0x102e26(0x1c4)]]*GLOBAL[_0x102e26(0x180)]|0x0,this[_0x102e26(0x170)][this['action']][this[_0x102e26(0x1c4)]]*GLOBAL[_0x102e26(0x180)]|0x0,GLOBAL[_0x102e26(0x180)],GLOBAL[_0x102e26(0x180)],map['x']+this['x']*GLOBAL[_0x102e26(0x180)]*GLOBAL[_0x102e26(0x16d)]|0x0,map['y']+this['y']*GLOBAL[_0x102e26(0x180)]*GLOBAL[_0x102e26(0x16d)]|0x0,this['w']*GLOBAL[_0x102e26(0x180)]*GLOBAL[_0x102e26(0x16d)]|0x0,this['h']*GLOBAL[_0x102e26(0x180)]*GLOBAL[_0x102e26(0x16d)]|0x0);}}class TeaMonster{constructor(_0x9b44df,_0x2d2115){const _0x37bbb3=_0x220325;this['x']=_0x9b44df,this['y']=_0x2d2115,this['w']=0x1,this['h']=0x1,this[_0x37bbb3(0x196)]=0x0,this[_0x37bbb3(0x163)]=0x0,this['speed']=0.1,this['frames']=0xa,this[_0x37bbb3(0x182)]=![],this[_0x37bbb3(0x1bb)]=0x3,this[_0x37bbb3(0x162)]=![],this[_0x37bbb3(0x1b4)]=![],this['currentFrame']=0x0,this['frameCounter']=0x0,this[_0x37bbb3(0x1b5)]=_0x37bbb3(0x155),this[_0x37bbb3(0x162)]=![],this[_0x37bbb3(0x184)]=0x3,this[_0x37bbb3(0x1c7)]=0x0,this['downCounter']=0x0,this[_0x37bbb3(0x1a6)]=0x0,this['w']=0x3,this['h']=0x3,this[_0x37bbb3(0x19f)]=0x0,this[_0x37bbb3(0x1ba)]={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this[_0x37bbb3(0x175)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x37bbb3(0x1b3)]=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this[_0x37bbb3(0x170)]=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}[_0x220325(0x18f)](){const _0x30f720=_0x220325;this[_0x30f720(0x1ba)]['x']=this['x']-this[_0x30f720(0x1a6)],this[_0x30f720(0x1ba)]['y']=this['y']+this[_0x30f720(0x1a6)],this[_0x30f720(0x1ba)]['w']=this['w']+this[_0x30f720(0x1a6)],this[_0x30f720(0x1ba)]['h']=this['h']-this[_0x30f720(0x1a6)],this['down']&&this[_0x30f720(0x1a8)]===0x1&&(collided(this,player)&&(player[_0x30f720(0x1bf)]==0x0&&(player['attacked']=!![],player[_0x30f720(0x15f)]=-0x2,player[_0x30f720(0x16f)]-=0x2,player['healthAmount']<0x0&&(player[_0x30f720(0x16f)]=0x0))));}[_0x220325(0x19c)](){const _0x136941=_0x220325;this[_0x136941(0x162)]=![],this[_0x136941(0x174)]++,this[_0x136941(0x174)]>this[_0x136941(0x184)]&&(this['currentFrame']++,this[_0x136941(0x174)]=0x0),this[_0x136941(0x1c4)]>=this['actionX'][this[_0x136941(0x19f)]][_0x136941(0x1c8)]&&(this[_0x136941(0x1c4)]=0x0,this[_0x136941(0x19f)]==0x1&&(this[_0x136941(0x19f)]=0x2),this[_0x136941(0x19f)]==0x2&&this[_0x136941(0x1c7)]++==0x2&&(this[_0x136941(0x19f)]=0x3),this['action']==0x3&&(this[_0x136941(0x1a6)]=0x1,this[_0x136941(0x1a8)]++,this['downCounter']==0x3&&(this[_0x136941(0x1a6)]=0x0,this[_0x136941(0x19f)]=0x0,this[_0x136941(0x1a8)]=0x0,this[_0x136941(0x1c7)]=0x0))),player['x']>this['x']-this[_0x136941(0x1bb)]&&this[_0x136941(0x19f)]<0x1&&(this[_0x136941(0x19f)]=0x1,this['currentFrame']=0x0,this[_0x136941(0x174)]=0x0),c['drawImage'](SPRITESHEET,this[_0x136941(0x1b3)][this[_0x136941(0x19f)]][this[_0x136941(0x1c4)]]*GLOBAL[_0x136941(0x180)]|0x0,this['actionY'][this[_0x136941(0x19f)]][this[_0x136941(0x1c4)]]*GLOBAL[_0x136941(0x180)]|0x0,(this['w']+this[_0x136941(0x1a6)])*GLOBAL[_0x136941(0x180)],this['h']*GLOBAL[_0x136941(0x180)],map['x']+(this['x']-this[_0x136941(0x1a6)])*GLOBAL[_0x136941(0x180)]*GLOBAL[_0x136941(0x16d)]|0x0,map['y']+this['y']*GLOBAL[_0x136941(0x180)]*GLOBAL[_0x136941(0x16d)]|0x0,(this['w']+this[_0x136941(0x1a6)])*GLOBAL[_0x136941(0x180)]*GLOBAL[_0x136941(0x16d)]|0x0,this['h']*GLOBAL[_0x136941(0x180)]*GLOBAL[_0x136941(0x16d)]|0x0);}}class MageAttack{constructor(_0x45503c,_0x4b4204){const _0x5ab173=_0x220325;this['x']=_0x45503c,this['y']=0x0,this['w']=0x2,this['h']=0xf,this[_0x5ab173(0x1c4)]=0x0,this['frameCounter']=0x0,this['type']='attack',this['disabled']=!![],this[_0x5ab173(0x184)]=0x3,this['attacking']=![],this[_0x5ab173(0x19f)]=0x0,this[_0x5ab173(0x1b3)]=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this['actionY']=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this[_0x5ab173(0x1ad)]=0x0,this[_0x5ab173(0x19d)]=0.3,this[_0x5ab173(0x1c5)]=!![],this['hitbox']={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}[_0x220325(0x18f)](){const _0x57cded=_0x220325;this[_0x57cded(0x1ad)]=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this[_0x57cded(0x1c5)]){if(this[_0x57cded(0x1ad)]<0x0)this['x']+=this[_0x57cded(0x1ad)]/0xa;else this[_0x57cded(0x1ad)]>0x0&&(this['x']+=this[_0x57cded(0x1ad)]/0xa);}this['hitbox']['x']=this['x']+(this['w']-this[_0x57cded(0x1ba)]['w'])/0x2,this[_0x57cded(0x1c4)]>0x5&&this['currentFrame']<0x9&&(this[_0x57cded(0x1c5)]=![],collided(this,player)&&(player['healthAmount']>0x0&&player['iFrame']==0x0&&(player[_0x57cded(0x16f)]-=0x2,playerInterface[_0x57cded(0x1b1)]=0x4,player[_0x57cded(0x16a)]=!![])));}[_0x220325(0x19c)](){const _0x29dc95=_0x220325;this['frameCounter']++,this[_0x29dc95(0x174)]>this[_0x29dc95(0x184)]&&(this[_0x29dc95(0x1c4)]++,this[_0x29dc95(0x174)]=0x0),this['currentFrame']>=this[_0x29dc95(0x1b3)][this[_0x29dc95(0x19f)]]['length']&&(this[_0x29dc95(0x1c4)]=0x0,this[_0x29dc95(0x186)]=!![]),c[_0x29dc95(0x1aa)](SPRITESHEET,this[_0x29dc95(0x1b3)][this['action']][this[_0x29dc95(0x1c4)]]*GLOBAL[_0x29dc95(0x180)]|0x0,this['actionY'][this[_0x29dc95(0x19f)]][this['currentFrame']]*GLOBAL['tileSize']|0x0,this['w']*GLOBAL[_0x29dc95(0x180)],this['h']*GLOBAL[_0x29dc95(0x180)],map['x']+this['x']*GLOBAL[_0x29dc95(0x180)]*GLOBAL[_0x29dc95(0x16d)]|0x0,this['y']*GLOBAL[_0x29dc95(0x180)]*GLOBAL[_0x29dc95(0x16d)]|0x0,this['w']*GLOBAL[_0x29dc95(0x180)]*GLOBAL[_0x29dc95(0x16d)]|0x0,this['h']*GLOBAL[_0x29dc95(0x180)]*GLOBAL[_0x29dc95(0x16d)]|0x0);}}class MageMonster{constructor(_0x262588,_0x298c91){const _0x515710=_0x220325;this['x']=_0x262588,this['y']=_0x298c91,this['w']=0x1,this['h']=0x1,this[_0x515710(0x196)]=0x0,this[_0x515710(0x163)]=0x0,this[_0x515710(0x19d)]=0.1,this['frames']=0xa,this[_0x515710(0x182)]=![],this[_0x515710(0x1bb)]=0x4,this[_0x515710(0x162)]=![],this['deathAnimation']=![],this[_0x515710(0x1c4)]=0x0,this[_0x515710(0x174)]=0x0,this[_0x515710(0x1b5)]=_0x515710(0x1bc),this[_0x515710(0x162)]=![],this[_0x515710(0x184)]=0x3,this[_0x515710(0x1c7)]=0x0,this[_0x515710(0x1a8)]=0x0,this[_0x515710(0x1a6)]=0x0,this['w']=0x2,this['h']=0x2,this[_0x515710(0x19f)]=0x0,this[_0x515710(0x1ba)]={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x515710(0x1d4)]=new MageAttack(0x0,0x0),this[_0x515710(0x1b3)]=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this['actionY']=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}['compute'](){const _0xc642a7=_0x220325;this[_0xc642a7(0x1af)]--,this[_0xc642a7(0x1af)]<=0x0&&(this[_0xc642a7(0x1af)]=0xa,collided(this['atkBox'],player)?(this['attacking']=!![],this[_0xc642a7(0x1d4)][_0xc642a7(0x186)]&&(this['laser']['disabled']=![],this[_0xc642a7(0x1d4)]['follow']=!![],this['laser']['x']=this['x'])):this[_0xc642a7(0x182)]=![],!this[_0xc642a7(0x182)]?(this['atkBox']['x']=this['x']-this[_0xc642a7(0x1bb)],this['atkBox']['y']=this['y']-this[_0xc642a7(0x1bb)],this[_0xc642a7(0x175)]['w']=this['w']+this['range']*0x2,this['atkBox']['h']=this['h']+this['range']*0x2):!this[_0xc642a7(0x162)]&&collided(this,player)&&(player['healthAmount']>0x0&&player['iFrame']==0x0&&(player['healthAmount']--,playerInterface[_0xc642a7(0x1b1)]=0x4,player['attacked']=!![])));}[_0x220325(0x19c)](){const _0x11fde0=_0x220325;!this[_0x11fde0(0x1d4)][_0x11fde0(0x186)]&&(this[_0x11fde0(0x1d4)][_0x11fde0(0x18f)](),this[_0x11fde0(0x1d4)][_0x11fde0(0x19c)]()),this['dead']=![],this['attacking']?this[_0x11fde0(0x19f)]=0x1:this['action']=0x0,this['frameCounter']++,this['frameCounter']>this[_0x11fde0(0x184)]&&(this[_0x11fde0(0x1c4)]++,this[_0x11fde0(0x174)]=0x0),this[_0x11fde0(0x1c4)]>=this['actionX'][this[_0x11fde0(0x19f)]][_0x11fde0(0x1c8)]&&(this[_0x11fde0(0x1c4)]=0x0),c[_0x11fde0(0x1aa)](SPRITESHEET,this[_0x11fde0(0x1b3)][this[_0x11fde0(0x19f)]][this[_0x11fde0(0x1c4)]]*GLOBAL['tileSize']|0x0,this[_0x11fde0(0x170)][this['action']][this['currentFrame']]*GLOBAL[_0x11fde0(0x180)]|0x0,(this['w']+this[_0x11fde0(0x1a6)])*GLOBAL[_0x11fde0(0x180)],this['h']*GLOBAL[_0x11fde0(0x180)],map['x']+(this['x']-this[_0x11fde0(0x1a6)])*GLOBAL['tileSize']*GLOBAL[_0x11fde0(0x16d)]|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL[_0x11fde0(0x16d)]|0x0,(this['w']+this['down'])*GLOBAL[_0x11fde0(0x180)]*GLOBAL[_0x11fde0(0x16d)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x11fde0(0x16d)]|0x0);}}class Map{constructor(){const _0x195495=_0x220325;this['tilesWidth']=canvas[_0x195495(0x1c2)]/GLOBAL['tileSize']/GLOBAL['ratio'],this[_0x195495(0x187)]=canvas[_0x195495(0x16b)]/GLOBAL[_0x195495(0x180)]/GLOBAL[_0x195495(0x16d)],this['x']=0x0,this['y']=0x0,this[_0x195495(0x19a)]=id(_0x195495(0x1a1)),this[_0x195495(0x17f)]=[0x0,0x0,0x0],this[_0x195495(0x1a9)]=[0x0,0x96,0x12c],this[_0x195495(0x19b)]=0x1c2,this[_0x195495(0x1a5)]=0x96,this['backgroundPosX']=[0x0,0x0,0x0],this[_0x195495(0x164)]=[0x0,0x0,0x0],this['bgTiles']=[],this[_0x195495(0x14b)]=[],this[_0x195495(0x150)]=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this[_0x195495(0x1d9)]={'x':0xa,'y':0x0},this[_0x195495(0x198)]=[],this[_0x195495(0x16e)]=[];}[_0x220325(0x190)](){const _0x427a54=_0x220325;this['x']=-(player['x']-0x8)*GLOBAL[_0x427a54(0x180)]*GLOBAL[_0x427a54(0x16d)],this['y']=-(player['y']-0x8)*GLOBAL[_0x427a54(0x180)]*GLOBAL[_0x427a54(0x16d)];}[_0x220325(0x1ab)](){const _0x13259b=_0x220325;for(let _0x488325=0x0;_0x488325<this[_0x13259b(0x198)][_0x13259b(0x1c8)];_0x488325++){renderTile(this[_0x13259b(0x198)][_0x488325]);}}[_0x220325(0x1cc)](){const _0x522dad=_0x220325;for(let _0x9665e6=0x0;_0x9665e6<this['bgTiles']['length'];_0x9665e6++){renderTile(this[_0x522dad(0x15c)][_0x9665e6]);}}[_0x220325(0x168)](){const _0x43d208=_0x220325;for(let _0x2e76ce=0x0;_0x2e76ce<this[_0x43d208(0x14b)][_0x43d208(0x1c8)];_0x2e76ce++){renderTile(this[_0x43d208(0x198)][_0x2e76ce]);}}[_0x220325(0x1ae)](){const _0x3f2f2f=_0x220325;for(let _0x16df7d=0x0;_0x16df7d<this[_0x3f2f2f(0x16e)]['length'];_0x16df7d++){this[_0x3f2f2f(0x16e)][_0x16df7d][_0x3f2f2f(0x19c)]();}}['renderBackground'](){const _0x5780c3=_0x220325;this[_0x5780c3(0x1cf)][0x1]+=0.6,this[_0x5780c3(0x1cf)][0x2]+=0.3;this[_0x5780c3(0x1cf)][0x0]>this[_0x5780c3(0x19b)]*GLOBAL[_0x5780c3(0x16d)]&&(this[_0x5780c3(0x1cf)][0x0]-=this[_0x5780c3(0x19b)]*GLOBAL[_0x5780c3(0x16d)]);this[_0x5780c3(0x1cf)][0x1]>this[_0x5780c3(0x19b)]*GLOBAL[_0x5780c3(0x16d)]&&(this[_0x5780c3(0x1cf)][0x1]-=this[_0x5780c3(0x19b)]*GLOBAL['ratio']);this['backgroundPosX'][0x2]>this['backgroundSizeW']*GLOBAL['ratio']&&(this[_0x5780c3(0x1cf)][0x2]-=this['backgroundSizeW']*GLOBAL[_0x5780c3(0x16d)]);for(let _0x26013d=-0x1;_0x26013d<0x2;_0x26013d++){c[_0x5780c3(0x1aa)](this[_0x5780c3(0x19a)],this['backgroundsX'][0x2]|0x0,this[_0x5780c3(0x1a9)][0x2]|0x0,this['backgroundSizeW'],this[_0x5780c3(0x1a5)],this[_0x5780c3(0x19b)]*GLOBAL[_0x5780c3(0x16d)]*_0x26013d+this[_0x5780c3(0x1cf)][0x2]+this['x']/0x8,this[_0x5780c3(0x164)][0x2],this['backgroundSizeW']*GLOBAL[_0x5780c3(0x16d)],this['backgroundSizeH']*GLOBAL[_0x5780c3(0x16d)]);}for(let _0x295ce3=-0x1;_0x295ce3<0x2;_0x295ce3++){c[_0x5780c3(0x1aa)](this['backgroundSheet'],this[_0x5780c3(0x17f)][0x1]|0x0,this[_0x5780c3(0x1a9)][0x1]|0x0,this[_0x5780c3(0x19b)],this[_0x5780c3(0x1a5)],this[_0x5780c3(0x19b)]*GLOBAL['ratio']*_0x295ce3+this['backgroundPosX'][0x1]+this['x']/0x6,this[_0x5780c3(0x164)][0x1],this[_0x5780c3(0x19b)]*GLOBAL[_0x5780c3(0x16d)],this[_0x5780c3(0x1a5)]*GLOBAL[_0x5780c3(0x16d)]);}for(let _0x32239e=-0x1;_0x32239e<0x2;_0x32239e++){c[_0x5780c3(0x1aa)](this[_0x5780c3(0x19a)],this['backgroundsX'][0x0]|0x0,this[_0x5780c3(0x1a9)][0x0]|0x0,this['backgroundSizeW'],this[_0x5780c3(0x1a5)],this[_0x5780c3(0x19b)]*GLOBAL[_0x5780c3(0x16d)]*_0x32239e+this[_0x5780c3(0x1cf)][0x0]+this['x']/0x4,this[_0x5780c3(0x164)][0x0],this[_0x5780c3(0x19b)]*GLOBAL[_0x5780c3(0x16d)],this['backgroundSizeH']*GLOBAL[_0x5780c3(0x16d)]);}c[_0x5780c3(0x183)]=_0x5780c3(0x185),c[_0x5780c3(0x1db)](0x0,this[_0x5780c3(0x1a9)][0x0]+this[_0x5780c3(0x1a5)]*GLOBAL[_0x5780c3(0x16d)],canvas['width'],this['backgroundSizeH']*GLOBAL[_0x5780c3(0x16d)]);}[_0x220325(0x14f)](){const _0x2a34aa=_0x220325;for(let _0x185757=0x0;_0x185757<this[_0x2a34aa(0x16e)]['length'];_0x185757++){this['enemies'][_0x185757]['compute']();}}}var map=new Map(),mapTester=!![];window[_0x220325(0x19e)]?window[_0x220325(0x19e)][_0x220325(0x18c)]?(debug[_0x220325(0x166)](window[_0x220325(0x19e)][_0x220325(0x18c)]),safeEval(window[_0x220325(0x19e)][_0x220325(0x18c)]),initializeMap()):(safeEval(window['opener'][_0x220325(0x150)]),initializeMap()):mapTester=![];function safeEval(_0x272d83){const _0x17281f=_0x220325;typeof _0x272d83==='object'&&_0x272d83!==null&&(map['map']=Object[_0x17281f(0x1b0)](_0x272d83[_0x17281f(0x150)]),map[_0x17281f(0x1d9)]=Object[_0x17281f(0x1b0)](_0x272d83[_0x17281f(0x1d9)]),console[_0x17281f(0x166)]('safe\x20eval'));}function renderTile(_0x5e9f70){const _0x3570e1=_0x220325;if(_0x5e9f70[_0x3570e1(0x199)])c[_0x3570e1(0x1aa)](SPRITESHEET,tiles[_0x5e9f70[_0x3570e1(0x1b5)]][0x0]*GLOBAL['tileSize']|0x0,tiles[_0x5e9f70[_0x3570e1(0x1b5)]][0x1]*GLOBAL[_0x3570e1(0x180)]|0x0,_0x5e9f70['w']*GLOBAL[_0x3570e1(0x180)],_0x5e9f70['h']*GLOBAL[_0x3570e1(0x180)],map['x']+_0x5e9f70['x']*GLOBAL[_0x3570e1(0x180)]*GLOBAL['ratio']|0x0,map['y']+_0x5e9f70['y']*GLOBAL[_0x3570e1(0x180)]*GLOBAL[_0x3570e1(0x16d)]|0x0,_0x5e9f70['w']*GLOBAL[_0x3570e1(0x180)]*GLOBAL[_0x3570e1(0x16d)]|0x0,_0x5e9f70['h']*GLOBAL[_0x3570e1(0x180)]*GLOBAL[_0x3570e1(0x16d)]|0x0);else for(let _0x3d8289=0x0;_0x3d8289<_0x5e9f70['w'];_0x3d8289++){for(let _0x1627bf=0x0;_0x1627bf<_0x5e9f70['h'];_0x1627bf++){c[_0x3570e1(0x1aa)](SPRITESHEET,tiles[_0x5e9f70[_0x3570e1(0x1b5)]][0x0]*GLOBAL['tileSize']|0x0,tiles[_0x5e9f70[_0x3570e1(0x1b5)]][0x1]*GLOBAL[_0x3570e1(0x180)]|0x0,GLOBAL[_0x3570e1(0x180)],GLOBAL[_0x3570e1(0x180)],map['x']+(_0x5e9f70['x']+_0x3d8289)*GLOBAL[_0x3570e1(0x180)]*GLOBAL['ratio']|0x0,map['y']+(_0x5e9f70['y']+_0x1627bf)*GLOBAL[_0x3570e1(0x180)]*GLOBAL[_0x3570e1(0x16d)]|0x0,GLOBAL[_0x3570e1(0x180)]*GLOBAL['ratio']|0x0,GLOBAL[_0x3570e1(0x180)]*GLOBAL['ratio']|0x0);}}}function gameLoop(){const _0x51826f=_0x220325;GLOBAL['fpsCounter']++,setTimeout(gameLoop,0x3e8/GLOBAL['FPS']),c[_0x51826f(0x181)](0x0,0x0,canvas[_0x51826f(0x1c2)],canvas['height']),c[_0x51826f(0x183)]=_0x51826f(0x15d),c[_0x51826f(0x1db)](0x0,0x0,canvas[_0x51826f(0x1c2)],canvas[_0x51826f(0x16b)]),renderStars(),map[_0x51826f(0x1d0)](),map[_0x51826f(0x1ab)](),map[_0x51826f(0x1cc)](),player['compute'](),checkCollisions(),map['computeEnemies'](),map[_0x51826f(0x1ae)](),player['render'](),playerInterface['render'](),map[_0x51826f(0x190)](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0x302313=_0x220325;player['x']=map[_0x302313(0x1d9)]['x'],player['y']=map[_0x302313(0x1d9)]['y'],map[_0x302313(0x198)]=map[_0x302313(0x150)];var _0x286b12=[];for(let _0x41c624=map[_0x302313(0x198)]['length']-0x1;_0x41c624>=0x0;_0x41c624--){switch(map[_0x302313(0x198)][_0x41c624][_0x302313(0x1b5)]){case 0xd:map[_0x302313(0x16e)][_0x302313(0x1b2)](new Monster(map[_0x302313(0x198)][_0x41c624]['x'],map['tiles'][_0x41c624]['y'])),_0x286b12[_0x302313(0x1b2)](_0x41c624);break;case 0xe:map['enemies']['push'](new TeaMonster(map['tiles'][_0x41c624]['x'],map[_0x302313(0x198)][_0x41c624]['y'])),_0x286b12['push'](_0x41c624);break;case 0xf:map[_0x302313(0x16e)][_0x302313(0x1b2)](new MageMonster(map[_0x302313(0x198)][_0x41c624]['x'],map[_0x302313(0x198)][_0x41c624]['y'])),_0x286b12[_0x302313(0x1b2)](_0x41c624);break;}}for(let _0x1f4ed5=0x0;_0x1f4ed5<_0x286b12[_0x302313(0x1c8)];_0x1f4ed5++){map[_0x302313(0x198)][_0x302313(0x165)](_0x286b12[_0x1f4ed5],0x1);}}