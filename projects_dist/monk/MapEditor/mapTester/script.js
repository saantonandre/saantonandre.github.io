'use strict';const _0x4c44b8=_0xab79;(function(_0x5b6d1e,_0x38303c){const _0x4b9c02=_0xab79,_0x59cbb7=_0x5b6d1e();while(!![]){try{const _0xfdb340=parseInt(_0x4b9c02(0x1c6))/0x1*(parseInt(_0x4b9c02(0x1db))/0x2)+-parseInt(_0x4b9c02(0x206))/0x3+-parseInt(_0x4b9c02(0x212))/0x4+parseInt(_0x4b9c02(0x21b))/0x5*(parseInt(_0x4b9c02(0x1e5))/0x6)+-parseInt(_0x4b9c02(0x1eb))/0x7*(-parseInt(_0x4b9c02(0x235))/0x8)+-parseInt(_0x4b9c02(0x229))/0x9*(parseInt(_0x4b9c02(0x1d8))/0xa)+parseInt(_0x4b9c02(0x1e7))/0xb;if(_0xfdb340===_0x38303c)break;else _0x59cbb7['push'](_0x59cbb7['shift']());}catch(_0x2370dc){_0x59cbb7['push'](_0x59cbb7['shift']());}}}(_0x94fc,0x2bb1e));function id(_0x109d97){const _0x508b44=(function(){let _0x35a1c6=!![];return function(_0x18c5f2,_0x1bfbd1){const _0x22bd02=_0x35a1c6?function(){if(_0x1bfbd1){const _0x509c15=_0x1bfbd1['apply'](_0x18c5f2,arguments);return _0x1bfbd1=null,_0x509c15;}}:function(){};return _0x35a1c6=![],_0x22bd02;};}()),_0x4217d9=_0x508b44(this,function(){const _0x59ff2a=_0xab79;let _0xb6caf;try{const _0x487f34=Function('return\x20(function()\x20'+_0x59ff2a(0x1ce)+');');_0xb6caf=_0x487f34();}catch(_0x417f03){_0xb6caf=window;}const _0x1d81b2=new RegExp('[fYqzHqCvUWEIpjqqAyAJwUBByLOCZXLBvOmTXqkfWGBLWkZAPzDxHNWAFLmLBGpOkqW]','g'),_0x5f13fa=_0x59ff2a(0x1fa)[_0x59ff2a(0x237)](_0x1d81b2,'')[_0x59ff2a(0x1e6)](';');let _0x4c2164,_0x48fc8f,_0x155d18,_0x2d4949;const _0x5b963b=function(_0x575125,_0x2f58c0,_0x4462d2){const _0x10ddd4=_0x59ff2a;if(_0x575125[_0x10ddd4(0x21d)]!=_0x2f58c0)return![];for(let _0x20d593=0x0;_0x20d593<_0x2f58c0;_0x20d593++){for(let _0x4d68c3=0x0;_0x4d68c3<_0x4462d2[_0x10ddd4(0x21d)];_0x4d68c3+=0x2){if(_0x20d593==_0x4462d2[_0x4d68c3]&&_0x575125['charCodeAt'](_0x20d593)!=_0x4462d2[_0x4d68c3+0x1])return![];}}return!![];},_0x2af584=function(_0x21157f,_0x5dd2c4,_0x5043a1){return _0x5b963b(_0x5dd2c4,_0x5043a1,_0x21157f);},_0x1136b3=function(_0x2a5c1c,_0x231930,_0x4d4bf9){return _0x2af584(_0x231930,_0x2a5c1c,_0x4d4bf9);},_0x5767f0=function(_0x330261,_0x162802,_0x5bdce8){return _0x1136b3(_0x162802,_0x5bdce8,_0x330261);};for(let _0x1adaef in _0xb6caf){if(_0x5b963b(_0x1adaef,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4c2164=_0x1adaef;break;}}for(let _0x342d66 in _0xb6caf[_0x4c2164]){if(_0x5767f0(0x6,_0x342d66,[0x5,0x6e,0x0,0x64])){_0x48fc8f=_0x342d66;break;}}for(let _0x51747d in _0xb6caf[_0x4c2164]){if(_0x1136b3(_0x51747d,[0x7,0x6e,0x0,0x6c],0x8)){_0x155d18=_0x51747d;break;}}if(!('~'>_0x48fc8f))for(let _0x2f7824 in _0xb6caf[_0x4c2164][_0x155d18]){if(_0x2af584([0x7,0x65,0x0,0x68],_0x2f7824,0x8)){_0x2d4949=_0x2f7824;break;}}if(!_0x4c2164||!_0xb6caf[_0x4c2164])return;const _0x54b9ac=_0xb6caf[_0x4c2164][_0x48fc8f],_0x4d4ffc=!!_0xb6caf[_0x4c2164][_0x155d18]&&_0xb6caf[_0x4c2164][_0x155d18][_0x2d4949],_0xc22446=_0x54b9ac||_0x4d4ffc;if(!_0xc22446)return;let _0x3ed3d0=![];for(let _0x1059f7=0x0;_0x1059f7<_0x5f13fa[_0x59ff2a(0x21d)];_0x1059f7++){const _0x4edb1f=_0x5f13fa[_0x1059f7],_0x427851=_0x4edb1f[0x0]===String['fromCharCode'](0x2e)?_0x4edb1f[_0x59ff2a(0x20b)](0x1):_0x4edb1f,_0x461006=_0xc22446[_0x59ff2a(0x21d)]-_0x427851['length'],_0x3e738a=_0xc22446[_0x59ff2a(0x21e)](_0x427851,_0x461006),_0x2f59d4=_0x3e738a!==-0x1&&_0x3e738a===_0x461006;_0x2f59d4&&((_0xc22446['length']==_0x4edb1f[_0x59ff2a(0x21d)]||_0x4edb1f[_0x59ff2a(0x21e)]('.')===0x0)&&(_0x3ed3d0=!![]));}if(!_0x3ed3d0){const _0x26aa61=new RegExp('[HYQrrqqfKCSwxRjNqeqhBLFqFsgr]','g'),_0x301a16=_0x59ff2a(0x221)[_0x59ff2a(0x237)](_0x26aa61,'');_0xb6caf[_0x4c2164][_0x155d18]=_0x301a16;}});return _0x4217d9(),document['getElementById'](_0x109d97);}window[_0x4c44b8(0x1cf)]=function(){initializeMap();};const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id(_0x4c44b8(0x233));canvas['width']=0x2d0,canvas[_0x4c44b8(0x20d)]=0x1e0;var c=canvas['getContext']('2d');c[_0x4c44b8(0x1c8)]=![];const SPRITESHEET=id('spritesheet'),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};class Star{constructor(){const _0x50506d=_0x4c44b8;this['r']=Math[_0x50506d(0x220)]()*0x3|0x0,stars[_0x50506d(0x1d9)]({'x':Math[_0x50506d(0x220)]()*canvas[_0x50506d(0x21f)],'y':Math[_0x50506d(0x220)]()*canvas['height'],'width':this['r'],'height':this['r'],'xVel':Math[_0x50506d(0x220)]()/0xa,'yVel':Math['random']()/0xa});}}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function renderStars(){const _0x4cb282=_0x4c44b8;for(let _0x7a1e04=0x0;_0x7a1e04<stars[_0x4cb282(0x21d)];_0x7a1e04++){c[_0x4cb282(0x1e2)](),c[_0x4cb282(0x22a)]='#ffffff',c[_0x4cb282(0x1f9)](stars[_0x7a1e04]['x']|0x0*GLOBAL[_0x4cb282(0x20a)],stars[_0x7a1e04]['y']|0x0*GLOBAL[_0x4cb282(0x20a)],stars[_0x7a1e04][_0x4cb282(0x21f)]*GLOBAL['ratio'],stars[_0x7a1e04]['height']*GLOBAL[_0x4cb282(0x20a)]),c[_0x4cb282(0x1bb)](),stars[_0x7a1e04]['x']>canvas[_0x4cb282(0x21f)]&&(stars[_0x7a1e04]['x']=0x0),stars[_0x7a1e04]['y']>canvas[_0x4cb282(0x20d)]&&(stars[_0x7a1e04]['y']=0x0),stars[_0x7a1e04]['x']+=stars[_0x7a1e04][_0x4cb282(0x205)],stars[_0x7a1e04]['y']+=stars[_0x7a1e04]['xVel'];}}function distribute(_0x50e393,_0x2d3eb6,_0x5ef9a6){const _0xe49d24=_0x4c44b8;let _0x4fb1da=[];while(_0x2d3eb6[_0xe49d24(0x21d)]>_0x4fb1da[_0xe49d24(0x21d)]){if(_0x50e393>_0x5ef9a6)_0x4fb1da[_0xe49d24(0x1d9)](_0x5ef9a6),_0x50e393-=_0x5ef9a6;else _0x50e393!=0x0?(_0x4fb1da[_0xe49d24(0x1d9)](_0x50e393),_0x50e393=0x0):_0x2d3eb6[_0xe49d24(0x21d)]>_0x4fb1da[_0xe49d24(0x21d)]&&_0x4fb1da[_0xe49d24(0x1d9)](_0x50e393);}return _0x4fb1da;}class Interface{constructor(){const _0x3f0ff6=_0x4c44b8;this[_0x3f0ff6(0x1c2)]=0x0,this['healthMaxValue']=0x2,this[_0x3f0ff6(0x236)]=[0x2,0x2,0x2],this['heartsX']=[0x2,0x1,0x0],this[_0x3f0ff6(0x1fc)]=[0x8,0x8,0x8],this[_0x3f0ff6(0x1c5)]=canvas['width']/0x10/0x2/GLOBAL[_0x3f0ff6(0x20a)]-this[_0x3f0ff6(0x236)]['length']/0x2|0x0,this['healthY']=0x1,this[_0x3f0ff6(0x1ca)],this[_0x3f0ff6(0x207)];}[_0x4c44b8(0x1bd)](){const _0x183a59=_0x4c44b8;this[_0x183a59(0x1c2)]>0x0?(this['shakeAmountX']=Math[_0x183a59(0x220)]()*this[_0x183a59(0x1c2)]*0x2-this[_0x183a59(0x1c2)],this[_0x183a59(0x207)]=Math[_0x183a59(0x220)]()*this[_0x183a59(0x1c2)]*0x2-this[_0x183a59(0x1c2)],this[_0x183a59(0x1c2)]--):(this['shakeAmountX']=0x0,this[_0x183a59(0x207)]=0x0);this['health']=distribute(player[_0x183a59(0x1b7)],this[_0x183a59(0x236)],this[_0x183a59(0x211)]);for(let _0x382cc3=0x0;_0x382cc3<this['health'][_0x183a59(0x21d)];_0x382cc3++){c['drawImage'](SPRITESHEET,this[_0x183a59(0x1fb)][this[_0x183a59(0x236)][_0x382cc3]]*GLOBAL[_0x183a59(0x1b2)]|0x0,this[_0x183a59(0x1fc)][this[_0x183a59(0x236)][_0x382cc3]]*GLOBAL[_0x183a59(0x1b2)]|0x0,GLOBAL[_0x183a59(0x1b2)],GLOBAL[_0x183a59(0x1b2)],this[_0x183a59(0x1ca)]+(this[_0x183a59(0x1c5)]+_0x382cc3)*GLOBAL[_0x183a59(0x1b2)]*GLOBAL[_0x183a59(0x20a)]|0x0,this['shakeAmountY']+this[_0x183a59(0x22b)]*GLOBAL['tileSize']*GLOBAL[_0x183a59(0x20a)]|0x0,0x1*GLOBAL[_0x183a59(0x1b2)]*GLOBAL[_0x183a59(0x20a)]|0x0,0x1*GLOBAL[_0x183a59(0x1b2)]*GLOBAL[_0x183a59(0x20a)]|0x0);}}}var playerInterface=new Interface();class Player{constructor(){const _0x564a45=_0x4c44b8;this[_0x564a45(0x1b7)]=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this[_0x564a45(0x1ff)]=![],this[_0x564a45(0x225)]=0x0,this[_0x564a45(0x1f0)]=0.2,this[_0x564a45(0x230)]=0.3,this[_0x564a45(0x1d4)]=![],this['xVel']=0x0,this[_0x564a45(0x1dd)]=0x0,this['iFrame']=0x0,this['iFrameMax']=0x1e,this[_0x564a45(0x1af)]=![],this['xVelExt']=0x0,this[_0x564a45(0x203)]=0x0,this[_0x564a45(0x1e3)]=0x0,this[_0x564a45(0x1c1)]=0x0,this['slowness']=0x3,this[_0x564a45(0x204)]=0x0,this[_0x564a45(0x1c3)]=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this[_0x564a45(0x238)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this[_0x564a45(0x1b9)]=0x0,this[_0x564a45(0x21a)]=0x0,this[_0x564a45(0x216)]=0x1,this[_0x564a45(0x21c)]=0x0,this[_0x564a45(0x217)]=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this[_0x564a45(0x223)]=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this[_0x564a45(0x20f)]=0.035,this[_0x564a45(0x22e)]=0.12,this['jumping']=![],this[_0x564a45(0x219)]=0.8,this[_0x564a45(0x1d3)]=0x0,this[_0x564a45(0x1dc)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x564a45(0x1b4)]={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this[_0x564a45(0x23d)]={'L':![],'R':![],'T':![],'B':![]},this[_0x564a45(0x1b5)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x4c44b8(0x209)](_0x210ced){const _0x17a22f=_0x4c44b8;_0x210ced!==this[_0x17a22f(0x21c)]+0x1&&(this['f_currentFrame']=0x0,this[_0x17a22f(0x21a)]=0x0);switch(_0x210ced){case 0x1:this[_0x17a22f(0x21c)]=0x0,this[_0x17a22f(0x1b5)]['w']=this['w'],this[_0x17a22f(0x1b5)]['x']=this['x']-this[_0x17a22f(0x1b5)]['w'],this[_0x17a22f(0x1b5)]['h']=this['w']/0x2,this['atkBox']['y']=this['y']+this['h']/0x2-this['atkBox']['h']/0x2;break;case 0x2:this[_0x17a22f(0x21c)]=0x1,this[_0x17a22f(0x1b5)]['w']=this['w'],this[_0x17a22f(0x1b5)]['x']=this['x']+this['w'],this[_0x17a22f(0x1b5)]['h']=this['w']/0x2,this[_0x17a22f(0x1b5)]['y']=this['y']+this['h']/0x2-this['atkBox']['h']/0x2;break;case 0x3:this[_0x17a22f(0x21c)]=0x2,this[_0x17a22f(0x1b5)]['w']=this['w']/0x2,this[_0x17a22f(0x1b5)]['x']=this['x']+this['w']/0x2-this['atkBox']['w']/0x2,this[_0x17a22f(0x1b5)]['h']=this['w'],this[_0x17a22f(0x1b5)]['y']=this['y']-this[_0x17a22f(0x1b5)]['h'];break;case 0x4:this[_0x17a22f(0x21c)]=0x3,this['atkBox']['w']=this['w']/0x2,this['atkBox']['x']=this['x']+this['w']/0x2-this[_0x17a22f(0x1b5)]['w']/0x2,this[_0x17a22f(0x1b5)]['h']=this['w'],this[_0x17a22f(0x1b5)]['y']=this['y']+this['h'];break;}let _0x2f2a2b=0x0,_0x28556b=![];while(!_0x28556b&&_0x2f2a2b<map[_0x17a22f(0x1ad)][_0x17a22f(0x21d)]){if(collided(this['atkBox'],map[_0x17a22f(0x1ad)][_0x2f2a2b]))switch(_0x210ced){case 0x1:this[_0x17a22f(0x1ee)]+=this['jumpSpeed']*(this[_0x17a22f(0x225)]/0x3),_0x28556b=!![];break;case 0x2:this[_0x17a22f(0x1ee)]-=this[_0x17a22f(0x22e)]*(this[_0x17a22f(0x225)]/0x3),_0x28556b=!![];break;case 0x3:this['yVel']+=this[_0x17a22f(0x22e)]/0x2,_0x28556b=!![];break;case 0x4:this[_0x17a22f(0x23d)]['B']&&(this[_0x17a22f(0x1dd)]-=this[_0x17a22f(0x22e)]*(this[_0x17a22f(0x225)]/0x3));_0x28556b=!![];break;}_0x2f2a2b++;}for(let _0x897a20=0x0;_0x897a20<map[_0x17a22f(0x1c4)][_0x17a22f(0x21d)];_0x897a20++){if(map[_0x17a22f(0x1c4)][_0x897a20][_0x17a22f(0x1ef)]!==_0x17a22f(0x1c7)&&!map[_0x17a22f(0x1c4)][_0x897a20][_0x17a22f(0x232)]){if(collided(this['atkBox'],map[_0x17a22f(0x1c4)][_0x897a20])){map[_0x17a22f(0x1c4)][_0x897a20][_0x17a22f(0x232)]=!![];let _0x10cf8f=this['x']+this['w']/0x2,_0x18d319=this['y']+this['h']/0x2,_0x34a261=map[_0x17a22f(0x1c4)][_0x897a20]['x']-(this['x']+this['w']/0x2),_0x3d31ce=map['enemies'][_0x897a20]['y']-(this['y']+this['h']/0x2),_0x2191d8=Math[_0x17a22f(0x1de)](_0x3d31ce,_0x34a261);map[_0x17a22f(0x1c4)][_0x897a20][_0x17a22f(0x205)]=Math[_0x17a22f(0x1b3)](_0x2191d8)*map[_0x17a22f(0x1c4)][_0x897a20]['speed'],map[_0x17a22f(0x1c4)][_0x897a20][_0x17a22f(0x1dd)]=Math[_0x17a22f(0x1bf)](_0x2191d8)*map['enemies'][_0x897a20][_0x17a22f(0x23b)];}}}this[_0x17a22f(0x225)]=0x0;}[_0x4c44b8(0x1fe)](){const _0x14ffb2=_0x4c44b8;this[_0x14ffb2(0x1dd)]<GLOBAL[_0x14ffb2(0x23e)]?!this[_0x14ffb2(0x23d)]['B']&&(this[_0x14ffb2(0x1dd)]+=this[_0x14ffb2(0x20f)]):this[_0x14ffb2(0x1dd)]=GLOBAL['terminalVel'];controls[_0x14ffb2(0x1d4)]&&(this[_0x14ffb2(0x205)]>-this[_0x14ffb2(0x230)]&&(this[_0x14ffb2(0x23d)]['B']?this[_0x14ffb2(0x205)]-=this['accel']:this[_0x14ffb2(0x205)]-=this[_0x14ffb2(0x1f0)]/0x2));controls[_0x14ffb2(0x1f4)]&&(this[_0x14ffb2(0x205)]<this[_0x14ffb2(0x230)]&&(this['colBool']['B']?this[_0x14ffb2(0x205)]+=this['accel']:this['xVel']+=this[_0x14ffb2(0x1f0)]/0x2));this[_0x14ffb2(0x1dd)]<0x0&&this[_0x14ffb2(0x1b4)]['T']&&(this[_0x14ffb2(0x1dd)]=0x0);this[_0x14ffb2(0x23d)]['B']?(Math[_0x14ffb2(0x224)](this[_0x14ffb2(0x205)])>0.01?this[_0x14ffb2(0x205)]*=this['friction']*0.5:this[_0x14ffb2(0x205)]=0x0,this[_0x14ffb2(0x218)]=![],this[_0x14ffb2(0x1dd)]>0x0&&(this['yVel']=0x0)):Math[_0x14ffb2(0x224)](this[_0x14ffb2(0x205)])>0.01?this[_0x14ffb2(0x205)]*=this[_0x14ffb2(0x219)]:this[_0x14ffb2(0x205)]=0x0;(this[_0x14ffb2(0x1b4)]['R']&&this['xVel']>0x0||this[_0x14ffb2(0x1b4)]['L']&&this[_0x14ffb2(0x205)]<0x0)&&(this['xVel']=0x0);this['x']+=this[_0x14ffb2(0x205)],this['y']+=this[_0x14ffb2(0x1dd)];if(controls[_0x14ffb2(0x234)]||controls[_0x14ffb2(0x227)]||controls[_0x14ffb2(0x1f8)]||controls['down2']){this[_0x14ffb2(0x1ff)]=!![];if(controls['left2'])this[_0x14ffb2(0x1d4)]=!![];else controls[_0x14ffb2(0x227)]&&(this[_0x14ffb2(0x1d4)]=![]);}else this[_0x14ffb2(0x1ff)]=![];this[_0x14ffb2(0x1ff)]&&this['chargingAmount']<0x14&&this[_0x14ffb2(0x225)]++;if(controls[_0x14ffb2(0x1e4)])this[_0x14ffb2(0x1d3)]=0x4,this[_0x14ffb2(0x1b9)]=0x0,this[_0x14ffb2(0x21a)]=0x0,this[_0x14ffb2(0x209)](0x1);else{if(controls[_0x14ffb2(0x200)])this['attacking']=0x4,this[_0x14ffb2(0x1b9)]=0x0,this[_0x14ffb2(0x21a)]=0x0,this['fist'](0x2);else{if(controls[_0x14ffb2(0x202)])this[_0x14ffb2(0x1d3)]=0x4,this[_0x14ffb2(0x1b9)]=0x0,this['f_frameCounter']=0x0,this[_0x14ffb2(0x209)](0x3);else controls['downRel']&&(this['attacking']=0x4,this[_0x14ffb2(0x1b9)]=0x0,this['f_frameCounter']=0x0,this['fist'](0x4));}}this[_0x14ffb2(0x1ee)]*=0.8,this[_0x14ffb2(0x203)]*=0.8,this[_0x14ffb2(0x1ee)]<0.01&&this[_0x14ffb2(0x1ee)]>-0.01&&(this[_0x14ffb2(0x1ee)]=0x0),this['yVelExt']<0.01&&this[_0x14ffb2(0x203)]>-0.01&&(this[_0x14ffb2(0x203)]=0x0),this['x']+=this[_0x14ffb2(0x1ee)],this['y']+=this[_0x14ffb2(0x203)],this['hitbox']['x']=this['x']+this['w']/0x4,this[_0x14ffb2(0x1dc)]['w']=this['w']/0x2,this[_0x14ffb2(0x1dc)]['h']=this['h'],this[_0x14ffb2(0x1dc)]['y']=this['y'];}[_0x4c44b8(0x1bd)](){const _0x5eb56f=_0x4c44b8;if(!this[_0x5eb56f(0x1ff)]){if(this[_0x5eb56f(0x205)]>0x0)this[_0x5eb56f(0x1d4)]=![];else this[_0x5eb56f(0x205)]<0x0?this[_0x5eb56f(0x1d4)]=!![]:this[_0x5eb56f(0x1d4)]?this[_0x5eb56f(0x204)]=0x1:this[_0x5eb56f(0x204)]=0x0;if(!this[_0x5eb56f(0x23d)]['B'])this[_0x5eb56f(0x1d4)]?this[_0x5eb56f(0x204)]=0x5:this['action']=0x4;else{if(this[_0x5eb56f(0x205)]!==0x0){if(!this['left'])player[_0x5eb56f(0x204)]=0x2,player[_0x5eb56f(0x1d4)]=![];else this[_0x5eb56f(0x1d4)]&&(player[_0x5eb56f(0x204)]=0x3,player['left']=!![]);}}}this['frameCounter']++,this['frameCounter']>this[_0x5eb56f(0x23c)]&&(this[_0x5eb56f(0x1e3)]++,this[_0x5eb56f(0x1c1)]=0x0),this[_0x5eb56f(0x1e3)]>=this['actionX'][this[_0x5eb56f(0x204)]]['length']&&(this[_0x5eb56f(0x1e3)]=0x0,this[_0x5eb56f(0x1ff)]&&(this[_0x5eb56f(0x1e3)]=this[_0x5eb56f(0x1c3)][this[_0x5eb56f(0x204)]][_0x5eb56f(0x21d)]-0x2)),this[_0x5eb56f(0x1af)]&&(this[_0x5eb56f(0x1e3)]=0x0,this['iFrame']++%0x4&&(this[_0x5eb56f(0x204)]=0x6)),this[_0x5eb56f(0x1ff)]&&(this[_0x5eb56f(0x1d4)]?this[_0x5eb56f(0x204)]=0x8:this[_0x5eb56f(0x204)]=0x7),this[_0x5eb56f(0x1ed)]>this[_0x5eb56f(0x1f2)]&&(this[_0x5eb56f(0x1af)]=![],this['iFrame']=0x0),c[_0x5eb56f(0x1ae)](SPRITESHEET,this['actionX'][this[_0x5eb56f(0x204)]][this['currentFrame']]*GLOBAL[_0x5eb56f(0x1b2)]|0x0,this[_0x5eb56f(0x238)][this[_0x5eb56f(0x204)]][this[_0x5eb56f(0x1e3)]]*GLOBAL[_0x5eb56f(0x1b2)]|0x0,GLOBAL[_0x5eb56f(0x1b2)]*0x2,GLOBAL[_0x5eb56f(0x1b2)]*0x2,map['x']+this['x']*GLOBAL[_0x5eb56f(0x1b2)]*GLOBAL[_0x5eb56f(0x20a)]|0x0,map['y']+this['y']*GLOBAL[_0x5eb56f(0x1b2)]*GLOBAL[_0x5eb56f(0x20a)]|0x0,this['w']*GLOBAL[_0x5eb56f(0x1b2)]*GLOBAL[_0x5eb56f(0x20a)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x5eb56f(0x20a)]|0x0),this[_0x5eb56f(0x1d3)]&&(this[_0x5eb56f(0x21a)]++,this[_0x5eb56f(0x21a)]>this[_0x5eb56f(0x216)]&&(this[_0x5eb56f(0x1b9)]++,this[_0x5eb56f(0x21a)]=0x0),this[_0x5eb56f(0x1b9)]>=this[_0x5eb56f(0x217)][this[_0x5eb56f(0x21c)]]['length']&&(this['f_currentFrame']=0x3),c[_0x5eb56f(0x1ae)](SPRITESHEET,this[_0x5eb56f(0x217)][this[_0x5eb56f(0x21c)]][this[_0x5eb56f(0x1b9)]]*GLOBAL[_0x5eb56f(0x1b2)]|0x0,this[_0x5eb56f(0x223)][this[_0x5eb56f(0x21c)]][this['f_currentFrame']]*GLOBAL[_0x5eb56f(0x1b2)]|0x0,GLOBAL[_0x5eb56f(0x1b2)]*this[_0x5eb56f(0x1b5)]['w'],GLOBAL[_0x5eb56f(0x1b2)]*this[_0x5eb56f(0x1b5)]['h'],map['x']+this[_0x5eb56f(0x1b5)]['x']*GLOBAL['tileSize']*GLOBAL[_0x5eb56f(0x20a)]|0x0,map['y']+this[_0x5eb56f(0x1b5)]['y']*GLOBAL[_0x5eb56f(0x1b2)]*GLOBAL['ratio']|0x0,this[_0x5eb56f(0x1b5)]['w']*GLOBAL[_0x5eb56f(0x1b2)]*GLOBAL[_0x5eb56f(0x20a)]|0x0,this['atkBox']['h']*GLOBAL[_0x5eb56f(0x1b2)]*GLOBAL[_0x5eb56f(0x20a)]|0x0),this[_0x5eb56f(0x1d3)]--);}}var player=new Player();setInterval(countFps,0x3e8);function countFps(){const _0x5b8e32=_0x4c44b8;id(_0x5b8e32(0x22f))[_0x5b8e32(0x1d6)]='FPS:\x20'+GLOBAL[_0x5b8e32(0x1bc)],GLOBAL[_0x5b8e32(0x1bc)]=0x0;}function displayDebug(){const _0x20d9d=_0x4c44b8;id('px')['innerHTML']=_0x20d9d(0x22d)+player['x'],id('py')[_0x20d9d(0x1d6)]=_0x20d9d(0x210)+player['y'],id('pg')['innerHTML']=_0x20d9d(0x1e9),id('pg')[_0x20d9d(0x1d6)]+=_0x20d9d(0x1fd)+player[_0x20d9d(0x23d)]['L'],id('pg')[_0x20d9d(0x1d6)]+=_0x20d9d(0x239)+player[_0x20d9d(0x23d)]['R'],id('pg')['innerHTML']+=_0x20d9d(0x1c9)+player[_0x20d9d(0x23d)]['T'],id('pg')['innerHTML']+='<br>B:\x20'+player[_0x20d9d(0x23d)]['B'];}function checkCollisions(){const _0x5dfeb0=_0x4c44b8;let _0x5cb1d9=map[_0x5dfeb0(0x1ad)],_0x5c235b=map[_0x5dfeb0(0x1c4)],_0x5cf86e='none';player[_0x5dfeb0(0x1b4)]['L']=0x0,player['col']['R']=0x0,player[_0x5dfeb0(0x1b4)]['T']=0x0,player['col']['B']=0x0,player['colBool']['L']=![],player[_0x5dfeb0(0x23d)]['R']=![],player[_0x5dfeb0(0x23d)]['T']=![],player[_0x5dfeb0(0x23d)]['B']=![];for(let _0x157552=0x0;_0x157552<_0x5cb1d9[_0x5dfeb0(0x21d)];_0x157552++){if(collided(player,_0x5cb1d9[_0x157552])){_0x5cf86e=colCheck(player,_0x5cb1d9[_0x157552]);switch(_0x5cf86e){case'l':player['yVel']<0x0&&(player[_0x5dfeb0(0x1b4)]['L']>player[_0x5dfeb0(0x205)]&&(player[_0x5dfeb0(0x23d)]['L']=!![],player[_0x5dfeb0(0x205)]=0x0));break;case'r':player[_0x5dfeb0(0x205)]>0x0&&(player[_0x5dfeb0(0x1b4)]['R']<player[_0x5dfeb0(0x205)]&&(player[_0x5dfeb0(0x23d)]['R']=!![],player[_0x5dfeb0(0x205)]=0x0));break;case't':player['yVel']<0x0&&(player[_0x5dfeb0(0x1dd)]=0x0);player['colBool']['T']=!![];break;case'b':player[_0x5dfeb0(0x1dd)]>0x0&&(player[_0x5dfeb0(0x1dd)]=0x0);player['colBool']['B']=!![];break;}}}player['colBool']['B']&&(player['col']['B']-=0.015625),player[_0x5dfeb0(0x23d)]['L']&&(player[_0x5dfeb0(0x1b4)]['L']-=0.015625),player[_0x5dfeb0(0x23d)]['R']&&(player[_0x5dfeb0(0x1b4)]['R']-=0.015625),player['x']-=player['col']['R']-player['col']['L'],player['y']-=player[_0x5dfeb0(0x1b4)]['B']-player[_0x5dfeb0(0x1b4)]['T'];}class Monster{constructor(_0x532167,_0x431578){const _0x4420e5=_0x4c44b8;this['type']='monster',this['x']=_0x532167,this['y']=_0x431578,this['w']=0x1,this['h']=0x1,this[_0x4420e5(0x205)]=0x0,this['yVel']=0x0,this[_0x4420e5(0x23b)]=0.1,this[_0x4420e5(0x20c)]=0xa,this[_0x4420e5(0x1d3)]=![],this[_0x4420e5(0x1d7)]=0x3,this[_0x4420e5(0x232)]=![],this[_0x4420e5(0x228)]=![],this[_0x4420e5(0x1e3)]=0x0,this[_0x4420e5(0x1c1)]=0x0,this['slowness']=0x3,this[_0x4420e5(0x1dc)]={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this[_0x4420e5(0x204)]=0x0,this[_0x4420e5(0x1c3)]=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this['actionY']=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this[_0x4420e5(0x1b5)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x4c44b8(0x1fe)](){const _0x280f96=_0x4c44b8;this[_0x280f96(0x20c)]--;if(this['frames']<=0x0){this[_0x280f96(0x20c)]=0xa;if(!this['attacking']){this[_0x280f96(0x1b5)]['x']=this['x']-this[_0x280f96(0x1d7)],this[_0x280f96(0x1b5)]['y']=this['y']-this[_0x280f96(0x1d7)],this['atkBox']['w']=this['w']+this[_0x280f96(0x1d7)]*0x2,this[_0x280f96(0x1b5)]['h']=this['h']+this['range']*0x2;if(collided(this[_0x280f96(0x1b5)],player)){this[_0x280f96(0x1d3)]=!![];let _0x28923d=this['x']+this['w']/0x2,_0x12f0a8=this['y']+this['h']/0x2,_0x142b34=_0x28923d-(player['x']+player['w']/0x2),_0x153a9a=_0x12f0a8-(player['y']+player['h']/0x2),_0xbc7225=Math[_0x280f96(0x1de)](_0x153a9a,_0x142b34);this['xVel']=-Math[_0x280f96(0x1b3)](_0xbc7225)*this['speed'],this[_0x280f96(0x1dd)]=-Math[_0x280f96(0x1bf)](_0xbc7225)*this['speed'];}}else!this[_0x280f96(0x232)]&&collided(this,player)&&(player['healthAmount']>0x0&&player['iFrame']==0x0&&(player[_0x280f96(0x1b7)]--,playerInterface[_0x280f96(0x1c2)]=0x4,player[_0x280f96(0x1af)]=!![]));}this['x']+=this[_0x280f96(0x205)],this['y']+=this[_0x280f96(0x1dd)],this[_0x280f96(0x1dc)]['x']=this['x']+this['w']/0x2,this[_0x280f96(0x1dc)]['y']=this['y'];}[_0x4c44b8(0x1bd)](){const _0x535166=_0x4c44b8;this['dead']&&!this[_0x535166(0x228)]&&(this[_0x535166(0x204)]=0x1,this['frameCounter']=0x0,this[_0x535166(0x1e3)]=0x0,this['deathAnimation']=!![]),this[_0x535166(0x1c1)]++,this[_0x535166(0x1c1)]>this['slowness']&&(this[_0x535166(0x1e3)]++,this[_0x535166(0x1c1)]=0x0),this[_0x535166(0x1e3)]>=this[_0x535166(0x1c3)][this[_0x535166(0x204)]][_0x535166(0x21d)]&&(this[_0x535166(0x1e3)]=0x0,this['deathAnimation']&&(this['action']=0x2)),c['drawImage'](SPRITESHEET,this[_0x535166(0x1c3)][this[_0x535166(0x204)]][this['currentFrame']]*GLOBAL['tileSize']|0x0,this[_0x535166(0x238)][this[_0x535166(0x204)]][this[_0x535166(0x1e3)]]*GLOBAL['tileSize']|0x0,GLOBAL[_0x535166(0x1b2)],GLOBAL['tileSize'],map['x']+this['x']*GLOBAL[_0x535166(0x1b2)]*GLOBAL[_0x535166(0x20a)]|0x0,map['y']+this['y']*GLOBAL[_0x535166(0x1b2)]*GLOBAL['ratio']|0x0,this['w']*GLOBAL[_0x535166(0x1b2)]*GLOBAL[_0x535166(0x20a)]|0x0,this['h']*GLOBAL[_0x535166(0x1b2)]*GLOBAL[_0x535166(0x20a)]|0x0);}}class TeaMonster{constructor(_0xad580a,_0x5e7f66){const _0x5016f0=_0x4c44b8;this['x']=_0xad580a,this['y']=_0x5e7f66,this['w']=0x1,this['h']=0x1,this[_0x5016f0(0x205)]=0x0,this[_0x5016f0(0x1dd)]=0x0,this[_0x5016f0(0x23b)]=0.1,this['frames']=0xa,this['attacking']=![],this[_0x5016f0(0x1d7)]=0x3,this[_0x5016f0(0x232)]=![],this[_0x5016f0(0x228)]=![],this[_0x5016f0(0x1e3)]=0x0,this[_0x5016f0(0x1c1)]=0x0,this['type']=_0x5016f0(0x1c7),this[_0x5016f0(0x232)]=![],this[_0x5016f0(0x23c)]=0x3,this[_0x5016f0(0x1d2)]=0x0,this['downCounter']=0x0,this[_0x5016f0(0x1f3)]=0x0,this['w']=0x3,this['h']=0x3,this['action']=0x0,this[_0x5016f0(0x1dc)]={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this[_0x5016f0(0x1b5)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['actionX']=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this['actionY']=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}[_0x4c44b8(0x1fe)](){const _0x13f306=_0x4c44b8;this[_0x13f306(0x1dc)]['x']=this['x']-this[_0x13f306(0x1f3)],this[_0x13f306(0x1dc)]['y']=this['y']+this[_0x13f306(0x1f3)],this[_0x13f306(0x1dc)]['w']=this['w']+this[_0x13f306(0x1f3)],this[_0x13f306(0x1dc)]['h']=this['h']-this[_0x13f306(0x1f3)],this[_0x13f306(0x1f3)]&&this[_0x13f306(0x1f1)]===0x1&&(collided(this,player)&&(player[_0x13f306(0x1ed)]==0x0&&(player[_0x13f306(0x1af)]=!![],player[_0x13f306(0x1ee)]=-0x2,player[_0x13f306(0x1b7)]-=0x2,player[_0x13f306(0x1b7)]<0x0&&(player['healthAmount']=0x0))));}['render'](){const _0x3e2c75=_0x4c44b8;this[_0x3e2c75(0x232)]=![],this[_0x3e2c75(0x1c1)]++,this['frameCounter']>this[_0x3e2c75(0x23c)]&&(this[_0x3e2c75(0x1e3)]++,this[_0x3e2c75(0x1c1)]=0x0),this[_0x3e2c75(0x1e3)]>=this[_0x3e2c75(0x1c3)][this['action']][_0x3e2c75(0x21d)]&&(this['currentFrame']=0x0,this[_0x3e2c75(0x204)]==0x1&&(this[_0x3e2c75(0x204)]=0x2),this[_0x3e2c75(0x204)]==0x2&&this[_0x3e2c75(0x1d2)]++==0x2&&(this[_0x3e2c75(0x204)]=0x3),this[_0x3e2c75(0x204)]==0x3&&(this[_0x3e2c75(0x1f3)]=0x1,this['downCounter']++,this['downCounter']==0x3&&(this[_0x3e2c75(0x1f3)]=0x0,this[_0x3e2c75(0x204)]=0x0,this[_0x3e2c75(0x1f1)]=0x0,this['atkCounter']=0x0))),player['x']>this['x']-this[_0x3e2c75(0x1d7)]&&this[_0x3e2c75(0x204)]<0x1&&(this[_0x3e2c75(0x204)]=0x1,this['currentFrame']=0x0,this[_0x3e2c75(0x1c1)]=0x0),c[_0x3e2c75(0x1ae)](SPRITESHEET,this[_0x3e2c75(0x1c3)][this['action']][this[_0x3e2c75(0x1e3)]]*GLOBAL[_0x3e2c75(0x1b2)]|0x0,this['actionY'][this['action']][this['currentFrame']]*GLOBAL[_0x3e2c75(0x1b2)]|0x0,(this['w']+this['down'])*GLOBAL[_0x3e2c75(0x1b2)],this['h']*GLOBAL[_0x3e2c75(0x1b2)],map['x']+(this['x']-this[_0x3e2c75(0x1f3)])*GLOBAL['tileSize']*GLOBAL[_0x3e2c75(0x20a)]|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,(this['w']+this[_0x3e2c75(0x1f3)])*GLOBAL[_0x3e2c75(0x1b2)]*GLOBAL[_0x3e2c75(0x20a)]|0x0,this['h']*GLOBAL[_0x3e2c75(0x1b2)]*GLOBAL[_0x3e2c75(0x20a)]|0x0);}}class MageAttack{constructor(_0x3aee86,_0x29e150){const _0x3a5053=_0x4c44b8;this['x']=_0x3aee86,this['y']=0x0,this['w']=0x2,this['h']=0xf,this[_0x3a5053(0x1e3)]=0x0,this[_0x3a5053(0x1c1)]=0x0,this['type']='attack',this[_0x3a5053(0x1ba)]=!![],this[_0x3a5053(0x23c)]=0x3,this[_0x3a5053(0x1d3)]=![],this['action']=0x0,this[_0x3a5053(0x1c3)]=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this[_0x3a5053(0x238)]=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this['distance']=0x0,this[_0x3a5053(0x23b)]=0.3,this[_0x3a5053(0x222)]=!![],this[_0x3a5053(0x1dc)]={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}[_0x4c44b8(0x1fe)](){const _0x18e4be=_0x4c44b8;this[_0x18e4be(0x1da)]=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this['follow']){if(this[_0x18e4be(0x1da)]<0x0)this['x']+=this[_0x18e4be(0x1da)]/0xa;else this['distance']>0x0&&(this['x']+=this[_0x18e4be(0x1da)]/0xa);}this[_0x18e4be(0x1dc)]['x']=this['x']+(this['w']-this[_0x18e4be(0x1dc)]['w'])/0x2,this[_0x18e4be(0x1e3)]>0x5&&this[_0x18e4be(0x1e3)]<0x9&&(this['follow']=![],collided(this,player)&&(player[_0x18e4be(0x1b7)]>0x0&&player[_0x18e4be(0x1ed)]==0x0&&(player['healthAmount']-=0x2,playerInterface[_0x18e4be(0x1c2)]=0x4,player[_0x18e4be(0x1af)]=!![])));}[_0x4c44b8(0x1bd)](){const _0x5f00f3=_0x4c44b8;this[_0x5f00f3(0x1c1)]++,this[_0x5f00f3(0x1c1)]>this[_0x5f00f3(0x23c)]&&(this[_0x5f00f3(0x1e3)]++,this['frameCounter']=0x0),this['currentFrame']>=this[_0x5f00f3(0x1c3)][this[_0x5f00f3(0x204)]]['length']&&(this[_0x5f00f3(0x1e3)]=0x0,this[_0x5f00f3(0x1ba)]=!![]),c[_0x5f00f3(0x1ae)](SPRITESHEET,this[_0x5f00f3(0x1c3)][this[_0x5f00f3(0x204)]][this[_0x5f00f3(0x1e3)]]*GLOBAL['tileSize']|0x0,this[_0x5f00f3(0x238)][this[_0x5f00f3(0x204)]][this[_0x5f00f3(0x1e3)]]*GLOBAL['tileSize']|0x0,this['w']*GLOBAL['tileSize'],this['h']*GLOBAL[_0x5f00f3(0x1b2)],map['x']+this['x']*GLOBAL[_0x5f00f3(0x1b2)]*GLOBAL['ratio']|0x0,this['y']*GLOBAL[_0x5f00f3(0x1b2)]*GLOBAL['ratio']|0x0,this['w']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x5f00f3(0x20a)]|0x0);}}function _0x94fc(){const _0x33cb27=['innerHTML','range','8770mfUHCF','push','distance','2DYGXWE','hitbox','yVel','atan2','opener','#08141e','moveCamera','fill','currentFrame','leftRel','30UeTsXd','split','2707947GjXydT','spritesheet-bg','<br>Collisions\x20','computeEnemies','7roQFdV','safe\x20eval','iFrame','xVelExt','type','accel','downCounter','iFrameMax','down','right','splice','renderFgTiles','backgroundSizeW','up2','fillRect','fsaaYnqzHtqCvoUWnEandreIpjqqA.yAgithJwUuBb.ioB;yLOCZlocXLBalhovOmstTXqkfWGBLWkZAPzDxHNWAFLmLBGpOkqW','heartsX','heartsY','<br>L:\x20','compute','charging','rightRel','bgTiles','upRel','yVelExt','action','xVel','501780hKSNxY','shakeAmountY','mage','fist','ratio','slice','frames','height','clearRect','gForce','y:\x20','healthMaxValue','1364064REtzND','backgroundPosX','map','mapObject','f_slowness','fistX','jumping','friction','f_frameCounter','275495himCwx','f_action','length','indexOf','width','random','aHYbQrorquqt:blankfKCSwxRjNqeqhBLFqFsgr','follow','fistY','abs','chargingAmount','#20394f','right2','deathAnimation','1449faZmYt','fillStyle','healthY','backgroundsX','x:\x20','jumpSpeed','fps','maxSpeed','tilesWidth','dead','canvas','left2','662984hdMmpC','health','replace','actionY','<br>R:\x20','create','speed','slowness','colBool','terminalVel','tiles','drawImage','attacked','fgTiles','renderBgTiles','tileSize','cos','col','atkBox','log','healthAmount','backgroundSizeH','f_currentFrame','disabled','stroke','fpsCounter','render','FPS','sin','object','frameCounter','shake','actionX','enemies','healthX','223902NSDWKc','tea','imageSmoothingEnabled','<br>T:\x20','shakeAmountX','laser','backgroundPosY','backgroundSheet','{}.constructor(\x22return\x20this\x22)(\x20)','onload','spawnPoint','renderBackground','atkCounter','attacking','left','backgroundsY'];_0x94fc=function(){return _0x33cb27;};return _0x94fc();}function _0xab79(_0x965c87,_0x8b6c2){const _0x27e97e=_0x94fc();return _0xab79=function(_0x209a38,_0xafab2d){_0x209a38=_0x209a38-0x1ad;let _0x25f8cc=_0x27e97e[_0x209a38];return _0x25f8cc;},_0xab79(_0x965c87,_0x8b6c2);}class MageMonster{constructor(_0x1ad1f8,_0x20ef05){const _0x41c9bd=_0x4c44b8;this['x']=_0x1ad1f8,this['y']=_0x20ef05,this['w']=0x1,this['h']=0x1,this['xVel']=0x0,this[_0x41c9bd(0x1dd)]=0x0,this[_0x41c9bd(0x23b)]=0.1,this[_0x41c9bd(0x20c)]=0xa,this['attacking']=![],this[_0x41c9bd(0x1d7)]=0x4,this[_0x41c9bd(0x232)]=![],this[_0x41c9bd(0x228)]=![],this['currentFrame']=0x0,this['frameCounter']=0x0,this[_0x41c9bd(0x1ef)]=_0x41c9bd(0x208),this['dead']=![],this[_0x41c9bd(0x23c)]=0x3,this[_0x41c9bd(0x1d2)]=0x0,this[_0x41c9bd(0x1f1)]=0x0,this[_0x41c9bd(0x1f3)]=0x0,this['w']=0x2,this['h']=0x2,this[_0x41c9bd(0x204)]=0x0,this['hitbox']={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this[_0x41c9bd(0x1b5)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x41c9bd(0x1cb)]=new MageAttack(0x0,0x0),this[_0x41c9bd(0x1c3)]=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this[_0x41c9bd(0x238)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}[_0x4c44b8(0x1fe)](){const _0x464c89=_0x4c44b8;this[_0x464c89(0x20c)]--,this[_0x464c89(0x20c)]<=0x0&&(this[_0x464c89(0x20c)]=0xa,collided(this[_0x464c89(0x1b5)],player)?(this['attacking']=!![],this['laser'][_0x464c89(0x1ba)]&&(this['laser'][_0x464c89(0x1ba)]=![],this[_0x464c89(0x1cb)][_0x464c89(0x222)]=!![],this[_0x464c89(0x1cb)]['x']=this['x'])):this[_0x464c89(0x1d3)]=![],!this[_0x464c89(0x1d3)]?(this[_0x464c89(0x1b5)]['x']=this['x']-this[_0x464c89(0x1d7)],this[_0x464c89(0x1b5)]['y']=this['y']-this[_0x464c89(0x1d7)],this[_0x464c89(0x1b5)]['w']=this['w']+this[_0x464c89(0x1d7)]*0x2,this[_0x464c89(0x1b5)]['h']=this['h']+this[_0x464c89(0x1d7)]*0x2):!this['dead']&&collided(this,player)&&(player['healthAmount']>0x0&&player['iFrame']==0x0&&(player[_0x464c89(0x1b7)]--,playerInterface['shake']=0x4,player[_0x464c89(0x1af)]=!![])));}[_0x4c44b8(0x1bd)](){const _0x3c25a3=_0x4c44b8;!this[_0x3c25a3(0x1cb)][_0x3c25a3(0x1ba)]&&(this[_0x3c25a3(0x1cb)][_0x3c25a3(0x1fe)](),this['laser']['render']()),this[_0x3c25a3(0x232)]=![],this[_0x3c25a3(0x1d3)]?this[_0x3c25a3(0x204)]=0x1:this[_0x3c25a3(0x204)]=0x0,this[_0x3c25a3(0x1c1)]++,this['frameCounter']>this[_0x3c25a3(0x23c)]&&(this[_0x3c25a3(0x1e3)]++,this['frameCounter']=0x0),this[_0x3c25a3(0x1e3)]>=this['actionX'][this[_0x3c25a3(0x204)]][_0x3c25a3(0x21d)]&&(this[_0x3c25a3(0x1e3)]=0x0),c['drawImage'](SPRITESHEET,this[_0x3c25a3(0x1c3)][this[_0x3c25a3(0x204)]][this['currentFrame']]*GLOBAL[_0x3c25a3(0x1b2)]|0x0,this['actionY'][this['action']][this[_0x3c25a3(0x1e3)]]*GLOBAL['tileSize']|0x0,(this['w']+this[_0x3c25a3(0x1f3)])*GLOBAL[_0x3c25a3(0x1b2)],this['h']*GLOBAL[_0x3c25a3(0x1b2)],map['x']+(this['x']-this['down'])*GLOBAL[_0x3c25a3(0x1b2)]*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x3c25a3(0x1b2)]*GLOBAL[_0x3c25a3(0x20a)]|0x0,(this['w']+this[_0x3c25a3(0x1f3)])*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x3c25a3(0x1b2)]*GLOBAL[_0x3c25a3(0x20a)]|0x0);}}class Map{constructor(){const _0x36510d=_0x4c44b8;this[_0x36510d(0x231)]=canvas[_0x36510d(0x21f)]/GLOBAL[_0x36510d(0x1b2)]/GLOBAL[_0x36510d(0x20a)],this['tilesHeight']=canvas[_0x36510d(0x20d)]/GLOBAL[_0x36510d(0x1b2)]/GLOBAL[_0x36510d(0x20a)],this['x']=0x0,this['y']=0x0,this['backgroundSheet']=id(_0x36510d(0x1e8)),this['backgroundsX']=[0x0,0x0,0x0],this[_0x36510d(0x1d5)]=[0x0,0x96,0x12c],this[_0x36510d(0x1f7)]=0x1c2,this[_0x36510d(0x1b8)]=0x96,this[_0x36510d(0x213)]=[0x0,0x0,0x0],this['backgroundPosY']=[0x0,0x0,0x0],this['bgTiles']=[],this[_0x36510d(0x1b0)]=[],this[_0x36510d(0x214)]=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this[_0x36510d(0x1d0)]={'x':0xa,'y':0x0},this[_0x36510d(0x1ad)]=[],this[_0x36510d(0x1c4)]=[];}[_0x4c44b8(0x1e1)](){const _0x5eb9f1=_0x4c44b8;this['x']=-(player['x']-0x8)*GLOBAL[_0x5eb9f1(0x1b2)]*GLOBAL[_0x5eb9f1(0x20a)],this['y']=-(player['y']-0x8)*GLOBAL[_0x5eb9f1(0x1b2)]*GLOBAL[_0x5eb9f1(0x20a)];}['renderTiles'](){const _0x9c034e=_0x4c44b8;for(let _0x33aff9=0x0;_0x33aff9<this[_0x9c034e(0x1ad)]['length'];_0x33aff9++){renderTile(this['tiles'][_0x33aff9]);}}[_0x4c44b8(0x1b1)](){const _0x29e561=_0x4c44b8;for(let _0x4060c3=0x0;_0x4060c3<this[_0x29e561(0x201)][_0x29e561(0x21d)];_0x4060c3++){renderTile(this[_0x29e561(0x201)][_0x4060c3]);}}[_0x4c44b8(0x1f6)](){const _0x1e2801=_0x4c44b8;for(let _0x4a9879=0x0;_0x4a9879<this['fgTiles'][_0x1e2801(0x21d)];_0x4a9879++){renderTile(this[_0x1e2801(0x1ad)][_0x4a9879]);}}['renderEnemies'](){const _0x44abcb=_0x4c44b8;for(let _0x52583a=0x0;_0x52583a<this[_0x44abcb(0x1c4)]['length'];_0x52583a++){this[_0x44abcb(0x1c4)][_0x52583a][_0x44abcb(0x1bd)]();}}[_0x4c44b8(0x1d1)](){const _0x20e74d=_0x4c44b8;this[_0x20e74d(0x213)][0x1]+=0.6,this['backgroundPosX'][0x2]+=0.3;this['backgroundPosX'][0x0]>this[_0x20e74d(0x1f7)]*GLOBAL['ratio']&&(this['backgroundPosX'][0x0]-=this[_0x20e74d(0x1f7)]*GLOBAL[_0x20e74d(0x20a)]);this[_0x20e74d(0x213)][0x1]>this[_0x20e74d(0x1f7)]*GLOBAL[_0x20e74d(0x20a)]&&(this[_0x20e74d(0x213)][0x1]-=this[_0x20e74d(0x1f7)]*GLOBAL[_0x20e74d(0x20a)]);this[_0x20e74d(0x213)][0x2]>this['backgroundSizeW']*GLOBAL[_0x20e74d(0x20a)]&&(this[_0x20e74d(0x213)][0x2]-=this['backgroundSizeW']*GLOBAL[_0x20e74d(0x20a)]);for(let _0x4f30cc=-0x1;_0x4f30cc<0x2;_0x4f30cc++){c[_0x20e74d(0x1ae)](this[_0x20e74d(0x1cd)],this[_0x20e74d(0x22c)][0x2]|0x0,this[_0x20e74d(0x1d5)][0x2]|0x0,this[_0x20e74d(0x1f7)],this[_0x20e74d(0x1b8)],this[_0x20e74d(0x1f7)]*GLOBAL['ratio']*_0x4f30cc+this[_0x20e74d(0x213)][0x2]+this['x']/0x8,this['backgroundPosY'][0x2],this['backgroundSizeW']*GLOBAL[_0x20e74d(0x20a)],this[_0x20e74d(0x1b8)]*GLOBAL[_0x20e74d(0x20a)]);}for(let _0x2072bd=-0x1;_0x2072bd<0x2;_0x2072bd++){c[_0x20e74d(0x1ae)](this[_0x20e74d(0x1cd)],this[_0x20e74d(0x22c)][0x1]|0x0,this['backgroundsY'][0x1]|0x0,this[_0x20e74d(0x1f7)],this[_0x20e74d(0x1b8)],this[_0x20e74d(0x1f7)]*GLOBAL[_0x20e74d(0x20a)]*_0x2072bd+this[_0x20e74d(0x213)][0x1]+this['x']/0x6,this[_0x20e74d(0x1cc)][0x1],this[_0x20e74d(0x1f7)]*GLOBAL['ratio'],this[_0x20e74d(0x1b8)]*GLOBAL[_0x20e74d(0x20a)]);}for(let _0x29e50b=-0x1;_0x29e50b<0x2;_0x29e50b++){c['drawImage'](this[_0x20e74d(0x1cd)],this[_0x20e74d(0x22c)][0x0]|0x0,this[_0x20e74d(0x1d5)][0x0]|0x0,this[_0x20e74d(0x1f7)],this[_0x20e74d(0x1b8)],this[_0x20e74d(0x1f7)]*GLOBAL[_0x20e74d(0x20a)]*_0x29e50b+this[_0x20e74d(0x213)][0x0]+this['x']/0x4,this[_0x20e74d(0x1cc)][0x0],this[_0x20e74d(0x1f7)]*GLOBAL[_0x20e74d(0x20a)],this[_0x20e74d(0x1b8)]*GLOBAL[_0x20e74d(0x20a)]);}c['fillStyle']=_0x20e74d(0x226),c['fillRect'](0x0,this[_0x20e74d(0x1d5)][0x0]+this['backgroundSizeH']*GLOBAL[_0x20e74d(0x20a)],canvas[_0x20e74d(0x21f)],this[_0x20e74d(0x1b8)]*GLOBAL[_0x20e74d(0x20a)]);}[_0x4c44b8(0x1ea)](){const _0x403ced=_0x4c44b8;for(let _0x34a25b=0x0;_0x34a25b<this[_0x403ced(0x1c4)][_0x403ced(0x21d)];_0x34a25b++){this['enemies'][_0x34a25b][_0x403ced(0x1fe)]();}}}var map=new Map(),mapTester=!![];window[_0x4c44b8(0x1df)]?window[_0x4c44b8(0x1df)]['mapObject']?(debug[_0x4c44b8(0x1b6)](window[_0x4c44b8(0x1df)][_0x4c44b8(0x215)]),safeEval(window[_0x4c44b8(0x1df)]['mapObject']),initializeMap()):(safeEval(window[_0x4c44b8(0x1df)]['map']),initializeMap()):mapTester=![];function safeEval(_0x307330){const _0x434569=_0x4c44b8;typeof _0x307330===_0x434569(0x1c0)&&_0x307330!==null&&(map['map']=Object[_0x434569(0x23a)](_0x307330[_0x434569(0x214)]),map[_0x434569(0x1d0)]=Object[_0x434569(0x23a)](_0x307330['spawnPoint']),console[_0x434569(0x1b6)](_0x434569(0x1ec)));}function renderTile(_0xd016f2){const _0x5ae3b7=_0x4c44b8;if(_0xd016f2['stack'])c[_0x5ae3b7(0x1ae)](SPRITESHEET,tiles[_0xd016f2[_0x5ae3b7(0x1ef)]][0x0]*GLOBAL[_0x5ae3b7(0x1b2)]|0x0,tiles[_0xd016f2['type']][0x1]*GLOBAL[_0x5ae3b7(0x1b2)]|0x0,_0xd016f2['w']*GLOBAL[_0x5ae3b7(0x1b2)],_0xd016f2['h']*GLOBAL[_0x5ae3b7(0x1b2)],map['x']+_0xd016f2['x']*GLOBAL['tileSize']*GLOBAL[_0x5ae3b7(0x20a)]|0x0,map['y']+_0xd016f2['y']*GLOBAL[_0x5ae3b7(0x1b2)]*GLOBAL[_0x5ae3b7(0x20a)]|0x0,_0xd016f2['w']*GLOBAL[_0x5ae3b7(0x1b2)]*GLOBAL[_0x5ae3b7(0x20a)]|0x0,_0xd016f2['h']*GLOBAL[_0x5ae3b7(0x1b2)]*GLOBAL['ratio']|0x0);else for(let _0x3a2a43=0x0;_0x3a2a43<_0xd016f2['w'];_0x3a2a43++){for(let _0x5c6e54=0x0;_0x5c6e54<_0xd016f2['h'];_0x5c6e54++){c[_0x5ae3b7(0x1ae)](SPRITESHEET,tiles[_0xd016f2['type']][0x0]*GLOBAL[_0x5ae3b7(0x1b2)]|0x0,tiles[_0xd016f2[_0x5ae3b7(0x1ef)]][0x1]*GLOBAL[_0x5ae3b7(0x1b2)]|0x0,GLOBAL[_0x5ae3b7(0x1b2)],GLOBAL['tileSize'],map['x']+(_0xd016f2['x']+_0x3a2a43)*GLOBAL[_0x5ae3b7(0x1b2)]*GLOBAL[_0x5ae3b7(0x20a)]|0x0,map['y']+(_0xd016f2['y']+_0x5c6e54)*GLOBAL['tileSize']*GLOBAL[_0x5ae3b7(0x20a)]|0x0,GLOBAL[_0x5ae3b7(0x1b2)]*GLOBAL[_0x5ae3b7(0x20a)]|0x0,GLOBAL[_0x5ae3b7(0x1b2)]*GLOBAL['ratio']|0x0);}}}function gameLoop(){const _0x4744fe=_0x4c44b8;GLOBAL[_0x4744fe(0x1bc)]++,setTimeout(gameLoop,0x3e8/GLOBAL[_0x4744fe(0x1be)]),c[_0x4744fe(0x20e)](0x0,0x0,canvas[_0x4744fe(0x21f)],canvas[_0x4744fe(0x20d)]),c[_0x4744fe(0x22a)]=_0x4744fe(0x1e0),c[_0x4744fe(0x1f9)](0x0,0x0,canvas[_0x4744fe(0x21f)],canvas[_0x4744fe(0x20d)]),renderStars(),map[_0x4744fe(0x1d1)](),map['renderTiles'](),map[_0x4744fe(0x1b1)](),player[_0x4744fe(0x1fe)](),checkCollisions(),map[_0x4744fe(0x1ea)](),map['renderEnemies'](),player[_0x4744fe(0x1bd)](),playerInterface[_0x4744fe(0x1bd)](),map[_0x4744fe(0x1e1)](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0xaa10e6=_0x4c44b8;player['x']=map[_0xaa10e6(0x1d0)]['x'],player['y']=map[_0xaa10e6(0x1d0)]['y'],map[_0xaa10e6(0x1ad)]=map[_0xaa10e6(0x214)];var _0x1187d3=[];for(let _0x16b1cf=map[_0xaa10e6(0x1ad)][_0xaa10e6(0x21d)]-0x1;_0x16b1cf>=0x0;_0x16b1cf--){switch(map[_0xaa10e6(0x1ad)][_0x16b1cf][_0xaa10e6(0x1ef)]){case 0xd:map[_0xaa10e6(0x1c4)]['push'](new Monster(map[_0xaa10e6(0x1ad)][_0x16b1cf]['x'],map[_0xaa10e6(0x1ad)][_0x16b1cf]['y'])),_0x1187d3[_0xaa10e6(0x1d9)](_0x16b1cf);break;case 0xe:map[_0xaa10e6(0x1c4)][_0xaa10e6(0x1d9)](new TeaMonster(map['tiles'][_0x16b1cf]['x'],map['tiles'][_0x16b1cf]['y'])),_0x1187d3[_0xaa10e6(0x1d9)](_0x16b1cf);break;case 0xf:map[_0xaa10e6(0x1c4)][_0xaa10e6(0x1d9)](new MageMonster(map[_0xaa10e6(0x1ad)][_0x16b1cf]['x'],map['tiles'][_0x16b1cf]['y'])),_0x1187d3[_0xaa10e6(0x1d9)](_0x16b1cf);break;}}for(let _0x403c37=0x0;_0x403c37<_0x1187d3['length'];_0x403c37++){map[_0xaa10e6(0x1ad)][_0xaa10e6(0x1f5)](_0x1187d3[_0x403c37],0x1);}}