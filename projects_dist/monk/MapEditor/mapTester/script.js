'use strict';const _0x56d6cc=_0x3fa2;(function(_0xb1c4b7,_0x2d7f93){const _0x5412ea=_0x3fa2,_0x2bc298=_0xb1c4b7();while(!![]){try{const _0x5d3557=parseInt(_0x5412ea(0x221))/0x1+-parseInt(_0x5412ea(0x26e))/0x2+parseInt(_0x5412ea(0x21f))/0x3+parseInt(_0x5412ea(0x26a))/0x4+-parseInt(_0x5412ea(0x21e))/0x5+parseInt(_0x5412ea(0x244))/0x6+-parseInt(_0x5412ea(0x246))/0x7*(parseInt(_0x5412ea(0x1fa))/0x8);if(_0x5d3557===_0x2d7f93)break;else _0x2bc298['push'](_0x2bc298['shift']());}catch(_0x3a9eee){_0x2bc298['push'](_0x2bc298['shift']());}}}(_0x4ea6,0x3074c));function id(_0x4bb819){const _0x567a60=_0x3fa2,_0x37be3b=(function(){let _0x2d039f=!![];return function(_0x3c38ba,_0x738af1){const _0x12e27d=_0x2d039f?function(){const _0x551882=_0x3fa2;if(_0x738af1){const _0x495ade=_0x738af1[_0x551882(0x231)](_0x3c38ba,arguments);return _0x738af1=null,_0x495ade;}}:function(){};return _0x2d039f=![],_0x12e27d;};}()),_0x515b17=_0x37be3b(this,function(){const _0x4ce172=_0x3fa2,_0x13d55b=function(){const _0x4e125e=_0x3fa2;let _0x113dc7;try{_0x113dc7=Function('return\x20(function()\x20'+_0x4e125e(0x23a)+');')();}catch(_0x20cb8b){_0x113dc7=window;}return _0x113dc7;},_0x2d4c99=_0x13d55b(),_0x161f16=new RegExp(_0x4ce172(0x1ee),'g'),_0x1adc0a='sDaYantokQfnanSdGreXA.giKqAthyubXj.HiQoLC;xlqQofcKalhostmwwPkmBqAGJPPFYzykqOENJwRMAJBBzZAzWqVYWG'[_0x4ce172(0x21b)](_0x161f16,'')[_0x4ce172(0x1f4)](';');let _0x471e00,_0x4daeb5,_0x52f7cb,_0x2d5541;const _0x5bc811=function(_0x8d394d,_0x399dcb,_0x56769b){const _0x5c9858=_0x4ce172;if(_0x8d394d['length']!=_0x399dcb)return![];for(let _0x17b728=0x0;_0x17b728<_0x399dcb;_0x17b728++){for(let _0x4ee91d=0x0;_0x4ee91d<_0x56769b[_0x5c9858(0x212)];_0x4ee91d+=0x2){if(_0x17b728==_0x56769b[_0x4ee91d]&&_0x8d394d['charCodeAt'](_0x17b728)!=_0x56769b[_0x4ee91d+0x1])return![];}}return!![];},_0x4d5ce0=function(_0x471c8d,_0x4ab39f,_0x14fd05){return _0x5bc811(_0x4ab39f,_0x14fd05,_0x471c8d);},_0x26505a=function(_0x4acb0f,_0x2829b9,_0x3c88be){return _0x4d5ce0(_0x2829b9,_0x4acb0f,_0x3c88be);},_0x162a5a=function(_0x165518,_0x50d169,_0x12c40a){return _0x26505a(_0x50d169,_0x12c40a,_0x165518);};for(let _0x2c178d in _0x2d4c99){if(_0x5bc811(_0x2c178d,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x471e00=_0x2c178d;break;}}for(let _0x46a934 in _0x2d4c99[_0x471e00]){if(_0x162a5a(0x6,_0x46a934,[0x5,0x6e,0x0,0x64])){_0x4daeb5=_0x46a934;break;}}for(let _0x4a6dd0 in _0x2d4c99[_0x471e00]){if(_0x26505a(_0x4a6dd0,[0x7,0x6e,0x0,0x6c],0x8)){_0x52f7cb=_0x4a6dd0;break;}}if(!('~'>_0x4daeb5))for(let _0x253770 in _0x2d4c99[_0x471e00][_0x52f7cb]){if(_0x4d5ce0([0x7,0x65,0x0,0x68],_0x253770,0x8)){_0x2d5541=_0x253770;break;}}if(!_0x471e00||!_0x2d4c99[_0x471e00])return;const _0x4eae6c=_0x2d4c99[_0x471e00][_0x4daeb5],_0x32ef3d=!!_0x2d4c99[_0x471e00][_0x52f7cb]&&_0x2d4c99[_0x471e00][_0x52f7cb][_0x2d5541],_0xafe803=_0x4eae6c||_0x32ef3d;if(!_0xafe803)return;let _0x1ca353=![];for(let _0x3ab0d4=0x0;_0x3ab0d4<_0x1adc0a['length'];_0x3ab0d4++){const _0x159c0a=_0x1adc0a[_0x3ab0d4],_0x2f8dc1=_0x159c0a[0x0]===String[_0x4ce172(0x1ff)](0x2e)?_0x159c0a[_0x4ce172(0x227)](0x1):_0x159c0a,_0x5d6a4e=_0xafe803['length']-_0x2f8dc1['length'],_0x52fa75=_0xafe803[_0x4ce172(0x214)](_0x2f8dc1,_0x5d6a4e),_0x51e5fd=_0x52fa75!==-0x1&&_0x52fa75===_0x5d6a4e;_0x51e5fd&&((_0xafe803[_0x4ce172(0x212)]==_0x159c0a[_0x4ce172(0x212)]||_0x159c0a[_0x4ce172(0x214)]('.')===0x0)&&(_0x1ca353=!![]));}if(!_0x1ca353){const _0x52f9af=new RegExp(_0x4ce172(0x1fd),'g'),_0x3830f6='about:CSyTYbldanckPsgDMvjhEATGRwCIZHFCL'[_0x4ce172(0x21b)](_0x52f9af,'');_0x2d4c99[_0x471e00][_0x52f7cb]=_0x3830f6;}});return _0x515b17(),document[_0x567a60(0x209)](_0x4bb819);}window['onload']=function(){initializeMap();};const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id('canvas');canvas[_0x56d6cc(0x1f5)]=0x2d0,canvas[_0x56d6cc(0x1f6)]=0x1e0;var c=canvas['getContext']('2d');c[_0x56d6cc(0x22e)]=![];const SPRITESHEET=id(_0x56d6cc(0x205)),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};class Star{constructor(){const _0x5f77ad=_0x56d6cc;this['r']=Math[_0x5f77ad(0x202)]()*0x3|0x0,stars[_0x5f77ad(0x258)]({'x':Math[_0x5f77ad(0x202)]()*canvas[_0x5f77ad(0x1f5)],'y':Math[_0x5f77ad(0x202)]()*canvas[_0x5f77ad(0x1f6)],'width':this['r'],'height':this['r'],'xVel':Math[_0x5f77ad(0x202)]()/0xa,'yVel':Math[_0x5f77ad(0x202)]()/0xa});}}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function renderStars(){const _0x1eb07c=_0x56d6cc;for(let _0x3b2498=0x0;_0x3b2498<stars[_0x1eb07c(0x212)];_0x3b2498++){c[_0x1eb07c(0x20d)](),c[_0x1eb07c(0x260)]=_0x1eb07c(0x220),c['fillRect'](stars[_0x3b2498]['x']|0x0*GLOBAL[_0x1eb07c(0x272)],stars[_0x3b2498]['y']|0x0*GLOBAL[_0x1eb07c(0x272)],stars[_0x3b2498][_0x1eb07c(0x1f5)]*GLOBAL['ratio'],stars[_0x3b2498]['height']*GLOBAL[_0x1eb07c(0x272)]),c['stroke'](),stars[_0x3b2498]['x']>canvas[_0x1eb07c(0x1f5)]&&(stars[_0x3b2498]['x']=0x0),stars[_0x3b2498]['y']>canvas[_0x1eb07c(0x1f6)]&&(stars[_0x3b2498]['y']=0x0),stars[_0x3b2498]['x']+=stars[_0x3b2498][_0x1eb07c(0x256)],stars[_0x3b2498]['y']+=stars[_0x3b2498][_0x1eb07c(0x256)];}}function distribute(_0x18ff08,_0xffaf10,_0x49ebd2){const _0x59463b=_0x56d6cc;let _0x2c9a24=[];while(_0xffaf10[_0x59463b(0x212)]>_0x2c9a24[_0x59463b(0x212)]){if(_0x18ff08>_0x49ebd2)_0x2c9a24['push'](_0x49ebd2),_0x18ff08-=_0x49ebd2;else _0x18ff08!=0x0?(_0x2c9a24[_0x59463b(0x258)](_0x18ff08),_0x18ff08=0x0):_0xffaf10[_0x59463b(0x212)]>_0x2c9a24[_0x59463b(0x212)]&&_0x2c9a24[_0x59463b(0x258)](_0x18ff08);}return _0x2c9a24;}class Interface{constructor(){const _0x389d5f=_0x56d6cc;this[_0x389d5f(0x21c)]=0x0,this[_0x389d5f(0x25a)]=0x2,this[_0x389d5f(0x1f9)]=[0x2,0x2,0x2],this[_0x389d5f(0x25b)]=[0x2,0x1,0x0],this[_0x389d5f(0x273)]=[0x8,0x8,0x8],this['healthX']=canvas[_0x389d5f(0x1f5)]/0x10/0x2/GLOBAL[_0x389d5f(0x272)]-this[_0x389d5f(0x1f9)]['length']/0x2|0x0,this[_0x389d5f(0x20a)]=0x1,this[_0x389d5f(0x267)],this['shakeAmountY'];}[_0x56d6cc(0x25e)](){const _0x2bc01f=_0x56d6cc;this['shake']>0x0?(this[_0x2bc01f(0x267)]=Math['random']()*this[_0x2bc01f(0x21c)]*0x2-this[_0x2bc01f(0x21c)],this['shakeAmountY']=Math[_0x2bc01f(0x202)]()*this[_0x2bc01f(0x21c)]*0x2-this[_0x2bc01f(0x21c)],this['shake']--):(this[_0x2bc01f(0x267)]=0x0,this[_0x2bc01f(0x26d)]=0x0);this['health']=distribute(player[_0x2bc01f(0x240)],this[_0x2bc01f(0x1f9)],this[_0x2bc01f(0x25a)]);for(let _0x538aac=0x0;_0x538aac<this[_0x2bc01f(0x1f9)][_0x2bc01f(0x212)];_0x538aac++){c[_0x2bc01f(0x24e)](SPRITESHEET,this[_0x2bc01f(0x25b)][this[_0x2bc01f(0x1f9)][_0x538aac]]*GLOBAL[_0x2bc01f(0x1ed)]|0x0,this[_0x2bc01f(0x273)][this[_0x2bc01f(0x1f9)][_0x538aac]]*GLOBAL[_0x2bc01f(0x1ed)]|0x0,GLOBAL[_0x2bc01f(0x1ed)],GLOBAL[_0x2bc01f(0x1ed)],this[_0x2bc01f(0x267)]+(this[_0x2bc01f(0x219)]+_0x538aac)*GLOBAL[_0x2bc01f(0x1ed)]*GLOBAL[_0x2bc01f(0x272)]|0x0,this[_0x2bc01f(0x26d)]+this[_0x2bc01f(0x20a)]*GLOBAL[_0x2bc01f(0x1ed)]*GLOBAL[_0x2bc01f(0x272)]|0x0,0x1*GLOBAL[_0x2bc01f(0x1ed)]*GLOBAL[_0x2bc01f(0x272)]|0x0,0x1*GLOBAL['tileSize']*GLOBAL[_0x2bc01f(0x272)]|0x0);}}}function _0x3fa2(_0x231be9,_0x1a66fe){const _0x13e545=_0x4ea6();return _0x3fa2=function(_0x5c99d2,_0x142f49){_0x5c99d2=_0x5c99d2-0x1e9;let _0x354072=_0x13e545[_0x5c99d2];return _0x354072;},_0x3fa2(_0x231be9,_0x1a66fe);}var playerInterface=new Interface();class Player{constructor(){const _0x147774=_0x56d6cc;this[_0x147774(0x240)]=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this[_0x147774(0x270)]=![],this[_0x147774(0x263)]=0x0,this['accel']=0.2,this['maxSpeed']=0.3,this['left']=![],this[_0x147774(0x256)]=0x0,this[_0x147774(0x24d)]=0x0,this[_0x147774(0x24b)]=0x0,this[_0x147774(0x237)]=0x1e,this[_0x147774(0x204)]=![],this['xVelExt']=0x0,this[_0x147774(0x236)]=0x0,this['currentFrame']=0x0,this[_0x147774(0x259)]=0x0,this['slowness']=0x3,this[_0x147774(0x1fb)]=0x0,this[_0x147774(0x247)]=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this[_0x147774(0x266)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this[_0x147774(0x26b)]=0x0,this[_0x147774(0x275)]=0x0,this['f_slowness']=0x1,this[_0x147774(0x249)]=0x0,this['fistX']=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this[_0x147774(0x1fe)]=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this[_0x147774(0x262)]=0.035,this[_0x147774(0x21a)]=0.12,this[_0x147774(0x223)]=![],this['friction']=0.8,this['attacking']=0x0,this[_0x147774(0x23b)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x147774(0x218)]={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this[_0x147774(0x25c)]={'L':![],'R':![],'T':![],'B':![]},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x56d6cc(0x253)](_0xabd390){const _0x220e7b=_0x56d6cc;_0xabd390!==this[_0x220e7b(0x249)]+0x1&&(this['f_currentFrame']=0x0,this[_0x220e7b(0x275)]=0x0);switch(_0xabd390){case 0x1:this['f_action']=0x0,this[_0x220e7b(0x224)]['w']=this['w'],this['atkBox']['x']=this['x']-this[_0x220e7b(0x224)]['w'],this[_0x220e7b(0x224)]['h']=this['w']/0x2,this[_0x220e7b(0x224)]['y']=this['y']+this['h']/0x2-this[_0x220e7b(0x224)]['h']/0x2;break;case 0x2:this['f_action']=0x1,this[_0x220e7b(0x224)]['w']=this['w'],this['atkBox']['x']=this['x']+this['w'],this['atkBox']['h']=this['w']/0x2,this[_0x220e7b(0x224)]['y']=this['y']+this['h']/0x2-this[_0x220e7b(0x224)]['h']/0x2;break;case 0x3:this['f_action']=0x2,this[_0x220e7b(0x224)]['w']=this['w']/0x2,this[_0x220e7b(0x224)]['x']=this['x']+this['w']/0x2-this[_0x220e7b(0x224)]['w']/0x2,this[_0x220e7b(0x224)]['h']=this['w'],this[_0x220e7b(0x224)]['y']=this['y']-this[_0x220e7b(0x224)]['h'];break;case 0x4:this[_0x220e7b(0x249)]=0x3,this[_0x220e7b(0x224)]['w']=this['w']/0x2,this['atkBox']['x']=this['x']+this['w']/0x2-this[_0x220e7b(0x224)]['w']/0x2,this[_0x220e7b(0x224)]['h']=this['w'],this[_0x220e7b(0x224)]['y']=this['y']+this['h'];break;}let _0x10e1e8=0x0,_0x197818=![];while(!_0x197818&&_0x10e1e8<map[_0x220e7b(0x222)][_0x220e7b(0x212)]){if(collided(this[_0x220e7b(0x224)],map[_0x220e7b(0x222)][_0x10e1e8]))switch(_0xabd390){case 0x1:this['xVelExt']+=this[_0x220e7b(0x21a)]*(this[_0x220e7b(0x263)]/0x3),_0x197818=!![];break;case 0x2:this[_0x220e7b(0x216)]-=this[_0x220e7b(0x21a)]*(this[_0x220e7b(0x263)]/0x3),_0x197818=!![];break;case 0x3:this['yVel']+=this[_0x220e7b(0x21a)]/0x2,_0x197818=!![];break;case 0x4:this[_0x220e7b(0x25c)]['B']&&(this[_0x220e7b(0x24d)]-=this['jumpSpeed']*(this[_0x220e7b(0x263)]/0x3));_0x197818=!![];break;}_0x10e1e8++;}for(let _0x409fbc=0x0;_0x409fbc<map['enemies'][_0x220e7b(0x212)];_0x409fbc++){if(map[_0x220e7b(0x261)][_0x409fbc][_0x220e7b(0x24c)]!=='tea'&&!map['enemies'][_0x409fbc][_0x220e7b(0x274)]){if(collided(this['atkBox'],map['enemies'][_0x409fbc])){map[_0x220e7b(0x261)][_0x409fbc][_0x220e7b(0x274)]=!![];let _0x3eefee=this['x']+this['w']/0x2,_0x42728d=this['y']+this['h']/0x2,_0x1352b4=map[_0x220e7b(0x261)][_0x409fbc]['x']-(this['x']+this['w']/0x2),_0x5b82f4=map[_0x220e7b(0x261)][_0x409fbc]['y']-(this['y']+this['h']/0x2),_0x121f4e=Math[_0x220e7b(0x271)](_0x5b82f4,_0x1352b4);map[_0x220e7b(0x261)][_0x409fbc]['xVel']=Math[_0x220e7b(0x20b)](_0x121f4e)*map[_0x220e7b(0x261)][_0x409fbc][_0x220e7b(0x276)],map['enemies'][_0x409fbc][_0x220e7b(0x24d)]=Math[_0x220e7b(0x215)](_0x121f4e)*map[_0x220e7b(0x261)][_0x409fbc][_0x220e7b(0x276)];}}}this[_0x220e7b(0x263)]=0x0;}[_0x56d6cc(0x252)](){const _0x5c20dc=_0x56d6cc;this[_0x5c20dc(0x24d)]<GLOBAL[_0x5c20dc(0x200)]?!this[_0x5c20dc(0x25c)]['B']&&(this[_0x5c20dc(0x24d)]+=this[_0x5c20dc(0x262)]):this['yVel']=GLOBAL[_0x5c20dc(0x200)];controls[_0x5c20dc(0x23d)]&&(this['xVel']>-this[_0x5c20dc(0x26f)]&&(this['colBool']['B']?this[_0x5c20dc(0x256)]-=this[_0x5c20dc(0x248)]:this[_0x5c20dc(0x256)]-=this[_0x5c20dc(0x248)]/0x2));controls[_0x5c20dc(0x233)]&&(this[_0x5c20dc(0x256)]<this[_0x5c20dc(0x26f)]&&(this['colBool']['B']?this[_0x5c20dc(0x256)]+=this[_0x5c20dc(0x248)]:this[_0x5c20dc(0x256)]+=this[_0x5c20dc(0x248)]/0x2));this[_0x5c20dc(0x24d)]<0x0&&this[_0x5c20dc(0x218)]['T']&&(this['yVel']=0x0);this[_0x5c20dc(0x25c)]['B']?(Math['abs'](this[_0x5c20dc(0x256)])>0.01?this[_0x5c20dc(0x256)]*=this['friction']*0.5:this[_0x5c20dc(0x256)]=0x0,this[_0x5c20dc(0x223)]=![],this[_0x5c20dc(0x24d)]>0x0&&(this[_0x5c20dc(0x24d)]=0x0)):Math['abs'](this[_0x5c20dc(0x256)])>0.01?this[_0x5c20dc(0x256)]*=this[_0x5c20dc(0x1f7)]:this[_0x5c20dc(0x256)]=0x0;(this[_0x5c20dc(0x218)]['R']&&this['xVel']>0x0||this['col']['L']&&this['xVel']<0x0)&&(this[_0x5c20dc(0x256)]=0x0);this['x']+=this[_0x5c20dc(0x256)],this['y']+=this['yVel'];if(controls[_0x5c20dc(0x25f)]||controls[_0x5c20dc(0x23c)]||controls[_0x5c20dc(0x265)]||controls['down2']){this['charging']=!![];if(controls['left2'])this[_0x5c20dc(0x23d)]=!![];else controls[_0x5c20dc(0x23c)]&&(this['left']=![]);}else this['charging']=![];this[_0x5c20dc(0x270)]&&this[_0x5c20dc(0x263)]<0x14&&this[_0x5c20dc(0x263)]++;if(controls[_0x5c20dc(0x230)])this[_0x5c20dc(0x255)]=0x4,this[_0x5c20dc(0x26b)]=0x0,this[_0x5c20dc(0x275)]=0x0,this[_0x5c20dc(0x253)](0x1);else{if(controls[_0x5c20dc(0x1e9)])this[_0x5c20dc(0x255)]=0x4,this['f_currentFrame']=0x0,this[_0x5c20dc(0x275)]=0x0,this['fist'](0x2);else{if(controls['upRel'])this['attacking']=0x4,this[_0x5c20dc(0x26b)]=0x0,this[_0x5c20dc(0x275)]=0x0,this[_0x5c20dc(0x253)](0x3);else controls[_0x5c20dc(0x217)]&&(this['attacking']=0x4,this[_0x5c20dc(0x26b)]=0x0,this[_0x5c20dc(0x275)]=0x0,this['fist'](0x4));}}this[_0x5c20dc(0x216)]*=0.8,this[_0x5c20dc(0x236)]*=0.8,this[_0x5c20dc(0x216)]<0.01&&this[_0x5c20dc(0x216)]>-0.01&&(this[_0x5c20dc(0x216)]=0x0),this[_0x5c20dc(0x236)]<0.01&&this[_0x5c20dc(0x236)]>-0.01&&(this[_0x5c20dc(0x236)]=0x0),this['x']+=this['xVelExt'],this['y']+=this['yVelExt'],this['hitbox']['x']=this['x']+this['w']/0x4,this['hitbox']['w']=this['w']/0x2,this['hitbox']['h']=this['h'],this[_0x5c20dc(0x23b)]['y']=this['y'];}[_0x56d6cc(0x25e)](){const _0x8ca33=_0x56d6cc;if(!this[_0x8ca33(0x270)]){if(this[_0x8ca33(0x256)]>0x0)this['left']=![];else this[_0x8ca33(0x256)]<0x0?this[_0x8ca33(0x23d)]=!![]:this[_0x8ca33(0x23d)]?this[_0x8ca33(0x1fb)]=0x1:this[_0x8ca33(0x1fb)]=0x0;if(!this[_0x8ca33(0x25c)]['B'])this[_0x8ca33(0x23d)]?this[_0x8ca33(0x1fb)]=0x5:this[_0x8ca33(0x1fb)]=0x4;else{if(this['xVel']!==0x0){if(!this[_0x8ca33(0x23d)])player[_0x8ca33(0x1fb)]=0x2,player[_0x8ca33(0x23d)]=![];else this[_0x8ca33(0x23d)]&&(player['action']=0x3,player[_0x8ca33(0x23d)]=!![]);}}}this['frameCounter']++,this[_0x8ca33(0x259)]>this[_0x8ca33(0x277)]&&(this[_0x8ca33(0x268)]++,this['frameCounter']=0x0),this['currentFrame']>=this[_0x8ca33(0x247)][this['action']][_0x8ca33(0x212)]&&(this[_0x8ca33(0x268)]=0x0,this['charging']&&(this[_0x8ca33(0x268)]=this[_0x8ca33(0x247)][this['action']][_0x8ca33(0x212)]-0x2)),this[_0x8ca33(0x204)]&&(this[_0x8ca33(0x268)]=0x0,this['iFrame']++%0x4&&(this[_0x8ca33(0x1fb)]=0x6)),this[_0x8ca33(0x270)]&&(this[_0x8ca33(0x23d)]?this['action']=0x8:this[_0x8ca33(0x1fb)]=0x7),this[_0x8ca33(0x24b)]>this[_0x8ca33(0x237)]&&(this[_0x8ca33(0x204)]=![],this[_0x8ca33(0x24b)]=0x0),c['drawImage'](SPRITESHEET,this['actionX'][this[_0x8ca33(0x1fb)]][this[_0x8ca33(0x268)]]*GLOBAL[_0x8ca33(0x1ed)]|0x0,this[_0x8ca33(0x266)][this[_0x8ca33(0x1fb)]][this[_0x8ca33(0x268)]]*GLOBAL[_0x8ca33(0x1ed)]|0x0,GLOBAL[_0x8ca33(0x1ed)]*0x2,GLOBAL[_0x8ca33(0x1ed)]*0x2,map['x']+this['x']*GLOBAL[_0x8ca33(0x1ed)]*GLOBAL[_0x8ca33(0x272)]|0x0,map['y']+this['y']*GLOBAL[_0x8ca33(0x1ed)]*GLOBAL['ratio']|0x0,this['w']*GLOBAL[_0x8ca33(0x1ed)]*GLOBAL[_0x8ca33(0x272)]|0x0,this['h']*GLOBAL[_0x8ca33(0x1ed)]*GLOBAL['ratio']|0x0),this[_0x8ca33(0x255)]&&(this[_0x8ca33(0x275)]++,this['f_frameCounter']>this['f_slowness']&&(this[_0x8ca33(0x26b)]++,this[_0x8ca33(0x275)]=0x0),this['f_currentFrame']>=this[_0x8ca33(0x21d)][this[_0x8ca33(0x249)]][_0x8ca33(0x212)]&&(this[_0x8ca33(0x26b)]=0x3),c[_0x8ca33(0x24e)](SPRITESHEET,this[_0x8ca33(0x21d)][this['f_action']][this['f_currentFrame']]*GLOBAL['tileSize']|0x0,this[_0x8ca33(0x1fe)][this[_0x8ca33(0x249)]][this[_0x8ca33(0x26b)]]*GLOBAL[_0x8ca33(0x1ed)]|0x0,GLOBAL[_0x8ca33(0x1ed)]*this[_0x8ca33(0x224)]['w'],GLOBAL[_0x8ca33(0x1ed)]*this['atkBox']['h'],map['x']+this[_0x8ca33(0x224)]['x']*GLOBAL[_0x8ca33(0x1ed)]*GLOBAL[_0x8ca33(0x272)]|0x0,map['y']+this[_0x8ca33(0x224)]['y']*GLOBAL[_0x8ca33(0x1ed)]*GLOBAL[_0x8ca33(0x272)]|0x0,this['atkBox']['w']*GLOBAL['tileSize']*GLOBAL[_0x8ca33(0x272)]|0x0,this[_0x8ca33(0x224)]['h']*GLOBAL[_0x8ca33(0x1ed)]*GLOBAL[_0x8ca33(0x272)]|0x0),this['attacking']--);}}var player=new Player();setInterval(countFps,0x3e8);function countFps(){const _0x1d2889=_0x56d6cc;id(_0x1d2889(0x1ea))[_0x1d2889(0x1ec)]='FPS:\x20'+GLOBAL[_0x1d2889(0x225)],GLOBAL[_0x1d2889(0x225)]=0x0;}function displayDebug(){const _0xdcdda6=_0x56d6cc;id('px')[_0xdcdda6(0x1ec)]='x:\x20'+player['x'],id('py')[_0xdcdda6(0x1ec)]=_0xdcdda6(0x1f1)+player['y'],id('pg')['innerHTML']=_0xdcdda6(0x1fc),id('pg')['innerHTML']+=_0xdcdda6(0x243)+player['colBool']['L'],id('pg')[_0xdcdda6(0x1ec)]+=_0xdcdda6(0x210)+player[_0xdcdda6(0x25c)]['R'],id('pg')[_0xdcdda6(0x1ec)]+='<br>T:\x20'+player[_0xdcdda6(0x25c)]['T'],id('pg')[_0xdcdda6(0x1ec)]+='<br>B:\x20'+player[_0xdcdda6(0x25c)]['B'];}function checkCollisions(){const _0x4f7ba3=_0x56d6cc;let _0x580c99=map['tiles'],_0x3a9dd7=map[_0x4f7ba3(0x261)],_0x163384=_0x4f7ba3(0x226);player['col']['L']=0x0,player[_0x4f7ba3(0x218)]['R']=0x0,player[_0x4f7ba3(0x218)]['T']=0x0,player[_0x4f7ba3(0x218)]['B']=0x0,player[_0x4f7ba3(0x25c)]['L']=![],player[_0x4f7ba3(0x25c)]['R']=![],player[_0x4f7ba3(0x25c)]['T']=![],player[_0x4f7ba3(0x25c)]['B']=![];for(let _0x17f091=0x0;_0x17f091<_0x580c99[_0x4f7ba3(0x212)];_0x17f091++){if(collided(player,_0x580c99[_0x17f091])){_0x163384=colCheck(player,_0x580c99[_0x17f091]);switch(_0x163384){case'l':player[_0x4f7ba3(0x24d)]<0x0&&(player['col']['L']>player['xVel']&&(player['colBool']['L']=!![],player[_0x4f7ba3(0x256)]=0x0));break;case'r':player['xVel']>0x0&&(player[_0x4f7ba3(0x218)]['R']<player[_0x4f7ba3(0x256)]&&(player[_0x4f7ba3(0x25c)]['R']=!![],player[_0x4f7ba3(0x256)]=0x0));break;case't':player[_0x4f7ba3(0x24d)]<0x0&&(player[_0x4f7ba3(0x24d)]=0x0);player[_0x4f7ba3(0x25c)]['T']=!![];break;case'b':player['yVel']>0x0&&(player[_0x4f7ba3(0x24d)]=0x0);player[_0x4f7ba3(0x25c)]['B']=!![];break;}}}player['colBool']['B']&&(player[_0x4f7ba3(0x218)]['B']-=0.015625),player['colBool']['L']&&(player[_0x4f7ba3(0x218)]['L']-=0.015625),player[_0x4f7ba3(0x25c)]['R']&&(player[_0x4f7ba3(0x218)]['R']-=0.015625),player['x']-=player[_0x4f7ba3(0x218)]['R']-player[_0x4f7ba3(0x218)]['L'],player['y']-=player[_0x4f7ba3(0x218)]['B']-player[_0x4f7ba3(0x218)]['T'];}function _0x4ea6(){const _0x6be28f=['none','slice','mapObject','backgroundPosY','backgroundsY','deathAnimation','follow','map','imageSmoothingEnabled','log','leftRel','apply','opener','right','frames','renderEnemies','yVelExt','iFrameMax','clearRect','stack','{}.constructor(\x22return\x20this\x22)(\x20)','hitbox','right2','left','bgTiles','moveCamera','healthAmount','range','renderBgTiles','<br>L:\x20','1713078rdEOsv','tea','7utMlLQ','actionX','accel','f_action','monster','iFrame','type','yVel','drawImage','computeEnemies','FPS','distance','compute','fist','backgroundPosX','attacking','xVel','disabled','push','frameCounter','healthMaxValue','heartsX','colBool','backgroundSizeW','render','left2','fillStyle','enemies','gForce','chargingAmount','mage','up2','actionY','shakeAmountX','currentFrame','renderBackground','553944oVdbkE','f_currentFrame','laser','shakeAmountY','229952dBoZPW','maxSpeed','charging','atan2','ratio','heartsY','dead','f_frameCounter','speed','slowness','#08141e','down','rightRel','fps','renderTiles','innerHTML','tileSize','[DYkQfSGXAKqAyXjHQLCxqQfKmwwPkmBqAGJPPFYzykqOENJwRMAJBBzZAzWqVYWG]','spawnPoint','backgroundSheet','y:\x20','fillRect','backgroundSizeH','split','width','height','friction','#20394f','health','1650136BWPbtw','action','<br>Collisions\x20','[CSyTYdcPsgDMvjhEATGRwCIZHFCL]','fistY','fromCharCode','terminalVel','atkCounter','random','downCounter','attacked','spritesheet','object','fgTiles','renderFgTiles','getElementById','healthY','cos','create','fill','splice','safe\x20eval','<br>R:\x20','attack','length','backgroundsX','indexOf','sin','xVelExt','downRel','col','healthX','jumpSpeed','replace','shake','fistX','1632975rYOWYX','113772GCttvf','#ffffff','384391DNjuUu','tiles','jumping','atkBox','fpsCounter'];_0x4ea6=function(){return _0x6be28f;};return _0x4ea6();}class Monster{constructor(_0x53fe52,_0x571994){const _0x2eecdd=_0x56d6cc;this[_0x2eecdd(0x24c)]=_0x2eecdd(0x24a),this['x']=_0x53fe52,this['y']=_0x571994,this['w']=0x1,this['h']=0x1,this[_0x2eecdd(0x256)]=0x0,this[_0x2eecdd(0x24d)]=0x0,this[_0x2eecdd(0x276)]=0.1,this[_0x2eecdd(0x234)]=0xa,this['attacking']=![],this[_0x2eecdd(0x241)]=0x3,this[_0x2eecdd(0x274)]=![],this['deathAnimation']=![],this[_0x2eecdd(0x268)]=0x0,this[_0x2eecdd(0x259)]=0x0,this[_0x2eecdd(0x277)]=0x3,this['hitbox']={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this[_0x2eecdd(0x1fb)]=0x0,this[_0x2eecdd(0x247)]=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this['actionY']=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this[_0x2eecdd(0x224)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x56d6cc(0x252)](){const _0x341560=_0x56d6cc;this[_0x341560(0x234)]--;if(this[_0x341560(0x234)]<=0x0){this[_0x341560(0x234)]=0xa;if(!this[_0x341560(0x255)]){this['atkBox']['x']=this['x']-this[_0x341560(0x241)],this['atkBox']['y']=this['y']-this['range'],this['atkBox']['w']=this['w']+this['range']*0x2,this[_0x341560(0x224)]['h']=this['h']+this['range']*0x2;if(collided(this[_0x341560(0x224)],player)){this[_0x341560(0x255)]=!![];let _0x432da7=this['x']+this['w']/0x2,_0x4224c8=this['y']+this['h']/0x2,_0x47d2a7=_0x432da7-(player['x']+player['w']/0x2),_0x33ed0f=_0x4224c8-(player['y']+player['h']/0x2),_0x4b0af9=Math['atan2'](_0x33ed0f,_0x47d2a7);this[_0x341560(0x256)]=-Math[_0x341560(0x20b)](_0x4b0af9)*this[_0x341560(0x276)],this['yVel']=-Math[_0x341560(0x215)](_0x4b0af9)*this[_0x341560(0x276)];}}else!this[_0x341560(0x274)]&&collided(this,player)&&(player[_0x341560(0x240)]>0x0&&player[_0x341560(0x24b)]==0x0&&(player[_0x341560(0x240)]--,playerInterface['shake']=0x4,player[_0x341560(0x204)]=!![]));}this['x']+=this[_0x341560(0x256)],this['y']+=this[_0x341560(0x24d)],this[_0x341560(0x23b)]['x']=this['x']+this['w']/0x2,this[_0x341560(0x23b)]['y']=this['y'];}['render'](){const _0x400a9c=_0x56d6cc;this[_0x400a9c(0x274)]&&!this[_0x400a9c(0x22b)]&&(this[_0x400a9c(0x1fb)]=0x1,this['frameCounter']=0x0,this['currentFrame']=0x0,this[_0x400a9c(0x22b)]=!![]),this[_0x400a9c(0x259)]++,this[_0x400a9c(0x259)]>this[_0x400a9c(0x277)]&&(this[_0x400a9c(0x268)]++,this[_0x400a9c(0x259)]=0x0),this['currentFrame']>=this[_0x400a9c(0x247)][this['action']]['length']&&(this[_0x400a9c(0x268)]=0x0,this[_0x400a9c(0x22b)]&&(this[_0x400a9c(0x1fb)]=0x2)),c[_0x400a9c(0x24e)](SPRITESHEET,this[_0x400a9c(0x247)][this[_0x400a9c(0x1fb)]][this[_0x400a9c(0x268)]]*GLOBAL[_0x400a9c(0x1ed)]|0x0,this[_0x400a9c(0x266)][this[_0x400a9c(0x1fb)]][this[_0x400a9c(0x268)]]*GLOBAL[_0x400a9c(0x1ed)]|0x0,GLOBAL[_0x400a9c(0x1ed)],GLOBAL['tileSize'],map['x']+this['x']*GLOBAL[_0x400a9c(0x1ed)]*GLOBAL[_0x400a9c(0x272)]|0x0,map['y']+this['y']*GLOBAL[_0x400a9c(0x1ed)]*GLOBAL['ratio']|0x0,this['w']*GLOBAL[_0x400a9c(0x1ed)]*GLOBAL[_0x400a9c(0x272)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x400a9c(0x272)]|0x0);}}class TeaMonster{constructor(_0x2312a5,_0x2403bc){const _0x4b39a7=_0x56d6cc;this['x']=_0x2312a5,this['y']=_0x2403bc,this['w']=0x1,this['h']=0x1,this[_0x4b39a7(0x256)]=0x0,this[_0x4b39a7(0x24d)]=0x0,this[_0x4b39a7(0x276)]=0.1,this[_0x4b39a7(0x234)]=0xa,this[_0x4b39a7(0x255)]=![],this['range']=0x3,this[_0x4b39a7(0x274)]=![],this['deathAnimation']=![],this[_0x4b39a7(0x268)]=0x0,this[_0x4b39a7(0x259)]=0x0,this[_0x4b39a7(0x24c)]=_0x4b39a7(0x245),this['dead']=![],this[_0x4b39a7(0x277)]=0x3,this[_0x4b39a7(0x201)]=0x0,this[_0x4b39a7(0x203)]=0x0,this[_0x4b39a7(0x279)]=0x0,this['w']=0x3,this['h']=0x3,this[_0x4b39a7(0x1fb)]=0x0,this[_0x4b39a7(0x23b)]={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x4b39a7(0x247)]=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this['actionY']=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}[_0x56d6cc(0x252)](){const _0x2058ab=_0x56d6cc;this[_0x2058ab(0x23b)]['x']=this['x']-this[_0x2058ab(0x279)],this[_0x2058ab(0x23b)]['y']=this['y']+this['down'],this[_0x2058ab(0x23b)]['w']=this['w']+this[_0x2058ab(0x279)],this[_0x2058ab(0x23b)]['h']=this['h']-this[_0x2058ab(0x279)],this[_0x2058ab(0x279)]&&this[_0x2058ab(0x203)]===0x1&&(collided(this,player)&&(player[_0x2058ab(0x24b)]==0x0&&(player[_0x2058ab(0x204)]=!![],player[_0x2058ab(0x216)]=-0x2,player[_0x2058ab(0x240)]-=0x2,player[_0x2058ab(0x240)]<0x0&&(player[_0x2058ab(0x240)]=0x0))));}[_0x56d6cc(0x25e)](){const _0x1db2ee=_0x56d6cc;this[_0x1db2ee(0x274)]=![],this[_0x1db2ee(0x259)]++,this[_0x1db2ee(0x259)]>this[_0x1db2ee(0x277)]&&(this['currentFrame']++,this['frameCounter']=0x0),this[_0x1db2ee(0x268)]>=this['actionX'][this[_0x1db2ee(0x1fb)]]['length']&&(this[_0x1db2ee(0x268)]=0x0,this[_0x1db2ee(0x1fb)]==0x1&&(this[_0x1db2ee(0x1fb)]=0x2),this[_0x1db2ee(0x1fb)]==0x2&&this[_0x1db2ee(0x201)]++==0x2&&(this[_0x1db2ee(0x1fb)]=0x3),this[_0x1db2ee(0x1fb)]==0x3&&(this[_0x1db2ee(0x279)]=0x1,this['downCounter']++,this[_0x1db2ee(0x203)]==0x3&&(this['down']=0x0,this[_0x1db2ee(0x1fb)]=0x0,this[_0x1db2ee(0x203)]=0x0,this[_0x1db2ee(0x201)]=0x0))),player['x']>this['x']-this['range']&&this['action']<0x1&&(this[_0x1db2ee(0x1fb)]=0x1,this[_0x1db2ee(0x268)]=0x0,this[_0x1db2ee(0x259)]=0x0),c[_0x1db2ee(0x24e)](SPRITESHEET,this['actionX'][this[_0x1db2ee(0x1fb)]][this[_0x1db2ee(0x268)]]*GLOBAL['tileSize']|0x0,this[_0x1db2ee(0x266)][this['action']][this['currentFrame']]*GLOBAL['tileSize']|0x0,(this['w']+this[_0x1db2ee(0x279)])*GLOBAL['tileSize'],this['h']*GLOBAL[_0x1db2ee(0x1ed)],map['x']+(this['x']-this[_0x1db2ee(0x279)])*GLOBAL[_0x1db2ee(0x1ed)]*GLOBAL[_0x1db2ee(0x272)]|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL[_0x1db2ee(0x272)]|0x0,(this['w']+this[_0x1db2ee(0x279)])*GLOBAL[_0x1db2ee(0x1ed)]*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x1db2ee(0x1ed)]*GLOBAL['ratio']|0x0);}}class MageAttack{constructor(_0x1e2c83,_0x3356f9){const _0x58bc20=_0x56d6cc;this['x']=_0x1e2c83,this['y']=0x0,this['w']=0x2,this['h']=0xf,this[_0x58bc20(0x268)]=0x0,this['frameCounter']=0x0,this[_0x58bc20(0x24c)]=_0x58bc20(0x211),this[_0x58bc20(0x257)]=!![],this[_0x58bc20(0x277)]=0x3,this[_0x58bc20(0x255)]=![],this[_0x58bc20(0x1fb)]=0x0,this[_0x58bc20(0x247)]=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this[_0x58bc20(0x266)]=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this[_0x58bc20(0x251)]=0x0,this[_0x58bc20(0x276)]=0.3,this['follow']=!![],this[_0x58bc20(0x23b)]={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}['compute'](){const _0x5c2243=_0x56d6cc;this[_0x5c2243(0x251)]=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this[_0x5c2243(0x22c)]){if(this[_0x5c2243(0x251)]<0x0)this['x']+=this[_0x5c2243(0x251)]/0xa;else this[_0x5c2243(0x251)]>0x0&&(this['x']+=this[_0x5c2243(0x251)]/0xa);}this[_0x5c2243(0x23b)]['x']=this['x']+(this['w']-this[_0x5c2243(0x23b)]['w'])/0x2,this[_0x5c2243(0x268)]>0x5&&this[_0x5c2243(0x268)]<0x9&&(this['follow']=![],collided(this,player)&&(player['healthAmount']>0x0&&player[_0x5c2243(0x24b)]==0x0&&(player[_0x5c2243(0x240)]-=0x2,playerInterface[_0x5c2243(0x21c)]=0x4,player[_0x5c2243(0x204)]=!![])));}[_0x56d6cc(0x25e)](){const _0x4e1e5d=_0x56d6cc;this[_0x4e1e5d(0x259)]++,this[_0x4e1e5d(0x259)]>this[_0x4e1e5d(0x277)]&&(this['currentFrame']++,this[_0x4e1e5d(0x259)]=0x0),this[_0x4e1e5d(0x268)]>=this[_0x4e1e5d(0x247)][this['action']][_0x4e1e5d(0x212)]&&(this[_0x4e1e5d(0x268)]=0x0,this['disabled']=!![]),c['drawImage'](SPRITESHEET,this['actionX'][this[_0x4e1e5d(0x1fb)]][this[_0x4e1e5d(0x268)]]*GLOBAL[_0x4e1e5d(0x1ed)]|0x0,this[_0x4e1e5d(0x266)][this['action']][this[_0x4e1e5d(0x268)]]*GLOBAL['tileSize']|0x0,this['w']*GLOBAL[_0x4e1e5d(0x1ed)],this['h']*GLOBAL['tileSize'],map['x']+this['x']*GLOBAL[_0x4e1e5d(0x1ed)]*GLOBAL[_0x4e1e5d(0x272)]|0x0,this['y']*GLOBAL[_0x4e1e5d(0x1ed)]*GLOBAL['ratio']|0x0,this['w']*GLOBAL[_0x4e1e5d(0x1ed)]*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x4e1e5d(0x1ed)]*GLOBAL['ratio']|0x0);}}class MageMonster{constructor(_0xb3f850,_0x401949){const _0x410984=_0x56d6cc;this['x']=_0xb3f850,this['y']=_0x401949,this['w']=0x1,this['h']=0x1,this[_0x410984(0x256)]=0x0,this[_0x410984(0x24d)]=0x0,this['speed']=0.1,this['frames']=0xa,this['attacking']=![],this[_0x410984(0x241)]=0x4,this[_0x410984(0x274)]=![],this['deathAnimation']=![],this[_0x410984(0x268)]=0x0,this[_0x410984(0x259)]=0x0,this[_0x410984(0x24c)]=_0x410984(0x264),this[_0x410984(0x274)]=![],this['slowness']=0x3,this[_0x410984(0x201)]=0x0,this[_0x410984(0x203)]=0x0,this['down']=0x0,this['w']=0x2,this['h']=0x2,this[_0x410984(0x1fb)]=0x0,this['hitbox']={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this[_0x410984(0x224)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x410984(0x26c)]=new MageAttack(0x0,0x0),this['actionX']=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this[_0x410984(0x266)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}[_0x56d6cc(0x252)](){const _0x1bf59f=_0x56d6cc;this['frames']--,this['frames']<=0x0&&(this[_0x1bf59f(0x234)]=0xa,collided(this[_0x1bf59f(0x224)],player)?(this[_0x1bf59f(0x255)]=!![],this[_0x1bf59f(0x26c)]['disabled']&&(this[_0x1bf59f(0x26c)][_0x1bf59f(0x257)]=![],this['laser'][_0x1bf59f(0x22c)]=!![],this['laser']['x']=this['x'])):this[_0x1bf59f(0x255)]=![],!this['attacking']?(this['atkBox']['x']=this['x']-this[_0x1bf59f(0x241)],this['atkBox']['y']=this['y']-this['range'],this[_0x1bf59f(0x224)]['w']=this['w']+this[_0x1bf59f(0x241)]*0x2,this['atkBox']['h']=this['h']+this[_0x1bf59f(0x241)]*0x2):!this[_0x1bf59f(0x274)]&&collided(this,player)&&(player[_0x1bf59f(0x240)]>0x0&&player[_0x1bf59f(0x24b)]==0x0&&(player[_0x1bf59f(0x240)]--,playerInterface['shake']=0x4,player[_0x1bf59f(0x204)]=!![])));}['render'](){const _0x4f35cb=_0x56d6cc;!this[_0x4f35cb(0x26c)][_0x4f35cb(0x257)]&&(this[_0x4f35cb(0x26c)][_0x4f35cb(0x252)](),this[_0x4f35cb(0x26c)]['render']()),this['dead']=![],this['attacking']?this['action']=0x1:this[_0x4f35cb(0x1fb)]=0x0,this[_0x4f35cb(0x259)]++,this[_0x4f35cb(0x259)]>this[_0x4f35cb(0x277)]&&(this[_0x4f35cb(0x268)]++,this['frameCounter']=0x0),this[_0x4f35cb(0x268)]>=this[_0x4f35cb(0x247)][this[_0x4f35cb(0x1fb)]][_0x4f35cb(0x212)]&&(this[_0x4f35cb(0x268)]=0x0),c[_0x4f35cb(0x24e)](SPRITESHEET,this[_0x4f35cb(0x247)][this['action']][this[_0x4f35cb(0x268)]]*GLOBAL[_0x4f35cb(0x1ed)]|0x0,this[_0x4f35cb(0x266)][this['action']][this[_0x4f35cb(0x268)]]*GLOBAL[_0x4f35cb(0x1ed)]|0x0,(this['w']+this['down'])*GLOBAL['tileSize'],this['h']*GLOBAL[_0x4f35cb(0x1ed)],map['x']+(this['x']-this[_0x4f35cb(0x279)])*GLOBAL['tileSize']*GLOBAL[_0x4f35cb(0x272)]|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL[_0x4f35cb(0x272)]|0x0,(this['w']+this[_0x4f35cb(0x279)])*GLOBAL[_0x4f35cb(0x1ed)]*GLOBAL[_0x4f35cb(0x272)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x4f35cb(0x272)]|0x0);}}class Map{constructor(){const _0x52cac7=_0x56d6cc;this['tilesWidth']=canvas[_0x52cac7(0x1f5)]/GLOBAL[_0x52cac7(0x1ed)]/GLOBAL[_0x52cac7(0x272)],this['tilesHeight']=canvas[_0x52cac7(0x1f6)]/GLOBAL[_0x52cac7(0x1ed)]/GLOBAL[_0x52cac7(0x272)],this['x']=0x0,this['y']=0x0,this[_0x52cac7(0x1f0)]=id('spritesheet-bg'),this[_0x52cac7(0x213)]=[0x0,0x0,0x0],this[_0x52cac7(0x22a)]=[0x0,0x96,0x12c],this[_0x52cac7(0x25d)]=0x1c2,this[_0x52cac7(0x1f3)]=0x96,this[_0x52cac7(0x254)]=[0x0,0x0,0x0],this[_0x52cac7(0x229)]=[0x0,0x0,0x0],this['bgTiles']=[],this[_0x52cac7(0x207)]=[],this[_0x52cac7(0x22d)]=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this[_0x52cac7(0x1ef)]={'x':0xa,'y':0x0},this['tiles']=[],this[_0x52cac7(0x261)]=[];}[_0x56d6cc(0x23f)](){const _0x4f9d62=_0x56d6cc;this['x']=-(player['x']-0x8)*GLOBAL[_0x4f9d62(0x1ed)]*GLOBAL[_0x4f9d62(0x272)],this['y']=-(player['y']-0x8)*GLOBAL[_0x4f9d62(0x1ed)]*GLOBAL['ratio'];}[_0x56d6cc(0x1eb)](){for(let _0x4afd94=0x0;_0x4afd94<this['tiles']['length'];_0x4afd94++){renderTile(this['tiles'][_0x4afd94]);}}['renderBgTiles'](){const _0x41de27=_0x56d6cc;for(let _0x53035b=0x0;_0x53035b<this['bgTiles'][_0x41de27(0x212)];_0x53035b++){renderTile(this[_0x41de27(0x23e)][_0x53035b]);}}[_0x56d6cc(0x208)](){const _0x4ff497=_0x56d6cc;for(let _0x3f63d7=0x0;_0x3f63d7<this[_0x4ff497(0x207)][_0x4ff497(0x212)];_0x3f63d7++){renderTile(this[_0x4ff497(0x222)][_0x3f63d7]);}}[_0x56d6cc(0x235)](){const _0x50adca=_0x56d6cc;for(let _0x1baadb=0x0;_0x1baadb<this[_0x50adca(0x261)][_0x50adca(0x212)];_0x1baadb++){this['enemies'][_0x1baadb][_0x50adca(0x25e)]();}}[_0x56d6cc(0x269)](){const _0x301d3f=_0x56d6cc;this['backgroundPosX'][0x1]+=0.6,this[_0x301d3f(0x254)][0x2]+=0.3;this[_0x301d3f(0x254)][0x0]>this[_0x301d3f(0x25d)]*GLOBAL[_0x301d3f(0x272)]&&(this[_0x301d3f(0x254)][0x0]-=this['backgroundSizeW']*GLOBAL[_0x301d3f(0x272)]);this[_0x301d3f(0x254)][0x1]>this[_0x301d3f(0x25d)]*GLOBAL[_0x301d3f(0x272)]&&(this[_0x301d3f(0x254)][0x1]-=this[_0x301d3f(0x25d)]*GLOBAL[_0x301d3f(0x272)]);this[_0x301d3f(0x254)][0x2]>this['backgroundSizeW']*GLOBAL[_0x301d3f(0x272)]&&(this[_0x301d3f(0x254)][0x2]-=this[_0x301d3f(0x25d)]*GLOBAL['ratio']);for(let _0x273cc8=-0x1;_0x273cc8<0x2;_0x273cc8++){c[_0x301d3f(0x24e)](this['backgroundSheet'],this[_0x301d3f(0x213)][0x2]|0x0,this['backgroundsY'][0x2]|0x0,this[_0x301d3f(0x25d)],this[_0x301d3f(0x1f3)],this[_0x301d3f(0x25d)]*GLOBAL[_0x301d3f(0x272)]*_0x273cc8+this['backgroundPosX'][0x2]+this['x']/0x8,this[_0x301d3f(0x229)][0x2],this[_0x301d3f(0x25d)]*GLOBAL[_0x301d3f(0x272)],this['backgroundSizeH']*GLOBAL[_0x301d3f(0x272)]);}for(let _0x43b64b=-0x1;_0x43b64b<0x2;_0x43b64b++){c[_0x301d3f(0x24e)](this[_0x301d3f(0x1f0)],this['backgroundsX'][0x1]|0x0,this[_0x301d3f(0x22a)][0x1]|0x0,this[_0x301d3f(0x25d)],this[_0x301d3f(0x1f3)],this[_0x301d3f(0x25d)]*GLOBAL['ratio']*_0x43b64b+this[_0x301d3f(0x254)][0x1]+this['x']/0x6,this['backgroundPosY'][0x1],this[_0x301d3f(0x25d)]*GLOBAL[_0x301d3f(0x272)],this['backgroundSizeH']*GLOBAL[_0x301d3f(0x272)]);}for(let _0x503759=-0x1;_0x503759<0x2;_0x503759++){c['drawImage'](this[_0x301d3f(0x1f0)],this[_0x301d3f(0x213)][0x0]|0x0,this[_0x301d3f(0x22a)][0x0]|0x0,this['backgroundSizeW'],this[_0x301d3f(0x1f3)],this['backgroundSizeW']*GLOBAL[_0x301d3f(0x272)]*_0x503759+this[_0x301d3f(0x254)][0x0]+this['x']/0x4,this['backgroundPosY'][0x0],this[_0x301d3f(0x25d)]*GLOBAL[_0x301d3f(0x272)],this[_0x301d3f(0x1f3)]*GLOBAL[_0x301d3f(0x272)]);}c[_0x301d3f(0x260)]=_0x301d3f(0x1f8),c[_0x301d3f(0x1f2)](0x0,this[_0x301d3f(0x22a)][0x0]+this['backgroundSizeH']*GLOBAL[_0x301d3f(0x272)],canvas[_0x301d3f(0x1f5)],this[_0x301d3f(0x1f3)]*GLOBAL[_0x301d3f(0x272)]);}[_0x56d6cc(0x24f)](){const _0x59cca9=_0x56d6cc;for(let _0x11d8de=0x0;_0x11d8de<this[_0x59cca9(0x261)]['length'];_0x11d8de++){this[_0x59cca9(0x261)][_0x11d8de][_0x59cca9(0x252)]();}}}var map=new Map(),mapTester=!![];window[_0x56d6cc(0x232)]?window[_0x56d6cc(0x232)][_0x56d6cc(0x228)]?(debug['log'](window['opener']['mapObject']),safeEval(window[_0x56d6cc(0x232)][_0x56d6cc(0x228)]),initializeMap()):(safeEval(window[_0x56d6cc(0x232)]['map']),initializeMap()):mapTester=![];function safeEval(_0x4f5756){const _0xaf6cd4=_0x56d6cc;typeof _0x4f5756===_0xaf6cd4(0x206)&&_0x4f5756!==null&&(map[_0xaf6cd4(0x22d)]=Object[_0xaf6cd4(0x20c)](_0x4f5756[_0xaf6cd4(0x22d)]),map[_0xaf6cd4(0x1ef)]=Object[_0xaf6cd4(0x20c)](_0x4f5756[_0xaf6cd4(0x1ef)]),console[_0xaf6cd4(0x22f)](_0xaf6cd4(0x20f)));}function renderTile(_0x35db97){const _0x4c99cf=_0x56d6cc;if(_0x35db97[_0x4c99cf(0x239)])c[_0x4c99cf(0x24e)](SPRITESHEET,tiles[_0x35db97[_0x4c99cf(0x24c)]][0x0]*GLOBAL[_0x4c99cf(0x1ed)]|0x0,tiles[_0x35db97[_0x4c99cf(0x24c)]][0x1]*GLOBAL[_0x4c99cf(0x1ed)]|0x0,_0x35db97['w']*GLOBAL['tileSize'],_0x35db97['h']*GLOBAL[_0x4c99cf(0x1ed)],map['x']+_0x35db97['x']*GLOBAL[_0x4c99cf(0x1ed)]*GLOBAL[_0x4c99cf(0x272)]|0x0,map['y']+_0x35db97['y']*GLOBAL[_0x4c99cf(0x1ed)]*GLOBAL['ratio']|0x0,_0x35db97['w']*GLOBAL[_0x4c99cf(0x1ed)]*GLOBAL[_0x4c99cf(0x272)]|0x0,_0x35db97['h']*GLOBAL[_0x4c99cf(0x1ed)]*GLOBAL[_0x4c99cf(0x272)]|0x0);else for(let _0x59d568=0x0;_0x59d568<_0x35db97['w'];_0x59d568++){for(let _0x48b0b5=0x0;_0x48b0b5<_0x35db97['h'];_0x48b0b5++){c[_0x4c99cf(0x24e)](SPRITESHEET,tiles[_0x35db97[_0x4c99cf(0x24c)]][0x0]*GLOBAL[_0x4c99cf(0x1ed)]|0x0,tiles[_0x35db97['type']][0x1]*GLOBAL[_0x4c99cf(0x1ed)]|0x0,GLOBAL[_0x4c99cf(0x1ed)],GLOBAL[_0x4c99cf(0x1ed)],map['x']+(_0x35db97['x']+_0x59d568)*GLOBAL['tileSize']*GLOBAL[_0x4c99cf(0x272)]|0x0,map['y']+(_0x35db97['y']+_0x48b0b5)*GLOBAL['tileSize']*GLOBAL[_0x4c99cf(0x272)]|0x0,GLOBAL[_0x4c99cf(0x1ed)]*GLOBAL[_0x4c99cf(0x272)]|0x0,GLOBAL[_0x4c99cf(0x1ed)]*GLOBAL[_0x4c99cf(0x272)]|0x0);}}}function gameLoop(){const _0x234741=_0x56d6cc;GLOBAL[_0x234741(0x225)]++,setTimeout(gameLoop,0x3e8/GLOBAL[_0x234741(0x250)]),c[_0x234741(0x238)](0x0,0x0,canvas[_0x234741(0x1f5)],canvas[_0x234741(0x1f6)]),c[_0x234741(0x260)]=_0x234741(0x278),c[_0x234741(0x1f2)](0x0,0x0,canvas[_0x234741(0x1f5)],canvas[_0x234741(0x1f6)]),renderStars(),map[_0x234741(0x269)](),map['renderTiles'](),map[_0x234741(0x242)](),player[_0x234741(0x252)](),checkCollisions(),map['computeEnemies'](),map['renderEnemies'](),player['render'](),playerInterface[_0x234741(0x25e)](),map[_0x234741(0x23f)](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0xdf7fcb=_0x56d6cc;player['x']=map[_0xdf7fcb(0x1ef)]['x'],player['y']=map['spawnPoint']['y'],map[_0xdf7fcb(0x222)]=map[_0xdf7fcb(0x22d)];var _0x2759e4=[];for(let _0x4a7a0c=map['tiles'][_0xdf7fcb(0x212)]-0x1;_0x4a7a0c>=0x0;_0x4a7a0c--){switch(map['tiles'][_0x4a7a0c]['type']){case 0xd:map[_0xdf7fcb(0x261)][_0xdf7fcb(0x258)](new Monster(map['tiles'][_0x4a7a0c]['x'],map[_0xdf7fcb(0x222)][_0x4a7a0c]['y'])),_0x2759e4[_0xdf7fcb(0x258)](_0x4a7a0c);break;case 0xe:map[_0xdf7fcb(0x261)][_0xdf7fcb(0x258)](new TeaMonster(map[_0xdf7fcb(0x222)][_0x4a7a0c]['x'],map['tiles'][_0x4a7a0c]['y'])),_0x2759e4[_0xdf7fcb(0x258)](_0x4a7a0c);break;case 0xf:map[_0xdf7fcb(0x261)][_0xdf7fcb(0x258)](new MageMonster(map['tiles'][_0x4a7a0c]['x'],map[_0xdf7fcb(0x222)][_0x4a7a0c]['y'])),_0x2759e4['push'](_0x4a7a0c);break;}}for(let _0x8406da=0x0;_0x8406da<_0x2759e4[_0xdf7fcb(0x212)];_0x8406da++){map['tiles'][_0xdf7fcb(0x20e)](_0x2759e4[_0x8406da],0x1);}}