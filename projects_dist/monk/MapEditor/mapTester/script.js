'use strict';const _0x473bec=_0x2d44;(function(_0x191aed,_0x4495cb){const _0x41a375=_0x2d44,_0x35ab32=_0x191aed();while(!![]){try{const _0x5d6296=-parseInt(_0x41a375(0x135))/0x1+-parseInt(_0x41a375(0x143))/0x2*(-parseInt(_0x41a375(0x11e))/0x3)+-parseInt(_0x41a375(0xe8))/0x4*(parseInt(_0x41a375(0x131))/0x5)+parseInt(_0x41a375(0x112))/0x6+-parseInt(_0x41a375(0xf6))/0x7*(parseInt(_0x41a375(0xc8))/0x8)+-parseInt(_0x41a375(0xde))/0x9+parseInt(_0x41a375(0x145))/0xa;if(_0x5d6296===_0x4495cb)break;else _0x35ab32['push'](_0x35ab32['shift']());}catch(_0x4a047f){_0x35ab32['push'](_0x35ab32['shift']());}}}(_0xfbbf,0xed35f));function id(_0x230ea){const _0x45731f=(function(){let _0x42cb79=!![];return function(_0x3ddf49,_0xc594c5){const _0x5e1b3a=_0x42cb79?function(){const _0x390218=_0x2d44;if(_0xc594c5){const _0x21d748=_0xc594c5[_0x390218(0xea)](_0x3ddf49,arguments);return _0xc594c5=null,_0x21d748;}}:function(){};return _0x42cb79=![],_0x5e1b3a;};}()),_0x5bf101=_0x45731f(this,function(){const _0x18d0f6=_0x2d44,_0x4e701f=function(){const _0x5ed718=_0x2d44;let _0x5ca701;try{_0x5ca701=Function(_0x5ed718(0x108)+_0x5ed718(0xe1)+');')();}catch(_0x12dbd4){_0x5ca701=window;}return _0x5ca701;},_0x12c74b=_0x4e701f(),_0xc0fbfb=new RegExp('[RMkyjDmOTRkfHKMHmUPYFXSCLwMfSkBJHKTBXDpHPHBSHCfWfIEWwwjfyWjQJWCBIZTYMKDvVIf]','g'),_0x3eab77=_0x18d0f6(0xd7)[_0x18d0f6(0x10e)](_0xc0fbfb,'')['split'](';');let _0x16df69,_0x2c2ac1,_0xbd8095,_0x3dd774;const _0x2e9e8f=function(_0x307bc7,_0x550d9f,_0x146634){const _0x2b1dab=_0x18d0f6;if(_0x307bc7[_0x2b1dab(0xdb)]!=_0x550d9f)return![];for(let _0x36f40b=0x0;_0x36f40b<_0x550d9f;_0x36f40b++){for(let _0x2eafad=0x0;_0x2eafad<_0x146634[_0x2b1dab(0xdb)];_0x2eafad+=0x2){if(_0x36f40b==_0x146634[_0x2eafad]&&_0x307bc7[_0x2b1dab(0xf5)](_0x36f40b)!=_0x146634[_0x2eafad+0x1])return![];}}return!![];},_0x31c9c5=function(_0x24f0be,_0x1f269e,_0x3872e2){return _0x2e9e8f(_0x1f269e,_0x3872e2,_0x24f0be);},_0x53123e=function(_0x30aeda,_0x52227d,_0x594f56){return _0x31c9c5(_0x52227d,_0x30aeda,_0x594f56);},_0x445b03=function(_0x4951f2,_0x4bceb,_0x2f16de){return _0x53123e(_0x4bceb,_0x2f16de,_0x4951f2);};for(let _0x4a93ed in _0x12c74b){if(_0x2e9e8f(_0x4a93ed,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x16df69=_0x4a93ed;break;}}for(let _0x227b34 in _0x12c74b[_0x16df69]){if(_0x445b03(0x6,_0x227b34,[0x5,0x6e,0x0,0x64])){_0x2c2ac1=_0x227b34;break;}}for(let _0x4ff0a5 in _0x12c74b[_0x16df69]){if(_0x53123e(_0x4ff0a5,[0x7,0x6e,0x0,0x6c],0x8)){_0xbd8095=_0x4ff0a5;break;}}if(!('~'>_0x2c2ac1))for(let _0x231633 in _0x12c74b[_0x16df69][_0xbd8095]){if(_0x31c9c5([0x7,0x65,0x0,0x68],_0x231633,0x8)){_0x3dd774=_0x231633;break;}}if(!_0x16df69||!_0x12c74b[_0x16df69])return;const _0x1534f6=_0x12c74b[_0x16df69][_0x2c2ac1],_0x354bd7=!!_0x12c74b[_0x16df69][_0xbd8095]&&_0x12c74b[_0x16df69][_0xbd8095][_0x3dd774],_0x32d243=_0x1534f6||_0x354bd7;if(!_0x32d243)return;let _0x253828=![];for(let _0x521f50=0x0;_0x521f50<_0x3eab77[_0x18d0f6(0xdb)];_0x521f50++){const _0x18d37b=_0x3eab77[_0x521f50],_0x2ffac8=_0x18d37b[0x0]===String[_0x18d0f6(0xef)](0x2e)?_0x18d37b[_0x18d0f6(0x100)](0x1):_0x18d37b,_0x1b2909=_0x32d243[_0x18d0f6(0xdb)]-_0x2ffac8[_0x18d0f6(0xdb)],_0x560516=_0x32d243[_0x18d0f6(0x10a)](_0x2ffac8,_0x1b2909),_0x192f8d=_0x560516!==-0x1&&_0x560516===_0x1b2909;_0x192f8d&&((_0x32d243['length']==_0x18d37b[_0x18d0f6(0xdb)]||_0x18d37b[_0x18d0f6(0x10a)]('.')===0x0)&&(_0x253828=!![]));}if(!_0x253828){const _0x35a3d0=new RegExp(_0x18d0f6(0x13c),'g'),_0x3d447e=_0x18d0f6(0xbf)[_0x18d0f6(0x10e)](_0x35a3d0,'');_0x12c74b[_0x16df69][_0xbd8095]=_0x3d447e;}});return _0x5bf101(),document['getElementById'](_0x230ea);}window[_0x473bec(0xfb)]=function(){initializeMap();};const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id('canvas');canvas[_0x473bec(0xdd)]=0x2d0,canvas[_0x473bec(0xee)]=0x1e0;var c=canvas['getContext']('2d');c[_0x473bec(0x120)]=![];const SPRITESHEET=id(_0x473bec(0x137)),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};class Star{constructor(){const _0x2f911f=_0x473bec;this['r']=Math[_0x2f911f(0xc6)]()*0x3|0x0,stars['push']({'x':Math[_0x2f911f(0xc6)]()*canvas[_0x2f911f(0xdd)],'y':Math[_0x2f911f(0xc6)]()*canvas[_0x2f911f(0xee)],'width':this['r'],'height':this['r'],'xVel':Math[_0x2f911f(0xc6)]()/0xa,'yVel':Math[_0x2f911f(0xc6)]()/0xa});}}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function renderStars(){const _0x5ed8fa=_0x473bec;for(let _0x5046d1=0x0;_0x5046d1<stars[_0x5ed8fa(0xdb)];_0x5046d1++){c[_0x5ed8fa(0x13f)](),c[_0x5ed8fa(0x12a)]='#ffffff',c[_0x5ed8fa(0x132)](stars[_0x5046d1]['x']|0x0*GLOBAL[_0x5ed8fa(0xeb)],stars[_0x5046d1]['y']|0x0*GLOBAL[_0x5ed8fa(0xeb)],stars[_0x5046d1]['width']*GLOBAL[_0x5ed8fa(0xeb)],stars[_0x5046d1][_0x5ed8fa(0xee)]*GLOBAL['ratio']),c[_0x5ed8fa(0x123)](),stars[_0x5046d1]['x']>canvas['width']&&(stars[_0x5046d1]['x']=0x0),stars[_0x5046d1]['y']>canvas[_0x5ed8fa(0xee)]&&(stars[_0x5046d1]['y']=0x0),stars[_0x5046d1]['x']+=stars[_0x5046d1][_0x5ed8fa(0x134)],stars[_0x5046d1]['y']+=stars[_0x5046d1][_0x5ed8fa(0x134)];}}function distribute(_0x44fb7d,_0x2fcf8d,_0x4a8dae){const _0x5907dc=_0x473bec;let _0x32a630=[];while(_0x2fcf8d[_0x5907dc(0xdb)]>_0x32a630[_0x5907dc(0xdb)]){if(_0x44fb7d>_0x4a8dae)_0x32a630[_0x5907dc(0x14b)](_0x4a8dae),_0x44fb7d-=_0x4a8dae;else _0x44fb7d!=0x0?(_0x32a630[_0x5907dc(0x14b)](_0x44fb7d),_0x44fb7d=0x0):_0x2fcf8d['length']>_0x32a630[_0x5907dc(0xdb)]&&_0x32a630[_0x5907dc(0x14b)](_0x44fb7d);}return _0x32a630;}function _0x2d44(_0x3d98c2,_0x39f570){const _0xc3fa43=_0xfbbf();return _0x2d44=function(_0x2e5cff,_0x25011a){_0x2e5cff=_0x2e5cff-0xbc;let _0x17e03e=_0xc3fa43[_0x2e5cff];return _0x17e03e;},_0x2d44(_0x3d98c2,_0x39f570);}class Interface{constructor(){const _0x59b34a=_0x473bec;this['shake']=0x0,this['healthMaxValue']=0x2,this[_0x59b34a(0xd4)]=[0x2,0x2,0x2],this[_0x59b34a(0xdc)]=[0x2,0x1,0x0],this[_0x59b34a(0x128)]=[0x8,0x8,0x8],this[_0x59b34a(0xe6)]=canvas[_0x59b34a(0xdd)]/0x10/0x2/GLOBAL[_0x59b34a(0xeb)]-this['health'][_0x59b34a(0xdb)]/0x2|0x0,this[_0x59b34a(0x12f)]=0x1,this[_0x59b34a(0x12c)],this[_0x59b34a(0xd8)];}[_0x473bec(0xc3)](){const _0x429c0e=_0x473bec;this[_0x429c0e(0xdf)]>0x0?(this['shakeAmountX']=Math[_0x429c0e(0xc6)]()*this[_0x429c0e(0xdf)]*0x2-this['shake'],this[_0x429c0e(0xd8)]=Math[_0x429c0e(0xc6)]()*this['shake']*0x2-this[_0x429c0e(0xdf)],this[_0x429c0e(0xdf)]--):(this[_0x429c0e(0x12c)]=0x0,this[_0x429c0e(0xd8)]=0x0);this[_0x429c0e(0xd4)]=distribute(player[_0x429c0e(0x148)],this[_0x429c0e(0xd4)],this['healthMaxValue']);for(let _0x2599e0=0x0;_0x2599e0<this['health'][_0x429c0e(0xdb)];_0x2599e0++){c[_0x429c0e(0xd9)](SPRITESHEET,this[_0x429c0e(0xdc)][this[_0x429c0e(0xd4)][_0x2599e0]]*GLOBAL[_0x429c0e(0xc7)]|0x0,this[_0x429c0e(0x128)][this[_0x429c0e(0xd4)][_0x2599e0]]*GLOBAL['tileSize']|0x0,GLOBAL[_0x429c0e(0xc7)],GLOBAL[_0x429c0e(0xc7)],this[_0x429c0e(0x12c)]+(this[_0x429c0e(0xe6)]+_0x2599e0)*GLOBAL['tileSize']*GLOBAL[_0x429c0e(0xeb)]|0x0,this[_0x429c0e(0xd8)]+this[_0x429c0e(0x12f)]*GLOBAL[_0x429c0e(0xc7)]*GLOBAL[_0x429c0e(0xeb)]|0x0,0x1*GLOBAL[_0x429c0e(0xc7)]*GLOBAL[_0x429c0e(0xeb)]|0x0,0x1*GLOBAL[_0x429c0e(0xc7)]*GLOBAL[_0x429c0e(0xeb)]|0x0);}}}var playerInterface=new Interface();class Player{constructor(){const _0x5c0151=_0x473bec;this['healthAmount']=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this['charging']=![],this[_0x5c0151(0x116)]=0x0,this['accel']=0.2,this[_0x5c0151(0x13a)]=0.3,this[_0x5c0151(0x142)]=![],this[_0x5c0151(0x134)]=0x0,this[_0x5c0151(0x14d)]=0x0,this['iFrame']=0x0,this['iFrameMax']=0x1e,this['attacked']=![],this[_0x5c0151(0x130)]=0x0,this[_0x5c0151(0x14f)]=0x0,this['currentFrame']=0x0,this['frameCounter']=0x0,this[_0x5c0151(0xd6)]=0x3,this['action']=0x0,this[_0x5c0151(0x109)]=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this[_0x5c0151(0xf0)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this[_0x5c0151(0xc9)]=0x0,this['f_frameCounter']=0x0,this['f_slowness']=0x1,this[_0x5c0151(0xcb)]=0x0,this[_0x5c0151(0xd1)]=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this[_0x5c0151(0x121)]=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this[_0x5c0151(0x101)]=0.035,this['jumpSpeed']=0.12,this[_0x5c0151(0xcf)]=![],this[_0x5c0151(0x12e)]=0.8,this['attacking']=0x0,this['hitbox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['col']={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this[_0x5c0151(0x129)]={'L':![],'R':![],'T':![],'B':![]},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}['fist'](_0x4adfbe){const _0x11e428=_0x473bec;_0x4adfbe!==this[_0x11e428(0xcb)]+0x1&&(this[_0x11e428(0xc9)]=0x0,this[_0x11e428(0x102)]=0x0);switch(_0x4adfbe){case 0x1:this[_0x11e428(0xcb)]=0x0,this[_0x11e428(0xbd)]['w']=this['w'],this[_0x11e428(0xbd)]['x']=this['x']-this[_0x11e428(0xbd)]['w'],this[_0x11e428(0xbd)]['h']=this['w']/0x2,this[_0x11e428(0xbd)]['y']=this['y']+this['h']/0x2-this['atkBox']['h']/0x2;break;case 0x2:this[_0x11e428(0xcb)]=0x1,this[_0x11e428(0xbd)]['w']=this['w'],this[_0x11e428(0xbd)]['x']=this['x']+this['w'],this['atkBox']['h']=this['w']/0x2,this[_0x11e428(0xbd)]['y']=this['y']+this['h']/0x2-this[_0x11e428(0xbd)]['h']/0x2;break;case 0x3:this['f_action']=0x2,this[_0x11e428(0xbd)]['w']=this['w']/0x2,this[_0x11e428(0xbd)]['x']=this['x']+this['w']/0x2-this['atkBox']['w']/0x2,this[_0x11e428(0xbd)]['h']=this['w'],this[_0x11e428(0xbd)]['y']=this['y']-this[_0x11e428(0xbd)]['h'];break;case 0x4:this[_0x11e428(0xcb)]=0x3,this[_0x11e428(0xbd)]['w']=this['w']/0x2,this[_0x11e428(0xbd)]['x']=this['x']+this['w']/0x2-this[_0x11e428(0xbd)]['w']/0x2,this[_0x11e428(0xbd)]['h']=this['w'],this['atkBox']['y']=this['y']+this['h'];break;}let _0xe525c2=0x0,_0x3daaed=![];while(!_0x3daaed&&_0xe525c2<map[_0x11e428(0x11f)][_0x11e428(0xdb)]){if(collided(this[_0x11e428(0xbd)],map[_0x11e428(0x11f)][_0xe525c2]))switch(_0x4adfbe){case 0x1:this[_0x11e428(0x130)]+=this['jumpSpeed']*(this['chargingAmount']/0x3),_0x3daaed=!![];break;case 0x2:this[_0x11e428(0x130)]-=this[_0x11e428(0xfe)]*(this[_0x11e428(0x116)]/0x3),_0x3daaed=!![];break;case 0x3:this['yVel']+=this['jumpSpeed']/0x2,_0x3daaed=!![];break;case 0x4:this[_0x11e428(0x129)]['B']&&(this[_0x11e428(0x14d)]-=this['jumpSpeed']*(this[_0x11e428(0x116)]/0x3));_0x3daaed=!![];break;}_0xe525c2++;}for(let _0x1913e2=0x0;_0x1913e2<map[_0x11e428(0xfa)][_0x11e428(0xdb)];_0x1913e2++){if(map[_0x11e428(0xfa)][_0x1913e2][_0x11e428(0xfc)]!==_0x11e428(0x13d)&&!map[_0x11e428(0xfa)][_0x1913e2][_0x11e428(0xc2)]){if(collided(this[_0x11e428(0xbd)],map[_0x11e428(0xfa)][_0x1913e2])){map[_0x11e428(0xfa)][_0x1913e2][_0x11e428(0xc2)]=!![];let _0x4994c1=this['x']+this['w']/0x2,_0xcccab7=this['y']+this['h']/0x2,_0x3d8dd1=map[_0x11e428(0xfa)][_0x1913e2]['x']-(this['x']+this['w']/0x2),_0x3e658c=map['enemies'][_0x1913e2]['y']-(this['y']+this['h']/0x2),_0x1dad76=Math['atan2'](_0x3e658c,_0x3d8dd1);map[_0x11e428(0xfa)][_0x1913e2][_0x11e428(0x134)]=Math[_0x11e428(0x103)](_0x1dad76)*map[_0x11e428(0xfa)][_0x1913e2]['speed'],map[_0x11e428(0xfa)][_0x1913e2][_0x11e428(0x14d)]=Math[_0x11e428(0x107)](_0x1dad76)*map[_0x11e428(0xfa)][_0x1913e2][_0x11e428(0xed)];}}}this[_0x11e428(0x116)]=0x0;}[_0x473bec(0xe0)](){const _0x6f4e26=_0x473bec;this[_0x6f4e26(0x14d)]<GLOBAL[_0x6f4e26(0xe7)]?!this[_0x6f4e26(0x129)]['B']&&(this[_0x6f4e26(0x14d)]+=this[_0x6f4e26(0x101)]):this[_0x6f4e26(0x14d)]=GLOBAL[_0x6f4e26(0xe7)];controls[_0x6f4e26(0x142)]&&(this['xVel']>-this[_0x6f4e26(0x13a)]&&(this[_0x6f4e26(0x129)]['B']?this[_0x6f4e26(0x134)]-=this[_0x6f4e26(0xca)]:this['xVel']-=this[_0x6f4e26(0xca)]/0x2));controls[_0x6f4e26(0xe3)]&&(this[_0x6f4e26(0x134)]<this[_0x6f4e26(0x13a)]&&(this[_0x6f4e26(0x129)]['B']?this['xVel']+=this['accel']:this[_0x6f4e26(0x134)]+=this[_0x6f4e26(0xca)]/0x2));this[_0x6f4e26(0x14d)]<0x0&&this[_0x6f4e26(0x149)]['T']&&(this[_0x6f4e26(0x14d)]=0x0);this[_0x6f4e26(0x129)]['B']?(Math[_0x6f4e26(0x118)](this['xVel'])>0.01?this['xVel']*=this[_0x6f4e26(0x12e)]*0.5:this['xVel']=0x0,this[_0x6f4e26(0xcf)]=![],this[_0x6f4e26(0x14d)]>0x0&&(this['yVel']=0x0)):Math[_0x6f4e26(0x118)](this[_0x6f4e26(0x134)])>0.01?this[_0x6f4e26(0x134)]*=this[_0x6f4e26(0x12e)]:this[_0x6f4e26(0x134)]=0x0;(this[_0x6f4e26(0x149)]['R']&&this[_0x6f4e26(0x134)]>0x0||this['col']['L']&&this[_0x6f4e26(0x134)]<0x0)&&(this[_0x6f4e26(0x134)]=0x0);this['x']+=this['xVel'],this['y']+=this[_0x6f4e26(0x14d)];if(controls[_0x6f4e26(0x113)]||controls['right2']||controls[_0x6f4e26(0x10f)]||controls[_0x6f4e26(0xe4)]){this['charging']=!![];if(controls[_0x6f4e26(0x113)])this['left']=!![];else controls[_0x6f4e26(0x151)]&&(this[_0x6f4e26(0x142)]=![]);}else this[_0x6f4e26(0xe9)]=![];this[_0x6f4e26(0xe9)]&&this['chargingAmount']<0x14&&this[_0x6f4e26(0x116)]++;if(controls[_0x6f4e26(0x117)])this[_0x6f4e26(0xc4)]=0x4,this[_0x6f4e26(0xc9)]=0x0,this[_0x6f4e26(0x102)]=0x0,this[_0x6f4e26(0xf2)](0x1);else{if(controls[_0x6f4e26(0xbe)])this['attacking']=0x4,this[_0x6f4e26(0xc9)]=0x0,this[_0x6f4e26(0x102)]=0x0,this['fist'](0x2);else{if(controls['upRel'])this[_0x6f4e26(0xc4)]=0x4,this[_0x6f4e26(0xc9)]=0x0,this[_0x6f4e26(0x102)]=0x0,this['fist'](0x3);else controls[_0x6f4e26(0xce)]&&(this[_0x6f4e26(0xc4)]=0x4,this[_0x6f4e26(0xc9)]=0x0,this[_0x6f4e26(0x102)]=0x0,this[_0x6f4e26(0xf2)](0x4));}}this[_0x6f4e26(0x130)]*=0.8,this['yVelExt']*=0.8,this['xVelExt']<0.01&&this[_0x6f4e26(0x130)]>-0.01&&(this[_0x6f4e26(0x130)]=0x0),this['yVelExt']<0.01&&this[_0x6f4e26(0x14f)]>-0.01&&(this[_0x6f4e26(0x14f)]=0x0),this['x']+=this[_0x6f4e26(0x130)],this['y']+=this[_0x6f4e26(0x14f)],this[_0x6f4e26(0x12d)]['x']=this['x']+this['w']/0x4,this[_0x6f4e26(0x12d)]['w']=this['w']/0x2,this[_0x6f4e26(0x12d)]['h']=this['h'],this[_0x6f4e26(0x12d)]['y']=this['y'];}[_0x473bec(0xc3)](){const _0xe8133e=_0x473bec;if(!this[_0xe8133e(0xe9)]){if(this[_0xe8133e(0x134)]>0x0)this[_0xe8133e(0x142)]=![];else this[_0xe8133e(0x134)]<0x0?this['left']=!![]:this[_0xe8133e(0x142)]?this[_0xe8133e(0xff)]=0x1:this[_0xe8133e(0xff)]=0x0;if(!this[_0xe8133e(0x129)]['B'])this[_0xe8133e(0x142)]?this[_0xe8133e(0xff)]=0x5:this[_0xe8133e(0xff)]=0x4;else{if(this[_0xe8133e(0x134)]!==0x0){if(!this['left'])player['action']=0x2,player[_0xe8133e(0x142)]=![];else this[_0xe8133e(0x142)]&&(player['action']=0x3,player[_0xe8133e(0x142)]=!![]);}}}this['frameCounter']++,this[_0xe8133e(0x11b)]>this[_0xe8133e(0xd6)]&&(this['currentFrame']++,this['frameCounter']=0x0),this[_0xe8133e(0xc0)]>=this[_0xe8133e(0x109)][this[_0xe8133e(0xff)]][_0xe8133e(0xdb)]&&(this[_0xe8133e(0xc0)]=0x0,this['charging']&&(this[_0xe8133e(0xc0)]=this['actionX'][this[_0xe8133e(0xff)]][_0xe8133e(0xdb)]-0x2)),this['attacked']&&(this[_0xe8133e(0xc0)]=0x0,this[_0xe8133e(0x140)]++%0x4&&(this[_0xe8133e(0xff)]=0x6)),this[_0xe8133e(0xe9)]&&(this['left']?this[_0xe8133e(0xff)]=0x8:this[_0xe8133e(0xff)]=0x7),this['iFrame']>this['iFrameMax']&&(this[_0xe8133e(0x119)]=![],this[_0xe8133e(0x140)]=0x0),c[_0xe8133e(0xd9)](SPRITESHEET,this[_0xe8133e(0x109)][this[_0xe8133e(0xff)]][this[_0xe8133e(0xc0)]]*GLOBAL[_0xe8133e(0xc7)]|0x0,this[_0xe8133e(0xf0)][this['action']][this[_0xe8133e(0xc0)]]*GLOBAL[_0xe8133e(0xc7)]|0x0,GLOBAL[_0xe8133e(0xc7)]*0x2,GLOBAL['tileSize']*0x2,map['x']+this['x']*GLOBAL[_0xe8133e(0xc7)]*GLOBAL[_0xe8133e(0xeb)]|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL[_0xe8133e(0xeb)]|0x0,this['w']*GLOBAL['tileSize']*GLOBAL[_0xe8133e(0xeb)]|0x0,this['h']*GLOBAL[_0xe8133e(0xc7)]*GLOBAL[_0xe8133e(0xeb)]|0x0),this['attacking']&&(this[_0xe8133e(0x102)]++,this[_0xe8133e(0x102)]>this[_0xe8133e(0xf4)]&&(this[_0xe8133e(0xc9)]++,this[_0xe8133e(0x102)]=0x0),this[_0xe8133e(0xc9)]>=this[_0xe8133e(0xd1)][this[_0xe8133e(0xcb)]]['length']&&(this[_0xe8133e(0xc9)]=0x3),c[_0xe8133e(0xd9)](SPRITESHEET,this[_0xe8133e(0xd1)][this[_0xe8133e(0xcb)]][this[_0xe8133e(0xc9)]]*GLOBAL[_0xe8133e(0xc7)]|0x0,this[_0xe8133e(0x121)][this['f_action']][this[_0xe8133e(0xc9)]]*GLOBAL[_0xe8133e(0xc7)]|0x0,GLOBAL[_0xe8133e(0xc7)]*this['atkBox']['w'],GLOBAL[_0xe8133e(0xc7)]*this[_0xe8133e(0xbd)]['h'],map['x']+this[_0xe8133e(0xbd)]['x']*GLOBAL[_0xe8133e(0xc7)]*GLOBAL['ratio']|0x0,map['y']+this['atkBox']['y']*GLOBAL['tileSize']*GLOBAL[_0xe8133e(0xeb)]|0x0,this['atkBox']['w']*GLOBAL['tileSize']*GLOBAL[_0xe8133e(0xeb)]|0x0,this[_0xe8133e(0xbd)]['h']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0),this['attacking']--);}}var player=new Player();setInterval(countFps,0x3e8);function countFps(){const _0x225c95=_0x473bec;id(_0x225c95(0x11a))[_0x225c95(0x125)]=_0x225c95(0xf3)+GLOBAL['fpsCounter'],GLOBAL[_0x225c95(0x150)]=0x0;}function displayDebug(){const _0x5cba72=_0x473bec;id('px')[_0x5cba72(0x125)]=_0x5cba72(0xec)+player['x'],id('py')[_0x5cba72(0x125)]=_0x5cba72(0x124)+player['y'],id('pg')[_0x5cba72(0x125)]=_0x5cba72(0x13b),id('pg')[_0x5cba72(0x125)]+=_0x5cba72(0xf1)+player['colBool']['L'],id('pg')[_0x5cba72(0x125)]+=_0x5cba72(0x14c)+player[_0x5cba72(0x129)]['R'],id('pg')[_0x5cba72(0x125)]+='<br>T:\x20'+player['colBool']['T'],id('pg')[_0x5cba72(0x125)]+='<br>B:\x20'+player[_0x5cba72(0x129)]['B'];}function checkCollisions(){const _0x15f82f=_0x473bec;let _0x1a7125=map[_0x15f82f(0x11f)],_0x216d8b=map[_0x15f82f(0xfa)],_0x35c654=_0x15f82f(0x115);player[_0x15f82f(0x149)]['L']=0x0,player[_0x15f82f(0x149)]['R']=0x0,player['col']['T']=0x0,player[_0x15f82f(0x149)]['B']=0x0,player[_0x15f82f(0x129)]['L']=![],player[_0x15f82f(0x129)]['R']=![],player[_0x15f82f(0x129)]['T']=![],player[_0x15f82f(0x129)]['B']=![];for(let _0x330130=0x0;_0x330130<_0x1a7125[_0x15f82f(0xdb)];_0x330130++){if(collided(player,_0x1a7125[_0x330130])){_0x35c654=colCheck(player,_0x1a7125[_0x330130]);switch(_0x35c654){case'l':player[_0x15f82f(0x14d)]<0x0&&(player[_0x15f82f(0x149)]['L']>player['xVel']&&(player[_0x15f82f(0x129)]['L']=!![],player[_0x15f82f(0x134)]=0x0));break;case'r':player['xVel']>0x0&&(player[_0x15f82f(0x149)]['R']<player['xVel']&&(player[_0x15f82f(0x129)]['R']=!![],player[_0x15f82f(0x134)]=0x0));break;case't':player['yVel']<0x0&&(player[_0x15f82f(0x14d)]=0x0);player[_0x15f82f(0x129)]['T']=!![];break;case'b':player[_0x15f82f(0x14d)]>0x0&&(player['yVel']=0x0);player[_0x15f82f(0x129)]['B']=!![];break;}}}player[_0x15f82f(0x129)]['B']&&(player['col']['B']-=0.015625),player['colBool']['L']&&(player[_0x15f82f(0x149)]['L']-=0.015625),player[_0x15f82f(0x129)]['R']&&(player[_0x15f82f(0x149)]['R']-=0.015625),player['x']-=player[_0x15f82f(0x149)]['R']-player[_0x15f82f(0x149)]['L'],player['y']-=player[_0x15f82f(0x149)]['B']-player[_0x15f82f(0x149)]['T'];}class Monster{constructor(_0xdd620d,_0x8cba27){const _0x400d8e=_0x473bec;this[_0x400d8e(0xfc)]=_0x400d8e(0xfd),this['x']=_0xdd620d,this['y']=_0x8cba27,this['w']=0x1,this['h']=0x1,this[_0x400d8e(0x134)]=0x0,this[_0x400d8e(0x14d)]=0x0,this[_0x400d8e(0xed)]=0.1,this[_0x400d8e(0x139)]=0xa,this['attacking']=![],this[_0x400d8e(0x11c)]=0x3,this[_0x400d8e(0xc2)]=![],this[_0x400d8e(0xc5)]=![],this[_0x400d8e(0xc0)]=0x0,this[_0x400d8e(0x11b)]=0x0,this['slowness']=0x3,this['hitbox']={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this[_0x400d8e(0xff)]=0x0,this[_0x400d8e(0x109)]=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this['actionY']=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this[_0x400d8e(0xbd)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x473bec(0xe0)](){const _0x4c57d8=_0x473bec;this[_0x4c57d8(0x139)]--;if(this[_0x4c57d8(0x139)]<=0x0){this[_0x4c57d8(0x139)]=0xa;if(!this['attacking']){this[_0x4c57d8(0xbd)]['x']=this['x']-this['range'],this['atkBox']['y']=this['y']-this[_0x4c57d8(0x11c)],this[_0x4c57d8(0xbd)]['w']=this['w']+this[_0x4c57d8(0x11c)]*0x2,this[_0x4c57d8(0xbd)]['h']=this['h']+this[_0x4c57d8(0x11c)]*0x2;if(collided(this[_0x4c57d8(0xbd)],player)){this[_0x4c57d8(0xc4)]=!![];let _0x84355c=this['x']+this['w']/0x2,_0x109b9f=this['y']+this['h']/0x2,_0x5d8017=_0x84355c-(player['x']+player['w']/0x2),_0x146130=_0x109b9f-(player['y']+player['h']/0x2),_0x38f6a4=Math[_0x4c57d8(0x152)](_0x146130,_0x5d8017);this[_0x4c57d8(0x134)]=-Math[_0x4c57d8(0x103)](_0x38f6a4)*this[_0x4c57d8(0xed)],this[_0x4c57d8(0x14d)]=-Math[_0x4c57d8(0x107)](_0x38f6a4)*this[_0x4c57d8(0xed)];}}else!this[_0x4c57d8(0xc2)]&&collided(this,player)&&(player[_0x4c57d8(0x148)]>0x0&&player[_0x4c57d8(0x140)]==0x0&&(player[_0x4c57d8(0x148)]--,playerInterface[_0x4c57d8(0xdf)]=0x4,player['attacked']=!![]));}this['x']+=this[_0x4c57d8(0x134)],this['y']+=this[_0x4c57d8(0x14d)],this[_0x4c57d8(0x12d)]['x']=this['x']+this['w']/0x2,this[_0x4c57d8(0x12d)]['y']=this['y'];}[_0x473bec(0xc3)](){const _0x178dbc=_0x473bec;this[_0x178dbc(0xc2)]&&!this[_0x178dbc(0xc5)]&&(this[_0x178dbc(0xff)]=0x1,this[_0x178dbc(0x11b)]=0x0,this[_0x178dbc(0xc0)]=0x0,this[_0x178dbc(0xc5)]=!![]),this[_0x178dbc(0x11b)]++,this[_0x178dbc(0x11b)]>this[_0x178dbc(0xd6)]&&(this[_0x178dbc(0xc0)]++,this[_0x178dbc(0x11b)]=0x0),this[_0x178dbc(0xc0)]>=this[_0x178dbc(0x109)][this['action']][_0x178dbc(0xdb)]&&(this[_0x178dbc(0xc0)]=0x0,this['deathAnimation']&&(this[_0x178dbc(0xff)]=0x2)),c[_0x178dbc(0xd9)](SPRITESHEET,this['actionX'][this[_0x178dbc(0xff)]][this[_0x178dbc(0xc0)]]*GLOBAL[_0x178dbc(0xc7)]|0x0,this[_0x178dbc(0xf0)][this[_0x178dbc(0xff)]][this[_0x178dbc(0xc0)]]*GLOBAL[_0x178dbc(0xc7)]|0x0,GLOBAL[_0x178dbc(0xc7)],GLOBAL['tileSize'],map['x']+this['x']*GLOBAL['tileSize']*GLOBAL[_0x178dbc(0xeb)]|0x0,map['y']+this['y']*GLOBAL[_0x178dbc(0xc7)]*GLOBAL[_0x178dbc(0xeb)]|0x0,this['w']*GLOBAL[_0x178dbc(0xc7)]*GLOBAL[_0x178dbc(0xeb)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x178dbc(0xeb)]|0x0);}}class TeaMonster{constructor(_0x21ccbf,_0x22480c){const _0x29371f=_0x473bec;this['x']=_0x21ccbf,this['y']=_0x22480c,this['w']=0x1,this['h']=0x1,this[_0x29371f(0x134)]=0x0,this[_0x29371f(0x14d)]=0x0,this['speed']=0.1,this[_0x29371f(0x139)]=0xa,this['attacking']=![],this[_0x29371f(0x11c)]=0x3,this[_0x29371f(0xc2)]=![],this[_0x29371f(0xc5)]=![],this['currentFrame']=0x0,this['frameCounter']=0x0,this['type']=_0x29371f(0x13d),this[_0x29371f(0xc2)]=![],this['slowness']=0x3,this[_0x29371f(0xcd)]=0x0,this[_0x29371f(0x11d)]=0x0,this[_0x29371f(0x10c)]=0x0,this['w']=0x3,this['h']=0x3,this['action']=0x0,this['hitbox']={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x29371f(0x109)]=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this[_0x29371f(0xf0)]=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}[_0x473bec(0xe0)](){const _0xfe95d5=_0x473bec;this[_0xfe95d5(0x12d)]['x']=this['x']-this['down'],this[_0xfe95d5(0x12d)]['y']=this['y']+this['down'],this[_0xfe95d5(0x12d)]['w']=this['w']+this['down'],this[_0xfe95d5(0x12d)]['h']=this['h']-this[_0xfe95d5(0x10c)],this[_0xfe95d5(0x10c)]&&this[_0xfe95d5(0x11d)]===0x1&&(collided(this,player)&&(player[_0xfe95d5(0x140)]==0x0&&(player[_0xfe95d5(0x119)]=!![],player[_0xfe95d5(0x130)]=-0x2,player[_0xfe95d5(0x148)]-=0x2,player[_0xfe95d5(0x148)]<0x0&&(player['healthAmount']=0x0))));}[_0x473bec(0xc3)](){const _0x304582=_0x473bec;this[_0x304582(0xc2)]=![],this['frameCounter']++,this[_0x304582(0x11b)]>this[_0x304582(0xd6)]&&(this[_0x304582(0xc0)]++,this['frameCounter']=0x0),this[_0x304582(0xc0)]>=this['actionX'][this[_0x304582(0xff)]][_0x304582(0xdb)]&&(this[_0x304582(0xc0)]=0x0,this[_0x304582(0xff)]==0x1&&(this[_0x304582(0xff)]=0x2),this['action']==0x2&&this[_0x304582(0xcd)]++==0x2&&(this[_0x304582(0xff)]=0x3),this[_0x304582(0xff)]==0x3&&(this[_0x304582(0x10c)]=0x1,this[_0x304582(0x11d)]++,this[_0x304582(0x11d)]==0x3&&(this['down']=0x0,this[_0x304582(0xff)]=0x0,this[_0x304582(0x11d)]=0x0,this['atkCounter']=0x0))),player['x']>this['x']-this[_0x304582(0x11c)]&&this[_0x304582(0xff)]<0x1&&(this[_0x304582(0xff)]=0x1,this['currentFrame']=0x0,this['frameCounter']=0x0),c['drawImage'](SPRITESHEET,this['actionX'][this[_0x304582(0xff)]][this[_0x304582(0xc0)]]*GLOBAL[_0x304582(0xc7)]|0x0,this[_0x304582(0xf0)][this[_0x304582(0xff)]][this[_0x304582(0xc0)]]*GLOBAL[_0x304582(0xc7)]|0x0,(this['w']+this['down'])*GLOBAL[_0x304582(0xc7)],this['h']*GLOBAL[_0x304582(0xc7)],map['x']+(this['x']-this[_0x304582(0x10c)])*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x304582(0xc7)]*GLOBAL[_0x304582(0xeb)]|0x0,(this['w']+this[_0x304582(0x10c)])*GLOBAL[_0x304582(0xc7)]*GLOBAL[_0x304582(0xeb)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0);}}function _0xfbbf(){const _0x1d1c98=['tileSize','18240WAVDWK','f_currentFrame','accel','f_action','backgroundsX','atkCounter','downRel','jumping','tilesWidth','fistX','computeEnemies','tilesHeight','health','clearRect','slowness','RsMkayjDmOTRkfHaKMnHtonamUPndYreFX.githuSbCL.wMfiSko;lBJoHcKTBXDapHPHBSHlhCfWosfIEtWwwjfyWjQJWCBIZTYMKDvVIf','shakeAmountY','drawImage','safe\x20eval','length','heartsX','width','695502CwbUTI','shake','compute','{}.constructor(\x22return\x20this\x22)(\x20)','create','right','down2','mage','healthX','terminalVel','6344pyRxdk','charging','apply','ratio','x:\x20','speed','height','fromCharCode','actionY','<br>L:\x20','fist','FPS:\x20','f_slowness','charCodeAt','5033QePIfG','renderTiles','backgroundSheet','backgroundPosX','enemies','onload','type','monster','jumpSpeed','action','slice','gForce','f_frameCounter','cos','renderEnemies','log','disabled','sin','return\x20(function()\x20','actionX','indexOf','spritesheet-bg','down','backgroundPosY','replace','up2','backgroundSizeH','#20394f','10954236qcepJw','left2','#08141e','none','chargingAmount','leftRel','abs','attacked','fps','frameCounter','range','downCounter','14244QFcsRR','tiles','imageSmoothingEnabled','fistY','bgTiles','stroke','y:\x20','innerHTML','renderFgTiles','spawnPoint','heartsY','colBool','fillStyle','follow','shakeAmountX','hitbox','friction','healthY','xVelExt','4515zjJJJM','fillRect','backgroundSizeW','xVel','944692hgeuTq','laser','spritesheet','moveCamera','frames','maxSpeed','<br>Collisions\x20','[EqyDcUGJZTpKUiDjcyFCYNdSQXidXVd]','tea','fgTiles','fill','iFrame','map','left','136aPExoZ','opener','29164930ejSobP','distance','renderBgTiles','healthAmount','col','stack','push','<br>R:\x20','yVel','mapObject','yVelExt','fpsCounter','right2','atan2','splice','backgroundsY','atkBox','rightRel','abEoqut:yblDankcUGJZTpKUiDjcyFCYNdSQXidXVd','currentFrame','attack','dead','render','attacking','deathAnimation','random'];_0xfbbf=function(){return _0x1d1c98;};return _0xfbbf();}class MageAttack{constructor(_0x5871c2,_0x5f42c5){const _0x3f675d=_0x473bec;this['x']=_0x5871c2,this['y']=0x0,this['w']=0x2,this['h']=0xf,this[_0x3f675d(0xc0)]=0x0,this['frameCounter']=0x0,this['type']=_0x3f675d(0xc1),this[_0x3f675d(0x106)]=!![],this[_0x3f675d(0xd6)]=0x3,this[_0x3f675d(0xc4)]=![],this[_0x3f675d(0xff)]=0x0,this['actionX']=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this[_0x3f675d(0xf0)]=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this[_0x3f675d(0x146)]=0x0,this[_0x3f675d(0xed)]=0.3,this[_0x3f675d(0x12b)]=!![],this[_0x3f675d(0x12d)]={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}[_0x473bec(0xe0)](){const _0x1e1612=_0x473bec;this[_0x1e1612(0x146)]=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this[_0x1e1612(0x12b)]){if(this[_0x1e1612(0x146)]<0x0)this['x']+=this['distance']/0xa;else this[_0x1e1612(0x146)]>0x0&&(this['x']+=this[_0x1e1612(0x146)]/0xa);}this[_0x1e1612(0x12d)]['x']=this['x']+(this['w']-this[_0x1e1612(0x12d)]['w'])/0x2,this[_0x1e1612(0xc0)]>0x5&&this[_0x1e1612(0xc0)]<0x9&&(this['follow']=![],collided(this,player)&&(player[_0x1e1612(0x148)]>0x0&&player[_0x1e1612(0x140)]==0x0&&(player[_0x1e1612(0x148)]-=0x2,playerInterface['shake']=0x4,player[_0x1e1612(0x119)]=!![])));}[_0x473bec(0xc3)](){const _0x492223=_0x473bec;this['frameCounter']++,this['frameCounter']>this[_0x492223(0xd6)]&&(this[_0x492223(0xc0)]++,this['frameCounter']=0x0),this[_0x492223(0xc0)]>=this[_0x492223(0x109)][this['action']][_0x492223(0xdb)]&&(this['currentFrame']=0x0,this[_0x492223(0x106)]=!![]),c[_0x492223(0xd9)](SPRITESHEET,this[_0x492223(0x109)][this['action']][this[_0x492223(0xc0)]]*GLOBAL['tileSize']|0x0,this['actionY'][this[_0x492223(0xff)]][this[_0x492223(0xc0)]]*GLOBAL['tileSize']|0x0,this['w']*GLOBAL[_0x492223(0xc7)],this['h']*GLOBAL[_0x492223(0xc7)],map['x']+this['x']*GLOBAL[_0x492223(0xc7)]*GLOBAL['ratio']|0x0,this['y']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,this['w']*GLOBAL['tileSize']*GLOBAL[_0x492223(0xeb)]|0x0,this['h']*GLOBAL[_0x492223(0xc7)]*GLOBAL[_0x492223(0xeb)]|0x0);}}class MageMonster{constructor(_0x3284e5,_0x75f3d8){const _0x3ea526=_0x473bec;this['x']=_0x3284e5,this['y']=_0x75f3d8,this['w']=0x1,this['h']=0x1,this['xVel']=0x0,this[_0x3ea526(0x14d)]=0x0,this['speed']=0.1,this[_0x3ea526(0x139)]=0xa,this[_0x3ea526(0xc4)]=![],this['range']=0x4,this[_0x3ea526(0xc2)]=![],this[_0x3ea526(0xc5)]=![],this['currentFrame']=0x0,this['frameCounter']=0x0,this['type']=_0x3ea526(0xe5),this['dead']=![],this['slowness']=0x3,this[_0x3ea526(0xcd)]=0x0,this[_0x3ea526(0x11d)]=0x0,this['down']=0x0,this['w']=0x2,this['h']=0x2,this['action']=0x0,this[_0x3ea526(0x12d)]={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this[_0x3ea526(0xbd)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x3ea526(0x136)]=new MageAttack(0x0,0x0),this[_0x3ea526(0x109)]=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this[_0x3ea526(0xf0)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}[_0x473bec(0xe0)](){const _0x50817b=_0x473bec;this['frames']--,this[_0x50817b(0x139)]<=0x0&&(this['frames']=0xa,collided(this[_0x50817b(0xbd)],player)?(this[_0x50817b(0xc4)]=!![],this['laser']['disabled']&&(this[_0x50817b(0x136)][_0x50817b(0x106)]=![],this[_0x50817b(0x136)]['follow']=!![],this[_0x50817b(0x136)]['x']=this['x'])):this[_0x50817b(0xc4)]=![],!this[_0x50817b(0xc4)]?(this['atkBox']['x']=this['x']-this[_0x50817b(0x11c)],this[_0x50817b(0xbd)]['y']=this['y']-this['range'],this[_0x50817b(0xbd)]['w']=this['w']+this[_0x50817b(0x11c)]*0x2,this[_0x50817b(0xbd)]['h']=this['h']+this[_0x50817b(0x11c)]*0x2):!this['dead']&&collided(this,player)&&(player[_0x50817b(0x148)]>0x0&&player[_0x50817b(0x140)]==0x0&&(player[_0x50817b(0x148)]--,playerInterface[_0x50817b(0xdf)]=0x4,player[_0x50817b(0x119)]=!![])));}[_0x473bec(0xc3)](){const _0x157694=_0x473bec;!this[_0x157694(0x136)]['disabled']&&(this[_0x157694(0x136)][_0x157694(0xe0)](),this[_0x157694(0x136)]['render']()),this[_0x157694(0xc2)]=![],this[_0x157694(0xc4)]?this[_0x157694(0xff)]=0x1:this['action']=0x0,this['frameCounter']++,this[_0x157694(0x11b)]>this[_0x157694(0xd6)]&&(this[_0x157694(0xc0)]++,this[_0x157694(0x11b)]=0x0),this[_0x157694(0xc0)]>=this[_0x157694(0x109)][this['action']]['length']&&(this[_0x157694(0xc0)]=0x0),c[_0x157694(0xd9)](SPRITESHEET,this[_0x157694(0x109)][this['action']][this['currentFrame']]*GLOBAL[_0x157694(0xc7)]|0x0,this['actionY'][this[_0x157694(0xff)]][this[_0x157694(0xc0)]]*GLOBAL['tileSize']|0x0,(this['w']+this['down'])*GLOBAL[_0x157694(0xc7)],this['h']*GLOBAL[_0x157694(0xc7)],map['x']+(this['x']-this[_0x157694(0x10c)])*GLOBAL[_0x157694(0xc7)]*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x157694(0xc7)]*GLOBAL[_0x157694(0xeb)]|0x0,(this['w']+this[_0x157694(0x10c)])*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x157694(0xeb)]|0x0);}}class Map{constructor(){const _0x39db1c=_0x473bec;this[_0x39db1c(0xd0)]=canvas[_0x39db1c(0xdd)]/GLOBAL[_0x39db1c(0xc7)]/GLOBAL[_0x39db1c(0xeb)],this[_0x39db1c(0xd3)]=canvas['height']/GLOBAL['tileSize']/GLOBAL[_0x39db1c(0xeb)],this['x']=0x0,this['y']=0x0,this['backgroundSheet']=id(_0x39db1c(0x10b)),this[_0x39db1c(0xcc)]=[0x0,0x0,0x0],this[_0x39db1c(0xbc)]=[0x0,0x96,0x12c],this[_0x39db1c(0x133)]=0x1c2,this['backgroundSizeH']=0x96,this[_0x39db1c(0xf9)]=[0x0,0x0,0x0],this[_0x39db1c(0x10d)]=[0x0,0x0,0x0],this['bgTiles']=[],this[_0x39db1c(0x13e)]=[],this[_0x39db1c(0x141)]=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this[_0x39db1c(0x127)]={'x':0xa,'y':0x0},this[_0x39db1c(0x11f)]=[],this[_0x39db1c(0xfa)]=[];}['moveCamera'](){const _0x55d6d4=_0x473bec;this['x']=-(player['x']-0x8)*GLOBAL[_0x55d6d4(0xc7)]*GLOBAL[_0x55d6d4(0xeb)],this['y']=-(player['y']-0x8)*GLOBAL[_0x55d6d4(0xc7)]*GLOBAL[_0x55d6d4(0xeb)];}[_0x473bec(0xf7)](){const _0x37d5e2=_0x473bec;for(let _0x2ec864=0x0;_0x2ec864<this[_0x37d5e2(0x11f)]['length'];_0x2ec864++){renderTile(this['tiles'][_0x2ec864]);}}[_0x473bec(0x147)](){const _0x275f55=_0x473bec;for(let _0x5abf1a=0x0;_0x5abf1a<this[_0x275f55(0x122)][_0x275f55(0xdb)];_0x5abf1a++){renderTile(this['bgTiles'][_0x5abf1a]);}}[_0x473bec(0x126)](){const _0x578fba=_0x473bec;for(let _0x34a424=0x0;_0x34a424<this[_0x578fba(0x13e)][_0x578fba(0xdb)];_0x34a424++){renderTile(this[_0x578fba(0x11f)][_0x34a424]);}}['renderEnemies'](){const _0x2bc625=_0x473bec;for(let _0xdc87c9=0x0;_0xdc87c9<this[_0x2bc625(0xfa)]['length'];_0xdc87c9++){this['enemies'][_0xdc87c9]['render']();}}['renderBackground'](){const _0xf17549=_0x473bec;this[_0xf17549(0xf9)][0x1]+=0.6,this[_0xf17549(0xf9)][0x2]+=0.3;this[_0xf17549(0xf9)][0x0]>this[_0xf17549(0x133)]*GLOBAL[_0xf17549(0xeb)]&&(this[_0xf17549(0xf9)][0x0]-=this['backgroundSizeW']*GLOBAL[_0xf17549(0xeb)]);this[_0xf17549(0xf9)][0x1]>this[_0xf17549(0x133)]*GLOBAL['ratio']&&(this[_0xf17549(0xf9)][0x1]-=this[_0xf17549(0x133)]*GLOBAL[_0xf17549(0xeb)]);this[_0xf17549(0xf9)][0x2]>this[_0xf17549(0x133)]*GLOBAL[_0xf17549(0xeb)]&&(this['backgroundPosX'][0x2]-=this[_0xf17549(0x133)]*GLOBAL[_0xf17549(0xeb)]);for(let _0x4b0eef=-0x1;_0x4b0eef<0x2;_0x4b0eef++){c[_0xf17549(0xd9)](this[_0xf17549(0xf8)],this[_0xf17549(0xcc)][0x2]|0x0,this['backgroundsY'][0x2]|0x0,this[_0xf17549(0x133)],this[_0xf17549(0x110)],this[_0xf17549(0x133)]*GLOBAL[_0xf17549(0xeb)]*_0x4b0eef+this[_0xf17549(0xf9)][0x2]+this['x']/0x8,this[_0xf17549(0x10d)][0x2],this[_0xf17549(0x133)]*GLOBAL['ratio'],this[_0xf17549(0x110)]*GLOBAL['ratio']);}for(let _0x5ef390=-0x1;_0x5ef390<0x2;_0x5ef390++){c[_0xf17549(0xd9)](this['backgroundSheet'],this[_0xf17549(0xcc)][0x1]|0x0,this[_0xf17549(0xbc)][0x1]|0x0,this[_0xf17549(0x133)],this[_0xf17549(0x110)],this['backgroundSizeW']*GLOBAL[_0xf17549(0xeb)]*_0x5ef390+this[_0xf17549(0xf9)][0x1]+this['x']/0x6,this['backgroundPosY'][0x1],this[_0xf17549(0x133)]*GLOBAL[_0xf17549(0xeb)],this[_0xf17549(0x110)]*GLOBAL[_0xf17549(0xeb)]);}for(let _0x1504e0=-0x1;_0x1504e0<0x2;_0x1504e0++){c[_0xf17549(0xd9)](this['backgroundSheet'],this[_0xf17549(0xcc)][0x0]|0x0,this[_0xf17549(0xbc)][0x0]|0x0,this['backgroundSizeW'],this[_0xf17549(0x110)],this['backgroundSizeW']*GLOBAL[_0xf17549(0xeb)]*_0x1504e0+this[_0xf17549(0xf9)][0x0]+this['x']/0x4,this[_0xf17549(0x10d)][0x0],this[_0xf17549(0x133)]*GLOBAL[_0xf17549(0xeb)],this[_0xf17549(0x110)]*GLOBAL['ratio']);}c[_0xf17549(0x12a)]=_0xf17549(0x111),c[_0xf17549(0x132)](0x0,this[_0xf17549(0xbc)][0x0]+this[_0xf17549(0x110)]*GLOBAL[_0xf17549(0xeb)],canvas[_0xf17549(0xdd)],this[_0xf17549(0x110)]*GLOBAL['ratio']);}['computeEnemies'](){const _0x1ec244=_0x473bec;for(let _0x720ec1=0x0;_0x720ec1<this[_0x1ec244(0xfa)][_0x1ec244(0xdb)];_0x720ec1++){this[_0x1ec244(0xfa)][_0x720ec1][_0x1ec244(0xe0)]();}}}var map=new Map(),mapTester=!![];window[_0x473bec(0x144)]?window['opener'][_0x473bec(0x14e)]?(debug[_0x473bec(0x105)](window[_0x473bec(0x144)]['mapObject']),safeEval(window[_0x473bec(0x144)][_0x473bec(0x14e)]),initializeMap()):(safeEval(window[_0x473bec(0x144)][_0x473bec(0x141)]),initializeMap()):mapTester=![];function safeEval(_0x3dbead){const _0x5b4d02=_0x473bec;typeof _0x3dbead==='object'&&_0x3dbead!==null&&(map[_0x5b4d02(0x141)]=Object[_0x5b4d02(0xe2)](_0x3dbead[_0x5b4d02(0x141)]),map[_0x5b4d02(0x127)]=Object[_0x5b4d02(0xe2)](_0x3dbead[_0x5b4d02(0x127)]),console[_0x5b4d02(0x105)](_0x5b4d02(0xda)));}function renderTile(_0x3414af){const _0x2b299b=_0x473bec;if(_0x3414af[_0x2b299b(0x14a)])c[_0x2b299b(0xd9)](SPRITESHEET,tiles[_0x3414af[_0x2b299b(0xfc)]][0x0]*GLOBAL['tileSize']|0x0,tiles[_0x3414af[_0x2b299b(0xfc)]][0x1]*GLOBAL[_0x2b299b(0xc7)]|0x0,_0x3414af['w']*GLOBAL['tileSize'],_0x3414af['h']*GLOBAL[_0x2b299b(0xc7)],map['x']+_0x3414af['x']*GLOBAL[_0x2b299b(0xc7)]*GLOBAL[_0x2b299b(0xeb)]|0x0,map['y']+_0x3414af['y']*GLOBAL['tileSize']*GLOBAL[_0x2b299b(0xeb)]|0x0,_0x3414af['w']*GLOBAL[_0x2b299b(0xc7)]*GLOBAL[_0x2b299b(0xeb)]|0x0,_0x3414af['h']*GLOBAL[_0x2b299b(0xc7)]*GLOBAL[_0x2b299b(0xeb)]|0x0);else for(let _0x2c014b=0x0;_0x2c014b<_0x3414af['w'];_0x2c014b++){for(let _0x1d957b=0x0;_0x1d957b<_0x3414af['h'];_0x1d957b++){c[_0x2b299b(0xd9)](SPRITESHEET,tiles[_0x3414af[_0x2b299b(0xfc)]][0x0]*GLOBAL[_0x2b299b(0xc7)]|0x0,tiles[_0x3414af[_0x2b299b(0xfc)]][0x1]*GLOBAL['tileSize']|0x0,GLOBAL[_0x2b299b(0xc7)],GLOBAL['tileSize'],map['x']+(_0x3414af['x']+_0x2c014b)*GLOBAL['tileSize']*GLOBAL[_0x2b299b(0xeb)]|0x0,map['y']+(_0x3414af['y']+_0x1d957b)*GLOBAL[_0x2b299b(0xc7)]*GLOBAL[_0x2b299b(0xeb)]|0x0,GLOBAL[_0x2b299b(0xc7)]*GLOBAL[_0x2b299b(0xeb)]|0x0,GLOBAL[_0x2b299b(0xc7)]*GLOBAL[_0x2b299b(0xeb)]|0x0);}}}function gameLoop(){const _0x2da331=_0x473bec;GLOBAL[_0x2da331(0x150)]++,setTimeout(gameLoop,0x3e8/GLOBAL['FPS']),c[_0x2da331(0xd5)](0x0,0x0,canvas[_0x2da331(0xdd)],canvas[_0x2da331(0xee)]),c[_0x2da331(0x12a)]=_0x2da331(0x114),c['fillRect'](0x0,0x0,canvas[_0x2da331(0xdd)],canvas[_0x2da331(0xee)]),renderStars(),map['renderBackground'](),map[_0x2da331(0xf7)](),map['renderBgTiles'](),player[_0x2da331(0xe0)](),checkCollisions(),map[_0x2da331(0xd2)](),map[_0x2da331(0x104)](),player['render'](),playerInterface['render'](),map[_0x2da331(0x138)](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0x553ff0=_0x473bec;player['x']=map['spawnPoint']['x'],player['y']=map[_0x553ff0(0x127)]['y'],map[_0x553ff0(0x11f)]=map['map'];var _0x4594da=[];for(let _0x1ca05f=map[_0x553ff0(0x11f)][_0x553ff0(0xdb)]-0x1;_0x1ca05f>=0x0;_0x1ca05f--){switch(map[_0x553ff0(0x11f)][_0x1ca05f][_0x553ff0(0xfc)]){case 0xd:map[_0x553ff0(0xfa)][_0x553ff0(0x14b)](new Monster(map['tiles'][_0x1ca05f]['x'],map[_0x553ff0(0x11f)][_0x1ca05f]['y'])),_0x4594da[_0x553ff0(0x14b)](_0x1ca05f);break;case 0xe:map['enemies'][_0x553ff0(0x14b)](new TeaMonster(map[_0x553ff0(0x11f)][_0x1ca05f]['x'],map['tiles'][_0x1ca05f]['y'])),_0x4594da[_0x553ff0(0x14b)](_0x1ca05f);break;case 0xf:map[_0x553ff0(0xfa)][_0x553ff0(0x14b)](new MageMonster(map[_0x553ff0(0x11f)][_0x1ca05f]['x'],map[_0x553ff0(0x11f)][_0x1ca05f]['y'])),_0x4594da[_0x553ff0(0x14b)](_0x1ca05f);break;}}for(let _0x4f696f=0x0;_0x4f696f<_0x4594da[_0x553ff0(0xdb)];_0x4f696f++){map[_0x553ff0(0x11f)][_0x553ff0(0x153)](_0x4594da[_0x4f696f],0x1);}}