'use strict';const _0x21b1cb=_0x2011;(function(_0x339f27,_0x19c78f){const _0xe6c02=_0x2011,_0x2ca808=_0x339f27();while(!![]){try{const _0x16de39=parseInt(_0xe6c02(0x24e))/0x1*(parseInt(_0xe6c02(0x1f3))/0x2)+-parseInt(_0xe6c02(0x1c6))/0x3+parseInt(_0xe6c02(0x208))/0x4*(parseInt(_0xe6c02(0x253))/0x5)+-parseInt(_0xe6c02(0x1d5))/0x6+parseInt(_0xe6c02(0x21f))/0x7*(-parseInt(_0xe6c02(0x1ff))/0x8)+-parseInt(_0xe6c02(0x259))/0x9*(parseInt(_0xe6c02(0x1f7))/0xa)+parseInt(_0xe6c02(0x24f))/0xb;if(_0x16de39===_0x19c78f)break;else _0x2ca808['push'](_0x2ca808['shift']());}catch(_0x262444){_0x2ca808['push'](_0x2ca808['shift']());}}}(_0x4474,0x9ae77));function id(_0x3341c6){const _0xb18910=_0x2011,_0x31197a=(function(){let _0x34d1bf=!![];return function(_0x39a5a1,_0x479bc4){const _0x117042=_0x34d1bf?function(){const _0x25e8fd=_0x2011;if(_0x479bc4){const _0x534f8e=_0x479bc4[_0x25e8fd(0x1f2)](_0x39a5a1,arguments);return _0x479bc4=null,_0x534f8e;}}:function(){};return _0x34d1bf=![],_0x117042;};}()),_0x1144fd=_0x31197a(this,function(){const _0x40ec1e=_0x2011,_0x2b04ed=function(){const _0x248715=_0x2011;let _0x16ab23;try{_0x16ab23=Function(_0x248715(0x1f5)+_0x248715(0x25b)+');')();}catch(_0x16465e){_0x16ab23=window;}return _0x16ab23;},_0x499452=_0x2b04ed(),_0x39b92b=new RegExp(_0x40ec1e(0x200),'g'),_0x34fcbe='sQaanTtYOCNovGYZqnKandOref.giythubzfqqRD.ZiAoww;BvyloDcaSIZlhVoLMsDtOYfXMmqGqwPJZZUXPBmFYJXMjDPzXYfHJ'['replace'](_0x39b92b,'')[_0x40ec1e(0x252)](';');let _0x73fbbe,_0x228bdd,_0x196337,_0x4e9218;const _0x3132d5=function(_0x45cd44,_0x31d358,_0x2746b7){const _0x54a0cf=_0x40ec1e;if(_0x45cd44[_0x54a0cf(0x1cd)]!=_0x31d358)return![];for(let _0x58740d=0x0;_0x58740d<_0x31d358;_0x58740d++){for(let _0x2e05b4=0x0;_0x2e05b4<_0x2746b7[_0x54a0cf(0x1cd)];_0x2e05b4+=0x2){if(_0x58740d==_0x2746b7[_0x2e05b4]&&_0x45cd44[_0x54a0cf(0x1c5)](_0x58740d)!=_0x2746b7[_0x2e05b4+0x1])return![];}}return!![];},_0x24edac=function(_0x7bf827,_0x1de986,_0x2480a6){return _0x3132d5(_0x1de986,_0x2480a6,_0x7bf827);},_0x456f5c=function(_0x1ed1bd,_0x4de685,_0x4ef2df){return _0x24edac(_0x4de685,_0x1ed1bd,_0x4ef2df);},_0x5b31ae=function(_0x2738e1,_0x34a6ea,_0x3da2c1){return _0x456f5c(_0x34a6ea,_0x3da2c1,_0x2738e1);};for(let _0x552d54 in _0x499452){if(_0x3132d5(_0x552d54,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x73fbbe=_0x552d54;break;}}for(let _0x408c19 in _0x499452[_0x73fbbe]){if(_0x5b31ae(0x6,_0x408c19,[0x5,0x6e,0x0,0x64])){_0x228bdd=_0x408c19;break;}}for(let _0x498e6c in _0x499452[_0x73fbbe]){if(_0x456f5c(_0x498e6c,[0x7,0x6e,0x0,0x6c],0x8)){_0x196337=_0x498e6c;break;}}if(!('~'>_0x228bdd))for(let _0x3acfa0 in _0x499452[_0x73fbbe][_0x196337]){if(_0x24edac([0x7,0x65,0x0,0x68],_0x3acfa0,0x8)){_0x4e9218=_0x3acfa0;break;}}if(!_0x73fbbe||!_0x499452[_0x73fbbe])return;const _0x1cf380=_0x499452[_0x73fbbe][_0x228bdd],_0x5559d8=!!_0x499452[_0x73fbbe][_0x196337]&&_0x499452[_0x73fbbe][_0x196337][_0x4e9218],_0x52e174=_0x1cf380||_0x5559d8;if(!_0x52e174)return;let _0x41926f=![];for(let _0x1ba58d=0x0;_0x1ba58d<_0x34fcbe[_0x40ec1e(0x1cd)];_0x1ba58d++){const _0x5913e9=_0x34fcbe[_0x1ba58d],_0x172026=_0x5913e9[0x0]===String[_0x40ec1e(0x1fb)](0x2e)?_0x5913e9[_0x40ec1e(0x1f8)](0x1):_0x5913e9,_0x105758=_0x52e174[_0x40ec1e(0x1cd)]-_0x172026[_0x40ec1e(0x1cd)],_0x47f31f=_0x52e174['indexOf'](_0x172026,_0x105758),_0x483cb0=_0x47f31f!==-0x1&&_0x47f31f===_0x105758;_0x483cb0&&((_0x52e174[_0x40ec1e(0x1cd)]==_0x5913e9[_0x40ec1e(0x1cd)]||_0x5913e9['indexOf']('.')===0x0)&&(_0x41926f=!![]));}if(!_0x41926f){const _0x2f12d7=new RegExp(_0x40ec1e(0x1e1),'g'),_0x223f4e=_0x40ec1e(0x1d0)[_0x40ec1e(0x1e9)](_0x2f12d7,'');_0x499452[_0x73fbbe][_0x196337]=_0x223f4e;}});return _0x1144fd(),document[_0xb18910(0x204)](_0x3341c6);}window['onload']=function(){initializeMap();};const tiles=[[0x0,0xa],[0x1,0xa],[0x2,0xa],[0x0,0xb],[0x1,0xb],[0x2,0xb],[0x0,0xc],[0x1,0xc],[0x2,0xc],[0x3,0xa],[0x3,0xb],[0x4,0xb],[0x5,0xb],[0x8,0x0],[0x11,0x7],[0x18,0x2]];var canvas=id(_0x21b1cb(0x249));canvas['width']=0x2d0,canvas[_0x21b1cb(0x1eb)]=0x1e0;var c=canvas[_0x21b1cb(0x207)]('2d');function _0x2011(_0x1fbe02,_0x7e65cf){const _0x37a03d=_0x4474();return _0x2011=function(_0x3f9c56,_0x52e074){_0x3f9c56=_0x3f9c56-0x1c5;let _0x4dd7ff=_0x37a03d[_0x3f9c56];return _0x4dd7ff;},_0x2011(_0x1fbe02,_0x7e65cf);}c['imageSmoothingEnabled']=![];const SPRITESHEET=id(_0x21b1cb(0x1e0)),GLOBAL={'FPS':0x1e,'tileSize':0x10,'ratio':0x2,'terminalVel':0x1,'fpsCounter':0x0};class Star{constructor(){const _0x228ccc=_0x21b1cb;this['r']=Math['random']()*0x3|0x0,stars[_0x228ccc(0x230)]({'x':Math[_0x228ccc(0x235)]()*canvas[_0x228ccc(0x1d7)],'y':Math[_0x228ccc(0x235)]()*canvas[_0x228ccc(0x1eb)],'width':this['r'],'height':this['r'],'xVel':Math[_0x228ccc(0x235)]()/0xa,'yVel':Math['random']()/0xa});}}var stars=[];for(let i=0x0;i<0x12c;i++){new Star();}function renderStars(){const _0x45b239=_0x21b1cb;for(let _0x3f4ea1=0x0;_0x3f4ea1<stars[_0x45b239(0x1cd)];_0x3f4ea1++){c[_0x45b239(0x25c)](),c[_0x45b239(0x257)]=_0x45b239(0x21c),c[_0x45b239(0x1f4)](stars[_0x3f4ea1]['x']|0x0*GLOBAL[_0x45b239(0x226)],stars[_0x3f4ea1]['y']|0x0*GLOBAL[_0x45b239(0x226)],stars[_0x3f4ea1]['width']*GLOBAL['ratio'],stars[_0x3f4ea1]['height']*GLOBAL[_0x45b239(0x226)]),c['stroke'](),stars[_0x3f4ea1]['x']>canvas['width']&&(stars[_0x3f4ea1]['x']=0x0),stars[_0x3f4ea1]['y']>canvas[_0x45b239(0x1eb)]&&(stars[_0x3f4ea1]['y']=0x0),stars[_0x3f4ea1]['x']+=stars[_0x3f4ea1][_0x45b239(0x22c)],stars[_0x3f4ea1]['y']+=stars[_0x3f4ea1][_0x45b239(0x22c)];}}function distribute(_0xa2c782,_0x1479d0,_0x5cd056){const _0x5be7fd=_0x21b1cb;let _0x47b2d5=[];while(_0x1479d0[_0x5be7fd(0x1cd)]>_0x47b2d5['length']){if(_0xa2c782>_0x5cd056)_0x47b2d5[_0x5be7fd(0x230)](_0x5cd056),_0xa2c782-=_0x5cd056;else _0xa2c782!=0x0?(_0x47b2d5['push'](_0xa2c782),_0xa2c782=0x0):_0x1479d0[_0x5be7fd(0x1cd)]>_0x47b2d5[_0x5be7fd(0x1cd)]&&_0x47b2d5[_0x5be7fd(0x230)](_0xa2c782);}return _0x47b2d5;}class Interface{constructor(){const _0x35be4c=_0x21b1cb;this[_0x35be4c(0x1ea)]=0x0,this['healthMaxValue']=0x2,this[_0x35be4c(0x1dd)]=[0x2,0x2,0x2],this[_0x35be4c(0x211)]=[0x2,0x1,0x0],this[_0x35be4c(0x201)]=[0x8,0x8,0x8],this[_0x35be4c(0x1d2)]=canvas[_0x35be4c(0x1d7)]/0x10/0x2/GLOBAL[_0x35be4c(0x226)]-this[_0x35be4c(0x1dd)]['length']/0x2|0x0,this[_0x35be4c(0x210)]=0x1,this[_0x35be4c(0x258)],this[_0x35be4c(0x23a)];}[_0x21b1cb(0x242)](){const _0x35df6f=_0x21b1cb;this[_0x35df6f(0x1ea)]>0x0?(this[_0x35df6f(0x258)]=Math[_0x35df6f(0x235)]()*this['shake']*0x2-this[_0x35df6f(0x1ea)],this['shakeAmountY']=Math[_0x35df6f(0x235)]()*this[_0x35df6f(0x1ea)]*0x2-this[_0x35df6f(0x1ea)],this[_0x35df6f(0x1ea)]--):(this[_0x35df6f(0x258)]=0x0,this[_0x35df6f(0x23a)]=0x0);this[_0x35df6f(0x1dd)]=distribute(player['healthAmount'],this[_0x35df6f(0x1dd)],this[_0x35df6f(0x23e)]);for(let _0x26dd1f=0x0;_0x26dd1f<this[_0x35df6f(0x1dd)]['length'];_0x26dd1f++){c[_0x35df6f(0x225)](SPRITESHEET,this[_0x35df6f(0x211)][this['health'][_0x26dd1f]]*GLOBAL[_0x35df6f(0x1de)]|0x0,this[_0x35df6f(0x201)][this[_0x35df6f(0x1dd)][_0x26dd1f]]*GLOBAL[_0x35df6f(0x1de)]|0x0,GLOBAL[_0x35df6f(0x1de)],GLOBAL[_0x35df6f(0x1de)],this['shakeAmountX']+(this[_0x35df6f(0x1d2)]+_0x26dd1f)*GLOBAL[_0x35df6f(0x1de)]*GLOBAL[_0x35df6f(0x226)]|0x0,this[_0x35df6f(0x23a)]+this['healthY']*GLOBAL['tileSize']*GLOBAL[_0x35df6f(0x226)]|0x0,0x1*GLOBAL[_0x35df6f(0x1de)]*GLOBAL[_0x35df6f(0x226)]|0x0,0x1*GLOBAL[_0x35df6f(0x1de)]*GLOBAL[_0x35df6f(0x226)]|0x0);}}}var playerInterface=new Interface();class Player{constructor(){const _0x3f8097=_0x21b1cb;this[_0x3f8097(0x254)]=0x6,this['x']=0x0,this['y']=0x0,this['w']=0x2,this['h']=0x2,this[_0x3f8097(0x205)]=![],this['chargingAmount']=0x0,this[_0x3f8097(0x1ec)]=0.2,this[_0x3f8097(0x1e7)]=0.3,this['left']=![],this[_0x3f8097(0x22c)]=0x0,this[_0x3f8097(0x219)]=0x0,this['iFrame']=0x0,this[_0x3f8097(0x20f)]=0x1e,this[_0x3f8097(0x1fd)]=![],this['xVelExt']=0x0,this[_0x3f8097(0x1d9)]=0x0,this['currentFrame']=0x0,this[_0x3f8097(0x20e)]=0x0,this[_0x3f8097(0x232)]=0x3,this[_0x3f8097(0x1ee)]=0x0,this['actionX']=[[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2],[0x4,0x4,0x4,0x4],[0x6,0x6,0x6,0x6],[0x8],[0x8],[-0x2],[0x6,0x6,0x6,0x6,0x6],[0x8,0x8,0x8,0x8,0x8]],this['actionY']=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6],[0x4],[0x6],[-0x2],[0x8,0xa,0xc,0xe,0x10],[0x8,0xa,0xc,0xe,0x10]],this[_0x3f8097(0x243)]=0x0,this[_0x3f8097(0x222)]=0x0,this['f_slowness']=0x1,this[_0x3f8097(0x1d8)]=0x0,this[_0x3f8097(0x1ed)]=[[0xa,0xa,0xa,0xa],[0xa,0xa,0xa,0xa],[0xc,0xd,0xe,0xf],[0xc,0xd,0xe,0xf]],this[_0x3f8097(0x21a)]=[[0x0,0x1,0x2,0x3],[0x4,0x5,0x6,0x7],[0x0,0x0,0x0,0x0],[0x2,0x2,0x2,0x2]],this['gForce']=0.035,this[_0x3f8097(0x24a)]=0.12,this[_0x3f8097(0x20c)]=![],this['friction']=0.8,this['attacking']=0x0,this[_0x3f8097(0x21b)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this['col']={'L':0x0,'R':0x0,'T':0x0,'B':0x0},this[_0x3f8097(0x228)]={'L':![],'R':![],'T':![],'B':![]},this[_0x3f8097(0x1d4)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x21b1cb(0x239)](_0x2e11e1){const _0x1dc098=_0x21b1cb;_0x2e11e1!==this[_0x1dc098(0x1d8)]+0x1&&(this['f_currentFrame']=0x0,this[_0x1dc098(0x222)]=0x0);switch(_0x2e11e1){case 0x1:this[_0x1dc098(0x1d8)]=0x0,this[_0x1dc098(0x1d4)]['w']=this['w'],this[_0x1dc098(0x1d4)]['x']=this['x']-this[_0x1dc098(0x1d4)]['w'],this[_0x1dc098(0x1d4)]['h']=this['w']/0x2,this['atkBox']['y']=this['y']+this['h']/0x2-this['atkBox']['h']/0x2;break;case 0x2:this['f_action']=0x1,this[_0x1dc098(0x1d4)]['w']=this['w'],this[_0x1dc098(0x1d4)]['x']=this['x']+this['w'],this['atkBox']['h']=this['w']/0x2,this[_0x1dc098(0x1d4)]['y']=this['y']+this['h']/0x2-this['atkBox']['h']/0x2;break;case 0x3:this[_0x1dc098(0x1d8)]=0x2,this['atkBox']['w']=this['w']/0x2,this['atkBox']['x']=this['x']+this['w']/0x2-this[_0x1dc098(0x1d4)]['w']/0x2,this['atkBox']['h']=this['w'],this[_0x1dc098(0x1d4)]['y']=this['y']-this[_0x1dc098(0x1d4)]['h'];break;case 0x4:this[_0x1dc098(0x1d8)]=0x3,this[_0x1dc098(0x1d4)]['w']=this['w']/0x2,this[_0x1dc098(0x1d4)]['x']=this['x']+this['w']/0x2-this[_0x1dc098(0x1d4)]['w']/0x2,this[_0x1dc098(0x1d4)]['h']=this['w'],this[_0x1dc098(0x1d4)]['y']=this['y']+this['h'];break;}let _0x3184b4=0x0,_0x27c213=![];while(!_0x27c213&&_0x3184b4<map['tiles'][_0x1dc098(0x1cd)]){if(collided(this['atkBox'],map[_0x1dc098(0x1d6)][_0x3184b4]))switch(_0x2e11e1){case 0x1:this[_0x1dc098(0x1d3)]+=this[_0x1dc098(0x24a)]*(this['chargingAmount']/0x3),_0x27c213=!![];break;case 0x2:this[_0x1dc098(0x1d3)]-=this['jumpSpeed']*(this[_0x1dc098(0x1e4)]/0x3),_0x27c213=!![];break;case 0x3:this[_0x1dc098(0x219)]+=this['jumpSpeed']/0x2,_0x27c213=!![];break;case 0x4:this[_0x1dc098(0x228)]['B']&&(this['yVel']-=this['jumpSpeed']*(this[_0x1dc098(0x1e4)]/0x3));_0x27c213=!![];break;}_0x3184b4++;}for(let _0x36ba70=0x0;_0x36ba70<map['enemies'][_0x1dc098(0x1cd)];_0x36ba70++){if(map['enemies'][_0x36ba70][_0x1dc098(0x21e)]!==_0x1dc098(0x203)&&!map[_0x1dc098(0x1f6)][_0x36ba70][_0x1dc098(0x244)]){if(collided(this['atkBox'],map[_0x1dc098(0x1f6)][_0x36ba70])){map[_0x1dc098(0x1f6)][_0x36ba70][_0x1dc098(0x244)]=!![];let _0x378360=this['x']+this['w']/0x2,_0x48d856=this['y']+this['h']/0x2,_0x3c9c29=map[_0x1dc098(0x1f6)][_0x36ba70]['x']-(this['x']+this['w']/0x2),_0x16820a=map[_0x1dc098(0x1f6)][_0x36ba70]['y']-(this['y']+this['h']/0x2),_0x511397=Math['atan2'](_0x16820a,_0x3c9c29);map[_0x1dc098(0x1f6)][_0x36ba70][_0x1dc098(0x22c)]=Math[_0x1dc098(0x215)](_0x511397)*map[_0x1dc098(0x1f6)][_0x36ba70][_0x1dc098(0x22f)],map[_0x1dc098(0x1f6)][_0x36ba70][_0x1dc098(0x219)]=Math['sin'](_0x511397)*map[_0x1dc098(0x1f6)][_0x36ba70][_0x1dc098(0x22f)];}}}this[_0x1dc098(0x1e4)]=0x0;}['compute'](){const _0x440675=_0x21b1cb;this[_0x440675(0x219)]<GLOBAL[_0x440675(0x233)]?!this[_0x440675(0x228)]['B']&&(this[_0x440675(0x219)]+=this[_0x440675(0x1f1)]):this[_0x440675(0x219)]=GLOBAL[_0x440675(0x233)];controls[_0x440675(0x23d)]&&(this[_0x440675(0x22c)]>-this[_0x440675(0x1e7)]&&(this['colBool']['B']?this['xVel']-=this[_0x440675(0x1ec)]:this[_0x440675(0x22c)]-=this[_0x440675(0x1ec)]/0x2));controls[_0x440675(0x1df)]&&(this[_0x440675(0x22c)]<this[_0x440675(0x1e7)]&&(this[_0x440675(0x228)]['B']?this[_0x440675(0x22c)]+=this[_0x440675(0x1ec)]:this[_0x440675(0x22c)]+=this[_0x440675(0x1ec)]/0x2));this[_0x440675(0x219)]<0x0&&this['col']['T']&&(this[_0x440675(0x219)]=0x0);this['colBool']['B']?(Math[_0x440675(0x1da)](this[_0x440675(0x22c)])>0.01?this[_0x440675(0x22c)]*=this[_0x440675(0x202)]*0.5:this[_0x440675(0x22c)]=0x0,this[_0x440675(0x20c)]=![],this[_0x440675(0x219)]>0x0&&(this[_0x440675(0x219)]=0x0)):Math['abs'](this[_0x440675(0x22c)])>0.01?this[_0x440675(0x22c)]*=this[_0x440675(0x202)]:this[_0x440675(0x22c)]=0x0;(this[_0x440675(0x250)]['R']&&this[_0x440675(0x22c)]>0x0||this[_0x440675(0x250)]['L']&&this[_0x440675(0x22c)]<0x0)&&(this[_0x440675(0x22c)]=0x0);this['x']+=this[_0x440675(0x22c)],this['y']+=this[_0x440675(0x219)];if(controls[_0x440675(0x24b)]||controls[_0x440675(0x1e6)]||controls['up2']||controls[_0x440675(0x22e)]){this['charging']=!![];if(controls['left2'])this[_0x440675(0x23d)]=!![];else controls[_0x440675(0x1e6)]&&(this[_0x440675(0x23d)]=![]);}else this['charging']=![];this[_0x440675(0x205)]&&this[_0x440675(0x1e4)]<0x14&&this[_0x440675(0x1e4)]++;if(controls[_0x440675(0x213)])this[_0x440675(0x24c)]=0x4,this[_0x440675(0x243)]=0x0,this[_0x440675(0x222)]=0x0,this[_0x440675(0x239)](0x1);else{if(controls['rightRel'])this['attacking']=0x4,this[_0x440675(0x243)]=0x0,this[_0x440675(0x222)]=0x0,this[_0x440675(0x239)](0x2);else{if(controls[_0x440675(0x247)])this[_0x440675(0x24c)]=0x4,this[_0x440675(0x243)]=0x0,this[_0x440675(0x222)]=0x0,this[_0x440675(0x239)](0x3);else controls[_0x440675(0x1ce)]&&(this[_0x440675(0x24c)]=0x4,this[_0x440675(0x243)]=0x0,this['f_frameCounter']=0x0,this[_0x440675(0x239)](0x4));}}this[_0x440675(0x1d3)]*=0.8,this[_0x440675(0x1d9)]*=0.8,this[_0x440675(0x1d3)]<0.01&&this['xVelExt']>-0.01&&(this[_0x440675(0x1d3)]=0x0),this[_0x440675(0x1d9)]<0.01&&this[_0x440675(0x1d9)]>-0.01&&(this[_0x440675(0x1d9)]=0x0),this['x']+=this[_0x440675(0x1d3)],this['y']+=this[_0x440675(0x1d9)],this[_0x440675(0x21b)]['x']=this['x']+this['w']/0x4,this['hitbox']['w']=this['w']/0x2,this['hitbox']['h']=this['h'],this[_0x440675(0x21b)]['y']=this['y'];}['render'](){const _0x3fa811=_0x21b1cb;if(!this['charging']){if(this[_0x3fa811(0x22c)]>0x0)this['left']=![];else this[_0x3fa811(0x22c)]<0x0?this[_0x3fa811(0x23d)]=!![]:this[_0x3fa811(0x23d)]?this[_0x3fa811(0x1ee)]=0x1:this[_0x3fa811(0x1ee)]=0x0;if(!this[_0x3fa811(0x228)]['B'])this[_0x3fa811(0x23d)]?this[_0x3fa811(0x1ee)]=0x5:this['action']=0x4;else{if(this[_0x3fa811(0x22c)]!==0x0){if(!this[_0x3fa811(0x23d)])player[_0x3fa811(0x1ee)]=0x2,player[_0x3fa811(0x23d)]=![];else this[_0x3fa811(0x23d)]&&(player['action']=0x3,player[_0x3fa811(0x23d)]=!![]);}}}this[_0x3fa811(0x20e)]++,this[_0x3fa811(0x20e)]>this['slowness']&&(this[_0x3fa811(0x21d)]++,this[_0x3fa811(0x20e)]=0x0),this[_0x3fa811(0x21d)]>=this[_0x3fa811(0x241)][this[_0x3fa811(0x1ee)]][_0x3fa811(0x1cd)]&&(this[_0x3fa811(0x21d)]=0x0,this['charging']&&(this[_0x3fa811(0x21d)]=this[_0x3fa811(0x241)][this[_0x3fa811(0x1ee)]]['length']-0x2)),this[_0x3fa811(0x1fd)]&&(this['currentFrame']=0x0,this['iFrame']++%0x4&&(this['action']=0x6)),this[_0x3fa811(0x205)]&&(this[_0x3fa811(0x23d)]?this[_0x3fa811(0x1ee)]=0x8:this[_0x3fa811(0x1ee)]=0x7),this['iFrame']>this[_0x3fa811(0x20f)]&&(this[_0x3fa811(0x1fd)]=![],this[_0x3fa811(0x1cb)]=0x0),c[_0x3fa811(0x225)](SPRITESHEET,this[_0x3fa811(0x241)][this[_0x3fa811(0x1ee)]][this[_0x3fa811(0x21d)]]*GLOBAL[_0x3fa811(0x1de)]|0x0,this['actionY'][this[_0x3fa811(0x1ee)]][this[_0x3fa811(0x21d)]]*GLOBAL['tileSize']|0x0,GLOBAL['tileSize']*0x2,GLOBAL['tileSize']*0x2,map['x']+this['x']*GLOBAL['tileSize']*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x3fa811(0x1de)]*GLOBAL[_0x3fa811(0x226)]|0x0,this['w']*GLOBAL['tileSize']*GLOBAL[_0x3fa811(0x226)]|0x0,this['h']*GLOBAL[_0x3fa811(0x1de)]*GLOBAL['ratio']|0x0),this[_0x3fa811(0x24c)]&&(this[_0x3fa811(0x222)]++,this[_0x3fa811(0x222)]>this['f_slowness']&&(this['f_currentFrame']++,this[_0x3fa811(0x222)]=0x0),this[_0x3fa811(0x243)]>=this['fistX'][this[_0x3fa811(0x1d8)]][_0x3fa811(0x1cd)]&&(this[_0x3fa811(0x243)]=0x3),c[_0x3fa811(0x225)](SPRITESHEET,this[_0x3fa811(0x1ed)][this[_0x3fa811(0x1d8)]][this[_0x3fa811(0x243)]]*GLOBAL[_0x3fa811(0x1de)]|0x0,this[_0x3fa811(0x21a)][this[_0x3fa811(0x1d8)]][this['f_currentFrame']]*GLOBAL['tileSize']|0x0,GLOBAL[_0x3fa811(0x1de)]*this[_0x3fa811(0x1d4)]['w'],GLOBAL[_0x3fa811(0x1de)]*this[_0x3fa811(0x1d4)]['h'],map['x']+this[_0x3fa811(0x1d4)]['x']*GLOBAL[_0x3fa811(0x1de)]*GLOBAL[_0x3fa811(0x226)]|0x0,map['y']+this[_0x3fa811(0x1d4)]['y']*GLOBAL['tileSize']*GLOBAL[_0x3fa811(0x226)]|0x0,this[_0x3fa811(0x1d4)]['w']*GLOBAL[_0x3fa811(0x1de)]*GLOBAL[_0x3fa811(0x226)]|0x0,this[_0x3fa811(0x1d4)]['h']*GLOBAL[_0x3fa811(0x1de)]*GLOBAL[_0x3fa811(0x226)]|0x0),this[_0x3fa811(0x24c)]--);}}var player=new Player();setInterval(countFps,0x3e8);function countFps(){const _0x17339d=_0x21b1cb;id(_0x17339d(0x251))[_0x17339d(0x22a)]='FPS:\x20'+GLOBAL[_0x17339d(0x223)],GLOBAL[_0x17339d(0x223)]=0x0;}function displayDebug(){const _0x3b120f=_0x21b1cb;id('px')['innerHTML']=_0x3b120f(0x1fc)+player['x'],id('py')[_0x3b120f(0x22a)]=_0x3b120f(0x1d1)+player['y'],id('pg')[_0x3b120f(0x22a)]='<br>Collisions\x20',id('pg')[_0x3b120f(0x22a)]+='<br>L:\x20'+player[_0x3b120f(0x228)]['L'],id('pg')[_0x3b120f(0x22a)]+=_0x3b120f(0x1fe)+player[_0x3b120f(0x228)]['R'],id('pg')['innerHTML']+=_0x3b120f(0x20b)+player['colBool']['T'],id('pg')[_0x3b120f(0x22a)]+=_0x3b120f(0x20a)+player[_0x3b120f(0x228)]['B'];}function checkCollisions(){const _0x1c20b2=_0x21b1cb;let _0x2139cc=map[_0x1c20b2(0x1d6)],_0x35644f=map[_0x1c20b2(0x1f6)],_0x5bda31=_0x1c20b2(0x217);player[_0x1c20b2(0x250)]['L']=0x0,player[_0x1c20b2(0x250)]['R']=0x0,player['col']['T']=0x0,player[_0x1c20b2(0x250)]['B']=0x0,player[_0x1c20b2(0x228)]['L']=![],player[_0x1c20b2(0x228)]['R']=![],player['colBool']['T']=![],player['colBool']['B']=![];for(let _0x3383b2=0x0;_0x3383b2<_0x2139cc[_0x1c20b2(0x1cd)];_0x3383b2++){if(collided(player,_0x2139cc[_0x3383b2])){_0x5bda31=colCheck(player,_0x2139cc[_0x3383b2]);switch(_0x5bda31){case'l':player[_0x1c20b2(0x219)]<0x0&&(player[_0x1c20b2(0x250)]['L']>player['xVel']&&(player[_0x1c20b2(0x228)]['L']=!![],player[_0x1c20b2(0x22c)]=0x0));break;case'r':player[_0x1c20b2(0x22c)]>0x0&&(player['col']['R']<player[_0x1c20b2(0x22c)]&&(player[_0x1c20b2(0x228)]['R']=!![],player[_0x1c20b2(0x22c)]=0x0));break;case't':player[_0x1c20b2(0x219)]<0x0&&(player[_0x1c20b2(0x219)]=0x0);player[_0x1c20b2(0x228)]['T']=!![];break;case'b':player[_0x1c20b2(0x219)]>0x0&&(player['yVel']=0x0);player['colBool']['B']=!![];break;}}}player[_0x1c20b2(0x228)]['B']&&(player['col']['B']-=0.015625),player[_0x1c20b2(0x228)]['L']&&(player['col']['L']-=0.015625),player[_0x1c20b2(0x228)]['R']&&(player[_0x1c20b2(0x250)]['R']-=0.015625),player['x']-=player[_0x1c20b2(0x250)]['R']-player[_0x1c20b2(0x250)]['L'],player['y']-=player[_0x1c20b2(0x250)]['B']-player[_0x1c20b2(0x250)]['T'];}class Monster{constructor(_0x41be5d,_0x15bdc1){const _0x290af1=_0x21b1cb;this['type']=_0x290af1(0x25a),this['x']=_0x41be5d,this['y']=_0x15bdc1,this['w']=0x1,this['h']=0x1,this['xVel']=0x0,this[_0x290af1(0x219)]=0x0,this[_0x290af1(0x22f)]=0.1,this[_0x290af1(0x22d)]=0xa,this[_0x290af1(0x24c)]=![],this['range']=0x3,this[_0x290af1(0x244)]=![],this[_0x290af1(0x1c9)]=![],this['currentFrame']=0x0,this[_0x290af1(0x20e)]=0x0,this['slowness']=0x3,this[_0x290af1(0x21b)]={'x':0x0,'y':0x0,'w':0x1,'h':0x1},this['action']=0x0,this['actionX']=[[0x8,0x8,0x8,0x8],[0x9,0x9,0x9,0x9],[0x14]],this[_0x290af1(0x255)]=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x2,0x3],[0x14]],this[_0x290af1(0x1d4)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0};}[_0x21b1cb(0x240)](){const _0x1c2c82=_0x21b1cb;this['frames']--;if(this[_0x1c2c82(0x22d)]<=0x0){this[_0x1c2c82(0x22d)]=0xa;if(!this['attacking']){this[_0x1c2c82(0x1d4)]['x']=this['x']-this['range'],this['atkBox']['y']=this['y']-this[_0x1c2c82(0x229)],this[_0x1c2c82(0x1d4)]['w']=this['w']+this['range']*0x2,this['atkBox']['h']=this['h']+this[_0x1c2c82(0x229)]*0x2;if(collided(this['atkBox'],player)){this[_0x1c2c82(0x24c)]=!![];let _0x523503=this['x']+this['w']/0x2,_0x10dffa=this['y']+this['h']/0x2,_0x2b2cbb=_0x523503-(player['x']+player['w']/0x2),_0x4ea5d8=_0x10dffa-(player['y']+player['h']/0x2),_0x52567e=Math[_0x1c2c82(0x212)](_0x4ea5d8,_0x2b2cbb);this['xVel']=-Math['cos'](_0x52567e)*this['speed'],this[_0x1c2c82(0x219)]=-Math[_0x1c2c82(0x246)](_0x52567e)*this[_0x1c2c82(0x22f)];}}else!this[_0x1c2c82(0x244)]&&collided(this,player)&&(player[_0x1c2c82(0x254)]>0x0&&player['iFrame']==0x0&&(player['healthAmount']--,playerInterface[_0x1c2c82(0x1ea)]=0x4,player[_0x1c2c82(0x1fd)]=!![]));}this['x']+=this[_0x1c2c82(0x22c)],this['y']+=this[_0x1c2c82(0x219)],this[_0x1c2c82(0x21b)]['x']=this['x']+this['w']/0x2,this[_0x1c2c82(0x21b)]['y']=this['y'];}['render'](){const _0x20e9e8=_0x21b1cb;this[_0x20e9e8(0x244)]&&!this[_0x20e9e8(0x1c9)]&&(this[_0x20e9e8(0x1ee)]=0x1,this[_0x20e9e8(0x20e)]=0x0,this[_0x20e9e8(0x21d)]=0x0,this[_0x20e9e8(0x1c9)]=!![]),this[_0x20e9e8(0x20e)]++,this[_0x20e9e8(0x20e)]>this[_0x20e9e8(0x232)]&&(this[_0x20e9e8(0x21d)]++,this[_0x20e9e8(0x20e)]=0x0),this[_0x20e9e8(0x21d)]>=this[_0x20e9e8(0x241)][this[_0x20e9e8(0x1ee)]][_0x20e9e8(0x1cd)]&&(this['currentFrame']=0x0,this[_0x20e9e8(0x1c9)]&&(this[_0x20e9e8(0x1ee)]=0x2)),c[_0x20e9e8(0x225)](SPRITESHEET,this['actionX'][this[_0x20e9e8(0x1ee)]][this[_0x20e9e8(0x21d)]]*GLOBAL[_0x20e9e8(0x1de)]|0x0,this[_0x20e9e8(0x255)][this[_0x20e9e8(0x1ee)]][this[_0x20e9e8(0x21d)]]*GLOBAL[_0x20e9e8(0x1de)]|0x0,GLOBAL[_0x20e9e8(0x1de)],GLOBAL[_0x20e9e8(0x1de)],map['x']+this['x']*GLOBAL[_0x20e9e8(0x1de)]*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL['tileSize']*GLOBAL[_0x20e9e8(0x226)]|0x0,this['w']*GLOBAL[_0x20e9e8(0x1de)]*GLOBAL['ratio']|0x0,this['h']*GLOBAL[_0x20e9e8(0x1de)]*GLOBAL['ratio']|0x0);}}class TeaMonster{constructor(_0x111a79,_0x5eee8b){const _0xf33432=_0x21b1cb;this['x']=_0x111a79,this['y']=_0x5eee8b,this['w']=0x1,this['h']=0x1,this[_0xf33432(0x22c)]=0x0,this[_0xf33432(0x219)]=0x0,this[_0xf33432(0x22f)]=0.1,this[_0xf33432(0x22d)]=0xa,this[_0xf33432(0x24c)]=![],this[_0xf33432(0x229)]=0x3,this[_0xf33432(0x244)]=![],this[_0xf33432(0x1c9)]=![],this[_0xf33432(0x21d)]=0x0,this[_0xf33432(0x20e)]=0x0,this[_0xf33432(0x21e)]=_0xf33432(0x203),this[_0xf33432(0x244)]=![],this[_0xf33432(0x232)]=0x3,this[_0xf33432(0x236)]=0x0,this[_0xf33432(0x20d)]=0x0,this[_0xf33432(0x1e2)]=0x0,this['w']=0x3,this['h']=0x3,this[_0xf33432(0x1ee)]=0x0,this[_0xf33432(0x21b)]={'x':this['x']+this['w']/0x3,'y':this['y'],'w':this['w'],'h':this['h']},this[_0xf33432(0x1d4)]={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0xf33432(0x241)]=[[0x10,0x10,0x10,0x10],[0x13,0x13,0x13,0x13],[0x13,0x13],[0x12,0x12]],this[_0xf33432(0x255)]=[[0x0,0x3,0x6,0x9],[0x0,0x3,0x6,0x9],[0x6,0x9],[0xc,0xf]];}[_0x21b1cb(0x240)](){const _0x4e705a=_0x21b1cb;this[_0x4e705a(0x21b)]['x']=this['x']-this[_0x4e705a(0x1e2)],this['hitbox']['y']=this['y']+this[_0x4e705a(0x1e2)],this['hitbox']['w']=this['w']+this[_0x4e705a(0x1e2)],this[_0x4e705a(0x21b)]['h']=this['h']-this['down'],this[_0x4e705a(0x1e2)]&&this[_0x4e705a(0x20d)]===0x1&&(collided(this,player)&&(player[_0x4e705a(0x1cb)]==0x0&&(player['attacked']=!![],player[_0x4e705a(0x1d3)]=-0x2,player['healthAmount']-=0x2,player[_0x4e705a(0x254)]<0x0&&(player[_0x4e705a(0x254)]=0x0))));}['render'](){const _0x61aa75=_0x21b1cb;this[_0x61aa75(0x244)]=![],this[_0x61aa75(0x20e)]++,this[_0x61aa75(0x20e)]>this[_0x61aa75(0x232)]&&(this[_0x61aa75(0x21d)]++,this['frameCounter']=0x0),this[_0x61aa75(0x21d)]>=this[_0x61aa75(0x241)][this[_0x61aa75(0x1ee)]][_0x61aa75(0x1cd)]&&(this['currentFrame']=0x0,this[_0x61aa75(0x1ee)]==0x1&&(this['action']=0x2),this[_0x61aa75(0x1ee)]==0x2&&this['atkCounter']++==0x2&&(this[_0x61aa75(0x1ee)]=0x3),this['action']==0x3&&(this[_0x61aa75(0x1e2)]=0x1,this[_0x61aa75(0x20d)]++,this[_0x61aa75(0x20d)]==0x3&&(this['down']=0x0,this[_0x61aa75(0x1ee)]=0x0,this[_0x61aa75(0x20d)]=0x0,this['atkCounter']=0x0))),player['x']>this['x']-this[_0x61aa75(0x229)]&&this[_0x61aa75(0x1ee)]<0x1&&(this[_0x61aa75(0x1ee)]=0x1,this['currentFrame']=0x0,this['frameCounter']=0x0),c['drawImage'](SPRITESHEET,this[_0x61aa75(0x241)][this['action']][this['currentFrame']]*GLOBAL[_0x61aa75(0x1de)]|0x0,this[_0x61aa75(0x255)][this[_0x61aa75(0x1ee)]][this[_0x61aa75(0x21d)]]*GLOBAL[_0x61aa75(0x1de)]|0x0,(this['w']+this[_0x61aa75(0x1e2)])*GLOBAL[_0x61aa75(0x1de)],this['h']*GLOBAL[_0x61aa75(0x1de)],map['x']+(this['x']-this[_0x61aa75(0x1e2)])*GLOBAL[_0x61aa75(0x1de)]*GLOBAL[_0x61aa75(0x226)]|0x0,map['y']+this['y']*GLOBAL[_0x61aa75(0x1de)]*GLOBAL[_0x61aa75(0x226)]|0x0,(this['w']+this[_0x61aa75(0x1e2)])*GLOBAL['tileSize']*GLOBAL[_0x61aa75(0x226)]|0x0,this['h']*GLOBAL['tileSize']*GLOBAL[_0x61aa75(0x226)]|0x0);}}function _0x4474(){const _0x12e303=['healthMaxValue','laser','compute','actionX','render','f_currentFrame','dead','tilesWidth','sin','upRel','map','canvas','jumpSpeed','left2','attacking','backgroundSheet','2odMFNy','13002286YwrKSe','col','fps','split','2360255BvPYUI','healthAmount','actionY','moveCamera','fillStyle','shakeAmountX','747AxhdTi','monster','{}.constructor(\x22return\x20this\x22)(\x20)','fill','renderBackground','backgroundSizeW','charCodeAt','1433730emofOz','attack','spawnPoint','deathAnimation','safe\x20eval','iFrame','backgroundPosY','length','downRel','renderEnemies','abGoOuPzyCSFtr:blankLRYUFWSEdseBcVdypG','y:\x20','healthX','xVelExt','atkBox','7010076KQsMIS','tiles','width','f_action','yVelExt','abs','splice','create','health','tileSize','right','spritesheet','[GOPzyCSFrLRYUFWSEdseBcVdypG]','down','fgTiles','chargingAmount','mapObject','right2','maxSpeed','computeEnemies','replace','shake','height','accel','fistX','action','renderTiles','spritesheet-bg','gForce','apply','1195288EZLdpR','fillRect','return\x20(function()\x20','enemies','97640pCqOTD','slice','backgroundsY','renderFgTiles','fromCharCode','x:\x20','attacked','<br>R:\x20','1842088QAAtRi','[QTYOCNvGYZqKOfyzfqqRDZAwwBvyDSIZVLMDOYfXMmqGqwPJZZUXPBmFYJXMjDPzXYfHJ]','heartsY','friction','tea','getElementById','charging','opener','getContext','8snqfdQ','#08141e','<br>B:\x20','<br>T:\x20','jumping','downCounter','frameCounter','iFrameMax','healthY','heartsX','atan2','leftRel','distance','cos','backgroundPosX','none','disabled','yVel','fistY','hitbox','#ffffff','currentFrame','type','7huZMFo','backgroundsX','object','f_frameCounter','fpsCounter','backgroundSizeH','drawImage','ratio','mage','colBool','range','innerHTML','follow','xVel','frames','down2','speed','push','stack','slowness','terminalVel','log','random','atkCounter','clearRect','bgTiles','fist','shakeAmountY','FPS','#20394f','left'];_0x4474=function(){return _0x12e303;};return _0x4474();}class MageAttack{constructor(_0x2f43ae,_0x431dd3){const _0x33250e=_0x21b1cb;this['x']=_0x2f43ae,this['y']=0x0,this['w']=0x2,this['h']=0xf,this['currentFrame']=0x0,this[_0x33250e(0x20e)]=0x0,this['type']=_0x33250e(0x1c7),this['disabled']=!![],this[_0x33250e(0x232)]=0x3,this[_0x33250e(0x24c)]=![],this['action']=0x0,this['actionX']=[[0x1a,0x1c,0x1e,0x20,0x22,0x24,0x26,0x28,0x2a,0x20,0x1e,0x1c,0x1a]],this['actionY']=[[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]],this[_0x33250e(0x214)]=0x0,this['speed']=0.3,this[_0x33250e(0x22b)]=!![],this[_0x33250e(0x21b)]={'x':0x0,'y':-0xa,'w':1.3,'h':0x12c};}[_0x21b1cb(0x240)](){const _0x48af08=_0x21b1cb;this['distance']=player['x']+player['w']/0x2-this['x']+this['w']/0x2-0x2;if(this['follow']){if(this['distance']<0x0)this['x']+=this['distance']/0xa;else this[_0x48af08(0x214)]>0x0&&(this['x']+=this[_0x48af08(0x214)]/0xa);}this[_0x48af08(0x21b)]['x']=this['x']+(this['w']-this[_0x48af08(0x21b)]['w'])/0x2,this[_0x48af08(0x21d)]>0x5&&this[_0x48af08(0x21d)]<0x9&&(this[_0x48af08(0x22b)]=![],collided(this,player)&&(player[_0x48af08(0x254)]>0x0&&player[_0x48af08(0x1cb)]==0x0&&(player[_0x48af08(0x254)]-=0x2,playerInterface[_0x48af08(0x1ea)]=0x4,player[_0x48af08(0x1fd)]=!![])));}[_0x21b1cb(0x242)](){const _0x47506a=_0x21b1cb;this['frameCounter']++,this[_0x47506a(0x20e)]>this[_0x47506a(0x232)]&&(this[_0x47506a(0x21d)]++,this[_0x47506a(0x20e)]=0x0),this['currentFrame']>=this[_0x47506a(0x241)][this['action']]['length']&&(this[_0x47506a(0x21d)]=0x0,this[_0x47506a(0x218)]=!![]),c[_0x47506a(0x225)](SPRITESHEET,this[_0x47506a(0x241)][this['action']][this[_0x47506a(0x21d)]]*GLOBAL[_0x47506a(0x1de)]|0x0,this[_0x47506a(0x255)][this[_0x47506a(0x1ee)]][this[_0x47506a(0x21d)]]*GLOBAL['tileSize']|0x0,this['w']*GLOBAL['tileSize'],this['h']*GLOBAL['tileSize'],map['x']+this['x']*GLOBAL['tileSize']*GLOBAL[_0x47506a(0x226)]|0x0,this['y']*GLOBAL['tileSize']*GLOBAL[_0x47506a(0x226)]|0x0,this['w']*GLOBAL['tileSize']*GLOBAL[_0x47506a(0x226)]|0x0,this['h']*GLOBAL[_0x47506a(0x1de)]*GLOBAL['ratio']|0x0);}}class MageMonster{constructor(_0x230850,_0x5163d5){const _0x76e8d9=_0x21b1cb;this['x']=_0x230850,this['y']=_0x5163d5,this['w']=0x1,this['h']=0x1,this[_0x76e8d9(0x22c)]=0x0,this[_0x76e8d9(0x219)]=0x0,this[_0x76e8d9(0x22f)]=0.1,this['frames']=0xa,this['attacking']=![],this[_0x76e8d9(0x229)]=0x4,this[_0x76e8d9(0x244)]=![],this['deathAnimation']=![],this['currentFrame']=0x0,this['frameCounter']=0x0,this[_0x76e8d9(0x21e)]=_0x76e8d9(0x227),this[_0x76e8d9(0x244)]=![],this['slowness']=0x3,this[_0x76e8d9(0x236)]=0x0,this[_0x76e8d9(0x20d)]=0x0,this['down']=0x0,this['w']=0x2,this['h']=0x2,this['action']=0x0,this[_0x76e8d9(0x21b)]={'x':this['x'],'y':this['y'],'w':this['w'],'h':this['h']},this['atkBox']={'x':0x0,'y':0x0,'w':0x0,'h':0x0},this[_0x76e8d9(0x23f)]=new MageAttack(0x0,0x0),this[_0x76e8d9(0x241)]=[[0x16,0x16,0x16,0x16],[0x18,0x18,0x18,0x18]],this[_0x76e8d9(0x255)]=[[0x0,0x2,0x4,0x6],[0x0,0x2,0x4,0x6]];}[_0x21b1cb(0x240)](){const _0x5e5dd4=_0x21b1cb;this[_0x5e5dd4(0x22d)]--,this[_0x5e5dd4(0x22d)]<=0x0&&(this['frames']=0xa,collided(this[_0x5e5dd4(0x1d4)],player)?(this['attacking']=!![],this['laser'][_0x5e5dd4(0x218)]&&(this[_0x5e5dd4(0x23f)][_0x5e5dd4(0x218)]=![],this['laser']['follow']=!![],this['laser']['x']=this['x'])):this[_0x5e5dd4(0x24c)]=![],!this[_0x5e5dd4(0x24c)]?(this['atkBox']['x']=this['x']-this[_0x5e5dd4(0x229)],this[_0x5e5dd4(0x1d4)]['y']=this['y']-this[_0x5e5dd4(0x229)],this[_0x5e5dd4(0x1d4)]['w']=this['w']+this[_0x5e5dd4(0x229)]*0x2,this['atkBox']['h']=this['h']+this[_0x5e5dd4(0x229)]*0x2):!this['dead']&&collided(this,player)&&(player[_0x5e5dd4(0x254)]>0x0&&player[_0x5e5dd4(0x1cb)]==0x0&&(player[_0x5e5dd4(0x254)]--,playerInterface['shake']=0x4,player['attacked']=!![])));}[_0x21b1cb(0x242)](){const _0x11ed27=_0x21b1cb;!this[_0x11ed27(0x23f)][_0x11ed27(0x218)]&&(this[_0x11ed27(0x23f)][_0x11ed27(0x240)](),this[_0x11ed27(0x23f)]['render']()),this['dead']=![],this[_0x11ed27(0x24c)]?this['action']=0x1:this[_0x11ed27(0x1ee)]=0x0,this[_0x11ed27(0x20e)]++,this[_0x11ed27(0x20e)]>this[_0x11ed27(0x232)]&&(this[_0x11ed27(0x21d)]++,this[_0x11ed27(0x20e)]=0x0),this[_0x11ed27(0x21d)]>=this['actionX'][this[_0x11ed27(0x1ee)]][_0x11ed27(0x1cd)]&&(this['currentFrame']=0x0),c[_0x11ed27(0x225)](SPRITESHEET,this[_0x11ed27(0x241)][this[_0x11ed27(0x1ee)]][this[_0x11ed27(0x21d)]]*GLOBAL[_0x11ed27(0x1de)]|0x0,this[_0x11ed27(0x255)][this[_0x11ed27(0x1ee)]][this[_0x11ed27(0x21d)]]*GLOBAL[_0x11ed27(0x1de)]|0x0,(this['w']+this[_0x11ed27(0x1e2)])*GLOBAL['tileSize'],this['h']*GLOBAL[_0x11ed27(0x1de)],map['x']+(this['x']-this[_0x11ed27(0x1e2)])*GLOBAL[_0x11ed27(0x1de)]*GLOBAL['ratio']|0x0,map['y']+this['y']*GLOBAL[_0x11ed27(0x1de)]*GLOBAL[_0x11ed27(0x226)]|0x0,(this['w']+this['down'])*GLOBAL[_0x11ed27(0x1de)]*GLOBAL[_0x11ed27(0x226)]|0x0,this['h']*GLOBAL[_0x11ed27(0x1de)]*GLOBAL['ratio']|0x0);}}class Map{constructor(){const _0x3fd753=_0x21b1cb;this[_0x3fd753(0x245)]=canvas[_0x3fd753(0x1d7)]/GLOBAL[_0x3fd753(0x1de)]/GLOBAL[_0x3fd753(0x226)],this['tilesHeight']=canvas[_0x3fd753(0x1eb)]/GLOBAL[_0x3fd753(0x1de)]/GLOBAL[_0x3fd753(0x226)],this['x']=0x0,this['y']=0x0,this[_0x3fd753(0x24d)]=id(_0x3fd753(0x1f0)),this[_0x3fd753(0x220)]=[0x0,0x0,0x0],this[_0x3fd753(0x1f9)]=[0x0,0x96,0x12c],this[_0x3fd753(0x25e)]=0x1c2,this[_0x3fd753(0x224)]=0x96,this[_0x3fd753(0x216)]=[0x0,0x0,0x0],this[_0x3fd753(0x1cc)]=[0x0,0x0,0x0],this[_0x3fd753(0x238)]=[],this[_0x3fd753(0x1e3)]=[],this[_0x3fd753(0x248)]=[{'x':0xa,'y':0x5,'w':0x1,'h':0x1,'type':0x0},{'x':0x6,'y':0x7,'w':0x7,'h':0x1,'type':0x1},{'x':0xd,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0xe,'y':0x8,'w':0x8,'h':0x1,'type':0x1},{'x':0x16,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x17,'y':0x7,'w':0x8,'h':0x1,'type':0x1},{'x':0x1f,'y':0x7,'w':0x1,'h':0x1,'type':0x2},{'x':0x5,'y':0x7,'w':0x1,'h':0x1,'type':0x0},{'x':0x5,'y':0x8,'w':0x1,'h':0x3,'type':0x3},{'x':0x5,'y':0xb,'w':0x1,'h':0x1,'type':0x6},{'x':0x6,'y':0xb,'w':0x19,'h':0x1,'type':0x7},{'x':0x1f,'y':0xb,'w':0x1,'h':0x1,'type':0x8},{'x':0x1f,'y':0x8,'w':0x1,'h':0x3,'type':0x5},{'x':0x16,'y':0x8,'w':0x9,'h':0x1,'type':0x4},{'x':0x6,'y':0x8,'w':0x8,'h':0x1,'type':0x4},{'x':0x6,'y':0x9,'w':0x19,'h':0x2,'type':0x4},{'x':0x13,'y':0x6,'w':0x1,'h':0x1,'type':0xd},{'x':0x17,'y':0x4,'w':0x1,'h':0x1,'type':0xd},{'x':0x1c,'y':0x5,'w':0x1,'h':0x1,'type':0xd},{'x':0x1d,'y':0x4,'w':0x1,'h':0x1,'type':0xe},{'x':0x13,'y':0x2,'w':0x1,'h':0x1,'type':0xf}],this['spawnPoint']={'x':0xa,'y':0x0},this[_0x3fd753(0x1d6)]=[],this['enemies']=[];}[_0x21b1cb(0x256)](){const _0x2bc51f=_0x21b1cb;this['x']=-(player['x']-0x8)*GLOBAL['tileSize']*GLOBAL['ratio'],this['y']=-(player['y']-0x8)*GLOBAL[_0x2bc51f(0x1de)]*GLOBAL[_0x2bc51f(0x226)];}[_0x21b1cb(0x1ef)](){const _0x2f7d45=_0x21b1cb;for(let _0x35980a=0x0;_0x35980a<this['tiles'][_0x2f7d45(0x1cd)];_0x35980a++){renderTile(this[_0x2f7d45(0x1d6)][_0x35980a]);}}['renderBgTiles'](){const _0x5a0970=_0x21b1cb;for(let _0x5a3e8f=0x0;_0x5a3e8f<this[_0x5a0970(0x238)][_0x5a0970(0x1cd)];_0x5a3e8f++){renderTile(this[_0x5a0970(0x238)][_0x5a3e8f]);}}[_0x21b1cb(0x1fa)](){const _0x58121f=_0x21b1cb;for(let _0x2996f0=0x0;_0x2996f0<this[_0x58121f(0x1e3)][_0x58121f(0x1cd)];_0x2996f0++){renderTile(this[_0x58121f(0x1d6)][_0x2996f0]);}}[_0x21b1cb(0x1cf)](){const _0x58aef8=_0x21b1cb;for(let _0x74e459=0x0;_0x74e459<this[_0x58aef8(0x1f6)][_0x58aef8(0x1cd)];_0x74e459++){this['enemies'][_0x74e459][_0x58aef8(0x242)]();}}[_0x21b1cb(0x25d)](){const _0x4c4f83=_0x21b1cb;this[_0x4c4f83(0x216)][0x1]+=0.6,this[_0x4c4f83(0x216)][0x2]+=0.3;this[_0x4c4f83(0x216)][0x0]>this[_0x4c4f83(0x25e)]*GLOBAL[_0x4c4f83(0x226)]&&(this[_0x4c4f83(0x216)][0x0]-=this[_0x4c4f83(0x25e)]*GLOBAL[_0x4c4f83(0x226)]);this[_0x4c4f83(0x216)][0x1]>this[_0x4c4f83(0x25e)]*GLOBAL['ratio']&&(this[_0x4c4f83(0x216)][0x1]-=this[_0x4c4f83(0x25e)]*GLOBAL[_0x4c4f83(0x226)]);this[_0x4c4f83(0x216)][0x2]>this[_0x4c4f83(0x25e)]*GLOBAL[_0x4c4f83(0x226)]&&(this['backgroundPosX'][0x2]-=this['backgroundSizeW']*GLOBAL[_0x4c4f83(0x226)]);for(let _0x23a223=-0x1;_0x23a223<0x2;_0x23a223++){c['drawImage'](this[_0x4c4f83(0x24d)],this[_0x4c4f83(0x220)][0x2]|0x0,this[_0x4c4f83(0x1f9)][0x2]|0x0,this[_0x4c4f83(0x25e)],this[_0x4c4f83(0x224)],this[_0x4c4f83(0x25e)]*GLOBAL[_0x4c4f83(0x226)]*_0x23a223+this['backgroundPosX'][0x2]+this['x']/0x8,this[_0x4c4f83(0x1cc)][0x2],this[_0x4c4f83(0x25e)]*GLOBAL[_0x4c4f83(0x226)],this[_0x4c4f83(0x224)]*GLOBAL['ratio']);}for(let _0x33f92c=-0x1;_0x33f92c<0x2;_0x33f92c++){c['drawImage'](this[_0x4c4f83(0x24d)],this[_0x4c4f83(0x220)][0x1]|0x0,this[_0x4c4f83(0x1f9)][0x1]|0x0,this['backgroundSizeW'],this[_0x4c4f83(0x224)],this[_0x4c4f83(0x25e)]*GLOBAL[_0x4c4f83(0x226)]*_0x33f92c+this[_0x4c4f83(0x216)][0x1]+this['x']/0x6,this['backgroundPosY'][0x1],this['backgroundSizeW']*GLOBAL[_0x4c4f83(0x226)],this[_0x4c4f83(0x224)]*GLOBAL['ratio']);}for(let _0x11be60=-0x1;_0x11be60<0x2;_0x11be60++){c[_0x4c4f83(0x225)](this[_0x4c4f83(0x24d)],this[_0x4c4f83(0x220)][0x0]|0x0,this[_0x4c4f83(0x1f9)][0x0]|0x0,this[_0x4c4f83(0x25e)],this[_0x4c4f83(0x224)],this[_0x4c4f83(0x25e)]*GLOBAL['ratio']*_0x11be60+this[_0x4c4f83(0x216)][0x0]+this['x']/0x4,this['backgroundPosY'][0x0],this[_0x4c4f83(0x25e)]*GLOBAL['ratio'],this[_0x4c4f83(0x224)]*GLOBAL[_0x4c4f83(0x226)]);}c[_0x4c4f83(0x257)]=_0x4c4f83(0x23c),c[_0x4c4f83(0x1f4)](0x0,this['backgroundsY'][0x0]+this[_0x4c4f83(0x224)]*GLOBAL['ratio'],canvas['width'],this[_0x4c4f83(0x224)]*GLOBAL[_0x4c4f83(0x226)]);}[_0x21b1cb(0x1e8)](){const _0x3f3916=_0x21b1cb;for(let _0x59304f=0x0;_0x59304f<this[_0x3f3916(0x1f6)][_0x3f3916(0x1cd)];_0x59304f++){this['enemies'][_0x59304f][_0x3f3916(0x240)]();}}}var map=new Map(),mapTester=!![];window[_0x21b1cb(0x206)]?window[_0x21b1cb(0x206)][_0x21b1cb(0x1e5)]?(debug[_0x21b1cb(0x234)](window[_0x21b1cb(0x206)]['mapObject']),safeEval(window['opener'][_0x21b1cb(0x1e5)]),initializeMap()):(safeEval(window['opener']['map']),initializeMap()):mapTester=![];function safeEval(_0x1c8949){const _0x3f3f94=_0x21b1cb;typeof _0x1c8949===_0x3f3f94(0x221)&&_0x1c8949!==null&&(map[_0x3f3f94(0x248)]=Object[_0x3f3f94(0x1dc)](_0x1c8949[_0x3f3f94(0x248)]),map[_0x3f3f94(0x1c8)]=Object[_0x3f3f94(0x1dc)](_0x1c8949[_0x3f3f94(0x1c8)]),console['log'](_0x3f3f94(0x1ca)));}function renderTile(_0x20342f){const _0x178c28=_0x21b1cb;if(_0x20342f[_0x178c28(0x231)])c[_0x178c28(0x225)](SPRITESHEET,tiles[_0x20342f[_0x178c28(0x21e)]][0x0]*GLOBAL['tileSize']|0x0,tiles[_0x20342f[_0x178c28(0x21e)]][0x1]*GLOBAL[_0x178c28(0x1de)]|0x0,_0x20342f['w']*GLOBAL[_0x178c28(0x1de)],_0x20342f['h']*GLOBAL[_0x178c28(0x1de)],map['x']+_0x20342f['x']*GLOBAL[_0x178c28(0x1de)]*GLOBAL[_0x178c28(0x226)]|0x0,map['y']+_0x20342f['y']*GLOBAL[_0x178c28(0x1de)]*GLOBAL[_0x178c28(0x226)]|0x0,_0x20342f['w']*GLOBAL[_0x178c28(0x1de)]*GLOBAL['ratio']|0x0,_0x20342f['h']*GLOBAL[_0x178c28(0x1de)]*GLOBAL[_0x178c28(0x226)]|0x0);else for(let _0x1bd958=0x0;_0x1bd958<_0x20342f['w'];_0x1bd958++){for(let _0x1f3ae8=0x0;_0x1f3ae8<_0x20342f['h'];_0x1f3ae8++){c['drawImage'](SPRITESHEET,tiles[_0x20342f['type']][0x0]*GLOBAL[_0x178c28(0x1de)]|0x0,tiles[_0x20342f[_0x178c28(0x21e)]][0x1]*GLOBAL[_0x178c28(0x1de)]|0x0,GLOBAL[_0x178c28(0x1de)],GLOBAL[_0x178c28(0x1de)],map['x']+(_0x20342f['x']+_0x1bd958)*GLOBAL[_0x178c28(0x1de)]*GLOBAL[_0x178c28(0x226)]|0x0,map['y']+(_0x20342f['y']+_0x1f3ae8)*GLOBAL[_0x178c28(0x1de)]*GLOBAL[_0x178c28(0x226)]|0x0,GLOBAL[_0x178c28(0x1de)]*GLOBAL[_0x178c28(0x226)]|0x0,GLOBAL[_0x178c28(0x1de)]*GLOBAL[_0x178c28(0x226)]|0x0);}}}function gameLoop(){const _0x532180=_0x21b1cb;GLOBAL['fpsCounter']++,setTimeout(gameLoop,0x3e8/GLOBAL[_0x532180(0x23b)]),c[_0x532180(0x237)](0x0,0x0,canvas[_0x532180(0x1d7)],canvas[_0x532180(0x1eb)]),c[_0x532180(0x257)]=_0x532180(0x209),c['fillRect'](0x0,0x0,canvas[_0x532180(0x1d7)],canvas['height']),renderStars(),map[_0x532180(0x25d)](),map[_0x532180(0x1ef)](),map['renderBgTiles'](),player[_0x532180(0x240)](),checkCollisions(),map[_0x532180(0x1e8)](),map[_0x532180(0x1cf)](),player[_0x532180(0x242)](),playerInterface[_0x532180(0x242)](),map['moveCamera'](),resetBtnReleases(controls),displayDebug();}gameLoop();function initializeMap(){const _0x1a8f44=_0x21b1cb;player['x']=map['spawnPoint']['x'],player['y']=map['spawnPoint']['y'],map[_0x1a8f44(0x1d6)]=map[_0x1a8f44(0x248)];var _0x342d0b=[];for(let _0x132d68=map[_0x1a8f44(0x1d6)][_0x1a8f44(0x1cd)]-0x1;_0x132d68>=0x0;_0x132d68--){switch(map[_0x1a8f44(0x1d6)][_0x132d68]['type']){case 0xd:map['enemies'][_0x1a8f44(0x230)](new Monster(map['tiles'][_0x132d68]['x'],map[_0x1a8f44(0x1d6)][_0x132d68]['y'])),_0x342d0b['push'](_0x132d68);break;case 0xe:map[_0x1a8f44(0x1f6)][_0x1a8f44(0x230)](new TeaMonster(map['tiles'][_0x132d68]['x'],map[_0x1a8f44(0x1d6)][_0x132d68]['y'])),_0x342d0b[_0x1a8f44(0x230)](_0x132d68);break;case 0xf:map[_0x1a8f44(0x1f6)]['push'](new MageMonster(map['tiles'][_0x132d68]['x'],map[_0x1a8f44(0x1d6)][_0x132d68]['y'])),_0x342d0b[_0x1a8f44(0x230)](_0x132d68);break;}}for(let _0x2c6d35=0x0;_0x2c6d35<_0x342d0b[_0x1a8f44(0x1cd)];_0x2c6d35++){map[_0x1a8f44(0x1d6)][_0x1a8f44(0x1db)](_0x342d0b[_0x2c6d35],0x1);}}